<!DOCTYPE html>

<html no_gl="true" lang="en" class="dcg-calculator-api-container"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>
window.int=setInterval(function(){
  if(document.querySelectorAll(".dcg-wrapper").length ==2){
  document.querySelectorAll(".dcg-wrapper")[0].remove()
    clearInterval(window.int)
}
})
</script>

<style>

  .align-right-container,.dcg-account-reminder{opacity:0 !important;}</style>
<style>

  @font-face{font-family:Abraham;src:url(data:application/font-woff;base64,d09GRk9UVE8AABesAAoAAAABsHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAGCAAAESoAAZxTwK+1TU9TLzIAAAFMAAAASAAAAGBqcY7HY21hcAAAArwAAAM/AAAM5C7FvppoZWFkAAAA9AAAAC8AAAA2C10Dp2hoZWEAAAEkAAAAHwAAACQGhwJ4aG10eAAAFzQAAAAkAAACiN3nXcBtYXhwAAABRAAAAAYAAAAGAKJQAG1ldGEAABdYAAAAUQAAAFXVMTtBbmFtZQAAAZQAAAEmAAACx11IF6xwb3N0AAAF/AAAAAwAAAAgAAMAAHgBY2BkYADh+nP6yvH8Nl8ZmJlfMADBlQ8P9BH0f3OmFGYjIJeZgQkkCgBSDwurAHgBY2BkYGBW+2/HwMD0myHl/xymX0ARVLAIAIH7BgMAAABQAACiAAB4AWNgZvrC+IWBlYGBqYtpNwMDQw+EZrzPYMjIxIAKmMEkC4QTAQQMDgy8GvbMav/tgJJGDCeBwoxghXLMcgwKQMgAAHxDCyh4AUzOuwkCYRBF4TP7frO7ghgZiBhbwGbagJFlWIAlmduFPckPN7jZx8wwHOAcXwIACJCDHbmcUbPJOUcecmE3JSc+csWBp1zbz8bcmjtzbx7Mo3kyz9awWOea5mlTtEBGyMGFvZwxcZNzNl5yYTcld35yxZW3XNvPxtyaO3NvHsyjeTLP1rBY55rm/6rGGFVDGAjCc5RcQFGws7Kxs7Gwj7pqMCaw6v3/wTwehJCE3Rm+z8B0s9rDXkWIoXiDW+Iq6DBDYXHwXigQEBH4v3wdFk4rZJT99VYxQrAz8ixrXVZV0/4xiUzE/26NEhVPgzaXJEUuyMmT6O1iMMnQx/Dc4jcz2FOUS64xsa+44T6WyWz9t3uYCjw2pgMsTk6amqn9A7mESTQAAHgBDMVlMwQBAADQt9gxY8Y3P0Bb3b2a1d3d3Vzccfx23peHIsUCVPxfRhgrCSOCJKBUgnKVqlSrUatOvQaRRk2atWjVpl2HTl269ejVp9+AQUOGxUaMGjNuwqQp02YkZs2Zt2DRkmUrVq1Zt2HTlm07du3Zd+DQkWMnTp05d+HSlWs3bt259+DRk2cvXr159+FTSlpGVk7el28FP379sU/fOE4GUBDHne1dh83BOdt/55yD78LJEBXX4BbUnIH+Y4opOIAlhOQZ/YrXjvS+EiJMhCgx4iRIkuKOe9JkyJLjgUeeeOaFV95454NP8hQoUqJMhSo16jRo0qJNhy7Qo8+AISPGTJgyY86CJSvWbNiyY8+BIyfOXIJAK15lx9uOwe/g13/dHz+//Nvq26+RWzISSn739U3+TtbCUrOI1C0qDYtJ0+LSsoS0LSkdS0nX7gS7l56lpW8ZGVhWhpaTkT3I2B5lYk8ytWeZ2YvM7VUW9iZLe5eVfcjaPmVjedlaQXZWlL2V5GBlOVpFTlaVs9XkYnX5wwI93TAAAAAQXa22bdt2O3tzyX28BV5AXAfFdQheh8V1RFxHxXVMXMfFdUJcJ8V1SlynxXUGXmfFdU5c58V1QVwXxXVJXJfFdUVcV8V1TVzXxXVDXDfhdQtet+F1B1534XUPXvfh9QBeD+H1CF6P4fUEXk/h9Qxez+H1Al4v4fUKXq/h9QZeb+H1Dl7v4fUBXh/h9Qlen+H1BV5f4fUNXt/h9QNeP+H1C16/4fUHXn/h9U9/EujaCAEAAGAg7u4CfcZmVC6X4hd4r3/qmoG6ZqiuGcVrxvGaSbxmGq+ZxWvm8ZpFvGYZr1mpa9bqmo26Zquu2alr9uqag7rmqK45qWvO6pqLuuaqrrmpa+7qmoe65qmuealr3uqaj7rm+y8pro4aAAAoCF4luLu7lIZD3F1I0mnezH3srHjLK+I9r4qPvCY+87r4yhviO2+Kn7wlfvO2+Ms7opB3RTHviVLeF+V8ICr5UFTzkajlY1HPJ6KRT0Uzn4lWPhftfCE6+VJ085Xo5WvRzzdikG/FMN+JUb4X4/wgJvlRTPOT+M/PYpZfxDy/isUS0BD9swB4AWNgZsALAAB9AAR4AVTRe3RU1RUG8O/bNzElREIAiSEPE9NoxIbm/aCyXAHkUUgoxKYBFpI7M2cyQ2bundyZSYAlVqstVowghVItlAq0gFiEghYFhTZVIxUVSSuIysMSpUBBYyFpinbIYa2u/nN/e+117t777EPEESTTql2O6TODlm1FLb/b9qhZqikaMB2QzO9NR2+G9GYYvZlxy/rn9b3ctzw+E4iX5Nj3hntSlmWCa+uGYZOAyEU5xmESpmEmZsMNP0JYhEfQjjVYj43Ygu3YjZfwCg6gA514C+/iCI7iI5xCNy6iB734mgkcxEQOZhJv5BAmcyhTOIzDOYI3cSRTeTPTOIrpzGAms3gLs5nDW5nLMazgBNaygfN4H+ezkSZddNNDRS+b6KOfC9jMAIO0aDPEFjoMM8IoW9nGB/kw27mGm7mdL3AfO3iQh3mUJ9jNC/yS/SIySIZKqmRJnnxLSmSsVMsUmSH1Mk880iyOLJIHZak8IatlrWyUZ2Wn7JH98rocki45LqflrFySK/KVEW8kGcONUUaOkW982yg3xhkTjWnGLGO20Wg01Ssn7Let7KIxhYWl35lkW5GwCniza8xm5cSSsfT1JyuwbKvg/x/NHTvt2IEJs8Ih063UQnfADLZE7YjyuAJWNOi6VrrJ8tiB2NmQctzKipjBWBA2Lc/AubDfagqokOkoK6C8kYHA8Tf5ImY4ohx/uDkUiIbddjBo+haFfMoKxZK2Jxwww77FyrFtS0Xa7IjPUcprRx2vvzVWcWFYtSpLXati+S3ltgO2FVZB/0AQUOGwaomagSZHmbEWLVEVjsSub0aqx0+YeM+kyVOmfnfa9JraGd+bOavu3u/X/6Bh9pzY9d3NKnJtQFcsGuh+PXd9Vrff7/Y77mgwanmUExvYUU2O2apMl9ujvE0+/4LmQNCyQy1OOBJtbVu4aPG1/5Wu6AzE/6sU8Qc8KrZrl6PM5th+BnYb23txZWGhpkhTrCnRlGrKNOWaCk2lpkpjalwat8ajURrvAEWFmiJNsaZEU6op05RrKjSVmiqNqXFp3BqPRml0v+JCTZGmWFOiKdWUaco1FZpKTZXG1Lg0bo1HozS6X0mhpkhTrCnRlGrKNOWaCk2lpkpjalwat8ajURovAD7GZXyc7XyCy7mCT3Ilf8ZVXM2fcw1/waf4NH/JtVzHX3E9f81nuIEbuYm/4W+5mVu4lc9yG5/j77idz3MHd/L33MXdfIEv8g/cw5f4MvdyH1/hq9zPA/wj/8QO/pmv8XW+wU6+yYP8C9/iIb7Nd/guD/M9HmEX/8q/8X0e5TF+wOP8kB/xY57gSZ7iaX7Cv/MMu/kpP+NZ/oPneJ4X+E9e5CV+zi/Ywy/5L17mFfayj/9mP//Dq/yKXwuEImJInMTLDZIg35BBkiiDJUlulCGSLEMlRYbJcBkhN8lISZWbJU1GSbpkSKZkyS2SLTlyq+TKNyVPbpPbJV/ukNHYYAAE4oAEIBGyAvEjkbAWiaORtAPJ5UjZhxHjMbITabVI70LWHGSfRK4XeeeR34o741CwEoXZKN6OsrtQcRBjG3DXadwdQvVlTLwfkwVTH8X0IahdhZmjUHcI9XVoOIa58zHvDBqb4focqg2+AizYhWAV7P2IbETbHVj0PO4vwwN78VA1Hn4DP6nBo0ewbDbaT2CFwspzWN2CNVfw9BKsM7D+p9iQjE2rsXkKtr6N5+7F9g+wsxG7uvFiAHu+wN4teHUMDuxGx1h0ZuHgJhwajXd24L1ydO3D++NxrBMf1uLjLpyag09OotuLz87jnIMLvbj0AHri0JOAngZcHozep9Cfi6tbiRLKm4yfwYRjTJzPpLNMDjPlKkcsY2oa09YzI49Z25hTxdz9vK2G+Ud4p8mCT1kYZHEPy5aw0uDYdo5L593PcPztnLiTkys49TVOn8baw5w5l3VnWG+zoY9zl/K+FDaupzuPahd9P2bzYFo5DG1juIrRDi6s4eLjXOLnDy/yR1E+0s+lD/GxBD7ezuWpfHIdV+X2ZQ35b3vXH1tXXcXvq5TcdRtFs8rohkPHCjRzndK0lrAR1iZbg6nGpzJmSUqmf1DTwQDdEn4IMoP6VWZeTP8QdGo3S5bGOKKsiUVTQjqXVTeYzKX9Z2Rdt1nMuh9dJm3f8d7PTb/t3mt4vcJp77t8EnLv+L737rnnns/9nPM95/s9vVLr//ffF4xI1fbyEmMKpeCba18x/r/Me09iYPzF7gYTfLTy9Zdk7J2uz5QYcb5Q8z2RtyoWiPPZI5dEDvQ8a9zghGEcDAZc/9TxDXzRG67/HH5s3OCEYe/w6mH/osk9rqSPLxo0uiKcE09tlsStQ6W+mOuP1YlcqPmROAt7tomcu73LuMEJwzgYDLj+qbgVX/SGk7/Hj40bnDDsHTq+4l90uNkVWfb9X+pqAiVwULbJz9pXG9WHNWMUJk59dRAo1LUdUKgrIvHwxiOxsN0kCvPdJlHkQjJItN+n+KNQOlP1ma939YTW5ddB6/KFBsPTa31wQuu3L0Drty8aDGe93jjoinHWt+yHNvF4r9QZImpoxPunCxFrO33A62oCTiQKYzBLUYCI3iyFXGhnKfluO6AwQlxIVucsJQKakNWJQmoSgVidsxN6ZHJhFPwY58jkQnIhNSEXEoVEIblQ6JGZLyQKo4FCD2AbVkjBpqLHJiUlGyckFZ8JKtfNkNSXKen2Af+LZf5wk//jVkgavtH4Qtr8z36Niy71lCnd3y9jZysK8875cwGFUV/CAyQ6rz3UCySGlWSRuM0iMUvSJBJlXWslkBj/BWX6y7Ai4ERU0dh46LCmpAk0DrbsDY9G2jBfNCE3crEtNIkLGruW1wVoDPBlL9mULWkqvoL7srDbli1p6n1J4uUlWywaLfgsGi08JX3fQGoCjdAFYTF0yY6WJ3WZcj8HIT07Wr7qfpy22iFTEs4q4SwOmMCGqmIgQVkTZ0d7BeSo2gQzmIElN2eisc+isRmSik8bX/YD06KxY/eEpOHFARpbIansaus/szw1QzSeT2aisQ+aT3c/VvPQ99NWXR4TNHbsmm90H5bVRFMM40YusmDcyOxOCDGMG6uBr+liAouvEDFBuLhx/OiazUCjfrQVF0+dqjeqAZ1RjxkjwIv00ty8GvV6NOtnXKdIFBKFXJtDBuH+FU5mqQl3lHLvEdcpfhTjQmpCLuR6e3LhzlAofP6YbnIRttMVETIFRk1k6chPRUYT48pgT298U8auPLhhAor7MqH4JQzEv3ki17pGXxOiMB81YRBJ28W5hSdRSBRGP7YgCmk7prjJhSy0EIVEIefIJv3kHOKUPpurIn/3z0Fx/tGyNzL5RXIn/0QQAKZaQvg/aQInfBHD2c8KB4MB685Yb4mQTdKjtz0lY4O/uZyD49S4kBUKaqIwmzlxZ4+Hws4q/3au++TrIpd+vkKc+d/uEzl/9m7j+qe1xh8uw2cG467BuP/Ffnzm/7jbuLiGwe/xmcG4K3LLS13iOB97V9l+/ZvrPPudXqWrDYhTV0Ti8UeHPU3OXZv/c7PuE+0y/sYL3ynxFLznQW943q03iVw+ftJ/SH/Z5QYnjOCA/zVucMIIfmLwczc4YSQ44KL+RXrf6/FEXP/OFv+N+3MDDgYDbnASuVD3CoZFzn0qZdzghGEcDAbc4IQvYhg/9kUkNg0n9bU4oKoFTC7OHYU1+a6J5TjuqmMlj3lDopCVPM46+D6RC2k7opAoZCWPHpkemTWRGKCQHpl/sJ5+jKsv2NCBlTmikLnemHhkemR6ZNZO2GKJrE4UEoWcnbDpIVuWsdEX22Ox9SZRyNiC7ebYpI2akAupCf9QPVtvEoVsvUlN2HqTCwZYdNadyhCFLPcRhWx6SBQShSz3EYW0HVPc5EIWWohCopBzZLbepM9m601yJzHJ1pust7D1JisU1IStN9l6k6032XqTrTfZVoSVPDb6IgpZyeOsg+8TuZC2IwqJQlby6JFpO7ZYIhfSI7PRFxt9cY5MFDK2IAqZ66VHJhdy7RmbHpJBiEKikBU8xoVsvcnWm3OIQjY9ZOtNopCxBVtvskkb281dqZ1xxznHaauTsVu6G3L0A2MLu/zThC3sxHntoV4p2FT0mLLm61orZexsRSF3WLNO9H7p89qa7Tkh8vKSLZKe135XSTgB4W5enDU124GTvEeis75l/4z9NsuJIZB4av3RqWSF28cdQ6WwGkNBA2UzNN75B/VX/JEvw3a6mgDsqiKgRBw0sVvvxVnQ3aDmnbn9ntvvR3LwnI0T/a/MRpw4uLV1hnFiZ5W+Fewea3XXeXrVjLWhNtZLczH4XGrCWFGcrp4felKAXnvHTdmKTEVvoLYF9bZsRaaqjUelKwKuE3JmJoaaOHuOjAbZnHCQCQdHSSTaK2w2x9Ka5TlLfJHgQ7aC58IfYA9IzIFYSd93fs8EEvG48BTxuIKHi1GDkexMDkbwKDGag3J0RaSTTbshR5kLOnY1KmtiyVNXjNNWddxoPix1JBKJsdAEEpSRaDM5RZV3q8YkZjbCnqfP9kr646XLcr1T40fXbMY7pWs/Z8cfa/UJy8SGE5HJSXx+2f36mRzAhNNzlXJODGLF6NSfiUbuPmc+kRDR58Too5B/xIr5KKKQKNRndcaH0Qc8d6GTEwkRciL7nDEIiDYnEiKMExsPHdZUxq5PbNlLwDMIICcSIhG1SQRQyAwONVHYSRX5/UcPf+vkrNjuFzfFQBOuSeT6qdwipPHgbXFZf0OvzCY8+cGH+qv4uLKZfCiJgSVbc62MtcpM5qdDK/PM8ntEagrvjNay1RigEe9VDOIMZm7onfNpzmxRyFavjBHnes6czJwz91lf1hz4stPwZQ9M78t2W1+2OHgxWoHEsgxfVl2uHln97Rjsp6sJfJmqCEAkFppYPmQT77lqfsp25BMzlZux7mbKTKXPzlSy8G5nKqHwjplKCutuIka7MZhCdOyaHxXaJSfGgEnYUl4BhfxzACE8M2MM/Wy2bq6KM5Vk00gsnH/QC2x5XWaMCHA3ZWN++iYMByEpG/NTJaEHMmLEuAE+AjFiqn4qTKoBk2mNZ2ESzngGWqiKiBEnxmAaQU5cXYguxsrzZsxTw/XA/UBOV00TvCq6Iuyrkvc2SVzzr+fQxTgHz9kMDnrf6Gdw0PuGifMPVxN54ovFcak1x7++wkRf9G1id09hDU7YmTpY1IafTdlRafaOUqzBiUbCSDpT9XOdiWPdmTnFR36bgcJko13Of8a4AaGAYKZHYZldVtIKFA7fiOX8bdmZOE0R2DGQmp29D1tUNcnqk6jNiYgVPzjgmUSPbZ/ExMmnT0hiZWlVich4+10il4p3ilxu8ERerrxf5OLIYu+D7hpX5N/bfyAy+uZCkf+0/FicT3Q8Ls41i3aLU/L83z0RBRvfEGf+8AZx5u171jscOiLOgqIz3gdrf+X6X3rC+3rFUu+Hqe96l0j+RGR0qNG/bKU/s/nrW5K+Ydk6JpU+9PXAN+yTxKdPHZ40cKc18GoYGB9YAw/dYQ18rzVw76SBt1oDt1sDH7AGXnXRGvhP1sBFfrx5tFmcawvv1dSWlUPGmlHi1YKv9zw3t68deHXs3UdHcqcCvrZIxvpfPRZ/mkBWaWXr7JIitbVVTMS+6lXMGeZJB1JwA5pVM9/OtUO60YTJEUmwUBrxenrEkMhtWwid2yvUa+rM2HMiF6GaeuLUhhXgxbB5MLCovWRTdh7s6r+nW7q/H7z4kZmoASGxSGIaaME8KZEY/ypYdm9cfTSSF99HDFNx8c9xEiLcoxPFnWK24xQ1iYYmRCE1iQCrE4WMLebeJkQhUUguJIMwtuDe7QhVh9j7kXxITRgbEoWMDf8HznRiLwAAeAFj6mJgYFzPkALCTL8Ypg0o/j0y7QeH/W+Y/SMTAwDIkfvpeAFjYGBgZIAAGRA7rTgnDcq2rFZKrSgJSy0qzszPU7JSMtQz1DNQ0lEqTk7MycxLd0tMLskvUrIyNNAzMjAxsDA0MzYyMzU2MDOsBQCPLBJ2AAAA) format('woff')}@font-face{font-family:Symbola;src:url(data:application/font-woff;base64,d09GRgABAAAAAChwABEAAAAAQywAAoUeAAAAAAAAAAAAAAAAAAAAAAAAAABHREVGAAAncAAAACcAAAAoAOQA5kdQT1MAACeYAAAAEAAAABAAGQAMR1NVQgAAJ6gAAADFAAABKKK+thVPUy8yAAAhrAAAAE8AAABWjIaoAWNtYXAAACH8AAABFwAAAdz2W760Y3Z0IAAAJQgAAABaAAAAWhEGDTtmcGdtAAAjFAAAAbEAAAJl2bQvp2dhc3AAACdkAAAADAAAAAwAAwAHZ2x5ZgAAAYAAAB5ZAAA15ITPRN9oZWFkAAAgmAAAADYAAAA2+zj5+2hoZWEAACGMAAAAIAAAACQPEwHJaG10eAAAINAAAAC7AAABLm4VHxRsb2NhAAAf/AAAAJoAAACaHqoSHm1heHAAAB/cAAAAIAAAACACRAsCbmFtZQAAJWQAAADmAAABoCEMPvNwb3N0AAAmTAAAARYAAAGdYezlm3ByZXAAACTIAAAAQAAAAEBey7t5eJytWwl8VNW5P+dusyQzuXe2TGayzJKZyWS74U4mk4FAAoEAAQKERSBgQBAVwSgooiKyKVShCuJCtRV5lrr33mHQFltNrXvbV9e4VGy12p/i89WndYFkLu87905CQJbQ9wK599xl5p7vf/7f/3zfd24Qg9rVb5j17F2IRgZUiMoQwn7BTwt+ATu4YCDiDAoJV0yK14YS+a58l3YyHK+ti0kuZn3v60x1e99q6pP71lZJl4+fV/2IutGW2Hf5req+WGlpjPyq33B7j8isepSiD117c+4HOFzn2XVgVJfJO2lh30v6PTGEKPQpPPlZ9iAyIS8SUYrBqCJtYpGdqcByoSgbemSLlKY4ckLO728pRbgC1QwrdWndgl7FAxG6Nl6bgP7lu5wOJ83hjU1NVVXwW8BMLQ5UVgaKpzLvNs1tgv/7RPoBli3zFBZ6yli2b14VdAF1qHupUexh5ESlCMsu8uS0jUMepiJlM5gr9iMbMlXIVknJ1x6NHQBSmBJ4G3mm02FAAo9d1Ch7TvCj7u6Pgjl2t/omrnSraVvRQfwAjsK/Bw4W2Yxu9d3MgcwB9V03eepyeOrUwU/N6Ukj/ak5iDw1xwBPzRt4Kk8ZwGIwlDwOxoOYa6Om6g/Eleqbbq0DVIv6tjpfexyOUJOoSTjiNkJH1PnwzJXUIbqd86II6kApN40q5EAs7WDRcEA4LMl5okzH0jb9GElYLhNlc49i90pS2sChEKBfHJEkJYorFINZsO3ncj2+0vwkUhw2wZaCg2QyCV2FsQlEQnZHYCS2sxyMUqIKw1BJ+SxdKxVhOlQnuRwGlq73+MO5qlp8RZF6zBIKeHGJ+qE3ELJgXHRFMaZyw36P+iH9fW4iYnpC/d2wYSwe/oQpksjdvNlSV2Z6EjfCKfWFJ01ldZbNYN3Dx95ktzO/QvloMkpxwCbZLMpUTLGyn8lOKWU1A6pNVpsJ6OUWZWMPAZfhPpMdUooxkmsMjHPKyJCmMddUoRT0j7dfgDGPC36AP+YXAHqn4JfY7aHMoWg080EkQgWiUSoYolqOH5WGQpn3yThvVa/Ca9C7QKJGlKIIx7ksx+2iLPSkjRwqhzEXSA+QYDGRLQMPd8DDFY4CXJFR0HANESgBOqdDJ0JdvBa3+Jckh1/esjvgsO7y+0efN/rKxXd/4zLm/fT3xQQRqojdTnWBh+UjmRYVA/sZ+cUAjJIzYJxmFTGn95JIhLmLmBGNwqdvh+6vgJ6bUPwE7zzRU82av+jO2e+jOSf5KK7KemTWDQkuSN1DJdn/QhY0Ffhv1ZiGuM9SZo38ZiC/kocr5DrPwZFP/zOMnBVmRjZXW2VTt0KxR2S6G+2naJO5Gn5wClqwl5s8WLPJgHWEMDgolaRUt8EfofCnsGV/zxmOMJ4oZ+D6PKBBM469QXezy1EuKkazUKqQWMayKAxW5oJ/EGcIEytLRNnUk3ZyyA2u4eQVC9aMhSPFB95gcRL+57AwTkixFYJrYCNlAtcg3sATx42E+USdzy7URsI+A+d0wCjmu3yJOnrFjLbV//po9YLJV+GPvaGR6i9HhrB/BJ47MsBs/nnmpj1fvfYAtX3Pd30vYeadK55+ZuXb0b1l/7zm/TfXAIYphOhF0PtidAFKFZO+IxY1kh5KqRzovmLK4X3dYtqondWsYHvSAoe8YB8rEKKzJhPxdc0KgRVscg5YYETQEJKySZC5pJxjk3kwJJEvAeUELhiXEprWCmBB/nAcc4aBQ4anJ+92mVb8x9EN5iKONuYtNTSPHD9aXd40vomqsAWZxrqmG62cv3cxzDWGJo6D3i+D3j8EvQ+hO8ES0vsSVtM/okyEX9DntNWO3BbYZdkWFmVnD/Q3zevzAs8rHAyFh0MuOCqVZA+fDnJoHBwERSUCRvFkaOjcEhgamRP2M6Z8N4yLHLTJIbC0hFhKJ2W7kGKCpeQeqy3FOT2aw8U0CsVrw8EAZ9C0XqNVnY8B1ecM2C/VJWL0Mje+7b0dNy26228wXzOquutTfB5GUyqvUWfiPVvLPLVJm9+Lf/v1e7e8vPp8akV105U/ff+DJ1Zf1rhaXeR/SL2T+MJcYOFBQGIE+gtK1RLrQxrvwGcJA8mIWkSCiA1aHjFdpF+tFtMRFjkILg2izPWkczjtjhxervD1COkajlyUa8R0hd7K4RUXoIV07ALknoSGXCqQIGQIFILXjQTQcmqAwsa8SBWBqkIgCAVsTSaqwFNkC8Vqk5romyxwE+LynOQmjyC7knKRTQYIqwXFl4B9xKYEamAfEuQ64gkOxhchkYSkCUOkGMeAUXwkXIEDoGaJUViD2iBpSJOYAzwm38VzhmJMH1T/pe5fu63pouZxktlcnVp4/aiaWONNy/01ft/aqy9c/OxMil474vwR1y3HBZdvfPD6HX/ASx79pH3BXfGxzRc24SntV3Zgz9wrqjhMGZ+9bemNGy+pbhhRs3n6+PHtat9L0aI/k4ikARj5NrsZ+VAQ/QilvGSGzBXTgj4EnCTnizKKpYP6cQnMkKWiHOgBd0sXc6gQzmEpVRwgUBaTmMEopQLFGrD5cOSWlJCuaPHt73+jK5obFK2gm1WCpiOMHOimUu6CAFE0pSB4XM+CRCtiUtbR4i4C20jsj+M6zQ1hSsL026+a7PtYZsYI9e/1M0ThMocp8xa1no9x1KvqvSqN5z5XbAuB3zXhsFDyXBP9eoHA+fom06a+7wgDlwEDiS/G0QsoFSZ2V8RkTky7dFMFMZ2jMU0uEtOUro9FFLGsyA+WxcR0OUvEEMt1ohzUApm74RYUJFqORCIx/H4HslrBr3UqmsS0VW8hXvEAKRkO5YOaJoB9QRO4bI5gJ+6IBNmfVDxWwZamMOcq0pgnuASbwhTA5RxBNhHapWhEfFYpj4E/xwnZ6nw2HmmRayw7ZR4nXDBgxWRC14IoKRvGkTuwawWeeEj97rf3fHBh5ciRlTa+6LGLd0wdFhpx9dwrZxiLHCZh33e353KO0ts+mD2Pppapn6u3ql98dE/X8MrKEeyFN22dha+beVPLwii1NcA1jGLz+bL7vcCsfg8vQcPQXpTKIz5eqHsxoFytoxzqx1Z2iGk3SxwTyxKZGdNRXeCQJEd5otUELnKC4WWBuLFLP3SJRN2hpcQAR1dUsB3AVq4wVE1c1CekKEceARXgtbs92mQVqgYnphkzgjsUt0PT/Sx6FJm1hFoIczUAdShjxEM58NSI1gBm6qhi50x80eGvnvqqa8aePV3/2B2fmbiI5ZLrpre+jg+HGzduHJcMe64Yu21MKfXof6qH1S3qp989ie1/wpcsHLNqeeXw+uiCWeKNfV9cvKdtww0Xbf/Phc3ztrYSZrYCci+zG1EBWodSBQQ3iz5LWAoIuSwwf6XscBqDMMo2bXYj6i/wih1gcuhHDl4xw5FBx8are2Gt4b2DxAtlCzhhLoQVZi2sgGAil7gghBe5luqTwgoDJzgCcR7b/TAlBO0xSJBifvplu/rJ+YH8ZzD6VLVcVV5UO66Wyi35APeyNT6vetWmD+9Se1auxOvxbXii95f4cYclANlXPyecwIpyTKGUhVhXMKD80eysXaHN2mEOlZEwnZe9ZMBB6scSRRfTXr0V1rU9j0PNcOQj9yDtI0qlbu6hja/kE3OtsoEHqVEKc47I9u79QqHdXrHfpm2LyRYu7w8aAnBYSrYpOOm72XdzkAMfTJKowJZMwRVyEEyiJpNBKCwutdkDwer+H3yqkwRFxeUFRhJcy6KaIxcAQ/ezKCdPD5VggiiFvDMMwVKdDzgHwp/vomvDAY6EGnX22mocIbGTrw7mg171EfUIrkos7vg7jv4js2ByaOntj/1l/7Liv79aOe0n6X+9gI79CS94+G8v7P38Dt+0xdj9wsPbnt1QH4teQU24fNeVz0xx7VyTuXnykktW3PTuxsd2okFeGkQx9GOU8pHxKNPHgxFJokS8lBfTZs03IUlND8vGh7WiXNyTrtK90EjAt+jtKl4pBfw9EhkNQr44OGaVEfTLbAO9KoU5NM04fGU1Gh5mHlzTaLERKSsbRqbXomKPjk02itTkTBcrbR6AkIzzUTwiSkZnnbIIZ2PLg+9veXBN2/zOaL3fW8oZmrZPGb+mwtuu3nkY0weWzvrvZwKjbr55fEWoCbPjEtQv1bVvbYqNWLkkMavQjSeLU3+/5vXXcD7ejHPiu9Q/vNLxi83TfjH7/imbN1x07Bh6CJzzWnoqHyEVhEwQ4rEyUDYKPQz5zo/oVZA1eNDFKJVL4jpei94Ip43ZOM4rytYemZVIom3XhK2/ZePTZi0lgswiZbaROcYMs6dSCLiZrUSsjLxTA4vPzaJImKNnGpKL1pKkgVgNhGlTI0k95jZFPJ3J4bGVt5Q4rJtorqqRpCJ9H+dDzvTG7u9dOfxdSMshv4Uc8k5kR116tiYzMQxyDDmO4tT9yDvzBb/uRyZeNncrguGIzHcf/PhR/TQrMyAnbLdiMxxRBN4oC93oAGsiI5v1jieYwYf98hIiZQWS2GtZC3DfhF3s9qiR6+3yepkdnDHq7n2aGeMuidJUmcXttlBldNSTk1Ezag6C8XgYz2C300kYDzNCx+p4A9mjV062iSU20bpN6Ac2yTT0nepWTGCT+bhNVhI5msxGOGeFLOGIbAObKJM557hNJBfLOdmm45mYKVuyIDZ5e7uINcyY3qfdYB+zw0u1uC2Zd4g5FPzkeKJ05h0L9PxydS81gj0M2Zmo5a9myORNosKQFNYiynSPYiYZI61ljCTg4iTFejxp90v6lhoxVr0Gbxk7Vv0DjsMmapgw/UgHfH8XfP9w7fv9SMaiwsL3GyE1zn4/p2Wk/d+Yzf79AdhSw9Vrxo7FcfUPsN2i7o1GuZ9PJ/xZou6lSY9jaA2SKTEt6eoBQWSe3gLNKDiuGdaedETXiQivGGEsbFK6kkNBEp1LqUqtJlBJDPNImnBEwAGUXJ5M3LkSNI0VMJvnCXIkKRfaFHtQ9wWiE6AUQi1sa4lCCCS8BlaRrAX+QeYGO1d/Cgf/6BHRx7smOiy3rfaXCl9ZHBNXyFHbT2aU57JO8Z57RCebWz7jJzb11/ltsdHll+LkVetNVJjDJYdw8tLy0bEpUcY0q2J8oFP9fG7FwqqqheVz1c87A+MrZpkYgsoD6h70LeT6pA6hVQwYHVnyq9cK7I5sPOb8Ngo/6suAaF8kAp+9FxBdBYjWEkQBR17HEbCN6a2wNlNqiMZF2dUDcXma0zEUpZSLIxi6rIBhRJI5nkz+/VJcB4gimJEUOkYQpcAnFS4fEI0Jsjcph21KiZhVl37QsqKSGEBVB5rgDVgTEdZQJZCu0pHsevwUSEblFTraVItAYFRfJDC25duzOGLn3HKCY8Vc7MziGJ1CoFdfJNATTEN4LZ2h/ohcaBrxDdkcI3nKSLCa1cjWoJUBMElZcnu0WAhpsZDiBqvtIJ0yRSJpGmw25MJ0kwfJv4LsWXsDpTCRaEEyiCoT02JkOnPrq+q7s7dWcHZb8Y4/48jse0ImVyF1e9eDn20qmpBc8dDhXw1DDLpRfYLbzn6NLEDdCWgSrkapSVjLKNKl+hRqlVIhOJOKkwm2TjuXqosTqa+rh3AOkfyjYGDCLZLSE6pK6y0VclMsPSEbFE0WZakn3cChYvis1EA+K9XBIFdJcgOvtGLiQOlyDvkYUkRNlbeSO8oJDVxSqrWcHLWWwlFIUqZkk7J3Dl08WNdp0Dmq+2Bs63s5+ukQL4chVZvkglSttZs6QCQv3JoVQP1o0qBYp4E4qKEe6NQqpArHNJPAu9wmI1IuLQD42aRcKsiGpFI1AY7KknJckBuSJ5ev7MeTP0iTDfH8gdyPVCFj+ISijObPA4kiFjD7F673tRx3GceIsE3dy5rXGri2yFulbcMn53LqQvxhXkHw3qO4eYWVnbb2d4tyw2zOAwZjc5X6elUz8zd1D7vFYjpyvVBmMXGbhCNfrLGZ7E0s24QdZmFNPbXdKWZ2UQ9SbpOTeq5k1Nyqvv+2mZ1wQ+Zu/L5aCuN4o/oktxy44EVRNBmHUMp4vLaTMmlVV1MODHkhGfJyMd3CIj9cadEGqKUVBmi4mI6zqACG0Sv2l7fskhwjMVZjlgxTtAg5TycDmzeoriXn8UoDjG+5RCodkGDKCV6pAWcYrZXa5UmSPJpPt+pZQquotJ3MBW3QlRLgQnE32l9cEgprwz3Q0oY6Ty+cyQ2C4nTBMCds+6vio1pI0lUj7K8ujDWS7Gp0K9w1GYa/pRwaVUl5uCBXw7DblJrR4IBa0S0PCGA/05ieQA58vEBlcA1Up1yDq1M/PvXQZgbzQp3vxJV7Lu7cOuKCePj8A9j4wkjffPVNXLTI4xhRTW364fjSYwfTwujyOHHZz7bPveFqanqw5rwVd+9e1z6lbJqasV+p9oIiNA9ShAVoId6JUgt/oAgLS8m4LSwDNhBxOEEAlIYyrZBZoxOnoYaIekMchrhZ40yjNnrpWXplonUWudw6jVT6F4ny9J50mz72bbxcT3gT45CT0coW9XqrjVeagBRV+m0TyD1zOEK61IQ5pFcTxpm0UL7zB7rSOVhXOjXadmZ15YJz05WFRFc6+3Wl8wRdWThIV+qnQ44QHz6Z6EmbINck5Qm2JrPYMKa5xdA6c1YHoVpnFXCpEPRGOIXeNDfo9GsR5A4QJ5s855xVx8H5Iv2VFYOWh8RrSRWPlPB0LmrTpLYiR8p3Q5aivvY/H0Odly0qr1/QumNORVCeHjwwe9t1TbP3L5rxznlLV8xcchN165BkiV645qf1o5fNGxZuZ2dNGD73/Zh5bcfOZuP4adPPrx82LNk5daPfu6VvnCZUoFQPIydEyVdDjGJHRSiBZLdWZ9XzFrJqIlvFtD2bvhSLsrdH5iVSd9EqrpJSctJ6ChpY/bANtI6vsWR+M7ZZFJvHVpPfamhriy6UsXnBmDELmvvWwwaaZJ6PoKeYDmYXTN5dSEaiwkFPGBFYBDGqQdSCRiBZQdfz4wYF8KzCGI6QLOTgPy54fp6eliC4guEKxx5RWMYIF1EKU6wWvSNM0QzLnZSR4Dh2mjDT0ftHprbvAvpnT+GeYfj189TL1GVaBAI9m9vfM4ieKb1n7Gl6RsHzaXg+LoKeocE9Y6oVijZqF1kWLnLQM0Rzp++ZCcfhP2bm9v6Rvq9vEVNLbVerZ+Od+M4OtRx69hB1CHLTx/SVKyMFMw6tVS8Ht7U4lNVKlXCU3Q2simnVLkgn8bWjZo2C//S48lGjyuEXvr1W7WTs9D2QM9yLUgaS3zp03aFJGzgzB9oGB5ECgwXUjIeHym5IuQKinKctLZNKsUmCVFfOzZYKCvUSf67esvFk1Zekxx79hIcn/OqP4IIQweXbwIkNWt2dTsolejTHF4E0sD6/vlyoGaGt6DsMQZhQYoIjJul7sr4fiTH2zp/PuvCdGSNDu0K337dhz66KUBuVeGrm1RvmfFgw5tCmx25m2MwlX7yymarL0JFxj8wmoy4d+5xpAOsDaBtK8USoDbGUn+DqYtEo6B3KlSDsDGoFEY+eyUP3C3Mq0oX6EaRAeksRwCarprOylSfYkzW1MQQcAgunaTMpnyhWAax1aOVeZ1KhTHBkBHtdJGIvLNZiVr+TJ2pDSiRCkOaI/tjseokyRqbFmJ9pUL9Z7rw/5P54Gn+HeemYZ5IjE5i/4UI6TCf2qjufD+eNef6GHfjqTNO2UTnFOIEfj5YymI/cAFZ3UkX0/dpKKjru4vT9oYw5EqG+zS6Z6vcZfnCf4f7QEbiPG7iPxEW7uTuzcdE4hM5hyncYaJKNkHyJt9clBtchhzLX4xz+zYlua3v7s3iPet9Mj6uhvp4yOPbim846z/fd6HGoRzv2nv/E7NmYwhb8ivUaLAkGhxbz7+auB3uK0XCI+c9DKDS4XkUmCTDQTmSQ117UCA3ZYHsdZFf9Ra2YxF3/0EUb549shThjjLgltpltXr39wEu3tDX/6qhwSvNZYbD59rKCyt9LxZ6q+fNvVo/smBssb59S7mvI9RVPwfblz+CcJ0MX/uIsOBz9zZi/NlzcPuyy4ZfUtENEeqP6lrE3O5ZxNB11nNN4kuVhn746fMZgPs4HA4KTj0lDGWV6WOOIDnVbB2zxlb1PnfoTrU/Dz9lHfUaXOuPSfXu68GOX7uu77Yd3442P4anq7Y+pSpbXV2exmHcuONjPNaQYCgz/dfZg4qzB7bGhhBFg+dSs5QE0Ay0Cy88emp9zFEWfgNjUMwXt9GtnNf2dwUhRY88Yw2eWDQUFdt0g4PpVblmWDQvOhQ00WSL2DazdVWB9kUlXguMrd6PwwMqds24ohJix5ZE/qt8+NjtUWxsyF1zdclF90FP+ZGvY5Csw515/2+IGqqC46+GGUdPOyoveC55Wf3PvpTMrA4HK4ZNm130XnzkxHMaP+5kyr81jLb4s7/MRWVYs01gxGy0ZGiv+DdPtQycGtXOoELx8DvxQ/3R2NJjVJ7GjOYtNDJBZCfPlv2H4uSciJyDF1g8VDNV+dil59IR5Vjg7IlT5ULwK/88JuDGoiuDG0TDXtqOFaDEgd5Zs7f/MKEjfqG9Ok7FRzUPF8I3B+PQl1D109FSJW+ahc+RS5td6DscMmn0SEFXNPIviSC5efzGrTl/h1swlmNAnmW/XV7vJYjcJY04jNPt+fOCpHU/Nbrz2ulmpa9vbJ5ZvrNvJjf3rYKPrCys7Ojq8lS+LnlMJjPrOM2qm++G1uPnb0VXT2tpamwyh4nb1y0uZ5YPDD9O4pbHpOzu2jFw8q4ZYPXXA6qmgsss1TzqtZf8OGUJnQoOtPaXdfX8bKi2YRYMhGnMcIuw9DRz0prMz5LPTI8YO4omIRqLxELOdmSlZyBLaeoouNSfOxfaBNWrscEkEzQh3apqwu6e9ovb+6a3g6PHyJ+mUJA42fvZ1962bFNi9U52w/eDOlbGtj56SJQVT3/vJlpU/XWIXxz73o6sWr59TwBwePDP9ddyCiatqXOdNUS+bftmC28eVTJwNNjdnbbZD3tqO5qOlEKOf1a5z19dTAMFFzmBypumswkq7ToZl/pkRyGwbiq5mvj8lTlMHcBqPZqFOdMmpcfp/8KMhQNX7+r/nRQuHgBg+Nyc6Ja0ArzjBi8OA14AvnRKvM+St7Dnjkik8bRa7fTAO686OA1t6mqy27WzGU8h37A0mlz2ISiGGQZg3UP4ASeSAEvmxuuwrUuTIob0ET15mpLXQz4qdDs2ZmNz196kfP3l04/2fLP+Zj+Indz75aqPBEK5LTInbp+Evdm1+7ZYNBy8IRG66Ib20nS5XX/xafUvF1977uy2Xbp794tYH9+K6SYnhY2vfe/M3qnHLs080frVg04PP/gxhdKH6AZfHPo6GwSDplYgRWIoLfsEBe+egM8SftTKF0wEtp3ady/OqAa93+oSMa8J0b7ZNWuyV2daxYDCY4CxHvk4ESYvt0fdHyxPw7CA8ewM8u5j8bQkm44/9vgSJbv3ZlwHgefYg0IMemXmEquGMmQeoB3HhPZ+3SruOThRY6srMNs7OPnFHbNr397JL+741Wq3mjFOa8rra6uA42kBfbEyqS9+eLJI3H/S33HlOe+MBo9vVFu4NrgXlkxqMxqyITq9G8sKkiXCMe4Pqm2ASLax68QauyPS10cnhLnqpyRPliszM9xNtufSGC4pMhl9x1r53Dbl2RGFebaG+hG8l9WFS28kuVx9vUV9qK9crte2loZDhiVDo+1Z9D70S1Rb6Nfg8KRM58rD+FwXZnSHbPf1PC7I7bcn1tfxX4Nuei0Zv8drL3C9Ho7gB2h5HGTPG5v2f3vGhEDNH3ZLxh0LUun2+iFD0JfPrUKj3IbyG+msolNm0r0R/176F7oVnh/UoW4sGSGnMQFO0tqYdrpX69d2WAO+so6unrL+7WZw4u6w4z1YwKb95zq1t63a31Ey8oLqstrDW3dDGtczcNWmcKbx67n71M3Vr5v2fr7htxh1wJrJ6KfXlR3jbo5f8iDx7FV7MPk9HEekISXhErD9az31iUgmGx5KXfyEcf75718q1r153xd4ZRSbWXfjMHauu//Parlk/9ufluouow3f/c84Dc26vnRdr1FpLppWuJW++rEIXs88zAT6CxiJ0jOUNZI+OEGao5C9C7uTDqAAh/Y2YvidPOO89fp70FXzlRXYm4kHD+qt3A3/u8WLo6PeRCDUvGqXmh8ggM4cA6aDeA+1zwMAJqP8viqrZwyhPZ0rEdPyVHqq6PN+hbsTrHPnlRnU7XmVUXwqL9FX0VWJYsPft69tn7//roEb9G+yD358xYe7OciNepW43wvfgdepGh7oXPkjPo+fZhbDYd0vfLeL/Ao92huUAAAAAAQAAAEwIwADRAHEADAACAAEAAgAWAAABAAHJAAMABAAAAEQARABEAEQAiADDAP0BbAG3AfUCFAJDAoYC5QNEA8kEjQUKBboGVwbEB40IIwgvCI4I6wj4CVUJhQmuCjkKVwrjCzAMNg05DosO1w8kD3EPoBAfEJoQrhDCESoRqBIuEqsTNRO2FEQU4BVtFegWgRb7F48YJxilGPMZMRloGXAZmxm7GfkaNxpoGnUagRqNGqkasRrSGvIAAAABAAAAAoUeC2yUzV8PPPUCnwgAAAAAAMheFaoAAAAAyF4VqvwA/kYMygZGAAAACAAAAAAAAAAAeJxjucQQxAAETDC8iuEFEEcDcQ7zEYYiNnOGVUDxDig9mcmSgYFFmCEYiDcBcRYQRwKxDRLbC0pHMikzrASqXwXSC8NAcwuAOJ/5OkMK4yyGJUB6DosSgyrbLoZWKHYGqWNpZlAHYlWQGSwJDCYseQxGLAwM8RxADFPLGQTX449EOwOxLpq4M5RtymLPoMBWwpDKtoRBGeymVQyTWRgYBYBm6zP/ZmAAihVDMczNYD7TLIZohhwAfaU9ewB4nGNgZGBgc/vnxsDAy/eH4ZsmzykGoAgK8AYAck4E6nicY2BkbmWcwMDCwMBawSrCwMBwAkIzdTEEMX7hYWZlYmRiZAeBBgaGxUB5BwYocCtKTQXyFNRfsrn9c2NgYHNj3AUU5p3EzMAAAP7iDLEAeJyN0E9Kw0AUBvDPpG6KUPpnUUqV+LBJNdgDiBZFlOoVSjeSbgRPUOjWg3gJF13E9BJdmEF0056gm5bx67zg2sAv3xt4M/MSACUAPp1A60+u9tzaR9mtS3hnniFgVcYx+hhihCnW3tyf+WnQEE8qUpOWhBLLQMZRFq2s5Z4AXdc7YW/meuuut8rejutN2Lu01v7Y3H7Y1L7Z3jbZvGyev5rmwvTMuQlN2zTzbf69eF08ucn++xzsXn8bGm4ecH793i71aZ+GhTaNCoc0oSkd0brQAbyM5qxDHjVTOGWmiv8KQZ12d8aAeAqXzIrCFbNKNZ1DWgrXTN4hPBs3zFjhljlQuGMmNGZ9D0SZwgNzSSvWj7/ICEuFAHicXVG7blNBEN0lDwNJiB9BcrQpZhlC471xC1KiXF2EI9uN5SjSLnLBjeMCf4ALpNRE+zVjp6GkoKVBkQskPoFPQGJmHRCi2dmZnXPOnFlSjlSjT7sDT71ZIIWnTdps+ZOQatcB7kg3jpoZaQffabuV0QPXH/o3GGxGa+59EygfeEt5yGjdCdSi/eB/mK/BcJ//ZX4Gg5Y2Wp46s5AeQmC+DbczepvRpps/0zesDjejkSHFNBU3f55K+d/SQ1evwat2Ro8cXIvIF6YBWjvsItD6ix6pgY+TWIJcXhprg4kpG64yEXy8mq5qqpYZtxx8S3a2HbSp0hp5gDPslFPwcHW5opC+HVFmaYhwFjslRoiY5FDIKedO9icFyieSMOZJUjpZNq01sIy8BgZ1eZqL+9lsatt1CMt7cQTfPzeWdPCRDXUxIsRuxFIAK4iEjKryDXWeuyYG5FL/z0CUgOX03b9OBNpwbCJ+lLX1rjBWCAb+2Hzmlz13q3KdF4Xuf6qqsUqnNF94OYceL3l6LAwHjQVvPh/6hQL1elwsNGgOBGPanxz80XrqiKu8Fz6y37gisOAAAAC4Af+FsAGNAEuwCFBYsQEBjlmxRgYrWCGwEFlLsBRSWCGwgFkdsAYrXFgAsAUgRbADK0QBsAYgRbADK0RZsBQr/mIAAAObBTwFvwBSAEoAUAAtADAAOQC8AKoAnQCRACgAowA8ADIAPwClADQANwCIAHsAiwCUAHQAjgBOAGsAWABMALAAoACDAEYAeACWALcAwQBEAHEAKgCsAAB4nF2PTU4CQRBGH4JGN65dkTkBMSQsjCsTo3v/9oDDOMkI2mIInsATcBIP4cJD+bqnjWgmU/2q6qs/YJ8ZXTq9A6Dxb7nDoV7LO/Jb5q78nrlHn03mXY74yLy3VfvJnC9utTVTFtxTUnAhzVnyIs/k4HtmZKqqTJmCa72g/5R0p0YuzUVtlXqcy696i5wdcux3Yt2aRybGG8Zcqa3URQ6s9CZpYpzxV1n8097pBXvXSR37Dxhpb3gw9rN5u+vKihip0vaxbmy89NrC/mvt0qrty+N9z86q1QYzTb7vtzpeOvgGmLtAIAAAeJxtz0lOw0AQBdD/k0BiYmeeGQI3SBo5wwaBEKw4A2CRBrcUnMh2wkVAjFvEHjbcig2wRBjT7Cip9X51qVpqJBDX1z4q+K8OokMkkEQKWZiwkEMeBRRRQjnaqaKGOhpoooVlrGAVa2hjHRvYwjYOcYRjOPjAOz7xygSTTOEa93jGCxe4yDQzNLjELE1azDHPAosssYwb3OEWb3hkhVU8sIYnXOKKdTbYZCs981RH7ArtpuF4k1COpXJ+bkTX7mi7WpGZeDJ0lT8ywotJHAI9srU9bV870A61O0b0hFRnbuiaoetLnYPsqZr/ZTOQc+npJt4Twtb20oE6V2PHt6bSn0pvpE5mURdP+79fEf29gXb4DalzW4kAAAAAAAIABAAC//8AA3icY2BkYGDgYYAAJgYWIKnOwMigyeAMJF0Z3IGkJ4M3AyMAFFIBywAAAQAAAAoADAAOAAAAAAAAeJwtjjFuwkAQRd/GVhQQMbZZEBVFQBRIEEggASKlpKSktyygACFkpeECHIUD5BQ5QO4Ds8sUqzf68//sxwBlekwJ8lOxx26L9Q67z34OWELZcr3iXGZTZDlPbvIv9FsjiuGfR1KOnLnwyx8lybboMuCDbxYsWfEq/goRz6IFMtV480wZesaug7AuKccGfU9L27PKi2fCg/wW8a7pkaYDaRLTZKZXxrrvaMo1nqh2vzBX56f2cY4v1Yx3VOViIn57A23XFhoAAAA=) format('woff')}.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover{width:auto}.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover.dcg-bottom{position:absolute;top:43px;left:-3px}.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover.dcg-bottom .dcg-arrow{left:23px}.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover.dcg-right{position:absolute;top:-40px;left:40px}.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover.dcg-right .dcg-arrow{top:60px}.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-popover-interior{padding:4px 0}.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item{cursor:pointer;font-size:80%;text-align:left;white-space:nowrap;opacity:.5;padding:8px;line-height:0}.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item i{margin:0 8px 0 4px;font-size:205%;vertical-align:middle;width:30px;display:inline-block;text-align:right}.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item i.dcg-icon-new-expression{font-size:210%}.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item i.dcg-icon-new-table,.dcg-calculator-api-container .dcg-mq-math-mode big{font-size:200%}.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item i.dcg-icon-new-folder{font-size:190%}.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-action-newexpression{padding:10px 12px 4px 8px}.dcg-calculator-api-container .dcg-action-info .dcg-click-edit.dcg-hovered,.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-hovered,.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-clickable-image-state-container .dcg-clickable-image-state-close.dcg-hovered,.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-active i,.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-hovered i,.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-icon-replace.dcg-depressed,.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-top-level-delete.dcg-depressed,.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-remove.dcg-depressed,.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-replace.dcg-depressed,.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-search.dcg-depressed,.dcg-calculator-api-container .dcg-overgraph-icon.dcg-hovered i,.dcg-calculator-api-container .dcg-resources-container .dcg-mygraphs-legal a.dcg-hovered,.dcg-calculator-api-container .dcg-ticker .dcg-icon-remove.dcg-depressed{opacity:.8}.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-expressionitem.dcg-expressionfolder textarea,.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-expressionitem.dcg-expressiontext textarea,.dcg-calculator-api-container .dcg-action-info .dcg-click-edit.dcg-depressed,.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-depressed,.dcg-calculator-api-container .dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-active i,.dcg-calculator-api-container .dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-depressed i,.dcg-calculator-api-container .dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-active i,.dcg-calculator-api-container .dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-depressed i,.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline.dcg-white-icon.dcg-depressed,.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline.dcg-white-icon.dcg-hovered,.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-clickable-image-state-container .dcg-clickable-image-state-close.dcg-depressed,.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-depressed i,.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox.dcg-checkbox-label-colon:after,.dcg-calculator-api-container .dcg-expression-edit-actions .dcg-exp-action-button.dcg-depressed,.dcg-calculator-api-container .dcg-overgraph-icon.dcg-depressed i,.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-depressed,.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-menu-open,.dcg-calculator-api-container .dcg-poi-label:not(.dcg-tracept).dcg-opened .dcg-label,.dcg-calculator-api-container .dcg-resources-container .dcg-mygraphs-legal a.dcg-depressed,.dcg-calculator-api-container .dcg-selected .dcg-smart-textarea-container textarea,.dcg-calculator-api-container .dcg-smart-textarea-container textarea.dcg-smart-textarea.dcg-empty,.dcg-calculator-api-container .dcg-suggested-zoom-view i.dcg-depressed,.dcg-calculator-api-container .syncing-status-bar .error-status-text.dcg-hovered{opacity:1;-ms-filter:none;filter:none}.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-disabled{opacity:.25}.dcg-calculator-api-container .dcg-basic-list-container{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:auto;border-top:1px solid rgba(0,0,0,.2)}.dcg-calculator-api-container .dcg-basic-expression .dcg-exp-mathquill-container .dcg-mq-container,.dcg-calculator-api-container .dcg-basic-keypad .dcg-playback-column .dcg-btn-playback .dcg-keypad-btn-container,.dcg-calculator-api-container .dcg-basic-keypad .dcg-playback-column .dcg-key-nav-section-container .dcg-tooltip-hit-area-container,.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list,.dcg-calculator-api-container .dcg-container .dcg-basic-expression .dcg-mq-container .dcg-mq-editable-field,.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-art-contest-success-image img,.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-art-contest-world-image img,.dcg-calculator-api-container .dcg-expression-search-bar .dcg-mq-container,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mathquill-wrapper,.dcg-calculator-api-container .dcg-reset-pillbox .dcg-tooltip-hit-area-container,.dcg-calculator-api-container .dcg-shared-signup-dialog .dcg-shared-account-content-container .dcg-shared-apple-login,.dcg-calculator-api-container .dcg-shared-signup-dialog .dcg-shared-account-content-container .dcg-shared-google-login,.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message.dcg-latex .dcg-static-mathquill-view,.dcg-calculator-api-container .dcg-zoominout-pillbox .dcg-tooltip-hit-area-container{width:100%}.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-basic-keypad,.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-mathquill-braille,.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-mq-editable-field,.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-mq-math-mode,.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-slider-container .dcg-mq-math-mode,.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-poi-label,.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list.dcg-projector-mode,.dcg-calculator-api-container .dcg-projector-mode .dcg-basic-keypad,.dcg-calculator-api-container .dcg-settings-container .dcg-displaysizegroup .dcg-action-displaysizelarge,.dcg-calculator-api-container .dcg-settings-dropdown .dcg-displaysize-buttons .dcg-displaysize-large{font-size:150%}.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation,.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list.dcg-projector-mode .dcg-braille-evaluation input,.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list.dcg-projector-mode .dcg-braille-input input{font-size:135%}.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list-placeholder{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;border-right:1px solid rgba(0,0,0,.2);border-left:1px solid rgba(0,0,0,.2);position:relative;overflow:hidden}.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list-placeholder .dcg-answer-hint{-webkit-transition:opacity 1s;-moz-transition:opacity 1s;-o-transition:opacity 1s;-ms-transition:opacity 1s;transition:opacity 1s;padding:10px 30px 10px 10px;width:200px;opacity:.7;position:absolute;bottom:0;right:0;text-align:right;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG0AAADXCAQAAAC6oBfOAAAHuElEQVR42u2daYwVRRDHWwERjFEwuBpDvDDRGBNjNDF+0E/LsRxyS0BBVA4XAmogitHgArLct/zlRhBcELlkAbkkcskpEM6FRPAEFMUTwegzwO4Ku1X95tqd6X9e9cc33dO/Nz093VXVVcZkJCMZiVHwCHLwOK7mgqqPQvyFVHHpzQSWKlOGsaANK4eWwlAOtC0CWgoj3QerKoJdKPnuwxWpcP1cR5uuoqXwittoTS1oKXRyG66dFa6J23AdLWj7cRsv3FLXp5NnLXBwHS7XAuf8h+A1C1wr1+HyVbSvkeU63AQVbqH7S6+FKtybrqNlYT/vG9dERTvo/qDsrsKN4Nx9Xyrt3Yf7TIXLdh2tsYo21v3n9iLtTGkM3lPQdriPVhMnFLg+7sN1UQdlfd5BOcl9tIbqc2vtPlwvBW2VcV+wToHr6D5ac9qPgDGYpMDluo/WQEHbx/Dc+ilwPRjgjotohxjQXlKeW3cGuD0i2nYGtM6UxqpiuB0iWiEDmrYTaMwAV0SqVDAGeaTKIGOQraDlMTy34SLaXga0+rRbHGMwUUSbw4DWklYVpC65BjCg9RHRdhkGwVkR7kkGtFki2nAGtLa0iiBjcJDUiqNaTkczoDVjniW/EOEaMaANFNHeZkCTFa/rOYbkVt615CjetaS8B5jNMSSPCWhHOdDeF59bUwY0WTPJcJoK1US0jzmG5OcC2k8caODdlObxbkplffISjiG5k9QQbAymkho4jMEgXgOH7KI2mWNIniB1TzMGhQLaKQ402XbTgAGtvYg2kAEti9SJ9yLcDwLaCg60Tby77ZnikKzCgCafM23IgCYfLxrEgFaL8rh6MdxJ3l3bNl6T1GIB7UcOtHfFt+1G3umfYoncmHeJfLuINorjbftXQJvJgfa9gLaSA03ySNjGgbZSQDvGgTZbQPuTA0222VzHgCb7kt/NgJbH60WSzetFcqeINpgBrbaINoYBrYqINoVj+v9dQJvLgXZKQFvMgSYd3FvNgSYZ7DdxoG0gPdxsDNYKaAc40CTD73EOtKW8usgCAe00B5pkZfuVA02KWX6eA02OusWQk0NxRKvOgCa7xlzLgCZba2owoE3m1WkRD0hitGm875qMdg0DmhjbLrMaqaAuZSMvCud1fJCoNSSaYHlxJ/7A6yHbmiug/RYf2JUdmRiqtYUJ2q8J0ft7RaxA+C4eMCn+xJ4Q7a1OzOkajIs2sL0YTz4mtPEi2qLA7Unh+nbGg/aUElupZcD2pBgka+OaRvZFGRMLXwptrYkLLS/KmFiiv09clho1vF4gjzicS5R9DQNEtG8CtFRDbGlqfGhaeL2uvlu6OXG2bMyIJqKxMrjj9IhE62giGitTUrx+rFgvdurTSN7aeL2P8XQUmRYwWGzj/gj72QZj0cZvpQ1it2ZFoM+KKCkdcvFziSMiXvZTsWf4iMbKQa9I1AflvPb6+6n8bdgDP+JGNJLwHGI2vw7eq+eHXXJhjVD7cARgU8R+zffegJbgyrPTn5hvL6RrBa5Svrr+du9KVKwjnuufjDoUDq4XdWT+Y1GqGTI6evx/Q8+xZVrMsiSV9LuAU/6jrZ7q3iLWnRAY7C58Ys0KnRNeDeRRW6LErwjow4qHlHh4wdM2iWcHPR2MVKKO5AQCewIHrGAdgjTaTWks7TFkxRX+ngB9aISjVrCg0Z5wKFjaTWWSrhZgnWjDKgrhXK9Eoj4TSHPs2z8LL1jB9uCxcJ/J80Fy+Ipunj5P+FqzdqewEQ+EXdjIK/ivAqxBl0cwXkrKMtQNv2Zr5l9bgpphP9h4ywo2HzdFszeSoz6us9SoJ9YY6fmOQ61gs/xPR9qNWvhNlopWYWJpYaQVbHq0KoWN/nKdY3TwCGiW3OoVESJCTSzdQrl+dtAdtuKNV5GqPmXXPcXHNjStBhrVlL+kpAyrXEOHuOTCEeHKzWnuUBvzrGAVp8HEae+RX/CPcOU8a+t1scwK9mpFaiflCbnI8ybW8p7gPkWtW1K6VaziNUe5bd9yVw70N/XjUSVgfmBTin+4Am/aEozxM/WjgZKcoqS0rQyFuWbr7lzmuo+Ea84pbTa1YgXcvAaBKxRvXyZoA3Z59T9BOyvWgUo86qw+tyt2uvjFm9IBXa1g2/Fw5VpxdqUz4yp21XLeXmp66mKTF+41lStqh0qHjmJXK/P9U1PlFvsp4FZT+YIzYmfyS38fl37Voui7SkoBapk4RNlynCz9fUm6+REjrGAzUdXEI6pvSa5l/bg77YYnfueLi517R8/eq0T0LyitO8kKNsHEK2oK9+dVTcooq3YySaGosErzUVDSXrU0BtXT7MaGmCQIOinda44P5f016mCBFay/SYpgt9jBaaJq9TDqic66/5feJjmCHkon/xY/wFusYEnLaC/GpZDLXuuvyUsdjiGe0WwliSkD0Sg01pHEhgvGnFBgYU1IFYrWLATYFjxokiyYHxBsBe4wyRZ0CAS2AHVM8kU8gWEvc3GDcUHQ2yfYdOOOiL5YWnErpQv6egYbb1wTRVvCkM1LcS9kSJxU7oRp+dLPuCpWT8UUehp3RT3RcaF0MW6Loi1J4RnjuuA52mSpxmARZfR+c8nb+HK4zRQpAC/DewOrcRbbSOL2ZyQjGckIpfwHjUChXKuem7kAAAAASUVORK5CYII=") top 20px right 5px/15px no-repeat;-webkit-background-size:15px;-moz-background-size:15px;-webkit-animation:.3s dcg-fadePulse;-moz-animation:.3s dcg-fadePulse;-o-animation:.3s dcg-fadePulse;-ms-animation:dcg-fadePulse 0.3s;animation:.3s dcg-fadePulse}.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list-placeholder.dcg-has-multiple-exps .dcg-answer-hint,.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list-placeholder.dcg-has-multiple-exps .dcg-type-hint{opacity:0;-webkit-transition:opacity .3s;-moz-transition:opacity .3s;-o-transition:opacity .3s;-ms-transition:opacity .3s;transition:opacity .3s}.dcg-calculator-api-container .dcg-btn-blue.dcg-depressed:not(.dcg-disabled),.dcg-calculator-api-container .dcg-btn-primary.dcg-depressed:not(.dcg-disabled),.dcg-calculator-api-container .dcg-btn-red.dcg-depressed:not(.dcg-disabled),.dcg-calculator-api-container .dcg-expressiontable .dcg-fade-container.dcg-hovered,.dcg-calculator-api-container .dcg-inverted-colors .dcg-settings-dropdown .dcg-popover-interior{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes dcg-fadePulse{0%{opacity:0;-webkit-transform:scale(.7,.7);-moz-transform:scale(.7,.7);-o-transform:scale(.7,.7);-ms-transform:scale(.7,.7);transform:scale(.7,.7)}50%{-webkit-transform:scale(1.1,1.1);-moz-transform:scale(1.1,1.1);-o-transform:scale(1.1,1.1);-ms-transform:scale(1.1,1.1);transform:scale(1.1,1.1)}100%{opacity:1;-ms-filter:none;filter:none;-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-o-transform:scale(1,1);-ms-transform:scale(1,1);transform:scale(1,1)}}@keyframes dcg-fadePulse{0%{opacity:0;-webkit-transform:scale(.7,.7);-moz-transform:scale(.7,.7);-o-transform:scale(.7,.7);-ms-transform:scale(.7,.7);transform:scale(.7,.7)}50%{-webkit-transform:scale(1.1,1.1);-moz-transform:scale(1.1,1.1);-o-transform:scale(1.1,1.1);-ms-transform:scale(1.1,1.1);transform:scale(1.1,1.1)}100%{opacity:1;-ms-filter:none;filter:none;-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-o-transform:scale(1,1);-ms-transform:scale(1,1);transform:scale(1,1)}}.dcg-calculator-api-container .dcg-container .dcg-basic-expression .dcg-mq-container .dcg-mq-editable-field:after{position:absolute;top:1px;right:0;bottom:1px}.dcg-calculator-api-container .dcg-basic-expression{min-height:56px;border:1px solid rgba(0,0,0,.2);margin-top:-1px;position:relative;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;width:100%}.dcg-calculator-api-container .dcg-basic-expression:not(:first-of-type){border-top-color:transparent}.dcg-calculator-api-container .dcg-basic-expression.dcg-focused{border-color:#2f72dc;-webkit-box-shadow:inset 0 0 0 1px #2f72dc;box-shadow:inset 0 0 0 1px #2f72dc;z-index:1}.dcg-calculator-api-container .dcg-basic-expression:first-of-type{margin-top:0}.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io{-webkit-box-lines:multiple;-moz-box-lines:multiple;-o-box-lines:multiple;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:2px}.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io input{background:0 0}.dcg-calculator-api-container .dcg-account-container.dcg-popover .dcg-popover-interior,.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-mq-math-mode,.dcg-calculator-api-container .dcg-graph-actions-container.dcg-popover .dcg-popover-interior{padding:0}.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error input,.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input,.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-input input{border:none;width:100%}.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-input input,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-cell-math-content,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-mathquill-braille,.dcg-calculator-api-container .dcg-focus-by-tap:focus,.dcg-calculator-api-container .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input:focus,.dcg-calculator-api-container .dcg-mq-underline-container .dcg-mq-editable-field,.dcg-calculator-api-container .dcg-resources-container .new-blank-graph:focus,.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb:focus{outline:0}.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input:focus{outline:#000 dotted 1px}.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error input,.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-keypad-keys-section{border:1px solid transparent}.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error input:focus{color:#000;outline:#000 dotted 1px}.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input,.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-input input{font-family:Abraham,serif;font-size:163%;padding:8px 8px 0}.dcg-calculator-api-container #save-dialog .graph-title-title,.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-basic-expression-error{font-size:140%}.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error{position:absolute;top:-.8em;right:0;width:100%}.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error textarea{width:100%;text-align:right;color:#666;padding-right:5px;font-size:80%;border:none;resize:none;-webkit-animation:1s dcg-delayed-fadeIn;-moz-animation:1s dcg-delayed-fadeIn;-o-animation:1s dcg-delayed-fadeIn;-ms-animation:dcg-delayed-fadeIn 1s;animation:1s dcg-delayed-fadeIn}.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error textarea:focus{outline:#666 dotted 1px;color:#000}.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation-container,.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-input,.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-mathquill-container,.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-output-container{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1 1 40%;-ms-flex:1 1 40%;flex:1 1 40%}.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation-container,.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field:not(.dcg-no-fadeout),.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell .dcg-mq-math-mode,.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-container,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-sqrt-container,.dcg-calculator-api-container .dcg-selectable-input-container,.dcg-calculator-api-container .dcg-shared-login-dialog .dcg-shared-password-container,.dcg-calculator-api-container .dcg-shared-modal-cover .dcg-shared-modal,.dcg-calculator-api-container .dcg-tap-container:not(body),.dcg-calculator-api-container .dcg-ticker .dcg-circular-icon-container,.dcg-calculator-api-container .form_content_interior .input-container{position:relative}.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error,.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input,.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-output-container,.dcg-calculator-api-container .dcg-header .align-right-container,.dcg-calculator-api-container .dcg-shared-account-dialog .dcg-shared-email-form-container .dcg-shared-sign-in-options{text-align:right}.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-mathquill-container,.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-output-container{padding:8px;font-size:90%;color:#666}.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-output-container .dcg-basic-expression-value,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-static-mathquill-view{padding-right:8px}.dcg-calculator-api-container .dcg-basic-expression .dcg-exp-mathquill-container{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;overflow:hidden;margin-right:1px}.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-math-mode{padding:12px 5px 12px 15px;outline:0!important;-webkit-box-shadow:none!important;box-shadow:none!important;border:0}.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-error{color:#e66b3c;font-size:130%;cursor:pointer;-webkit-animation:1s dcg-delayed-fadeIn;-moz-animation:1s dcg-delayed-fadeIn;-o-animation:1s dcg-delayed-fadeIn;-ms-animation:dcg-delayed-fadeIn 1s;animation:1s dcg-delayed-fadeIn;margin-right:15px;height:24px;line-height:24px}.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value{-webkit-animation:.5s dcg-fadeIn;-moz-animation:.5s dcg-fadeIn;-o-animation:.5s dcg-fadeIn;-ms-animation:dcg-fadeIn 0.5s;animation:.5s dcg-fadeIn;padding-right:5px}.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value.dcg-basic-evaluation-gray .dcg-static-mathquill-view,.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row .dcg-input-label,.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox.dcg-hovered,.dcg-calculator-api-container .dcg-container .dcg-label-container.dcg-label-visible .dcg-checkbox,.dcg-calculator-api-container .dcg-evaluation-container .dcg-fraction-toggle.dcg-hovered,.dcg-calculator-api-container .dcg-export-image-size-options .dcg-selected-option.dcg-hovered i,.dcg-calculator-api-container .dcg-export-image-size-options .dcg-selected-option.dcg-menu-open i,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-hovered,.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-line-style-toggle .dcg-toggle-option.dcg-hovered:not(.dcg-selected-toggle),.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-options-menu-section .dcg-options-menu-section-title,.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-point-style-toggle .dcg-toggle-option.dcg-hovered:not(.dcg-selected-toggle),.dcg-calculator-api-container .dcg-generic-options-menu .dcg-line-style-toggle .dcg-toggle-option.dcg-hovered:not(.dcg-selected-toggle),.dcg-calculator-api-container .dcg-generic-options-menu .dcg-options-menu-section .dcg-options-menu-section-title,.dcg-calculator-api-container .dcg-generic-options-menu .dcg-point-style-toggle .dcg-toggle-option.dcg-hovered:not(.dcg-selected-toggle),.dcg-calculator-api-container .dcg-hotkeys-dialog .dcg-hotkey-container .dcg-keyboard-shortcut,.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row .dcg-input-label,.dcg-calculator-api-container .dcg-image-options-menu .dcg-options-menu-section-title,.dcg-calculator-api-container .dcg-label-orientation-view .dcg-orientation-option.dcg-hovered,.dcg-calculator-api-container .dcg-learn-more-link.dcg-hovered,.dcg-calculator-api-container .dcg-parameter-suggestion-container.dcg-hovered .dcg-default-marker,.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-log-mode-toggle-help.dcg-depressed,.dcg-calculator-api-container .dcg-search-container .dcg-remove-x.dcg-hovered,.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-container .dcg-six-key-checkbox .dcg-six-key-info.dcg-hovered,.dcg-calculator-api-container .dcg-settings-dropdown .dcg-six-key-info.dcg-hovered,.dcg-calculator-api-container .dcg-table-column-menu .dcg-line-style-toggle .dcg-toggle-option.dcg-hovered:not(.dcg-selected-toggle),.dcg-calculator-api-container .dcg-table-column-menu .dcg-options-menu-section .dcg-options-menu-section-title,.dcg-calculator-api-container .dcg-table-column-menu .dcg-point-style-toggle .dcg-toggle-option.dcg-hovered:not(.dcg-selected-toggle),.dcg-calculator-api-container .dcg-ticker .dcg-ticker-toggle-help.dcg-hovered,.dcg-calculator-api-container .form_content_interior .input-container .password-recovery-link a.dcg-hovered,.dcg-calculator-api-container .modal .notice-checkbox-email,.dcg-calculator-api-container .modal .notice-checkbox-google,.dcg-calculator-api-container .modal p{color:#666}.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle{font-size:20px;display:inline-block;width:29px;height:29px;border:2px solid #000;opacity:.5;color:#000;text-align:center;border-radius:50%;margin:0 5px}.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-hide-keypad-button .dcg-icon-hide,.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle i,.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-evaluation-html .dcg-evaluation-list,.dcg-calculator-api-container .dcg-label-orientation-view .dcg-orientation-option i,.dcg-calculator-api-container .dcg-shared-signup-dialog .dcg-shared-account-content-container .dcg-shared-component-checkbox .dcg-shared-checkbox{position:relative;top:2px}.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-hovered,.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-selected.dcg-hovered,.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline.dcg-hovered,.dcg-calculator-api-container .graph-preview .dcg-graph-preview-info .dcg-action-cancel.dcg-depressed{opacity:.7}.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-depressed,.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-selected.dcg-depressed,.dcg-calculator-api-container .dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-hovered i,.dcg-calculator-api-container .dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-hovered i,.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline.dcg-depressed,.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-section-heading a.dcg-depressed,.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-hovered,.dcg-calculator-api-container .dcg-suggested-zoom-view i.dcg-hovered{opacity:.9}.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-selected{background:#000;opacity:.5;color:#fff}.dcg-calculator-api-container .dcg-basic-expression .dcg-slider-container{height:40px;width:250px;max-width:100%;padding-right:3px}.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans{border:2px solid #2f72dc;color:#2f72dc;background-color:rgba(47,114,220,.15);padding:.2em .4em;display:inline-block;border-radius:4px;margin-right:1px;margin-bottom:2px;min-width:30px;text-align:center;-o-text-overflow:ellipsis;text-overflow:ellipsis;vertical-align:middle;position:relative}.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow .dcg-basic-keypad .dcg-keypad-btn[dcg-command=sqrt],.dcg-calculator-api-container .dcg-PROJECTOR-MODE:not(.dcg-narrow) .dcg-keys-container.dcg-smaller-functions-text .dcg-keypad-btn[dcg-command=functions],.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans sup,.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int,.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator,.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-supsub,.dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-functions-popover .dcg-interior-buttons,.dcg-calculator-api-container .dcg-keys-container.dcg-smaller-ABC .dcg-abc-audio-container .dcg-keypad-btn[dcg-command=ABC],.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-from,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-to,.dcg-calculator-api-container .dcg-tap-container .dcg-mq-math-mode .dcg-mq-sub,.dcg-calculator-api-container .save-btn-container.dcg-divided-button .dcg-save-button-dropdown-anchor i.dcg-icon-caret-down,.dcg-calculator-api-container .trip-block .trip-interior i{font-size:80%}.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans:after{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;content:'ans';position:absolute;bottom:-.5em;left:50%;font-size:60%;width:1.9em;overflow:hidden;text-align:center;margin-left:-.95em;color:#2f72dc;border:1px solid #2f72dc;background:#fff;padding:0;border-radius:3px;height:1em;line-height:.9em}.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans.dcg-invalid{border-color:#e66b3c;background:rgba(230,107,60,.1);color:#e66b3c}.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans.dcg-invalid i{font-style:normal;font-size:80%}.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans.dcg-invalid:after{color:#e66b3c;border-color:#e66b3c}.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-selection .dcg-mq-ans,.dcg-calculator-api-container .dcg-shared-btn-blue-outline.dcg-depressed:not(.dcg-disabled){background:#2f72dc;color:#fff}.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-selection .dcg-mq-ans.dcg-invalid{background:#e66b3c}.dcg-calculator-api-container .dcg-calc-basic-main.dcg-projector-mode .dcg-mq-ans:after{position:absolute;bottom:-.3em;left:50%;height:.9em;line-height:.8em}.dcg-calculator-api-container .dcg-braille-toggle{display:inline-block;float:right}.dcg-calculator-api-container #save-dialog #save_as_btn,.dcg-calculator-api-container #save-dialog #save_graph_btn,.dcg-calculator-api-container .dcg-braille-toggle .dcg-buttons,.dcg-calculator-api-container .dcg-pillbox-container .dcg-reset-pillbox,.dcg-calculator-api-container .dcg-pillbox-container .dcg-settings-pillbox,.dcg-calculator-api-container .dcg-pull-right{float:right}.dcg-calculator-api-container .dcg-toggle-button{padding:8px;border:1px solid #ccc;color:#444;position:relative;top:-3px;cursor:pointer;width:90px;text-align:center;float:left}.dcg-calculator-api-container .dcg-toggle-button:last-of-type{border-radius:0 6px 6px 0}.dcg-calculator-api-container .dcg-toggle-button:first-of-type{border-radius:6px 0 0 6px}.dcg-calculator-api-container .dcg-toggle-button.dcg-hovered{background:#f4f4f4}.dcg-calculator-api-container .dcg-toggle-button.dcg-depressed{-webkit-box-shadow:inset 0 0 5px rgba(0,0,0,.5);box-shadow:inset 0 0 5px rgba(0,0,0,.5)}.dcg-calculator-api-container .dcg-toggle-button.dcg-selected{background:#2f72dc;color:#fff;border-color:transparent}.dcg-calculator-api-container .dcg-calc-basic-main.dcg-projector-mode .dcg-basic-expression.dcg-braille-io .dcg-braille-error,.dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow .dcg-basic-keypad .dcg-keypad-row,.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-art-contest-info-container .dcg-contest-about .age-check-container,.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-art-contest-info-container .dcg-contest-about .dcg-contest-text,.dcg-calculator-api-container .dcg-evaluation-container .dcg-fraction-toggle .dcg-toggle-letter,.dcg-calculator-api-container .dcg-keys-container.dcg-small-ABC .dcg-abc-audio-container .dcg-keypad-btn[dcg-command=ABC],.dcg-calculator-api-container .dcg-regression-tour-table tr:nth-of-type(n+1),.dcg-calculator-api-container .dcg-shared-options-dropdown .dropdown-choice .option-icon-container .option-icon,.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad{font-size:90%}.dcg-calculator-api-container table.dcg-braille-examples-table{border-collapse:collapse}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-input-focused .dcg-mathquill-braille,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-input-focused .dcg-mq-editable-field,.dcg-calculator-api-container table.dcg-braille-examples-table tr:not(:last-of-type){border-bottom:1px solid rgba(0,0,0,.2)}.dcg-calculator-api-container table.dcg-braille-examples-table th{font-family:"Helvetica Neue",Helvetica,Arial,"Lucida Grande",sans-serif;font-weight:500}.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description .dcg-btn-primary,.dcg-calculator-api-container table.dcg-braille-examples-table td,.dcg-calculator-api-container table.dcg-braille-examples-table th{padding:5px 8px}.dcg-calculator-api-container table.dcg-braille-examples-table td:not(:last-of-type),.dcg-calculator-api-container table.dcg-braille-examples-table th:not(:last-of-type){border-right:1px solid rgba(0,0,0,.2)}.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-examples-table-container .dcg-more-examples-link,.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-save-animation-container .dcg-save-animation,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header.dcg-error .dcg-mathquill-braille,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header.dcg-error .dcg-mq-editable-field,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header.dcg-error .dcg-static-mathquill-view,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header:not(:first-of-type):not(:last-of-type) .dcg-mathquill-braille,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header:not(:first-of-type):not(:last-of-type) .dcg-mq-editable-field,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header:not(:first-of-type):not(:last-of-type) .dcg-static-mathquill-view,.dcg-calculator-api-container .dcg-header .align-center-container,.dcg-calculator-api-container .dcg-options-menu .dcg-convert-btn-container,.dcg-calculator-api-container .dcg-settings-container .dcg-arrows,.dcg-calculator-api-container .dcg-shared-modal-cover h1:not(.dcg-shared-left-align-title),.dcg-calculator-api-container table.dcg-braille-examples-table td:not(:first-of-type),.dcg-calculator-api-container table.dcg-braille-examples-table th:not(:first-of-type){text-align:center}.dcg-calculator-api-container table.dcg-braille-examples-table td{height:45px}.dcg-calculator-api-container table.dcg-braille-examples-table .dcg-braille-font{font-family:Abraham;font-size:110%}.dcg-calculator-api-container table.dcg-braille-examples-table .dcg-key-press{border:1px solid rgba(0,0,0,.2);background:rgba(255,255,255,.6);border-radius:3px;width:25px;height:25px;line-height:23px;text-align:center;display:inline-block;margin-right:2px;vertical-align:middle}.dcg-calculator-api-container .dcg-account-reminder div,.dcg-calculator-api-container .dcg-braille-io-keypad-container{padding-top:4px}.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad{color:#666;border-top:1px solid rgba(0,0,0,.2);padding:10px;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex}.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad a,.dcg-calculator-api-container .dcg-label-orientation-view .dcg-orientation-option.dcg-selected,.dcg-calculator-api-container .dcg-loading-container .dcg-cancel-while-loading.dcg-depressed,.dcg-calculator-api-container .dcg-shared-options-dropdown .dropdown-choice:not(.dropdown-choice-disabled).blue-link,.dcg-calculator-api-container .dcg-suggestions .dcg-feedback-action-container .dcg-template-processing .dcg-icon-check,.dcg-calculator-api-container .dcg-suggestions .dcg-feedback-action-container .dcg-template-sent .dcg-icon-check,.dcg-calculator-api-container .modal a,.dcg-calculator-api-container .trip-block .trip-interior .trip-link{color:#2f72dc}.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad a.dcg-hovered,.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox.dcg-depressed .dcg-checkbox-box .dcg-icon-check,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-show-more-row td .dcg-show-more.dcg-hovered,.dcg-calculator-api-container .dcg-label-orientation-view .dcg-orientation-option.dcg-selected.dcg-hovered,.dcg-calculator-api-container .dcg-primary-link.dcg-hovered,.dcg-calculator-api-container .dcg-settings-dropdown .dcg-download-button.dcg-braille-equations.dcg-hovered:not(.dcg-disabled),.dcg-calculator-api-container .dcg-share-container .dcg-failed .dcg-action-close.dcg-hovered,.dcg-calculator-api-container .dcg-share-container .dcg-failed .dcg-action-retry.dcg-hovered,.dcg-calculator-api-container .dcg-shared-blue-link.dcg-hovered,.dcg-calculator-api-container .dcg-shared-options-dropdown .dropdown-choice:not(.dropdown-choice-disabled).blue-link.dcg-hovered,.dcg-calculator-api-container .dcg-smart-textarea-container .dcg-displayTextarea a .dcg-depressed,.dcg-calculator-api-container .dcg-smart-textarea-container .dcg-displayTextarea a.dcg-hovered,.dcg-calculator-api-container .modal a.dcg-hovered{color:#2253a1}.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad a.dcg-depressed,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-show-more-row td .dcg-show-more.dcg-depressed,.dcg-calculator-api-container .dcg-primary-link.dcg-depressed,.dcg-calculator-api-container .dcg-settings-dropdown .dcg-download-button.dcg-braille-equations.dcg-depressed:not(.dcg-disabled),.dcg-calculator-api-container .dcg-share-container .dcg-failed .dcg-action-close.dcg-depressed,.dcg-calculator-api-container .dcg-share-container .dcg-failed .dcg-action-retry.dcg-depressed,.dcg-calculator-api-container .dcg-shared-blue-link.dcg-depressed,.dcg-calculator-api-container .dcg-shared-options-dropdown .dropdown-choice:not(.dropdown-choice-disabled).blue-link.dcg-depressed{color:#17396e}.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-examples-table-container{color:#444;padding:10px 10px 0}.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-examples-table-container table{margin-bottom:10px;border:1px solid rgba(0,0,0,.2)}.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-examples-table-container table th{background:rgba(0,0,0,.07)}.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;padding:10px 0 10px 10px}.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-title{font-size:130%;color:#333}.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-info-text{font-size:95%;margin-bottom:10px;line-height:1.2em}.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-btn-primary{padding:0 12px}.dcg-calculator-api-container .dcg-four-function-calculator .dcg-braille-io-keypad .dcg-braille-description,.dcg-calculator-api-container .dcg-scientific-calculator .dcg-braille-io-keypad .dcg-braille-description{-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.dcg-calculator-api-container .dcg-export-image-size-options,.dcg-calculator-api-container .dcg-four-function-calculator .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-title,.dcg-calculator-api-container .dcg-popover.dcg-top,.dcg-calculator-api-container .dcg-scientific-calculator .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-title{margin-bottom:10px}.dcg-calculator-api-container .dcg-four-function-calculator .dcg-braille-io-keypad .dcg-braille-description .dcg-btn-primary,.dcg-calculator-api-container .dcg-scientific-calculator .dcg-braille-io-keypad .dcg-braille-description .dcg-btn-primary{margin-right:auto}.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad{-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;text-align:center;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description{-webkit-box-orient:horizontal;-moz-box-orient:horizontal;-o-box-orient:horizontal;-webkit-box-lines:multiple;-moz-box-lines:multiple;-o-box-lines:multiple;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-pack:center;-moz-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;padding:10px}.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-title{margin:0 10px}.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description .dcg-btn-primary{-webkit-box-ordinal-group:1;-moz-box-ordinal-group:1;-o-box-ordinal-group:1;-ms-flex-order:1;-webkit-order:1;order:1;margin-right:0}.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-info-text{-webkit-box-ordinal-group:2;-moz-box-ordinal-group:2;-o-box-ordinal-group:2;-ms-flex-order:2;-webkit-order:2;order:2;width:100%;margin:5px 0 0}.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container td,.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container th{padding:2px 5px}.dcg-calculator-api-container .dcg-has-background-color .dcg-settings-dropdown.dcg-popover .dcg-popover-interior:before,.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container tr:nth-of-type(3),.dcg-calculator-api-container .dcg-short.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container tr:last-of-type,.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-more-examples-link{display:none}.dcg-calculator-api-container .dcg-short.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad{height:170px;padding:3px}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-section-subtitle,.dcg-calculator-api-container .dcg-shared-options-dropdown .dropdown-explanations .explanation,.dcg-calculator-api-container .dcg-short.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container table,.dcg-calculator-api-container .modal label.input-label{margin-bottom:5px}.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description{padding-bottom:5px}.dcg-calculator-api-container .dcg-container.dcg-no-expression-topbar .dcg-exppanel-container,.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container{padding-top:0}.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container td{height:35px}.dcg-calculator-api-container .dcg-basic-settings-container{position:relative;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;-ms-box-flex:1;box-flex:1;-webkit-flex-grow:1;flex-grow:1}.dcg-calculator-api-container .dcg-basic-settings-container .dcg-keypad-control-btn.dcg-selected{color:#333;background:rgba(0,0,0,.1)}.dcg-calculator-api-container .dcg-calc-basic-main-wrapper{height:100%;width:100%;position:relative}.dcg-calculator-api-container .dcg-calc-basic-main{height:100%;width:100%;background:#fff;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-lines:single;-moz-box-lines:single;-o-box-lines:single;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;border-radius:2px;font-family:Arial,sans-serif}.dcg-calculator-api-container *,.dcg-calculator-api-container .dcg-calc-basic-main *,.dcg-calculator-api-container .dcg-container *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.dcg-calculator-api-container .dcg-basic-keypad .dcg-mq-large-operator .dcg-mq-from,.dcg-calculator-api-container .dcg-basic-keypad .dcg-mq-large-operator .dcg-mq-to,.dcg-calculator-api-container .dcg-calc-basic-main.dcg-no-hyperlinks a[target="_blank"],.dcg-calculator-api-container .dcg-container.dcg-no-hyperlinks a[target="_blank"]{display:none!important}.dcg-calculator-api-container .dcg-settings-dropdown{font-size:95%;color:#333;width:280px;position:absolute;bottom:50px;right:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dcg-calculator-api-container .dcg-header .align-left-container .dcg-action-opendrawer i,.dcg-calculator-api-container .dcg-header .align-left-container .title-div .dcg-variable-title-container.dcg-action-savedialog,.dcg-calculator-api-container .dcg-header .align-left-container .title-div .dcg-variable-title-container[dcg-menu-button=graph-actions],.dcg-calculator-api-container .dcg-login.dcg-hovered,.dcg-calculator-api-container .dcg-mouse-over-clickable-object,.dcg-calculator-api-container .dcg-mouse-over-closed-poi,.dcg-calculator-api-container .dcg-mouse-over-interactive-label,.dcg-calculator-api-container .dcg-mouse-over-opened-poi,.dcg-calculator-api-container .dcg-settings-dropdown .dcg-settings-menu-option,.dcg-calculator-api-container .dcg-tap-container [ontap],.dcg-calculator-api-container .form_content_interior label,.dcg-calculator-api-container .graph-link-container.example-graph{cursor:pointer}.dcg-calculator-api-container #export-image-dialog .braille-instructions li,.dcg-calculator-api-container .dcg-settings-dropdown .dcg-settings-menu-option.dcg-displaysize-container,.dcg-calculator-api-container .dcg-settings-dropdown .dcg-settings-menu-option.dcg-reverse-contrast{margin-bottom:.5em}.dcg-calculator-api-container .dcg-settings-dropdown .dcg-checkbox-box{display:inline-block;position:relative;top:2px;height:15px;width:15px;border-radius:3px;color:#2f72dc;border:1px solid rgba(0,0,0,.2);margin-right:10px}.dcg-calculator-api-container .dcg-settings-dropdown .dcg-checkbox-box .dcg-icon-check{position:relative;top:-2px;left:1px;text-shadow:-1px -1px 0 #fff,1px -1px 0 #fff,-1px 1px 0 #fff,1px 1px 0 #fff;display:none}.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-nav-section .dcg-key-nav-section-title-container.dcg-poi-section-container .dcg-key-nav-section-title,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-checked .dcg-checkbox-box .dcg-icon-check,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-array>span,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-denominator,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-dot-recurring,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-hat-stem,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-from,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-to,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator big,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-numerator,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-sup,.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle.dcg-visible,.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-container .dcg-six-key-checkbox .dcg-six-key-info i,.dcg-calculator-api-container .dcg-settings-dropdown .dcg-checkbox-container.dcg-checked .dcg-icon-check,.dcg-calculator-api-container .modal label{display:block}.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn:not(.dcg-dark-gray-segmented-control-btn):not(.dcg-blue-segmented-control-btn).dcg-hovered:not(.dcg-selected),.dcg-calculator-api-container .dcg-settings-dropdown .dcg-checkbox-container.dcg-hovered .dcg-checkbox-box,.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn:not(.dcg-dark-gray-segmented-control-btn):not(.dcg-blue-segmented-control-btn).dcg-hovered:not(.dcg-selected){border-color:rgba(0,0,0,.4)}.dcg-calculator-api-container .dcg-settings-dropdown .dcg-checkbox-container.dcg-depressed .dcg-checkbox-box{border-color:rgba(0,0,0,.6)}.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;margin-top:5px}.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn,.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;color:rgba(0,0,0,.85);min-height:34px;padding:0 4px;text-align:center;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-pack:center;-moz-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-padded-segmented-control-btn,.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-padded-segmented-control-btn{padding:6px 4px;height:auto}.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn i,.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn i{font-size:120%;margin-right:4px;vertical-align:middle}.dcg-calculator-api-container .dcg-container.dcg-narrow .dcg-expression-top-bar,.dcg-calculator-api-container .dcg-hotkeys-dialog .dcg-toggle-container .dcg-action-toggleos:not(:last-of-type),.dcg-calculator-api-container .dcg-narrow .dcg-exppanel,.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn:not(:last-of-type):not(.dcg-selected):not(.dcg-hovered),.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn:not(:last-of-type):not(.dcg-selected):not(.dcg-hovered),.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option:not(:last-of-type){border-right:0}.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-hovered,.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-selected,.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-hovered,.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-selected{z-index:1}.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-expression-bottom,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-selected .dcg-main,.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-hovered:not(:last-of-type),.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-selected:not(:last-of-type),.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-hovered:not(:last-of-type),.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-selected:not(:last-of-type){margin-right:-1px}.dcg-calculator-api-container #export-image-dialog .dcg-svg-popover .dcg-download-button.dcg-depressed,.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-section-title .dcg-tooltip-hit-area-container.dcg-depressed,.dcg-calculator-api-container .dcg-export-image-size-options .dcg-options-positioning-container .dcg-options-container .dcg-option.dcg-depressed,.dcg-calculator-api-container .dcg-export-image-size-options .dcg-options-positioning-container .dcg-options-container .dcg-option.dcg-selected,.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved a.dcg-hovered,.dcg-calculator-api-container .dcg-expression-footer-title .dcg-expression-footer-title-help.dcg-depressed,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-input-focused .dcg-braille-input,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-input-focused .dcg-image-input-grid,.dcg-calculator-api-container .dcg-keypad .dcg-keys-background .dcg-minimize-keypad.dcg-depressed,.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-hovered:not(.dcg-selected),.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-selected,.dcg-calculator-api-container .dcg-language-picker .dcg-language-option.dcg-depressed,.dcg-calculator-api-container .dcg-language-picker .dcg-language-option.dcg-selected,.dcg-calculator-api-container .dcg-over-graph-hamburger .dcg-action-opendrawer.dcg-active,.dcg-calculator-api-container .dcg-regression-container .dcg-parameter-warning a.dcg-hovered,.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-hovered:not(.dcg-selected),.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-hovered:not(.dcg-selected),.dcg-calculator-api-container .dcg-shared-dark-gray-link.dcg-depressed,.dcg-calculator-api-container .dcg-shared-options-dropdown .dropdown-choice:not(.dropdown-choice-disabled).dcg-depressed,.dcg-calculator-api-container .dcg-shared-options-dropdown .dropdown-choice:not(.dropdown-choice-disabled).dcg-hovered,.dcg-calculator-api-container .dcg-shared-options-dropdown .dropdown-choice:not(.dropdown-choice-disabled).selected,.dcg-calculator-api-container .dcg-slider-container .dcg-maxLabel.dcg-depressed,.dcg-calculator-api-container .dcg-slider-container .dcg-minLabel.dcg-depressed,.dcg-calculator-api-container .dcg-toast-view .dcg-toast a.dcg-hovered,.dcg-calculator-api-container .dcg-user-bar .search-container .dcg-action-close-search.dcg-depressed,.dcg-calculator-api-container .dcg-user-bar .search-container .search-icon.dcg-depressed{color:#000}.dcg-calculator-api-container .dcg-hotkeys-dialog .dcg-toggle-container .dcg-action-toggleos.dcg-hovered:not(.dcg-selected),.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-depressed:not(.dcg-selected),.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-depressed:not(.dcg-selected),.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option.dcg-hovered:not(.dcg-selected-toggle){background:rgba(0,0,0,.05)}.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn:first-of-type,.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn:first-of-type,.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option:first-of-type{border-top-left-radius:3px;border-bottom-left-radius:3px}.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn:last-of-type,.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn:last-of-type,.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option:last-of-type{border-top-right-radius:3px;border-bottom-right-radius:3px}.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-selected{color:#fff;position:relative}.dcg-calculator-api-container .dcg-container.dcg-default-border,.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn:not(.dcg-dark-gray-segmented-control-btn):not(.dcg-blue-segmented-control-btn),.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn:not(.dcg-dark-gray-segmented-control-btn):not(.dcg-blue-segmented-control-btn){border:1px solid rgba(0,0,0,.2)}.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn:not(.dcg-dark-gray-segmented-control-btn):not(.dcg-blue-segmented-control-btn).dcg-selected,.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn:not(.dcg-dark-gray-segmented-control-btn):not(.dcg-blue-segmented-control-btn).dcg-selected{border:1px solid #2f72dc;background:rgba(47,114,220,.75)}.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-blue-segmented-control-btn,.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-dark-gray-segmented-control-btn,.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-blue-segmented-control-btn,.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-dark-gray-segmented-control-btn{border:1px solid rgba(0,0,0,.42)}.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-dark-gray-segmented-control-btn.dcg-hovered:not(.dcg-selected),.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-dark-gray-segmented-control-btn.dcg-hovered:not(.dcg-selected){border-color:rgba(0,0,0,.62)}.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-dark-gray-segmented-control-btn.dcg-selected,.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-dark-gray-segmented-control-btn.dcg-selected{border:1px solid rgba(0,0,0,.65);background:rgba(0,0,0,.65)}.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-blue-segmented-control-btn.dcg-hovered:not(.dcg-selected),.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-blue-segmented-control-btn.dcg-hovered:not(.dcg-selected){background:rgba(0,0,0,.05);border-color:rgba(0,0,0,.62)}.dcg-calculator-api-container #export-image-dialog .dcg-download-button:not(.dcg-braille-equations):not(.dcg-svg-button),.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-blue-segmented-control-btn.dcg-selected,.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-blue-segmented-control-btn.dcg-selected{background:#2f72dc}.dcg-calculator-api-container .dcg-settings-dropdown .dcg-braille-container{padding-left:26px}.dcg-calculator-api-container .dcg-settings-dropdown .dcg-download-button.dcg-braille-equations{color:#2f72dc;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;margin-bottom:10px}.dcg-calculator-api-container #export-image-dialog .dcg-svg-popover .dcg-download-button.dcg-depressed span,.dcg-calculator-api-container #export-image-dialog .dcg-svg-popover .dcg-download-button.dcg-hovered span,.dcg-calculator-api-container .dcg-account-link.dcg-active .dcg-variable-name,.dcg-calculator-api-container .dcg-account-link.dcg-hovered .dcg-variable-name,.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-link .dcg-shared-dark-gray-link span,.dcg-calculator-api-container .dcg-export-image-size-options .dcg-options-positioning-container .dcg-options-container .dcg-option.dcg-hovered,.dcg-calculator-api-container .dcg-export-image-size-options .dcg-options-positioning-container .dcg-options-container .dcg-option.dcg-selected,.dcg-calculator-api-container .dcg-header .align-left-container .title-div .dcg-variable-title-container.dcg-action-savedialog.dcg-depressed .dcg-variable-title,.dcg-calculator-api-container .dcg-header .align-left-container .title-div .dcg-variable-title-container.dcg-action-savedialog.dcg-hovered .dcg-variable-title,.dcg-calculator-api-container .dcg-header .align-left-container .title-div .dcg-variable-title-container[dcg-menu-button=graph-actions].dcg-depressed .dcg-variable-title,.dcg-calculator-api-container .dcg-header .align-left-container .title-div .dcg-variable-title-container[dcg-menu-button=graph-actions].dcg-hovered .dcg-variable-title,.dcg-calculator-api-container .dcg-language-picker .dcg-language-option.dcg-hovered,.dcg-calculator-api-container .dcg-language-picker .dcg-language-option.dcg-selected,.dcg-calculator-api-container .dcg-lost-work-link .dcg-attempt-recovery,.dcg-calculator-api-container .dcg-no-recovery-graphs .dcg-attempt-recovery,.dcg-calculator-api-container .dcg-poi-label.dcg-underlined-label .dcg-label-raw-text,.dcg-calculator-api-container .dcg-resources-container .new-blank-graph.dcg-depressed .dcg-new-graph-title,.dcg-calculator-api-container .dcg-resources-container .new-blank-graph.dcg-hovered .dcg-new-graph-title,.dcg-calculator-api-container .dcg-settings-dropdown .dcg-download-button.dcg-braille-equations span,.dcg-calculator-api-container .dcg-share-container .dcg-share-actions .dcg-embed-link.dcg-depressed span,.dcg-calculator-api-container .dcg-share-container .dcg-share-actions .dcg-embed-link.dcg-hovered span,.dcg-calculator-api-container .dcg-share-container .dcg-share-actions .dcg-embed-link.dcg-selected span,.dcg-calculator-api-container .dcg-share-container .dcg-share-actions .dcg-export-image-link.dcg-depressed span,.dcg-calculator-api-container .dcg-share-container .dcg-share-actions .dcg-export-image-link.dcg-hovered span,.dcg-calculator-api-container .dcg-share-container .dcg-share-actions .dcg-export-image-link.dcg-selected span,.dcg-calculator-api-container .dcg-share-container .dcg-share-actions .dcg-print-link.dcg-depressed span,.dcg-calculator-api-container .dcg-share-container .dcg-share-actions .dcg-print-link.dcg-hovered span,.dcg-calculator-api-container .dcg-share-container .dcg-share-actions .dcg-print-link.dcg-selected span,.dcg-calculator-api-container .dcg-shared-options-dropdown .dropdown-choice:not(.dropdown-choice-disabled).dcg-depressed span,.dcg-calculator-api-container .dcg-shared-options-dropdown .dropdown-choice:not(.dropdown-choice-disabled).dcg-hovered span,.dcg-calculator-api-container .dcg-shared-options-dropdown .dropdown-choice:not(.dropdown-choice-disabled).selected span,.dcg-calculator-api-container .dcg-tours-content .dcg-feature.dcg-depressed,.dcg-calculator-api-container .dcg-tours-content .dcg-feature.dcg-hovered,.dcg-calculator-api-container .dcg-user-bar .dcg-search-btn.dcg-depressed .dcg-menu-title,.dcg-calculator-api-container .dcg-user-bar .dcg-search-btn.dcg-hovered .dcg-menu-title,.dcg-calculator-api-container .graph-link-container.removed-graph .undo-removegraph{text-decoration:underline}.dcg-calculator-api-container #export-image-dialog .dcg-svg-popover .dcg-download-button i,.dcg-calculator-api-container .dcg-popover.dcg-left,.dcg-calculator-api-container .dcg-settings-dropdown .dcg-download-button.dcg-braille-equations i{margin-right:10px}.dcg-calculator-api-container .dcg-settings-dropdown .dcg-six-key-info{display:inline-block;color:#999;text-decoration:none;margin-left:.5em;font-size:85%}.dcg-calculator-api-container #export-image-dialog .dcg-svg-popover .dcg-download-button.dcg-hovered,.dcg-calculator-api-container .dcg-basic-keypad .dcg-audio-keypad-column .dcg-keypad-btn-container .dcg-keypad-btn:not(.dcg-btn-short-blue),.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-section-title .dcg-tooltip-hit-area-container.dcg-hovered,.dcg-calculator-api-container .dcg-evaluation-container .dcg-fraction-toggle.dcg-depressed,.dcg-calculator-api-container .dcg-learn-more-link.dcg-active,.dcg-calculator-api-container .dcg-parameter-suggestion-container.dcg-depressed .dcg-default-marker,.dcg-calculator-api-container .dcg-search-container .dcg-remove-x.dcg-depressed,.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-container .dcg-six-key-checkbox .dcg-six-key-info.dcg-active,.dcg-calculator-api-container .dcg-settings-dropdown .dcg-six-key-info.dcg-active,.dcg-calculator-api-container .dcg-shared-account-dialog,.dcg-calculator-api-container .dcg-shared-dark-gray-link.dcg-hovered,.dcg-calculator-api-container .dcg-slider-container .dcg-maxLabel.dcg-hovered,.dcg-calculator-api-container .dcg-slider-container .dcg-minLabel.dcg-hovered{color:#333}.dcg-calculator-api-container .dcg-settings-dropdown .dcg-six-key-checkbox{display:inline-block;margin-top:5px}.dcg-calculator-api-container .dcg-account-container a.dcg-action-logout,.dcg-calculator-api-container .dcg-settings-dropdown.dcg-popover .dcg-popover-interior{padding:15px}.dcg-calculator-api-container .dcg-settings-dropdown.dcg-popover .dcg-popover-interior:after{content:"";position:absolute;bottom:-7px;right:18px;border-width:7px 7px 0;border-style:solid;border-color:#fff transparent transparent;line-height:0}.dcg-calculator-api-container .dcg-settings-dropdown.dcg-popover .dcg-popover-interior:before{content:"";position:absolute;bottom:-8px;right:17px;border-width:8px 8px 0;border-style:solid;border-color:#ccc transparent transparent;line-height:0}.dcg-calculator-api-container .dcg-settings-dropdown.dcg-point-left{position:absolute;top:-30px;left:-280px}.dcg-calculator-api-container .dcg-settings-dropdown.dcg-point-left.dcg-popover .dcg-popover-interior:after{content:"";position:absolute;right:-7px;top:43px;border-width:7px 0 7px 7px;border-style:solid;border-color:transparent transparent transparent #fff;line-height:0}.dcg-calculator-api-container .dcg-settings-dropdown.dcg-point-left.dcg-popover .dcg-popover-interior:before{content:"";position:absolute;right:-8px;top:42px;border-width:8px 0 8px 8px;border-style:solid;border-color:transparent transparent transparent #ccc;line-height:0}.dcg-calculator-api-container .dcg-has-background-color .dcg-expressionitem,.dcg-calculator-api-container .dcg-has-background-color .dcg-settings-dropdown.dcg-popover .dcg-popover-interior:after{border-top-color:rgba(0,0,0,.2)}.dcg-calculator-api-container .dcg-scientific-calculator.dcg-narrow .dcg-settings-dropdown.dcg-popover:not(.dcg-point-left) .dcg-popover-interior:after{right:10px}.dcg-calculator-api-container .dcg-scientific-calculator.dcg-narrow .dcg-settings-dropdown.dcg-popover:not(.dcg-point-left) .dcg-popover-interior:before{right:9px}.dcg-calculator-api-container .dcg-version-number{color:#666;font-size:90%;text-align:center;margin-top:15px}.dcg-calculator-api-container .dcg-btn-blue,.dcg-calculator-api-container .dcg-btn-light-gray,.dcg-calculator-api-container .dcg-btn-primary,.dcg-calculator-api-container .dcg-btn-red,.dcg-calculator-api-container .dcg-btn-secondary,.dcg-calculator-api-container .dcg-btn-white-outline,.dcg-calculator-api-container .dcg-shared-btn-blue,.dcg-calculator-api-container .dcg-shared-btn-red{text-decoration:none;white-space:nowrap;padding:0 20px;-webkit-appearance:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:3px;line-height:34px;font-size:100%}.dcg-calculator-api-container .dcg-btn-blue,.dcg-calculator-api-container .dcg-btn-primary,.dcg-calculator-api-container .dcg-btn-red,.dcg-calculator-api-container .dcg-btn-secondary{color:#fff;-webkit-box-shadow:inset 0 1px rgba(255,255,255,.1),inset 0 -1px rgba(0,0,0,.05);box-shadow:inset 0 1px rgba(255,255,255,.1),inset 0 -1px rgba(0,0,0,.05)}.dcg-calculator-api-container .dcg-btn-blue.dcg-hovered:not(.dcg-disabled),.dcg-calculator-api-container .dcg-btn-primary.dcg-hovered:not(.dcg-disabled),.dcg-calculator-api-container .dcg-btn-red.dcg-hovered:not(.dcg-disabled){-webkit-transition:background .2s;-moz-transition:background .2s;-o-transition:background .2s;-ms-transition:background .2s;transition:background .2s}.dcg-calculator-api-container .dcg-btn-red{background:#ce4945;border:1px solid #aa3a37}.dcg-calculator-api-container .dcg-btn-red.dcg-hovered:not(.dcg-disabled){background:#bc433f}.dcg-calculator-api-container .dcg-btn-red.dcg-depressed:not(.dcg-disabled){background:#b03936}.dcg-calculator-api-container .dcg-btn-blue,.dcg-calculator-api-container .dcg-btn-primary{background:#2f72dc;border:1px solid #2964c2}.dcg-calculator-api-container #export-image-dialog .dcg-download-button-group .dcg-button.dcg-hovered:not(.dcg-disabled),.dcg-calculator-api-container #export-image-dialog .dcg-download-button:not(.dcg-braille-equations):not(.dcg-svg-button).dcg-hovered:not(.dcg-disabled),.dcg-calculator-api-container .dcg-btn-blue.dcg-hovered,.dcg-calculator-api-container .dcg-btn-primary.dcg-hovered,.dcg-calculator-api-container .dcg-selectable-input-container .dcg-copy-button.dcg-hovered,.dcg-calculator-api-container .dcg-share-container .dcg-art-contest-container .dcg-enter-btn.dcg-hovered{background:#2964c2}.dcg-calculator-api-container .dcg-btn-blue.dcg-depressed,.dcg-calculator-api-container .dcg-btn-primary.dcg-depressed,.dcg-calculator-api-container .dcg-selectable-input-container .dcg-copy-button.dcg-depressed,.dcg-calculator-api-container .dcg-share-container .dcg-art-contest-container .dcg-enter-btn.dcg-depressed{background:#2457a8}.dcg-calculator-api-container .dcg-btn-secondary{background:#fff;border:1px solid #2f72dc;color:#2f72dc}.dcg-calculator-api-container .dcg-btn-secondary.dcg-hovered{border-color:#2964c2;-webkit-box-shadow:0 0 0 1px #2964c2;box-shadow:0 0 0 1px #2964c2;color:#2253a1}.dcg-calculator-api-container .dcg-btn-secondary.dcg-depressed{border-color:#2457a8;-webkit-box-shadow:0 0 0 1px #2457a8;box-shadow:0 0 0 1px #2457a8;color:#17396e;background:rgba(47,114,220,.1)}.dcg-calculator-api-container .dcg-btn-white-outline{border:1px solid rgba(250,250,250,.8);color:rgba(250,250,250,.9)}.dcg-calculator-api-container .dcg-btn-white-outline.dcg-depressed,.dcg-calculator-api-container .dcg-btn-white-outline.dcg-hovered{border-color:rgba(250,250,250,.9);-webkit-box-shadow:0 0 0 1px rgba(250,250,250,.9);box-shadow:0 0 0 1px rgba(250,250,250,.9);color:#fff}.dcg-calculator-api-container .dcg-btn-white-outline.dcg-depressed{background:rgba(250,250,250,.1)}.dcg-calculator-api-container .dcg-btn-light-gray{-webkit-box-shadow:inset 0 1px rgba(255,255,255,.25),inset 0 -1px rgba(0,0,0,.02);box-shadow:inset 0 1px rgba(255,255,255,.25),inset 0 -1px rgba(0,0,0,.02);background:-webkit-linear-gradient(#f6f6f6,#f0f0f0);background:-moz-linear-gradient(#f6f6f6,#f0f0f0);background:-o-linear-gradient(#f6f6f6,#f0f0f0);background:-ms-linear-gradient(#f6f6f6,#f0f0f0);background:linear-gradient(#f6f6f6,#f0f0f0);border:1px solid rgba(0,0,0,.1)}.dcg-calculator-api-container .dcg-btn-light-gray.dcg-hovered{background:#ededed;border:1px solid rgba(0,0,0,.13)}.dcg-calculator-api-container .dcg-btn-light-gray.dcg-depressed{background:#e0e0e0;border:1px solid rgba(0,0,0,.15);-webkit-box-shadow:none;box-shadow:none}.dcg-calculator-api-container .dcg-primary-link,.dcg-calculator-api-container .dcg-shared-blue-link{color:#2f72dc;cursor:pointer;text-decoration:underline}.dcg-calculator-api-container .dcg-header .align-left-container .dcg-action-opendrawer,.dcg-calculator-api-container .dcg-pull-left,.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-component-checkbox{float:left}.dcg-calculator-api-container .dcg-inverted-colors .dcg-btn-blue,.dcg-calculator-api-container .dcg-inverted-colors .dcg-btn-primary,.dcg-calculator-api-container .dcg-inverted-colors .dcg-btn-red{-webkit-box-shadow:inset 0 -1px rgba(255,255,255,.15),inset 0 1px rgba(0,0,0,.1);box-shadow:inset 0 -1px rgba(255,255,255,.15),inset 0 1px rgba(0,0,0,.1)}.dcg-calculator-api-container input.dcg-input-blue-outline,.dcg-calculator-api-container input.dcg-shared-input-blue-outline,.dcg-calculator-api-container textarea.dcg-input-blue-outline,.dcg-calculator-api-container textarea.dcg-shared-input-blue-outline{outline:0;border-radius:3px;border:1px solid #ccc;padding:7px;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.dcg-calculator-api-container .dcg-options-menu textarea:focus,.dcg-calculator-api-container input.dcg-input-blue-outline:focus,.dcg-calculator-api-container input.dcg-shared-input-blue-outline:focus,.dcg-calculator-api-container textarea.dcg-input-blue-outline:focus,.dcg-calculator-api-container textarea.dcg-shared-input-blue-outline:focus{border:1px solid #2f72dc;-webkit-box-shadow:0 0 0 1px #2f72dc;box-shadow:0 0 0 1px #2f72dc}.dcg-calculator-api-container input.dcg-input-blue-outline::-ms-clear,.dcg-calculator-api-container textarea.dcg-input-blue-outline::-ms-clear{display:none}.dcg-calculator-api-container .dcg-account-container{min-width:200px;max-width:320px}.dcg-calculator-api-container .dcg-account-container.dcg-product-graphing .dcg-arrow{right:125px}.dcg-calculator-api-container .dcg-account-container.dcg-product-geometry .dcg-arrow{right:5px}.dcg-calculator-api-container .dcg-account-container .user-info{border-bottom:1px solid rgba(0,0,0,.2);line-height:1em;padding:15px}.dcg-calculator-api-container .dcg-account-container .user-info .account-email,.dcg-calculator-api-container .dcg-account-container .user-info .account-name{color:#666;display:block;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.dcg-calculator-api-container .dcg-account-container .user-info .account-name,.dcg-calculator-api-container .dcg-header .align-left-container,.dcg-calculator-api-container .dcg-header .align-right-container,.dcg-calculator-api-container .dcg-shared-login-dialog .dcg-shared-dark-gray-link{white-space:nowrap}.dcg-calculator-api-container .dcg-account-container .user-info .account-email{font-size:85%;display:block;height:1.3em}.dcg-calculator-api-container .dcg-account-container a{display:block;cursor:pointer;color:#000;font-size:100%;line-height:1em}.dcg-calculator-api-container .dcg-account-container a.dcg-action-accountsettings{padding-top:15px}.dcg-calculator-api-container .dcg-account-container a.dcg-hovered{text-decoration:underline;color:#222}.dcg-calculator-api-container .dcg-advanced-settings .dcg-feature-flag-description{padding:5px 0 10px 25px;font-size:90%}.dcg-calculator-api-container .dcg-advanced-settings .dcg-shared-confirmation-message{margin-left:25px}.dcg-calculator-api-container .dcg-advanced-settings .dcg-shared-confirmation-message .dcg-success-marker.dcg-saving,.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox .dcg-checkbox-box:not(.dcg-checked) .dcg-icon-check,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable:not(.dcg-selected) .dcg-tabledata .dcg-row:last-of-type,.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-cursor.dcg-mq-blink,.dcg-calculator-api-container .dcg-template-expressioneach .dcg-expressionitem.dcg-dragging{visibility:hidden}@media only screen and (max-width:800px){.dcg-calculator-api-container .dcg-header:not(.dcg-secure-header) .align-center-container{display:none}}@media only screen and (max-width:640px){.dcg-calculator-api-container .dcg-account-link,.dcg-calculator-api-container .dcg-header .dcg-login{display:none}}@media only screen and (max-width:600px){.dcg-calculator-api-container .align-right-container .dcg-header-btn-group{display:none}}@media only screen and (min-width:451px) and (min-height:451px){.dcg-calculator-api-container .dcg-in-api-action-opendrawer{display:none!important}}.dcg-calculator-api-container .dcg-contest-submission-dialog{font-size:120%;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;color:#333}.dcg-calculator-api-container .dcg-contest-submission-dialog .bold-text,.dcg-calculator-api-container .dcg-resources-container .dcg-sidebar-contest-submit .dcg-contest-submit-message .dcg-bold-text,.dcg-calculator-api-container .dcg-share-container .dcg-art-contest-container .dcg-contest-submit-message .dcg-bold-text{font-weight:600}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-art-contest-success-image,.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-art-contest-world-image{width:250px;margin-right:50px}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-art-contest-info-container,.dcg-calculator-api-container .dcg-expression-search-bar .dcg-replace-row,.dcg-calculator-api-container .dcg-expression-search-bar .dcg-search-row,.dcg-calculator-api-container .dcg-suggestions .dcg-feedback-action-container,.dcg-calculator-api-container .graph-preview .dcg-graph-preview-info{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-art-contest-info-container .dcg-contest-about,.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-ineligible-container .dcg-ineligible-text-container{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-art-contest-info-container .dcg-contest-about .dcg-learn-more-link,.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-ineligible-container .dcg-ineligible-text-container .dcg-ineligible-text+.dcg-ineligible-text,.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-save-success .dcg-congrats-message+.dcg-congrats-message,.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-selectable-input-container,.dcg-calculator-api-container .dcg-hotkeys-dialog .dcg-hotkey-container .dcg-hotkey-section-header:first-of-type,.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row:first-of-type,.dcg-calculator-api-container .dcg-popover.dcg-bottom,.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title.dcg-x-axis-title,.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container,.dcg-calculator-api-container .dcg-suggestions .dcg-feedback-action-container .dcg-template-processing,.dcg-calculator-api-container .dcg-suggestions .dcg-feedback-action-container .dcg-template-sent{margin-top:10px}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-art-contest-info-container .dcg-contest-about .age-check-container,.dcg-calculator-api-container .dcg-shared-signup-dialog .dcg-shared-account-content-container .dcg-shared-switch-account-type{text-align:center;margin-top:10px}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-teal-notice{border:1px solid #4dc7b4;background:rgba(77,199,180,.2);border-radius:5px;padding:10px}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-login-notice{margin:5px 0 15px;font-size:90%;color:#666;text-align:center}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-save-animation-container{background:rgba(255,255,255,.95);display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;color:#333;font-size:110%;min-height:200px}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-save-animation-container .dcg-saving{height:100%;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-moz-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-save-animation-container .dcg-save-animation .dcg-spinner{margin-right:10px;position:relative;top:5px}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-save-success{font-size:150%;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-save-success .dcg-save-animation-content{font-size:60%;margin-top:10px}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-clear-country{margin-left:5px;font-size:80%}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-contest-submission-title{margin-bottom:10px;font-size:150%}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-eligible-message{margin:20px 0}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-submit-for-others{font-size:85%;color:#666;margin-top:20px;border-top:1px solid rgba(0,0,0,.2);padding-top:20px}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-local-regulations-notice{margin-top:20px;color:#666}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-submit-this-graph-btn{font-size:115%;margin-top:20px;display:block;padding:10px 0;text-align:center;color:#fff!important;text-decoration:none!important}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container.dcg-disabled,.dcg-calculator-api-container .dcg-basic-keypad .dcg-playback-column .dcg-key-nav-section-container .dcg-key-nav-section-title-container.dcg-disabled,.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden.dcg-hovered.dcg-white-icon:before,.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-btn-blue.dcg-disabled,.dcg-calculator-api-container body.resources-open .dcg-sliding-interior #graph-container{opacity:.5}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-ineligible-container{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;margin-top:20px;border:1px solid rgba(250,130,76,.2);background:rgba(250,130,76,.2);border-radius:5px;padding:10px}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-ineligible-container .dcg-icon-error{color:#fa824c;margin-right:10px;font-size:90%}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-submission-form,.dcg-calculator-api-container .dcg-mq-underline-container :not(.dcg-evaluation)>.dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input{font-size:95%}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-submission-form .dcg-section-title,.dcg-calculator-api-container .dcg-delete-modal .dcg-action-buttons div[role=button],.dcg-calculator-api-container .dcg-header .align-left-container .title-div,.dcg-calculator-api-container .dcg-mq-editable-field,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-non-leaf,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-scaled,.dcg-calculator-api-container .dcg-mq-underline-container :not(.dcg-evaluation)>.dcg-mathquill-wrapper,.dcg-calculator-api-container .dcg-regression-container .dcg-residuals>.dcg-mathquill-wrapper,.dcg-calculator-api-container .dcg-settings-container .dcg-editable-mathquill-container .dcg-mathquill-wrapper,.dcg-calculator-api-container .dcg-slider-options-view .dcg-slider-speed-menu .dcg-slider-speed-container,.dcg-calculator-api-container .dcg-slider-options-view .dcg-slider-speed-menu .dcg-title{display:inline-block}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-submission-form .blue-link{display:inline-block;margin-left:5px}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-section-title{font-family:"Helvetica Neue",Helvetica,Arial,"Lucida Grande",sans-serif;font-weight:500;margin-bottom:5px}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-form-section,.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title.dcg-y-axis-title{margin-top:20px}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-country-and-year{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;margin-top:10px}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-country-and-year .dcg-form-section{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;margin-top:0}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-searchable-dropdown-list{max-height:260px!important}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-shared-input-blue-outline{width:100%;font:inherit;font-size:95%;margin-bottom:5px;padding:8px}.dcg-calculator-api-container .dcg-delete-modal h1{color:#666;margin-bottom:1em}.dcg-calculator-api-container .dcg-delete-modal .dcg-error-message{text-align:center;font-size:90%;background:rgba(192,80,77,.1);padding:5px;border:1px solid rgba(192,80,77,.5);border-radius:3px;color:#c0504d;-webkit-animation:.3s fadeIn;-moz-animation:.3s fadeIn;-o-animation:.3s fadeIn;-ms-animation:fadeIn 0.3s;animation:.3s fadeIn}.dcg-calculator-api-container .dcg-delete-modal .dcg-action-buttons{margin-top:2em;text-align:right}.dcg-calculator-api-container .dcg-delete-modal .dcg-action-buttons>*+*,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell:not(:first-of-type):not(:last-of-type) .dcg-mq-editable-field,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell:not(:first-of-type):not(:last-of-type) .dcg-static-mathquill-view,.dcg-calculator-api-container .dcg-mq-underline-container .dcg-slider-step-container,.dcg-calculator-api-container .dcg-popover.dcg-right,.dcg-calculator-api-container .dcg-shared-account-dialog .dcg-shared-email-form-container .dcg-shared-name-container .dcg-shared-name-input+.dcg-shared-name-input,.dcg-calculator-api-container .dcg-shared-profile-info .dcg-shared-name-field .dcg-shared-profile-info-container .dcg-shared-name-input+.dcg-shared-name-input{margin-left:10px}.dcg-calculator-api-container #export-image-dialog h1{color:#666;font-size:170%;max-width:800px;margin-left:auto;margin-right:auto;margin-bottom:5px}.dcg-calculator-api-container #export-image-dialog .dcg-columns{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;width:100%;margin:0 auto;max-width:800px}.dcg-calculator-api-container #export-image-dialog .dcg-right-column{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;padding-left:25px;position:relative}.dcg-calculator-api-container #export-image-dialog .dcg-graph-preview{width:400px;border:1px solid #bbb;height:400px;background-color:#e2e2e2;position:relative;text-align:center;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;overflow:hidden}.dcg-calculator-api-container #export-image-dialog .dcg-graph-preview .dcg-graph-image{max-width:100%;-webkit-box-shadow:0 0 5px rgba(0,0,0,.2);box-shadow:0 0 5px rgba(0,0,0,.2);margin:0 auto}.dcg-calculator-api-container #export-image-dialog .dcg-graph-preview .dcg-loading-message{position:absolute;top:50%;left:0;right:0;text-align:center;line-height:10px;color:#999;margin-top:-5px}.dcg-calculator-api-container #export-image-dialog .dcg-graph-preview .dcg-loading-message .dcg-spinner{margin-right:6px;position:relative;top:5px}.dcg-calculator-api-container #export-image-dialog .dcg-graph-preview .dcg-zoom-percentage{position:absolute;bottom:0;right:0;background:rgba(0,0,0,.7);padding:6px 7px;color:#fff;border-top-left-radius:2px}.dcg-calculator-api-container #export-image-dialog .braille-instructions{max-height:160px;overflow:auto}.dcg-calculator-api-container #export-image-dialog .dcg-section-title{font-size:130%;color:#666;margin-bottom:5px}.dcg-calculator-api-container #export-image-dialog .dcg-export-image-size-options{margin-bottom:20px}.dcg-calculator-api-container #export-image-dialog .dcg-button-group,.dcg-calculator-api-container .dcg-basic-keypad .dcg-audio-keypad-container,.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container,.dcg-calculator-api-container .dcg-shared-account-dialog .dcg-shared-email-form-container .dcg-shared-name-container,.dcg-calculator-api-container .dcg-shared-account-settings-dialog,.dcg-calculator-api-container .dcg-shared-profile-info .dcg-shared-profile-info-container,.dcg-calculator-api-container .dcg-toggle{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex}.dcg-calculator-api-container #export-image-dialog .dcg-button-group .dcg-button{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;padding:10px;text-align:center}.dcg-calculator-api-container #export-image-dialog .dcg-button-group .dcg-button.dcg-selected{border:1px solid #2f72dc;background-color:#2f72dc;color:rgba(255,255,255,.9)}.dcg-calculator-api-container #export-image-dialog .dcg-button-group .dcg-button.dcg-selected.dcg-hovered{border-color:rgba(34,83,161,.6);-webkit-box-shadow:inset 0 0 0 1px rgba(34,83,161,.6);box-shadow:inset 0 0 0 1px rgba(34,83,161,.6)}.dcg-calculator-api-container #export-image-dialog .dcg-button-group .dcg-button.dcg-selected.dcg-depressed{border-color:#2253a1;-webkit-box-shadow:inset 0 0 0 1px #2253a1;box-shadow:inset 0 0 0 1px #2253a1}.dcg-calculator-api-container #export-image-dialog .dcg-button-group .dcg-button:not(.dcg-selected){border:1px solid #999;color:#333}.dcg-calculator-api-container #export-image-dialog .dcg-button-group .dcg-button:not(.dcg-selected).dcg-hovered,.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-depressed .dcg-log-mode-checkbox{border-color:#666}.dcg-calculator-api-container #export-image-dialog .dcg-button-group .dcg-button:not(.dcg-selected).dcg-depressed{border-color:#666;background:rgba(0,0,0,.05)}.dcg-calculator-api-container #export-image-dialog .dcg-button-group .dcg-button:first-of-type{border-right:none;border-radius:6px 0 0 6px}.dcg-calculator-api-container #export-image-dialog .dcg-button-group .dcg-button:last-of-type{border-left:none;border-radius:0 6px 6px 0}.dcg-calculator-api-container #export-image-dialog .dcg-offscreen-calculator{width:800px;height:800px;position:fixed;top:-1000px}.dcg-calculator-api-container #export-image-dialog .dcg-download-not-enabled-notice{position:absolute;bottom:0;right:0;left:25px;border-radius:5px;border:2px solid #2f72dc;background:rgba(47,114,220,.1);padding:10px;text-align:left}.dcg-calculator-api-container #export-image-dialog .dcg-download-not-enabled-notice .dcg-title{font-size:140%;margin-bottom:4px;text-align:center}.dcg-calculator-api-container #export-image-dialog .dcg-download-button-group{position:absolute;bottom:0;right:0;left:25px;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex}.dcg-calculator-api-container #export-image-dialog .dcg-download-button-group .dcg-download-button{-webkit-box-flex:8;-moz-box-flex:8;-o-box-flex:8;box-flex:8;-webkit-flex:8;-ms-flex:8;flex:8}.dcg-calculator-api-container #export-image-dialog .dcg-download-button-group:not(.dcg-download-button-group-singleton) .dcg-download-button{border-top-right-radius:0;border-bottom-right-radius:0;border-right:none}.dcg-calculator-api-container #export-image-dialog .dcg-download-button-group .dcg-button{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;cursor:pointer;padding:15px 5px 10px;text-align:center;border-left:1px solid rgba(250,250,250,.35);border-top-right-radius:5px;border-bottom-right-radius:5px;font-size:90%;color:#fff;background:#2f72dc}.dcg-calculator-api-container #export-image-dialog .dcg-download-button-group .dcg-button.dcg-depressed:not(.dcg-disabled),.dcg-calculator-api-container #export-image-dialog .dcg-download-button:not(.dcg-braille-equations):not(.dcg-svg-button).dcg-depressed:not(.dcg-disabled){-webkit-box-shadow:inset 0 0 10px rgba(0,0,0,.4);box-shadow:inset 0 0 10px rgba(0,0,0,.4)}.dcg-calculator-api-container #export-image-dialog .dcg-download-button-group .dcg-button.dcg-disabled,.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-container .dcg-circular-icon-container.dcg-disabled{opacity:.4;pointer-events:none}.dcg-calculator-api-container #export-image-dialog .dcg-download-button{text-align:center;border-radius:5px;cursor:pointer;padding:10px;color:#fff;font-size:110%;text-decoration:none;-webkit-transition:opacity .2s;-moz-transition:opacity .2s;-o-transition:opacity .2s;-ms-transition:opacity .2s;transition:opacity .2s}.dcg-calculator-api-container #export-image-dialog .dcg-download-button i,.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-content .dcg-button-icon:not(.dcg-icon-only):not(.dcg-icon-after-text),.dcg-calculator-api-container .dcg-suggestions .dcg-feedback-action-container .dcg-template-processing .dcg-icon-check,.dcg-calculator-api-container .dcg-suggestions .dcg-feedback-action-container .dcg-template-processing .dcg-spinner,.dcg-calculator-api-container .dcg-suggestions .dcg-feedback-action-container .dcg-template-sent .dcg-icon-check,.dcg-calculator-api-container .dcg-suggestions .dcg-feedback-action-container .dcg-template-sent .dcg-spinner{margin-right:5px}.dcg-calculator-api-container #export-image-dialog .dcg-download-button span{white-space:nowrap;display:inline-block;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;max-width:calc(100% - 20px)}.dcg-calculator-api-container #export-image-dialog .dcg-download-button.dcg-braille-equations{position:absolute;bottom:45px;right:0;left:25px;border:1px solid #2f72dc;color:#2f72dc}.dcg-calculator-api-container #export-image-dialog .dcg-download-button.dcg-braille-equations.dcg-hovered:not(.dcg-disabled){-webkit-box-shadow:0 0 0 1px #2f72dc;box-shadow:0 0 0 1px #2f72dc;color:#2253a1}.dcg-calculator-api-container #export-image-dialog .dcg-download-button.dcg-braille-equations.dcg-depressed:not(.dcg-disabled){background:rgba(47,114,220,.2)}.dcg-calculator-api-container #export-image-dialog .dcg-download-button.dcg-disabled,.dcg-calculator-api-container .dcg-circular-icon.dcg-semi-transparent,.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-depressed:before,.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title .dcg-axis-label[disabled]{opacity:.4}.dcg-calculator-api-container #export-image-dialog .dcg-feedback-link .blue-link{margin-left:5px}.dcg-calculator-api-container #export-image-dialog .braille-instructions .dcg-section-title{margin-top:1em}.dcg-calculator-api-container #export-image-dialog .braille-instructions ul{padding-left:15px;margin-top:5px}.dcg-calculator-api-container #export-image-dialog .dcg-svg-popover{position:absolute;bottom:41px;right:0;left:25px}.dcg-calculator-api-container #export-image-dialog .dcg-svg-popover .dcg-arrow{left:calc(100% - 20px)}.dcg-calculator-api-container #export-image-dialog .dcg-svg-popover .dcg-popover-interior{padding:0 15px;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;height:50px;overflow:hidden}.dcg-calculator-api-container #export-image-dialog .dcg-svg-popover .dcg-download-button{-webkit-box-flex:8;-moz-box-flex:8;-o-box-flex:8;box-flex:8;-webkit-flex:8;-ms-flex:8;flex:8;height:50px;background:#fff;color:#666;display:inline-block;padding:0;text-align:left;vertical-align:middle;white-space:nowrap}.dcg-calculator-api-container #export-image-dialog .dcg-svg-popover .dcg-download-button span{margin-top:16px}.dcg-calculator-api-container #export-image-dialog .dcg-svg-popover .dcg-beta-tag{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:inline-block;background:#2f72dc;color:#fff;padding:3px 7px;border-radius:3px;margin-left:10px}@media screen and (max-width:815px){.dcg-calculator-api-container .dcg-modal-container.dcg-fixed-width-height.dcg-export-modal .modal{height:450px}.dcg-calculator-api-container #export-image-dialog .dcg-graph-preview{width:350px;height:350px}.dcg-calculator-api-container #export-image-dialog .dcg-graph-preview .dcg-zoom-percentage{display:none}.dcg-calculator-api-container #export-image-dialog .braille-instructions{max-height:115px}}@media screen and (max-width:625px){.dcg-calculator-api-container #export-image-dialog{max-width:350px;margin:0 auto}.dcg-calculator-api-container #export-image-dialog .dcg-columns{-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.dcg-calculator-api-container #export-image-dialog .dcg-right-column{max-width:350px;padding:20px 0 100px}.dcg-calculator-api-container #export-image-dialog .dcg-download-button,.dcg-calculator-api-container #export-image-dialog .dcg-download-not-enabled-notice{display:block;left:0}}.dcg-calculator-api-container .dcg-export-image-size-options .dcg-selected-option{padding:10px;border:1px solid #bbb;border-radius:5px;position:relative}.dcg-calculator-api-container .dcg-export-image-size-options .dcg-selected-option i{position:absolute;top:12px;right:12px;color:#bbb}.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox.dcg-hovered .dcg-checkbox-box,.dcg-calculator-api-container .dcg-export-image-size-options .dcg-selected-option.dcg-hovered,.dcg-calculator-api-container .dcg-export-image-size-options .dcg-selected-option.dcg-menu-open{border-color:#999}.dcg-calculator-api-container .dcg-export-image-size-options .dcg-options-positioning-container{position:relative;margin-top:3px}.dcg-calculator-api-container .dcg-export-image-size-options .dcg-options-positioning-container .dcg-options-container{position:absolute;top:0;left:0;right:0;background:#fff;padding:5px;border:1px solid #bbb;border-radius:3px;z-index:2}.dcg-calculator-api-container .dcg-export-image-size-options .dcg-options-positioning-container .dcg-options-container .dcg-option{padding:5px;color:#333}.dcg-calculator-api-container .dcg-export-image-size-options .dcg-options-positioning-container .dcg-options-container .dcg-embosser-title{font-size:90%;text-transform:uppercase;color:#666;margin:10px 0 0;padding:5px}.dcg-calculator-api-container .dcg-export-image-size-options .dcg-options-positioning-container:after{content:"";position:absolute;top:-8px;right:10px;border-width:0 9px 9px;border-style:solid;border-color:transparent transparent #fff;z-index:2}.dcg-calculator-api-container .dcg-export-image-size-options .dcg-options-positioning-container:before{content:"";position:absolute;top:-9px;right:9px;border-width:0 10px 10px;border-style:solid;border-color:transparent transparent #ccc;z-index:2}.dcg-calculator-api-container .dcg-previewMode{text-align:center;padding:10px;background:#fff0ab;border:1px solid #ffd76f;border-radius:4px;margin:5px 0}.dcg-calculator-api-container .dcg-help-container{width:21.9em}.dcg-calculator-api-container .dcg-help-container .dcg-arrow{right:44px}.dcg-calculator-api-container .dcg-clear,.dcg-calculator-api-container .dcg-popover-title,.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle,.dcg-calculator-api-container .dcg-regression-container .dcg-parameters-container .dcg-parameter:nth-of-type(odd){clear:both}.dcg-calculator-api-container .dcg-tours-content .dcg-feature{width:21%;float:left;font-size:93%;text-align:center;color:#333;line-height:1.2em;text-decoration:none;cursor:pointer}.dcg-calculator-api-container .dcg-tours-content .dcg-feature .dcg-thumb{-webkit-transition:-webkit-transform .2s;-moz-transition:-moz-transform .2s;-o-transition:-o-transform .2s;-ms-transition:-ms-transform .2s;transition:transform .2s;display:block;margin:.3em auto .8em;border-radius:50%;border:1px solid rgba(0,0,0,.2);overflow:hidden;width:60px;height:60px}.dcg-calculator-api-container .dcg-tours-content .dcg-feature .dcg-thumb.dcg-sliders{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAIAAAABc2X6AAAHhElEQVR4AezSsQ2AIBBAUbeFEdiBkhkomYcRTLCmEOLpFdpbUEj8vyJHcy+5ZR9RrfWcJMCAAQMGDBgwYMC/BAMGDBgw4HVEpZRtkjhpwIABAwYMGDBgwIAB3+kyMcYQQkpJd3sF7r2LiH4fT/rWic4/Dm6tWWudczlnY4z3/mKWDDA0hKIovJIqaQttqCUEaAfBIFEBFKqQUAUCUkE1QZAiKgFQAmEOj/EjJsA88Fy34/t65w9hfIApLtM05XkeRVEQBHEcl2W5LMt93yT03wpnWcYwTN/3uANeEIR5np+FycNiBFXHcQzDcF03TVNEQNi2bV3XwzDc9504vxcm7Wjb1vM8oIAD4fh3SZKYpnkcBxbO8+y6rmma749T1/UwDKRfLw+YOY4jkkjjeb4oimdhUuOqqjRNA9O6rhj+4l7XNY6j7/tgBfSn80th6FEUJcuyJEk0TVuWJYoiy7LoHha2bVNVVVGUrx9qzABy0SCI4kAIBEAgSQIESgBAFAAIggACAcmlqiAqBLqqSFBEB0WqSpAAAFEEoqoCwXE/hs9acR/C3eDfbLW78968ef98ShQKBW4U0anx+1NwhXTY4XDs93vy5XJps9lWq9VnwCy22221WqUV7JdzBRVcyDssF4sFlUE8S/OAifV6bbVa6/U6Ndntdg4ZjUaBQOB4PPIpDb/f77fb7a4ES/ovSIzgnVKplEwmfyjBksqp8/1+x2IxaEWn8XjcYrHQwg+AybgYZ0NI5OwUXuUIA5gQOZ1OqZuCWJoHnEgkvF4vSSqVorFoOJ1OR6NR+fR8Pnc6HeTzU4larcY0UYPWXp7UMFlnJVheLhfjO71er9vtttttj8fDpOiAwQbBmPhwOOQ4QQuRuJQ0Vh1XkXer1ZrP5+QmAXOm3+8HD/T5fL5yucyWUCiUyWQejwdfgD78Ao/4pQR+iVmKU5oMTkM7p9OJnNkMBoPP51MHzAsTSzWHw4GcmsDJczkI5kr4E8mp4t/tdo1GA1JEAn8FvNlsnE4nEmWiXC4XdsCNCDsSifAM8IsujRe43W5qQ4bhcHg2m+n/lgwA+DCtk6EF8PV6pQ/MBn/Z9nq9ZIaBR4KEUDUE0WQzgHGR8XhMAtTJZML5kNVsNvHhL6KVxkAus4nnAerDLy2ZVfhAz9JGAzDbkFw+n2fYKpUKBwkjfI0JZORkPAzA/06gO23ydcCwjmeCUwOcy+WKxSI2CPLBYECf5SxAogihkPw/+y3NC6PV7/cBrwHGUbPZLKaHy6PeP9yZBW/kVhSFf1q5FUNF/RFlJmFJ1ArKKFhm3jWGOTI8Z5xhTDIUxuFVv9krLTPPXA08PztwfOmcawkBzlIbqFthGLLZk4DhErQBispVSFR52h3sKhKJyDVyStbghyRRb7iy9wCLxwB8NUQJWnboyeSqpMRN9JMUgH4SEVjvyUMQSlSDmeIpUQqSm6BedS/9mY6F51n3qh6Wwgu/pfGCFsxyI25FS9iTvVQ4qV69ChiT7vrXX3/B12EdYMau18N80njp6dQwkTg9P/HgGKiIuN9//90wjEQiAWslmSFbVDW4nggpCfunqYdh8Os7jVxlO7awGVvYyld3Nneb/A+PYcQjCayUAjYpjT8xFhjRzi0Qh3PNUwO8U2uq7PqAKpluyfSKhlcyvOKAKof5jVqz/aiAQSJknTXuRQaiV+GDtGXZv5q3Twcwnhyfr2rOEoAHg/LVl61Kulucjq/s1luPZ4h3q0a5CvXhAHP7YrGYrEkc5DHyW9renazZ6szEV3SneBXn0Fx56DrYhrvkplZb7cvP19SSNEGvIT8ZQXBYq9VQggQOwxf4+V3UX2F5z/RKw5Eqr6G56uh8dTK2PBmtjobdQ9m0VLm4uvd8AeYCVBEuRdxySKkX1YYGNk0Tfn6HaeveoJs7M546P5nmdWkqc3o89eOJ8KeT4ZmJ9MXpjOyzORYU1tdkQHJve4KASQGcKYUQQ6kyBmWfyidzJuKZcQ/V4dafrddr8WT6sOkd1P1Dhn/E7L7e+WXsxc/Mlz+3Pvx94pilDpvdUwc07+SAmo8l0qlU8j7sCQJ2XffMmTN4VfpHoVAQwPxViW3aG7IU19ymVm1uqDB62AoOm8ERKzg+EOzX1JvfDr3yhf36V/ZbPwyzf9TunjpoqBODQTSWzGWBfG97goDZBIyUJZmZCU6qF5Mq0PLn4eRo7NtER7ORymSPdn2IJ9URSwHv078mX/vKeuMr++v/prgF7PM6oPunBoMY8ZB+yh6+lzHToSzL2vM8fEsCo7rudH290RwLFs9NZi/N5Hjps7lL07m/teQ/ekKbzWlsXnmdncxOzxc379ueHmBJaVlLZ5JgvouV1uu2KlON5UVxnoqv8BoJZYcqXRmYq1Q3G33yMK3duexl1rqsg657ywuyBfeI5Dcgnn0CGNurt2eTK7q7ZHklIVsC1YRgukU/s9Zsd/rtcWm91UksbRLPtt8Fabglyy+NhdV0easF2n59PrxTa1XWa/nKTqG6y+JBKfT/7dqxAAAAAMAgf+uBLIT+9GF92PEABgY+gYGBgYGBgYGBgQOW9UYgUnLtQAAAAABJRU5ErkJggg==") center center/55px 55px no-repeat;-webkit-background-size:55px 55px;-moz-background-size:55px 55px}.dcg-calculator-api-container .dcg-tours-content .dcg-feature .dcg-thumb.dcg-tables{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAIAAAABc2X6AAAFr0lEQVR4Ae3ahV8bSRQH8Pt7Turukbq7u3txd6u3WN3bQC2Ks7tJKhGkbtgdFsEhuN/9uK27TpB5tBDdzTf7xt5nfvu3jwUFUzAFd5ugYAqmYAqmYAqmYAqm4E2bNvVJMAWby203br9wO3Nr9cHkpWEJO6K4QzfSM7IsbW3tvQ3c0dEp4Z7N8FMMcpSO8EgY5Z2MfyO9koa6qoY53dgZzb4oLO894JbWttAYw0DHm2N9UkRBalGQBr/5G+JgzVh/9g8HucBDanhm6iVg5O0gJ6kggOWpb/+bEMAtPHw3IiHb9ULGJG/584KyHg/WPS1C0gLGC8f7s/jH3xYEclNCNcbsl8nseyVj7eGUxubWHgxG090VzQ1zj3+tXRquW3pUN9avy4zfy8J1lXUt/IsT7pn77bp253Gh/cHXr193dnaura319vZmWfbrwdnF5VN8leP8GPDQVoNuPrFWN1mrGgOuPxnjxwoD1YIATnK7oLm1vbSmyeHC/QFOimCJ/r2j2Wy2AwcOqFQq3D506FBeXt4vB1sslqlTp86ZMwcnzsnJ+Xowdz9/hKuchyF7XxTX8I8/N9lEgerRvswIH2akT+qmU+nLw3Xj/bmxPsnI6s7OzreP1tzcvG/fPv6Y7u7uWq2WREofOXLkNePrwUpd9gCHm+ireLMqw/Ty8XTTKB/G5eL9O89Lr9zOnxishhZZMM4vdXaAqvWDYTkzM3P37t319fWQV1VV/XIwvmOxWDxr1ixkV1NT09eDE4y5g5xkwiANmusYX2ZyiOYkk3uKyZ0app138E65rZl/2fGU3JHeTBfYN3VhaEJ7+/tgpPHmzZvDw8MNBsMvb8MxMTH4djmOGzp0KM5aVlb29eC7T4vGusuRuq6XHsRlmvfJn49CDnunAo/eq76pjX/ZJe0/w71SkQijvZK2RjLvpTSirq6uX79+ERERJDoto9Go1+txA40nNzf3m1K6tLp+dqBq0cFbVfUvu2Kf2MfQ8iPwAeVzU0UDshpXGwkvCtYMcpafS3r04QHxAZDMuPI9YBwOleiXHXrTsUckZI3+HyzEKOXHIslB5UdpdOYTPGQ5xRVvHyorK8vR0TEsLAwNuGdMPEzltml+inNstqWqERdz7sHbPI//Jwx8fYMb6CgNl2W+dyjkVFRUFFK6J00tbz8sGOVyY3ooi5nz29q32NwAR7nzSQ2mWb1ktaR9kC/2kg50VozxTcWMUtjl1Ai7WjI70jNpoMMNz7O3bPVNvWo9XFRqC7qimxWgGu0uH+IsH+goG445iZdi1YEkpT4bS+LeWfEorapPzfj7mvbZxdTHCl1WZpYZgxAt8fxIUPCmPhY0pfsImIIpmILb2trsBa6urkahgxw4Pz/fzc3t3LlzdgFnZGRcu3YtNDT0xIkTmJaRAGMteubMGSzB7QJeuHChTqcrKSkRCAQFBQWEUlqj0Rw9etQuYIZhzGYzymnTpk0rKioiBEY52l5gPlD0QBEPN8hdYdTQ7AVOSkq6fPkyCqaNjY0kwDjNhQsXXFxckFfkwTKZbNKkSTAHBQWh+yQBfvr0qaenp6urq1qtJg8+fvz4mjVrNmzYgF6ztbWVTjx6M5iCKZiCKbjjZwfm9zy4o3vEO2B8OPMvCIDN3SZoG+4LYAqmYAquq6trbm62LxhLJULgR48eYTNecHCwUqm0FzguLk4ikRACz50798mTJw8fPhSJRBUVFeTB5eXlQqEwOjqaEBhV0tLSUlBRRsM+LcJg1MNjY2OxtQWVAKKdFirD2IBIPqVRP8TWw5SUlJMnT5IDJyYmohCPfgs9B0kw0srNzS09PR01pvXr1zc0NJAAS6VSVMONRuPhw4etVitJMPLZZDJhr+XixYux8ZEQOCAgYPbs2ThlSEgI1h/kOy3U3728vBwcHCCnEw8KpmAKpmAKpuDPRkFBQW8F94D4D9ypyuflLnMuAAAAAElFTkSuQmCC") center center/55px 55px no-repeat;-webkit-background-size:55px 55px;-moz-background-size:55px 55px}.dcg-calculator-api-container .dcg-tours-content .dcg-feature .dcg-thumb.dcg-restrictions{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAAAAACreq1xAAACf0lEQVR4Ae3WA3DuQBQF4PNs27Zt27Zt27Zt27Ztm7Vt59bt9m/UTN09g/ibyfKCIjkc5CAHOchBDnIwFoIu91cMXuIeeeC9dig+drNXpIGfcmCKSWT+8nR0Jd082OiqGfTpg0s6D74vTFfaUTPo2QNP2bu7OjXOCVR30gx69cQj9u6hwaueTkc1OdDj+V0VIJt1cqDbueZoJEQMXCUNeu9uiRzz/lAkgY67iyHVNj3ZNvTuhQcqQaPt2VB8izNzR3DRf/DM/8T57nXb4F7uhleqwN+LC6DFPg9ivY21siDpQyL9VsDMIPB7tqT/VID/x+RDyytuOndfnFiSEk3ItCaAMYGgcQcM9FQChS99kKrpc08SyXSkN+hd5u//F/YEst60rGiaieYkD3rfHIGMXV+QeB6kTlanwu+gTjHqkRNZXpMC+D45CrwkqVhVRdLTob1stT9V+l0+8qD96lypKp+0lxJ7oqIDO2yOIL2ZUhs6rCqHHPtMxMHFyPuVBe1rJfmk3MuOW2qj3CILEc+2HpIcZkGfvnioZhzaXiqDPFNMw4HLkybGZOWpV1VkpnjdqJ0CM7+Evfk2y9WuaOtChn/kwPWo50Ziud4ncbLRj9nWrTuFViCHodBwlQzo0gVZP5F4Xo5F2vaBbeTYu9GFbpWd6DGwckwDWynwaNseBRInQtZOXUZ7ipJ/RqVHL/+Tv8mAfL+IrAsCZX8TAz4mJpcHLN26a/fu7cvGzGRBNoaj5wSstBMadw5o0WONu/xn9pRueEgaE9zQrmwvC6OwOHJLkVPI8ShSQY8FSLHkh4sQicXSgyGpiw70iNRyzsHAVIhPBScHOchBDnKQgxz0BYxS3uYUtHmgAAAAAElFTkSuQmCC") center center/55px 55px no-repeat;-webkit-background-size:55px 55px;-moz-background-size:55px 55px}.dcg-calculator-api-container .dcg-tours-content .dcg-feature .dcg-thumb.dcg-functiontable{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAIAAAABc2X6AAAId0lEQVR4Ae2a05skSReH969Y3H2+HrNtjG3btm3bttsuLdq2bZvzvV2xT65ZOaqO8zQio6Mi841zAufX+dnbHmYS+E+ZBJbAElgCS2AJLIElsASWwBJYAktgCSyBJXBXV1dnZ2cPAk5ISIiOju5BwJGRkd99910PAo6KigoNDf1lfUt9fb5BH3fjWsSp41EXzqa9flmVnWWewF1v36Y8f+o7ZYKHrYW3rYWfnaWvnaWnzVAPV4dv9u2uKyoyK+D21tZv9+95YzU42NVeN9JNr3yNcte4O3kM7O0xwq00Ls5MgPFt6LHDHhYDdCNdof3J13AXw9gRqSePRW/f4jlmZE1urjkA52pCXlsP0Y3optUOd9G42GuHOQvgEGe7/BfPRLPYo4c0q5azn/1Wn+np6QcPHvzYgdmNQ5YvCnC0IYDhNIwbGb121TdTJmjdnQDWuNpXR0WJj5T4+74c0q8k5jc3s6KiokePHr0/4IyMjPXr17PBHj58+M2bN38SuCo729PNEccSvfrR7pVh3ZWNWVlfTxyjdXMMdrBOOrSfmoaszIglC70sBkRfvvDjfhoaGgICArRabVtbW3l5OU5mBJOTk1NSUry9vRMTE5WW+fn5FRUVFNLS0misAnB7e/vx48f79esXGBhYUlLyJ4Hz9DpPOyvcC17Y/Nld7e3fP9+zJyEu9qxYec8etzc2fjttMqHeHQhbNv64n02bNvn5+e3du7egoODs2bN2dnYMwahRoyjs3r17wIAB9fX14mD34sULFxeXK1euLFmypLq6Wp2QDgkJGTx48F8K6Wx/X08bC4A1bo54tbWyksom4yZUkxCHY3nYkqCAEEcbIjzQyVazesWP+1m2bJmTkxMexrHx8fEjRoygEtT9+/dTsLa2zsrKUhoPHz786NGj6oR0a2trTk7OmTNnBg4cCDZD+CeBOWZ42lsxY/FwxuULeDj5yEHdKPeEPTs7W1tF43KDjtULYDxs2LbpxwfywsLCI0eOfPXVVwaDASdPnDhRAAsw/Jz7o4Xdysrq0qVL6gAnJSVNnTqVWzKBuV9LS8ufBK7Jy/Vwsce3NbExXNZnZ3fDuzsG2Q5Jv3heNM64eglgosDbZmjM1Us/Bt6wYQPzdt68ec+fP9doNL17966treVyxYoVTOn//e9/YWFhtPTw8MAZ586ds7S0DAoK4oMqhPTv9/JbwHwqaNHcqC0bRH1nS0vonBkad0d2KVayhN07+KLApW6EyxsH67KE+B/3w9Pfv3/f39+fkMbJ9+7dY+189erV69ev4+LiuOTQTjNPT0/CngKNKysrP/A+nKfT+o4b1VRcRLkqMoLTFYQEMJA4li8KVPrYDNXv2GomR8vwk8f8Rg9P2Lvzm0ljlVOH8gWtv4OVz6TxdcXFZgLc2dEReuTgi4G9Ax2suwl/9KUZ5uxlPcR3+uSKtDRzSw8zfb39Z0/3sLfysrXwMX552lp4jXALP3G0saLCPPNh0qbiqMjkxw9ZjeNv38gOCKgrLjKHfJglNCIi4qNWPDiLsuNlqmQ+Pj7sjZkfpX0PjATFqTVQJbt169b169cDP0qTqqX6i5YElsA9EbimpubBgwe3b98mJ1MqS0tLbxmtrKyMy/DwcMqkCpSRNZ48eXLt2jUEECHIiEtaqg9cXFz88OFDLy8vFYHJ6VFtyEOXL/9Byps7dy4JU3Bw8NatW0mDFixYQCq+a9cuMidSXzQ9nmTWrFmtra2kyjExMfv27SOjVBkYVyBEoCrNmTPnwoULagFPmTKFdJ8Cjy7UqY6ODhsbGwhJfd3c3BhfAUNufOzYMaQcMeLOzs6IWygBeXl5VJI5qgxcVVW1atUqCkTX7NmzTQEG5uXLl8hRoE6bNk0Bxm+iwerVqwlgzjD9+/en5caNG6kkHyYcHj9+jD85LP3zn/+MM4r4Op1uzJgx3NokYERAOjIYTa/Xs8GKeqYQj0ilKcBNTU3RRiNqhKJC5bhx44SHsbq6Ojhv3Lgxfvx4zgxr1qyhkrm6fft2CpznmAVEAdjCsQyNvb29ScBECycwf6NRUMbv8uXLQltTK6SRJnEdvlq5ciVz+MCBA/gfT9LPLaMh7hBQzORt27Yx9BBymEPx4BLt0sLCgpBGAJs5c6bKIQ0kU4jHIhRZutQChufp06cEqghsOkeRhQf3IoOLkSUhoQGOpcykvXnzJg9AFHDJWs2frl69yjCpDIyCx6CybiGmEdJyH5bA6psElsASWAI3NjayodWrYXTFhklmQ6H+47PPlH//tqlkdIWHARZ9fmwm57AElsDvCphVk1z/Z5Wkij+rRN9QJBGWCSVdFYXm5uZPA5jE6NSpU2SdIhkSRqpM9is0fVHDmxeLFy8meSJPPH/+PAqBqEd7ITGePn064pb6wCTJW7Zs4RFVBF66dCnqApIAugI+FJVIHKhc+JNsmUsKZMgODg7Cz8hdNBYtSS3JIvPz899JSJNqT548GVeYDixeJefnpEmTFIlHeS2KLP+LL76YMWMGAp0QcciT0dKUN08Ujeme0Xi1iRB4JyGNnubr62siMJLqeaPxPy6oBPCECRMUTYsxPXny5KBBg3bu3MmbeHfu3IEHDUi8VcOLTAow7y8xjdH3iBSTgBlU3va6ZjT0BAVy7dq1pgPj2HajUQAYbArIV/VGYw1bt26daDl//nwUJSYq6mzfvn3pXOhtwtsc6SAnUnhaAsQkYG5c9iNDiFFmF3KxinP42bNnuFr85BI5hQkJIUIXN0Kgp1LIdLyeBSpOvnjxoqurK0c6fEtZo9EwQGi36od0dnb26NGjUbZwgorbElp3bGysKLMVibnN0khvilqIsknks1cByWMQ59SINYw7EiPvZNGiX8aVG6CYyYOHBFbRJLAElsAS+P8R4CM8Kn4gaQAAAABJRU5ErkJggg==") center center/55px 55px no-repeat;-webkit-background-size:55px 55px;-moz-background-size:55px 55px}.dcg-calculator-api-container .dcg-tours-content .dcg-feature .dcg-thumb.dcg-regressions{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAIAAAAErfB6AAApZUlEQVR4AezagaY6QRQG8J68VwgIJVAl0CNEmlIiASVDT1CqcbK7M/P/3889bk+wN3uP70N1ZrA5P0fb2FaMMef8rwFJKeHL/K81TKsoiqqqYgMiIiEESFOlTmARKcsSxsV3MEZoMdqtJbaK349e/X6/X6/XnDNV6gR+vV4KrMFnrLwXy49EL/R4PG63G4HrB8b06C8x6svl4pw7Ho/oOFawReA/D6yWInI6nQaDQbfb3e/3aDq2CWwBGD1Fi7330+m03W53Oh1TwATGm4gcDofZbNbr9SaTyW63swNMYL2JfT6fYF4sFgDebrfouClg3kWnlFBvNpvxeGwQmMB6iuScG41GBoEJjKBeLpfD4RBzbBOYwPP5vN/vr1Yra8AE1n/D5/N5vV5777U0dZJF4BgjyhCCiPCo0iAwov19zy6BrQFXPyGwTeDPh8AEZgjMELjZITBDYEafXcQrgW3mi10zwKAQiKLo2lpAoN0E7SAFBBCAQFVRoDWECFCVShEpAeMfYhbwBUaD8Ex37n1HRTN93xdFMQwDjD/ACo48zw3D4Hqe5wdYwRFFkaZpYRgex6EaYCEEWZZlWdcVQVm8rosXFz/YX+8m4izEs8KK0zTd902RFG3bzvMsPbAjR4UJT4WAnAAfx7Hrum3bpBoHLvDJjcz/21KWZbqup2lKXqUAo0C/yrK0bdvzvLqun48QdNkcsywrjmOSvgsYw1VVoey6ru/7TdPs+x4EgWmajuPgAWY0OkmSH/dmwKFAFEXhiJJKFYhEUBEUlIJElBSKQJRElJBCSUVRqiooCfoJi4CgIAAFCCAB6Ffsx7PJYjftglmMmWuevXPPPefOM6dWqzUajS6Xi8AbPwVJdjodjgJjIN/v9zgeF4sFt/0F4Hg8LkGA4cdms8lms0aj0W634/wVTwjq1FGj0SQSifP5/L8A4z3tdruhUEin05XL5d1uN5vN/H6/SqVyOp2gDrnJxOFwcINeryfCKgqOuTGVSqnVaqvVChgEEVXOZTKZzWajV95OiRxgMEepzWCYCmMOh0MwGFQoFIVCgV/BEAfm7Xbrdruj0SivHq8oAWaH6XQ6Ho/xHyLC3zSZ7+V8LBeX9/udUmYyGblcnkwm4WilUsEuQYfRZ/1+fz6fDwaDarUaiUQAr91uCylGsTFWpNNpgqVSiYWQvlaroTTr9Rp769sAH49HWpnMJbtNGg6HBoMhHA4zjB9CWiwW6/U6hPt5LUMUOaVAdInP5+NkMpk8C+b1egUzXKePyO12y+fzENTj8YAoy5nHsVhMq9WCHH2GBep0OuVyOaVSifw+/zv2MyaTCeIGAoHVasXC1x+TKjHFmQ5Y2T++/njDajabLper0WjgnOSSoNQAXi6XFovF6/WyFxR0QaWpNUYzVOtXyUXkEcler8fUBGOz+ZOdO/CIJYrCAE5CABThJShEhRJRERQJRUSEJAoqoQhA0V8QABGkIIAIASJIALIA+3e8H4fr2t7bZt96jJkuVnv3zp2Z893zne+cO9Ov4+NjT4mLlCb0SsDW1hYfzdOSkZGRnp6emZkZ8U+PUIowuCavvb+/1/P8/Dw0NMStuXt+OsAvLy8bCX7yqlPNgWk2NjZEBDFCW1pasrAmJyetrfHxcVp6ZWVFf9UAFsDGxsbcJ2+LGHx9fX10dPT6+vrti6kEGvz4BO6lerzIg6tHR0fZC/Dcsb+/3yeWTod4T0DE7e3tRbMIgDG5+ODgoJ79/X2S2BiCy1cc/v7+7mvu/WdnZ0Hdnd618Wz19vaGjSEdzQUTAbOzsz6FAAtIZ9UAfnx8nJ6e5oUBMAkj8ec6Js9DKdM3m03+nR+Le2miPHXhtVbM7u4uVyNesPHLy0sqEgnzJycnEOIobK0HzVJPejC2JaXHbJDWw+j5zJo3/NbX1/10eHj4N362zqzR/DpTS6/Mp6ZTjAiRJQ82QGfVAJYpLS4uYmkAC59ULhUd5OwsQMXDULy4uCBcWxInPMmaX+ck3zwrfnd312g08n7PkDsXTYe0o7Dw8fGBsYVbDJ+uZ25ujusbnB9rvIRKKHE4Lo1f3Xs0uJJaDw8PV1dXgk7xJF5cJx2ECclYNUUWu3ALOosAYWVygxeaM2xKZPKkiYkJMJBj4db/3CwUKgmH80Vf3QIO6OvrE4Ofnp5ijNRIIJ+amkKYPFgLb4OERUZ1IxshANUzgpVEG/r18/PTgaI4CeZ2hIy658GpyWEQKdWDJOkjISrxm7OwFCdWT2A7CUyXAMt9wSkEBACSH1od5R4cHCQ2Fv4HBgbW1tYuLy+VNZCnEK4k4tqobm9jw88AU4nQQnJkOCgHnaANhE9JIfC6V7JSMwPbsTKdhQNZKg9aMTlDs3g3AIc4xwRWEj+Whcc7A+obTi3nScPAo2d4eFiwkOMK5/ybxIUlf3VJiITutVD29vb4cYh//RECLFYLqDjAkv6FhQVCpIK16CR8FBb4BO3q7z+OYWg81iXAQRUad0Sq8d7e9vb2zs4ONk7DuOn8/Pzm5qbowEdPT0/lS6urq1ZDbN+qr5HogrGAIrXNz0IDm60jgJV6FF58WnMVBNixjAJgxMh328TOLgGOjQ0sqkSasi9nxNJWldtJI5GwNFp/HGVZWActMZUYpM5Y4GtZCvYdAex0nFgC5hoqCLDk5/z8HPsJtOb5fwCnLMVZ2vRoetyaz/TEha8tY9KLYd0DHO+m+HQxVQDYYB7DJ+zPIEAaR9EgUlKtEMAlbjnANX0my8VLhxSJlBo4ropBJJTtG5FFu6Y0qbTNvRBl4jdNXlOAJQMkq1TS1pvFXnAnlciSS6ghhNQsbbNRQWTV2oNj603ap26gRGCeIkfFrq0KVzyDUdpml8L+gSqpMFRTgNMzMTRFkWFc/ObmRjHPhoQdYjsEspSy/QdU9yIbtuehYGLvT94sh1YDV7+sKcDF14EnbNSNRV/Nlj5XpshKCLAqyu3trd3ouE5/KC8zzg/A39uuTU/ZYG7z9Qfg3+zRgQAAAACAIH/rFQYohRD8CRYsWLBgwYIRjGDBggULFixYcOydhX+bt7rH/4nDfHo7KodpzLzDY2ZmXtKVIdRQu/JZR+0Y2jvsmKncJjHElBhjO3Zsv+jc76JVc+igk2X38+rzNrX1iqyfHtAj6ZEF8OQHWBvxWAD/cAHGPziJjSx7yMDBGPthBU7TddLzTBjArP+z744zWJwMkLsg2LbB8ioLcLwSG9+FiwVW+8USDTtMSUwD5KoieyVJT0rSk1J85vQ+KWkkf+V+EvYvsm2WvyKSAtl3QHo2wPKBwM5LamfFnupY0M09hMJnztfQWtLzNnfjHJV2DgYaNnEAA5ie/QY8/iqZVKq3O+Frjzl3RDs+iR54P9r+Ucz2edy9Oxmwp/vClKgLmM0sWRka4w2wuNiLbS5shGD1lBVyuo9OpK/ZS8sZIV5xboCNTrzihBJ1iX2QbEBnQwjnjgTGwMAi8fuDgfTkIj1bX0kAkByNEXtg6Xo2C1CRCGRhNDA4SCAqIlAC9bInkLMt4lgUmMl985xOYwMzeWkwrxgEwqMII4ZcxNMqSuBHETn+AJPCMDVDU1KJpK89/OVLvq21rsduca6+2N58jq3+ZFvj6Y7WPzvXX+F5+j7/9tXRfe+mIl5VTamGqeoGEI8rwIw94OS8M2dD2F4JHrhJ4BwHnQUZ8RVPHbziAJk4b8nKPxQpTv9xjmj16tV0qNgZQzPoblAhhuNfvKWXSc+WY3YvU8jevXupjnI4QAD2IMpnUoIr7d+zZw9gg5w4kQ1UJKAZMBWO/lGsONtI28gCxpQJkBzCoBbomGRsI+RgHKOHZlMCrxhYjIlxBFhcuaMa2ZjjK++2WtvKczsXVzoWFHYtLPAsKvAtLvQt4W+BZ3GBa1GBc2GhfWFJ5/JjnRuv9X/0RH+kGzomOxxg/ACGD3OegL6AzsSxSQiX0wOALXYmi/069B2Ux2dqFBVBH3QiowG06MdcZ+ggyvlu6JuGkZ7epwRQhxxhDKQHEkaJqA4wAFsQMXlhy3wFJOHyh0gKpzSGDm8ZCoDNQBEtgWcAPKDy8/lAIyF00UK4BbmoESIeB4CpXtOFTO3rsfleb7GvOt++7EjnvBne+YcHFk0LL53VWzsnWlcYqy+K1RVFawsiy2cHl8zsWTDNM+8I5/w5toaTuzbdGPzihXQqYQp2PT4A01NABcB0BzQEukJ85u6bhIygm9ytslQqODa9zyuGCMjlOnaBeYq+5qtg5sTQ3VQHjXKGgOwcVhBulKhRCnIYAyhCnfKABVAJVkyTgJCMuXus+Iy0FqOQYmkMeWHjQmmgVeNCwURCfHDXqGOH65kHO+YV2O/9RffcKZGlM/tWlPW3VKZbq9JtVenWykxbVaaV55uvqdaqZEtlfEV5aMksd83/dD7wO1vDad1vr02G3Vp2gGecZDBdCb3SNVAkXQnbhATpMrnlBXjYfyn3GFMRfUcMSNC/AAY3Jkvu6e9c6qGRQlqDgThFQUbAgGlTHcQKGHJjDXKBBgAnJcvdnyIZRE8L4dsUOKomgTggASROe5AmiB4wGgcZLNBVld7979nWXNpRfZhn7pTeuqJEY1mqqSzdXJZpKVPbKpS2Sh51ZeW3H755wLsS1FMtVfGmilBtkfPB37QvKHW9uDARcGqmAcPPO8DkEn44oV1ghpEiAp977jmoWXb6MICpEQDgtGBGMnofBgAApP/HAJOY6sAM8MRZI4rF6QmVUjiv/jHAxAAeH+j5kUdOCMgCRh61IGJoEr8CZs7bvALMdzMLU+ht/6iz9S/2eTO7H54SWz67f9UJmY1/VDaepbRVKY0z1eYiMFZXHqmurBr2CJhTrZWJpvJIXYl7/hGdi8rcz9Ykwh5TyOO8AgxZwNPg0jBA0UfQE/1In0LEowIMxQMJ0hdCgUvzGRWMD8SD8VgA0+lQGO3ksIwgWdF4ZDCMF1T4OhbADA5iKJ+UUD9tznUuINR+gOdXyENNxNMGuAsF5g1gPgmtKuba6dx0Y+f9v+2u/nXfurPVdxv1/VtN53um413z6yeMrXerq45SV8xRW8tGxZhHWQnfrky2VIVrC9zzp3XML0aQp6IBChdzp3wBTEa4GWgBs/hFQqmmT6VcpPdRZJCXAi0SoMdCf/7BQA/SxbBcODBDRHQ6A4KvEmBKoLupglECYQE2pCbuTAdOYqSHPRg4qKBOC4CJRMwz4BgHdC3CnqYihsGY8YespVhaS42UQyOFHieO+sNjqIhm5wlgRdENAwUuFQ+6nq1uv39Kz/xD+h49X9v5TDaRM4gMPduzx/iwSdtwhgopQ8cjAZakDMatVb0NpV0PTelceoz//U3olZpuQsd5VLLQn4XogrboQaCl11Csclk0ElpQMHXR+3QlfZp79pIE9CZ9IikYeuKrpGAInb9wCOZddL3gusx2qBfAZPslBVORAFjow8SI4chgIjsZEcYUQstpMyOJX0EbaBgjT8yzkfHATI35AljV6S+l3//BY51Lj3Td+9O+jX9R9r+W1dWRmbN62vigCfJVmwoRw2NhrAiMm8vDtYW2Bw9xPHFbX8QPk8AiRn35UrLICCnQy/Q1nQIBQaOCnqRMpX+hDKG1wmmRbblKNa+gV4CHiwoYIFaEOm0TPJMSyMVfce6N7Awj6iIwqnKJjPIZB4wYMBN5eUtpNEkeVIeakQ4wCQAmsaiF4ciYYwLGaOAV02ipxucHYKwZGKr6A07H+isd9/863FiV+Xidno6OuT07Ytdfe0htmKG2lv8DIgbjVEt5fNl0X+uZzjdWB7xuVUnDKqg4v6ZKSBl4kMRCZxl5VFcQtLj0nJBbnRSouWnIxVdZgoiRicGPYSH6UBYl8+ae05Ux8qvg7eLaZl6RMvdXUCwBwhVZ8gYwbc+k+kIfP2VbUOx54BfJF+8y4v6sTK6rZteH2XDHgKnLXjHtb+uPnqM2F6stJeqqI8fAuCLTXNrfWBR7s95n2+d2OhLRkKbCqA1rsWFir7aDU/V0Yp1w3P+bUMtJKsxZplX7zfbX9Kcv1bfdnfXkHLJOR81PVqmrjkbhGh1gdDHgby5VnrpMcX0dThoupy3kdWRSScMcmECALYB1HQqO7nuvs+5ET83U+KsLjUToOwbm+0rffIlaO1Vd+nvjzXkDapJI8c4MdWhbLlObS9SW0tEArlLBfvVx+heb9HRfTBnwup0++4FkXwz2N1EAWwDzDzOTng1+sKnj4Vn+xmNSe7bBgA8yZ8X4epPaWqryLJ+qPfYXs+M1IgdEyMSNj1rVtSchjEeZMoF6c6H21AXZwD4zm02mVX9Pt9vRHg8HdE1hVFEz2rsF8LgDjFxN9ff5XlrU+eAhkefvUUN2mS4b3K9vvUOtn6a2QY6z1bZy/bUHsqneg68N079He+Yqpfbw4eo0eDdM11Yfa7xXN5DpM6kio4SCQdfuj3pd+7VMEl0a3UOZAIAtgA0EcNjj2XyPfUFxfOdWXU3LdOauLeqG09VGoK1UgbBxlrrxTNP96YChiQR8MD5sAX6IdTjGtYdpWy7N+r5ENQO9jGb0Bnucb6wJ7XpLSSeJmoQA0y2YIZn8MGti7vQPDl/TcgwgzGiZuUpDBxYM5rUiL1Nb4UZcrO2TXi5mkIU0TLeYRE0QwAnffs/T9zsfOb/P79BlKi1tbF+IYRL+DHhoUiDNvMj4oCGb6JGpTNdH2jNXwqW/s1+SuKVYaSrS31k6YKikydIjejbq2mdff23goyf5tZMQYHoDMwW+hHFjxuFrnEpiXBQ7QEZ6g2UWi2ufhwcDLtuZ3YIxmOGFHPca+CgkEudO+HTHRwzHz8VGA6bI+BrAlSbl4z5mw4YNTIqIH1eAdQOAHZ95XpzvemkxGpApjVbdu7Rnr1HhzysrBNcdBLtE23KJ6d+VsxQSMd6vF9irJGMcgHTjDG3jWeae53kvAFbVTO/O1zqXHhvYvkrRKX1yAQw8kB0+gHGohiUSyxe+LfF2g+Vk5H0o2Bdx8IMDcUxmkOydd96JQ2kMT5AsnppwFIG7Q/yB4DgTJ8e///3v8chOV/NLAfWiiy7CjgFN/+1vf8P/INZpyh9/Cnbv9n30jHvH24n+fkOMJzVlfPKIuu4UtWGmVKCQwVAzVmhz52ZIUyrazKO0NSeraFW8ZXbUWgF/1rfdkw3bZJVKrze8dUHnwwWBd9eo2YHJBjCWB6iKCxWgMBED+eLtBvCGOVHALIW/aHy9gw3NhsQxRwMVLiexcOG0C1s3RkfMVZRAgYwSTFR0NT7K8ROC63BhM8HfD6+wsvFqnAHGhhXy9nTscHfZ44k+uh7MsqF2bcvlwo4xREOGTOuO0F+6bSCQ47woYgNOXmG8HNSfy8ho7HhSDgJCuv1tf9sZnQtKgp9sJjYvLJpc2IOgNmgOhMRiEas9lPkfXOBC73MLAMuOcqkHXopraEhz2BUn+NvCI5OU0CTgIgCon7UEFj+IkcvDeNuAB4jSIPqrrrqKBLSWr5g/qYumji+L5g9mh3RfNOCxu532WDymgW8mbn79uPrI8Uxkh+nGsF8itdXHm1/8HS36IHkmjP0vqetOVVcUgDGkrG2+2Oze8R0SmURie6N3/jRb7XGRna9RRV60aNovdmXgxQ4rLos5mPJxeIbuI29IQc1B33GOCCJeXlxFDJdyIDtZ0pF2Y3wu4fN5mA89qBN0pTthsQEIj/q4LoP3UpqMxDMqjRFGbJYZcJyDN03GB8u9eJRHNSPxRBg6WOFBrQ31eLoctt7eqAoegX3GCzeqcNqmYkm+uUQM39a23ZvtC3yLMWMw6tKfv0GF3JdOgYcbn6wc6A/K+nTX59FHL3ZVT2GHXtz2udir9d/Pgxn7AMOlC3hPR5dh+b2oqAiPwuvXrxf0DfMUjg5rhgY0IKgTT68sBkNnggqPOuooKJh+l2uRpARglN5h3uXPPfdcXMfCOSSWOD4CdVhx7jhguDCGxD1ZVHTEEUeAMTTNYhEO3bmUg3E5EQDzH1aHaKinq3NfMAbPS2pfbGKdAE47xoLgkXBpdePZ5q5nB0xNmkTMA//LnEpZ8jv9uWuyIWm4ZgwYygcrg4tnOmoOd2++NxlwAHC+LFnQGXCizuBCH6QRbHhJYlFPwM9qHUoQcm7H0MBqHatyxKPWiiU59CNKQAcGYFkyIwOAmTXl1giuUDb+2oGQKmg/lPrzn/8cgCXngP0CJMMIkSGmTyjM3DiAR3IomNkR2hmeosVlR+OsZA0G+rc/FvE6DnhDfb17304/dUW67nAoeHQjs1Cnm0v0Z6/J9toHpAhRksZn6/TXHzJt2wekLQx8PV8ln7jUe99PbIvKgh89xaoGyOdxXzTX3qC14h0OrYfSAIwgl2j0fxiEvpMLcC6LhsQhTQmbDNA0/seBGa2KAKXi5J+rWxhM0m0iejX7CGiJBBj/4Mya5AY/tC0YOzG8HXeAcYerZNLhHq9z/w7fM/fEG0rSKwoxboy1Z2NwTjyHlQbj8/UD/WFZblZLZ7VULg81k6HM6/Mi9aXOB39nb/tr0rNHN8U+y/wAzMItDvCBAaY3UgVjLZZFdYT0qyMCKi5LyGJLpZTBsGgmS5JS6X1KHtWPLbyBG69gGGjdfGCEIV/lBnc+0yq5SwQFkMuUIHpoXZbA5BihgCLNSBp3gPmkYy6Ohh2vNDprjwktOqy/uYLlekxUowIM8GhSyFpt05+yXe/nisVvHhnUlLbnxcSa03wP/sK+uNy3tU5JxQfJN2/rwVgYwAB6osdHrhODIoYIYFg6NOBHjlksroXRe2GYYqAwhb3hhhsYEyI7U1U8tUPWiNhhgh/ASA/l0Xh6Eh6OcOV6BsFsUZJRwWC/qMq0QQw1uAvtpF5+srx8icvPIPQJAVhRaIiqpPwfPtG55Miu+34Ra6pgh6zYOjnWtg0Axr6hvXiz6flitIV4bAev9D/6t/Cymba7fuxYe2mf9wBL7YwkqssLwOixuJ2FMvAAOJZzQAQtmO0eEYQkRgmXXBTDE3ctoA2J7KhC+OrHez8tZBgh6dnWI1b+uRGTKTJ5hVULyxe+QxHJYlRhzwI5xC36M1/lxiBu3oNDyOECe0B1oP2wkIkAmNkSbU+H3e5nqttrZvoWHhFbUcYWaAU6BuZRiZh45kWYJMHYvp1tHgPpGOvH2WTIDLbrOzannrgwsvCQrod+x0Kk/5PN0C4Ao9Hla8sOIOG6E8fRQqv6bwItQdai2WLJAiGUIEQsX8VNOcDAlRowA7EZHe3pJz/5CcyZBiBcmSBhxIBwRTlIaMwgXDoHlUuA0bYQzNysgDmF8tljxGdxoRpsfKJOF+oG3Rxz7nQ8emNn9aH+ZYWxxnLoeEyMxao+E98VhdrGM/XXq40dTxn7t+qfrlVevKO/9ejIoqmehdPb5xX63mhLJaP8VqrM47ZZSBAYOGIk+PN/H7gBCdMVMhUaBWl5XyF3IGKjYFIrtGJIGXUMqzVMHjaOlicVJX4UDAPSZ9pGJL8rl7Gj4TMikcRcnQTDYMY10cdHoWPd0CL73u1s/qOt+rCeRTPizVX9rZXIY4W/Ypv7KLy6QsypsI0oa05KrTw22VzRW1fIEYf2mhmuZ2qSfhuL/HnfF00JdOJ/c8RjpE4O44UfYG9iCkvJkv6QlHJhAFkL+4VSmeSgdYNcLpAUwkITrHjYjxJzKsgXowd5KYFyJhZgATE/QElH9mx3bLy2o2a6u/p3vfVFieaKwRMrIF2B5sXDJnghngWvVppLM41zMg2z++vnxGtnBRdMddz7847FVZ5XlvV1d2hZxo35QzkADmC06l8ZDaT8dw2NpEdsI/i/twPgYn1Jw5Rj/9y15T7b4oquedO6F04LL58dbyyBNFMtlTzfnk3i4WtrJZycQRBrKOYUmmfBNPv8WbbGM7rfWpns9YsTw4j5SQOwdcKfF+YAMPeHfd1vttqazrEtLO2aP4vzosHaUs6kRBtK4o08pTyxhpJIfUm4riRQW+xdXOCYP7tzyVH29VeFdmxT1Ay4qbpuuXCYhC4cNBVpbGIAScSdO7pfa3KsOq9jfmHHQ4c6qg/pqpnqmTvVO/cQz9xD3HMPcVYf4njokI6aaR1MsTbdFPz0mWTQpWoZ3cyKKiyAJ6mPDkxOcFd21aZi/pjzy9Bnz3a/Wu/ZfLfr79c4V1/obPuLY9W5zrWXujbd6H2+pmf76siO1xK+A5l0QvvWX4cxiZ2wWABL9yuDPjqEYE4lY4nujpjji8j+98K73wjv3R5p/zDm2sE54ExG0Q96aYH6yUv+SQuwBfBIPHRB0AJsM+cRMXoWXE0S/mDdKFl+sgBPE48+7BHxJLD8ZFme7iyALYCtYAH8QwwWwFawALaCBbAVLIC/n2ABbAULYCtYAFvBAvj7CRbAVrAAtoIFsBUsgL/fYAFsBQtgK9Bp/88BJhfZOWFmt9ttNpvD4ejq6uLYZ65rBBK4XK5YLCbdxaZSKZ/PZzsYyOv1enO3sPMhHA6TJtdPFgkox+/30+bcwslLJIVTBbXb/4+7O0CRGIShMHz/ewwwx9yP/eFRKnMBCwxWNca8JHYXkvw/ZdwRkoqCxBL1WO6pbZVT2wXPLTFff+EO0DGzoc6lf4U+jHoVmyqETgwVIqKb7gRYfIAIEXHWlUuSabmiRsQXWk4ufklsrhhfCBX9V6kbuXBaIiqwpOwFqiRB0Z7SP4gtG+qkXIEmgE0PhKiUmp30tbGBGTQ94pLtAiHhjTbyaiOPCbYTGiOGxa98HV6bINhV1ExKY3evkdKwEP2EJlhGSJwJOrHkvPDGzIUAV6yEWOVjEDvknCBxcrkysjPaTfrCAImPnQV5hXZAyNYFoJZRn6RAaLTsOGQq/szaWTaohKZJA7L4T6ZmIeKSolEOUcJ2YVjCDFEQWkgV9DudV1pVbTa4emXZ2PCqEwPYMN9Cp6CC1QoqLzkmOQZ5BICKw4p7OKDJhqBOfdEp3/WFAFeSgYzW4/zgyRwpO5urxpjkG5VN0cm2CHp0aIm0N34BXI5Cq5gmwZG1JVkwozcNkEUW0RjmJXxUoiTbiT6FAZU675HuBSpVDqVpDHStOqOb8EZN6etcBQ+EH+pLA77frx0JLYeEW6qA7TsBZjEAhg3JsgzXHjNieTBAn0y1yRRU2uaQglutynUub5rhIWWrrDXKmEzmElyKVbqreAMTzMESLoJ6iJUnYPq2ALBsEBTLjcDghLNSCJR3YWPGLh5MPmtm5cabb2E11WyNLB70YNIobu1bsQCxxfTPL03FFStfnOptADsFgCk7q4UfEWiDioCqgcLCiMYWzI70s1pA6mcHVjGLz+dT3ZbsEvyIIAtpdsP0u3QJGpwgz/pZjOheLtoVmIsGLRNHMBeigR8GN3/OfLPgFZPgWrj97lo84Ly8phDFHgp69HPCsWSoD0BXtR5KYEdI4/BagMmaCIiSfH0oMSOCK30OswYP6QCAsKR5AI9N2QqQAMN0LCFiyPXBjB8U+GEgkT4JyuhgC9SQBQPVsZDSMJ1q1lEC1ABcDSUwmFkuO8aK4C+AodgdrGGm+Wyxm8UuOEeZtlmCh8pv5bRW8bYvOE4lTSLDOwGu4hA6QPJNBIxCtiEEJ16xdBwEoYd8yYVTJZry7JEg+L1alX82E1rutoq5wACHYKMH7l0z62S+nAHK+u3LSaB/ZlT5BbC1gKFz59nZMa01gXzgag68fZTxMRQL8yPisBwJhnlvan0bwFDkWjkr/vMV+Q9FXg5OUKfvzgtmJggVkEDCb5NBUv0z5lKBUNBaBRJD6BvSQ+hVMWVwPKePZ7pF+rYgX6cAA0UxEzO0oQseBczsk9tjaACX0Ak2Ok3OiLt3OB4UxmF/y9Fj7scQ/q3qW52qeeWlgX3hRxYpkzu9foXo+0IhlMko62SRJjM1RkCIGyIs2FSHDAbP8H4QosMNIFix4YyelMm3bysgaVAFy02mRmy6BjUylPN3cXr4gGX4QhAd05a3C1r9Y8RympRREg7zZdOuBppnRyqF4a4ebVp15x3s/C4kKDLllz8kJmZBA56T2R+7IeLXf6m4PuIuRzvYxkyrGBaXiKA5ZhoFM5UqpRKaJmjrRKF/ja1h1QpsaXtIftqJDTs2368l2HOW/vu2coqdCN59lsetLwyXhV9to3f+J8v5LYSBxlmVdMWtzsJVHu3XEDF5Xv3Lh/gk6Ff7Oaon4ij8tXc/N2vEQBTA0wcHDiCONMCNArhzoQhKSAd0QJm5RMpPeivjeLNSRBAk0fiw4oNdY/w8fzzjb17fBuqrfkihmDYDwyP6+eWP8k7rzQ1ZB65e/5ux6GqVTapWABfABXABXAAbZFJDv1mj3OZqnqNN8sr7Sw4j9zjsqQXw+5pJt3WxAU242ybKsJcQ4tPa6tjdutkepqUa/cawDtvsire09/uWjIgdrWVUAL+pGaFAlSLS6o7KSYTpQUBjKW4qrH25XFSVVVJWLVNFSiORUopYkhSIVobU+2q9Z+M+5/qQPDAbBfCbmjDC9XrFkkS2RLvEv06nE9iSXxqagtKKzIJW1El1WtWh1QQXThHeUh8cN4jexDuhq5S0jEUfhBFW8yxSBwcKyHcB/KZGatEqCPQn/GS0Knqr8yydPERCqHFwom1Iwl9wDaOK+u6iZkqHHw4HUdJG2qJcOD4X0asodj/fFyFoUjbeaigV/ZPZSw+m1TW5F/G8pM3NlFggaYvb0hO0LzWaM8HI6GfiiKeHlm5s/wp/U6SEeMh5KCWN8gFsHveNnCkvNMCj/EEYYiTpVk7COlBaPhRavlQgWoKS6lbZ3GIy+AJ4ah4XzUeWoDw3OwcJ02TupH51y+aZMlaTdiVkmc0kiRlLsuJF39g/D1KeCVOb6IEYC5D3+10pd6Xf+2G4U1nw4/GI/Ex1coQ6yvVHyolyAG7V36UK8N2RaamCpP0ti5y+07MxFMCPliOS6DUo0ggWGki6DnEVqPyJIZLVhJAvCkKSQkACg+vQZACV7pfbyRSTQosDk4bsUwOYqIGBtzXsi0C7Xq/V9rc+rDOV4ClzmDGo3C46OflmTW+WAsUgQ5UO1ZU3CfB2m+RSATxmDNXJ32w2KGokgE2Q6YMKX8Zck2amkdcTLe1Kh0vgSKy6zhsniMwZ1RLAPCkAW1LDBheKaJHQAeRZS8oiw9RBXXO4UOxYE87v0dj4AtCTGi1jzLdiBSgYj9hEWZp8aYq9AH401peshHPKj+KFImExs8QIYGYZwZgv6m2w23IEYN68344ngg0xFsenV9HO0lpAVPQA8Pl8xj1J87fdM/VOpulev86ysE2CtPWH+wHJkpXHbDtKoEOPh/sO6ryth9OgFcCEAPMnW0sH+lEoLwBMLHRuQhk/2rIPSNnqsNlWg+vXWbOZoTPjCbPEQOoBBgO7Dkh3DioabFQFndz0Cstq2+PsR3KLbL/XPAb3cLLwrdDqXAeMwii9aGl/GrmF4jVBL4CneXSeYbfbMbdWPXvMGNOHNLAOMZtwZ8h069+vFiqKk+U6b9YEzZmdqA5vtxsVLYAFpMgl2WXUOXRZAYlXuB91ErpKpr3l5/EerlYrvYGWHFMn/Cwfcb5Iqp5zkAPqrC8rYEHs93v9O1IyxToKYEAKRKCXYm79SQHSiqJO4etl0rgtptJtUXpwMvXh3HCdtzCZtcEAA2yI0yJSbDnmYIaWqRazBAlpY6r9ChD6iET607fY9bLKqNQEIAko/WydxSUEISvOgjS1TzGkN4aG7rEUpkBmAWweWVnTalLAg7OOcBCLqG6vMbpSsz59jqnXKRmMpuBxHgpU5B7ezvjFjdput7RF3GOQQM5gfOrwjdeecn9IKG2K4EeUgQ14vnoiJ03zi3VT8kbrt/C2piBXASwYRDKowZxfMTUcaagkdm9mTWX+IeU5mchBKjsoJoCvDmzZgvBCu/KPqFkGuK0Gg2HdSTyN7aPgRPrZdevMm5ZgDlH353g8aFkYKl9MIMVXUOYF8OSscogiDXrTD7sYbaznHD3/c49UJ3QySXWFTQMmVFn9yA3GPlsoI2xZzXV3p2ySj/oe2qfegbHtmfF7AV3rtQCu9l8BXK0ArlYAf74VwNUK4GoFcAEsYpd/tnH9VPPtMLYLzAGMQuWVAKeEhVl2/VTLv17RJfb1Xn9/Xav2RRQNxt/+jgbm13ZY7QdDmXLYp0n/cQAAAABJRU5ErkJggg==") center center/55px 55px no-repeat;-webkit-background-size:55px 55px;-moz-background-size:55px 55px}.dcg-calculator-api-container .dcg-tours-content .dcg-feature:not(:last-of-type){margin-right:1.1em}.dcg-calculator-api-container .dcg-tours-content .dcg-feature.dcg-hovered .dcg-thumb{border-color:#aaa;-webkit-transform:scale(1.05,1.05);-moz-transform:scale(1.05,1.05);-o-transform:scale(1.05,1.05);-ms-transform:scale(1.05,1.05);transform:scale(1.05,1.05)}.dcg-calculator-api-container .dcg-tours-content .dcg-feature.dcg-depressed .dcg-thumb{-webkit-transform:scale(.95,.95);-moz-transform:scale(.95,.95);-o-transform:scale(.95,.95);-ms-transform:scale(.95,.95);transform:scale(.95,.95)}.dcg-calculator-api-container .dcg-contact-us .dcg-contact-link,.dcg-calculator-api-container .dcg-contact-us .dcg-resource-link,.dcg-calculator-api-container .dcg-resources-content .dcg-contact-link,.dcg-calculator-api-container .dcg-resources-content .dcg-resource-link{padding:3px 0;cursor:pointer;display:block;text-decoration:none;color:#000}.dcg-calculator-api-container .dcg-contact-us .dcg-contact-link span,.dcg-calculator-api-container .dcg-contact-us .dcg-resource-link span,.dcg-calculator-api-container .dcg-poi-label:not(.dcg-tracept).dcg-opened,.dcg-calculator-api-container .dcg-resources-content .dcg-contact-link span,.dcg-calculator-api-container .dcg-resources-content .dcg-resource-link span{color:#222}.dcg-calculator-api-container .dcg-contact-us .dcg-contact-link.dcg-hovered span,.dcg-calculator-api-container .dcg-contact-us .dcg-resource-link.dcg-hovered span,.dcg-calculator-api-container .dcg-resources-content .dcg-contact-link.dcg-hovered span,.dcg-calculator-api-container .dcg-resources-content .dcg-resource-link.dcg-hovered span{border-bottom:1px solid #222}.dcg-calculator-api-container .dcg-contact-us .dcg-contact-link i,.dcg-calculator-api-container .dcg-contact-us .dcg-resource-link i,.dcg-calculator-api-container .dcg-resources-content .dcg-contact-link i,.dcg-calculator-api-container .dcg-resources-content .dcg-resource-link i{margin-right:5px;color:#222}.dcg-calculator-api-container .dcg-stats-footer-container table,.dcg-calculator-api-container .dcg-suggestions .dcg-feedback-action-container .dcg-feedback-btns,.dcg-calculator-api-container .dcg-ttest-footer-container table{margin-left:auto}.dcg-calculator-api-container .dcg-suggestions .dcg-btn-light-gray{margin:0;padding:10px 14px}.dcg-calculator-api-container .dcg-popover-interior div.errors,.dcg-calculator-api-container .dcg-shared-account-modal-errors,.dcg-calculator-api-container .dcg-suggestions .dcg-errors,.dcg-calculator-api-container .modal div.errors{margin-top:10px;margin-bottom:5px;border-left:2px solid red;background:#fcc;padding:5px 10px;line-height:1.2em}.dcg-calculator-api-container .dcg-suggestions textarea{margin-bottom:10px;height:80px}.dcg-calculator-api-container .dcg-suggestions input,.dcg-calculator-api-container .dcg-suggestions textarea{font:inherit;display:block;width:100%;-webkit-appearance:none}.dcg-calculator-api-container .dcg-suggestions .dcg-feedback-btns{float:right;margin-top:10px}.dcg-calculator-api-container .dcg-suggestions .dcg-feedback-btns .dcg-action-closesuggestion{margin-right:10px;text-decoration:underline}.dcg-calculator-api-container .dcg-feedback-email-label,.dcg-calculator-api-container .dcg-feedback-message-label{line-height:1.5em;padding-left:2px;color:#666}.dcg-calculator-api-container .dcg-header .align-right-container .logout-progress-notice span.dcg-spinner-dark,.dcg-calculator-api-container .dcg-suggestions-expansion .dcg-spinner,.dcg-calculator-api-container .progress_indicator.signin_progress_indicator{position:relative;top:4px}.dcg-calculator-api-container .dcg-hotkeys-dialog{height:100%;position:relative}.dcg-calculator-api-container .dcg-hotkeys-dialog h1{margin-bottom:0;margin-right:25px}.dcg-calculator-api-container .dcg-hotkeys-dialog .dcg-toggle-container{position:absolute;top:0;left:50%;width:500px;margin-left:-250px;font-size:120%;cursor:pointer;text-align:center}.dcg-calculator-api-container .dcg-hotkeys-dialog .dcg-toggle-container .dcg-action-toggleos{width:50%;display:inline-block;padding:5px 0;margin:0;border:1px solid rgba(0,0,0,.2)}.dcg-calculator-api-container .dcg-hotkeys-dialog .dcg-toggle-container .dcg-action-toggleos:first-of-type{border-top-left-radius:5px;border-bottom-left-radius:5px}.dcg-calculator-api-container .dcg-hotkeys-dialog .dcg-toggle-container .dcg-action-toggleos:last-of-type{border-top-right-radius:5px;border-bottom-right-radius:5px}.dcg-calculator-api-container .dcg-hotkeys-dialog .dcg-toggle-container .dcg-action-toggleos:last-of-type:not(.dcg-selected){border-left:1px solid rgba(0,0,0,.62)}.dcg-calculator-api-container .dcg-hotkeys-dialog .dcg-toggle-container .dcg-action-toggleos.dcg-selected{background:rgba(0,0,0,.65);border-color:rgba(0,0,0,.62);color:#fff;pointer-events:none}.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-depressed,.dcg-calculator-api-container .dcg-hotkeys-dialog .dcg-toggle-container .dcg-action-toggleos.dcg-depressed:not(.dcg-selected),.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-empty,.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option.dcg-depressed:not(.dcg-selected-toggle){background:rgba(0,0,0,.2)}.dcg-calculator-api-container .dcg-hotkeys-dialog .dcg-hotkey-container{position:absolute;top:40px;left:0;bottom:0;right:0;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:horizontal;-moz-box-orient:horizontal;-o-box-orient:horizontal;-webkit-box-lines:multiple;-moz-box-lines:multiple;-o-box-lines:multiple;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;overflow:auto}.dcg-calculator-api-container .dcg-search-container,.dcg-calculator-api-container .dcg-search-container .dcg-searchable-dropdown-list-container{-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox}.dcg-calculator-api-container .dcg-hotkeys-dialog .dcg-hotkey-container .dcg-hotkey-section{width:50%;padding-bottom:20px}.dcg-calculator-api-container .dcg-hotkeys-dialog .dcg-hotkey-container .dcg-hotkey-section-header{display:block;font-size:150%;font-weight:500;margin:45px 25px 15px 0}.dcg-calculator-api-container .dcg-hotkeys-dialog .dcg-hotkey-container table{border-collapse:collapse;width:calc(100% - 25px)}.dcg-calculator-api-container .dcg-hotkeys-dialog .dcg-hotkey-container tr{border-bottom:1px solid #eee;text-align:left}.dcg-calculator-api-container .dcg-hotkeys-dialog .dcg-hotkey-container tr td:not(:last-of-type){padding:10px 20px 10px 0}.dcg-calculator-api-container .dcg-hotkeys-dialog .dcg-hotkey-container tr td:last-of-type{padding:10px 0}.dcg-calculator-api-container .dcg-hotkeys-dialog .dcg-hotkey-container tr td{width:30%;line-height:1.2em}.dcg-calculator-api-container .dcg-hotkeys-dialog .dcg-hotkey-container .dcg-key-command{padding:3px 5px;border:1px solid #bbb;border-radius:3px;white-space:nowrap;margin-right:3px}.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-section-title .dcg-tooltip-hit-area-container,.dcg-calculator-api-container .dcg-hotkeys-dialog .dcg-hotkey-container .dcg-key-command:not(:first-of-type){margin-left:3px}.dcg-calculator-api-container .dcg-shared-modal-cover h1.dcg-shared-left-align-title,.dcg-calculator-api-container .modal .dcg-hotkeys-dialog h1{text-align:left}@media screen and (max-width:1110px){.dcg-calculator-api-container .dcg-hotkeys-dialog .dcg-hotkey-container{top:90px;border-bottom:0}.dcg-calculator-api-container .dcg-hotkeys-dialog .dcg-hotkey-section{width:100%}.dcg-calculator-api-container .dcg-hotkeys-dialog .dcg-toggle-container{top:50px;left:0;margin-left:0}}.dcg-calculator-api-container .dcg-language-container{color:#444;font-family:Arial,"Microsoft Yahei","",STXihei,"",sans-serif;line-height:1.1em}.dcg-calculator-api-container .dcg-language-container .dcg-arrow{right:4px}.dcg-calculator-api-container .dcg-language-container .dcg-popover-interior{width:310px}.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionimage .dcg-image-loaded .dcg-mq-math-mode,.dcg-calculator-api-container .dcg-language-container .dcg-popover-interior .dcg-language-header{font-size:130%}.dcg-calculator-api-container .dcg-share-container{width:340px}.dcg-calculator-api-container .dcg-share-container .dcg-arrow{right:85px}.dcg-calculator-api-container .dcg-share-container .dcg-loading{padding-top:5px;color:#555}.dcg-calculator-api-container .dcg-share-container .dcg-loading span.dcg-spinner{position:relative;top:4px;margin-right:5px}.dcg-calculator-api-container .dcg-share-container .dcg-loaded{padding-top:5px}.dcg-calculator-api-container .dcg-share-container .dcg-share-actions{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-pack:justify;-moz-box-pack:justify;-o-box-pack:justify;-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-top:20px}.dcg-calculator-api-container .dcg-share-container .dcg-share-actions .dcg-embed-link,.dcg-calculator-api-container .dcg-share-container .dcg-share-actions .dcg-export-image-link,.dcg-calculator-api-container .dcg-share-container .dcg-share-actions .dcg-print-link{color:rgba(0,0,0,.8);text-decoration:none;cursor:pointer}.dcg-calculator-api-container .dcg-share-container .dcg-share-actions .dcg-embed-link i,.dcg-calculator-api-container .dcg-share-container .dcg-share-actions .dcg-export-image-link i,.dcg-calculator-api-container .dcg-share-container .dcg-share-actions .dcg-print-link i{margin-right:5px;border-radius:50%;width:25px;height:25px;line-height:25px;display:inline-block;-webkit-box-shadow:0 0 0 1px #2f72dc;box-shadow:0 0 0 1px #2f72dc;color:#2f72dc;text-align:center;-webkit-transition:-webkit-transform .2s;-moz-transition:-moz-transform .2s;-o-transition:-o-transform .2s;-ms-transition:-ms-transform .2s;transition:transform .2s}.dcg-calculator-api-container .dcg-share-container .dcg-share-actions .dcg-embed-link.dcg-hovered i,.dcg-calculator-api-container .dcg-share-container .dcg-share-actions .dcg-export-image-link.dcg-hovered i,.dcg-calculator-api-container .dcg-share-container .dcg-share-actions .dcg-print-link.dcg-hovered i{background:rgba(47,114,220,.15)}.dcg-calculator-api-container .dcg-share-container .dcg-share-actions .dcg-embed-link.dcg-depressed i,.dcg-calculator-api-container .dcg-share-container .dcg-share-actions .dcg-embed-link.dcg-selected i,.dcg-calculator-api-container .dcg-share-container .dcg-share-actions .dcg-export-image-link.dcg-depressed i,.dcg-calculator-api-container .dcg-share-container .dcg-share-actions .dcg-export-image-link.dcg-selected i,.dcg-calculator-api-container .dcg-share-container .dcg-share-actions .dcg-print-link.dcg-depressed i,.dcg-calculator-api-container .dcg-share-container .dcg-share-actions .dcg-print-link.dcg-selected i{background:rgba(47,114,220,.3)}.dcg-calculator-api-container .dcg-share-container .dcg-embed-div{margin-top:10px;-webkit-animation:.3s dcg-fadeIn;-moz-animation:.3s dcg-fadeIn;-o-animation:.3s dcg-fadeIn;-ms-animation:dcg-fadeIn 0.3s;animation:.3s dcg-fadeIn}.dcg-calculator-api-container .dcg-share-container .dcg-embed-div textarea{font-size:90%;display:block;width:100%;height:7em;border-radius:5px;border:1px solid #ccc;padding:5px}.dcg-calculator-api-container .dcg-share-container .dcg-embed-div textarea:focus{outline:0;border:1px solid #2f72dc;-webkit-box-shadow:0 0 0 1px #2f72dc;box-shadow:0 0 0 1px #2f72dc}.dcg-calculator-api-container .dcg-share-container .dcg-embed-div .dcg-btn-primary{padding:6px 20px;float:right;margin:2px 6px 8px 0}.dcg-calculator-api-container .dcg-share-container .dcg-art-contest-container{border-top:1px solid #ccc;margin:10px -20px -20px;padding:10px 10px 10px 20px;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.dcg-calculator-api-container .dcg-share-container .dcg-art-contest-container .dcg-trophy-icon{font-size:200%;margin-right:10px}.dcg-calculator-api-container .dcg-share-container .dcg-art-contest-container .dcg-contest-submit-message{margin-right:20px}.dcg-calculator-api-container .dcg-share-container .dcg-art-contest-container .dcg-enter-btn{cursor:pointer;margin-left:auto;background:#2f72dc;border:1px solid rgba(0,0,0,.1);color:#fff;border-radius:3px;padding:5px 10px}.dcg-calculator-api-container .dcg-share-container .dcg-failed .dcg-action-close,.dcg-calculator-api-container .dcg-share-container .dcg-failed .dcg-action-retry{color:#2f72dc;cursor:pointer;padding:10px 5px;margin:-10px -5px;text-decoration:underline}.dcg-aria-alert,.dcg-calculator-api-container .dcg-offscreen-element{position:absolute;left:-1000px;top:-1000px;width:1px;height:1px;text-align:left;overflow:hidden}.dcg-calculator-api-container .dcg-container a,.dcg-calculator-api-container .dcg-container a:hover{text-decoration:none}.dcg-calculator-api-container .dcg-container.dcg-no-expression-topbar .dcg-expression-top-bar,.dcg-calculator-api-container .dcg-container.dcg-no-graphpaper .dcg-graph-icon,.dcg-calculator-api-container .dcg-container.dcg-no-graphpaper .dcg-grapher,.dcg-calculator-api-container .dcg-container.dcg-no-graphpaper .dcg-resize-list-btn,.dcg-calculator-api-container .dcg-narrow .dcg-graphpaper-branding,.dcg-calculator-api-container .dcg-no-branding .dcg-expressions-branding,.dcg-calculator-api-container .dcg-no-branding .dcg-graphpaper-branding{display:none}.dcg-calculator-api-container .dcg-container .dcg-grapher.dcg-scale-horizontal,.dcg-calculator-api-container .dcg-mouse-over-movable-point-ew{cursor:ew-resize}.dcg-calculator-api-container .dcg-container .dcg-grapher.dcg-scale-vertical,.dcg-calculator-api-container .dcg-mouse-over-movable-point-ns{cursor:ns-resize}.dcg-calculator-api-container .dcg-container .dcg-grapher.dcg-scale-both{cursor:nesw-resize}.dcg-calculator-api-container .dcg-graph-outer{overflow:hidden;position:absolute;top:0;left:0;right:0;bottom:0}.dcg-calculator-api-container .dcg-container.dcg-inverted-colors{filter:invert(100%)}.dcg-calculator-api-container .dcg-container{width:100%;height:100%;position:relative;background:#fff;z-index:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;overflow:hidden;font-family:arial,sans-serif;font-size:16px;color:#000}.dcg-calculator-api-container .dcg-container.dcg-is-interactive,.dcg-calculator-api-container .dcg-container.dcg-is-interactive .dcg-grapher{touch-action:none;-ms-touch-action:none}.dcg-calculator-api-container .dcg-container .dcg-text-selectable,.dcg-calculator-api-container .dcg-text-selectable{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.dcg-calculator-api-container .dcg-expressions-branding{position:absolute;bottom:0;left:50%}.dcg-calculator-api-container .dcg-graphpaper-branding{position:absolute;bottom:0;right:-8px;display:none;z-index:21}.dcg-calculator-api-container .dcg-fullscreen .dcg-graphpaper-branding{display:block;opacity:1;-ms-filter:none;filter:none}.dcg-calculator-api-container .dcg-fullscreen .dcg-graphpaper-branding .dcg-powered-by,.dcg-calculator-api-container .dcg-fullscreen .dcg-graphpaper-branding i{position:relative;text-shadow:-1px -1px 0 #fff,-1px 1px 0 #fff,1px -1px 0 #fff,1px 1px 0 #fff,0 -1px 0 #fff,0 1px 0 #fff,1px 0 0 #fff,-1px 0 0 #fff}.dcg-calculator-api-container .dcg-expressions-branding,.dcg-calculator-api-container .dcg-graphpaper-branding{text-align:center;font-size:75%;width:110px;margin-left:-55px;text-decoration:none;line-height:1em;height:45px;overflow:hidden}.dcg-calculator-api-container .dcg-expressions-branding.dcg-unclickable,.dcg-calculator-api-container .dcg-graphpaper-branding.dcg-unclickable{pointer-events:none;z-index:-1}.dcg-calculator-api-container .dcg-expressions-branding .dcg-powered-by,.dcg-calculator-api-container .dcg-graphpaper-branding .dcg-powered-by{color:rgba(0,0,0,.2);text-decoration:none;-webkit-transition:color .3s;-moz-transition:color .3s;-o-transition:color .3s;-ms-transition:color .3s;transition:color .3s;display:block}.dcg-calculator-api-container .dcg-expressions-branding i,.dcg-calculator-api-container .dcg-graphpaper-branding i{color:rgba(0,0,0,.2);font-size:650%;margin-right:2px;line-height:18px;-webkit-transition:color .3s;-moz-transition:color .3s;-o-transition:color .3s;-ms-transition:color .3s;transition:color .3s;height:18px}.dcg-calculator-api-container .dcg-expressions-branding .dcg-edit-branding,.dcg-calculator-api-container .dcg-expressions-branding a,.dcg-calculator-api-container .dcg-graphpaper-branding .dcg-edit-branding,.dcg-calculator-api-container .dcg-graphpaper-branding a{cursor:pointer;display:block;height:50px}.dcg-calculator-api-container .dcg-expressions-branding .dcg-edit-branding.dcg-hovered .dcg-powered-by,.dcg-calculator-api-container .dcg-expressions-branding a.dcg-hovered .dcg-powered-by,.dcg-calculator-api-container .dcg-graphpaper-branding .dcg-edit-branding.dcg-hovered .dcg-powered-by,.dcg-calculator-api-container .dcg-graphpaper-branding a.dcg-hovered .dcg-powered-by,.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-log-mode-toggle-help.dcg-hovered{color:#aaa}.dcg-calculator-api-container .dcg-expressions-branding .dcg-edit-branding.dcg-hovered i,.dcg-calculator-api-container .dcg-expressions-branding a.dcg-hovered i,.dcg-calculator-api-container .dcg-graphpaper-branding .dcg-edit-branding.dcg-hovered i,.dcg-calculator-api-container .dcg-graphpaper-branding a.dcg-hovered i{color:#127a3d}.dcg-calculator-api-container .dcg-container{text-align:left;-webkit-transform-origin:0 0;-moz-transform-origin:0 0;-o-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0}.dcg-calculator-api-container .dcg-container pre{white-space:pre-wrap}.dcg-calculator-api-container .dcg-container img{border:0;outline:0}.dcg-calculator-api-container .dcg-container input::-ms-clear{display:none}.dcg-calculator-api-container .dcg-container button,.dcg-calculator-api-container .dcg-container input,.dcg-calculator-api-container .dcg-container select,.dcg-calculator-api-container .dcg-container textarea{font-family:inherit}.dcg-calculator-api-container .dcg-container button,.dcg-calculator-api-container .dcg-container select{text-transform:none}.dcg-calculator-api-container .dcg-container button,.dcg-calculator-api-container .dcg-container input[type=button],.dcg-calculator-api-container .dcg-container input[type=reset],.dcg-calculator-api-container .dcg-container input[type=submit]{-webkit-appearance:button;cursor:pointer}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container.dcg-disabled .dcg-keypad-btn,.dcg-calculator-api-container .dcg-container button[disabled],.dcg-calculator-api-container .dcg-container input[disabled],.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-non-editable,.dcg-calculator-api-container .dcg-expressiontable,.dcg-calculator-api-container .dcg-header .align-left-container .title-div .dcg-variable-title-container,.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-no-hover-styling,.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option.dcg-selected-toggle i{cursor:default}.dcg-calculator-api-container .dcg-container input[type=search]{-webkit-appearance:textfield;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}.dcg-calculator-api-container .dcg-container input[type=search]::-webkit-search-cancel-button,.dcg-calculator-api-container .dcg-container input[type=search]::-webkit-search-decoration{-webkit-appearance:none}.dcg-calculator-api-container .dcg-container button::-moz-focus-inner,.dcg-calculator-api-container .dcg-container input::-moz-focus-inner{border:0;padding:0}.dcg-calculator-api-container .dcg-container table{border-collapse:collapse;border-spacing:0}.dcg-calculator-api-container .dcg-container input::-webkit-inner-spin-button,.dcg-calculator-api-container .dcg-container input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.dcg-calculator-api-container .dcg-component-checkbox,.dcg-calculator-api-container .dcg-shared-component-checkbox{cursor:pointer;position:relative}.dcg-calculator-api-container .dcg-component-checkbox .dcg-checkbox,.dcg-calculator-api-container .dcg-shared-component-checkbox .dcg-shared-checkbox{border:1px solid #bbb;margin-right:.5em;width:1.1em;height:1.1em;border-radius:3px;vertical-align:middle;display:inline-block;position:relative}.dcg-calculator-api-container .dcg-component-checkbox .dcg-checkbox i,.dcg-calculator-api-container .dcg-shared-component-checkbox .dcg-shared-checkbox i{display:none;font-size:115%;position:absolute;top:-.15em;left:.1em;text-shadow:-1px -1px 0 #fff,-1px 1px 0 #fff,1px -1px 0 #fff,1px 1px 0 #fff,0 -1px 0 #fff,0 1px 0 #fff,1px 0 0 #fff,-1px 0 0 #fff}.dcg-calculator-api-container .dcg-component-checkbox .dcg-checkbox-children,.dcg-calculator-api-container .dcg-shared-component-checkbox .dcg-shared-checkbox-children{position:relative;top:.1em}.dcg-calculator-api-container .dcg-component-checkbox.dcg-checked.dcg-hovered .dcg-checkbox,.dcg-calculator-api-container .dcg-component-checkbox.dcg-hovered:not(.dcg-checked) .dcg-checkbox,.dcg-calculator-api-container .dcg-shared-component-checkbox.dcg-hovered:not(.dcg-shared-checked) .dcg-shared-checkbox,.dcg-calculator-api-container .dcg-shared-component-checkbox.dcg-shared-checked.dcg-hovered .dcg-shared-checkbox{border:1px solid #999}.dcg-calculator-api-container .dcg-component-checkbox.dcg-hovered:not(.dcg-checked) .dcg-checkbox i,.dcg-calculator-api-container .dcg-shared-component-checkbox.dcg-hovered:not(.dcg-shared-checked) .dcg-shared-checkbox i{display:block;color:#e2e2e2}.dcg-calculator-api-container .dcg-component-checkbox.dcg-checked .dcg-checkbox i,.dcg-calculator-api-container .dcg-shared-component-checkbox.dcg-shared-checked .dcg-shared-checkbox i{display:block;color:#2f72dc}.dcg-calculator-api-container .dcg-component-checkbox.dcg-disabled,.dcg-calculator-api-container .dcg-shared-component-checkbox.dcg-shared-disabled{pointer-events:none;opacity:.5}.dcg-calculator-api-container .dcg-component-checkbox.dcg-disabled .dcg-checkbox,.dcg-calculator-api-container .dcg-shared-component-checkbox.dcg-shared-disabled .dcg-shared-checkbox{background:rgba(0,0,0,.15)}.dcg-calculator-api-container .dcg-component-checkbox.dcg-disabled.dcg-checked i,.dcg-calculator-api-container .dcg-shared-component-checkbox.dcg-shared-disabled.dcg-shared-checked i{display:block;color:#999}.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-parameter-name,.dcg-calculator-api-container .dcg-component-checkbox.dcg-small,.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-component-checkbox,.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved i,.dcg-calculator-api-container .dcg-mq-underline-container .dcg-slider-step-label,.dcg-calculator-api-container .dcg-regression-container .dcg-parameter-warning i,.dcg-calculator-api-container .dcg-shared-component-checkbox.dcg-shared-small{font-size:85%}.dcg-calculator-api-container .dcg-download-button.dcg-disabled,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-non-editable .dcg-mq-math-mode,.dcg-calculator-api-container .dcg-label-orientation-view .dcg-orientation-disabled,.dcg-calculator-api-container .dcg-poi-label .dcg-label .dcg-static-mathquill-view,.dcg-calculator-api-container .dcg-toast-view .dcg-toast-wrapper,.dcg-calculator-api-container .graph-link-container.saved-graph.dcg-selected .actions,.dcg-calculator-api-container .graph-link-container.saved-graph.dcg-selected .actions span{pointer-events:none}.dcg-calculator-api-container .dcg-learn-more-link{display:inline-block;color:#999;text-decoration:none;padding:5px;font-size:85%;position:relative;top:1px}.dcg-calculator-api-container .dcg-mq-container,.dcg-calculator-api-container .dcg-shared-dropdown-popover-container{position:relative;display:inline-block}.dcg-calculator-api-container .dcg-mq-container .dcg-mq-placeholder{position:absolute;top:50%;left:0;right:0;line-height:1em;height:1em;margin-top:-.67em;font-size:95%;pointer-events:none;font-family:Symbola,"Times New Roman",serif;padding-left:2px;color:rgba(0,0,0,.47)}.dcg-calculator-api-container .dcg-mq-container .dcg-mq-placeholder .dcg-mq-math-mode{font-size:inherit}.dcg-calculator-api-container .dcg-container .dcg-suffix-degree .dcg-mq-root-block:after{content:'';vertical-align:top;opacity:.6;margin-left:1px}.dcg-calculator-api-container .dcg-container .dcg-suffix-radian .dcg-mq-root-block:after{content:'rad';font-size:90%;opacity:.6;margin-left:3px}.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field:not(.dcg-no-fadeout):after,.dcg-calculator-api-container .dcg-mathquill-braille-overflow-right .dcg-tooltip-hit-area-container:after{content:"";position:absolute;top:0;right:0;bottom:0;width:14px;background:-webkit-linear-gradient(left,rgba(255,255,255,0),#fff);background:-moz-linear-gradient(left,rgba(255,255,255,0),#fff);background:-o-linear-gradient(left,rgba(255,255,255,0),#fff);background:-ms-linear-gradient(left,rgba(255,255,255,0),#fff);background:linear-gradient(to right,rgba(255,255,255,0),#fff);pointer-events:none}.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field:not(.dcg-no-fadeout) .dcg-mq-root-block{padding-right:10px}.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field:not(.dcg-no-fadeout) .dcg-mq-root-block.dcg-mq-editing-overflow-left:before,.dcg-calculator-api-container .dcg-mathquill-braille-overflow-left .dcg-tooltip-hit-area-container:before{content:"";position:absolute;top:0;left:0;bottom:0;width:14px;background:-webkit-linear-gradient(right,rgba(255,255,255,0),#fff);background:-moz-linear-gradient(right,rgba(255,255,255,0),#fff);background:-o-linear-gradient(right,rgba(255,255,255,0),#fff);background:-ms-linear-gradient(right,rgba(255,255,255,0),#fff);background:linear-gradient(to left,rgba(255,255,255,0),#fff);pointer-events:none}.dcg-calculator-api-container .dcg-has-background-color .dcg-mq-editable-field:after{display:none}.dcg-calculator-api-container .dcg-has-background-color .dcg-mq-editable-field:after .dcg-mq-editing-overflow-left:before{display:none}.dcg-calculator-api-container .dcg-search-container{font-size:110%;position:relative;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;overflow:hidden;display:box;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.dcg-calculator-api-container .dcg-search-container .dcg-remove-x{position:absolute;top:0;right:0;color:#999;padding:15px;font-size:80%;cursor:pointer}.dcg-calculator-api-container .dcg-search-container input{outline:0;width:100%;border:2px solid rgba(0,0,0,.2);background:#fff;font-size:100%;color:#333;padding:10px 30px 10px 10px;border-radius:5px 5px 0 0;margin-bottom:0}.dcg-calculator-api-container .dcg-search-container .dcg-searchable-dropdown-list-container{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;overflow:hidden;display:box;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.dcg-calculator-api-container .dcg-search-container .dcg-searchable-dropdown-list{font-size:110%;border:1px solid rgba(0,0,0,.2);border-radius:0 0 5px 5px;background-color:#fff;text-align:left;z-index:2;-webkit-overflow-scrolling:touch;overflow-x:hidden;overflow-y:auto}.dcg-calculator-api-container .dcg-search-container .dcg-searchable-dropdown-list:not(.dcg-no-input){border-top-width:0;max-height:100%}.dcg-calculator-api-container .dcg-search-container .dcg-searchable-dropdown-list.dcg-no-input{border-radius:5px;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.dcg-calculator-api-container .dcg-search-container .dcg-searchable-dropdown-list.dcg-no-search-results{text-align:center;padding:25px;font-style:italic;color:#bbb;font-size:90%}.dcg-calculator-api-container .dcg-search-container .dcg-searchable-dropdown-list .dcg-searchable-dropdown-option{padding:7px 10px;font-size:90%}.dcg-calculator-api-container .dcg-search-container .dcg-searchable-dropdown-list .dcg-searchable-dropdown-option.dcg-hovered,.dcg-calculator-api-container .dcg-search-container .dcg-searchable-dropdown-list .dcg-searchable-dropdown-option:focus{background:#ddd;outline:0}.dcg-calculator-api-container .dcg-search-container .dcg-searchable-dropdown-list .dcg-searchable-dropdown-option.dcg-depressed{background:#ccc}.dcg-calculator-api-container .dcg-disable-slider,.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-menu-open:before{opacity:.3}.dcg-calculator-api-container .dcg-slider-interior{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;position:relative;top:-4px;margin-left:7px;margin-right:7px}.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb{cursor:pointer;z-index:3;border-radius:8px;position:absolute;top:-8px;margin-left:-19px;width:38px;height:38px}.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb:focus:after{position:absolute;top:-4px;left:4px;content:"";pointer-events:none;border:2px solid rgba(47,114,220,.35);border-radius:50%;width:26px;height:26px}.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb .dcg-graphic{position:absolute;top:0;left:8px;border-radius:12px;width:22px;height:22px;background:rgba(47,114,220,.35)}.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb .dcg-center{position:absolute;top:0;left:8px;border-radius:12px;width:22px;height:22px;background:#2f72dc;-webkit-transform:scale(.25,.25);-moz-transform:scale(.25,.25);-o-transform:scale(.25,.25);-ms-transform:scale(.25,.25);transform:scale(.25,.25);-webkit-transition:-webkit-transform .2s;-moz-transition:-moz-transform .2s;-o-transition:-o-transform .2s;-ms-transition:-ms-transform .2s;transition:transform .2s}.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb.dcg-down .dcg-center,.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb.dcg-hovered .dcg-center{-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-o-transform:scale(1,1);-ms-transform:scale(1,1);transform:scale(1,1)}.dcg-calculator-api-container .dcg-slider-interior .dcg-zeroMarker{position:absolute;top:2px;z-index:2;width:2px;height:2px;background:rgba(0,0,0,.3);border-radius:2px}.dcg-calculator-api-container .dcg-slider-interior .dcg-track{cursor:pointer;height:22px;position:absolute;left:0;right:0}.dcg-calculator-api-container .dcg-slider-interior .dcg-track .dcg-ticks{position:absolute;top:2px;bottom:0;width:100%}.dcg-calculator-api-container .dcg-slider-interior .dcg-track .dcg-ticks .dcg-tick{position:absolute;top:0;width:2px;height:2px;background-color:#fff;margin-left:0;z-index:1;border-radius:2px}.dcg-calculator-api-container .dcg-slider-interior .dcg-track .dcg-graphic{height:6px;background-color:rgba(0,0,0,.1);border-radius:3px;margin-bottom:6px;width:100%}.dcg-calculator-api-container .dcg-slider-container .dcg-minLabel{padding:10px 4px 10px 8px}.dcg-calculator-api-container .dcg-slider-container .dcg-maxLabel{padding:10px 8px 10px 4px}.dcg-calculator-api-container .dcg-slider-container .dcg-maxLabel,.dcg-calculator-api-container .dcg-slider-container .dcg-minLabel{z-index:4;color:rgba(0,0,0,.5);margin:-10px 0;min-width:26px;text-align:center}.dcg-calculator-api-container .dcg-slider-container .dcg-maxLabel .dcg-mq-math-mode,.dcg-calculator-api-container .dcg-slider-container .dcg-minLabel .dcg-mq-math-mode{font-family:arial,sans-serif;cursor:pointer;font-size:80%;position:relative;top:-1px}.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-animate-pause,.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-animate-play,.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-top-level-delete,.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel div.dcg-image-name,.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-slider-speed-container,.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int .dcg-mq-from,.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int .dcg-mq-sub,.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int .dcg-mq-sup,.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int .dcg-mq-to,.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator .dcg-mq-from,.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator .dcg-mq-sub,.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator .dcg-mq-sup,.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator .dcg-mq-to,.dcg-calculator-api-container .dcg-basic-keypad .dcg-mq-int .dcg-mq-supsub,.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem .dcg-num,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata:not(.dcg-focus-in-bottom-row) .dcg-row:last-of-type .dcg-cell .dcg-empty-line,.dcg-calculator-api-container .dcg-expressionitem.dcg-secretFolder,.dcg-calculator-api-container .dcg-narrow .dcg-hide-on-narrow{display:none}.dcg-calculator-api-container .dcg-static-mathquill-view *{-webkit-user-select:text!important;-moz-user-select:text!important;-ms-user-select:text!important;user-select:text!important;-moz-user-selection:text!important}.dcg-calculator-api-container .dcg-tooltipped-error{color:#e66b3c;font-size:22px;cursor:pointer;display:inline-block;width:26px;height:26px;text-align:center;-webkit-animation:1s dcg-delayed-fadeIn;-moz-animation:1s dcg-delayed-fadeIn;-o-animation:1s dcg-delayed-fadeIn;-ms-animation:dcg-delayed-fadeIn 1s;animation:1s dcg-delayed-fadeIn;position:relative;top:3px}.dcg-calculator-api-container .dcg-tooltipped-error.dcg-small{font-size:14px;width:16px;height:16px;position:relative;top:1px}.dcg-calculator-api-container .dcg-account-link.dcg-active,.dcg-calculator-api-container .dcg-account-link.dcg-hovered,.dcg-calculator-api-container .dcg-header .align-left-container .title-div .dcg-variable-title-container.dcg-action-savedialog.dcg-hovered,.dcg-calculator-api-container .dcg-header .align-left-container .title-div .dcg-variable-title-container[dcg-menu-button=graph-actions].dcg-hovered,.dcg-calculator-api-container .dcg-header .dcg-header-btn.dcg-active,.dcg-calculator-api-container .dcg-header .dcg-header-btn.dcg-hovered,.dcg-calculator-api-container .dcg-header.dcg-secure-header .align-right-container .dcg-icon-question-sign.dcg-depressed,.dcg-calculator-api-container .dcg-header.dcg-secure-header .align-right-container .dcg-icon-question-sign.dcg-hovered,.dcg-calculator-api-container .dcg-lost-work-link .dcg-attempt-recovery.dcg-hovered,.dcg-calculator-api-container .dcg-no-recovery-graphs .dcg-attempt-recovery.dcg-hovered,.dcg-calculator-api-container .dcg-tooltipped-error.dcg-white,.dcg-calculator-api-container .dcg-user-bar .dcg-account-link-container .dcg-account-link.dcg-active,.dcg-calculator-api-container .dcg-user-bar .dcg-account-link-container .dcg-account-link.dcg-hovered,.dcg-calculator-api-container .dcg-user-bar .dcg-search-btn.dcg-depressed i,.dcg-calculator-api-container .graph-link-container .deleting .cancel-delete.dcg-hovered,.dcg-calculator-api-container .graph-link-container .retry-delete a.dcg-depressed,.dcg-calculator-api-container .graph-link-container .retry-delete a.dcg-hovered,.dcg-calculator-api-container .save-btn-container .save-success{color:#fff}@-webkit-keyframes dcg-delayed-fadeIn{0%,80%{opacity:0}100%{opacity:1;-ms-filter:none;filter:none}}@keyframes dcg-delayed-fadeIn{0%,80%{opacity:0}100%{opacity:1;-ms-filter:none;filter:none}}@font-face{font-family:dcg-icons;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBj4AAAC8AAAAYGNtYXDpTuOQAAABHAAAAFxnYXNwAAAAEAAAAXgAAAAIZ2x5ZuC2YVEAAAGAAACQDGhlYWQeLuCLAACRjAAAADZoaGVhByoEdwAAkcQAAAAkaG10eBVBJ9EAAJHoAAACHGxvY2GRprP2AACUBAAAARBtYXhwAJoCkAAAlRQAAAAgbmFtZZMnHvMAAJU0AAABnnBvc3QAAwAAAACW1AAAACAAAwQCAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpEgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAQAAAAAwACAACAAQAAQAg4m/pEv/9//8AAAAAACDiAOkA//3//wAB/+MeBBd0AAMAAQAAAAAAAAAAAAAAAAABAAH//wAPAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAMAMf/EBBgDwAA0ADwARAAAASM1NCYjISIGHQEjIgYdARQWOwEeARcVIyIGHQEUFjMhMjY9ATQmKwE1PgE3MzI2PQE0JiMFNTMVIyImNSEUBisBNTMVA/CnMiL+XyIyphEYSjNdFnJOUjRJGBEB1BAYSjJTTXMWXTVIGBD8kn5SEhoDRRoSUn4DD10iMjIiXRgRiTRITG0SW0ozUhEXFxFSNElbEm1MSjKJERiyYY0ZExIajWEAAAAGAAD/wAQAA8AAHwAvAFkAiAJeAo0AAAEhIgcOAQcGFREUFx4BFxYzITI3PgE3NjURNCcuAScmExQGIyEiJjURNDYzITIWFSUWJjEWFx4BFxYXHgEXMAYxDgEHDgEHMAY5AS4BJyYnLgEnJicxJhYnNwUGFDEGBw4BBwYHDgEHMSoBIzAiMSImJy4BJzAmMT4BNz4BNzY3PgE3NjcGNjcXEzYWFxU4ATEuASc4ATEwIjU4ATE4AScwIiMwIiMwIiMwIjU4ATEwIjU4ATEuASMmBgcwIhU4ASMOASM4ATEOAQcOAQcOAQcxDgEHMAYxOAExIgYjMCIjIgYjIgYHOAExDgEHMCIxIgYjMCIVIgYHOAExIgYjMCIxOAEjMCIxMDIxDgEjMjY3DgEnLgEnOAExMCIxOAExOAExMCY1MCY1IiYjOAExLgEnMS4BJx4BFy4BJzAWMS4BJy4BJy4BJy4BJy4BJy4BIw4BBzAiFQ4BBzI2Mw4BFTA2NQ4BBw4BBw4BBw4BBw4BBz4BNw4BIzI2Nw4BIwYmJy4BJzEeARcuASc1MBYxOAExHgEXOAExHgEXMBYxOAExOAExHgEXIiYnHgEzMDI5ATAyMTI2NzgBMTAyNTgBMz4BNzI2MzA2MTI2MzAyNT4BNzE4ATE4ATE+ATc4ATE+ATc+ATcwBgc+ATcOAQc+ATc+ATcyNjM4ATEyNjMyNjM4ATE2MjMiJgc2FhcuASMeARceARceARceATEeARceARcuATUeARcuASceARceATMWNjc+ATc4ATE+ATc+ATcwNjUwNjEyNjM4ATEyNjM4ATM+ATciBgc+ATcOAQc+ATcFMQ4BIzEiJicuAScwNjE+AT8BPgE3MDY5AR4BFx4BMzI2NzAWMR4BFx4BFzYyFwMz/ZorJSU4EBAQEDglJSsCZislJTgQEBAQOCUld19D/ZpDX19DAmZDX/yxBAYMDg4fEhIVCxoOAggQCAQIBQIRHg0SEREgDg8MBQkEPQMgCAwODR8REBMRNCECAQEDBAoHCRIJAgEEAR8uExIQESAQDxADAgFCDRUmEgMHAwICAQEBAQEBAwIFCQULFwsCAgIFAgMIAwUIBQEFAhYsGAIBAQIBAQIBAQIFAgIDAQMBAQICAgEBAgEBAwICAg0aDg0ZDQ4dDg0XCQIDAgEBAhMfEAYNBwIDAgIEAwIDBgMCAwIBBAEFDAUEDQYIEwkMEwgCBQcFAgEBAQMCBQsFCBIIDx0QCBAIAgUCAgUCDh4QCxgKChEJGjYUFSQQBQcFBQcFAgMFAxUqFgIKFA0DCQMGDQcCAg0WCgICAgEBAgEBAwEBAgICAQECAQIECgcLFgwBAQQKBQMFAwoTDAgQCgEGAQIDAgEEAwoTCgcKBxcrEwEFAg4dDAcNCAUKBAIDAQECBg0GAQMKFg0LEwgECQQJFQwQGw0BBAELFAoVKBgCAgIBAgEBAgIFCQMCAwEGCwYFBwMFEgn+vB09ICA/HxAbDgIIEAgEAgUCAg0XCxAnGg4fDwILFAsEBwQFAgIDwBAROCUlKv2cKiYmOBEQEBA4JSUrAmYqJSU4ERD8zUNfX0MCZkNfX0OvCRQsMDFlNDQzGzweAggOCAUIBAMkRx4tLS5dMDAwFCcTLQ0eAiwvL14vMC4tbjYDAQUMBwIDBgEwZTIrLi5kNzY7DQcGHP4tAgkIVQMEBAICAgICBAQDBQICAgMFAwMJAwEGARcrFAICAgUBAgECAgIBAQIFBAMEBQUDAgYFAQEBAQIKHBAGDwYBAwICAwQDBAYDAgMCAQMCBQkFBQkDBQQCBgUCAwcDAgEBAgEBBQkFCBIIDxsMBgoDAQECAgEBBgkEBQMGAxMQCh4SBQcFBQkDZAICBQEVKxQCCAoDAwEDAwoHAgIBAQICAwIBAQICAQEFCgQMFAsDAQUJBQIFBAoRCAQJBAICAgICAgIPDAEDCBYNBg4IBAoFAQMCAQEHDAUCAQEJDQUDDgYDBgQGCQEPCAEBAggTCRQpEAEBAgMCAwQBAgIDBAEBAQIIBgH3GhodGw4gEgIIEAgEAgUCAhIcDA4aDAsCCRAHAQYBAQEAAAoAAP/ABAADwAAFAC0AVgBuAIsAuwDrARsBOwFLAAABJzUeARcXBgcOAQcGIwYnLgEnJiceATMyNjcWFx4BFxYzMjY3PgE3HgEzPgE3Aw4BBwYUFS4BJy4BIyIHDgEHBgcUBhUiJicuASMiBgc2Nz4BNzYzMhYXKgEjIgYHDgEHDgEHJzI2NzI2MT4BNxcHFBYXIT4BNTA0NTQmJy4BJyUUFhceARcFIQ4BFScOAQcOAQcOAQciBiMqATEuAScuAScuATU5ATU8ATE+ATc+ATMxPgEzMhYVMTYWMRcOAQcOAQcOAQciBiMqATEuAScuAScuATU5ATU8ATE+ATc+ATMxPgEzNhYVMTQUMSEOAQcOAQcOAQciBiMqATEuAScuAScuATU5ATU8ATE+ATc+ATMxPgEzNhYVMTQUMQEhIgcOAQcGFREUFx4BFxYzITI3PgE3NjURNCcuAScmExQGIyEiJjURNDYzITIWFQMeRBkhCgQJGxpNMDA1NjEwTRkaCQUJAwgOBgkWFkEoKC0tUiEfKggHDQgFCQWgBgwDAgQEAxYwGisnKD8XFwoCAgUCBQkFBQkDChsaTS8wNSNCrgEEAQULAwQDAgIFBEAFCwQBAwUKAkQ+BAP+SgQDAwQDBwUBWAMDBAYF/tMBiQYFBgIDAQQJBQEFAgMEAgEFBQcFBQkDAgIBBwQEBAMFBwUSGQEBawIDAgMJBQEGAQQDAgIEBQgEBQkDAgMCBgUDBQMFBwUTGv3iAgMCAwkFAQYBAwQCAQUFBwUFCQMCAwIGBQMFAwUHBRIbAhf9mislJTgQEBAQOCUlKwJmKyUlOBAQEBA4JSV3X0P9mkNfX0MCZkNfAgl7Ahs/I340KyxAEhIBEhNALCwzAgMFAislJTUQDx8dG0YoBQIDAgQBPgUPCAMFAwIDAgkKDw4yIyIoAwQCAQIBAwMBMyssPxIRD90DAgEBAgIFAXUDAQIDBwV5OgYNBAQNBgEBBw0IBQoCqAYMBQULA5YGCwbTBQcFBQkDAgEBAgEDAgMJBQUJAwICBQYMBQMEAQMZEgIC2QUIBAUJBAEBAgICAwEECQUEBgcCAQUHDAUDAwICAhsRAQEFCAQFCQQBAQICAgMBBAkFBAYHAgEFBwwFAwMCAgIbEQEBAgYQETglJSr9nComJjgREBAQOCUlKwJmKiUlOBEQ/M1DX19DAmZDX19DAAAABgAA/8AEAAPAACQATwCPAQQBJAE0AAAlMSImLwEHBiYnJjY/AT4BMx4BHwETPgEzITIWFRQGIyEDDgEjJRUUBg8BDgEHBhQVFAYjIiY1NDY3MT4BNyMqATEUBgcVIzU3NTMVMBYzFw8BIzU0Nj8BPgE1NCYnLgEjIgYHDgEHHgEVFAYHDgEjIiY1NDY3PgEzMhYXHgEVFAYHDgEPATMyNjc0Njc1MxUlFAYHDgEjIiYnLgE1NDY3PgEzMhYXHgEVFAYHDgEHHgEzHgEzMjY3PgE1NCYnLgErASImNTQ2NzE6ATMyNjc+ATU0JicuASMiBgcyFhUeARUUBgcOASMiJicuATU0Njc+ATMyFhceARUUBgcOAQceARceARUBISIHDgEHBhURFBceARcWMyEyNz4BNzY1ETQnLgEnJhMUBiMhIiY1ETQ2MyEyFhUBLwYMAS8HBhMEBQIHHAMLBQUGBCaJAwkHAYIKCw0I/ouYAQwGAesDAigHCQECCgoMBxMRBQ4JPAgGBAMLCQ0LFU2pC3UDATgOEAQFBQwIBwoFAwYBCAkEAwMHBQkMCQgIFg0OFwoJCgYFAwwINC0KCAEDAhX+3AkICBMMCREICQgDAQQGAwMHAwMBAwMCAwICBAMFCQUHBwMCAwMCAwcHDQQEBAcBAwIGCAMDAwICAQcFBgwDAgICAwMCAQcFAwYDAgMJCAcPCAgQCAgJBQUDBwMFCQMGBwHm/ZorJSU4EBAQEDglJSsCZislJTgQEBAQOCUld19D/ZpDX19DAmZDX/EGB2IGBQIHBhMFFQMBAQcEVAEHBQUNCAoL/uAFBusHAwYBOAgYDwkgFQkMEQQcORwHEw0CCQ0ECTcEBgICiT4JAwYCPRAgDgoOBgcGAwMEBgMCCQgFBwMEAwwKCxUICAkJCAgYDQkRCAUMCDIBAgEJDQQCtgwRCAYHBgUHEAkDCAIDAwICAwcDAwgCAQECAQMCAgYEBQsICAoFBQYFAwIFAgYFBA0GBQcDAwMDAwMBAgYFAwcDAwEDAQIGBQgPBQUDAwUFDwgIDggDBgIBBwQKEAgBtxAROCUlKv2cKiYmOBEQEBA4JSUrAmYqJSU4ERD8zUNfX0MCZkNfX0MAAAgAAP/ABAADwAAfAC0ATgBmAHUAjQCtAL0AACUWFAcOAS8BBwYiJy4BPwEnJjQ3PgEfATc2MhceAQ8BAzMyNjU0JisBIgYVFBYnMhYVFAYrARUUBiMiJj0BIyImNTQ2OwE1NDYzMhYdATMDFAYHDgEjIiYnLgE1NDY3PgEzMhYXHgE3FAYrASImNTQ2OwEeARUnFAYHDgEjIiYnLgE1NDY3PgEzMhYXHgEBISIHDgEHBhURFBceARcWMyEyNz4BNzY1ETQnLgEnJhMUBiMhIiY1ETQ2MyEyFhUDFwcHBhMHOToGEwcGAgg6OgYGBxMGOjkHEwYHAQg5ic8KDg4KzwkODqEJDAwJUQ0LCQ5RCg4MDFEOCQoOUUIGBQUNCAYPBAUGBgUEDQgIDQUFBlkMCc8KDg0LzQsMWQYFBQ0ICA0EBQYGBQQNCAcOBQUGAcr9mislJTgQEBAQOCUlKwJmKyUlOBAQEBA4JSV3X0P9mkNfX0MCZkNfwAYUBgYCCDo6BgYGFAY6OQcTBgcBCDk5BwcGEwc5AWIOCQoODgoJDi0OCgoNUQoODAxRDAsKDlEJDAwJUf4iCA0FBQYGBQUNCAgMBQUGBgUGDUkKDgwMCQ4CDAlPCA0FBQYGBQUNCAgMBQUGBgUGDQJxEBE4JSUq/ZwqJiY4ERAQEDglJSsCZiolJTgREPzNQ19fQwJmQ19fQwAAAAAIAHX/wAOJA8AADwAfAC8APwBPAHAAfACUAAAlISImPQE0NjMhMhYdARQGJyMiJj0BNDY7ATIWHQEUBjchIiY9ATQ2MyEyFh0BFAY3ISImPQE0NjMhMhYdARYGJyMiJj0BNDY7ATIWHQEUBhMXHgEXFAYjISImNT4BPwEjIgYVERQWMyEyNjURNCYrASciBhUUFjMyNjU0JgERNDYzIT4BMzIWFSEyFhURFAYjISImNQLG/lgFBgYFAagFBga88QUGBgXxBQYGSv7ABQYGBQFABQYGf/48BQYGBQHCBQYBB9bxBQYGBfEFBgZwDzMlAgYF/jwFBgInLxGnBgsJCAJWBgsJCKeEEBYWEBAWFv5lDggBJAIvICAvASQKDA4I/RoKDsYGBQQFBgYFBAUGTwYFBAUGBgUEBQZPBgUEBQYGBQQFBk8GBQQFBgYFBAUGTwYFBAUGBgUEBQYBIC0LNiMFBgYFIjMNMQkI/Q0GCwkIAvEGC3gXEBAWFhAPGPw7A4cJDCItLSINCPx5CQwNCAAABQAEAToD8wK6ABcAIwAvADsAigAAEy4BMQ4BHQEUFj8BPgE3MjYzPgE1LgEnFxQGIyImNTQ2MzIWFxQGIyImNTQ2MzIWNyIGFRQWMzI2NTQmBQcOAQcwBhUqASMwIjEwIjEiJic4ATEuAT0BIyImIy4BNTQ2NzYyOwE1NDY3NDY1MDYxMDY1MDIxOgEzMDIxMDIxMBYxMDIVHgEfARYUB60CFEZNEQsxExMSAx8CExwCGBXEIxkYIyMYGSOYIxkZIyMZGSNZGCQkGBgkIgF3oAMGBAIBAQICAgMFAwMDKwMHBRMYGBMDBwUrAgICAgICAgECAgIEAgQEA6AKCAI3AgECZEUkDwULMRMVAwQHHhUVIgQ5GSMjGRkjIxkZIyMZGSMjIyQYGCQkGBkjVKADBgEBAQICAw0JaQIHIBMTIAYCZQgKAwIBAQIBAgMCAQQDoAcWCgAAAAADAAT/zQPvAr4AHAA7AI0AAAEiBw4BBwYVFBceARcWMzI3PgE3NjU0Jy4BJyYjExQGKwEiJj0BBwYiJy4BLwEmNjc+ATEyNjEzMhYVEQEHDgEHMAYVKgExMCIxMCIxIiYnOAExLgE9ASEiBgcOAQ8BBiY9ATQ2MyE1NDY3NDY1MDYxMDI1MDIxOgEzMDIxMDIxMBYxMBYVHgEfARYUDwEBCywnJzoREREQOicnLSwnJjoREREROiYnLCYGBSIGCRcDCQUDBAIGAgIIBDgCAhwHCAKzkQMGBAIBAQICAwUDAwP9jQUKBRErFTMNEWpMAnECAgICAgICAQICAgQCAgUCoAgICwF3EBE5JyctLCcnOhAREBE5JyctLCcnOhEQ/qMFBgoF0Q8CAgIFBBkDCwMCHgIKBP7xAcKRBAUCAQEDAQMNCGIDAgMVFDQMBRAmTGpkCAoDAgECAgICAQECBAOgCBgIDQAAAAACAAQAFQP6A2sAUQCjAAABBw4BBzAGFSoBMTAiMTAiMSImJzgBMS4BPQEhIgYHDgEPAQYmPQE0NjMhNTQ2NzQ2NTA2MTAyNTAyMToBMzoBMTAyMTAWMTAWFR4BHwEWFA8BATc+ATcwNjU6ATE6ATEwMjEyFhc4ATEeAR0BITI2Nz4BPwE2Fh0BFAYjIRUUBgcUBhUwBjEwIhUwIjEqASMqATEwIjEwJjEwJjUuAS8BJjQ/AQPkkQMGBAIBAQICAwUDAwP9jQUKBRErFTMNEWpMAnECAgICAgICAQIDAQIEAwEFAqAICA38OJEDBgQCAQEBAQIDBQMDAwJxBQoEEisVMw0Ra0v9kQICAgICAgIBAgMBAgQDAQUCoAgIDQKJkgMGAQEBAgIDDAhlAwIDFRQ0DAUQJkxqYggKAwIBAQMCAgECAQQDoAgZCAz+bpIDBgEBAQICAwwIZQMCAxUUNAwFECZMamIICgMCAQEDAgIBAgEEA6AIGQgMAAAAAAIABAAVA/EDawBRAKMAAAEHDgEHMAYVKgExMCIxMCIxIiYnOAExLgE9ASEiBgcOAQ8BBiY9ATQ2MyE1NDY3NDY1MDYxMDI1MDIxOgEzOgExMDIxMBYxMBYVHgEfARYUDwERBw4BBzAiFSoBMTAiMTAiMSImJzgBMS4BPQEhIgYHDgEPAQYmPQE0NjMhNTQ2NzQ2NTA2MTA2NTAyMToBMzAyMTAyMTAWMTAyFR4BHwEWFA8BA+SRAwYEAgEBAgIDBQMDA/2NBQoFESsVMw0RakwCcQICAgICAgIBAgMBAgQDAQUCoAgIDZEDBgQCAQECAgMFAwMD/Y0FCgURKxUzDRFqTAJxAgICAgICAgECAgIEAgIFAqAICAsCiZIDBgEBAQICAwwIZQMCAxUUNAwFECZMamIICgMCAQEDAgIBAgEEA6AIGQgM/iqRAwYCAgMCAwwIZAICAxUVMw0GECZLamIICwMBAQICAQECAgIDA6AIGQgNAAP//v/FBAADvAApAEQAgwAAJScuAQcOARcVLgEnDgEHDgEHFhceARcWFzIWMxUUFhcWNj8BPgEnNCYnAQ4BFx4BNzYXHgEXFhc+ATc+ATcmJy4BJyYHBScuAQcOAR0BKgEHIgcOAQcGBwYHDgEHBiMmBgcGFhc6ATMyNz4BNzY3Njc+ATc2NxUUFhcWNj8BPgEnNCYnA/SoCg8GBgcBI3Q6AgUCEycUNDMzUhsbAgECAQYGBhAJqAYHAQYG/FIfKgECLh8DGBhNMzI3BAkEECQURUFAaCMiCQOuqAoPBgYGAQIBAyYncUFCOj47O14eHgMfLgIBKR8CBAITLy+BS0xLISUkRB8eFAYGBhAJqQYGAQYGtKgKBQIDDg1eEFJOAwcDIjsbPCYnLgkJAQFqDA8DAwcIqQYOCAgQBgKeAS8fICkBAQQDKCoqTgcOBxw0GVYuLyoDAwFMqQoFAgMODWMBDw5JQD9kbDs7NwYFAiofHy8CCQhJSkqCOSoqOxISCWUMDwMCBgmpBg0ICA8GAAADAE0ACAO1A3oAKQBGAGYAACUnPgE1NCcuAScmIyIHDgEHBhUUFx4BFxYzMjY3Fx4BMzI2Nz4BNTQmJwMUBw4BBwYjIicuAScmNTQ3PgE3NjMyFx4BFxYVJyM1NCYjIgYdASMiBhUUFjsBFRQWMzI2PQEzMjY1NCYDpZApKx8fbUhJUlJJSWwfHx8fbUhJUkB3NJEIFAsLFAgICAgIqhYXTjU0PDw0NU4XFxcXTjU0PDw0NU4XFodsGhMTGmwSGxsSbBoTExpsEhsbZpA1fkJTSElsHyAgH2xJSFNSSUhsIB8nJpIICAgICBQLCxQIAYU7NTRPFhcXFk80NTs8NTROFxcXF040NTwuaxMaGhNrGxITGmwTGhoTbBoTEhsAAAACAAQANwP+A08ALwBbAAABFgYHHgEXHgEHBiYnLgEnLgEnJgYjBicuAScmJxY3PgE3Njc2Nz4BNzYnOgEVHgEnFgYHBgcOAQcGJy4BIw4BBw4BBw4BJyY2Nz4BNy4BNz4BNz4BNzYWFx4BFwP+BmQ6BxMNBiUFBSsMIzUdCx4KChoNLy0uUyIjGDIvMFgoKCMnJSUxCAcTAQE6X9UDHxUdKSpoPD1CCxgICSIKGzImECkFCCYIDRAKNWgFA0gvMX5IWI85NFUGAaldbicTHRAIIRASCAMIFw4HFgECCAQEBBQPDxIEBAQVEREWGiUlXTc4PwIlYT4yTxsmHR4nCAgHAQUBGAUOFggEBQ0RIQoQHRAqamBDYyAiKgMFJiEgaEsAAAAAAQDFAHQDQAMTACEAADcqAScuATcTPgE3NhYXGwE+ARceAQcDDgEHBiYvAQMOASPwAgQCEhQDWAMQDAsYCO+bByEQEA4HtAQRCwsVB+NIAxgPdAEDHhEB0QwSAwQHCf7+AXEQDgcHIRD+UQoNAgIHCPT+gw8UAAAAAQEfAKkC4QLrABoAAAERFAYjISImNRE0NjsBNTQ2OwEyFh0BMzIWFQLhDwv+cgsPDwtrDwuFCg9rCw8CSf56Cw8PCwEHCw/uCg8PCm8PCwAEAR8AqQLhAusAGgAfACUAKQAAASM1NCYrASIGHQEjIgYVERQWMyEyNjURNCYjBTMVIzU3NTMRIzUXIxEzAsdrDwuFCg9rCw8PCwGOCw8PC/6LUlKFUlLXUlICY28KDw8K7g8L/vkLDw8LAYYLD7LV1Rnu/iTu7gFTAAAAAQByAS8DaQJRAA8AAAEuASMiBgcOASMVITUiJicCpyROMzFKJS5sVgL3QFooAfEjPTYiK0lWVkQoAAAAAf64AS8ErwJRACIAAAEiJicuASMiBgcOASMhFSEyNz4BNzY3PgEzMhYXHgEzITUhA2ZAWigkTjMwSyUubFb+SQG3OC0sSRwdGB4wFxgzHS13WwFJ/rcBhUQoIz02IitJVg0OKRgZFhsmKh0tWFYAAAkBLQDBAtMC/AAzAGYAmQDNAPgBJQFYAZIBwgAAATEuASMiBg8BJy4BIyIGBw4BFRQWHwEHDgEVFBYXHgEzMjY/ARceATMyNjc2NC8BNzY0JyciBg8BJy4BIyIGBw4BFRQWHwEHDgEVFBYXHgEzMjY/ARceATMyNjc2NC8BNzY0Jy4BIwMUFhceATMyNj8BFx4BMzI2Nz4BNTQmLwE3NjQnLgEjIgYPAScmIgcOARUUFh8BBw4BFRcxLgEjIgYPAScmIgcOARUUFh8BBw4BFRQWFx4BMzI2PwEXHgEzMjY3PgE1NCYvATc2NCc3MR4BMzI2PwEXHgEzMjY3NjQvATc2NCcuASMiBg8BJyYiBwYUHwEHBhQXFTEeATMyNj8BFx4BMzI2NzY0LwE3NjQnLgEjOAExIgYPAScmIgcGFB8BBwYUFzc+ATU0JicuASM4ATEiBg8BJy4BIyIGBwYUHwEHBhQXHgEzMjY/ARceATMyNjc2NC8BJzEeATMyNj8BFx4BMzI2Nz4BNTQmLwE3PgE1NCYnLgEjOAExIgYPAScuASM4ATEiBgcGFB8BBwYUFxc0JicmIg8BJy4BIyIGBwYUHwEHBhQXHgEzMjY/ARceATMyNjc+ATU0Ji8BNz4BNQIxAgcEBAcCFxcCBwQEBgMDAwMDFhYDAwMDAgcEBAcCFxcCBwQEBgMGBhYWBgYNBAcCFxYDBwQDBwMDAgIDFxcDAgIDAwcDBAcDFhcCBwQEBwIGBhYXBQUDBwT3AwIDBwQDBwMXFgMHAwQHAwIDAwIXFwUFAwcDBAcDFhcFEAUDAwMDFhYDA2gDBwMEBwMWFwUQBQMDAwMWFgMDAwMCBwQEBgMXFgMHBAMHAwMCAgMWFgYG1gMHBAMHAxYXAwYEBAcDBQUXFwUFAwcEAwcDFxYGDwUGBhYWBgUDBwQDBwMWFwMGBAQHAwUFFxcFBQMHBAMHAxcWBg8FBgYWFgZRFwIDAwIDBwQDBwMXFgMHAwQHAwUFFxcFBQMHAwQHAxYXAgcEBAcCBgYW6AIHBAQHAhcXAgcEBAYDAwMDAxYWAwMDAwIHBAQHAhcWAwcEAwcDBQUXFwYGaAMDBRAFFxYDBwMEBwMFBRcXBQUDBwMEBwMWFwIHBAQHAgMDAwMWFwIDAlwDAwMDFhYDAwMDAgcEBAYDFxYDBwQDBwMCAwMCFxcCAwMCBg8GFhcGDwWgAwMWFgMDAwMDBgQEBwMWFwIHBAQGAwMDAwMWFgMDAwMFEAUXFgYPBgMD/nIEBgMDAwMDFhYDAwMDAgcEBAcCFxYGDwYCAwMCFxcFBQMHAwQHAxYXAgcERQMDAwMWFgYGAgcEBAcCFxYDBwQDBwMDAwMDFhYDAwMDAwYEBAcDFhcFEAXRAgMDAhcXAgMDAgYPBhYXBg8FAwMDAxYWBgYFDwYWFwYPBpkDAwMDFhYDAwMDBRAFFxYGDwYCAwMCFxcFBQYPBhYXBRBuFwIHBAQHAgMDAwMWFgMDAwMFDwYWFwYPBQMDAwMWFgMDAwMFDwYWaQMDAwMWFgMDAwMCBwQEBwIXFgMHBAMHAwMDAwMWFgMDAwMFEAUXFgYQBUUEBwIGBhYWAwMDAwUQBRcWBg8GAgMDAhcXAgMDAgMHBAMHAxcWAwYEAAAAABIBLgDEAtIC+QALABgAJAAxAD0ASgBWAGQAcAB9AIkAlgCiAK8AuwDIANQA4QAAATIWFRQGIyImNTQ2NyIGFRQWMzI2NTQmIwUyFhUUBiMiJjU0NjciBhUUFjMyNjU0JiMHMhYVFAYjIiY1NDY3IgYVFBYzMjY1NCYjNTIWFRQGIyImNTQ2NyIGFRQWMzI2NTQmIzEXMhYVFAYjIiY1NDY3IgYVFBYzMjY1NCYjJzIWFRQGIyImNTQ2NyIGFRQWMzI2NTQmIwMyFhUUBiMiJjU0NjciBhUUFjMyNjU0JiMXMhYVFAYjIiY1NDY3IgYVFBYzMjY1NCYjFzIWFRQGIyImNTQ2NyIGFRQWMzI2NTQmIwFnChAQCgsPDwsYISEYFyEhFwEyCw8PCwoQEAoXISEXGCEhGJkLDw8LCw8PCxghIRgYISEYCw8PCwsPDwsYISEYGCEhGJkLDw8LChAQChchIRcYISEYmQsPDwsLDw8LGCEhGBghIRiZChAQCgsPDwsYISEYFyEhF5kLDw8LCw8PCxghIRgYISEYmQsPDwsKEBAKFyEhFxghIRgBrhAKCw8PCwoQHiEXGCEhGBchHhAKCw8PCwoQHiEXGCEhGBchHhAKCw8PCwoQHiEXGCEhGBcheA8LCw8PCwsPHyEYFyIhGBciHw8LCw8PCwsPHyEYFyIiFxgheBAKCw8PCwoQHiEXGCEhGBch/h4PCwsPDwsLDx8hGBciIhcYIR8PCwsPDwsLDx8hGBciIhcYIR8PCwsPDwsLDx8hGBciIhcYIQAJAS8AxALSAvkADAAYACQAMAA8AEgAVABgAGwAAAEeAQcOAScuATc+ARcFFAYjIiY1NDYzMhYHFAYjIiY1NDYzMhYnHgEHDgEnLgE3PgEXFAYjIiY1NDYzMhYnHgEHDgEnLgE3PgEDHgEHDgEnLgE3PgEXFAYjIiY1NDYzMhYXFAYjIiY1NDYzMhYBcBccBAQmFxgbBAQmFwFiIRgXISEXGCGZIhcXIiIXFyIwFxwEBCYXFxwEBCbgIRgXISEXGCHJFxwEBCYXFxwEBCaCFxsDBCYXGBsEAyfgIhcXIiIXFyKZIRgXISEXGCEBywMnFxcbAwQmFxgbBDgXISEXGCEhGBchIRcYISG3BCYXFxwEBCYXFxw8FyIiFxghIbcEJhgXGwQDJhgXG/45BCYXFxwEBCYXFxw8GCEhGBciIhcYISEYFyIiAAAAAwDRATcDLwJJADQAOAA8AAABFSM1NCYjIgYdARQWMzI2PQEzFRQWOwEyNj0BMxUUFjMyNj0BNCYjIgYdASM1NCYrASIGFRczFSMzIzUzAYR2Eg0MEhIMDRJ2Eg3fDRJREg0NERIMDRJREg3fDRI9Q0OjIyMCKkscDRISDXYNEhINHUwNEhINTB0NEhINdg0SEg0dTA0SEg0emJgABACBADQDfwNMAAsAGAAkADEAACUUBiMiJjU0NjMyFhMUBiMiJjU0NjMyFhUBFAYjIiY1NDYzMhYTIgYVFBYzMjY1NCYjAVY+LCw/PywsPlM+LSw+PiwtPgEyPi0sPj4sLT45LD4+LCw/PyyfLD8/LCw/PwGOLD8/LCw/Pyz+8y0+Pi0sPj4B1D8sLD8/LCw/AAAAAAUBJAAgAt8DXgAPACAAMQBCAFAAAAEjIiY9ATQ2OwEyFh0BFAYDIgYdARQWOwEyNj0BNCYrARMjIiY9ATQ2OwEyFh0BFAYjAyIGHQEUFjsBMjY9ATQmKwElISImNTQ2MyEyFhUUBgJfuxonJxq7Gicm1gUHBwW7BQcHBbu7uxonJxq7GicmG7sFBwcFuwUHBwW7ASD+ewsQEAsBhQsQEAIhJhu7GicnGrsbJgEIBwW7BQcHBbsFB/z3Jxq7GyYmG7saJwEIBwW7BQcHBbsFB30PCwsPDwsLDwAAAAABAUoA/gK2AnYAJgAAARYUBw4BIyImLwEHDgEjIiYnJjQ/AScmNDc2Mh8BNzYyFxYUDwEXArYMDAYPCAgPBnx8Bg8ICA8GDAx8fAwMDCINe3wMIgwMDHx8AUQMIgwGBgYGfHwGBgYGDCIMfHwMIgwMDHx8DAwMIgx8fAAAAgE8APwCxAKEABsAKAAAASIHDgEHBhUUFx4BFxYzMjc+ATc2NTQnLgEnJgMiJjU0NjMyFhUUBiMCACgkJDUPEBAPNSQkKCgkJDUPEBAPNSQkKC9CQi8vQkIvAoQQDzUkJCgoJCQ1DxAQDzUkJCgoJCQ1DxD+y0IvL0JCLy9CAAABAWYBJgKaAloADAAAARQGIyImNTQ2MzIWFQKaWkBAWlpAQFoBwEBaWkBAWlpAAAABAJ3/xAP8AyMAFgAAARQHDgEHBiMiJy4BJyYnARYXHgEXFhUD/CgoilxdaTQxMVooKCMCziIbGyUKCgHAaV1ciigoCgolGxshAs8iKShaMTE0AAAFAHgAOwPuA0gABQAYAB4AJAA0AAABLgEnHgEnByc3FDIVHgEXHgEXFhQzFBYVDwEvATcXAwcvATcXAwcuAScuASc4ATEuASc3FwPuAQEBAQFoTD9NAQYaBgUJBQEBArSBGSaBJ9GBGSaBJtBHAwcEAwUDBxoGSD8COgMEAgIEy01ATQEBBRkGBQsFAQEBAQG0ghkngSf+/4IZJoIn/v9HAwYDAwUDBhsGSD8AAQFNAqkCsgOhAEUAAAEuASc0JjUjLgEvAS4BBw4BBw4BDwEwBgcOARcxHgEXHgEVMhYVHgEzMjY3PgE3PgE3HgEfATAWFx4BMzI2NzMwNDM+AScCsgMPBgIBGzUdAgYWEg4SBQEBAW0CAQYSAwEPBQEBAQEGFBASGQcBAQEPHQ8OHg4BAgEHFxIQFAYBAQYYBgL7Cw8FAQEBHDYcAgYQAgIPBQEBAW0CAQYXEw4SBQEBAQEBBg8VCAECAQ8dDg4eDgECAggUEAYBBR8XAAAAAAUASv/9A7YDgwAnAFAAeACgAKwAAAE2Fh8BHgEXFgYHDgEHDgEHBiYnLgE1NDY3PgE3LgEnLgE1NDY3PgEBBiYvAS4BJyY2Nz4BNz4BNzYWFx4BFRQGBw4BBx4BFx4BFRQGBw4BBxMmNj8BPgE3MhYXHgEXHgEXFgYHDgEjIiYnLgEnDgEHDgEjIiYnLgEBFgYPAQ4BByImJy4BJy4BJyY2Nz4BMzIWFx4BFz4BNz4BMzIWFx4BAxQGIyImNTQ2MzIWAx8IDAZtBAsBAQkGHDccBAoFCg8EBQkSBRQqExUmFgUSCQUFCv3JCAwGbQQLAQEJBhw3HAQKBQoPBAUJEgUUKhMVJhYFEgkFBQoHigELBm0FCgYICgUdNhwFCwEDDgQFCwYJEAUTKxIWJhUFEAoHCgYECgEpAQsGbQUKBggKBR02HAULAQMOBAULBgkQBRMrEhYmFQUQCgcKBgQKOTQlJDQ0JCU0AlUBCwZtBQoGCAoFHTYcBQsBAw4EBQsGCRAFEysSFiYVBRAKBwoGBAr+1wELBm0ECwYHCwUdNhwEDAEDDgQFCwcJDwUUKhIWJhYEEQoGCwUECgEBwQgMBm0ECwEJBRw3HAQKBQoPBAUJEgUTKxMVJxUFEgkFBQr9rwgMBm0ECwEJBRw3HAQKBQoPBAUJEgUTKxMVJxUFEgkFBQoBHyU0NCUkNDQAAQA+/9MDwgKeADAAAAEUBw4BBwYjIicuAScmJzc+ATc+ATc+ATMyFhceARceARceATMyNjc+ATceARUWFBUDwiUlfFJRWUFMS4UvLwcZDCkJHTojECYVFisSFSYSEyUXESsXJkAaHTUfBSoGAcCtYmNiDQwREUg5OVECElIUPIAwGCAqHSFOKChQIhwoYTc5eTADAQUxPSUAAAAAAv/VAKAEIALaAFUAVwAAASIHDgEHBjEOAQcOASMiJjU0Njc+ATc+ATc+ATc+ATMxMhYXHgEfAR4BMzI2Nz4BNz4BNz4BMzIWFRQGBw4BBw4BBw4BBw4BIyImJy4BJzAnLgEnJiMlMQFXDBISIQwLCBEJGldHGyUlGQgjIAgQCBUuGws/NDhFCxUkEg0QRQ8OGx0IEAgVLhsLQDMbJSIaAQ8JFygVCBAKG1hGN0cLFicSDAwjEhMNAo0CVxwcRB0cESUQOIQlGxokAgUuQBAjES9cJw5DURQgSSMaI4o4ORAjES9cJw5DJRsaJQECDA4fUyoRJRA4hE4SIk8mHh5IHh4FAAAE/9UApAQgAt4AEQAtAE8AawAANyImNTQ2Nz4BNz4BFx4BBw4BISImJy4BJyY2NzYWFx4BMzI2Nz4BFx4BBw4BIwEiJicuATc+ATc+ATMyFhceARcWBgcGJicuASMiBgcOASMlIiYnLgE3PgE3PgEzMhYVFAYHDgEHDgEHDgEjFRslJRkDHRgMMxYYDgwcTQJLN0cLCRQJDREYGDILCCYQEBkdCzIYGBIMG1hG/j4HDwYYEQsQHQ8rRg04RQ0KEQoMEBgYMgwIIBMTJQ8LHxECmQgPBxgODQkUCStGDRslIhoBDwkIDwkIIBCkJRsaJQECHy4YDw0NMhc4W08RDyIUGDILDREYEU03OBgRCwsyGDeBASUDAwsyGCAzFDwVURQOIBQYMgsNERgQTlQbEBIkBAQNMxgTHg89FCUbGiUBAgsPCxgQEBIACv/RAKIEJALkAF0AcACEAJgArAC/ANIA5wD6AVgAADciJiciJicuAScuAScuAScuAScuASc0JjU0Njc0Njc+ATc+ATc+ATc+ATc+ATc2MhcyFhceARceARceARceARceARccARUcAQcUBgcOAQcOAQcOAQcOAQcOAQc0IiMlNDYzMTIWFTEUBiMxOAE5AS4BJS4BNzE+ARcxHgEHMQ4BIzEiJichLgE3MT4BFzEeAQcxDgEjMSImJyUmNjcxNhYXMRYGBzEOASMxBiYnJS4BNzE+ARcxHgEHMQ4BIzEiJiUuATcxPgEXMR4BBzEOASMxIiYlMSY2NzE2FhcxFgYHMQ4BIzEiJicnNDYzMTIWFTEUBiMxOAE5AS4BBSoBJyImJy4BJy4BJy4BJy4BJy4BJzQmNTwBNzQ2Nz4BNz4BNz4BNz4BNz4BNzYyFzIWFx4BFx4BFx4BFx4BFx4BFxQWFRwBBxQGBw4BBw4BBw4BBw4BBw4BBwYiIxUDBgMEBgMDBgIDBAQBBgECAwIBAQICAQEDAQIDAgEEAwIGAwMFAwMGBAYNBgMHAwMGAgMEAQIFAgEDAgIBAQICAgIDAQIEAwIFBAMEAwQGAwUEAkclGxslJRsaJv4XGBAMDDIYGBAMCCASCA0HAoQYEA0LMhgYEQ0IIBIGDgj+9AwPGBgzCwsPGAYPBxEgCP7XGBAMDDIYGBANCCARBw0CfxgRDQsyGBgRDQggEgYN/kkMDxgYMgwLDxgGDwcRIAiAJBwbJSUbHCQCxgMHAwMGBAMGAQMFAwIFAQIDAgECAQICAwECAwIBBAMCBgMDBAMEBgMHDAcDBgQDBgEDBQMCBQECAwIBAgECAgMBAgMCAQQDAgYDAwQDBAYDAwcDpAEBAwIBAwICAwQBBgMDBQMDBwMDBgQDBgMEBgMDBgIDBAMCBQICAwECAQIBAQMCAQMCCAUCAgUEAwQDAwcDAwUDAwYEAwYDBAUCAwQEAQYBAgMCAQECAj4bJSUbGyUCJWgLMhgYEQ0LMhgQEgMDCzIYGBENCzIYEBIDAx4YMgsLDhgYMwsDAwISEo0LMhgYEQ0LMxgQEgQDDTAYGBENCzMYEBIEHhgzCwsPGBgyCwMEEhClGSclGxslASUkAgMBAgMCAQQDAgYDAwQEAwYDBAYDAwcDAwcDAwYBBAQDAgUCAQMCAgEBAgICAgIDAQIEAwIFBAMEAwMHAwMHAwMGBAMGAwQGAQMFAwEGAQIDAgEBAgIAAAEBJgD3AtwCjwACAAABEyUBJnQBQgKP/migAAAIAQkA1QL6AqYAFwApADsAUwBlAH0AjwChAAABIiYvASY2NzYyHwEeAQcOAQcOAQcGIiMTIiYvASY2NzYWHwEWBgcOASMnIiYvASY2NzYWHwEWBgcOASMXIiYnLgEvASY2NzYWFzYWFxYGDwEOASM3IiYnJjY/ATYWFxYGDwEOASM3IiYnJjQ3JjQ3PgEfAR4BFRQGDwEOASMnIiYvAS4BNz4BHwEeAQcOASMnIiYvAS4BNz4BHwEeAQcOASMBLwsRAggEBggIEwkcCwgGAwoGAwoGBAUCTQsSAREDCw0NFwURAwwNBAUBJwsRAhEDDA0NFgURBAwNBQQCRQQGAwcJAQkDDA0LFQYLFQYHCQ0bBwcDewkPAwcJDUgLGQcGCA1JAwcFqQoPAwMDAwMHGQscCAkJCBwDBwVTBQcDQAsIBgYZDEALCAcEDwiWBAcEQAsIBwYZC0ALCAYDDwoCTQwLHgoSBgcFDwYZCwcHAQUIAgL+8wwLOg0XBQMMDTkNFwUBAYYNCzkNFwUDDAw6DRcEAgHxAQEECggeDBcFAwkLAwkLCxkHDwEBPgkICxoGJAcJDQsZBiUBAVMJCAgQBgcRBgsIBg8FDwgJDwMPBAFNAwElBhkLDAgHJAYaCwgJVgICJAYaCwsIBiUGGQsKBwAADQEJANUC+gKpABEAIwA1AEcAXABtAH4AjwClALYAxwDYAOkAAAEiJicmNjc+ARceAQcOAQcqARMiJic1JjY3NhYXFRYGBwYiIyciJic1JjY3NhYXFRYGByIGIyciJic1JjY3NhYXFRYGBw4BIxMiJicuAScmNjc2FhceARcWBgcOATciJicmNjczNhYXFgYHIgYjNyImJyY2NzM2FhcWBgciBiM3IiYnJjY3MzYWFxYGBwYiIzciJicmNDcwNDE+ARceARUUBgcOASMnIiYnIy4BNz4BFx4BBw4BIyciJicjLgE3PgEXHgEHDgEjJyImJyMuATc+ARceAQcOASMnIiYnIy4BNz4BFx4BBw4BIwEmCREDBAYICBMJDAgHAwwIAwJWCxECAwwMDRcFAwwMBQUBHgsRAgMMDA0XBQMMDAQFAh4LEQIDDA0MFwUDCw0DBQNYBAYDBwkBAwsNChAGAgMBBwkMBAhOCg8FBwgMAgsZBgcJDQEIA1EKDwUHCAwCCxkGBwkMBAYDTwoPBQcIDAILGQYHCQ0BBwRRCg8FAwMGGQwICQkIBAYDWAMIBAILCAYHGQsLCAYDDwhXAwkDAgsIBgYZDAsIBwMOCFgDCAQCCwgGBxkLCwgGAw8IVwMJAwILCAYGGQwLCAcDDggCawwLChIGBwIEBxkNBwkB/s8MCwINFwUDDA0CDRYFAmQMCwINFwUDDAwCDRcFAmYNCwINFwQEDA0CDRcFAQH+0QEBBAkHDBkDAwUGAgUCCxkHAQEnCQgLGQYHCQwMGQYCKAkIDBkGBggNCxkHAikJCAsZBwYJDAwZBgImCQgHDwgCCwgGBQ8KCQ8EAQMxAwIGGQsLCAYGGg0GCTEDAgYZCwsIBgYaDQYJNAICBhkLDAgHBhoNCAYxAgIGGQwLCAcGGgwHCAACAQkA1QL8AqkAGAAcAAAlIiYnLgEnAyY2NzYyFwUeARUUBgcFDgEjAxM3JQGaBAYDBwkBcwQGCAgTCQG0CAkJCP6+BQcDQFPq/sPVAQEECggBlwoSBgcE+gUPCAgQBKABAQF0/tlztAAAAAABAJAAEANtA3QANQAAARUUBiMiJj0BNCYrAQMUFjsBMhYVFAYjISImNTQ2OwEyNjUTIyIGHQEUBiMiJj0BNDYzITIWA20ZERIYGhLEAhkSPhEZGRH+2xIYGBI8EhkCxBIZGRESGRkSAogRGQNKrBEZGRFWEhr9cBIZGRESGRkSERkZEgKQGhJWEhgZEawRGRgAAAAAAQAEABUD7wGVAFEAACUHDgEHMCIVKgExMCIxMCIxIiYnOAExLgE9ASEiBgcOAQ8BBiY9ATQ2MyE1NDY3NDY1MDYxMDY1MDIxOgEzMDIxMDIxMBYxMDIVHgEfARYUDwED5JEDBgQCAQECAgMFAwMD/Y0FCgURKxUzDRFqTAJxAgICAgICAgECAgIEAgIFAqAICAuzkQMGAgIDAgMMCGQCAgMVFTMNBhAmS2piCAsDAQECAgEBAgICAwOgCBkIDQAAAQAL/80D9wO6AG4AACUHDgEnJjY3PgE3DgEHBiYvARcHDgEHBiYvAQ8BBiYnLgE/AQcqAS8BNz4BPwEnLgE3PgE3MxcnLgE3PgE3DgEHDgEnLgE3PgE3PgE3PgE3PgE3PgEXNjc+ATc2OwE2FgcVFAcOAQcGBxYGBw4BBwJFXxEhDA0SHB0bBRQpFREoDRwEAQQMBQoTBAlWAxAVAgYCAzuOBRAHCAIBDgR6Og8KBAQUBAWFIQ0IBgkUChZHLSonDAcBAwMKBQgaDQkQAwgZDEVsGVJdXKpFRSQCFCABBgZARER9BgouCBwLJUoLEA0MJyorRBcJEggHCQ0bmgQMCwEDDA5FRgIPCQIFEAloNAcHDAkLAkMbBRIKCwUBGyINKBIXLhYEGx8cEQwGDwcIEQgLIQ8MFAULHAgwBwV7RENABgcBIBQCJUdGrV1eUxtpQgwZCAAAAAABAA7/xAP3A7wAbAAAEx4BFx4BFzY3PgE3Njc2Fx4BFxYXFhceARcWFxYXFgYHBgcOAQcGBw4BBwYnJicuAScmJy4BJyY2NzYWFx4BFx4BFx4BMz4BNz4BNTQmJy4BJyIGBx4BFx4BBw4BIyoBIyIGJyY2NTwBNTQ2MzMWJA8SHg8hIiJMKyozMi4tUSMkHx0aGy0SEgsNBAUHCwoTImdGIScoWTExNEg/P2UlJRQCBAICJh0dLwQEBQIOMiIqelVSeistOz0rK3pQSmUwERoTCTEDAjkVHC4cL4UPCAICEwO8ASgPEiANGRYVHwoJAQEIBxwUFBcXHBxAJSQoKjAwXy0tJ0luKRQPEBEBAQoPHx9dOzxGBxkNEyAEBA4OChMFMlAfKDoBPywtfk5PfyssPwEqIRQbEgkoFBMDAx4PMxUyUTUWPgAACQAAAVYEAAIqABgAMQCjAMYBRQFaAcIB9wIsAAABLgEjIgYHDgEVFBYXHgEzMjY3PgE1NCYnBzIWFx4BFRQGBw4BIyImJy4BNTQ2Nz4BMyUiBgcVLgEnIzQiIyoBIyoBKwEqASMiBisBKgEjIgYjDgEHMQ4BDwEwBgcOAQcUBjEHDgEVHAEVHAEXFTAWHQEeARceAR8BMBQxMx4BFzIWFx4BOwE6ATEyNjEwMjEzMDIxPgE3HQEeARczPgE9ATQmIwcUBgcOASMiJicwIjkBLgEnLgEnNCY1NDY3PgEzMhYXHgEVNzwBNS4BJy4BJy4BJyMwJiMqASMqASMqASMiBgcOAQcOAQciBgcOARUUFhceARceARceARceARceARcyFjM6ATMWMjsBOgE7AToBMzAyMTc+ATc+ATc+ATc1NjQ1NCYjIgYHDgEHDgEjIiYnLgEnNS4BJy4BNTsBPgE3MTwBMSc+ATc1PgE3PgEzMhYXHgEXHgEVIyUVFAYjIiYnNTQmJy4BJzAiIyIGBw4BHQIxFRQGIyImPQIwNDEuATEwJicuASMiBgcOAR0BDgEjIiY9ATQ2MzIWFzYyNz4BMzIWFx4BFzIWMzA2MT4BNz4BMzoBMx4BFxQWFx4BFQcUBisBIiY1NDY7ATI2NTQmKwEwIjEiJjU0NjsBMhYVFAYrASIGFRQWMzEwMjEzMhYXHgEVIRQGKwEiJjU0NjsBMjY1NCYrASoBMSImNTQ2OwEyFhUUBisBIgYVFBY7ATgBOwEyFhceARUDXAwcEREdDAsMDAsMHRERHQsMDAwMOQoTBwgICAcIEgwLEgcIBwgHCBIL/W8FCAEJFQwBAgEBAQECAwIBAQEBAQIBAQEBAQECAQkRCAEBAQEBAQECAgEBBgcBAQMKCAMHAwMBAQMBAQIBBxAIAQECAQEBAgEMFQkBBwQEBQcIBg8HCAcSCwUJBAEFCQMGBgIBBwgIEgoLEQgIB9IBBgUCBgMJFQsCAgEBAwEBAQECBAILEwkBAwECAwEBAQEMDAMDAwkGAQMCAgUCAgMCBQkFAQIBAQIBAQIBAQEBAQEBAgECAQ8ZCgIEAgEBAQEIBgQGAgIDAggSCwsSCAECAgECAQEDdwEEBgGDAQQCAgMCCBIKCxIIAwYCAQFkAe0JBgUIAQQEBQkFAQEGCgQFBAgGBggBAwQBBQoGBgoEBQQBCAUGCAgGBAcCAQEBBg4HCxMIAQEBAQEBAgECAQcTCwEDAQkRBwIBCAneGxQ5BggIBjgJDAwJGQIUHBwUOAYICAY4CQsLCQEaBQoFDQ8CHxwTOgUICAU5CAwMCBkBARQdHRQ4BggIBjgJDAwIAQEaBQoEDRAB4gwMDAwMHRERHQwMDAwMDB0RER0MBAgICBMLDBMHCAgIBwgTCwwTCAgITAcFNwgJAQEBAQMJBwEBAQEBAQEDAgEBAQoXDQECAQIEAQQCAQIKEwgDBQMBAQEBAQEBAwMBAQoHBgEEBwEBCAW3BgiCCxMICAcBAgIGBAUNBwMGBAsTCAgICAgIEwsDAgMCCRAIBAgDCQwCAQYGAQIBAQMBAgEMHREIDwcIDQcBAwECBAEBAgECAwEBAQEBDAoDBQIBAgEBAQMBBggDAwIEAggICAcCAwEBAQMCAwcEAQcFAQELBAgDAQIEAggICAgECAUBBAILXAUJBwZdBgsFBAQBBQQFCgYBAVsFCQgFAVwBBAoFAgQFBQQFCwZdBgcJBYkFCQUEAQEDBAcHAQIBAgIBAgEHBwEHBgECAQgVDDsUHAgGBggMCAkLHRMUHQgGBggMCQgMAgIGGA4UHAgGBggMCAkLHRMUHQkFBggMCAkMAgIGGA4AAgBHAA8DuQNxADAATwAAAS4BIyIGDwERNCYjIgYVEScmIgcGFB8BHgEzHgEXOAExFjI3OAExPgE3MjY/ATY0JxMhIiY9ATQ2MzIWHQEUFjMhMjY9ATQ2MzIWHQEUBiMC+gcRCQoRB4ccFBQchw4nDg4O2AECAQIDAgsYCwIDAgECAdgODiX9wkBaHBMUHCMYAj4YIxwUExxaQAIJBwcHB4gBwBQcHBT+QYcODg4nDtkBAgICAQUFAQICAgHZDicO/gZbQNQUHBwU1BkjIxnUFBwcFNRAWwAAAwAUAG0D7AMSABkAMwBFAAAlIiYvAS4BNTQ2PwE2FhcWBg8BFx4BBw4BIyEiJicmNj8BJy4BNz4BHwEeARUUBg8BDgEjBSImIy4BNxM+ARceAQcDDgEjARYHDwbXBwgIB9cOIwsMAw2ysg0DDAYRCQHUCREGDAMNsrINAwwLIw7XBwgIB9cGDwf+xwMGAxERBJ8FHhEREgWeBBcO3gUFuAYRCQoRBrcMAw0OIwuYlwwjDQgHBwgNIwyXlwwjDQ4CC7gGEQkKEQa3BQVxAQUfEQJQERIEBR8R/bAPEQAAAAADAEYADgO7A3IAMAA6AFkAAAEOASMiJi8BERQGIyImNREHBiInJjQ/AT4BNz4BNzgBMTYyFzgBMR4BFx4BHwEWFAcDMhYXJiIHPgEzASEiJj0BNDYzMhYdARQWMyEyNj0BNDYzMhYdAQ4BIwL7BxIJCREHiBwUFByHDigODg7ZAQIBAgMCCxkKAgMCAQIB2Q4O+wYMBQsZCgUMBgEf/cJAWxwUExwjGQI/GCMcFBQcAVtAAkgHBwcHh/4/ExwcEwHBhw4ODicO2QECAQECAQYGAQIBAQIB2Q4nDgEqAwMGBgMD/JxbQNUTHBwT1RkjIxnVExwcE9VAWwAAAAAGAAgASAP4AzcADAAxAEAATwB+AIsAACUOASMyNjc0MDEOAQcBIzU0JicuASMiBgcuASMiBgcOAR0BIyIGFREUFjMhMjY1ETQmJT4BMzIWFxEuASMiBgcRBT4BMzIWFxEuASMiBgcRASERMxEUFhceATMyNjc+ATMyFhceARceATMyNjc+ATc+ATMyFhcWNjc+ATURMxElMCIjIiYnHgEXHgEXAgwDBgMGCwUCBgIBwUYMCipiNDBaJydaMDRiKgoMRhIZGRIDmhIZGf5GIEclJ0ggIUgmJUYh/psgSCcnSCAhSCYmSCEC8fyeKggHBQoFBAYEI1QuKk8iAgYCAwYDAwYDAgYCIk8qLlQjCREIBwgq/k8BAQULBAIGAgMGA7QBAgMDAQECAQIULAsSBBERDg4ODhERBBILLBoS/dgSGhoSAigSGhQKCgsK/isJCQgJAdUBCgsLCv4rCQkJCQHV/bUB8f5UCRAFAwMCAQ4PDQwBAgEBAgIBAQIBDA0PDgQCBQUQCQGs/g8hBAMBAgEBAQEAAAQAEQAPA+8DcQAkACkALgBJAAABIzU0JiMhIgYdASMiBhURFBY7ARUUFjMhMjY9ATMyNjURNCYjJSEVITUBITUhFTcUBisBNTQmIyEiBh0BIyImNRE0NjMhMhYVEQOCayAW/j8XH2wtQEAtch4VAcYVHmYtQEAt/bUBkv5uAZn+bQGS0xMNZR8V/joVHnINExMNAwQNEwJ9vhcfHxe9QC3+0y1ANRUeHhU1QC0BLC4/p6en/TiDg4gNEzUVHx8VNRMNASwOEhIO/tQAAAgASP/zA8IDjQABAAQAFQAmAC8AOABBAEoAAAExJTEVBycmIgcBBhQfARYyNwE2NCcPAQYiLwEmND8BNjIfARYUBzcVFyc3BycXBxMVFyc3BycXByUVNy8BDwEfATczNwcnFwc3FwIdAUIlGQ4pD/1tDg4ZDykOApMODg+eBAoEJgQEnQQLBCYEBCkyGhoyMhobYUAtDjBALQ3+0i4uEA0tLhB4ATJJNxEzSTcCmJ4BaRkODv1tDioOGQ4OApMPKQ4ungQEJgQLA54EBCYECwN9ARoyMhobMzL+7wENL0AsDS9AyAEQDS0uEA0t2jcRMkg4ETIAAAAAAQDg/9UDGgOrAB8AAAEHIgYXExYGDwEGJicDLgEPAQYmNQM0Njc2FhcBFgYHAxPmBQMBtgMGCFMIDwO1AgcCogkMDQQFAwcHAiAIBAsBtxMHA/59CA4DKQMFBwGCAwIDoggGDQLRBgcCAQEF/icIDAIAAAAEADMApgPCAsYAGwA0AFMAdQAAASImJy4BNz4BNz4BNz4BFx4BBw4BBw4BBw4BIwMiJicmNjc2FhceARc+ATc+ARceAQcOASMDIiYnLgEnDgEHDgEnLgE3PgEzOgEzHgEXFgYHDgEjASImJyY2Nz4BNz4BNz4BNz4BFx4BBw4BBxQGFQ4BBw4BIwNiBQsFFQ8ICxEGBQYCCigUFQ8IAQYEBhIKCBsQtzpOHQsOExMqCx0jBQMNCQ0sEhEGDxs0G+sOGAcWHAUDFBALLBETCQ0TQCsBBAEyRRYLCxMHDwb+ngsYCA4FEgMNCwIBAgEIBAgpFRUQCQUHAwIMGxMIEggBtwMCCCkVGCsQDA0FFQ8ICigUBA4IECwZEBP+71s0FCoLCw0TNSECAgsNEQYPDSwRICMBWg0NJhoCAhMYEwkNCywSHj8DTCYTKgsFBP7GCgoRKw4DFRkEAwIFEAcUEQoIKRUNEAUCAQQYLw4FBgAAAAEAWgCrA68CxABAAAABDgEHDgEHDgEjKgEjJicuAScmJy4BBw4BBw4BBw4BBy4BJz4BNzY3PgE3NjMxMhceARcWFx4BMzI2Nz4BNx4BFwOvDRUNEycVC0Q8AQYBJRwcLxYVGBA8IyMzEBQnFAUTDRAWBgwYDRcWFjEdHSUoHh8yFhcYEDshIDkQGzQgEBsGAhEaOB0pUyARSgIUFEMsLDIjlAIBiyAqUiAIFg0dQyUYMxszLS1CExMUFUUuLjQhkJAhPW0jHUAlAAAAAAUATwAPA7EDcwBUAF4AaAByAHwAAAEHBiInOAEjLgE9ASMVMzIWDwEGIi8BJjY7ATUjFRQGLwImND8DNhYdATM1IyImJzgBMSY0PwE2Mh8BFhQHOAExDgErARUzNTQ2NzYyHwEWFAclMQciJiceATsBNw4BKwE1Mz4BNxMuAT0BMxUeARc1DgEdASM1NDY3A7HEAgUCAgMFuiQLDARRBA4DUQMLCyS1CwaNNQsLMwSLBgu1JgYMAQICUwUOBVMBAQILBie6AwMCBgPECwv+KSUICQICCwYlggIJCCUnBAoDhgUGAwEEAwMDAgMFAbNTAgICCwYnuAsGwgsLwgYLuCULCwM8FwUNBBUCOgMLCyW6BAQCBQLECwvEAwQCAwW6JwYKAwEBUwUOBekCBQUDBQYFBgMBBAP+vgIJCCQmBQkDvAMKBickCAwCAAAAAQBvAC8DswNvAC4AAAEHBiY9ASMRFAYjIiY1ESEiJjU0NjMhNSMiJj8BNjIfARYGKwEVMzU0Nh8BFgYHA7HECAm6Fg4PFf65DhYWDgFHJwsLA1MFDgVTAwsLJ7oLBsQKAQsBs1MDCwsn/rkOFhYOAUcVDw4WuAoHxAsLxAcKuCcLCwNTBA0FAAMAY//AA54DwAEmAdwCCwAAASIGIw4BBw4BBzAGMSIGIzgBMQ4BMQYiBzAGMQ4BBw4BBzAiMQ4BBw4BJyImJy4BJy4BJy4BJy4BJy4BJy4BJy4BJx4BFy4BBzYyFyYGBzAiMSIGIwYiBzgBIw4BIw4BBw4BBz4BNw4BBzI2MQ4BBw4BBzgBMQ4BIxQwIzgBFSMwBgcwBjEOASMGMAciBiMOAQcwIjEGMAc4ATEOAQcqASMxIjAjLgEnHgEXLgEnIjAxNCIxIiY1LgEnJicuAScmNz4BNx4BFzEWFx4BFxYXHgEXFT4BMz4BNz4BNzA2My4BJyYnLgEnJic2Nz4BNzYxMBceARcWFw4BBw4BBw4BBzIWFR4BFx4BMzAyMzoBNzE+ATc2Nz4BNzY3MDY3HgEXFhUOAQcGBwcwBiMwBjEOASM4ASMOAQcOAQcOAQ8BDgEHBiIVIjAxDgEHMCIxDgExDgEHOAExDgEHIhQjIgYHIgYjMAYxMCIxDgEjMCIxFCIxMCIjDgEnLgEnMCYjOAExIiYxIjQjIiYnOAEjLgEnNS4BJy4BJy4BJy4BJy4BJy4BJy4BIw4BBzAGMQ4BBw4BBw4BBw4BBw4BBw4BBz4BNw4BIzI2Nw4BIwYmJxYXHgEXFhc2Nz4BNzY3DgEHBQ4BKwEiJicuAScyNjc+AT8BPgE3PgEzMR4BFx4BMzI2NzIWFx4BFx4BFzIWMwcDgAMGAwgQBwQHBAEBAgEBAgEBAQEUIREIEAkBAQIBChcNChEIBAcEBQsFAQEBAQIBBAcEBgsFCxYNAgMCECQTBAgFBw8HAQEDAgEDAQEBBAIHDgYKEAgBAgEDBgMBAgkSCgQIBQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEJEgoBAQEBAQULBQIFAwkQBwEBAQEIDgYQDAsPAgIEDhwOAQEBCwwMGg0ODgsYDwEBAQMIAwYOBwEBDBYIEA0OGQoLCkQ3N0wUFRUUTjc3RRgwGhAnGQEDAgEBBw8IBAkEAQEBAgEcKg8PDg4ZCwwKAQINGg4DAQcHBgkYAQEBAgQCAQMGAwQHAwIDAgESJBQBAQEBAQEBAQICBAICAgEBAQEBAQEBAQIBAQIBAQEBAQsYDQoSCQEBAQEBAQEBAQEPGg0GCwUDBQMBAwIBAgEECQUECgUHDwgJEAcBBAcDBQgEBw8HCxkNBg0HAgQCAgQCDBkMCRMKCA8ICxcLKzM0XCIjCQssLHE7OiYCAwL+/hcyGgEbMxoMGAsBAQEGDgcEAgQBAQEBChQKDSEUDRgNAQEBCREJAgYDAQEBAQHQAQEEAwEEAgECAQEBAQENIhAIEAcBAgEICwEIBAMFAwUKBQEBAQECAQQIBAYLBQoSBwECAQoLAQEBAQEBAQEBAQEDBwQGDwcBAgEDBgICCBIJBAgEAQIBAQIBAQEBAQECAQEBAQEGCAEBAgIBAQECCQYBAQEGDQctMzNyQD9GAQECAwUDKCgnTSYmJRo6HQEBAQQHAwYNBgIaMhYmJydNJSUiDRMUJg4ODg4mFBQMV5NCKVQnAgUDAQEGCgQCAgEtWiUmJydOJyYlBgUCAQE1MjFcKiomQQEBAQMDBAMDBgQBBAEBEiUPAQEBAQEBAQICAQEBAQEBAQEBAQEBBAQCAQYEAQEBAQEJFgwBBQwFAwYCAgMBAQIBBQgDBAcDBAMBBgQBAgYCBAkEBw4HDBcKBAkDAQIBAQIBBgYDBAMEAgQEWT4+ThQTBAUaGW1XV38BAQGMFRUXFwwbDwEBBg0HBQIDAgEBDxcJDRYKCQEBCA0FAgMCAQEAAAACABP/0wPtA60ALQBbAAABNTQ2NzYWHwEeARUWBg8BDgEnLgE3NSEVFAYHBiYvAS4BNzQ2PwE+ARceAQcVNyMiJicmNj8BPgEzNhYfAR4BBw4BJyMRMzIWFxYGDwEOASciJi8BLgE3PgEXMwMcBgUGDgmfBQUBBQadCQ0HBQYB/cQFBQYPCJ4GBgEFBp4JDgYFBgHfawsPAgIFCZ8FDggHDgadCQYDAw0Ma2sLDgMCBgieBg0HCA4GngkFAgIODGsB/msLDwICBQmfBQ4IBw4GnQkGAwMNDGtrCw4DAgYIngYNBwgOBp4JBQICDgxr3gYFBg4JnwUFAQUGnQkNBwUGAf3EBQUGDwieBgYBBQaeCQ4GBQYBAAAAAQATAPsD7QKFAC0AAAE1NDY3NhYfAR4BFRYGDwEOAScuATc1IRUUBgcGJi8BLgE3NDY/AT4BFx4BBxUDHAYFBg4JnwUFAQUGnQkNBwUGAf3EBQUGDwieBgYBBQaeCQ4GBQYBAf5rCw8CAgUJnwUOCAcOBp0JBgMDDQxrawsOAwIGCJ4GDQcIDgaeCQUCAg4MawAAAAEBO//TAsUDrQAtAAAlMzIWFxYGDwEOASMGJi8BLgE3PgEXMxEjIiYnJjY/AT4BFzIWHwEeAQcOAScjAj5rCw8CAgUJnwUOCAcOBp0JBgMDDQxrawsOAwIGCJ4GDQcIDgaeCQUCAg4Ma6QGBQYOCZ8FBQEFBp0JDQcFBgECPAUFBg8IngYGAQUGngkOBgUGAQAAAAABABUBBAPrAnoAHgAAASE1NCYnJgYPAQ4BFRQWHwEeATc+AT0BITI2PQE0JgPc/P4GBQUNCJUFBgYFlQgNBQUGAwIGCQkB/GQLDQIBBgiWAwwICAsHlQgGAQIOCmYJBlYGCwAAAQAVAQYD6wJ+AB8AABMVFBYzIRUUFhcWNj8BPgE1NCYvAS4BBw4BHQEhDgEVFQcIAwIGBQUNCJUFBgYFlQgNBQUG/P4GCQHrVgQLZgsNAgEGCJYEDQgIDQWVCAYBAw0KZAUMBAAAAAACAA8AywPvArcAPgBEAAABOAExDgEjIRUUBgcGJi8BLgE1NDY/AT4BFx4BHQEhOgEzMTI2NzgBMT4BNTwBNTQmJzQ2OwEyFhUcARUWBgcnDgEjMjYDZhQvGP2sAwUFDAeABAQEBIAHDAUFAwJUAQECCA0HKTkBAQYETQUIAkw/OwcPBggNAU0ICVoJCwMCBAiABQoHBgwDgAYGAQIMClcCAgpHLQMnGBUpDQQIBgYabQZHcRlTAgICAAAAAAEAa//RA5UDrwAfAAAFESMiJicmNjcBPgEXMhYXAR4BBw4BKwERFAYrASImNQFvyxgdBAUNEQFFCxoQERsLAUcRDQUEHRjNEQ3kDRERAhEMCw0eEQFHCwwCCgv+uREeDQsM/e8NERENAAAAAAkAAP/ABAADwAADAAcACwAPABMAFwAbAB8AIwAANyERIREhESERIREhASERIRUhESEVIREhASERIRUhESERIREhAAEA/wABAP8AAQD/AAGAAQD/AAEA/wABAP8AAYABAP8AAQD/AAEA/wDA/wACgP8AAoD/AAEA/wCA/wCA/wACgP8AgP8ABAD/AAAABQAm/8AD2gPAAAgADAAWABkAIQAAATUhAREzFSERJRUjNwMjETc1IRUjARETFSMBIREzNSERIwL3/jb++eMC0f07aGgMku8BQ5j++O5oAfr9zvIBQgIDBLz+8/3JvANEMWho/ZgBrwLxbf71/tYBrWn+AAGv8/1eAAAAAAMADQAAA/MDYgALABsALAAAJQEmIgcBBhYzIRY2JSMiJj0BNDY7ATIWHQEUBicjIiY9ATQ2OwEyFh0BFAYjA/P+OhM1Ev46ExslA48kGf4nWggJCwZaCAkJCFoICQsGWggJCQhNAxUgIPzrIC0CL08KB1UICQoHVQcKxgsG/ggJCwb8CAsAAAABARH/wALvA8AAFAAABSMRIzUzNTQ2OwEVIyIGHQEzByMTAlHAgIBRgI1aMROeE40CQAIAsWlre7ElIVix/gAACAAJAEYD9wM6ABAAIQAyAEMAUwBjAHQAhAAAExEUFjMhMjY1ETQmIyEiBhUTIyImPQE0NjsBMhYdAQ4BIzUjIiY9ATQ2OwEyFh0BDgEjNSMiJj0BNDY7ATIWHQEOASMBISImNRE0NjMhMhYVERQGMyMiJj0BNDY7ATIWHQEWBicjIiY9ATQ2OwEyFh0BFgYjNSMiJj0BNDY7ATIWHQEWBgkLCAPICAsLCPw4CAuoVQgLCwhXCAsBDAhVCAsLCFcICwEMCFUICwsIVwgLAQwIAjj+LggLCwgB0ggLC7NXCAsLCFcICwINCFcICwsIVwgLAg0IVwgLCwhXCAsCDQMm/TQIDAwIAswIDAwI/V4LCFgICwsIWAYN/AsIWAgLCwhWCA3+CwhYCAsLCFgIC/4GCwgCTwgMDAj9sQYNCwhYCAsLCFgGDfwLCFgICwsIVggN/gsIWAgLCwhYCAsAAgAKABoD9wNiABwARQAAASEGBw4BBwYHDgEHBiYjITY3PgE3Njc+ATc2FjMlISImBw4BBw4BByY1JjQ1NjU0Njc2FjsBMhYfARY2MzI2Fx4BFxYGFwEvAsgPEBAgERERBgwSEjkZ/TcODw8fDw8PCA0aFDYaAkD9+ixkJEEsFQkVCAIBARApK2w2Zi9JDwsQbDcdVhoLFgMJDAUB1y8vL18wLzAVIQgHAysuL18wLy0YLAQHBVYFCRBwQCA+Hj1AQIRCQkEwOgUFBQQgMygBBgoFFQgbWR0AAf/+ACIEAANeACAAAAERDgEHIS4BJzY1NjQ1NDU+ATczHgEXFjM6ATcyMx4BFwQABSYi/JggJwYBAQUmIuhUPk4yMzRoNTQ0IiUGAov95iImBwcmIlRUU6hTVFQiJgcFcgsDAQUpIQADAAkAEwP1A2sAEAAhADIAABMhMhYdARQGIyEiJj0BNDYzESEyFh0BFAYjISImPQE0NjMRITIWHQEUBiMhIiY9ATQ2My0DpA4WFg78XA8VFQ8DpA4WFg78XA8VFQ8DpA4WFg78XA8VFQ8DaxYPSg8WFg9KEBX+nhYPSg8WFg9KEBX+nRUPSw4WFg5LEBQAAAAFAAYAHgP8A2YAKAA5AEoAVgBiAAAlNCYnMCcuAScmJy4BIyEiBgcGBw4BBwYHBhYXFRQWMyEyNjc+ATU+AQE+ATMhMhYXEyE2Nz4BNzY3ARQGIyEiJj0BNDYzITIWHQEnFAYjIiY1NDYzMhYXFAYjIiY1NDYzMhYD/AEEFBQzFxcFDDQn/e0aMwgEFxY0FhUEAwIBNyMDNRghDA4SAQH86AUSBQH6BBYDafz+BA8PIw8PAwLCDgv86AsODgsDGAsO8x4VFR4eFRUepx4WFR4eFRYelUqCCkFBn0ZGDBgqJBkLRESeQ0QICn8zMxpCFAoOJQ8BDQJuDgcHDv7KCy8uaS4tCv2MCQ4OCc0KDg4KzWkVHh4VFR4eFRUeHhUVHh4AAAAAAgAz/9EDsQOxABgAMQAAEyY0NwE2Ji8BJgYHAQYUFwEeAT8BPgEnASEmNDcBNiYvASYGBwEGFBcBHgE/AT4BJwHXBAQBUgwCDyQOJQ3+cw0NAY0NJQ4kDwIM/q4BiQUFAVENAw4kDyUM/nUNDQGLDCUPJA4DDf6vAbUFDgUBhA4lDSANAw7+NQ4oDv43DgMNIA0lDgGEBQ4FAYQOJQ0gDQMO/jUOKA7+Nw4DDSANJQ4BhAAAAgAPADUD8QNLAF4AoAAAEyImJy4BNTQ2Nz4BMTA3PgE3Nj8DPgE3PgEzNhYXMBceARcWFzAWMzYmNzQ2NzYWMzI2FxYGFRQGFx4BFx4BFx4BFRQGBw4BByoBJy4BIyYnLgEnJiMiBw4BBwYnASY2PQEmIgcGFRwBFxQVFBYHBiYrASoBJy4BJyY2PQE0Jjc+ATcBPgEzMDYzFhceARcWFxYGHQEUFgcOAQcGIisBSQoQBAUXEAoDEDIzgDo6Dw0LBggOCAURARIdCxUVMxYWAgkBBAUBAwIINgwQMwgFAQMDAgkGFE8CBBMMBQUYCQQGAwUVAhZBQYo3NgICQ0OiRUQEAgYCAgKaAgEBAgICOQWCEiAKAwwCBQECAgEMCAFEAgECAgIGNziCNTUBAgIBBQIMAwshEsABfBEICBUKCA4IAwwqK2oxMAwLCwIGDgMCAwEHCRISKxISAQgDaA4CCgEIAQMKBpklEiQKBQcFEEQBBQ0ICA8HBh8BAgEWEzY2ci0tODiGNzgB/rkCMgixAgIBGBlDIiMVAxkCAQEFAQsFCysWxQsWBQcGBgELAgICAy0tai0sAgUYC8cUKwsEDAEFAAACAAAAQAQAA0AACwAQAAABFBYzMjY1NCYjIgYBIQkBNwMASzU1S0s1NUsBAPwAAQABVasCwDVLSzU1S0v9SwKr/lWAAAwADQCRA/EDDQAPACAAMQBCAFMAZAB1AIUAlwCnALgAyAAAJSEiJjURNDYzITIWFREUBgEiBhURFBYzITI2NRE0JiMhFxQGKwEiJj0BNDY7ATIWHQEzFAYrASImPQE0NjsBMhYdATMUBisBIiY9ATQ2OwEyFh0BMxQGKwEiJj0BNDY7ATIWHQEFFAYrASImPQE0NjsBMhYdATMUBisBIiY9ATQ2OwEyFhUXFAYrASImPQE0NjsBMhYdASMzFAYrASImPQE0NjsBMhYVNxQGKwEiJj0BNDY7ATIWHQEDFAYjISImPQE0NjMhMhYVA5P82Cc3NycDKCc3N/yxDBAQDAMoCxERC/zYlwkINQcKCQg1BguVCQg1BgsJCDUHCpQJCDYGCwkINgYLkwkINgYLCQg2Bgv+oAkINgYLCQg2BguTCQg1BwoJCDUGC5MJCDMGCwkINQcKApMJCDUGCwkINQcKPgkINQYLCQg1Bwp7CQj+iAYLCQgBegYLkTgmAcAmODgm/kAoNgI4EQv+QAsREQsBwAsRjQcKCQg1BgsJCDUHCgkINQYLCQg1BwoJCDUGCwkINQcKCQg1BgsJCDWYBgsJCDYGCwkINgYLCQg2BgsJCDYGCwkINgYLCQg2BgsJCDYGCwkIYgcKCQg1BgsJCDX+4gcKCQg1BwoJCAACAGL/yQOgA7cAIQAqAAABNCcuAScmIyIHDgEHBh0BIyIGFREUFjMhMjY1ETQmKwE1ITQ2MzIWHQEhAxUSEUY0NERENDRGERJFHCgwIQKcIi8nHUf+S05SU03+wAKmNDExTRcXFxhNMTEzsy8i/ngiLy8iAYgiL7M4ZmQ6swAAAAEACwFTA/UCLwAUAAABBiYjISIGJy4BNzYWMyEyFhcWFAcD9RGGOP22OoITCgIKEYY6AqQrPgwKCgF1JAIFJRJxFyUDBR0VbxQAAAAEAAYApAP8AtwAYwB+AO4BDAAAAQcOAQcOAQcOASMiJicuATU0Njc+ATMyFhceARUUBgcOAR0BFzI2Nz4BNz4BPwEjNzI2Nz4BNz4BNz4BMzIWFx4BFRQGBw4BIyImJy4BNTQ2Nz4BNTwBJyYiIyIGBw4BBzMPASUHDgEHDgEHDgEVFBYXBy4BNTQ2Nz4BNz4BNwc3HgEXPgE3PgE3PgEzMhYXHgEVFAYHDgEjIiYnLgEjIgYHDgEHHgEXHgEzMjY3PgE3Fw4BBw4BIyImJy4BJy4BJw4BBw4BBw4BIyImJy4BNTQ2Nz4BMzIWFx4BMzI2Nz4BNz4BNy4BJy4BIyoBBzcTNz4BNz4BNz4BNz4BNTQmJzceARUUBgcOAQcOAQcBESQNGQsNGxAQJhQNEwcGBwYFBQ0KBgwDAwQDAgEDBAUHAwgMBAMKCEArCwsSBQUMBBIkExMqFg8VBwYHBAUFCgYHCgUEBAMBAwECAQMCChMJEBoKLQsmAUAGFyMPFiQODw0MCwQqKQ0PEDAiGDsiIm0OFQUPGAYKEgYHDwYIDQUEBAQEBQsIBQwGBwkBBw0GCBQNDRYIBQkFBQcDBQ0KCw8aDQkUCQoQBgcMBQQNBhIcDAkSBwYQCAgMBQUEBgUFDAgFCgUICgMFBwUFDAcEEAwPGAgFDQgFCgYE1wcRHwwMGg0NFQgMCg0LBSkqDg4QMSEaOiQCII8zShYXIgsMCgYFBQwGBwoFBQMDAwMJBQUHAwMCAgICAwQIEQsGJh/3JAMEAw0LIC0NDg4GBQYOCggNBAUEBAUECAcDCQUFBgIBAwICDAsSOSglBLwRECQVIE8vLlcoGTkcEjhwNiBAHiVBHBUjD6ITFzMdFx8IDQ4FAwQEBQUMCAgLBQUDAgIBAwQEBxoVLjkKBgcDAgMQDQcWHgoGCQQFBQ0KCSAXFyIMCw0DBAMEBQUMBggNBQUGAwIDAwMBAgsGBRQQNkMLBwgCC/57EQ0cDw4rGhs6HihKJBk5HRE4cDYgQB4lQB0VIw8AAQAAACQEAANeABoAAAEiIwYiIyInLgEnIw4BBxEeARchPgE3ES4BJwOxMzQ0aDQzMkw/VegiJgUFJiIDZiAnBgYmIwLaAQMLcgUHJiL9ZCEnBwcnIQIYISkFAAAEAAAAIgQAA2AAAwAHABMAGAAAExEhEQMhESEFFBYzMjY1NCYjIgYTIRMBNwAEAED8gAOA/wA4KCg4OCgoOMD9AMABAIADYPzCAz79AALAoCg4OCgoODj9+AIA/sBgAAAHAAn/zQP6A7MABAAJAA4AEwAXABsAHwAAExEhESEBITUhFTchNSEVNyE1IRUBITUhNSE1ITUhNSEJA/H8DwHq/ksBswL+SwGzAv5LAbMB0f5RAa/+UQGv/lEBrwOz/BoD5vxJxsbm09P1x8f+JcYg0yLHAAQABAD1A/wCiwARACMANQBHAAATFSM1NDY3PgE3Fw4BBw4BBzMFFSM1NDY3PgE3Fw4BBw4BBzM3NTMVFAYHDgEHJz4BNz4BNSMlNTMVFAYHDgEHJz4BNz4BNSOkoA0NETclJBYjCQsLAk8BAKANDRE3JSQWIwkLCwJPuKANDRE3JyQWIQsLDU0BAKANDRE3JyQWIQsLDU0Bq62IOFAYIjESOgocERQ2IwKtiDhQGCIxEjoKHBEUNiMorYg4TxkiMxA6ChwUEzYhAq2IOE8ZIjMQOgocFBM2IQAAAAACAA3/ywPzA7cAEAAhAAAFISImNRE0NjMhMhYVEQ4BIykBIiY1ETQ2MyEyFhURFAYjAYv+qhAYFxEBVhAYARcQAkD+qhAYFxEBVhAYFxE1FxEDnBAYFhL8YhAWFxEDnBAYFhL8YhAWAAQAAv/CA/4DvgAHABsAIAAxAAA/AScHFTMVNwE0JiMiBgcBDgEVFBYzMjY3AT4BJwkBIREBFAYPAQE3PgEzMhYfAR4BFfc+oD5WSgFeBwgDBgH+kwICBwgDBgEBbQMBJAEY/dH+6AP8DQ1v/ulvDR0SESAMng0NGj2cPkhWAwJvCAYCAv6TAQYDCAcCAgFtAQaE/uj90QEYAe8SHwtvARdvDQ0NDZ4MIBEAAAABADf/zQPJA7EAIQAAARYGBwYHDgEHBgcOAScuATURNCY3NhYXFhceARcWFx4BFQPJASULZWRjxmNjZAsiDQkEAQgOKw1jYmLEY2JjDSUBwg0XBDg3N242NzcGFgcFGRUDNxxUCg4bCDc3Nmw3NzgGEwsAAAEAEf/NA/MDtQAwAAABFhQHBiYrAQYWFRQGBwYiJyY2PQEjIgYnLgE3NhY7ATYmNTQ2NzYWFxYGFREhNhYXA/MKChGEOLUDAQUdE28UJAK1OIITCQMKEoU4swMBCy0xYA0GAgERKD0OAgsUbhQkAjuRQys+DgoKEYg4swUlEnEVJAI7kEQzRAQHCyIQMxX+8gMFHAADAA//zQPzA7MANwBnAH0AAAEWBw4BBwYHBgcOAQcGBwYnLgEnJicmJy4BJyYnJjc+ATc2Nz4BNz4BNzYXHgEXFhcWFx4BFxYXJTYnLgEnJicmBgcOARUUFhceATMyNjc+ARcWBgcOAQcOARcWMjM6AT8BPgE3PgE3AzwBJy4BBwYWFRQGFxY2MzIWNzYmNQPzBAgJJBkZHR0jJFQwMDc5NjVeKSggIRwcKg4NBAYICCMaGR4eQSsoZzg9NjVeJycfHhwcKw8OBP7TDwoLMyUlJytAIBAsGQkKFAsICwQcWQkKOhgVIQYDBAkHKRATJgkJCDkYDxoGigUYRhsQAQMJCigQDysGCAMB4j01Nl0nJyAgHBwrDQ4EBAgJJBkZHR4kI1MwMDc+NjZcJicgIDYXFR0FBAkJJBkZHBwjJFUxMTcnMCkoOxERBAMPDggdEA8WDAwdCgMSBSglLxUTLRkPRgkHB0IaKBoOKBf+phAhDQMHBgMoFQ4qCgoEAgoKJw0AAAAAAQANAKsD9wLVADoAAAEmJy4BBwYHDgEnJjY3Njc+ATc2FxYXHgEXFhc2Nz4BNzYXFgYVFBYVFBYHBiYjIiYjIgYnJjY3PgE3ArNNUFCiUFBPCxUIEk4TKCgoUSkoKDg1Nmo1NjcNFxYvFBUMEQcCBiMVQBg3aTgRTgsKMBEVJhYBYks1NjEJCTMICAgRRw4hFxccBQYDAw4ONCcoNQcZGDAPDg4UQhQ0aDoYURcMAgIEFREwEhYmFQAAAAABAAv/yQP3A7cAYgAAJRQGBw4BJy4BJyYnLgEnJicGBw4BBwYHDgEnLgEnLgE3PgE3Njc+ATc2NyYnLgEnJicuAScmNjc+ARceARcWFx4BFxYXNjc+ATc2Nz4BFx4BFx4BBw4BBwYHDgEHBgcBHgEVA/ciDxAmIxs2ESAiIkQhIR8iIiJDIyIjFTclFiELECsIBjoTHyMjRiEiHR4hIUUjIiETOgYIJxIQKyUYMhEhIiFCICAfIiIhQiIhIxQ8JRUgDRIoBwU5FSAiIkQiISABERU8Sx0gDhAsBQM6FCAiIkUiIh8gISFDIiIjFUEFAyENECohGjMTICIjRiIiHhshIUYjIh8RMhglKBEQLwwGOhMhISFDICEfICAhQyIiIhVBBQMhDREpIR0wEyAjIkYiIiD+8xI0HgACAAv/zQPzA7cAOQBUAAATJicmNjc2NzY3PgE3Njc2Fx4BFxYXHgEHDgEHHgEXHgEXHgEXFgYnLgEvAQYHDgEnJicmJy4BJyYnBRY3PgE3NicuAScuAQcOAQcOARcWFx4BFxYXIhMEBRASExoaIiJSMDA1RT08YyYmGRsmAwMoIAscDxw6Hw4hBg9DMBIfDa8hLy9qNzcxKyYmPxkZEAFRS0ZGYRIRHxNCKxtOL1FuGBAPAQMREjclJSoBejQ2NmcvLyUlHyAvDw4DBRAPOycnKS95RUNuLRAdDx04IA4gEi1HEgYiDa0cEhINBQYTEBkZQCYmLHQQFxhmSUhRMUwWDhEDCFgxIEwoLigoPhYVCgAAAAAC//7/vAQEA8IAlACgAAABLgEnLgEnJjY3PgE3NiYvAS4BDwEOAScuAScuAScuASsBIgYHDgEHDgEHBiYvASYGBw4BBw4BFx4BFx4BBw4BBw4BBw4BHQEUFh8BHgEXFgYHDgEHBhYfAR4BNz4BNz4BFx4BFx4BFx4BOwEyNjc+ATc+ATc2FhceARcWNj8BPgEnLgEnLgE3PgE3PgE3PgE9AS4BJwEiJjU0NjMyFhUUBgPiFSkVDRkFBQQIDBoLCAMKWwocC0ULHwsLEgMCBQQBFg2ADRgBBQcDAhMLCx8MRAscChYvFwkDCA0ZCwgCAwUZDRMpFQ0TEw1TDRkFBQUHDBoLCAMKWwocCxIjEgsdCwsRAgMHBQEXDn4NFgEDBwUCEwsLHQsSIxILHApcCQMIDRkLCAMEBRgOFSkVDRMBFA3+Hktsak1LbGwCJgQHBAITCwweDBEjEAscClwJAwgxCAMFBBkNEigVDRMTDRUpFQ0ZBQUGCDEIAwkYLhYKHAsSIREMHwsLEQIEBwQBFw6ADRYDDQITCwsfDBEjEAscClwJAwgNGQsIAgMFGQ0VKRUNExMNFSoWDRcFBAMIDRkLCAMJXAocCxIhEQwfCwsRAgMHBQEXDoAOFQP+42xLS2xsS0tsAAAAAAIACQAXA/wDaQAwAHQAAAEeAQcOAQcOAQcOAScuAT0BBgcOAQcGBw4BIyI2Nz4BNzY3PgE3Njc2JhceARceARcDBhYHDgEHBiYjISIGJy4BJyY2NTQmNz4BNzYWOwEOARUOAQcOAQcGJisBIgYHBhYVERwBFxY2MyEyNjc2Jjc+ATc+AQPADjYIBSkOIj8jCy0TEAFbUVB+KysQAggJFwYCCEIyJCgpYDg3QggPHhckDh5AIhUECQoMUDsmVCj+vihRJTNOAwUFBQUEWz48djvtAgIaLBYTJxUjVSRPLD0KCAQoGmYeAZQsPAsFBwYCEwcVJQKtDy0iFSQQIT8iCzEFBTkVZAEPD0Q2Nk8LElkTWIIvIBgYIAkIARqSAwQqDh8+I/6vOmAoNEoFAwMDCAtVOT2JRUWIPENYBQQEEB8RBQYHBBQBBQUMHRhSIP7oNmoPCQUKHxAqFAcNBhMrAAACADP/zwOxA7EAGAAxAAAlBhYfARY2NwE2NCcBLgEPAQ4BFwEWFAcBIQYWHwEWNjcBNjQnAS4BDwEOARcBFhQHAQG+DQMOJA8lDAGLDQ3+dQwlDyQOAw0BUQUF/q/+dQ0DDiUOJQ0Big0N/nYNJQ4lDgMNAVEFBf6vLw4lDSANAw4ByQ4oDgHNDgMNIA0lDv56BQ4F/nwOJQ0gDQMOAckOKA4BzQ4DDSANJQ7+egUOBf58AAAHAAn/zQP6A7MABAAKABAAFgAaAB4AIgAAExEhESEBITUhFTM1ITUhFTM1ITUhFTMBITUhNSE1ITUhNSEJA/H8DwHq/ksBswL+SwGzAv5LAbMCAc/+UQGv/lEBr/5RAa8Ds/waA+b8ScbG5tPT9cfH/iXGINMixwACAAL/6QP6A5cAGQAyAAABESERNDc+ATc2NzY3PgE3NjcXDgEHDgEHMwURIRE0Nz4BNzY3Njc+ATc2NxcOAQcOAQcBfv6EBAQQCwwPFhsaQiYnLFY3TxgaHQO6AmD+hAQEEAsMDxUaG0EmJi1WN08YGh0DAYL+ZwFEQTk5XyYnHSciIzsZGhSIFkQsLYFXAv5nAURBOTlfJicdJyIjOxkYFIgXQy0sgVcAAAAAAwAA/8QD+gPAACQASQBuAAABERQGBw4BKwEiJicuAT0BNDY3PgE7ATU0Njc+ATsBMhYXHgEVBTQmJy4BJy4BIyIGBw4BBw4BFRQWFx4BFx4BMzI2Nz4BNz4BNTMUBgcOAQcOASMiJicuAScuATU0Njc+ATc+ATMyFhceARceARUCUQMDBAYF0wUHAwQDAwQDBwWVAwMDBwUrBQcDAQMBExkYGEIoKloxMloqKUEYGBkZGBhCKCpaMjFaKipAGBoXliMiIV07O39GRYA7O1wjICIjISJdOzt+R0WAOztbIyAjAq3+1wUGBAMDAwMEBgUrBQcDAwPpBQcDAwMDAwMJA+syWikqQRgZGBkYGEMoKVoyMVspKkAYGBkZGBhCKClcMEWAOztbIyIjIyIhXTs7gEVFgDs7XCMhIyMhIl07O4BFAAAAAQAAACIEAANeAEsAAAEOAQc+ATcOAQcuASMiBw4BBwYVFBYXJicuAScmJw4BFRQWFy4BJxUUFhcOASMiJiceATMOASMqAScWFx4BFxYzMjc+ATc2PQE+ATcEAB09ICAxCx5DJR1QLSsmJjkQEQMDQD09bzAwKAwPMiwaMBZgSA0cDgoVChVrRDaESg0ZCyMmJlErKi2Rb3CXJycfNRUC/g0QBRM7JRIZCB4kERA5JiYrDRcLAxEROCcoMBg0HTZcHQINCwJNchAEAwMCP1MpMAIWEhEYBwY2N6xqamgcFTYgAAAAAQALAKkD9QLTADoAAAEeAQcGJiMiBiMiBicmNjU0NjU0Jjc2Fx4BFxYXNjc+ATc2NzYXHgEXFhceAQcGJicmJyYGBwYHHgEXAaASLwoLThE4aTcYQBQiBAIGEAwVFS4XFg04NTVqNjU4KCkoUSgoKBJPEggVC09QUKJQT04VJhYBDxIwERMCAgQOF1EYOmg0Fj8VDg4PMBgZBzUoJzUODgIDBgUcFxchDkcRCAgINAkKMTc2SxMmGAAAAAACAAD/xAQAA74AWgDeAAABLgEjLgEHDgEHIgYHBgcOAQcGHQEeAR8BHgEfBx4BFR8DHgEXHgEXHgEXMx8CHgEXHgEzHgEfAx4BMx4BNzI2PwE2Nz4BNzY1NCcuAScmJwUWBhceARceATc2Jic2FhceARceARcOAQceARceARc+ATc+ATc+ATcmNicuAS8CNiYnPgEXNjIzFzMnPgE3LgEnPgEzNiY1NDY1NiY3DgEHIiYnJjY3JwYmBw4BBy4BJz4BNzMyFx4BFxYVFAcOAQcGIyInLgEnJjU0Nz4BNzY3HgEXArEDBwUoVzAxWScBBgFGOjlTFxcCAwQCAwkFBAsEEw0CDQEDDQYRDQcNCAgLBAQFAgINAg0DBwUBBgECBAMRFysFBwUjSyoeNxoIU0ZGZh0cGRhZPj1K/msNDgMBEAYFDQ4EEgUHDgcVOigFEAUOIxEQJxMEKyAFCgUEBQ4VVRgFEAcEKQqxHAUVDA0YEwYpFQkXChEkEwIGBQURBgMOGAEcCBAnDAgMBQMoCg8VIw8REQ8MGxAGEAgTV01MciEhISFyTE1XV01MciEhCgsoHBwiDRUHA6ICAg0MAQISDgMCHDAveklJUCsOGw4NDh0MDRoKJxUEFAEDAg8JEw8GDQYFCQMCBQIIAwgCBQIBAwECAQkKEQIDCQkBCAUCFS4vglBQWVNMS34vMBvEGzweDBgLCh0LCxgKARAHEx0DCxIJFScTFSASWIg7BAsGJkAaJTolGy4TEwoQExcdHQ0JIQ4MKioIFAcIDAUDAQcDAwgLBQwUEwcZEQICIhMUKgMMBAQjBgMGARAgDiEhc0xNVldNTHIhISEhckxNVzEtLlMkJB0GEg4AAAAAAgAR/80D/AO+AD4ARAAAASUGBw4BBwYnBgcOAQcGBw4BJy4BJy4BNz4BNzY3PgE3Njc+ATc2JicmNjc+ATc2FhcOAQ8BDgEVHgEXHgEXATYmBwYWAuIBGgseH2FCQVAsLS5bLS4sGEcyEyUQGi4bDj4YISAfPyAgIQokAwILAQUyIiRoPlRuK0mMRBYBBQEvCRAcEP3kKhkuNB0CBmVDNzhKDg4RKS0tWy4uLBgwFwgmEBhWMBk3GCEfHz4gHyIKIQgKKQ1CbyQoOgUGNigZNRhtCBYGCyIGEBoM/joOXgoJawAAAQAC/8QD/AO8AC0AACUXHgEHDgEjISImJy4BNRE0Njc2Fh8BAScuATc+ATMhMhYXHgEVERQGBwYmLwEBImsLCQMDFBL+wgkTCAgJCAkIEwxqAjprCwkDAxYQATsMEgcICQkICBQLamZqCxQICAkJCAcSDAE5EhQDAwgMawI6agsUCAgJBwgIEwz+xRIUAwMHDWsAAAEADQC6A+sC3gAMAAAJAQYmJwEmNjMhNhYHA+v+SBk7Fv5EFxglA5EbMCQCc/5HGgIYAcAUUAFEKAAAAAEA+v/VAx4DswAMAAAFASY2NwE2FhURFgYnArP+RxoCGAHAFFABRCgrAbgZOxYBvBcYJfxvGzAkAAAAAAEA4v/NAwYDqwAMAAAJARYGBwEGJjURJjYXAU0BuRoCGP5AFFABRCgDq/5IGTsW/kQXGCUDlhguJAAAAAEADwCgA+sCxAAMAAAlISImNwE+ARcBFgYjA8n8bCQYFgG8FDsbAbYkLhigTxUBwBgCGv5JKEUAAQAGAFED+gMvADwAAAE2FhceARcWBgcGBw4BBwYHDgEjIiYnJicuAScmJy4BNTQ2Nz4BFx4BFx4BFx4BMzI2NzY3PgE3Njc+ATcDcSAlFQ4fAgEuETs6OnQ6OjoSLhgePxIeHx8+Hx8fDRojDg8hHRcjDytKLQMaAwUvCC4sLFcsKy4NJBMDLwYkEw8eEx0tEjs6OnQ6OjoSLkYSHh4ePSAfIQ0aFRsdDg8lAwEpDStILQMfMQguLC1YLSwsDyQFAAAAAAEACwCEA/cC/AA0AAAlHgE3PgE3AT4BJy4BJy4BIyIGBwYHDgEHBgcmJy4BJyYnLgEjIgYHDgEXHgEXFhceARcWFwG8ESQaEyUOAXETJgQDIBARIxYiNxAkIiJDIiIkHyEiRiMjIRI0HhckEBAvCgQnEC8uLV0vLzGxEh4DAiUPAXETJx0YIRARID8QJCIiQyEiIx8iIkcjIyERPh8QDzIhEiIOMC4vXS8vMAABAVL/+gOMA4QAOgAAAQ4BFx4BFxYXHgEXFhceATc+ATc+ATc0JicmJy4BJyYnNjc+ATc2Nz4BNzQmJy4BBw4BBwYHDgEHBgcBexAbAgIhDSoqKVIqKioRJBkVHw4QHAE5DiEeHjwfHiAcHx8/IB8eEDYBHQ4NLh4QHw0rKSpTKiosAf4PIRcSIQ0qKSlTKSorECICAx0PDyAUHjIPIB4fPB8fIBsfHkAfIB0QLhwUIQ8OKggEJA0rKSpTKiosAAABAVL/+gOLA4QAOgAAAR4BBw4BBwYHDgEHBgcOAScuAScuATU0Njc2Nz4BNzY3JicuAScmJy4BNTQ2Nz4BFx4BFxYXHgEXFhcDYhAcAwIgDiopKVMpKioRJBoVHg8PHTkOIB8ePB4fIBwfH0AfIB0QNx0ODS0fDyANKiopVCoqKwH+DyEXEiENKikpUykqKxAiAgMdDw8gFB4yDyAeHzwfHyAbHx5AHyAdEC4cFCEPDioIBCQNKykqUyoqLAAAAAABAAkAhAP3AvwANAAAEw4BBwYWFx4BMzI2NzY3PgE3NjcWFx4BFxYXHgEzMjY3PgE3NiYnAS4BJyYGBwYHDgEHBgdEDikECC8QECYVHjQSICMjRiIiHyQiIkMiIiQQNyIWIxEQIgEEJhP+jw4lExokETEvL10uLy8BWg8kECMyDxAfPhEgIyNHIyIfIyEiQyIiJBA/IBEQIhcdJxMBcQ8lAgMeEjEvL1wuLi4AAgAGAHED+gMNAB0AKgAAJRE2JgchMAYHBgcOAQcGMTAXHgEXFhceATElFjYnJwcnByc3JzcXNxcHFwP6Ax8e/aQWCg00M3AtLS8uczQzDAkSAmkRHwO8S4aLS4mJS4mGTYmJqQIsGiEDAwgNNDRyLS4wMHY0NAgHAgIBHxiOSoqKTYiJSoaGSomLAAAFAAD/wAQAA8AAHwAvAToB7AIbAAABISIHDgEHBhURFBceARcWMyEyNz4BNzY1ETQnLgEnJhMUBiMhIiY1ETQ2MyEyFhUBKgEjIgYHIgYHOAExMAYVOAExMAYVMCIjOAExDgEHDgEHOAExMAYxDgEnIiYnLgEjLgEnMCYnMCYxLgEnLgEnLgEnMhYzLgEjOgEzKgEjOAExKgEjMCIxOAExIgYHDgEHDgEHMDYxDgEHOAE3DgEHDgEHOAExMAYxOAExOAE5ATAiFTgBMTAiBzgBMTAGBzAGFTgBMTgBMTgBMQ4BIzgBIzE4ATEiJicyFjMuASc4ATE4ATEwIiMuAScuATcyNjccARcxHgEXHgEXMTA2Nz4BNz4BNzgBMy4BJy4BJz4BMTAWFw4BBw4BBxQGFTAyFx4BFx4BMzgBMTAyOQE+ATc+ATcwNDcyFjMWBgcHFDA1BjA3DgEjOAExDgEHDgEHDgEHMQ4BBzgBMTgBMTgBIzgBMTAiFSIGIzgBMTAiFTgBMTAiMTAiIzAiIzgBMTAiMTgBMTgBMTgBMQ4BJyImJzgBMTgBMTgBMTgBMTAiIzgBMS4BJzEuAScuAScwJjEwJjEwJicuAScGJiMiBgc4ATEOASMOAQcOAQcOAQcOAQciBiMyNjMOASMyNjcOAQciJiceARc2Nz4BNzY3KgExBw4BIzEiJicuAScwMjc+AT8BPgE3MDQ3MR4BFx4BMzI2NzgBFx4BFwYWFzQwFTEDM/2aKyUlOBAQEBA4JSUrAmYrJSU4EBAQEDglJXdfQ/2aQ19fQwJmQ1/+6wIDAQUHAwIDAgICAQEKEAgFCAQCBQ0GBQkDAgMBBAUCAQECAgQDAwQEAw4GAgEBCBIKAgUCBAcEAgECAgEBAgMHBQUJAwICAwECBQoEAgUCAgIBAQEBAwQKBQIDBAQCAQIFCAQBAgMHBBAPAwgNBwILGQ8FDAgBAgEDAgIIAwIGCwQQGAlET1BFCxkNCBQNAgEBBAcEAgUCAg4VCBAYCwIGDggFCAoLAQEBAwICAwECAwIBAgEKEQwCAgEBAgICAQEBAgIGCwYFCgQBAggNBgMFAwIDAQIDBwECBgMGCAMFBwMBBAECBQIDBwUGCwgDBwMCAQEBAQIGDQUFCgUECAMHCgcrawgGFhY4HR0UAgOCCxkNDRkNBg0FAQIDBgMDAQECAgUJBQcQCwcMBwIFCQMCAwEDwBAROCUlKv2cKiYmOBEQEBA4JSUrAmYqJSU4ERD8zUNfX0MCZkNfX0P+1gMCAgIBAQEBBxEIAwkDAgQGAQMEAQMDBAMBAgIBBAMDBgICDAMCBQYBAgEDAgMHBQIBBAECBQkDAgUCAgICAQEBAQQDAQECAgQDAwYELHRGAQEBBAEoTyUNHg8BAgEDAgIIAw0ZCyZOIw0vLw0rSyEVKhQCAQICAwYBAgEXLhMmTycCAgIyWyYgAgICAgIBAQECAQQBAgECCRIHAgICAgICAwMFCgcDBgECAwICAgcBAgMCAwEEAwEDAgUCAwgDBwoFAQYBAgIEAwMCAgECAQFZSgUCDQ03LCxASQoLDAsHDQgCAwcDAgIBAQEBCAoFBwoEBAIFBgIBAwICAgAAAAACAJ4AbQNiAxMAEgAuAAABByMiBh0BFBY7ARcWNjURNCYHEyImJyY2Nz4BNTQmJy4BNz4BFx4BFRQGBw4BIwJW8ZEWIB8XkfIMGBkMmQoRBggHDhsgIBsOBwgIHg0tNDQtBAkFAxO/Hxe8FiC/CQ0OAoIODQn9/woIDR4JEDggIDgQCR4NDgcIGlwzM1sbAgMAAAAABAAAAEIEAAMyABIALgBSAH4AAAEHIyIGHQEUFjsBFxY2NRE0JgcTIiYnJjY3PgE1NCYnLgE3PgEXHgEVFAYHDgEjFyImJyY2Nz4BNTQmJy4BNz4BFxYXHgEXFhUUBw4BBwYHDgEjFyImJyY2NzY3PgE3NjU0Jy4BJyYnLgE3PgEXFhceARcWFRQHDgEHBgcOASMBuPGRFx8fF5HyDBgZDJkKEQYIBw4bICAbDgcICB4NLTQ0LQQJBXoIDgYKAQswNDQwCwEKCh8MHRgXHwkICAkgFxcdBQ0HeAcPBgoBCyEaGiQJCQkJJBoaIQsBCgsfCycfHioLCwsLKh4eJwYNBwMTvx8XvBYgvwkNDgKCDg0J/f8KCA0eCRA4ICA4EAkeDQ4HCBpcMzNbGwIDdgYGCx8KLHdBQXcsCh8LDAELGyAhSScnKCgnJ0khIBsEBFoGBgsfCx4lJFErLC0tLCtRJCUeCx8LCwEKIysqXzMzNTUzNF8qKyQEBgAAAAADAFAAbQOvAxMAEgAuAFIAAAEHIyIGHQEUFjsBFxY2NRE0JgcTIiYnJjY3PgE1NCYnLgE3PgEXHgEVFAYHDgEjFyImJyY2Nz4BNTQmJy4BNz4BFxYXHgEXFhUUBw4BBwYHDgEjAgjykRYfHxaR8wsZGguYChEGCAgNHCAgHA0ICAgfDS0zMy0FCQV6Bw8FCwELMDU1MAsBCwofCx4XFyAICAgIIBcXHgQNCAMTvx8XvBYgvwkNDgKCDg0J/f8KCA0eCRA4ICA4EAkeDQ4HCBpcMzNbGwIDdgYGCx8KLHdBQXcsCh8LDAELGyAhSScnKCgnJ0khIBsEBAAAAAABARr/0QMPA7EAHgAAJQYWHwEWNjcBNjQnAS4BDwEOARcBFhQHMAcOAQcGMQEaDQIPJA8kDQGNDQ3+cw0kDyQPAg0BUQQENTV+NTQxDiUNIA0DDgHJDigOAcsOAw0gDSUO/nwFDgU8PZI8PQABAPH/0QLmA7EAHgAAASY0NwE2Ji8BJgYHAQYUFwEeAT8BPgEnMCcuAScmMQGVBAQBUQ0CDyQPJA3+cw0NAY0NJA8kDwINNDV+NTUBtQUOBQGEDiUNIA0DDv41DigO/jcOAw0gDSUOPTySPTwAAAAAAQAN/8sD8wO3ABAAAAUhIiY1ETQ2MyEyFhURDgEjA8v8ahAYFxEDlhAYARcQNRcRA5wQGBYS/GISFAAABgBXABcDpgNmAAsAFwAjAC8AOwBHAAABFAYjIiY1NDYzMhYHFAYjIiY1NDYzMhYHFAYjIiY1NDYzMhYHFAYjIiY1NDYzMhYHFAYjIiY1NDYzMhYHFAYjIiY1NDYzMhYDpiUbGiYmGhsljyUbGiYmGhslkSUbGiYmGhsljyUbGiYmGhslkSUbGiYmGhsljyUbGiYmGhslAyYaJiYaGyUlqhomJhobJSWsGiYmGhslJaoaJiYaGyUlrBomJhobJSWqGiYmGhslJQADAGsAFwOVA1UAEQAjADUAADciJicmND8BNjIXFhQPAQ4BIwEiJicmND8BNjIXFhQPAQ4BIwEiJicmND8BNjIXFhQPAQ4BI5cMFwkUFJcTNRITE5gIGA0BLwwXCRQUlxM1EhMTmAkYDAEtDRYKExN2EzURFBR1ChYNFwoKEzURmBMTEzUSlwoKAS8KChM1EZgTExQ0EpcKCgEtCgkUNBJ1FBQTNRF2CQoAAAAAAQBrABcDlQNVABEAADciJicmNDcBNjIXFhQHAQ4BI5cMFwkUFALREzURFBT9LwgYDRcKChM1EQLRFBQTNRH9LwoKAAAFAFoASQPxAzcAEAAUABgAIQAlAAABISIGFREUFjMhMjY1ES4BIxURJzclIQkBExceAT8BBSE3JwcRFwOm/P0eKyseAwUeKwErH/Pz/SwCrv6l/q35QAoeC0QBAP1O+zP19QM3Kx79pB4rKx4CXB4rh/4k7u4+/qwBVP6fQAoBC0L9+zX3Ae73AAAAAAIAAAAeBAADZAAwAEAAAAE2FhcBHgEXFgYHBgcOAQcGBw4BBwYmJy4BNTQ2NzY3PgE3NjcuAScuATU0Njc+ATcDISImPQE0NjMhMhYdAQ4BAlcYIRABMw0eAgMZDigoJ04nJycLHg4cKgsNGjQOHB0dOxwdGzxsPQw2Gg8NGhRV/jUWISEWAcsXIQIfA2QDIBD+zQsfERUfDygoJ00mJyYNIQMIKA0MHhQZKw8bHR07HBwaPWw9DS4dExwPDBsD/gAhF0gXISEXSBchAAMAWv/AA6QDugA0AEgATwAAJS4BJzEuATUDJicuAScmJy4BKwEiBgcnLgEHDgEfAQ4BBwMPAQ4BBw4BFx4BMyEyNjc2JicBPgE7ATIWFx4BFxMhNCYnAz4BNwcxPgE3EyMDmgUMBQUIbgoNDRkLCgYaPSdZKksWQAgmEhUPCGkLFAhxBhMCAQIJBwQMXDoCCDhaDgUEC/3qDysZWhYiDgczGGr+/gMBvAgKAVMFBwOG+5cPHg0OEwEBJCAnJ0kbHAglIygklxMPCAckE/gePxj+1xMvAwQDGi4QOEpFNRMvGwJPFxgUFgyQS/7lAwYDAcAUGQTvDRgN/sAAAAIAWv/AA6QDVQAsAEEAACUuAScuATUDJicuAScmJy4BKwEiBg8BDgEHAw8BDgEHDgEXHgEzITI2NzYmJyUTPgE/AT4BNz4BOwEyFhceARcTIQOaBQwFBQhuCg0NGQsKBho9J1kqSxYzCxQIcQYTAgECCQcEDFw6Agg4Wg4FBAv9MWYFBwMxCAoBDysZWhYiDgczGGr9mJcPHg0OEwEBJCAnJ0kbHAglIygkhR4/GP7XEy8DBAMaLhA4SkU1Ey8bUgEODRgNjBQZBBcYFBYMkEv+5QAAAgAA/8AEdgPBAFAAjwAAAS4BIyIGFRQWFzEXHgEXMxQWMx4BOwEeATMxMhYzFjIzOgE3MTI2MzI2NzEyNjcxMjY3PgE/AT4BNTQmIyIGBzEHETA0MTQmIyIGFTAUOQERJS4BLwEqASMHFTMyNhceARcRDgEHIS4BJxE+ATczHgEXHgEfATM1Iy4BJy4BJyMHDgEHAxceARcFNz4BPwERAasHEwsXHwgHywIEAgECAQEDAQEBAgIBAgICBgIDBgIBAgIBAwECAgEBAgECBQHMBwggFgsTB3AfFxYfAloNTSQGKXNAKis+cCgMDgQDDg38nQ4NAgIMD1QZGhITOjUFDAQTFxAVQT9fCjM+BwEBBz4zA38FMT0KAQH1BwggFgsTB8wBBAEBAQECAQEBAQEBAQECAQEBAQQBzAcTCxYgCAdwAgUBFx8fFwH9++dEMgUBAWsBAQIMEf3uDg4DAw0OApoMDgQCFhYYNgcBbAMVFBo6AwEJQTP9VwgzQAoBAQo/MQUCIgAAAAAFAFX/vgQfA8AADwAfAC8AQABnAAABIyImPQE+ATsBMhYdARQGASIGHQEUFjsBMjY9ATQmIwEjIiY9ATQ2OwEyFh0BFAYBIgYdARQWOwEyNj0BNCYrAQEmIg8BNTQmKwEiBhUUFjsBMhYdAScmIgcGFB8BHgEzMjY/ATY0JwGf3S1AAT8t3SxAQP73DhISDt0NExMNAhTdLT8/Ld0tPz/+9g0TEw3dDRMTDd0BEwsgC0E/LaEQFhYQoQ0TQQsfDAsLggYOBwcOBoILCwILPy3dLT8/Ld0tPwFpEw3dDRMTDd0NE/xKPy3cLUBALdwtPwFpEw7cDhMTDtwOEwE+CwtBfS0/FhAPFxIOfUELCwsgC4IFBgYFggsgCwAAAAIAEQBPA/EDJgAdACMAACUhJicuAScmJzc2JicmIgcBDgEXHgEzITI2NTYmIwEeARchAQPJ/qgDCwokGBgf9gsBDA0kC/18CgQFBRUMA48SGQIZEf3iMTkH/oIBDaQvLC1UJycj+gskDA0N/XEJGQwMDhkSERkBDzmLSwEPAAAAAwArAGQD0wMeAAQACQAOAAATIRUhNREhFSE1NSEVITUrA6j8WAOo/FgDqPxYASvHxwERfHziS0sAAAAAAwAe/9wD5AOiABoALQBAAAABIzU0JiMhIgYVERQWOwEVFBYzITI2NREuASMBETQ2MyEyFh0BISIGFREjLgE1BRQGIyEiJj0BITI2NREzMhYVEQNLPlk//kA+WVk+Plk/AcI+WQFaPv0TMyQBwiQ0/rw/WT4kMwNEMyT+QCQ0AUQ/WT4jNALNPj5ZWT7+Pj9ZPj5ZWT4Bwj9Z/n4BwCQzMyQ+WT/+vAIzJdYkMzMkPlk/AUIzJf5AAAEAAAABAADL+TlZXw889QALBAAAAAAA3dROCAAAAADd1E4I/rj/vASvA8IAAAAIAAIAAAAAAAAAAQAAA8D/wAAABN7+uP9RBK8AAQAAAAAAAAAAAAAAAAAAAIcEAAAAAAAAAAAAAAACAAAABEkAMQQAAAAEAAAABAAAAAQAAAAEAAB1BAAABAQAAAQEAAAEBAAABAQA//4EAABNBAAABAQAAMUEAAEfBAABHwQAAHIEAP64BAABLQQAAS4EAAEvBAAA0QQAAIEEAAEkBAABSgQAATwEAAFmBAAAnQQAAHgEAAFNBAAASgQAAD4EAP/VBAD/1QQA/9EEAAEmBAABCQQAAQkEAAEJBAAAkAQAAAQEAAALBAAADgQAAAAEAABHBAAAFAQAAEYEAAAIBAAAEQQAAEgEAADgBAAAMwQAAFoEAABPBAAAbwQAAGMEAAATBAAAEwQAATsEAAAVBAAAFQQAAA8EAABrBAAAAAQAACYEAAANBAABEQQAAAkEAAAKBAD//gQAAAkEAAAGBAAAMwQAAA8EAAAABAAADQQAAGIEAAALBAAABgQAAAAEAAAABAAACQQAAAQEAAANBAAAAgQAADcEAAARBAAADwQAAA0EAAALBAAACwQA//4EAAAJBAAAMwQAAAkEAAACBAAAAAQAAAAEAAALBAAAAAQAABEEAAACBAAADQQAAPoEAADiBAAADwQAAAYEAAALBN4BUgTeAVIEAAAJBAAABgQAAAAEAACeBAAAAAQAAFAEAAEaBAAA8QQAAA0EAABXBAAAawQAAGsESQBaBAAAAAQAAFoEAABaBHYAAAR2AFUEAAARBAAAKwQAAB4AAAAAAAoAFAAeAHoDigVQBvYIAAjICXQKKArmC6AMaAz4DYoNxg3uDiwOSg6CEOwSFBK4EwYTUBO+E/wUPBRUFH4U1BU8FkIWkBcSF7YZjBmaGpIb7BwiHGwczB14Hhwg1CFAIbAiLiL4I14j2iQUJMwlMiXYJhwoxClQKZop5CoWKkoqqCreKyQrYiumK8YsdCzgLRQtXC3uLkgvKi9MMEowijCwMjIyYDKQMsozODNsM8Iz/DRGNQg1ZjYCNow3gDgwOIo4xjkcOb46MDqOO9Q8RjyQPK48zDzqPQY9aD2+Ph4+fj7UPxpBeEHCQoBC/kM0Q2xDikPuREREZkSsRRJFkEX6Rr5HTEeMR6pIBgABAAAAhwKOABIAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEACQAAAAEAAAAAAAIABwByAAEAAAAAAAMACQA8AAEAAAAAAAQACQCHAAEAAAAAAAUACwAbAAEAAAAAAAYACQBXAAEAAAAAAAoAGgCiAAMAAQQJAAEAEgAJAAMAAQQJAAIADgB5AAMAAQQJAAMAEgBFAAMAAQQJAAQAEgCQAAMAAQQJAAUAFgAmAAMAAQQJAAYAEgBgAAMAAQQJAAoANAC8ZGNnLWljb25zAGQAYwBnAC0AaQBjAG8AbgBzVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwZGNnLWljb25zAGQAYwBnAC0AaQBjAG8AbgBzZGNnLWljb25zAGQAYwBnAC0AaQBjAG8AbgBzUmVndWxhcgBSAGUAZwB1AGwAYQByZGNnLWljb25zAGQAYwBnAC0AaQBjAG8AbgBzRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==") format('truetype');font-weight:400;font-style:normal;font-display:block}.dcg-calculator-api-container [class*=" dcg-icon-"],.dcg-calculator-api-container [class^=dcg-icon-]{font-family:dcg-icons!important;speak:never;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.dcg-calculator-api-container .dcg-icon-replace:before{content:"\e90f"}.dcg-calculator-api-container .dcg-icon-folder-move:before{content:"\e90e"}.dcg-calculator-api-container .dcg-icon-metronome-2:before{content:"\e90d"}.dcg-calculator-api-container .dcg-icon-play-once:before{content:"\e90b"}.dcg-calculator-api-container .dcg-icon-metronome:before{content:"\e90c"}.dcg-calculator-api-container .dcg-icon-mail:before{content:"\e90a"}.dcg-calculator-api-container .dcg-icon-line-dotted:before,.dcg-calculator-api-container .dcg-shared-icon-matrix:before{content:"\e907"}.dcg-calculator-api-container .dcg-icon-line-dashed:before{content:"\e908"}.dcg-calculator-api-container .dcg-icon-line-solid:before{content:"\e909"}.dcg-calculator-api-container .dcg-icon-angle:before{content:"\e910"}.dcg-calculator-api-container .dcg-icon-line-thickness:before{content:"\e911"}.dcg-calculator-api-container .dcg-icon-opacity:before{content:"\e912"}.dcg-calculator-api-container .dcg-icon-stop:before,.dcg-calculator-api-container .dcg-shared-icon-remove:before{content:"\e906"}.dcg-calculator-api-container .dcg-icon-thin-arrow-right:before,.dcg-calculator-api-container .dcg-shared-icon-four-function:before{content:"\e904"}.dcg-calculator-api-container .dcg-icon-thin-arrow-left:before,.dcg-calculator-api-container .dcg-shared-icon-check:before{content:"\e905"}.dcg-calculator-api-container .dcg-icon-volume:before,.dcg-calculator-api-container .dcg-shared-icon-test-mode:before{content:"\e903"}.dcg-calculator-api-container .dcg-icon-volume-down:before,.dcg-calculator-api-container .dcg-shared-icon-graphing:before{content:"\e901"}.dcg-calculator-api-container .dcg-icon-volume-up:before,.dcg-calculator-api-container .dcg-shared-icon-scientific:before{content:"\e902"}.dcg-calculator-api-container .dcg-icon-app-test-mode:before,.dcg-calculator-api-container .dcg-shared-icon-geometry:before{content:"\e900"}.dcg-calculator-api-container .dcg-icon-trophy:before{content:"\e200"}.dcg-calculator-api-container .dcg-icon-app-graphing:before{content:"\e201"}.dcg-calculator-api-container .dcg-icon-app-geometry:before{content:"\e202"}.dcg-calculator-api-container .dcg-icon-app-scientific:before{content:"\e203"}.dcg-calculator-api-container .dcg-icon-app-four-function:before{content:"\e204"}.dcg-calculator-api-container .dcg-icon-clipboard:before{content:"\e205"}.dcg-calculator-api-container .dcg-icon-arrow-infinite:before{content:"\e206"}.dcg-calculator-api-container .dcg-icon-arrow-once:before{content:"\e207"}.dcg-calculator-api-container .dcg-icon-arrow-two-way:before{content:"\e208"}.dcg-calculator-api-container .dcg-icon-arrow-one-way:before{content:"\e209"}.dcg-calculator-api-container .dcg-icon-randomize:before{content:"\e20a"}.dcg-calculator-api-container .dcg-icon-zoom-fit:before{content:"\e20b"}.dcg-calculator-api-container .dcg-icon-comments:before{content:"\e20c"}.dcg-calculator-api-container .dcg-icon-lines-solid:before{content:"\e20d"}.dcg-calculator-api-container .dcg-icon-histogram-fill:before{content:"\e20e"}.dcg-calculator-api-container .dcg-icon-histogram:before{content:"\e20f"}.dcg-calculator-api-container .dcg-icon-distribution-fill:before{content:"\e210"}.dcg-calculator-api-container .dcg-icon-distribution:before{content:"\e211"}.dcg-calculator-api-container .dcg-icon-dotplot-cross:before{content:"\e212"}.dcg-calculator-api-container .dcg-icon-dotplot-open:before{content:"\e213"}.dcg-calculator-api-container .dcg-icon-dotplot-default:before{content:"\e214"}.dcg-calculator-api-container .dcg-icon-boxplot:before{content:"\e215"}.dcg-calculator-api-container .dcg-icon-points:before{content:"\e216"}.dcg-calculator-api-container .dcg-icon-fraction:before{content:"\e217"}.dcg-calculator-api-container .dcg-icon-cross:before{content:"\e218"}.dcg-calculator-api-container .dcg-icon-open:before{content:"\e219"}.dcg-calculator-api-container .dcg-icon-point:before{content:"\e21a"}.dcg-calculator-api-container .dcg-icon-shaded-inequality-shade2:before{content:"\e21b"}.dcg-calculator-api-container .dcg-icon-shaded-inequality-dash:before{content:"\e21c"}.dcg-calculator-api-container .dcg-icon-position-arrows-single:before{content:"\e21d"}.dcg-calculator-api-container .dcg-icon-position-arrows:before{content:"\e21e"}.dcg-calculator-api-container .dcg-icon-parametric-filled:before{content:"\e21f"}.dcg-calculator-api-container .dcg-icon-parametric-solid:before{content:"\e220"}.dcg-calculator-api-container .dcg-icon-parametric-dashed:before{content:"\e221"}.dcg-calculator-api-container .dcg-icon-parametric-dotted:before{content:"\e222"}.dcg-calculator-api-container .dcg-icon-polygon-filled:before{content:"\e223"}.dcg-calculator-api-container .dcg-icon-polygon-dashed:before{content:"\e224"}.dcg-calculator-api-container .dcg-icon-polygon-dotted:before{content:"\e225"}.dcg-calculator-api-container .dcg-icon-polygon-solid:before{content:"\e226"}.dcg-calculator-api-container .dcg-icon-title:before{content:"\e227"}.dcg-calculator-api-container .dcg-icon-bottom-arrow:before{content:"\e228"}.dcg-calculator-api-container .dcg-icon-rocket:before{content:"\e229"}.dcg-calculator-api-container .dcg-icon-reset:before{content:"\e22a"}.dcg-calculator-api-container .dcg-icon-desmos:before{content:"\e22b"}.dcg-calculator-api-container .dcg-icon-download:before{content:"\e22c"}.dcg-calculator-api-container .dcg-icon-embed:before{content:"\e22d"}.dcg-calculator-api-container .dcg-icon-export:before{content:"\e22e"}.dcg-calculator-api-container .dcg-icon-book:before{content:"\e22f"}.dcg-calculator-api-container .dcg-icon-print:before{content:"\e230"}.dcg-calculator-api-container .dcg-icon-magic:before{content:"\e231"}.dcg-calculator-api-container .dcg-icon-cursor:before{content:"\e232"}.dcg-calculator-api-container .dcg-icon-dashed-function:before{content:"\e233"}.dcg-calculator-api-container .dcg-icon-function:before{content:"\e234"}.dcg-calculator-api-container .dcg-icon-arrows-two:before{content:"\e235"}.dcg-calculator-api-container .dcg-icon-arrows-one:before{content:"\e236"}.dcg-calculator-api-container .dcg-icon-desmos-badge:before{content:"\e237"}.dcg-calculator-api-container .dcg-icon-move:before{content:"\e238"}.dcg-calculator-api-container .dcg-icon-move-horizontal:before{content:"\e239"}.dcg-calculator-api-container .dcg-icon-move-vertical:before{content:"\e23a"}.dcg-calculator-api-container .dcg-icon-arrow-left:before{content:"\e23b"}.dcg-calculator-api-container .dcg-icon-arrow-right:before{content:"\e23c"}.dcg-calculator-api-container .dcg-icon-arrow-enter:before{content:"\e23d"}.dcg-calculator-api-container .dcg-icon-shift:before{content:"\e23e"}.dcg-calculator-api-container .dcg-icon-dragdots:before{content:"\e23f"}.dcg-calculator-api-container .dcg-icon-duplicate:before{content:"\e240"}.dcg-calculator-api-container .dcg-icon-error:before{content:"\e241"}.dcg-calculator-api-container .dcg-icon-facebook:before{content:"\e242"}.dcg-calculator-api-container .dcg-icon-film:before{content:"\e243"}.dcg-calculator-api-container .dcg-icon-folder-open:before{content:"\e244"}.dcg-calculator-api-container .dcg-icon-folder:before{content:"\e245"}.dcg-calculator-api-container .dcg-icon-hamburger:before{content:"\e246"}.dcg-calculator-api-container .dcg-icon-hdd:before{content:"\e247"}.dcg-calculator-api-container .dcg-icon-hide:before{content:"\e248"}.dcg-calculator-api-container .dcg-icon-home:before{content:"\e249"}.dcg-calculator-api-container .dcg-icon-image:before{content:"\e24a"}.dcg-calculator-api-container .dcg-icon-keyboard:before{content:"\e24b"}.dcg-calculator-api-container .dcg-icon-lock:before{content:"\e24c"}.dcg-calculator-api-container .dcg-icon-minus:before{content:"\e24d"}.dcg-calculator-api-container .dcg-icon-new-expression:before{content:"\e24e"}.dcg-calculator-api-container .dcg-icon-new-folder:before{content:"\e24f"}.dcg-calculator-api-container .dcg-icon-new-image:before{content:"\e250"}.dcg-calculator-api-container .dcg-icon-new-table:before{content:"\e251"}.dcg-calculator-api-container .dcg-icon-new-text:before{content:"\e252"}.dcg-calculator-api-container .dcg-icon-pause:before{content:"\e253"}.dcg-calculator-api-container .dcg-icon-pencil:before{content:"\e254"}.dcg-calculator-api-container .dcg-icon-play:before{content:"\e255"}.dcg-calculator-api-container .dcg-icon-plus:before{content:"\e256"}.dcg-calculator-api-container .dcg-icon-question-sign:before{content:"\e257"}.dcg-calculator-api-container .dcg-icon-redo:before{content:"\e258"}.dcg-calculator-api-container .dcg-icon-remove:before{content:"\e259"}.dcg-calculator-api-container .dcg-icon-search:before{content:"\e25a"}.dcg-calculator-api-container .dcg-icon-settings:before{content:"\e25b"}.dcg-calculator-api-container .dcg-icon-share:before{content:"\e25c"}.dcg-calculator-api-container .dcg-icon-show:before{content:"\e25d"}.dcg-calculator-api-container .dcg-icon-table:before{content:"\e25e"}.dcg-calculator-api-container .dcg-icon-text:before{content:"\e25f"}.dcg-calculator-api-container .dcg-icon-time:before{content:"\e260"}.dcg-calculator-api-container .dcg-icon-twitter:before{content:"\e261"}.dcg-calculator-api-container .dcg-icon-undo:before{content:"\e262"}.dcg-calculator-api-container .dcg-icon-world:before{content:"\e263"}.dcg-calculator-api-container .dcg-icon-wrench:before{content:"\e264"}.dcg-calculator-api-container .dcg-icon-zoom:before{content:"\e265"}.dcg-calculator-api-container .dcg-icon-caret-down:before{content:"\e266"}.dcg-calculator-api-container .dcg-icon-caret-left:before{content:"\e267"}.dcg-calculator-api-container .dcg-icon-caret-right:before{content:"\e268"}.dcg-calculator-api-container .dcg-icon-caret-up:before{content:"\e269"}.dcg-calculator-api-container .dcg-icon-check:before{content:"\e26a"}.dcg-calculator-api-container .dcg-icon-chevron-down:before{content:"\e26b"}.dcg-calculator-api-container .dcg-icon-chevron-left:before{content:"\e26c"}.dcg-calculator-api-container .dcg-icon-chevron-right:before{content:"\e26d"}.dcg-calculator-api-container .dcg-icon-chevron-up:before{content:"\e26e"}.dcg-calculator-api-container .dcg-icon-delete:before{content:"\e26f"}.dcg-calculator-api-container .dcg-display-domain{padding:5px 0 13px;font-size:95%;white-space:nowrap;margin-bottom:-5px;margin-top:-5px}.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem{display:block;position:relative;margin-top:-1px;border-top:1px solid rgba(206,206,206,.8);border-bottom:1px solid transparent;font-size:100%}.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem:not(.dcg-expressionimage){cursor:text}.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container{width:100%;position:relative;padding-bottom:6px}.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-dragging,.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected{border-color:#6a93d2;border-width:2px 0;border-right:1px solid #6a93d2}.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-dragging .dcg-fade-container,.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-fade-container{margin-top:-1px;margin-bottom:-1px}.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-dragging .dcg-tab,.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-tab{color:#fff;border-right:1px solid transparent;background:#6a93d2}.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-expression-bottom.dcg-fadein-bottom{position:relative;-webkit-animation:.8s dcg-fadeIn;-moz-animation:.8s dcg-fadeIn;-o-animation:.8s dcg-fadeIn;-ms-animation:dcg-fadeIn 0.8s;animation:.8s dcg-fadeIn;cursor:default}.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-indent-in-folder{padding-left:53px}.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-inFolder .dcg-fade-container:after{position:absolute;top:5px;bottom:5px;left:56px;content:'';border-left:1px solid rgba(0,0,0,.2);-webkit-animation:.3s dcg-fadeIn;-moz-animation:.3s dcg-fadeIn;-o-animation:.3s dcg-fadeIn;-ms-animation:dcg-fadeIn 0.3s;animation:.3s dcg-fadeIn}.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-inFolder .dcg-indent-in-folder,.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-inFolder .dcg-main{margin-left:20px}.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-shell{height:54px;background:#fff}.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-main{position:relative;padding:15px 35px 9px 53px;white-space:nowrap;font-size:110%;vertical-align:middle}.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-expression-mathquill{position:relative;width:100%}.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-icon-replace,.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-top-level-delete{position:absolute;top:0;right:0;padding:8px 7px 20px 20px;z-index:2;opacity:.2;font-size:115%;cursor:pointer}.dcg-calculator-api-container .dcg-btn-flat-gray i,.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden.dcg-depressed.dcg-white-icon:before,.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn i,.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-icon-replace.dcg-hovered,.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-top-level-delete.dcg-hovered,.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-remove.dcg-hovered,.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-replace.dcg-hovered,.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-search.dcg-hovered,.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-section-heading a.dcg-hovered,.dcg-calculator-api-container .dcg-overgraph-icon i,.dcg-calculator-api-container .dcg-ticker .dcg-icon-remove.dcg-hovered,.dcg-calculator-api-container .graph-preview .dcg-graph-preview-info .dcg-action-cancel.dcg-hovered{opacity:.6}.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved{font-size:80%;color:#666;cursor:default}.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved a{color:#666;margin-left:5px;text-decoration:underline}.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved .dcg-btn,.dcg-calculator-api-container .dcg-regression-container .dcg-parameter-warning .dcg-btn{padding:2px 5px;margin-top:4px}.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-tab{display:block;position:absolute;top:0;left:0;bottom:0;padding:1px 2px;font-size:65%;text-align:left;color:rgba(0,0,0,.5);background:rgba(0,0,0,.03);border-right:1px solid rgba(0,0,0,.06);cursor:move;width:38px}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontext .dcg-icon-text{position:absolute;top:50%;left:50%;margin:-7px 0 0 -7px;font-size:140%;opacity:.25}.dcg-calculator-api-container .dcg-expressionitem:not(.dcg-mathitem).dcg-selected .dcg-top-level-delete{padding-bottom:0;padding-left:0}.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-top-level-delete{right:-1px}.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-edit-domain,.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel input.dcg-image-name{display:block!important}.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-expressionitem.dcg-expressionfolder .dcg-displayTextarea,.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-expressionitem.dcg-expressiontext .dcg-displayTextarea,.dcg-calculator-api-container .dcg-selected .dcg-smart-textarea-container .dcg-displayTextarea,.dcg-calculator-api-container .graph-link-container .retry-delete a.inactive{pointer-events:none;opacity:0}.dcg-calculator-api-container .dcg-drag-container{position:absolute;top:0;left:0;right:0;z-index:1000}.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem{background:#fff;overflow:hidden;-webkit-box-shadow:0 0 10px #888;box-shadow:0 0 10px #888;border-color:#6a93d2;border-right:1px solid #6a93d2}.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem .dcg-fade-container:after,.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem .dcg-indent-in-folder,.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem .dcg-main{-webkit-transition:.3s;-moz-transition:.3s;-o-transition:.3s;-ms-transition:.3s;transition:.3s}.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem .dcg-tab{background:#6a93d2}.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation.dcg-hidden,.dcg-calculator-api-container .dcg-exppanel.dcg-isDragging .dcg-expressionitem.dcg-new-expression,.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-replace.dcg-disabled{opacity:0}.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field{border:none;-webkit-box-shadow:none!important;box-shadow:none!important}.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field textarea{resize:none}.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field.dcg-hasCursor{-webkit-box-shadow:none!important;box-shadow:none!important}.dcg-calculator-api-container .dcg-tap-container .dcg-mq-math-mode .dcg-mq-supsub{margin-bottom:-.2em}.dcg-calculator-api-container #graph-container .dcg-container,.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionimage .dcg-image-loaded .dcg-mq-editable-field.dcg-math-input,.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation .dcg-mathquill-braille,.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation .dcg-mq-editable-field,.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation .dcg-mq-math-mode,.dcg-calculator-api-container .dcg-header .align-left-container .title-div i,.dcg-calculator-api-container .dcg-tap-container .dcg-mq-math-mode .dcg-mq-int .dcg-mq-sub{font-size:100%}.dcg-calculator-api-container .dcg-expression-icon-container{position:absolute;top:28px;left:50%;height:29px;width:29px;margin-top:-14.5px;margin-left:-14.5px;text-align:center;line-height:29px;border-radius:50%}.dcg-calculator-api-container .dcg-action-icon-view i.dcg-icon-chevron-right{font-size:115%;display:inline-block}.dcg-calculator-api-container .dcg-action-icon-view i.dcg-icon-minus{-webkit-transform:translate(3.5px,-1px);-moz-transform:translate(3.5px,-1px);-o-transform:translate(3.5px,-1px);-ms-transform:translate(3.5px,-1px);transform:translate(3.5px,-1px);font-size:90%;display:inline-block}.dcg-calculator-api-container .dcg-action-icon-view.dcg-action-icon-view-animating i.dcg-icon-chevron-right{-webkit-transition:.15s;-moz-transition:.15s;-o-transition:.15s;-ms-transition:.15s;transition:.15s;-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg)}.dcg-calculator-api-container .dcg-action-info{cursor:default;color:#666;font-size:85%}.dcg-calculator-api-container .dcg-action-info .dcg-click-edit{margin-left:5px;opacity:.6}.dcg-calculator-api-container .dcg-cdf-footer-container,.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-cdf-evaluation-container,.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-line-style-toggle,.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-point-style-toggle,.dcg-calculator-api-container .dcg-generic-options-menu .dcg-line-style-toggle,.dcg-calculator-api-container .dcg-generic-options-menu .dcg-point-style-toggle,.dcg-calculator-api-container .dcg-options-menu .dcg-component-checkbox,.dcg-calculator-api-container .dcg-options-menu .dcg-style-icons,.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-container .dcg-braille-options-buttons,.dcg-calculator-api-container .dcg-shared-account-dialog .dcg-shared-email-form-container .dcg-shared-notice-checkbox-email,.dcg-calculator-api-container .dcg-table-column-menu .dcg-line-style-toggle,.dcg-calculator-api-container .dcg-table-column-menu .dcg-point-style-toggle{margin-top:5px}.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-component-checkbox{margin-bottom:4px}.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-mathquill-wrapper,.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-mathquill-wrapper{margin-left:10px;margin-right:10px}.dcg-calculator-api-container .dcg-circular-icon-container{width:29px;height:29px;border-radius:50%}.dcg-calculator-api-container .dcg-circular-icon{display:inline-block;width:29px;height:29px;line-height:29px;border-radius:50%;position:relative;overflow:hidden}.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden{-webkit-box-shadow:inset 0 0 3px rgba(0,0,0,.25);box-shadow:inset 0 0 3px rgba(0,0,0,.25)}.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden:before{position:absolute;top:0;left:0;bottom:0;right:0;border:5px solid #999;border-radius:50%;opacity:.25;content:""}.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden.dcg-white-icon:before{border-color:#fff;opacity:.4}.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden.dcg-hovered:before{opacity:.3125}.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden.dcg-depressed:before{opacity:.375}.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline{border:2px solid #000;opacity:.5;color:#000;text-align:center}.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline .dcg-icon-folder{position:relative;top:-1px;font-size:110%}.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline .dcg-icon-pause{position:relative;top:-1px;left:.25px}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-content .dcg-icon-play,.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline .dcg-icon-play{position:relative;top:-1px;left:1.5px}.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline .dcg-icon-fraction{font-size:20px;position:relative;top:2px;left:.5px}.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline.dcg-white-icon{color:#fff;border-color:#fff;opacity:.9}.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image,.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border.dcg-empty-label,.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border.dcg-focus,.dcg-calculator-api-container .dcg-user-bar .search-container input:focus{background:#fff}.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image:after{position:absolute;top:0;left:0;bottom:0;right:0;content:'';border-radius:50%;overflow:hidden;-webkit-box-shadow:inset 0 0 4px rgba(0,0,0,.7);box-shadow:inset 0 0 4px rgba(0,0,0,.7)}.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image .dcg-background-image{width:29px;height:29px;display:inline-block;border-radius:50%;-webkit-background-size:29px 29px!important;-moz-background-size:29px 29px!important;background-size:29px 29px!important}.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i{text-shadow:0 0 6px rgba(0,0,0,.2),0 0 1px rgba(0,0,0,.5)}.dcg-calculator-api-container .dcg-circular-icon .dcg-spinner{position:absolute;left:50%;top:50%;margin-top:-10px;margin-left:-10px}.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon{-webkit-box-shadow:inset 0 0 3px rgba(0,0,0,.25);box-shadow:inset 0 0 3px rgba(0,0,0,.25);overflow:hidden}.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon{text-shadow:0 0 3px rgba(0,0,0,.25)}.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon,.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image{font-size:35px}.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon.dcg-modifier-size-medium,.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image.dcg-modifier-size-medium{font-size:42.25px}.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon.dcg-modifier-size-large,.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image.dcg-modifier-size-large{font-size:56.75px}.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon.dcg-modifier-size-small,.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image.dcg-modifier-size-small{font-size:32.1px}.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon.dcg-modifier-rotated,.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image.dcg-modifier-rotated{-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-o-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon,.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon{position:absolute;top:-3px;left:-30px;right:-30px;bottom:-3px;color:#fff;line-height:35px;text-align:center}.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-check,.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-check{font-size:50%}.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-move,.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-move-horizontal,.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-move-vertical,.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-move,.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-move-horizontal,.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-move-vertical{font-size:55%}.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-cross,.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-open,.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-point,.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-cross,.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-open,.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-point{font-size:75%}.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-lines-solid,.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-points,.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-lines-solid,.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-points{font-size:68%}.dcg-calculator-api-container .dcg-clickable-image-info-view{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;margin-top:20px;-webkit-box-pack:space-evenly;-moz-box-pack:space-evenly;-o-box-pack:space-evenly;-ms-flex-pack:space-evenly;-webkit-justify-content:space-evenly;justify-content:space-evenly;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-clickable-image-icon{padding-right:10px;padding-left:10px}.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-tooltip-hit-area-container{margin-left:5px;margin-right:10px}.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-clickable-image-state-container{position:relative;color:#666;text-align:center}.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-clickable-image-state-container .dcg-clickable-image-state{background:0 0/cover no-repeat #fff;-webkit-background-size:cover;-moz-background-size:cover;width:60px;height:60px;border-radius:10px;border:1px solid rgba(0,0,0,.2)}.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-clickable-image-state-container .dcg-clickable-image-state-close{position:absolute;top:-10px;right:-2px;width:25px;height:25px;padding-top:5px;font-size:14px;background:#666;color:#fff;border-radius:50%;opacity:.6}.dcg-calculator-api-container .dcg-evaluation-container{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:end;-moz-box-align:end;-o-box-align:end;-ms-flex-align:end;-webkit-align-items:flex-end;align-items:flex-end;margin-right:5px;padding:1px}.dcg-calculator-api-container .dcg-evaluation-container .dcg-fraction-toggle{color:#bbb;margin-bottom:2px}.dcg-calculator-api-container .dcg-evaluation-container .dcg-fraction-toggle i{margin:0 2px;position:relative;top:1px}.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn:not(:last-of-type),.dcg-calculator-api-container .dcg-evaluation-container .dcg-color-swatch,.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-action-toggle-x-axis-steps,.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-action-toggle-y-axis-steps{margin-right:-2px}.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation{margin-top:-3px}.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-mathquill-wrapper .dcg-mathquill-braille{padding:5px 0}.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input{text-align:right;color:#666}.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-mathquill-wrapper .dcg-typeset-math{padding:3px 6px 3px 3px;display:table;border:1px solid rgba(206,206,206,.8);background:rgba(0,0,0,.04);color:#222;border-radius:4px}.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-evaluation-label-container{font-weight:400;cursor:pointer;white-space:nowrap;display:table-cell;vertical-align:middle}.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-evaluation-label-container .dcg-mq-math-mode{cursor:pointer;padding-right:2px}.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-evaluation-html{white-space:nowrap;border-top-right-radius:5px;border-bottom-right-radius:5px;display:table-cell}.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-evaluation-html.dcg-color-evaluation,.dcg-calculator-api-container .dcg-settings-view-container{line-height:0}.dcg-calculator-api-container .dcg-exp-list-resizer{position:absolute;top:0;right:-12px;bottom:0;width:15px;cursor:ew-resize;z-index:1}.dcg-calculator-api-container .dcg-exp-list-resizer.dcg-depressed{width:215px;right:-112px}.dcg-calculator-api-container .dcg-expression-edit-actions{padding-left:5px;padding-right:7px;white-space:nowrap;position:absolute;top:0;right:0}.dcg-calculator-api-container .dcg-expression-edit-actions:not(.dcg-limited-height){bottom:0}.dcg-calculator-api-container .dcg-expression-edit-actions .dcg-graphic{height:100%;background:-webkit-linear-gradient(left,rgba(255,255,255,0),#fff);background:-moz-linear-gradient(left,rgba(255,255,255,0),#fff);background:-o-linear-gradient(left,rgba(255,255,255,0),#fff);background:-ms-linear-gradient(left,rgba(255,255,255,0),#fff);background:linear-gradient(to right,rgba(255,255,255,0),#fff);position:absolute;top:0;right:100%;width:40px;cursor:default;pointer-events:none}.dcg-calculator-api-container .dcg-expression-edit-actions .dcg-exp-action-button{margin-left:2px;width:44px;height:44px;padding:12px 10px;text-align:center;margin-top:4px;display:inline-block;font-size:125%;line-height:20px;opacity:.6;border-radius:5px}.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-active,.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-hovered,.dcg-calculator-api-container .dcg-expression-edit-actions .dcg-exp-action-button.dcg-hovered{background:rgba(0,0,0,.1)}.dcg-calculator-api-container .dcg-slider_menu{position:relative;top:-3px}.dcg-calculator-api-container .dcg-expression-footer-title{text-transform:uppercase;font-size:80%;color:rgba(0,0,0,.5);margin-bottom:4px}.dcg-calculator-api-container .dcg-expression-footer-title .dcg-expression-footer-title-help{padding:10px;color:rgba(0,0,0,.5);margin:-10px -10px -10px -6px;cursor:pointer;text-decoration:none}.dcg-calculator-api-container .dcg-expression-footer-title .dcg-expression-footer-title-help.dcg-hovered{color:#888}.dcg-calculator-api-container .dcg-expression-bottom .dcg-expression-braille-error{color:#666;margin:10px 10px 10px 0;font-size:90%}.dcg-calculator-api-container .dcg-expression-bottom .dcg-expression-braille-error .dcg-icon-error{font-size:80%;margin-right:5px;color:#fa824c}.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-disabled,.dcg-calculator-api-container .dcg-mq-underline-container .dcg-slider-step-container.dcg-disabled-input .dcg-math-field,.dcg-calculator-api-container .dcg-mq-underline-container .dcg-slider-step-container.dcg-disabled-input .dcg-mathquill-braille{opacity:.3;pointer-events:none}.dcg-calculator-api-container .dcg-mq-underline-container .dcg-math-field{border-bottom:1px solid rgba(0,0,0,.2);padding:1px 2px;margin:1px;min-width:35px;max-width:60px;font-size:100%}.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row .dcg-math-field.dcg-focus,.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row .dcg-math-field.dcg-invalid,.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-focus,.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-invalid,.dcg-calculator-api-container .dcg-generic-options-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-focus,.dcg-calculator-api-container .dcg-generic-options-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-invalid,.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row .dcg-math-field.dcg-focus,.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row .dcg-math-field.dcg-invalid,.dcg-calculator-api-container .dcg-mq-underline-container .dcg-math-field.dcg-focus,.dcg-calculator-api-container .dcg-mq-underline-container .dcg-math-field.dcg-invalid,.dcg-calculator-api-container .dcg-mq-underline-container :not(.dcg-evaluation)>.dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-focus,.dcg-calculator-api-container .dcg-mq-underline-container :not(.dcg-evaluation)>.dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid,.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille.dcg-focus,.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille.dcg-invalid,.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille.dcg-outofbounds,.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-focus,.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-invalid,.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-outofbounds,.dcg-calculator-api-container .dcg-table-column-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-focus,.dcg-calculator-api-container .dcg-table-column-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-invalid,.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-definition .dcg-math-field.dcg-focus,.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-definition .dcg-math-field.dcg-invalid,.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-frequency .dcg-math-field.dcg-focus,.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-frequency .dcg-math-field.dcg-invalid{border-bottom:2px solid #2f72dc;margin-bottom:0}.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row .dcg-math-field.dcg-invalid,.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-invalid,.dcg-calculator-api-container .dcg-generic-options-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-invalid,.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row .dcg-math-field.dcg-invalid,.dcg-calculator-api-container .dcg-mq-underline-container .dcg-math-field.dcg-invalid,.dcg-calculator-api-container .dcg-mq-underline-container :not(.dcg-evaluation)>.dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid,.dcg-calculator-api-container .dcg-table-column-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-invalid,.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-definition .dcg-math-field.dcg-invalid,.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-frequency .dcg-math-field.dcg-invalid{border-bottom:2px solid #e15855}.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),.dcg-calculator-api-container .dcg-generic-options-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),.dcg-calculator-api-container .dcg-mq-underline-container .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),.dcg-calculator-api-container .dcg-mq-underline-container :not(.dcg-evaluation)>.dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),.dcg-calculator-api-container .dcg-table-column-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-definition .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-frequency .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid){border-bottom:2px solid #ccc;margin-bottom:0}.dcg-calculator-api-container .dcg-mq-underline-container :not(.dcg-evaluation)>.dcg-mathquill-wrapper .dcg-mathquill-braille{border-bottom:1px solid rgba(0,0,0,.2);padding:1px 2px;margin:1px;min-width:35px;max-width:35px}.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row{font-size:90%;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:baseline;-moz-box-align:baseline;-o-box-align:baseline;-ms-flex-align:baseline;-webkit-align-items:baseline;align-items:baseline;margin-right:2px}.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row .dcg-mq-container{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;overflow:hidden}.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row .dcg-math-field,.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row .dcg-math-field{border-bottom:1px solid rgba(0,0,0,.2);padding:1px 2px;margin:1px;min-width:100%;max-width:100%;font-size:95%}.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row .dcg-clickable-info-error-container,.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-clickable-info-error-container{margin-left:-20px;width:20px;display:inline-block}.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-list-index-notice{font-size:90%;color:#444;padding-top:5px}.dcg-calculator-api-container .dcg-clickable-section .dcg-index-variable-marker{padding-left:4px;padding-right:4px;font-size:90%;border:1px solid rgba(0,0,0,.2);border-radius:4px}.dcg-calculator-api-container .dcg-clickable-section .dcg-index-variable-marker:not(.dcg-mathquill-has-focus){background:0 0;pointer-events:none;opacity:.75}.dcg-calculator-api-container .dcg-color-picker-container{margin:-2px}.dcg-calculator-api-container .dcg-color-picker-container .dcg-color-picker-menu{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-pack:justify;-moz-box-pack:justify;-o-box-pack:justify;-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-orient:horizontal;-moz-box-orient:horizontal;-o-box-orient:horizontal;-webkit-box-lines:multiple;-moz-box-lines:multiple;-o-box-lines:multiple;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap}.dcg-calculator-api-container .dcg-color-picker-container .dcg-color-picker-menu .dcg-color-picker-placeholder{width:30px;height:30px;margin:2px}.dcg-calculator-api-container .dcg-color-picker-container .dcg-color-picker-menu .dcg-color-tile{margin:2px;display:inline-block;position:relative;height:30px}.dcg-calculator-api-container .dcg-color-picker-container .dcg-color-picker-menu .dcg-color-tile i{position:absolute;top:50%;left:0;right:0;pointer-events:none;height:20px;line-height:20px;color:#fff;margin-top:-10px;text-align:center}.dcg-calculator-api-container .dcg-color-picker-container .dcg-color-picker-menu .dcg-color-tile i.dcg-light-color,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-depressed,.dcg-calculator-api-container .dcg-over-graph-hamburger .dcg-action-opendrawer.dcg-depressed,.dcg-calculator-api-container .dcg-over-graph-hamburger .dcg-action-opendrawer.dcg-hovered,.dcg-calculator-api-container .dcg-ticker .dcg-ticker-toggle-help.dcg-depressed{color:#444}.dcg-calculator-api-container .dcg-color-picker-container .dcg-color-picker-menu .dcg-color-tile i.dcg-mixed-color{text-shadow:0 0 3px rgba(0,0,0,.8)}.dcg-calculator-api-container .dcg-color-swatch{width:30px;height:30px;border-radius:3px;display:inline-block;overflow:hidden}.dcg-calculator-api-container .dcg-color-swatch.dcg-light-color{-webkit-box-shadow:0 0 0 1px rgba(0,0,0,.2) inset;box-shadow:0 0 0 1px rgba(0,0,0,.2) inset}.dcg-calculator-api-container .dcg-color-swatch.dcg-hovered:not(.dcg-color-evaluation){-webkit-box-shadow:0 0 0 2px rgba(0,0,0,.15);box-shadow:0 0 0 2px rgba(0,0,0,.15)}.dcg-calculator-api-container .dcg-color-swatch.dcg-hovered:not(.dcg-color-evaluation).dcg-light-color{-webkit-box-shadow:0 0 0 2px rgba(0,0,0,.15),0 0 0 1px rgba(0,0,0,.2) inset;box-shadow:0 0 0 2px rgba(0,0,0,.15),0 0 0 1px rgba(0,0,0,.2) inset}.dcg-calculator-api-container .dcg-color-swatch.dcg-depressed:not(.dcg-color-evaluation),.dcg-calculator-api-container .dcg-options-menu .dcg-style-icon-container:not(.dcg-disabled).dcg-depressed:not(.dcg-disabled){-webkit-box-shadow:0 0 0 2px rgba(0,0,0,.25);box-shadow:0 0 0 2px rgba(0,0,0,.25)}.dcg-calculator-api-container .dcg-color-swatch.dcg-depressed:not(.dcg-color-evaluation).dcg-light-color{-webkit-box-shadow:0 0 0 2px rgba(0,0,0,.25),0 0 0 1px rgba(0,0,0,.2) inset;box-shadow:0 0 0 2px rgba(0,0,0,.25),0 0 0 1px rgba(0,0,0,.2) inset}.dcg-calculator-api-container .dcg-expressions-options-menu,.dcg-calculator-api-container .dcg-generic-options-menu,.dcg-calculator-api-container .dcg-table-column-menu{width:224px}.dcg-calculator-api-container .dcg-expressions-options-menu.dcg-options-menu,.dcg-calculator-api-container .dcg-generic-options-menu.dcg-options-menu,.dcg-calculator-api-container .dcg-table-column-menu.dcg-options-menu{padding-left:0;padding-right:0}.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-options-menu-content,.dcg-calculator-api-container .dcg-generic-options-menu .dcg-options-menu-content,.dcg-calculator-api-container .dcg-recovery-graphs-list,.dcg-calculator-api-container .dcg-selectable-input-container .dcg-copy-button .dcg-copy-text,.dcg-calculator-api-container .dcg-selectable-input-container .dcg-copy-button i,.dcg-calculator-api-container .dcg-table-column-menu .dcg-options-menu-content,.dcg-calculator-api-container .save-btn-container .dcg-action-save,.dcg-calculator-api-container .save-btn-container .save-error,.dcg-calculator-api-container .save-btn-container .save-saving,.dcg-calculator-api-container .save-btn-container .save-success{-webkit-animation:.3s dcg-fadeIn;-moz-animation:.3s dcg-fadeIn;-o-animation:.3s dcg-fadeIn;-ms-animation:dcg-fadeIn 0.3s;animation:.3s dcg-fadeIn}.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-options-flex-container,.dcg-calculator-api-container .dcg-generic-options-menu .dcg-options-flex-container,.dcg-calculator-api-container .dcg-table-column-menu .dcg-options-flex-container{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;margin:5px 0 10px}.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-options-left-side,.dcg-calculator-api-container .dcg-generic-options-menu .dcg-options-left-side,.dcg-calculator-api-container .dcg-header-desktop:not(.dcg-secure-header) .align-left-container,.dcg-calculator-api-container .dcg-header-desktop:not(.dcg-secure-header) .align-right-container,.dcg-calculator-api-container .dcg-shared-account-dialog .dcg-shared-email-form-container .dcg-shared-name-container .dcg-shared-name-input,.dcg-calculator-api-container .dcg-shared-profile-info .dcg-shared-profile-info-container .dcg-shared-profile-info-content,.dcg-calculator-api-container .dcg-shared-signup-dialog .dcg-shared-account-content-container .dcg-shared-component-checkbox .dcg-shared-checkbox-children,.dcg-calculator-api-container .dcg-table-column-menu .dcg-options-left-side{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-options-menu-section,.dcg-calculator-api-container .dcg-generic-options-menu .dcg-options-menu-section,.dcg-calculator-api-container .dcg-table-column-menu .dcg-options-menu-section{padding-left:10px;padding-right:10px}.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-options-menu-section:not(:first-of-type),.dcg-calculator-api-container .dcg-generic-options-menu .dcg-options-menu-section:not(:first-of-type),.dcg-calculator-api-container .dcg-table-column-menu .dcg-options-menu-section:not(:first-of-type){border-top:1px solid #e2e2e2;padding-top:10px;margin-top:10px}.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-options-menu-section .dcg-toggle-view,.dcg-calculator-api-container .dcg-generic-options-menu .dcg-options-menu-section .dcg-toggle-view,.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex .dcg-component-checkbox,.dcg-calculator-api-container .dcg-table-column-menu .dcg-options-menu-section .dcg-toggle-view{margin-top:3px}.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-toggle .dcg-toggle-option,.dcg-calculator-api-container .dcg-generic-options-menu .dcg-toggle .dcg-toggle-option,.dcg-calculator-api-container .dcg-table-column-menu .dcg-toggle .dcg-toggle-option{width:33px;height:30px;line-height:30px;padding:0}.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-line-style-toggle .dcg-toggle-option,.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-point-style-toggle .dcg-toggle-option,.dcg-calculator-api-container .dcg-generic-options-menu .dcg-line-style-toggle .dcg-toggle-option,.dcg-calculator-api-container .dcg-generic-options-menu .dcg-point-style-toggle .dcg-toggle-option,.dcg-calculator-api-container .dcg-table-column-menu .dcg-line-style-toggle .dcg-toggle-option,.dcg-calculator-api-container .dcg-table-column-menu .dcg-point-style-toggle .dcg-toggle-option{color:#999}.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-line-style-toggle i,.dcg-calculator-api-container .dcg-generic-options-menu .dcg-line-style-toggle i,.dcg-calculator-api-container .dcg-table-column-menu .dcg-line-style-toggle i{font-size:140%;position:relative;top:3px}.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-point-style-toggle i,.dcg-calculator-api-container .dcg-generic-options-menu .dcg-point-style-toggle i,.dcg-calculator-api-container .dcg-table-column-menu .dcg-point-style-toggle i{font-size:150%;position:relative;top:2px}.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-clickable-menu-row,.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-iconed-mathquill-row,.dcg-calculator-api-container .dcg-generic-options-menu .dcg-clickable-menu-row,.dcg-calculator-api-container .dcg-generic-options-menu .dcg-iconed-mathquill-row,.dcg-calculator-api-container .dcg-table-column-menu .dcg-clickable-menu-row,.dcg-calculator-api-container .dcg-table-column-menu .dcg-iconed-mathquill-row{padding:7px 0 1px}.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-iconed-mathquill-row .dcg-font-size,.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-iconed-mathquill-row i,.dcg-calculator-api-container .dcg-generic-options-menu .dcg-iconed-mathquill-row .dcg-font-size,.dcg-calculator-api-container .dcg-generic-options-menu .dcg-iconed-mathquill-row i,.dcg-calculator-api-container .dcg-table-column-menu .dcg-iconed-mathquill-row .dcg-font-size,.dcg-calculator-api-container .dcg-table-column-menu .dcg-iconed-mathquill-row i{color:#999;margin-right:5px;cursor:pointer;width:13px;display:inline-block;position:relative;top:2px;line-height:1em}.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-iconed-mathquill-row .dcg-math-field,.dcg-calculator-api-container .dcg-generic-options-menu .dcg-iconed-mathquill-row .dcg-math-field,.dcg-calculator-api-container .dcg-table-column-menu .dcg-iconed-mathquill-row .dcg-math-field{border-bottom:1px solid rgba(0,0,0,.2);padding:1px 2px;margin:1px;min-width:42px;max-width:60px;font-size:95%}.dcg-calculator-api-container .dcg-label-orientation-view{width:78px;height:78px;display:inline-block;position:relative;-webkit-transition:-webkit-transform .1s;-moz-transition:-moz-transform .1s;-o-transition:-o-transform .1s;-ms-transition:-ms-transform .1s;transition:transform .1s}.dcg-calculator-api-container .dcg-label-orientation-view .dcg-orientation-option{display:inline-block;width:26px;height:26px;line-height:26px;text-align:center;border-radius:50%;color:#bbb}.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-above-left,.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-above-right,.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-below-left,.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-below-right{color:#e2e2e2}.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-below-right{position:absolute;bottom:0;right:0;-webkit-transform:rotate(225deg);-moz-transform:rotate(225deg);-o-transform:rotate(225deg);-ms-transform:rotate(225deg);transform:rotate(225deg)}.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-below-left{position:absolute;bottom:0;left:0;-webkit-transform:rotate(315deg);-moz-transform:rotate(315deg);-o-transform:rotate(315deg);-ms-transform:rotate(315deg);transform:rotate(315deg)}.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-above-right{position:absolute;top:0;right:0;-webkit-transform:rotate(135deg);-moz-transform:rotate(135deg);-o-transform:rotate(135deg);-ms-transform:rotate(135deg);transform:rotate(135deg)}.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-above-left{position:absolute;top:0;left:0;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-left{position:absolute;top:26px;left:0}.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-right{position:absolute;top:26px;right:0;-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-o-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-above{position:absolute;top:0;left:26px;-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-o-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-below{position:absolute;bottom:0;left:26px;-webkit-transform:rotate(270deg);-moz-transform:rotate(270deg);-o-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-center{position:absolute;top:26px;left:26px;font-size:200%}.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-center:after{content:"";width:12px;height:12px;border-radius:50%;position:absolute;top:50%;left:50%;background:currentColor;margin-top:-6px;margin-left:-6px;-webkit-box-shadow:0 0 2px rgba(0,0,0,.2);box-shadow:0 0 2px rgba(0,0,0,.2)}.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-center.dcg-orientation-disabled:not(.dcg-selected):after{background:#fff;width:10px;height:10px;margin-top:-5px;margin-left:-5px;-webkit-box-shadow:0 0 2px rgba(0,0,0,.2),inset 0 0 0 1px rgba(0,0,0,.15);box-shadow:0 0 2px rgba(0,0,0,.2),inset 0 0 0 1px rgba(0,0,0,.15)}.dcg-calculator-api-container .dcg-label-orientation-view .dcg-vertical-orientation-indicator{width:0;height:0;border:4px solid transparent;border-bottom:15px solid #ddd;position:absolute;top:50%;left:50%;margin-top:-19px;margin-left:-4px}.dcg-calculator-api-container .dcg-label-orientation-view .dcg-vertical-orientation-indicator:after{content:"";width:0;height:0;border:4px solid transparent;border-top:15px solid #ddd;position:absolute;top:50%;left:50%;margin-top:15px;margin-left:-4px}.dcg-calculator-api-container .dcg-expression-search-bar{padding:5px;background:#d8d8d8;position:relative}.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar.dcg-expressions-scrolled,.dcg-calculator-api-container .dcg-expression-search-bar.dcg-expressions-scrolled,.dcg-calculator-api-container .dcg-ticker.dcg-expressions-scrolled{-webkit-box-shadow:-2px 2px 4px rgba(0,0,0,.15);box-shadow:-2px 2px 4px rgba(0,0,0,.15);z-index:4}.dcg-calculator-api-container .dcg-expression-search-bar .dcg-replace-mathquill-container,.dcg-calculator-api-container .dcg-expression-search-bar .dcg-search-mathquill-container{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;position:relative;overflow:hidden}.dcg-calculator-api-container .dcg-expression-search-bar .dcg-replace-mathquill-container{padding-left:25px}.dcg-calculator-api-container .dcg-expression-search-bar .dcg-replace-placeholder,.dcg-calculator-api-container .dcg-expression-search-bar .dcg-search-placeholder{opacity:.3;position:absolute;top:50%;left:35px;margin-top:-.5em;pointer-events:none}.dcg-calculator-api-container .dcg-expression-search-bar .dcg-math-field{padding:6px 30px 6px 6px;margin:1px;border-radius:8px;background:#fff;width:100%;font-size:100%;color:#888;border:1px solid #bbb}.dcg-calculator-api-container .dcg-expression-search-bar .dcg-math-field.dcg-hovered{color:#444;border:2px solid #999;margin:0}.dcg-calculator-api-container .dcg-expression-search-bar .dcg-math-field.dcg-mq-focused{color:#000;border:2px solid #2f72dc;margin:0}.dcg-calculator-api-container .dcg-expression-search-bar .dcg-search-mathquill-container .dcg-math-field{padding-left:30px}.dcg-calculator-api-container .dcg-expression-search-bar .dcg-caret-container{font-size:95%;width:25px;padding-left:5px;color:#999;text-align:left}.dcg-calculator-api-container .dcg-expression-search-bar .dcg-caret-container i,.dcg-calculator-api-container .dcg-expressionitem .dcg-caret-container i{-webkit-transition:.2s;-moz-transition:.2s;-o-transition:.2s;-ms-transition:.2s;transition:.2s;width:16px;height:16px}.dcg-calculator-api-container .dcg-expression-search-bar .dcg-caret-container.dcg-hovered,.dcg-calculator-api-container .dcg-expressionitem .dcg-caret-container.dcg-hovered{color:#666;cursor:pointer}.dcg-calculator-api-container .dcg-expression-search-bar .dcg-caret-container.dcg-collapsed i,.dcg-calculator-api-container .dcg-expressionitem.dcg-collapsed .dcg-caret-container i{display:inline-block;-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg)}.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-remove,.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-replace,.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-search,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-ghost svg{opacity:.2}.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-remove,.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-replace{font-size:90%;padding:10px 7px 10px 12px}.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-search{pointer-events:none;left:5px;position:absolute;top:50%;right:5px;height:20px;line-height:20px;margin-top:-15px;padding:5px}.dcg-calculator-api-container .dcg-expression-search-bar .dcg-search-replace-icon-container{position:absolute;top:50%;right:5px;margin-top:-9px;font-size:110%}.dcg-calculator-api-container .dcg-expression-search-bar .dcg-search-replace-icon-container .dcg-tooltipped-error{position:relative;top:-1px;left:-2px}.dcg-calculator-api-container .dcg-expression-search-bar .dcg-search-replace-icon-container .dcg-icon-check{color:#2f72dc;margin-right:5px}.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar{border-right:1px solid rgba(0,0,0,.2);height:46px;border-bottom:1px solid rgba(0,0,0,.2);line-height:37px;width:100%;-webkit-transition:box-shadow .2s;-moz-transition:box-shadow .2s;-o-transition:box-shadow .2s;-ms-transition:box-shadow .2s;transition:box-shadow .2s;padding:5px;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;background:-webkit-linear-gradient(#fcfcfc,#eaeaea);background:-moz-linear-gradient(#fcfcfc,#eaeaea);background:-o-linear-gradient(#fcfcfc,#eaeaea);background:-ms-linear-gradient(#fcfcfc,#eaeaea);background:linear-gradient(#fcfcfc,#eaeaea)}.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-btn-primary,.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-btn-red{padding:0 15px;display:inline-block;height:35px;line-height:35px;position:relative;top:-1px;text-align:center}.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn{width:38px;height:38px;line-height:38px;font-size:110%;display:inline-block;border-radius:5px;text-align:center;margin:-1px}.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-rotated,.dcg-calculator-api-container .dcg-overgraph-icon.dcg-rotated{-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg)}.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-edit-domain .dcg-mq-editable-field,.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-edit-domain .dcg-mq-math-mode,.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-label-container,.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-slider_menu .dcg-mq-editable-field,.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-slider_menu .dcg-mq-math-mode,.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-content .dcg-button-icon.dcg-icon-only,.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn i.dcg-icon-redo,.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn i.dcg-icon-undo{font-size:120%}.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-center-buttons{text-align:center;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.dcg-calculator-api-container .dcg-add-expression-container{position:relative;display:inline-block;height:37px}.dcg-calculator-api-container .dcg-expressionitem .dcg-caret-container{font-size:95%;position:absolute;top:-1px;left:38px;width:32px;height:48px;color:#999;padding-left:10px;padding-top:18px;text-align:left;z-index:2}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder{cursor:pointer;color:rgba(0,0,0,.5);font-size:75%;padding:5px;margin:5px -5px -5px 15px;position:relative;z-index:1}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder .dcg-checkbox-box{display:inline-block;vertical-align:top;height:15px;width:15px;border-radius:3px;color:#2f72dc;border:1px solid #aaa;margin-right:5px}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder .dcg-checkbox-box .dcg-icon-check{position:relative;top:-1px;left:1px;text-shadow:-1px -1px 0 #fff,1px -1px 0 #fff,-1px 1px 0 #fff,1px 1px 0 #fff;display:none;font-size:110%}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-hovered .dcg-checkbox-box{border-color:#888}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-depressed .dcg-checkbox-box{border-color:#444}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-fade-container:after{-webkit-transition:0;-moz-transition:0;-o-transition:0;-ms-transition:0;transition:0}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder:not(.dcg-collapsed).dcg-has-items .dcg-fade-container:after{position:absolute;top:35px;bottom:5px;left:56px;content:'';border-left:1px solid rgba(0,0,0,.2);-webkit-animation:.3s dcg-fadeIn;-moz-animation:.3s dcg-fadeIn;-o-animation:.3s dcg-fadeIn;-ms-animation:dcg-fadeIn 0.3s;animation:.3s dcg-fadeIn}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-main .dcg-displayTextarea,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-main textarea.dcg-smart-textarea{padding-left:20px}@-webkit-keyframes dcg-fade-pulse{0%,100%{opacity:.2}50%{opacity:1;-ms-filter:none;filter:none}}@keyframes dcg-fade-pulse{0%,100%{opacity:.2}50%{opacity:1;-ms-filter:none;filter:none}}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-failed,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loading{font-size:100%;padding:1px;color:#888;font-style:italic;line-height:37px}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-retry-loading-image{color:#407bb5;text-decoration:underline}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid{font-size:80%;display:grid;grid-template-columns:min-content 2fr min-content 1fr;width:calc(100% + 20px);max-width:450px;color:rgba(0,0,0,.5)}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mathquill-wrapper .dcg-braille-input{color:rgba(0,0,0,.5);font-size:120%}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-image-input-mathquill,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-image-input-name{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-align-self:center;align-self:center;-ms-flex-item-align:center;padding-right:5px;overflow:hidden;padding-top:2px;padding-bottom:2px}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mathquill-braille,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mq-editable-field{width:100%;border-bottom:1px solid transparent;cursor:pointer;margin-bottom:1px;position:relative;top:2px;margin-right:10px}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mathquill-braille.dcg-hovered,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mq-editable-field.dcg-hovered{border-bottom:2px solid rgba(0,0,0,.2);margin-bottom:0}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mathquill-braille.dcg-focus,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mq-editable-field.dcg-focus{cursor:text;border-bottom:2px solid #2f72dc;margin-bottom:0}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mathquill-braille.dcg-invalid,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mq-editable-field.dcg-invalid{border-bottom:2px solid #e15855;margin-bottom:0}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loaded .dcg-image-title-row{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-pack:start;-moz-box-pack:start;-o-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loaded .dcg-image-title-row .dcg-smart-textarea-container{margin-bottom:8px;font-size:85%}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loaded .dcg-image-title-row .dcg-smart-textarea-container .dcg-displayTextarea,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loaded .dcg-image-title-row .dcg-smart-textarea-container textarea{padding-top:0;padding-bottom:0;margin:0 10px 0 -1px}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loaded .dcg-action-changeimage{color:rgba(0,0,0,.5);text-decoration:underline;font-size:80%}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loaded .dcg-action-changeimage.dcg-hovered,.dcg-calculator-api-container .dcg-modal-container .close-modal.dcg-hovered,.dcg-calculator-api-container .dcg-toast-view .dcg-toast i.dcg-icon-remove.dcg-hovered,.dcg-calculator-api-container .dcg-toast-view .dcg-toast i.dcg-icon-remove:focus{color:rgba(0,0,0,.6)}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loaded .dcg-action-changeimage.dcg-depressed,.dcg-calculator-api-container .dcg-user-bar .search-container .dcg-action-close-search.dcg-hovered,.dcg-calculator-api-container .dcg-user-bar .search-container .search-icon.dcg-hovered{color:rgba(0,0,0,.7)}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-selected .dcg-smart-textarea-container{margin-top:-1px;margin-bottom:9px}.dcg-calculator-api-container .dcg-options-menu-container{position:absolute;display:none;z-index:61;pointer-events:none}.dcg-calculator-api-container .dcg-options-menu-container .dcg-options-menu{pointer-events:auto}.dcg-calculator-api-container .dcg-options-menu{padding:10px;position:relative;border:1px solid #d3d3d3;border-radius:7px;-webkit-box-shadow:0 0 6px rgba(0,0,0,.15);box-shadow:0 0 6px rgba(0,0,0,.15);background:#fff}.dcg-calculator-api-container .dcg-options-menu .dcg-btn-small{font-size:80%;display:inline-block;padding:5px 8px;margin:10px auto 0}.dcg-calculator-api-container .dcg-options-menu .dcg-dividing-line-after{padding-bottom:10px;border-bottom:1px solid #e2e2e2;margin-bottom:10px}.dcg-calculator-api-container .dcg-options-menu .dcg-triangle{width:0;height:0;border-style:solid}.dcg-calculator-api-container .dcg-options-menu .dcg-triangle:before{content:"";width:0;height:0;border-style:solid}.dcg-calculator-api-container .dcg-options-menu .dcg-title,.dcg-calculator-api-container .dcg-options-menu .dcg-toggle-title{margin-bottom:5px;opacity:.65;font-weight:500}.dcg-calculator-api-container .dcg-options-menu .dcg-component-checkbox .dcg-checkbox-children{font-size:90%;color:#333}.dcg-calculator-api-container .dcg-options-menu .dcg-style-icon-container{display:inline-block;width:29px;height:29px;border-radius:50%}.dcg-calculator-api-container .dcg-options-menu .dcg-style-icon-container:not(:last-of-type){margin-right:4px}.dcg-calculator-api-container .dcg-language-picker .dcg-language-option.dcg-selected,.dcg-calculator-api-container .dcg-options-menu .dcg-style-icon-container.dcg-disabled{cursor:default!important}.dcg-calculator-api-container .dcg-options-menu .dcg-style-icon-container:not(.dcg-disabled).dcg-hovered:not(.dcg-disabled){-webkit-box-shadow:0 0 0 2px rgba(0,0,0,.1);box-shadow:0 0 0 2px rgba(0,0,0,.1)}.dcg-calculator-api-container .dcg-options-menu textarea{width:100%;height:3em;border:1px solid rgba(0,0,0,.2);border-radius:4px;font:inherit;font-size:90%;padding:5px;margin-top:5px;outline:0;position:relative;top:3px}.dcg-calculator-api-container .dcg-options-menu textarea.dcg-hovered{border:1px solid #bbb;-webkit-box-shadow:0 0 0 1px #bbb;box-shadow:0 0 0 1px #bbb}.dcg-calculator-api-container .dcg-image-options-menu{top:-10px;left:38px;width:185px}.dcg-calculator-api-container .dcg-image-options-menu .dcg-triangle{position:absolute;top:15px;left:-9px;border-width:9px 9px 9px 0;border-color:transparent #d3d3d3 transparent transparent}.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-triangle:before,.dcg-calculator-api-container .dcg-image-options-menu .dcg-triangle:before,.dcg-calculator-api-container .dcg-slider-options-view .dcg-triangle:before{position:absolute;top:-8px;left:1px;border-width:8px 8px 8px 0;border-color:transparent #fff transparent transparent}.dcg-calculator-api-container .dcg-header-desktop,.dcg-calculator-api-container .dcg-image-options-menu .dcg-opacities-menu-flex{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-pack:justify;-moz-box-pack:justify;-o-box-pack:justify;-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.dcg-calculator-api-container .dcg-image-options-menu .dcg-opacities-menu-flex .dcg-opacity-option{height:29px}.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls{border-top:1px solid #e2e2e2;margin-top:10px;padding-top:10px}.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row input{outline:0;border:1px solid #bbb;border-top:0!important;border-right:0!important;border-left:0!important;color:#000;padding:5px 0;-webkit-appearance:none;border-radius:0;font-size:95%;width:120px;margin-top:5px}.dcg-calculator-api-container .dcg-container .dcg-label-container input.dcg-hovered,.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row input.dcg-hovered{border-color:#ccc;-webkit-box-shadow:0 1px #ccc;box-shadow:0 1px #ccc}.dcg-calculator-api-container .dcg-container .dcg-label-container input:focus:not([disabled]),.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row input:focus:not([disabled]){border-color:#2f72dc;-webkit-box-shadow:0 1px #2f72dc;box-shadow:0 1px #2f72dc}.dcg-calculator-api-container .dcg-expressions-options-menu,.dcg-calculator-api-container .dcg-slider-options-view{top:-7px;left:38px}.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-triangle,.dcg-calculator-api-container .dcg-slider-options-view .dcg-triangle{position:absolute;top:12px;left:-9px;border-width:9px 9px 9px 0;border-color:transparent #d3d3d3 transparent transparent}.dcg-calculator-api-container .dcg-slider-options-view{top:-11px;left:42px}.dcg-calculator-api-container .dcg-table-column-menu{left:-9px;top:34px}.dcg-calculator-api-container .dcg-shared-profile-info .dcg-shared-name-field .dcg-shared-profile-info-container .dcg-shared-input-blue-outline,.dcg-calculator-api-container .dcg-table-column-menu .dcg-style-icons .dcg-graph-icon{margin-bottom:0}.dcg-calculator-api-container .dcg-table-column-menu .dcg-triangle{position:absolute;top:-9px;left:14px;border-width:0 9px 9px;border-color:transparent transparent #d3d3d3}.dcg-calculator-api-container .dcg-table-column-menu .dcg-triangle:before{position:absolute;top:1px;left:-8px;border-width:0 8px 8px;border-color:transparent transparent #fff}.dcg-calculator-api-container .dcg-container .dcg-editable-mode-toggle{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;padding-left:5px}.dcg-calculator-api-container .dcg-container .dcg-label-container{cursor:default;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;padding-right:5px}.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-warning-container{position:absolute;bottom:3px;right:41px;background:#fff}.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox{cursor:pointer;color:rgba(0,0,0,.5);margin-top:5px;font-size:80%;white-space:nowrap}.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox:after{content:":";opacity:0}.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox .dcg-checkbox-box{display:inline-block;vertical-align:middle;height:1em;width:1em;position:relative;top:-.1em;border-radius:3px;color:#2f72dc;border:1px solid #bbb;font-size:125%;margin-right:2px}.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox .dcg-checkbox-box .dcg-icon-check{position:absolute;top:50%;left:50%;margin-top:-.6em;margin-left:-.35em;text-shadow:-1px -1px 0 #fff,1px -1px 0 #fff,-1px 1px 0 #fff,1px 1px 0 #fff}.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox.dcg-hovered .dcg-checkbox-box:not(.dcg-checked) .dcg-icon-check{color:#ccc;visibility:visible}.dcg-calculator-api-container .dcg-container .dcg-label-container input{outline:0;border:1px solid #bbb;border-top:0!important;border-right:0!important;border-left:0!important;color:#000;padding:5px;-webkit-appearance:none;border-radius:0;min-width:5px;font-size:80%;margin:0 5px 2px;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.dcg-calculator-api-container .dcg-container .dcg-label-container input.dcg-disabled-editable-input,.dcg-calculator-api-container .dcg-toast-view:not(.dcg-visible){opacity:0;pointer-events:none}.dcg-calculator-api-container .dcg-container .dcg-label-container:not(.dcg-label-visible) input.dcg-disabled-input:not(:focus){border-bottom-color:transparent;pointer-events:none}.dcg-calculator-api-container .dcg-container .dcg-option-toggle-view .dcg-toggle-container{display:inline-block;font-size:80%}.dcg-calculator-api-container .dcg-container .dcg-option-toggle-view .dcg-toggle-container:not(:last-of-type),.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-toggle-container:not(:last-of-type){margin-right:15px}.dcg-calculator-api-container .dcg-drop-image{position:absolute;top:0;right:0;left:0;bottom:0;z-index:42;text-align:center;vertical-align:middle;background:rgba(255,255,255,.5);border:8px dashed #bbb;font-family:sans-serif;color:#bbb;font-size:370%}.dcg-calculator-api-container .dcg-drop-image span{position:absolute;bottom:0;left:0;right:0;top:0;height:3.6em;line-height:1.2em;margin:auto;padding:0 20px}.dcg-calculator-api-container .dcg-exppanel-outer{display:inline-block;overflow-x:visible;margin-left:0}.dcg-calculator-api-container .dcg-exppanel-outer .dcg-exppanel-container{width:100%;-webkit-transform:translateZ(0);position:absolute;top:0;bottom:0;-webkit-transition:-webkit-transform .25s ease-out;-moz-transition:-moz-transform .25s ease-out;-o-transition:-o-transform .25s ease-out;-ms-transition:-ms-transform .25s ease-out;transition:transform .25s ease-out;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.dcg-calculator-api-container .dcg-exppanel-outer .dcg-exppanel-container.dcg-add-shadow{-webkit-box-shadow:0 -4px 6px rgba(0,0,0,.2);box-shadow:0 -4px 6px rgba(0,0,0,.2)}.dcg-calculator-api-container .dcg-show-expressions-tab{opacity:0;-webkit-animation:.3s .4s forwards dcg-fadeIn;-moz-animation:.3s .4s forwards dcg-fadeIn;-o-animation:.3s .4s forwards dcg-fadeIn;-ms-animation:dcg-fadeIn 0.3s forwards;animation:.3s .4s forwards dcg-fadeIn;-ms-animation-delay:0.4s}.dcg-calculator-api-container .dcg-exppanel{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;overflow-x:hidden;overflow-y:auto;overflow-anchor:none;border-right:1px solid rgba(0,0,0,.2);z-index:0;-webkit-overflow-scrolling:touch}.dcg-calculator-api-container .dcg-exppanel .dcg-expressionlist{position:relative;padding-bottom:50px;min-height:100%}.dcg-calculator-api-container .dcg-narrow .dcg-exppanel-container{z-index:40}.dcg-calculator-api-container .dcg-parameter-suggestion-container{font-size:80%;position:relative;top:-9px;margin-left:2px;white-space:nowrap;width:100%;padding-right:5px;-o-text-overflow:ellipsis;text-overflow:ellipsis;overflow:hidden;color:#666;cursor:default}.dcg-calculator-api-container .dcg-parameter-suggestion-container.dcg-parameter-suggestion-braille{top:-6px}.dcg-calculator-api-container .dcg-parameter-suggestion-container .dcg-default-marker{color:rgba(0,0,0,.5);margin-left:.3em}.dcg-calculator-api-container .dcg-parameter-suggestion-container .dcg-parameter-name:not(:last-of-type):after{content:',';margin-right:5px}.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-circular-icon-container.dcg-disabled,.dcg-calculator-api-container .dcg-shared-btn-blue-outline.dcg-disabled,.dcg-calculator-api-container .dcg-shared-btn-blue.dcg-disabled,.dcg-calculator-api-container .dcg-shared-btn-gray-outline.dcg-disabled,.dcg-calculator-api-container .dcg-shared-btn-red.dcg-disabled{opacity:.5;pointer-events:none}.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-container{position:absolute;top:100%;left:-5px;right:-5px;margin-top:4px}.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener{margin-top:-2px;margin-left:1px;padding:5px;text-align:center;font-size:140%;cursor:pointer;opacity:.75}.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener:before{content:"";width:24px;height:24px;border-radius:50%;display:inline-block;position:absolute;top:50%;left:50%;margin-left:-12px;margin-top:-13px;background:currentColor;opacity:0}.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-hovered:before{opacity:.15}.dcg-calculator-api-container .dcg-slider-options-view{width:200px;padding:15px 15px 10px}.dcg-calculator-api-container .dcg-slider-options-view .dcg-title{font-size:110%}.dcg-calculator-api-container .dcg-slider-options-view .dcg-toggle{margin-bottom:20px;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;font-size:110%}.dcg-calculator-api-container .dcg-slider-options-view .dcg-toggle .dcg-toggle-option{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;color:#666;font-size:105%;height:30px;line-height:30px}.dcg-calculator-api-container .dcg-slider-options-view .dcg-toggle .dcg-toggle-option i{position:relative;top:-3px;cursor:pointer}.dcg-calculator-api-container .dcg-slider-speed-container{float:right;position:relative;top:-1px;font-size:95%}.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster,.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower{color:#666;cursor:pointer;font-size:70%;display:inline-block;width:26px;height:26px;text-align:center;line-height:26px;border:1px solid rgba(0,0,0,.2);border-radius:4px}.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster.dcg-hovered,.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower.dcg-hovered{color:#222;background:rgba(0,0,0,.05)}.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster.dcg-depressed,.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower.dcg-depressed{color:#000;background:rgba(0,0,0,.2)}.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster.dcg-disabled,.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower.dcg-disabled{opacity:.25;pointer-events:none}.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower{-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-o-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower i{top:1px}.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster i,.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower i{position:relative;left:1px}.dcg-calculator-api-container .dcg-slider-speed-container .dcg-variable-speed{width:45px;font-size:90%;display:inline-block;text-align:center}.dcg-calculator-api-container .dcg-slider-container{min-height:26px;display:block;position:relative}.dcg-calculator-api-container .dcg-slider{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;margin-left:-15px;-webkit-box-pack:center;-moz-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.dcg-calculator-api-container .dcg-smart-textarea-container{position:relative;font-size:90%}.dcg-calculator-api-container .dcg-smart-textarea-container .dcg-displayTextarea,.dcg-calculator-api-container .dcg-smart-textarea-container textarea.dcg-smart-textarea{border:0;font:inherit;resize:none;background:0 0;overflow:hidden;outline:0;color:#000;white-space:pre-wrap;word-wrap:break-word;width:100%;padding:3px;margin:-1px}.dcg-calculator-api-container .dcg-smart-textarea-container textarea.dcg-smart-textarea{opacity:0;position:absolute;top:1px;left:0;bottom:0;right:0;height:100%}.dcg-calculator-api-container .dcg-smart-textarea-container .dcg-displayTextarea:after{content:'|';opacity:0;width:0;overflow:hidden;display:inline-block;height:1px}.dcg-calculator-api-container .dcg-smart-textarea-container .dcg-displayTextarea a{z-index:1;position:relative;color:#2f72dc}.dcg-calculator-api-container .dcg-stats-footer-container,.dcg-calculator-api-container .dcg-ttest-footer-container{margin-right:$evaluation-margin;cursor:text;padding-right:5px}.dcg-calculator-api-container .dcg-stats-footer-container .dcg-value,.dcg-calculator-api-container .dcg-ttest-footer-container .dcg-value{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;margin-top:3px;border:1px solid rgba(206,206,206,.8);border-radius:4px;background:rgba(0,0,0,.04);opacity:.75}.dcg-calculator-api-container .dcg-stats-footer-container .dcg-value .dcg-row-header{display:inline-block;border-right:1px solid rgba(206,206,206,.8);margin-right:5px;width:68px;padding:5px}.dcg-calculator-api-container .dcg-stats-footer-container .dcg-value .dcg-evaluation .dcg-static-mathquill-view,.dcg-calculator-api-container .dcg-ttest-footer-container .dcg-value .dcg-evaluation .dcg-static-mathquill-view{padding:3px 6px 3px 3px}.dcg-calculator-api-container .dcg-suggested-zoom-view{position:absolute;bottom:7px;left:50%;font-size:20px;line-height:20px;margin-left:-10px;text-align:center;-webkit-animation:.3s dcg-fadeIn;-moz-animation:.3s dcg-fadeIn;-o-animation:.3s dcg-fadeIn;-ms-animation:dcg-fadeIn 0.3s;animation:.3s dcg-fadeIn}.dcg-calculator-api-container .dcg-suggested-zoom-view i{padding:5px;margin-left:-5px;opacity:.75}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-table-icon-container{position:absolute;top:50%;left:5px;margin-top:-14.5px}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-drag-icon{opacity:.4;vertical-align:middle;pointer-events:none;font-size:95%;position:absolute;top:50%;right:4px;margin-top:-10px}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-cell:not(.dcg-non-editable) .dcg-cell-math-content,.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-cell:not(.dcg-non-editable) .dcg-mathquill-braille{max-width:100px}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-table-container{overflow:hidden;padding-left:15px;padding-right:15px;position:relative}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-table-container:before{position:absolute;top:0;left:0;bottom:0;z-index:1;background:-webkit-linear-gradient(right,rgba(255,255,255,0),#fff);background:-moz-linear-gradient(right,rgba(255,255,255,0),#fff);background:-o-linear-gradient(right,rgba(255,255,255,0),#fff);background:-ms-linear-gradient(right,rgba(255,255,255,0),#fff);background:linear-gradient(to left,rgba(255,255,255,0),#fff);width:20px;content:''}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-table-container:after{position:absolute;top:0;right:0;bottom:0;background:-webkit-linear-gradient(left,rgba(255,255,255,0),#fff);background:-moz-linear-gradient(left,rgba(255,255,255,0),#fff);background:-o-linear-gradient(left,rgba(255,255,255,0),#fff);background:-ms-linear-gradient(left,rgba(255,255,255,0),#fff);background:linear-gradient(to right,rgba(255,255,255,0),#fff);width:20px;content:''}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-table-container .dcg-table-sliding-container{-webkit-transition:-webkit-transform .15s;-moz-transition:-moz-transform .15s;-o-transition:-o-transform .15s;-ms-transition:-ms-transform .15s;transition:transform .15s}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-main{padding-top:20px;padding-bottom:5px;position:relative}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-show-more-row td{border-top:1px solid #e5e5e5;text-align:center;font-size:80%;color:rgba(0,0,0,.5);padding:8px 0;font-style:italic}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-show-more-row td .dcg-show-more{color:#2f72dc;font-style:normal;text-decoration:underline;font-size:90%}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata{position:relative;display:table}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row{display:table-row}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell{display:table-cell;position:relative;text-align:center;vertical-align:middle;font-size:72%;min-height:34px;min-width:40px;cursor:text}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:not(:first-of-type) .dcg-cell{border-top:1px solid #e5e5e5;padding:7px 10px 7px 20px}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:not(:first-of-type) .dcg-cell.dcg-non-editable{padding:7px}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:not(:first-of-type).dcg-braille-row .dcg-cell{padding:7px 20px}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:nth-of-type(2) .dcg-cell{border-top:1px solid #444}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell{vertical-align:bottom;padding:7px 5px 3px}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell:not(:first-of-type):not(:last-of-type){padding:7px 15px 3px 30px}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell .dcg-math-field{min-height:29px}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell:first-of-type.dcg-error{padding-left:33px}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type.dcg-braille-row .dcg-cell:not(:first-of-type):not(:last-of-type){padding:7px 15px 3px 40px}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell .dcg-braille-input{text-align:center;min-width:40px}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell:not(:first-of-type){border-left:1px solid #e5e5e5}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell:nth-of-type(2){border-left:1px solid #444}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell:not(.dcg-non-editable):not(.dcg-selected).dcg-empty .dcg-empty-line{position:absolute;width:26px;left:50%;margin-left:-13px;border-top:1px dashed #bbb;bottom:10px}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected:not(.dcg-non-editable) .dcg-inner-border{position:absolute;left:-1px;top:-1px;bottom:-1px;right:-1px;z-index:1;pointer-events:none;border:2px solid #2f72dc}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected.dcg-non-editable{background:#f5f5f5}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected.dcg-non-editable .dcg-mathquill-braille-overflow-left .dcg-tooltip-hit-area-container:before{background:-webkit-linear-gradient(right,rgba(245,245,245,0),#f5f5f5);background:-moz-linear-gradient(right,rgba(245,245,245,0),#f5f5f5);background:-o-linear-gradient(right,rgba(245,245,245,0),#f5f5f5);background:-ms-linear-gradient(right,rgba(245,245,245,0),#f5f5f5);background:linear-gradient(to left,rgba(245,245,245,0),#f5f5f5)}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected.dcg-non-editable .dcg-mathquill-braille-overflow-right .dcg-tooltip-hit-area-container:after{background:-webkit-linear-gradient(left,rgba(245,245,245,0),#f5f5f5);background:-moz-linear-gradient(left,rgba(245,245,245,0),#f5f5f5);background:-o-linear-gradient(left,rgba(245,245,245,0),#f5f5f5);background:-ms-linear-gradient(left,rgba(245,245,245,0),#f5f5f5);background:linear-gradient(to right,rgba(245,245,245,0),#f5f5f5)}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell .dcg-table-icon-error-container{position:absolute;top:50%;left:4px;margin-top:-7px}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header{font-size:85%;min-height:37px}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header .dcg-mathquill-braille{min-height:30px;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata:not(.dcg-focus-in-right-column):after{content:'';position:absolute;top:0;bottom:0;right:0;background:-webkit-linear-gradient(right,#fff,rgba(255,255,255,0));background:-moz-linear-gradient(right,#fff,rgba(255,255,255,0));background:-o-linear-gradient(right,#fff,rgba(255,255,255,0));background:-ms-linear-gradient(right,#fff,rgba(255,255,255,0));background:linear-gradient(to left,#fff,rgba(255,255,255,0));width:60px;pointer-events:none}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata:not(.dcg-focus-in-bottom-row):before{content:'';position:absolute;bottom:0;left:0;right:0;height:30px;pointer-events:none;background:-webkit-linear-gradient(bottom,#fff,rgba(255,255,255,0));background:-moz-linear-gradient(bottom,#fff,rgba(255,255,255,0));background:-o-linear-gradient(bottom,#fff,rgba(255,255,255,0));background:-ms-linear-gradient(bottom,#fff,rgba(255,255,255,0));background:linear-gradient(to top,#fff,rgba(255,255,255,0));z-index:1}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable:not(.dcg-selected) .dcg-tabledata .dcg-row:last-of-type .dcg-cell{border-color:transparent}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable:not(.dcg-selected) .dcg-tabledata .dcg-row .dcg-cell:last-of-type{border-color:transparent;visibility:hidden}.dcg-calculator-api-container .dcg-ticker{padding:5px;position:relative;background:#eee;border-bottom:1px solid rgba(0,0,0,.2);border-right:1px solid rgba(0,0,0,.2);overflow:hidden}.dcg-calculator-api-container .dcg-ticker .dcg-icon-remove{position:absolute;top:0;right:0;opacity:.2;font-size:115%;padding:10px 7px 10px 12px}.dcg-calculator-api-container .dcg-ticker .dcg-mini-play-pause{-webkit-transform:scale(.5);-moz-transform:scale(.5);-o-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:bottom right;-moz-transform-origin:bottom right;-o-transform-origin:bottom right;-ms-transform-origin:bottom right;transform-origin:bottom right;position:absolute;bottom:-5px;right:-4px;background:#eee;border-radius:50%;border:1px solid #eee}.dcg-calculator-api-container .dcg-ticker .dcg-icon-metronome-2{font-size:130%;position:relative;left:1px}.dcg-calculator-api-container .dcg-ticker .dcg-metronome-bar{width:2px;height:24px;-webkit-transform:scale(.5) rotate(-20deg);-moz-transform:scale(.5) rotate(-20deg);-o-transform:scale(.5) rotate(-20deg);-ms-transform:scale(.5) rotate(-20deg);transform:scale(.5) rotate(-20deg);-webkit-transform-origin:bottom center;-moz-transform-origin:bottom center;-o-transform-origin:bottom center;-ms-transform-origin:bottom center;transform-origin:bottom center;background:#777;border-radius:2px;position:absolute;bottom:10px;left:50%;-webkit-box-shadow:0 0 0 1px #eee;box-shadow:0 0 0 1px #eee}.dcg-calculator-api-container .dcg-ticker .dcg-metronome-bar.dcg-metronome-playing{-webkit-animation:.5s ease-in-out infinite dcg-tick-metronome;-moz-animation:.5s ease-in-out infinite dcg-tick-metronome;-o-animation:.5s ease-in-out infinite dcg-tick-metronome;-ms-animation:dcg-tick-metronome infinite 0.5s ease-in-out;animation:.5s ease-in-out infinite dcg-tick-metronome}.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-container{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;width:calc(100% - 30px)}.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-container .dcg-circular-icon-container{font-size:65%;margin-right:10px!important;-webkit-box-ordinal-group:1;-moz-box-ordinal-group:1;-o-box-ordinal-group:1;-ms-flex-order:1;-webkit-order:1;order:1}.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-container .dcg-create-sliders{margin-top:5px;width:100%}.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-ordinal-group:2;-moz-box-ordinal-group:2;-o-box-ordinal-group:2;-ms-flex-order:2;-webkit-order:2;order:2;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;color:#666;-webkit-box-lines:multiple;-moz-box-lines:multiple;-o-box-lines:multiple;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:3px 0;overflow:hidden;font-size:95%}.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-bar-contents,.dcg-calculator-api-container .dcg-keypad-row{-webkit-box-lines:single;-moz-box-lines:single;-o-box-lines:single;-webkit-box-orient:horizontal;-moz-box-orient:horizontal;-o-box-orient:horizontal}.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-mq-container{color:#000;margin-left:4px;font-size:95%}.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-definition{max-width:100%;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:baseline;-moz-box-align:baseline;-o-box-align:baseline;-ms-flex-align:baseline;-webkit-align-items:baseline;align-items:baseline}.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-definition .dcg-mq-container{margin-right:5px;overflow:hidden;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-definition .dcg-math-field{border-bottom:1px solid rgba(0,0,0,.2);padding:1px 20px 1px 2px;margin:1px;min-width:75px;max-width:100%}.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-frequency .dcg-math-field{border-bottom:1px solid rgba(0,0,0,.2);padding:1px 2px;margin:1px;min-width:30px;max-width:90px}.dcg-calculator-api-container .dcg-ticker .dcg-ticker-toggle-help{text-decoration:none;color:#aaa;padding:10px 6px;font-size:85%;position:relative;top:1px;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}@-webkit-keyframes dcg-tick-metronome{0%,100%{-webkit-transform:scale(.5) rotate(-20deg);-moz-transform:scale(.5) rotate(-20deg);-o-transform:scale(.5) rotate(-20deg);-ms-transform:scale(.5) rotate(-20deg);transform:scale(.5) rotate(-20deg)}50%{-webkit-transform:scale(.5) rotate(20deg);-moz-transform:scale(.5) rotate(20deg);-o-transform:scale(.5) rotate(20deg);-ms-transform:scale(.5) rotate(20deg);transform:scale(.5) rotate(20deg)}}@keyframes dcg-tick-metronome{0%,100%{-webkit-transform:scale(.5) rotate(-20deg);-moz-transform:scale(.5) rotate(-20deg);-o-transform:scale(.5) rotate(-20deg);-ms-transform:scale(.5) rotate(-20deg);transform:scale(.5) rotate(-20deg)}50%{-webkit-transform:scale(.5) rotate(20deg);-moz-transform:scale(.5) rotate(20deg);-o-transform:scale(.5) rotate(20deg);-ms-transform:scale(.5) rotate(20deg);transform:scale(.5) rotate(20deg)}}.dcg-calculator-api-container .dcg-toggle-view{float:right;padding:5px;margin-top:5px;display:inline-block;width:30px;height:8px;background:#ddd;border-radius:8px;position:relative;-webkit-transition:.2s;-moz-transition:.2s;-o-transition:.2s;-ms-transition:.2s;transition:.2s}.dcg-calculator-api-container .dcg-toggle-view .dcg-toggle-switch{position:absolute;top:-4px;left:0;width:18px;height:18px;background:#f5f5f5;border-radius:50%;-webkit-transition:.2s;-moz-transition:.2s;-o-transition:.2s;-ms-transition:.2s;transition:.2s;-webkit-box-shadow:0 2px 2px rgba(0,0,0,.2),0 0 3px rgba(0,0,0,.2);box-shadow:0 2px 2px rgba(0,0,0,.2),0 0 3px rgba(0,0,0,.2)}.dcg-calculator-api-container .dcg-toggle-view:not(.dcg-toggled).dcg-hovered .dcg-toggle-switch{background:#ebebeb}.dcg-calculator-api-container .dcg-toggle-view:not(.dcg-toggled).dcg-depressed .dcg-toggle-switch{background:#e0e0e0}.dcg-calculator-api-container .dcg-toggle-view.dcg-toggled{-webkit-transition:.2s;-moz-transition:.2s;-o-transition:.2s;-ms-transition:.2s;transition:.2s}.dcg-calculator-api-container .dcg-toggle-view.dcg-toggled .dcg-toggle-switch{-webkit-transition:.2s;-moz-transition:.2s;-o-transition:.2s;-ms-transition:.2s;transition:.2s;left:12px;background:#666}.dcg-calculator-api-container .dcg-toggle-view.dcg-toggled.dcg-hovered .dcg-toggle-switch{background:#555}.dcg-calculator-api-container .dcg-toggle-view.dcg-toggled.dcg-depressed .dcg-toggle-switch,.dcg-calculator-api-container .graph-link-container .graph-link:focus,.dcg-calculator-api-container .graph-link-container.dcg-selected .graph-link{background:#444}.dcg-calculator-api-container .dcg-ttest-footer-container .dcg-value .dcg-operator .dcg-static-mathquill-view{border-right:1px solid rgba(206,206,206,.8);margin-right:5px;min-width:35px;text-align:center;padding:3px}.dcg-calculator-api-container .dcg-visualization-parameters-container{margin-bottom:5px;cursor:pointer}.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-smaller-font{font-size:85%;margin-left:2px}.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title .dcg-checkbox .dcg-checkbox-box,.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-parameter-name{font-size:105%}.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-component-checkbox{margin-top:4px}.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-toggle-container{display:inline-block;margin-bottom:5px}.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-toggle-container .dcg-toggle-option{min-width:65px}.dcg-calculator-api-container .dcg-basic-keypad .dcg-audio-keypad-column{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.dcg-calculator-api-container .dcg-basic-keypad .dcg-audio-keypad-column .dcg-keypad-btn-container{max-height:40px}.dcg-calculator-api-container .dcg-basic-keypad .dcg-playback-column .dcg-btn-playback,.dcg-calculator-api-container .dcg-basic-keypad .dcg-playback-column .dcg-key-nav-section-container{height:40px}.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-section-title{text-align:left;color:#666;line-height:40px;font-size:90%}.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-section-title .dcg-tooltip-hit-area-container i{font-size:80%;cursor:pointer;display:inline-block;padding:5px}.dcg-calculator-api-container .dcg-basic-keypad .dcg-audio-keypad-spacer{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:0.25;-ms-flex:0.25;flex:0.25}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-content{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-moz-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-content .dcg-play-icon-container,.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-content .dcg-stop-icon-container{border:2px solid #fff;border-radius:50%;width:22px;height:22px;line-height:22px;text-align:center;font-size:50%;margin-right:5px}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-content .dcg-stop-icon{background:#fff;display:inline-block;border-radius:1px;width:8px;height:8px;position:relative;top:-1px}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-content .dcg-button-icon:not(.dcg-icon-only),.dcg-calculator-api-container .dcg-keys-container.dcg-smallest-ABC .dcg-abc-audio-container .dcg-keypad-btn[dcg-command=ABC],.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-fraction{font-size:70%}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-link{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;font-size:90%}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-link .dcg-shared-dark-gray-link{text-align:right;line-height:40px;text-decoration:none}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-link .dcg-shared-dark-gray-link i{margin-right:5px;vertical-align:middle}.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-nav-section{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-nav-section .dcg-keypad-btn-container{width:40px;font-size:80%}.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-nav-section .dcg-keypad-btn-container i.dcg-icon-volume-down,.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-nav-section .dcg-keypad-btn-container i.dcg-icon-volume-up{font-size:115%}.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-nav-section .dcg-key-nav-section-title-container{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-moz-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;width:70px;padding:0 5px;font-size:90%}.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-nav-section .dcg-key-nav-section-title-container .dcg-key-nav-section-title{font-size:75%;color:#666}@media screen and (max-width:550px){.dcg-calculator-api-container .dcg-audio-keypad-spacer{max-width:20px}.dcg-calculator-api-container .dcg-audio-keypad-column .dcg-key-nav-section .dcg-key-nav-section-title-container{font-size:80%;width:60px}}@media screen and (max-width:400px){.dcg-calculator-api-container #export-image-dialog .dcg-graph-preview{width:300px;height:300px}.dcg-calculator-api-container .dcg-keypad-link i{display:none}}@media screen and (max-width:340px){.dcg-calculator-api-container .dcg-audio-keypad-column.dcg-navigation-column .dcg-key-nav-section .dcg-key-nav-section-title-container{display:none}}.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover{top:-306px;padding:0;text-align:left;position:absolute;right:8px}.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-arrow{border-top-color:#f7f7f7}.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior{height:306px!important;padding:0;width:295px}.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior .dcg-popover-header table{border-collapse:collapse;position:relative;top:1px}.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior .dcg-keypad-btn-container{width:33.3%;height:42px;float:none;margin-bottom:-5px}.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior .dcg-keypad-btn-container .dcg-keypad-btn{font-size:80%!important;white-space:nowrap}.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-section-separator{display:block;clear:both;border-bottom:1px solid #e2e2e2;margin:0 2px 4px;padding-top:4px}.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-keypad-keys-buttons,.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-keypad-keys-section{margin-bottom:-42px}.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-keypad-keys-section:last-of-type .dcg-keypad-keys-buttons{margin-bottom:7px}.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-keypad-keys-section+.dcg-keypad-keys-section{margin-top:100px}.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-section-heading{color:#666;text-transform:uppercase;font-size:75%;text-align:left;padding:5px;position:sticky;top:0;background:#fff;z-index:2}.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-section-heading a{color:#000;margin-left:5px;opacity:.5}.dcg-calculator-api-container .dcg-header .align-center-container .dcg-home-link,.dcg-calculator-api-container .dcg-header .align-center-container .dcg-practice-logo,.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-interior-buttons,.dcg-calculator-api-container .modal .access label{padding:5px}.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-option{border-bottom:1px solid rgba(0,0,0,.2);cursor:pointer;margin:4px 1px 0 3px!important;width:60px;height:38px;text-align:center;line-height:38px;padding:0}.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-option.dcg-inverse-trig .dcg-mq-supsub{line-height:0;font-size:80%;position:relative;top:-.5em;margin-right:-5px}.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover.dcg-left{top:auto;bottom:5px;right:18%;left:auto}.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover.dcg-left .dcg-arrow{top:auto}.dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-functions-popover .dcg-popover-interior{width:330px}@media screen and (max-width:415px){.dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-functions-popover.dcg-left{left:5px}.dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-functions-popover.dcg-left .dcg-popover-interior{width:calc(100% + 2px);font-size:90%}}@media screen and (max-width:375px){.dcg-calculator-api-container .dcg-calculator-api-container .dcg-keypad .dcg-functions-popover.dcg-left{left:5px}.dcg-calculator-api-container .dcg-calculator-api-container .dcg-keypad .dcg-functions-popover.dcg-left .dcg-popover-interior{width:calc(100% + 2px);font-size:95%}.dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-keypad .dcg-functions-popover.dcg-left .dcg-keypad-keys-buttons{font-size:85%}}.dcg-calculator-api-container .dcg-keypad .dcg-keys-container{position:absolute;bottom:0;z-index:60;width:100%;margin:0 auto;padding:0;-webkit-transition:opacity .3s;-moz-transition:opacity .3s;-o-transition:opacity .3s;-ms-transition:opacity .3s;transition:opacity .3s}.dcg-calculator-api-container .dcg-keypad .dcg-minimize-keypad .dcg-icon-keyboard,.dcg-calculator-api-container .dcg-keypad .dcg-show-keypad .dcg-icon-keyboard{font-size:175%;float:left;margin-right:8px}.dcg-calculator-api-container .dcg-keypad .dcg-minimize-keypad .dcg-icon-caret-down,.dcg-calculator-api-container .dcg-keypad .dcg-minimize-keypad .dcg-icon-caret-up,.dcg-calculator-api-container .dcg-keypad .dcg-show-keypad .dcg-icon-caret-down,.dcg-calculator-api-container .dcg-keypad .dcg-show-keypad .dcg-icon-caret-up{font-size:75%;line-height:2rem}.dcg-calculator-api-container .dcg-keypad .dcg-minimize-keypad-container{position:absolute;top:-2.5rem;left:-1px}.dcg-calculator-api-container .dcg-keypad .dcg-show-keypad-container{z-index:60;position:absolute;bottom:5px;left:5px;-webkit-animation:.6s dcg-fadeIn-show-keypad;-moz-animation:.6s dcg-fadeIn-show-keypad;-o-animation:.6s dcg-fadeIn-show-keypad;-ms-animation:dcg-fadeIn-show-keypad 0.6s;animation:.6s dcg-fadeIn-show-keypad}.dcg-calculator-api-container .dcg-keypad .dcg-minimize-keypad{padding:.25rem 1.25rem;border-top-left-radius:5px;border-top-right-radius:5px}.dcg-calculator-api-container .dcg-keypad .dcg-show-keypad{padding:4px 14px}.dcg-calculator-api-container .dcg-keypad .dcg-keys{position:relative;width:100%;max-width:835px;margin:auto;text-align:center;font-size:110%}.dcg-calculator-api-container .dcg-keypad .dcg-keys-background{background:#f0f0f0;border-top:1px solid rgba(0,0,0,.1);-webkit-box-shadow:0 -1px 3px 0 rgba(0,0,0,.1);box-shadow:0 -1px 3px 0 rgba(0,0,0,.1)}.dcg-calculator-api-container .dcg-keypad .dcg-keys-background .dcg-minimize-keypad{background:#f0f0f0;color:rgba(0,0,0,.7);border:1px solid rgba(0,0,0,.1);border-bottom:1px solid #f0f0f0;-webkit-box-shadow:0 -1px 3px 0 rgba(0,0,0,.1);box-shadow:0 -1px 3px 0 rgba(0,0,0,.1)}.dcg-calculator-api-container .dcg-keypad .dcg-keys-background .dcg-minimize-keypad.dcg-hovered{color:rgba(0,0,0,.9)}.dcg-calculator-api-container .dcg-narrow .dcg-keypad .dcg-functions-popover:not(.dcg-left){position:absolute;margin-left:-70px}.dcg-calculator-api-container .dcg-narrow .dcg-keypad .dcg-functions-popover.dcg-left{right:18%}@-webkit-keyframes dcg-fadeIn-show-keypad{0%,50%{-webkit-transform:translate(0,10px);-moz-transform:translate(0,10px);-o-transform:translate(0,10px);-ms-transform:translate(0,10px);transform:translate(0,10px);opacity:0}100%{-webkit-transform:translate(0,0);-moz-transform:translate(0,0);-o-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);opacity:1;-ms-filter:none;filter:none}}@keyframes dcg-fadeIn-show-keypad{0%,50%{-webkit-transform:translate(0,10px);-moz-transform:translate(0,10px);-o-transform:translate(0,10px);-ms-transform:translate(0,10px);transform:translate(0,10px);opacity:0}100%{-webkit-transform:translate(0,0);-moz-transform:translate(0,0);-o-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);opacity:1;-ms-filter:none;filter:none}}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container{height:40px;display:inline-block;position:relative;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;-ms-box-flex:1;box-flex:1;-webkit-flex-grow:1;flex-grow:1}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn{position:absolute;top:2px;left:2px;right:2px;bottom:2px;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:horizontal;-moz-box-orient:horizontal;-o-box-orient:horizontal;-webkit-flex-flow:row;-ms-flex-flow:row;flex-flow:row;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;padding:0}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn .dcg-keypad-btn-content{text-align:center;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;pointer-events:none;font-size:90%}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-sqrt-stem{width:4px;padding:0;background:0 0}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command="*"],.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=shift]{padding-top:2px}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command="-"],.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command="/"]{padding-top:1px}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=backspace],.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=left],.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=right]{font-size:110%;padding-top:2px}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=enter]{font-size:140%;padding-top:3px}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-light-on-gray{-webkit-box-shadow:inset 0 1px rgba(255,255,255,.25),inset 0 -1px rgba(0,0,0,.02);box-shadow:inset 0 1px rgba(255,255,255,.25),inset 0 -1px rgba(0,0,0,.02);background:-webkit-linear-gradient(#fff,#fafafa);background:-moz-linear-gradient(#fff,#fafafa);background:-o-linear-gradient(#fff,#fafafa);background:-ms-linear-gradient(#fff,#fafafa);background:linear-gradient(#fff,#fafafa);border:1px solid #d8d8d8;border-radius:2px}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-dark-on-gray{-webkit-box-shadow:inset 0 1px rgba(255,255,255,.1),inset 0 -1px rgba(0,0,0,.02);box-shadow:inset 0 1px rgba(255,255,255,.1),inset 0 -1px rgba(0,0,0,.02);background:-webkit-linear-gradient(rgba(0,0,0,.13),rgba(0,0,0,.16));background:-moz-linear-gradient(rgba(0,0,0,.13),rgba(0,0,0,.16));background:-o-linear-gradient(rgba(0,0,0,.13),rgba(0,0,0,.16));background:-ms-linear-gradient(rgba(0,0,0,.13),rgba(0,0,0,.16));background:linear-gradient(rgba(0,0,0,.13),rgba(0,0,0,.16));border:1px solid #bbb;border-radius:2px}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-short-blue,.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-tall-blue{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border-radius:2px;color:#fff;background:#2f72dc;border:1px solid #2964c2;-webkit-box-shadow:inset 0 1px rgba(255,255,255,.1),inset 0 -1px rgba(0,0,0,.05);box-shadow:inset 0 1px rgba(255,255,255,.1),inset 0 -1px rgba(0,0,0,.05)}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-short-blue.dcg-hovered:not(.dcg-disabled),.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-tall-blue.dcg-hovered:not(.dcg-disabled),.dcg-calculator-api-container .dcg-shared-btn-blue.dcg-hovered:not(.dcg-disabled){background:#2964c2;-webkit-transition:background .2s;-moz-transition:background .2s;-o-transition:background .2s;-ms-transition:background .2s;transition:background .2s}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-short-blue.dcg-depressed:not(.dcg-disabled),.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-tall-blue.dcg-depressed:not(.dcg-disabled),.dcg-calculator-api-container .dcg-shared-btn-blue.dcg-depressed:not(.dcg-disabled){background:#2457a8;border:1px solid #2457a8;-webkit-box-shadow:none;box-shadow:none}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-tall-blue{height:76px}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container:not(.dcg-disabled) .dcg-keypad-btn.dcg-btn-light-on-gray.dcg-hovered{background:#f5f5f5;border-color:#d8d8d8}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container:not(.dcg-disabled) .dcg-keypad-btn.dcg-btn-light-on-gray.dcg-depressed{background:#ebebeb;border-color:#cfcfcf;-webkit-box-shadow:none;box-shadow:none}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container:not(.dcg-disabled) .dcg-keypad-btn.dcg-btn-dark-on-gray.dcg-hovered{background:rgba(0,0,0,.16)}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container:not(.dcg-disabled) .dcg-keypad-btn.dcg-btn-dark-on-gray.dcg-depressed{-webkit-box-shadow:none;box-shadow:none;background:rgba(0,0,0,.19)}.dcg-calculator-api-container .dcg-inverted-colors .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-light-on-gray{-webkit-box-shadow:inset 0 -1px rgba(255,255,255,.25),inset 0 1px rgba(0,0,0,.02);box-shadow:inset 0 -1px rgba(255,255,255,.25),inset 0 1px rgba(0,0,0,.02);background:-webkit-linear-gradient(#fafafa,#fff);background:-moz-linear-gradient(#fafafa,#fff);background:-o-linear-gradient(#fafafa,#fff);background:-ms-linear-gradient(#fafafa,#fff);background:linear-gradient(#fafafa,#fff)}.dcg-calculator-api-container .dcg-inverted-colors .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-dark-on-gray{-webkit-box-shadow:inset 0 -1px rgba(255,255,255,.1),inset 0 1px rgba(0,0,0,.02);box-shadow:inset 0 -1px rgba(255,255,255,.1),inset 0 1px rgba(0,0,0,.02);background:-webkit-linear-gradient(rgba(0,0,0,.16),rgba(0,0,0,.13));background:-moz-linear-gradient(rgba(0,0,0,.16),rgba(0,0,0,.13));background:-o-linear-gradient(rgba(0,0,0,.16),rgba(0,0,0,.13));background:-ms-linear-gradient(rgba(0,0,0,.16),rgba(0,0,0,.13));background:linear-gradient(rgba(0,0,0,.16),rgba(0,0,0,.13))}.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-light-on-gray{background:rgba(255,255,255,.3);border:0}.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-light-on-gray.dcg-hovered{background:rgba(255,255,255,.25)}.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-light-on-gray.dcg-depressed,.dcg-calculator-api-container .dcg-resources-container .new-blank-graph.dcg-hovered .dcg-add-blank,.dcg-calculator-api-container .graph-link-container.dcg-hovered{background:rgba(255,255,255,.15)}.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-dark-on-gray{background:rgba(0,0,0,.15);border:0}.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-dark-on-gray.dcg-hovered{background:rgba(0,0,0,.18)}.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-dark-on-gray.dcg-depressed{background:rgba(0,0,0,.22)}.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow [dcg-command="/"] .dcg-keypad-btn-content,.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow [dcg-command="<"] .dcg-keypad-btn-content,.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow [dcg-command="<="] .dcg-keypad-btn-content,.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow [dcg-command="="] .dcg-keypad-btn-content{position:relative;left:-1px}.dcg-calculator-api-container .dcg-keypad-control-bar{height:40px;background-color:rgba(0,0,0,.07);border-left:1px solid rgba(0,0,0,.2);border-right:1px solid rgba(0,0,0,.2)}.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-bar-contents{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-align:stretch;-moz-box-align:stretch;-o-box-align:stretch;-ms-flex-align:stretch;-webkit-align-items:stretch;align-items:stretch;-webkit-flex-shrink:0;flex-shrink:0;padding-top:2px}.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-spacer{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;-ms-box-flex:1;box-flex:1;-webkit-flex-grow:1;flex-grow:1}.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-spacer-2{-webkit-box-flex:2;-moz-box-flex:2;-o-box-flex:2;-ms-box-flex:2;box-flex:2;-webkit-flex-grow:2;flex-grow:2}.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-bar,.dcg-calculator-api-container .dcg-projector-mode .dcg-basic-keypad .dcg-keypad-btn-container{height:52px}.dcg-calculator-api-container .dcg-keypad-control-btn{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;-ms-box-flex:1;box-flex:1;-webkit-flex-grow:1;flex-grow:1;min-width:40px;text-align:center;color:rgba(0,0,0,.6);font-size:87.5%}.dcg-calculator-api-container .dcg-keypad-control-btn.dcg-narrow-control-btn{max-width:80px}.dcg-calculator-api-container .dcg-keypad-control-btn.dcg-selectable-btn{padding:0 5px;height:38px;line-height:40px}.dcg-calculator-api-container .dcg-keypad-control-btn:not(.dcg-selectable-btn){height:32px;line-height:32px;margin:5px;border-radius:5px}.dcg-calculator-api-container .dcg-keypad-control-btn.dcg-disabled{color:rgba(0,0,0,.15);cursor:default}.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-hide-keypad-button.dcg-hovered,.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-inline-hide-keypad-button-inner.dcg-hovered,.dcg-calculator-api-container .dcg-keypad-control-btn:not(.dcg-disabled):not(.dcg-selectable-btn).dcg-hovered{color:rgba(0,0,0,.8);background:rgba(0,0,0,.1)}.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-hide-keypad-button.dcg-depressed,.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-inline-hide-keypad-button-inner.dcg-depressed,.dcg-calculator-api-container .dcg-keypad-control-btn:not(.dcg-disabled):not(.dcg-selectable-btn).dcg-depressed{color:#000;background:rgba(0,0,0,.18)}.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=settings] i{font-size:120%;position:relative;top:1px}.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=backspace] i,.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=redo] i,.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=undo] i{font-size:150%;position:relative;top:3px}.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=clear]{width:50px;white-space:nowrap}.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=clearall]{width:50px;line-height:inherit;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-moz-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center}.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn:after{position:absolute;bottom:0;left:0;right:0;content:"";height:0;background:rgba(47,114,220,.5)}.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-hovered:not(.dcg-selected):after{height:4px;-webkit-transition:height .2s;-moz-transition:height .2s;-o-transition:height .2s;-ms-transition:height .2s;transition:height .2s}.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-selected:after{height:4px;background:#2f72dc}.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn:first-of-type{margin-left:6px}.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-keypad-control-btn{min-width:25px}.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-keypad-control-btn[dcg-command=clear],.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-keypad-control-btn[dcg-command=clearall]{width:50px}.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn{font-size:150%;height:44px;line-height:44px}.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=clear],.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=clearall]{width:75px}.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=clearall]{line-height:20px}.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=settings] i,.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-selectable-btn{top:4px}.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=backspace] i,.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=redo] i,.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=undo] i{top:5px}.dcg-calculator-api-container .dcg-keypad-control-toggle{display:block;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;-ms-box-flex:1;box-flex:1;-webkit-flex-grow:1;flex-grow:1;line-height:24px;height:25px;margin-top:7px;cursor:pointer;color:rgba(0,0,0,.6);font-size:80%;text-transform:uppercase;background:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;width:70px;min-width:50px;margin-left:20px;margin-right:20px;position:relative;-webkit-box-shadow:inset 1px 1px 2px rgba(0,0,0,.15);box-shadow:inset 1px 1px 2px rgba(0,0,0,.15)}.dcg-calculator-api-container .dcg-keypad-control-toggle .dcg-ctrl-toggle-option{text-align:center;display:inline-block;width:50%;font-size:80%}.dcg-calculator-api-container .dcg-keypad-control-toggle .dcg-ctrl-toggle-cover{position:absolute;top:-1px;right:-1px;bottom:-1px;left:50%;border-radius:5px;border:1px solid rgba(0,0,0,.2);-webkit-transition:-webkit-transform .2s;-moz-transition:-moz-transform .2s;-o-transition:-o-transform .2s;-ms-transition:-ms-transform .2s;transition:transform .2s}.dcg-calculator-api-container .dcg-keypad-control-toggle.dcg-hovered,.dcg-calculator-api-container .dcg-keypad-control-toggle.dcg-hovered .dcg-ctrl-toggle-cover{border-color:rgba(0,0,0,.3)}.dcg-calculator-api-container .dcg-keypad-control-toggle.dcg-depressed .dcg-ctrl-toggle-cover{border-color:rgba(0,0,0,.5)}.dcg-calculator-api-container .dcg-keypad-control-toggle.dcg-toggled .dcg-ctrl-toggle-cover{-webkit-transform:translate(-100%,0);-moz-transform:translate(-100%,0);-o-transform:translate(-100%,0);-ms-transform:translate(-100%,0);transform:translate(-100%,0)}.dcg-calculator-api-container .dcg-has-background-color .dcg-keypad-control-toggle,.dcg-calculator-api-container .dcg-resources-container .dcg-sidebar-contest-submit.dcg-hovered,.dcg-calculator-api-container .dcg-resources-container .new-blank-graph.dcg-depressed .dcg-add-blank{background:rgba(255,255,255,.3)}.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-keypad-control-toggle{margin-left:5px;margin-right:5px}.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-toggle{font-size:150%;min-width:100px;margin:14px 15px 0;height:28px;line-height:26px}.dcg-calculator-api-container .dcg-basic-keypad-container{background:rgba(0,0,0,.07);border:1px solid rgba(0,0,0,.2);border-top:none}.dcg-calculator-api-container .dcg-basic-keypad{margin:0;padding:4px 3px}.dcg-calculator-api-container .dcg-basic-keypad .dcg-mq-int,.dcg-calculator-api-container .dcg-basic-keypad .dcg-mq-large-operator{font-size:70%;position:relative;top:-1px}.dcg-calculator-api-container .dcg-basic-keypad *{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-touch-callout:none}.dcg-calculator-api-container .dcg-basic-keypad .dcg-half-width-placeholder{-webkit-box-flex:0.5;-moz-box-flex:0.5;-o-box-flex:0.5;-ms-box-flex:0.5;box-flex:0.5;-webkit-flex-grow:0.5;flex-grow:0.5}.dcg-calculator-api-container .dcg-basic-keypad .dcg-partition-placeholder{width:4%}.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-basic-keypad .dcg-keypad-row .dcg-keypad-btn-container{height:46px}.dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow .dcg-basic-keypad .dcg-keypad-row .dcg-keypad-btn-container{height:44px}@media screen and (max-width:470px){.dcg-calculator-api-container .dcg-projector-mode .dcg-sci-func-keypad .dcg-basic-keypad{font-size:115%}}@media screen and (max-width:330px){.dcg-calculator-api-container .dcg-calculator-api-container .dcg-either-or-btn{font-size:85%;white-space:nowrap}.dcg-calculator-api-container .dcg-calculator-api-container .dcg-projector-mode .dcg-basic-keypad{font-size:125%}.dcg-calculator-api-container .dcg-calculator-api-container .dcg-projector-mode .dcg-sci-func-keypad .dcg-basic-keypad{font-size:90%}.dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow .dcg-basic-keypad .dcg-keypad-row{font-size:70%}}.dcg-calculator-api-container .dcg-keypad-row{padding:0;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-align:stretch;-moz-box-align:stretch;-o-box-align:stretch;-ms-flex-align:stretch;-webkit-align-items:stretch;align-items:stretch;margin:0}.dcg-calculator-api-container .dcg-keypad-row .dcg-abc-audio-container{-webkit-box-flex:2;-moz-box-flex:2;-o-box-flex:2;-ms-box-flex:2;box-flex:2;-webkit-flex-grow:2;flex-grow:2;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex}.dcg-calculator-api-container .dcg-selectable-input-container .dcg-copy-button{position:absolute;top:0;right:0;width:60px;text-align:center;line-height:36px;background:#2f72dc;border-top-right-radius:6px;border-bottom-right-radius:5px;font-size:90%;color:#fff}.dcg-calculator-api-container .dcg-selectable-input-container .dcg-copy-button i{font-size:135%;position:relative;top:2px}.dcg-calculator-api-container .dcg-selectable-input-container .dcg-permalink{display:block;width:100%;height:36px;line-height:36px;padding-left:10px;padding-right:70px;font-size:87%;border-radius:6px;border:1px solid rgba(0,0,0,.2)}.dcg-calculator-api-container .dcg-selectable-input-container .dcg-permalink::-ms-clear{display:none}.dcg-calculator-api-container .dcg-selectable-input-container .dcg-permalink:focus{outline:0;border-color:#2f72dc;-webkit-box-shadow:inset 0 0 0 1px #2f72dc;box-shadow:inset 0 0 0 1px #2f72dc}@media screen{.dcg-calculator-api-container body{position:fixed;top:0;bottom:0;left:0;right:0}}.dcg-calculator-api-container body,html{margin:0;padding:0;font-family:Arial,sans-serif;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.dcg-calculator-api-container body{overflow:hidden;background:#fff;-ms-content-zooming:none;content-zooming:none;-ms-touch-action:none;touch-action:none}.dcg-calculator-api-container .dcg-sliding-interior{background-color:#fff}.dcg-calculator-api-container ::-webkit-input-placeholder{color:rgba(0,0,0,.47);opacity:1;-ms-filter:none;filter:none}.dcg-calculator-api-container ::-moz-placeholder{color:rgba(0,0,0,.47);opacity:1;-ms-filter:none;filter:none}.dcg-calculator-api-container :-moz-placeholder{color:rgba(0,0,0,.47);opacity:1;-ms-filter:none;filter:none}.dcg-calculator-api-container :-ms-input-placeholder{color:rgba(0,0,0,.47);opacity:1;-ms-filter:none;filter:none}.dcg-calculator-api-container input:focus:not([disabled])::-webkit-input-placeholder,.dcg-calculator-api-container textarea:focus:not([disabled])::-webkit-input-placeholder{color:transparent}.dcg-calculator-api-container input:focus:not([disabled])::-moz-placeholder,.dcg-calculator-api-container textarea:focus:not([disabled])::-moz-placeholder{color:transparent}.dcg-calculator-api-container input:focus:not([disabled]):-moz-placeholder,.dcg-calculator-api-container textarea:focus:not([disabled]):-moz-placeholder{color:transparent}.dcg-calculator-api-container input:focus:not([disabled]):-ms-input-placeholder,.dcg-calculator-api-container textarea:focus:not([disabled]):-ms-input-placeholder{color:transparent}.dcg-calculator-api-container .trip-block{z-index:99}@-webkit-keyframes dcg-fadeIn{0%{opacity:0}100%{opacity:1;-ms-filter:none;filter:none}}@keyframes dcg-fadeIn{0%{opacity:0}100%{opacity:1;-ms-filter:none;filter:none}}.dcg-calculator-api-container .dcg-settings-view-container .dcg-settings-container{position:absolute;top:2px;right:38px;line-height:1em}.dcg-calculator-api-container .dcg-settings-container{bottom:auto;z-index:61;width:290px}.dcg-calculator-api-container .dcg-settings-container .dcg-arrow{top:18px!important}.dcg-calculator-api-container .dcg-settings-container .dcg-popover-interior,.dcg-calculator-api-container .dcg-shared-options-dropdown{padding:10px}.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-selected{color:#fff;position:relative;background:rgba(0,0,0,.65)!important;border-color:rgba(0,0,0,.62)!important}.dcg-calculator-api-container .dcg-settings-container .dcg-visual-settings{padding-bottom:10px;border-bottom:1px solid #ddd}.dcg-calculator-api-container .dcg-settings-container .dcg-visual-settings .dcg-action-projectormode{width:100%;padding:8px;margin-bottom:10px}.dcg-calculator-api-container .dcg-settings-container .dcg-minor-checkbox,.dcg-calculator-api-container .dcg-settings-container .dcg-step-label{font-size:85%;color:#444}.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;padding-top:10px}.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex .dcg-grid-settings{min-width:110px}.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex .dcg-grid-settings .dcg-component-checkbox{margin-bottom:2px}.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex .dcg-top-checkboxes-container .dcg-component-checkbox{margin-bottom:3px}.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex .dcg-top-checkboxes-container .dcg-action-zoom-square{float:left;clear:left;font-size:80%;margin:3px 0 8px;padding:3px 10px;line-height:1.5em}.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container{border-top:1px solid #ddd;margin-top:10px}.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title{font-size:95%;height:1.5em;line-height:2em;margin-bottom:2px;margin-top:10px}.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title .dcg-checkbox{line-height:2em;color:#444;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;cursor:pointer;white-space:nowrap}.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title .dcg-axis-label{width:55%;outline:0;float:right;border-radius:5px;color:#444;padding:7px;font-size:90%;-webkit-appearance:none;border:1px solid rgba(0,0,0,.42)}.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title .dcg-axis-label.dcg-hovered:not([disabled]){border-color:rgba(0,0,0,.42);-webkit-box-shadow:0 0 0 1px rgba(0,0,0,.42);box-shadow:0 0 0 1px rgba(0,0,0,.42)}.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title .dcg-axis-label:focus:not([disabled]){border-color:$selected-expr-color;-webkit-box-shadow:0 0 0 1px $selected-expr-color;box-shadow:0 0 0 1px $selected-expr-color}.dcg-calculator-api-container .dcg-settings-container .dcg-radiangroup{border-top:1px solid #ddd;padding-top:10px;width:100%}.dcg-calculator-api-container .dcg-settings-container .dcg-displaysizegroup{padding-top:5px;padding-bottom:10px;width:100%}.dcg-calculator-api-container .dcg-settings-container .dcg-arrows i{font-size:26px;line-height:28px}.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon-group{margin-left:24px;margin-bottom:4px}.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon{display:inline-block;cursor:pointer;width:28px;height:28px;border-radius:14px;-webkit-box-shadow:0 0 2px rgba(0,0,0,.25) inset;box-shadow:0 0 2px rgba(0,0,0,.25) inset;background-color:#f9f9f9;-webkit-background-size:contain;-moz-background-size:contain;background-size:contain;background-position:center center;background-repeat:no-repeat;color:#777}.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-active{background-color:rgba(0,0,0,.65);color:rgba(255,255,255,.9);cursor:default}.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon:not(.dcg-active).dcg-hovered{-webkit-box-shadow:inset 0 0 0 2px rgba(0,0,0,.15);box-shadow:inset 0 0 0 2px rgba(0,0,0,.15)}.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon:not(.dcg-active).dcg-depressed{-webkit-box-shadow:inset 0 0 0 2px rgba(0,0,0,.25);box-shadow:inset 0 0 0 2px rgba(0,0,0,.25)}.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-cartesian,.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-polar{background-position:center center;background-repeat:no-repeat;border:1px solid rgba(0,0,0,.42)}.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-cartesian.dcg-active,.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-polar.dcg-active{border:none}.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-cartesian{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAABRUlEQVR4Ae2ZJZQcURQF27vx58Sb8SJ2vD+jgzYswzqcCslW4yKDy2CXwSwz84Zuvu//XDj313mqTJnGV1QPJaIssofziOnA1VHiRGC3EM3AdSKe5J0DHehAB/73gTyrMInSPMvSidgNXAslysAeI94HbhExnHcF+rMpeFthEaV5m2UUcRi4XpToDOxnxGDgNhGzefevXyQOdKADHehAB9Ko8B6laWS5j1gO3GmUaAZ2D3E3cIOI13lXoD+bvyCwVqGF0tSyXETMBu4kStQDu404HbhexKu8+9evYgc60IEOdKAD2ahwjNJsZNlHfA3cNkpsBfYbYi9wnxFHefcXvM2cqdCP0pzJUiLWA3cDJa4F9gDxMnCTiLa880XiQAc60IEO9CrMqzCvwnwVO9CBDnSgA70K8yrsJ+FVmK9iBzrQgQ504HdiRjEpheKY1QAAAABJRU5ErkJggg==")}.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-cartesian.dcg-active{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAABO0lEQVR4Ae2ZJ1AzARBGz7v4GbyJF9h4P9FUS5d0zU+v8lQckt6LpRdD773DDzzO366j8+2bVc88c7kkG8SHEAgDcygENh2XBCDLsRdA2nHjQKvtFKhABSrwzwfSEWMdou0wGQeuHZcBIHTsIzDouH1g0XYB33wC+mPsQ7T9JsvAveOmARh37H9g3nHnwLbtfvtDokAFKlCBClQgqRiDEG3K5B9w6LhcANKOvQHqHTcP9Nou4JvPDwhMxMhAtAmTYmDbcdkAJB17CeQ6bhrosZ2eYgUqUIEKVOBvD+QsxiNEe2ZyC7w47hKAC8e+AjeO+w882O4HfJvJizEL0eaZhMCp46oAqHDsHdDtuHVgxHZ6SBSoQAUqUIE6hekUplOYnmIFKlCBClSgTmE6hX3Q6BSmp1iBClSgAhX4BgYE6hY3llM6AAAAAElFTkSuQmCC")}.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-polar{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAHs0lEQVR4Ad2bA5AsSxOFZ3Vt7rNt27Zt27Ztfw/Xtm3btm1zb/7xTlRsdMx27/T09ouY+Csvtounu1KVWZtIXdiHrESowiCMu0P2rU1uIo7CW2zl3vgBMoApnBkHwG8xFlMhXoDchrGLY+MAWJmVGB/HCZAyzMf4NRFP4TGMbRwQI8D3MFZTPS6AOYzDaBkXQPZhE8bzifgKF2AY58cEsBHGFMlwfIWWGOPILjlAzmQPxuWJeAsHsQ3j0ZICJIvhGB0T8Rc+wVhJpRICfABjB4f9FwArsBjj2+gA/eeIsXC/e/voAD/FWEGl/wpgFsMwOhWpr84FPMbn/MkyjD78xFvczNHkRODjyMVHAsniHL5niur8aCNdeIpqhaNb+WuCWAsNkQ6jKm8zG3O0juE05BsWYXTkV7owi92ubTvtuSiR4EI9nRc3In8r0JUNWm4nnXiao/x4kApcxTfMdzCHMEXWKEph/7R6t8BEC3iZWqmEhCzOpzkFmOjstDh+P/3Azezgi5DuVFXaYaK+lAovxZzu+HQ9t4WEdxL9WUA5x7oYS3k4pSE7jQUYu+nkfLnwAL/FWMI0rfQzOSnWqUEdCrTGtf8+ZvMwSzV0eHEeLtexGWOZGL4/Rq+wADmCnRj3Uo56WqcDZQNXKcUrrFOv7hzt1fBfswNjD03Zy3fg9WofTr6eTpSM3hgSYGeMYWTp58c0ciDlfFe5kpkCN4ubijYeSls1buKd5DfkYrZgdKNwWv7WNKVTA+QKvfjpnlfdKnWexMMcRTe3/mtqC3iDKeo0n5u8W8R6TemBQ03VvZ4KIHnivPpJkHdg1PHUVOFb1RVQRzsYXMjlGccD/TjRnR/GYUykclLPVzA2kJ8C4PP6Jvskjb1XKzykn7N5nFV6HsZp4US8Br+xS1L0GzX4RUbr8CK98sQvdYoDSHW97Ns+a/yOsZlDuJCxAreIu8hKhC8cSz+nuQqCPBSu0aacWvhcWs7Eo0kw5lLGZ2xpxsuzMYytfEqFKBbmJma7Ca4M6NFDElmKq6njsb4b6Mdb7M+xqrnVd2Q5GmKiNrJk0Qp3YI46cqhP+1FihZWYDxVIu/b1NWJ3sQATzSSrJP7fGIz6NJSh2sG3ya4mezHfqYZG3MNR2uLXuJC3megAfJcMgJPUy1jFG2zHuCk6wAsFax/5gcOKGkROYZGD8UmykFCaJa6tIXmeF3JGjO+okkjwB8aA6ADrYjQv/JoPOoM4lrNUc7I04QzZ2S3snwTwTXmJ3+jbNybLGTE5aXTDGTGOkRI/KBq8smzEuMp75OFTtjuDeLK+3hiqk8skjCZegOQLysuJBA8J4ttczyxnxK7xriImei8awEslj3n+BlG0hJqqu0Sgz/YArIcxHY3lXbXK7+YVSvmo+yHRAH4WdMDmIqZrwcXc4WraYYwiGwHkVPHZNc6I/YQJYh3yfeY6WhxZMQrAwRgvBbS1xxz14yR91+0YDwrgPRrZTWbzaRkxEacGaIqVGJdFACgOvMi3paa033XOIBbwFzX4EmOZrENnnVWO5ELGuaPBXXTH+MV/HVms59KHl6/J9/Ftuw9jvtugXo67PmINVkjtHadu5WPKuiP/HP+VpGp+Sx/gKRjbAtp+xqjrMYizsCTa42TdGTH2VW0Nv9mkkDoXexDypZswVvu3yQK/73muzVfs8MBzPrF3jA6rl/rNJjke5tsiSmCZTRkPMGiLr8JYG9DWBeOjtLa4msJGF0Xa4kCH1dhBdmDmpGlaQnKIniv7zSZL0yF9Ka6OYf6pB27FWE52GmrmKYzJASv9g/FjIv2iBa/wbanEVlmM8Ip6CMaXxVisJ6MA7IPxVnAQLk1TV8ARATmY9RgXRAH4HkYvf2fBRVmWhXIWfnMA/Z0FGQTKRAF4jnioXDHu1noODeFugbE70N16H6NPIkohj5UYtwU4rEcyGWM+h6ZwWD8WtAcDHdZp6hetyOZ2CXT5D5RPvZK/i3H5m2vEF6rxc/nPkDeYHxXgKeKdwwMPTfs7OTV+KHJoqshapxE/UpP/oamZ11GIKsltijl2lmeygzGEd7lagL/mYf4p1IqvqqP/sfN9gb2wJACvCnVwn4L50Hpmhji4j/U0RA597OTqYkMfWRzJu/RggeBuYhx1uJOyKUIfrXxCHxGCR+skty+HCB4V8mCo4FEV5mIsTA4eRQm/vSP+OyPO8BtZ0qYrqeUffksvgJlDb02wb4wBzDclWFcHBzDTCwHnS+NNpFpMIeCHpRU+ChECDh1EP05WZQw1YwiiPyfl0pCs8EH0MGmIM/TFZnNsSdIQZPOpQDQjJ3QaInQi51SWy6g9GDmRky/Fb/xCdthETnqpsAMZpb4jIqXClksUdiqcEjoVlm4ysTTfuUjVaCqnAfB6TDSXM9NLJkZJx/5WGCr/kVNSAaQCDzIUc3R0hHRspIR248Js+yS+5SqqJgMkl6N4mjZswbRZjZgQJaEd/UpALnfSiwLM0UoG04aVErUuTPOck5fyPYfEeiUg/LUm9uNFOrM+IA0xiV+4gpwIlyrivZYioJfyGG8wTzruRe7gJMoFX6/6P7jYk/lXozL/clnmX8/L/AuOmX9FNPMv2Wb+NeXMv+id+VflM/+XDTL+1zX+Bzz06y/bFKL/AAAAAElFTkSuQmCC")}.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-polar.dcg-active{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAHMElEQVR4AeXbA4wk+xbH8f9gbc+1bdu2bdu2bXNxbdu+s+9ac7W2dwerQffnJZPOS6fTtdPVW0k6ed/FoJBf8ZzzO6dD21hMWSgIX+HQUBAGqAxJ4BJzHZ68QF+osXESAm/HeF2TFegANFs9CYE9TMW1SQrU0WjcH5LBCZhnqQQFXoHp+oRkUOFnvJiUQItpwJkhOWwFtkxI4FOoURmSxIv4WfnCC7SxNHYMyWIZ83D8wgpUZijeDMnjOkzVfSEFHoVGK4Tk0dV43B5fYMQ+kseRuUcfW+D1mJK5CsmjTDXeCjnoYysnuNEjJuET97jEvlZVEXEfJ07EE6jMZu5UIy0/9d5xit4hg5ci3gRJ4knUqNTLpYYDmGWoJ91mHN50v3cM0wKY73XbhGBrsEVIlogo8K460OQtp1ol3z2oq13cZjTgGzV4MRSDJUMMvAAY41z923pIlNnS81KATWPd8Uu0fmNfjW4qMJ3q5TXAp9oX/hTbUBrUOiAUhHV8bozOmVsXEx3bZiDbwBi0eCsil4sWeDsm+AvcqyIsEH0NlEKz3UMIyh1rIhi6oAzXHmZjkm1C8Dk+KlSglTThcJ0NBm/oFCLQ3nlmgfetmv2Gv1Uj0p61SMiDPTViqKrWn9bWgr0LFPg2qpVlcssWfKlzyIOd/QuG2SfkYnmvggaX5R6hbc3Be/63W49hmA5tC7QT0jbMOtS5+CT3HraK90CDCzLL8h5BDRhtn+xLpBafZMvRTy0ubEugdv7CkBzJjRiY9ZuebteIlIEWCQtCpdPMAp9ZO1M//Izf9MhZ8zzUqWpD4JlosFjOtoeDY1q/L3eiaaDaBqEQ9PWAZjR7QF/3od6KIQft/IuBCxKoj1m4NIRcPIjZlrO1n8A4hygLhWN1n4FaqagMxW5IWT9k0EE1js+RMVLHPNt28AumgLmu1zXExz6Gg7l2DnnxAb7U3q4GZkXfOp+5xJJW14L9Qx509iTgFUuGYnEQgDctn2f5KpoxVT5SJuLTvEHsEGMA/ypbmPzvRwzxpDQa3Z6balrEaNDgKYdZRTUusLVL/Qa4I1eAdVSDaS4yH/uEYrE1Gi0Wgo1VkxsQrWcc4Lrch0QHEwBPapd1QJkg5g49Q/AQvgjFYhCez3xf5mgTwU82af3Numrxj9sxx5I5Ai/GLLdJ42llmSBWB96TCWJWQ9oyoRh0Uo9dskse15ufCYjrGocf9VHpdzyTLVCVOpwbgmOkcak9DQPD7Bay8COuCMVge9RpFxEQYYJ+rb/bDmmbZgkcjL+1butypMEs5+UGMefhm1AMbogqsG3jbzDeQZnfvIbvlWsVaH0p7JYJYveAtIGq8uxrVTTrFuLja5wTsex1AJ9ZJwTLm4+jfYXDfI33QlDpVNMArB/xppiKHUJ81GObkAf9NGOPTEBMeVRfN2OSX/A2mqxsaz+DMQ7xPu4LefEZzghxUQUWC3lwBEZnLtBHYJZrzADA614Fc12rU6bkHxHy4iE8EOJiPcyLWHYvBmUFxGFySSPtWZkgZnHQN+TBxXh7wYVQvj/7YHrEsg9wZdbPA9yiEQCZnFj2Ng3YPu/ezkO1XlF/ghInKHGiLvEumBmx7B1cE+sS9zYP2xR1iSMTVhqVR3ZOno31kCyHtB4hDy7HGyEu+kD+1oP9MVl5jNfMKfgj5MXjuDvExwzsFPKgu7k4LMaL+hvcHB2xnBzi4xNcEmXCxQ51KStF9GBqsVWIjyvwUUSy8BeYVFCy8ABIGagqKiDoGOJjM8zVOTrdUmv5AtKth9ESmW5diU9CMWhnKg6ISFhX9gdGW76NhPVacHRkwvoXzg3F4V68E5nyL20cpnpMdMr/PLgphIiUfyM0qwrFYT2krBhZNC3pZ8BduUWTbmaCtGtCiCyansPboXh8gldEl51d/AHSvnG5Xf2MWx3rcTMA54cQWXZeKYWtQ/HYpaDCvUY+av1bQOH+U4ggjvXRZNcFWh9lVna5D4zRjAY/G+hgndqwPl6KaX1EmEezzMe5bZlHEe5WtHnU00iMjWUeRdhvl6HRRknab8q8iqn6x7LfIgzMCh9jnMUTNDAvRtqusQ3MCAu4yjj8pndCFvCx0rgmlgXchom+hqn4Ub8ETPQzpPCksrZN9DhtiI3UYrjVF6YNodz14DkVhbUh4jRy1jcZcxxddCOnyifgPuUxGjkxWmFL+x78p6hW2GTT0BRhp0S0wuI2Ezu4Qxr8oEcMgXsCRto4bjMxfjv2AUCdu63XlkBdHe1bAKvGa8cW39B+2nDA7263i165AlVaxaleMQc0e8qvMRraCYwEVDrYR1IApvraK6ZiqHf8pRHARHdaLrGRgHhjTZZwtrfVykfK7+6zk4r4QxWJjqVkhG7vBBcZheec7SDr6Bw9XvX/OdhT8qNRJT5cVvLjeSU+4FjiI6IlP2Rb4mPKJT/oXfqj8iX9YYMS+LjGfwFgmWfRuP1uXwAAAABJRU5ErkJggg==")}.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-container,.dcg-calculator-api-container .dcg-toast-view[toast-style=error] .dcg-toast{padding-left:28px}.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-container .dcg-six-key-checkbox{-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;margin-top:10px;margin-bottom:10px}.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-container .dcg-six-key-checkbox .dcg-six-key-info{color:#999;text-decoration:none;margin-left:.5em;font-size:85%}.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-refreshable-braille-note a{text-decoration:underline;color:#2f72dc}.dcg-calculator-api-container .dcg-settings-container .dcg-interval-interior{margin:0 -6px}.dcg-calculator-api-container .dcg-settings-container .dcg-editable-mathquill-container{margin-top:15px;position:relative;white-space:nowrap}.dcg-calculator-api-container .dcg-settings-container .dcg-editable-mathquill-container .dcg-step-container{float:right;margin-bottom:10px}.dcg-calculator-api-container .dcg-settings-container .dcg-editable-mathquill-container .dcg-mathquill-wrapper .dcg-braille-input{max-width:50px;font-size:100%}.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille,.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input{position:relative;outline:0;border-bottom:1px solid rgba(0,0,0,.42);padding:2px;margin:1px;min-width:35px;font-size:95%;max-width:55px}.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille.dcg-invalid,.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille.dcg-outofbounds,.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-invalid,.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-outofbounds{border-color:#e15855}.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille.dcg-hovered:not(.dcg-focus),.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-hovered:not(.dcg-focus){border-bottom:2px solid rgba(0,0,0,.42);margin-bottom:0}.dcg-calculator-api-container .dcg-narrow .dcg-settings-container{right:35px;width:260px}.dcg-calculator-api-container .dcg-narrow .dcg-settings-container .dcg-braille-input,.dcg-calculator-api-container .dcg-narrow .dcg-settings-container .dcg-mq-editable-field.dcg-math-input{padding-left:0;padding-right:0;font-size:90%;max-width:50px}.dcg-calculator-api-container .dcg-narrow .dcg-settings-container .dcg-mathquill-braille,.dcg-calculator-api-container .dcg-narrow .dcg-settings-container .dcg-mq-editable-field.dcg-math-input{max-width:45px}.dcg-calculator-api-container .dcg-toast-view{position:absolute;top:7px;left:50px;right:50px;height:0;text-align:center;z-index:45;overflow:visible;text-shadow:none;color:#222;line-height:1em;-webkit-transition:opacity .3s;-moz-transition:opacity .3s;-o-transition:opacity .3s;-ms-transition:opacity .3s;transition:opacity .3s}.dcg-calculator-api-container .dcg-toast-view .dcg-toast{display:inline-block;padding:6px 10px;background:#fef2ad;border:1px solid #fed973;border-radius:4px;font-size:85%;-webkit-box-shadow:0 2px 6px rgba(0,0,0,.15);box-shadow:0 2px 6px rgba(0,0,0,.15);position:relative;pointer-events:auto}.dcg-calculator-api-container #create-account-dialog.save-first a.dcg-action-login,.dcg-calculator-api-container .dcg-has-background-color .dcg-new-expression-fade,.dcg-calculator-api-container .dcg-modal-container .close-modal.external-close,.dcg-calculator-api-container .dcg-mouse-over-closed-poi .dcg-tracept,.dcg-calculator-api-container .dcg-poi-label.dcg-hide-dot .dcg-pt,.dcg-calculator-api-container .dcg-toast-view .dcg-toast i.dcg-icon-error,.dcg-calculator-api-container .dcg-toast-view .dcg-toast-cover,.dcg-calculator-api-container .dcg-zoom-container .dcg-action-zoomrestore.dcg-disabled,.dcg-calculator-api-container body.resources-open .dcg-sliding-interior .save-btn-container,.dcg-calculator-api-container form.recover{display:none}.dcg-calculator-api-container .dcg-toast-view .dcg-toast a.dcg-undo{padding:8px;margin:-8px -8px -8px 0}.dcg-calculator-api-container .dcg-toast-view .dcg-toast i.dcg-icon-remove{font-size:87%;padding:8px;margin:-5px -10px -8px 2px;color:rgba(0,0,0,.3);cursor:pointer;float:right}.dcg-calculator-api-container .dcg-modal-container .close-modal.dcg-depressed,.dcg-calculator-api-container .dcg-toast-view .dcg-toast i.dcg-icon-remove.dcg-depressed,.dcg-calculator-api-container .trip-block .trip-interior .trip-close.dcg-depressed{color:rgba(0,0,0,.8)}.dcg-calculator-api-container .dcg-toast-view .dcg-toast a{margin-left:6px;text-decoration:underline;cursor:pointer;display:inline-block;color:#333;font-weight:600}.dcg-calculator-api-container .dcg-toast-view[toast-style=error] .dcg-toast i.dcg-icon-error{position:absolute;top:7px;left:10px;color:#fc944c;display:block}.dcg-calculator-api-container .dcg-toast-view[toast-style=curriculum]{position:relative;top:auto;bottom:auto;left:auto;right:auto;height:auto;z-index:29}.dcg-calculator-api-container .dcg-toast-view[toast-style=curriculum] .dcg-toast{background:#000;color:rgba(255,255,255,.9);width:100%;border:none;border-radius:0}.dcg-calculator-api-container .dcg-toast-view[toast-style=curriculum] .dcg-toast a{color:rgba(255,255,255,.9)}.dcg-calculator-api-container .dcg-toast-view[toast-style=cover]{position:absolute;top:0;left:0;right:0;padding-top:5px;height:100%;z-index:999}.dcg-calculator-api-container .dcg-toast-view[toast-style=cover] .dcg-toast-cover{position:absolute;top:0;left:0;bottom:0;right:0;opacity:.3;display:block;background-color:#000}.dcg-calculator-api-container .dcg-modal-background{position:absolute;top:0;left:0;width:100%;height:100%;z-index:100;background:#000;opacity:.7;-webkit-animation:.3s dcg-fadeIn-background;-moz-animation:.3s dcg-fadeIn-background;-o-animation:.3s dcg-fadeIn-background;-ms-animation:dcg-fadeIn-background 0.3s;animation:.3s dcg-fadeIn-background}.dcg-calculator-api-container .form_content{padding:0 10px}.dcg-calculator-api-container .form_content_interior{margin:0 auto}.dcg-calculator-api-container .dcg-shared-account-dialog .dcg-shared-account-paragraph,.dcg-calculator-api-container .dcg-shared-account-settings-dialog .dcg-shared-account-paragraph,.dcg-calculator-api-container .dcg-shared-profile-info .dcg-shared-email-field-container .dcg-shared-change-email-description,.dcg-calculator-api-container .dcg-shared-profile-info .dcg-shared-name-field,.dcg-calculator-api-container .form_content_interior .recovery-message{margin-bottom:15px}.dcg-calculator-api-container .form_content_interior .input-container .password-recovery-link{position:absolute;top:10px;right:10px}.dcg-calculator-api-container .dcg-shared-login-dialog .dcg-shared-password-container .dcg-shared-password-recovery-link .dcg-shared-action-password,.dcg-calculator-api-container .form_content_interior .input-container .password-recovery-link a{color:rgba(0,0,0,.5);font-size:95%}.dcg-calculator-api-container .dcg-modal-container .close-modal{position:absolute;top:2px;right:2px;cursor:pointer;color:rgba(0,0,0,.3);font-size:150%;padding:15px}.dcg-calculator-api-container .dcg-modal-container .close-modal:focus{color:rgba(0,0,0,.75);outline:0}.dcg-calculator-api-container .dcg-modal-container.dcg-wide-modal .modal{position:absolute;top:25px;bottom:25px;left:25px;right:25px}.dcg-calculator-api-container .dcg-modal-container:not(.dcg-wide-modal) .modal{position:absolute;top:10vh;left:50%;width:486px;margin-left:-243px;max-height:85vh;overflow:auto}.dcg-calculator-api-container .dcg-modal-container.dcg-fixed-width-height .modal{position:absolute;top:50%;left:50%;width:800px;height:500px;margin-left:-400px;margin-top:-250px}.dcg-calculator-api-container .modal{z-index:100;padding:15px 40px 25px;font-size:85%;background:#fff;border-radius:10px;-webkit-box-shadow:0 0 25px rgba(0,0,0,.5);box-shadow:0 0 25px rgba(0,0,0,.5);-webkit-animation:.3s dcg-fadeIn-modal;-moz-animation:.3s dcg-fadeIn-modal;-o-animation:.3s dcg-fadeIn-modal;-ms-animation:dcg-fadeIn-modal 0.3s;animation:.3s dcg-fadeIn-modal;color:#444}.dcg-calculator-api-container .modal a:not(.dcg-btn-primary){text-decoration:underline;cursor:pointer}.dcg-calculator-api-container .modal .dcg-cookie-notice{margin-top:20px;background:rgba(250,213,75,.5);padding:10px;border-radius:5px;border:1px solid #fad54b}.dcg-calculator-api-container .modal .dcg-btn-primary{line-height:32px}.dcg-calculator-api-container .modal .dcg-btn-primary.dcg-disabled{pointer-events:none;opacity:.4}.dcg-calculator-api-container .modal .pull-right{float:right!important}.dcg-calculator-api-container .modal label.dcg-new-copy{margin-right:10px;padding-top:8px;cursor:pointer}.dcg-calculator-api-container .modal .google_auth_unavailable{padding:20px 10px;text-align:center;color:#aaa}.dcg-calculator-api-container .modal .dcg-external-login-btn-container{padding-bottom:15px}.dcg-calculator-api-container .modal .external-login{text-align:center;margin:15px auto 0;padding:15px;width:300px;max-width:100%;font-size:110%}.dcg-calculator-api-container .modal .external-login.dcg-create-account-google-btn{width:100%;margin:25px 0}.dcg-calculator-api-container .dcg-shared-account-dialog .dcg-shared-account-content-container .dcg-shared-btn-gray-outline .dcg-shared-external-login-logo,.dcg-calculator-api-container .modal .external-login .dcg-external-login-logo{display:inline-block;width:18px;height:18px;position:relative;top:-2px;vertical-align:middle;margin-right:10px}.dcg-calculator-api-container .dcg-shared-account-dialog .dcg-shared-account-content-container .dcg-shared-btn-gray-outline .dcg-shared-external-login-logo.dcg-shared-google-icon,.dcg-calculator-api-container .modal .external-login .dcg-external-login-logo.dcg-google-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAAFlUlEQVR4Ad3aY3yjSRwH8LNt22bdRW0jm7WqtWvnU7tdpXY7V9t217ZdN2rS7VymyDK3k+SJ7sXvTZHJd/h/8BiEUCxhVpb8NBIZSBrcaO/cv4IU0GdjEHdTXy3tpo5S1i1TjYS+eUYxg+tWug4H+yyi52UpEd0+YR/EPnbkhZGoIJtb5lrUm5p/g+lAzACU/kUWYaNxYRZjvZ3vSR3GKMn7o3+pdQgWBD+TSGZd5XcSh7Ga6r7oX2wZhg8SErjcNojVUv+FRGBo3WCACAUObnHaKjYYq63pk7vWEJRwQJ+tYRz76KGXCIXR4uMMxA/CiK5yFqMQ/EUIbCQmxEr8KOyA0dhQK5FhI6H+C2QKtSvKROSpSEulaskSCi0HkTcPVmfrRyKiAEof2SRq2M/FDk0fWnqCBuqskXAKech1/fqZ8w+jHYD+j5Bd8ZbJ3CShd68FplH03HQ13C9Bz0ya07/UJogPEKDfE3KODTmv3SjEaAFUDzIbqr8RuoopL/ytz1pvB69thMpNUyOk8mC1N38iDApNL6LqziG3DWvRZzLys5UIK6nQNBIIpaWQI47qnH1o/2uEFcG3LydojNVwKwsTZeyRYtaU/0AwivjLFk7nH3mc2qchp+kHOOCkA3F3KpmGTQw0fcJFnZqEoTS8CUcjzfkXpVtXb5Y6AAc2fmz1Zh7qrrCKjeFNHYV7YXqqGTKMuhfGafm84WEwFHajIuxbMOeusibaRC5gEyP7X+NNQ35p/BgOeXJHT1sxR9ZRKNO7IVWLP+qu1D0PWbVuK+QGNn587UYcGMrtS7t1RGnQLJwWIe6U7mP/NLW+ejUSMGGnJmjHnhMFpkGhJXADxZmICpbZFKzthzIsWP2rB/AR0oOtT2Osn4I1fdCGBWv9pkoeYMt3092nYHUvHsGCdatkyAOMHEun/C9hlpG0sClY84eYU/HrGnmAkWLoAQJuHq/IxeaxdBfdU/DtfvTwS7IOc0pibBX8gL4YZ0AATKjgwnzymYsEKqmYtc/D8v0BJGmUSG0nOR/gwuIbxrSwi+DrDV/AlVVr4d/ZVkAasNxOtgImLKHqIPsbrMuWnhZtqFuwFP6VbYkCwvYmWUgati6VsR4XhnWhmdZiBxVzrBGIF6Vc2yxJoo5fHX8Od41ZRdJD/vPWwHDd23Bb3QYEeViAY733VknB3HKZK3DXV0ARi8T3Zs6p5r+hZakDD8IPt/Nglp64UeX72T8IsCMmdJ3mvPPQ228VrWSKOiDzAI/ClZ5r/EmcMINgWhzuaJlH0CL43jC1LFsTholCmdwlM0+UqhANOnF1/BlU8wkyWtkdY0p8YR3X9r2HRkIAHArw796xgChU1xnmO4KMFIptND3okQ8lNrcErRYGp1+0ckf1hdZvREF5dkQt08pfSl2W0Q0FgCVU7Gd/h/UYSTN/cQI+6l6gaYljVPrxYjVcTOe1/e+5tofbKXOPEfT/01McOpZkw7mUUayiF/v5WOe1A+8p5FjnCIlDASjGxQ4xLm1hdqF7EqwSjvyjkXgkTyNyX4qZb1fcokXV23yU7sI8LIvLKdAw7AZflCZ3tHrOcN7ChqEkH82fw2tUijEscoQLEo8+dAqCTvZfQj1cD+zdTZIFnEouCTrkV96Diq5kmYj0OkTEvmQzWcCh2FXEQp2ggV2uOUw7Ql5g2XUoW0dGcMCrNWkJoa8ctVzp/Ugzf0mCtICoGMAt44Q6a1ABLGEc0CpYSkXHgthf66u71PEFKr/EDATcTSMjqJdqI/EXMfNPV/9hVbY2hGAgUAPktHARLmgJK1oP9516CfUsbw0KDgWz8xambGoJXJ17skKB0IfrRKbkbP1PAT27SHZ1nq62FRuCUB2pCuZloKBqZFH1Vp91TZT13p0xS+IPA62Dt068QmT7/wJEM77kqBpldAAAAABJRU5ErkJggg==") center center/contain no-repeat;-webkit-background-size:contain;-moz-background-size:contain}.dcg-calculator-api-container .dcg-shared-account-dialog .dcg-shared-account-content-container .dcg-shared-btn-gray-outline .dcg-shared-external-login-logo.dcg-shared-apple-icon,.dcg-calculator-api-container .modal .external-login .dcg-external-login-logo.dcg-apple-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAMAAAC7m5rvAAAAaVBMVEX///+/v79vb28gICAwMDBAQEAAAACAgIBgYGBwcHCgoKCfn59PT0/f398QEBDPz8/v7++QkJCvr69QUFCPj49/f3+wsLD+/v7e3t4hISEBAQFhYWFBQUH///+/v79fX18wMDAgICBQUFAByTChAAAAI3RSTlP///////////////////////////////////////7+/v7+/mp1mosAAAE4SURBVHgBnNaFksMwDARQpYo2dA6X2///zAP7WAHLb6i0Y9xJaV924JysMgFgjhX4IGRTwqvMY3mZbV0ImEwYQU0WTdpgL/DYkUnrU21HJs6nxJE9ltdk1RdNFzvCUEou5dj/hIeJ25alyLavbVBmISP4xssT7iv8xmVRtvijdKQ4xi525pTHPf2VI8qoKhKBu5QpqqXNiNHpZkU46hpH0LUrEKHUhTSszHpoaz3elpOCCJIQSx+NSWFE6NN2Upe7TNuTARH0c+eEpGr3QNKtlMjc2VwBjy9n/ZiwT1QQadJHYD/0vgVSbmZhGMw8nK7BHDuY/civpLkWO25u5e/LtpkWVdh0p8DW8mtPK3rGDxZh3H5Sjlb1EwIZev++eYTg7dHTlkYAPmTkPd+9TU5eQVFRSU4WBQAA2FsrGGw/howAAAAASUVORK5CYII=") center center/contain no-repeat;-webkit-background-size:contain;-moz-background-size:contain}.dcg-calculator-api-container .modal .dcg-component-checkbox{margin-top:8px}.dcg-calculator-api-container .modal .notice-checkbox-email{color:#666;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;margin:0}.dcg-calculator-api-container .modal .notice-checkbox-email .dcg-component-checkbox{position:relative;top:-1px}.dcg-calculator-api-container .modal .terms-notice{color:#666;padding:15px 0 5px}.dcg-calculator-api-container .modal h1{color:#666;font-weight:400;padding-bottom:5px;text-align:center;margin-bottom:8px}.dcg-calculator-api-container .modal .comment{position:relative;font-style:italic;color:#888;width:327px}.dcg-calculator-api-container .modal .dcg-description{position:relative;top:-5px;margin-bottom:8px;font-style:italic;color:rgba(0,0,0,.5);line-height:1em;font-size:80%}.dcg-calculator-api-container .modal h3{color:#000;font-size:190%;font-weight:400;margin:15px 20px 15px 0}.dcg-calculator-api-container .modal input[type=email],.dcg-calculator-api-container .modal input[type=password],.dcg-calculator-api-container .modal input[type=text],.dcg-calculator-api-container .modal textarea{width:100%;margin-bottom:8px;font-size:100%;padding:7px;-webkit-box-shadow:none;box-shadow:none}.dcg-calculator-api-container .modal input:-webkit-autofill{-webkit-box-shadow:0 0 0 25px #fff inset}.dcg-calculator-api-container .modal .input{border:1px solid rgba(0,0,0,.2);border-radius:5px;padding:7px;outline:0}.dcg-calculator-api-container .modal .input:focus{outline:0;border:1px solid #2f72dc;-webkit-box-shadow:inset 0 0 0 1px #2f72dc;box-shadow:inset 0 0 0 1px #2f72dc}.dcg-calculator-api-container .modal a.dcg-depressed{color:#003566}.dcg-calculator-api-container .modal .access{margin:8px 0}.dcg-calculator-api-container .modal label>span:not(.duplicate-label){line-height:1.5em;display:block;color:#666}.dcg-calculator-api-container .modal #update-password-fields label>span{width:130px}.dcg-calculator-api-container .modal #update-password-fields input{width:220px}.dcg-calculator-api-container .modal_section{-webkit-animation:.3s dcg-fadeIn-modal-contents;-moz-animation:.3s dcg-fadeIn-modal-contents;-o-animation:.3s dcg-fadeIn-modal-contents;-ms-animation:dcg-fadeIn-modal-contents 0.3s;animation:.3s dcg-fadeIn-modal-contents}.dcg-calculator-api-container .modal_section .dcg-remembered-password{margin-top:-7px}.dcg-calculator-api-container .progress_indicator{display:inline-block;width:18px;height:18px;background:0 0}.dcg-calculator-api-container #create-account-dialog .progress_indicator{float:right;margin-right:35px}.dcg-calculator-api-container .progress_indicator.success{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABj0lEQVR4AdWQA9JbUQBGMyreWn7bth3bqhU7qdvXYW3bxvCPtYViEdH3UNs6w4tzcTj/H9xjE+TMwRHXD8kLR8dJ83Ul9JelGCa7Ld8lzx8ZI03XFNiV8SIQtkJ2iotOf5Ptm+S5w6Ok4YoMO1IebEu5ID/NQ1egGS3OumVvNhnuS3u1t0XqD+XZQ6Mk8+StSRe2JJ3sze3exkKzo/Yd+Z60TXNL9MLyxAzphfmVr+fpWKTukgRbEg6EEnZITy6gzdNQaLLXvJX1dyUDmpvCZ8GIBTuSbghOTRfoWCunDwxv014UIRi3IxCzQHxiDq3u+kKjrfqNzKK+IViuvMLHhodG7M76EYhYYbgmg/mGEr7IJnhjmyA6PosWV12xwcrKHyM6O0vQN8N8U8n+MxS3wRPdAE9kAwTHZphYpXpL1cfyB7GI6X3DUF0QwhvdCGd4HfhHpkHHKtVvqmTlrzK8p4cY3NkF0fE5cA9Pgo5VqttYwcrfTFegmWj3NYKOla/dULGU8yPQsYia9eWs/NuhAAUkxQRVFJKtAAAAAElFTkSuQmCC") center right no-repeat}.dcg-calculator-api-container .sign-in-options{height:35px;font-size:110%;margin:8px 0;text-align:right}.dcg-calculator-api-container .sign-in-options .progress_indicator{margin:-2px 59px -7px 25px;text-align:center}.dcg-calculator-api-container .sign-in-options .create-account-progress{width:85px}.dcg-calculator-api-container .sign-in-options .dcg-btn-primary{margin-left:1em}.dcg-calculator-api-container .sign-in-options a{padding:10px;margin-left:-10px;margin-right:calc(-10px + 1em)}.dcg-calculator-api-container .bg-line{height:1px;margin:15px 0;overflow:visible;text-align:center;background:rgba(0,0,0,.2)}.dcg-calculator-api-container .bg-line span,.dcg-calculator-api-container .dcg-shared-login-dialog .dcg-shared-bg-line span{position:relative;top:-.5em;padding:0 5px;line-height:1em;color:rgba(0,0,0,.5);background:#fff}.dcg-calculator-api-container .google-login-btn{padding:5px 0 10px;text-align:center;border-radius:5px}.dcg-calculator-api-container .google-login-btn .dcg-btn-light-gray{line-height:24px;font-size:120%;padding:9px 18px}.dcg-calculator-api-container .google-login-btn .dcg-btn-light-gray i{font-size:120%;position:relative;top:3px}.dcg-calculator-api-container #save-dialog .title-input{width:406px;font-size:125%;margin:5px 0}.dcg-calculator-api-container #create-account-dialog.save-first h1{font-size:1.9em}@media screen and (max-width:480px){html body .dcg-calculator-api-container .dcg-modal-container .close-modal.external-close,html.dcg-calculator-api-container body .dcg-modal-container .close-modal.external-close{display:block;z-index:100;background:rgba(255,255,255,.7)}html body .dcg-calculator-api-container .dcg-modal-container.dcg-fixed-width-height,html body .dcg-calculator-api-container .dcg-modal-container.dcg-wide-modal .modal,html body .dcg-calculator-api-container .dcg-modal-container:not(.dcg-wide-modal) .modal,html.dcg-calculator-api-container body .dcg-modal-container.dcg-fixed-width-height,html.dcg-calculator-api-container body .dcg-modal-container.dcg-wide-modal .modal,html.dcg-calculator-api-container body .dcg-modal-container:not(.dcg-wide-modal) .modal{top:0;left:0;bottom:0;right:0;margin:0;border-radius:0;width:100%;height:auto;padding:10px;overflow-y:auto;max-height:none}html body .dcg-calculator-api-container .dcg-modal-container .internal-close,html.dcg-calculator-api-container body .dcg-modal-container .internal-close{display:none}html body .dcg-calculator-api-container .dcg-modal-container .errors,html.dcg-calculator-api-container body .dcg-modal-container .errors{width:293px;margin:0 auto 10px}html body .dcg-calculator-api-container .dcg-modal-container .form_content_interior,html.dcg-calculator-api-container body .dcg-modal-container .form_content_interior{margin:0 auto;width:293px}html body .dcg-calculator-api-container .dcg-modal-container .form_content_interior label,html.dcg-calculator-api-container body .dcg-modal-container .form_content_interior label{cursor:pointer}html body .dcg-calculator-api-container .dcg-modal-container .form_content_interior input.input,html.dcg-calculator-api-container body .dcg-modal-container .form_content_interior input.input{clear:both}html body .dcg-calculator-api-container .dcg-modal-container .form_content_interior label>span,html.dcg-calculator-api-container body .dcg-modal-container .form_content_interior label>span{display:block}html body .dcg-calculator-api-container .dcg-modal-container .form_content_interior .sign-in-options .dcg-btn-primary,html.dcg-calculator-api-container body .dcg-modal-container .form_content_interior .sign-in-options .dcg-btn-primary{margin-right:0}html body .dcg-calculator-api-container .dcg-modal-container .dcg-description,html.dcg-calculator-api-container body .dcg-modal-container .dcg-description{margin-left:0}html body .dcg-calculator-api-container .dcg-modal-container .notice,html.dcg-calculator-api-container body .dcg-modal-container .notice{width:293px;margin:0 auto}html body .dcg-calculator-api-container #save-dialog .title-input,html.dcg-calculator-api-container body #save-dialog .title-input{width:100%;font-size:125%}}@media screen and (max-height:480px){html body .dcg-calculator-api-container .dcg-modal-container .close-modal.external-close,html.dcg-calculator-api-container body .dcg-modal-container .close-modal.external-close{display:block;z-index:100;background:rgba(255,255,255,.7)}html body .dcg-calculator-api-container .dcg-modal-container.dcg-fixed-width-height,html body .dcg-calculator-api-container .dcg-modal-container.dcg-wide-modal .modal,html body .dcg-calculator-api-container .dcg-modal-container:not(.dcg-wide-modal) .modal,html.dcg-calculator-api-container body .dcg-modal-container.dcg-fixed-width-height,html.dcg-calculator-api-container body .dcg-modal-container.dcg-wide-modal .modal,html.dcg-calculator-api-container body .dcg-modal-container:not(.dcg-wide-modal) .modal{top:0;left:0;bottom:0;right:0;margin:0;border-radius:0;width:100%;height:auto;padding:10px;overflow-y:auto;max-height:none}html body .dcg-calculator-api-container .dcg-modal-container .internal-close,html.dcg-calculator-api-container body .dcg-modal-container .internal-close{display:none}html body .dcg-calculator-api-container .dcg-modal-container .errors,html.dcg-calculator-api-container body .dcg-modal-container .errors{width:293px;margin:0 auto 10px}html body .dcg-calculator-api-container .dcg-modal-container .form_content_interior,html.dcg-calculator-api-container body .dcg-modal-container .form_content_interior{margin:0 auto;width:293px}html body .dcg-calculator-api-container .dcg-modal-container .form_content_interior label,html.dcg-calculator-api-container body .dcg-modal-container .form_content_interior label{cursor:pointer}html body .dcg-calculator-api-container .dcg-modal-container .form_content_interior input.input,html.dcg-calculator-api-container body .dcg-modal-container .form_content_interior input.input{clear:both}html body .dcg-calculator-api-container .dcg-modal-container .form_content_interior label>span,html.dcg-calculator-api-container body .dcg-modal-container .form_content_interior label>span{display:block}html body .dcg-calculator-api-container .dcg-modal-container .form_content_interior .sign-in-options .dcg-btn-primary,html.dcg-calculator-api-container body .dcg-modal-container .form_content_interior .sign-in-options .dcg-btn-primary{margin-right:0}html body .dcg-calculator-api-container .dcg-modal-container .dcg-description,html.dcg-calculator-api-container body .dcg-modal-container .dcg-description{margin-left:0}html body .dcg-calculator-api-container .dcg-modal-container .notice,html.dcg-calculator-api-container body .dcg-modal-container .notice{width:293px;margin:0 auto}html body .dcg-calculator-api-container #save-dialog .title-input,html.dcg-calculator-api-container body #save-dialog .title-input{width:100%;font-size:125%}}@-webkit-keyframes dcg-fadeIn-background{0%{opacity:0}100%{opacity:.7}}@keyframes dcg-fadeIn-background{0%{opacity:0}100%{opacity:.7}}@-webkit-keyframes dcg-fadeIn-modal{0%,30%{opacity:0;-webkit-transform:translate(0,-50px);-moz-transform:translate(0,-50px);-o-transform:translate(0,-50px);-ms-transform:translate(0,-50px);transform:translate(0,-50px)}100%{opacity:1;-ms-filter:none;filter:none;-webkit-transform:translate(0,0);-moz-transform:translate(0,0);-o-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0)}}@keyframes dcg-fadeIn-modal{0%,30%{opacity:0;-webkit-transform:translate(0,-50px);-moz-transform:translate(0,-50px);-o-transform:translate(0,-50px);-ms-transform:translate(0,-50px);transform:translate(0,-50px)}100%{opacity:1;-ms-filter:none;filter:none;-webkit-transform:translate(0,0);-moz-transform:translate(0,0);-o-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0)}}@-webkit-keyframes dcg-fadeIn-modal-contents{0%{opacity:0}100%{opacity:1;-ms-filter:none;filter:none}}@keyframes dcg-fadeIn-modal-contents{0%{opacity:0}100%{opacity:1;-ms-filter:none;filter:none}}.dcg-calculator-api-container .dcg-account-reminder{background:#333;padding:15px 10px;text-align:center;font-size:90%;line-height:2em;position:absolute;top:0;left:0;height:90px;width:280px}.dcg-calculator-api-container .dcg-account-reminder .dcg-create-account,.dcg-calculator-api-container .dcg-account-reminder .dcg-sign-in{padding:8px 12px;font-size:110%}.dcg-calculator-api-container .dcg-mygraphs:not(.logged-in):not(.preview-mode):not(.maintenance-mode) .dcg-scrollable{top:90px}.dcg-calculator-api-container .graph-preview{position:fixed;top:0;left:290px;width:600px;height:500px;color:#000;background:#fff;border:1px solid #fff;border-radius:5px;padding:15px;z-index:3;-webkit-animation:.4s dcg-fadeIn;-moz-animation:.4s dcg-fadeIn;-o-animation:.4s dcg-fadeIn;-ms-animation:dcg-fadeIn 0.4s;animation:.4s dcg-fadeIn}.dcg-calculator-api-container .graph-preview .active-arrow{position:absolute}.dcg-calculator-api-container .graph-preview .active-arrow .dcg-graphic{width:0;height:0;border-style:solid;border-width:20px 20px 20px 0;border-color:transparent #fff transparent transparent;position:absolute;top:-20px;left:-35px;-webkit-transform:translateZ(0);-moz-transform:translateZ(0);-o-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0)}.dcg-calculator-api-container .graph-preview .dcg-graph-preview-info h4{margin:0;padding-right:10px;font-weight:400;font-size:120%;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;color:#000;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.dcg-calculator-api-container .graph-preview .dcg-graph-preview-info .dcg-action-cancel{margin-left:auto;padding:5px;font-size:120%;color:#000;opacity:.5}.dcg-calculator-api-container .graph-preview .preview-graph-area{position:absolute;top:60px;right:15px;left:15px;bottom:15px;border:1px solid #ccc}.dcg-calculator-api-container .graph-preview .dcg-preview-calculator{position:absolute;top:0;left:0;bottom:0;right:0;opacity:0}.dcg-calculator-api-container .graph-preview .dcg-preview-calculator.dcg-visible{-webkit-transition:opacity .2s;-moz-transition:opacity .2s;-o-transition:opacity .2s;-ms-transition:opacity .2s;transition:opacity .2s;opacity:1;-ms-filter:none;filter:none}.dcg-calculator-api-container .graph-preview .screenshot-clickjack{position:absolute;top:0;left:0;bottom:0;right:-1px;background:rgba(255,255,255,.4);opacity:0}.dcg-calculator-api-container .graph-preview .screenshot-clickjack.dcg-visible{-webkit-transition:opacity .6s 0.2s;-moz-transition:opacity .6s 0.2s;-o-transition:opacity .6s 0.2s;-ms-transition:opacity .6s 0.2s;transition:opacity .6s 0.2s;opacity:1;-ms-filter:none;filter:none}.dcg-calculator-api-container .graph-preview .screenshot-clickjack .dcg-open-graph-btn{position:absolute;top:50%;left:50%;height:50px;line-height:50px;text-align:center;width:180px;margin-left:-90px;margin-top:-25px;font-size:100%}@media only screen and (max-width:950px){.dcg-calculator-api-container .dcg-resources-container .graph-preview{width:450px!important;height:400px!important}.dcg-calculator-api-container .dcg-resources-container .graph-preview h4{padding-left:5px;line-height:24px;font-weight:400;font-size:100%}}@media only screen and (max-height:550px){.dcg-calculator-api-container .dcg-resources-container .graph-preview{width:450px!important;height:400px!important}.dcg-calculator-api-container .dcg-resources-container .graph-preview h4{padding-left:5px;line-height:24px;font-weight:400;font-size:100%}}@media only screen and (max-width:750px){.dcg-calculator-api-container .dcg-resources-container .graph-preview{position:fixed;left:auto!important;right:10px!important}}.dcg-calculator-api-container .graph-link-container{font-size:80%;color:#fff;margin:0;position:relative;outline:0}.dcg-calculator-api-container .graph-link-container .graph-link{cursor:pointer;height:54px;padding:7px;outline:0;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.dcg-calculator-api-container .graph-link-container .dcg-thumb{width:40px;height:40px;background-color:#fff;border-radius:3px;-webkit-background-size:40px 40px;-moz-background-size:40px 40px;background-size:40px 40px}.dcg-calculator-api-container .graph-link-container .dcg-graph-details{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;margin:0 7px}.dcg-calculator-api-container .graph-link-container .dcg-title{max-width:100%;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;color:rgba(255,255,255,.9);font-size:110%}.dcg-calculator-api-container .graph-link-container .dcg-subtitle{color:rgba(255,255,255,.6);font-size:90%}.dcg-calculator-api-container .graph-link-container .dcg-subtitle.dcg-graph-date{max-width:100%;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.dcg-calculator-api-container .graph-link-container:not(.graph-in-progress) .dcg-graph-details{margin-right:30px;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.dcg-calculator-api-container .graph-link-container.graph-in-progress .dcg-graph-details{overflow:hidden}.dcg-calculator-api-container .graph-link-container.graph-in-progress .dcg-graph-details .dcg-save-status{-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.dcg-calculator-api-container .graph-link-container:not(.dcg-selected) .graph-link.dcg-depressed{background:#333}.dcg-calculator-api-container .graph-link-container .deleting{font-size:110%;text-align:center;line-height:54px;height:54px;-webkit-animation:.2s dcg-fadeIn;-moz-animation:.2s dcg-fadeIn;-o-animation:.2s dcg-fadeIn;-ms-animation:dcg-fadeIn 0.2s;animation:.2s dcg-fadeIn;color:#bbb}.dcg-calculator-api-container .graph-link-container .deleting .cancel-delete{display:inline-block;padding-left:5px;color:#ddd;cursor:pointer;text-decoration:underline}.dcg-calculator-api-container .graph-link-container .retry-delete{text-align:center;line-height:54px;height:54px;-webkit-animation:.2s dcg-fadeIn;-moz-animation:.2s dcg-fadeIn;-o-animation:.2s dcg-fadeIn;-ms-animation:dcg-fadeIn 0.2s;animation:.2s dcg-fadeIn}.dcg-calculator-api-container .graph-link-container .retry-delete a{text-decoration:underline;cursor:pointer;color:#ddd;line-height:40px;display:inline-block;padding:0 5px}.dcg-calculator-api-container .graph-link-container .actions{position:absolute;top:10px;right:0;font-size:120%;color:#5a5a5a}.dcg-calculator-api-container .graph-link-container .actions .dcg-icon-remove{padding:10px;cursor:pointer}.dcg-calculator-api-container .graph-link-container .actions .dcg-icon-remove.dcg-hovered{color:#b3b3b3}.dcg-calculator-api-container .graph-link-container .actions .dcg-icon-remove.dcg-depressed{color:#e6e6e6}.dcg-calculator-api-container .graph-link-container.removed-graph{text-align:center;background:#000;padding:10px}.dcg-calculator-api-container .dcg-loading-container{position:absolute;top:0;left:0;bottom:0;right:0;z-index:1}.dcg-calculator-api-container .dcg-loading-container .dcg-cancel-while-loading{color:rgba(47,114,220,.5);padding:8px 35px 8px 15px;cursor:pointer;-webkit-animation:.5s dcg-fadeIn;-moz-animation:.5s dcg-fadeIn;-o-animation:.5s dcg-fadeIn;-ms-animation:dcg-fadeIn 0.5s;animation:.5s dcg-fadeIn;position:absolute;top:50%;margin-top:10px;width:100%;text-align:center}.dcg-calculator-api-container .dcg-loading-container .dcg-cancel-while-loading.dcg-hovered{text-decoration:underline;color:rgba(47,114,220,.8)}.dcg-calculator-api-container .dcg-loading-container .dcg-graph-loading-error{text-align:center;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.dcg-calculator-api-container .dcg-loading-container .dcg-graph-loading-error .dcg-graph-loading-error-title{color:rgba(0,0,0,.5);font-size:115%}.dcg-calculator-api-container .dcg-loading-container .dcg-graph-loading-error .dcg-graph-loading-error-subtitle{margin-bottom:15px;font-size:90%}.dcg-calculator-api-container .dcg-loading-container .dcg-graph-loading-error .dcg-graph-loading-error-options{font-size:90%;white-space:nowrap}.dcg-calculator-api-container .dcg-loading-container .dcg-graph-loading-error .dcg-graph-loading-error-options .dcg-btn-medium{margin:0 8px;padding:4px 14px;line-height:28px}.dcg-calculator-api-container body.resources-open .dcg-resources-container{visibility:visible;-webkit-transition-delay:0s;-moz-transition-delay:0s;-o-transition-delay:0s;-ms-transition-delay:0s;transition-delay:0s}.dcg-calculator-api-container .dcg-mygraphs.logged-in .dcg-scrollable{top:46px}.dcg-calculator-api-container .dcg-mygraphs.preview-mode .dcg-scrollable{top:0}.dcg-calculator-api-container .dcg-mygraphs-section-title-container{height:1px;margin:20px 0 10px;overflow:visible;text-align:left;background:#333}.dcg-calculator-api-container .dcg-mygraphs-section-title-container .dcg-mygraphs-section-title{position:relative;top:calc(-.5em - 1px);line-height:1em;background:#000;text-transform:uppercase;padding:0 8px;font-size:85%;letter-spacing:.5px;color:#fff}.dcg-calculator-api-container .dcg-lost-work-link,.dcg-calculator-api-container .dcg-no-recovery-graphs{font-size:85%;color:#ddd;margin:15px 0 25px;text-align:center}.dcg-calculator-api-container .dcg-lost-work-link .dcg-spinner-dark,.dcg-calculator-api-container .dcg-no-recovery-graphs .dcg-spinner-dark{margin-bottom:-5px}.dcg-calculator-api-container .dcg-header .align-left-container .title-div .dcg-variable-title-container.dcg-action-savedialog.dcg-depressed,.dcg-calculator-api-container .dcg-header .align-left-container .title-div .dcg-variable-title-container[dcg-menu-button=graph-actions].dcg-depressed,.dcg-calculator-api-container .dcg-header .dcg-header-btn.dcg-depressed,.dcg-calculator-api-container .dcg-lost-work-link .dcg-attempt-recovery.dcg-depressed,.dcg-calculator-api-container .dcg-no-recovery-graphs .dcg-attempt-recovery.dcg-depressed{color:#ccc}.dcg-calculator-api-container .dcg-resources-container{color:#fff;visibility:hidden;-webkit-transition:visibility 0s linear .2s;-moz-transition:visibility 0s linear .2s;-o-transition:visibility 0s linear .2s;-ms-transition:visibility 0s linear .2s;transition:visibility 0s linear .2s}.dcg-calculator-api-container .dcg-resources-container .maintenance-mode{padding:10px;color:#222;font-size:85%;background:#fef2ad;text-align:center}.dcg-calculator-api-container .dcg-resources-container .maintenance-mode .dcg-btn-primary{padding:7px 12px}.dcg-calculator-api-container .dcg-resources-container .maintenance-mode a{color:inherit}.dcg-calculator-api-container .dcg-resources-container .dcg-no-recovery-graphs,.dcg-calculator-api-container .dcg-resources-container .no-matches{text-align:center;color:rgba(255,255,255,.7);font-size:90%;line-height:1.5em}.dcg-calculator-api-container .dcg-resources-container .no-matches{padding:20px}.dcg-calculator-api-container .dcg-resources-container .dcg-mygraphs-legal{text-align:center;padding-bottom:30px;font-size:75%;color:#666;position:absolute;bottom:0;left:0;right:0}.dcg-calculator-api-container .dcg-resources-container .dcg-mygraphs-legal a{color:#fff;opacity:.5;text-decoration:none;padding:10px}.dcg-calculator-api-container .dcg-resources-container .dcg-mygraphs-legal .dcg-version{margin-top:10px;margin-bottom:-20px}.dcg-calculator-api-container .dcg-resources-container .dcg-scrollable{position:absolute;bottom:0;left:0;top:0;width:280px;overflow-x:hidden;overflow-y:auto;-webkit-overflow-scrolling:touch;background:#000}.dcg-calculator-api-container .dcg-resources-container .dcg-scrollable-interior{min-height:100%;padding-bottom:70px;position:relative}.dcg-calculator-api-container .dcg-resources-container .dcg-sidebar-contest-submit{border:1px solid rgba(255,255,255,.25);background:rgba(255,255,255,.25);border-radius:5px;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;padding:8px;margin:5px;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.dcg-calculator-api-container .dcg-resources-container .dcg-sidebar-contest-submit .dcg-trophy-icon{font-size:150%;margin:0 10px 0 5px;-webkit-transition:-webkit-transform .2s;-moz-transition:-moz-transform .2s;-o-transition:-o-transform .2s;-ms-transition:-ms-transform .2s;transition:transform .2s}.dcg-calculator-api-container .dcg-resources-container .dcg-sidebar-contest-submit .dcg-contest-submit-message{font-size:95%;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.dcg-calculator-api-container .dcg-header .align-right-container .dcg-action-contest.dcg-depressed,.dcg-calculator-api-container .dcg-resources-container .dcg-sidebar-contest-submit.dcg-hovered .dcg-trophy-icon{-webkit-transform:scale(1.1,1.1);-moz-transform:scale(1.1,1.1);-o-transform:scale(1.1,1.1);-ms-transform:scale(1.1,1.1);transform:scale(1.1,1.1)}.dcg-calculator-api-container .dcg-resources-container .dcg-sidebar-contest-submit.dcg-depressed{background:rgba(255,255,255,.4)}.dcg-calculator-api-container .dcg-resources-container .new-blank-graph{cursor:pointer;padding:5px 5px 0;color:#fff;position:relative}.dcg-calculator-api-container .dcg-resources-container .new-blank-graph .new-blank-graph-inner{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;padding:6px;cursor:pointer}.dcg-calculator-api-container .dcg-resources-container .new-blank-graph .dcg-add-blank{-webkit-transition:.2s;-moz-transition:.2s;-o-transition:.2s;-ms-transition:.2s;transition:.2s;border:1px solid rgba(255,255,255,.7);border-radius:50%;width:40px;height:40px;text-align:center;line-height:40px;font-size:110%;margin-right:10px}.dcg-calculator-api-container .dcg-resources-container .new-blank-graph:focus .dcg-add-blank{background:rgba(255,255,255,.35)}.dcg-calculator-api-container .dcg-resources-container .new-blank-graph.dcg-depressed .dcg-add-blank,.dcg-calculator-api-container .dcg-resources-container .new-blank-graph.dcg-hovered .dcg-add-blank{-webkit-transform:scale(1.05,1.05);-moz-transform:scale(1.05,1.05);-o-transform:scale(1.05,1.05);-ms-transform:scale(1.05,1.05);transform:scale(1.05,1.05)}.dcg-calculator-api-container .dcg-sliding-interior{position:absolute;top:0;left:0;bottom:0;right:0;-webkit-transition:.2s;-moz-transition:.2s;-o-transition:.2s;-ms-transition:.2s;transition:.2s;z-index:1;-webkit-transform:translateZ(0);-webkit-transform:translate(0,0);-moz-transform:translate(0,0);-o-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);overflow:hidden}.dcg-calculator-api-container .dcg-fullscreen-loading-container{position:fixed;top:0;left:0;right:0;bottom:0;-webkit-animation:.3s dcg-fadeIn;-moz-animation:.3s dcg-fadeIn;-o-animation:.3s dcg-fadeIn;-ms-animation:dcg-fadeIn 0.3s;animation:.3s dcg-fadeIn;background:rgba(255,255,255,.95);z-index:10}.dcg-calculator-api-container .dcg-fullscreen-loading-container .slow-loading{position:absolute;top:50%;margin-top:25px;color:rgba(0,0,0,.2);-webkit-animation:3s dcg-delayed-fadeIn;-moz-animation:3s dcg-delayed-fadeIn;-o-animation:3s dcg-delayed-fadeIn;-ms-animation:dcg-delayed-fadeIn 3s;animation:3s dcg-delayed-fadeIn;width:100%;text-align:center;padding:0 20%}.dcg-calculator-api-container .dcg-mygraphs .pulsing-message{-webkit-animation:1.8s infinite dcg-pulse;-moz-animation:1.8s infinite dcg-pulse;-o-animation:1.8s infinite dcg-pulse;-ms-animation:dcg-pulse 1.8s infinite;animation:1.8s infinite dcg-pulse;font-size:150%;color:#888;font-weight:300;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);font-family:HelveticaNeue-Light,"Helvetica Neue Light","Helvetica Neue",Helvetica,Arial,"Lucida Grande",sans-serif}.dcg-calculator-api-container .dcg-mygraphs .dcg-show-more-graphs{text-align:center;padding:30px;font-size:90%;color:rgba(255,255,255,.8);outline:0}.dcg-calculator-api-container .dcg-mygraphs .dcg-show-more-graphs.dcg-depressed,.dcg-calculator-api-container .dcg-mygraphs .dcg-show-more-graphs.dcg-hovered,.dcg-calculator-api-container .dcg-mygraphs .dcg-show-more-graphs:focus{color:#fff;text-decoration:underline}.dcg-calculator-api-container body.resources-open .dcg-sliding-interior{-webkit-transform:translate(280px,0);-moz-transform:translate(280px,0);-o-transform:translate(280px,0);-ms-transform:translate(280px,0);transform:translate(280px,0);-webkit-box-shadow:-3px 0 14px rgba(0,0,0,.5);box-shadow:-3px 0 14px rgba(0,0,0,.5)}.dcg-calculator-api-container body.resources-open .dcg-resources-cover{display:block;background:#000;position:absolute;top:0;right:0;bottom:0;left:280px;z-index:2;cursor:pointer}@-webkit-keyframes dcg-delayed-fadeIn{0%,50%{opacity:0}100%{opacity:1;-ms-filter:none;filter:none}}@keyframes dcg-delayed-fadeIn{0%,50%{opacity:0}100%{opacity:1;-ms-filter:none;filter:none}}@-webkit-keyframes dcg-pulse{0%,100%{opacity:.1}50%{opacity:1;-ms-filter:none;filter:none}}@keyframes dcg-pulse{0%,100%{opacity:.1}50%{opacity:1;-ms-filter:none;filter:none}}.dcg-calculator-api-container .save-btn-container{--button-height:28px;height:var(--button-height);line-height:var(--button-height)}.dcg-calculator-api-container .save-btn-container .save-error{color:#e15855}.dcg-calculator-api-container .save-btn-container .save-saving{position:relative;top:3px;right:3px}.dcg-calculator-api-container .save-btn-container .dcg-action-save{display:inline-block;height:var(--button-height);line-height:var(--button-height);padding:0 15px}.dcg-calculator-api-container .save-btn-container .dcg-action-save.dcg-disabled:not(.dcg-btn-primary){padding:0 14px;border-radius:4px;border:1px solid rgba(136,136,136,.5);color:rgba(136,136,136,.5);cursor:default}.dcg-calculator-api-container .save-btn-container.dcg-divided-button .dcg-action-save{border-top-right-radius:0;border-bottom-right-radius:0}.dcg-calculator-api-container .save-btn-container.dcg-divided-button .dcg-action-save.dcg-disabled{cursor:default;color:rgba(255,255,255,.5)}.dcg-calculator-api-container .save-btn-container.dcg-divided-button .dcg-save-button-dropdown-anchor{display:inline-block;height:var(--button-height);width:var(--button-height);border-radius:0 4px 4px 0;border-left:1px solid rgba(250,250,250,.35);text-align:center;padding:0}.dcg-calculator-api-container .save-btn-container.dcg-divided-button .dcg-save-button-dropdown-anchor.dcg-save-button-disabled{border:1px solid rgba(136,136,136,.5);border-left:none;color:rgba(136,136,136,.5)}.dcg-calculator-api-container .syncing-status-bar{position:absolute;bottom:0;left:0;width:280px;height:30px;line-height:30px;text-align:center;color:#fff;font-size:90%}.dcg-calculator-api-container .syncing-status-bar:not(.visible){-webkit-transition:opacity .4s 3s,-webkit-transform .4s 3s;-moz-transition:opacity .4s 3s,-moz-transform .4s 3s;-o-transition:opacity .4s 3s,-o-transform .4s 3s;-ms-transition:opacity .4s 3s,-ms-transform .4s 3s;transition:opacity .4s 3s,transform .4s 3s;-webkit-transform:translate(0,30px);-moz-transform:translate(0,30px);-o-transform:translate(0,30px);-ms-transform:translate(0,30px);transform:translate(0,30px);opacity:0}.dcg-calculator-api-container .syncing-status-bar .error-status-text,.dcg-calculator-api-container .syncing-status-bar .syncing-status-text{position:absolute;top:0;bottom:0;left:0;right:0;background:#888;opacity:.95}.dcg-calculator-api-container .syncing-status-bar .error-status-text .dcg-pulse,.dcg-calculator-api-container .syncing-status-bar .syncing-status-text .dcg-pulse{-webkit-animation:2s infinite dcg-pulse;-moz-animation:2s infinite dcg-pulse;-o-animation:2s infinite dcg-pulse;-ms-animation:dcg-pulse 2s infinite;animation:2s infinite dcg-pulse}.dcg-calculator-api-container .syncing-status-bar .error-status-text{opacity:.95;cursor:pointer}.dcg-calculator-api-container .syncing-status-bar .error-status-text.dcg-depressed{-webkit-box-shadow:inset 0 0 5px rgba(0,0,0,.4);box-shadow:inset 0 0 5px rgba(0,0,0,.4)}.dcg-calculator-api-container .syncing-status-bar .success-status-text{position:absolute;top:0;bottom:0;left:0;right:0;background:#127a3d;opacity:.8}.dcg-calculator-api-container .dcg-user-bar{line-height:46px;height:46px;position:absolute;top:0;left:0;width:280px;background:#000;border-bottom:1px solid #333;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-pack:justify;-moz-box-pack:justify;-o-box-pack:justify;-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.dcg-calculator-api-container .dcg-user-bar .dcg-account-link-container{min-width:0}.dcg-calculator-api-container .dcg-user-bar .dcg-account-link-container .dcg-account-link{text-decoration:none;cursor:pointer;border-right:1px solid transparent;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex}.dcg-calculator-api-container .dcg-user-bar .dcg-account-link-container .dcg-account-link .dcg-variable-name{margin-right:5px;vertical-align:middle;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.dcg-calculator-api-container .dcg-user-bar .dcg-account-link-container .dcg-account-link i{font-size:72%;margin-left:4px;line-height:46px}.dcg-calculator-api-container .dcg-user-bar .dcg-account-link-container .dcg-popover{bottom:auto}.dcg-calculator-api-container .dcg-user-bar .dcg-search-btn{padding:0 10px;cursor:pointer;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:0 0;-ms-flex:0 0;flex:0 0}.dcg-calculator-api-container .dcg-user-bar .dcg-search-btn i{color:rgba(255,255,255,.5);font-size:80%;margin-right:5px}.dcg-calculator-api-container .dcg-user-bar .dcg-search-btn.dcg-hovered i{color:rgba(255,255,255,.8)}.dcg-calculator-api-container .dcg-user-bar .search-container input{position:absolute;top:7px;right:10px;border-radius:3px;height:32px;font-size:90%;line-height:1em;padding-left:30px;outline:0;color:#222;border:none;width:265px;background:rgba(255,255,255,.9);cursor:text}.dcg-calculator-api-container .dcg-user-bar .search-container .dcg-action-close-search,.dcg-calculator-api-container .dcg-user-bar .search-container .search-icon{padding:15px;font-size:90%;color:rgba(0,0,0,.5)}.dcg-calculator-api-container .dcg-user-bar .search-container .dcg-action-close-search{position:absolute;top:0;right:6px;color:rgba(0,0,0,.5);cursor:pointer}.dcg-calculator-api-container .dcg-user-bar .search-container .search-icon{position:absolute;top:0;left:0;z-index:1}.dcg-calculator-api-container .dcg-expressionitem.dcg-new-expression{height:54px;position:relative;border-bottom:1px solid transparent;overflow:visible!important}.dcg-calculator-api-container .dcg-expressionitem.dcg-new-expression .dcg-new-math-div{position:absolute;top:0;left:0;bottom:0;right:0;cursor:pointer}.dcg-calculator-api-container .dcg-expressionitem.dcg-new-expression .dcg-new-math-div .dcg-new-expression-fade{background:-webkit-linear-gradient(bottom,#fff,rgba(255,255,255,0) 50%);background:-moz-linear-gradient(bottom,#fff,rgba(255,255,255,0) 50%);background:-o-linear-gradient(bottom,#fff,rgba(255,255,255,0) 50%);background:-ms-linear-gradient(bottom,#fff,rgba(255,255,255,0) 50%);background:linear-gradient(to top,#fff,rgba(255,255,255,0) 50%);width:44px;position:absolute;top:0;bottom:0;z-index:3}.dcg-calculator-api-container .dcg-action-zoomin,.dcg-calculator-api-container .dcg-action-zoomout,.dcg-calculator-api-container .dcg-action-zoomrestore,.dcg-calculator-api-container .dcg-reset-pillbox,.dcg-calculator-api-container .dcg-settings-pillbox{height:37px}.dcg-calculator-api-container .dcg-action-zoomrestore,.dcg-calculator-api-container .dcg-reset-pillbox,.dcg-calculator-api-container .dcg-settings-pillbox,.dcg-calculator-api-container .dcg-zoominout-pillbox{width:37px;line-height:37px;text-align:center;margin-top:3px;margin-bottom:3px}.dcg-calculator-api-container .dcg-settings-pillbox .dcg-icon-lock{position:absolute;bottom:5px;right:2px;font-size:50%;padding:3px;border-radius:50%;color:#fff;background:rgba(0,0,0,.75);text-shadow:none}.dcg-calculator-api-container .dcg-pillbox-container{position:absolute;right:5px;top:2px;bottom:0;width:0;z-index:41}.dcg-calculator-api-container .dcg-pillbox-container .dcg-overgraph-pillbox-elements{position:absolute;top:0;right:0}.dcg-calculator-api-container .dcg-zoom-container{float:right;clear:right}.dcg-calculator-api-container .dcg-zoom-container .dcg-zoominout-pillbox .dcg-action-zoomin,.dcg-calculator-api-container .dcg-zoom-container .dcg-zoominout-pillbox .dcg-action-zoomout{line-height:40px;font-size:75%}.dcg-calculator-api-container .dcg-zoom-container .dcg-action-zoomin{border-bottom:1px solid rgba(0,0,0,.1)}.dcg-calculator-api-container .dcg-zoom-container .dcg-action-zoomrestore{-webkit-animation:.25s dcg-fadeIn-pillboxes;-moz-animation:.25s dcg-fadeIn-pillboxes;-o-animation:.25s dcg-fadeIn-pillboxes;-ms-animation:dcg-fadeIn-pillboxes 0.25s;animation:.25s dcg-fadeIn-pillboxes}.dcg-calculator-api-container .dcg-btn-flat-gray{-webkit-box-shadow:0 0 5px rgba(0,0,0,.15);box-shadow:0 0 5px rgba(0,0,0,.15);border:1px solid rgba(0,0,0,.1);border-radius:5px;cursor:pointer;text-shadow:0 1px #fff}.dcg-calculator-api-container .dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-active,.dcg-calculator-api-container .dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-depressed,.dcg-calculator-api-container .dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-active,.dcg-calculator-api-container .dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-depressed{background:#e8e8e8}.dcg-calculator-api-container .dcg-has-background-color .dcg-btn-flat-gray,.dcg-calculator-api-container .dcg-poi-label .dcg-label .dcg-mq-sqrt-prefix{text-shadow:none}.dcg-calculator-api-container .dcg-overgraph-icon-container{z-index:21}.dcg-calculator-api-container .dcg-overgraph-icon-container:not(.dcg-bottom-right){position:absolute;top:5px;left:5px}.dcg-calculator-api-container .dcg-overgraph-icon-container.dcg-bottom-right{position:absolute;bottom:5px;right:5px}.dcg-calculator-api-container .dcg-overgraph-icon{width:37px;height:37px;line-height:40px;font-size:110%;text-shadow:-2px -2px 0 #fff,-2px 2px 0 #fff,2px -2px 0 #fff,2px 2px 0 #fff,0 -2px 0 #fff,0 2px 0 #fff,2px 0 0 #fff,-2px 0 0 #fff;text-align:center;border-radius:5px}.dcg-calculator-api-container .dcg-overgraph-icon.dcg-hovered{background:rgba(0,0,0,.15);text-shadow:none}.dcg-calculator-api-container .dcg-overgraph-icon.dcg-depressed{background:rgba(0,0,0,.3);text-shadow:none}.dcg-calculator-api-container .dcg-over-graph-hamburger .dcg-action-opendrawer,.dcg-calculator-api-container .dcg-poi-label.dcg-has-outline .dcg-label{text-shadow:-1px -1px 0 #fff,-1px 1px 0 #fff,1px -1px 0 #fff,1px 1px 0 #fff,0 -1px 0 #fff,0 1px 0 #fff,1px 0 0 #fff,-1px 0 0 #fff}@media only screen and (max-width:450px){.dcg-calculator-api-container .dcg-zoominout-pillbox,.dcg-calculator-api-container body .dcg-header{display:none}.dcg-calculator-api-container body #graph-container{top:0}}@media only screen and (max-height:450px){.dcg-calculator-api-container .dcg-zoominout-pillbox,.dcg-calculator-api-container body .dcg-header{display:none}.dcg-calculator-api-container body #graph-container{top:0}}@-webkit-keyframes dcg-fadeIn-pillboxes{0%{-webkit-transform:scale(.75,.75);-moz-transform:scale(.75,.75);-o-transform:scale(.75,.75);-ms-transform:scale(.75,.75);transform:scale(.75,.75);opacity:0}100%{-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-o-transform:scale(1,1);-ms-transform:scale(1,1);transform:scale(1,1);opacity:1;-ms-filter:none;filter:none}}@keyframes dcg-fadeIn-pillboxes{0%{-webkit-transform:scale(.75,.75);-moz-transform:scale(.75,.75);-o-transform:scale(.75,.75);-ms-transform:scale(.75,.75);transform:scale(.75,.75);opacity:0}100%{-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-o-transform:scale(1,1);-ms-transform:scale(1,1);transform:scale(1,1);opacity:1;-ms-filter:none;filter:none}}.dcg-calculator-api-container .dcg-api-shared-keypad-root{background-color:#ededed}.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-keypad-control-bar{background-color:transparent;border-left-color:transparent;border-right-color:transparent}.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-fourfunction-keypad-container .dcg-basic-keypad{max-width:750px}.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-basic-keypad,.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-keypad-control-bar-contents{max-width:600px;margin:0 auto}.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-keypad-control-btn.dcg-selectable-btn{max-width:70px}.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-inline-hide-keypad-button{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;-ms-box-flex:1;box-flex:1;-webkit-flex-grow:1;flex-grow:1;position:relative}.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-inline-hide-keypad-button-inner{position:absolute;top:0;right:0;bottom:0;left:0;margin:0;-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg);display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-pack:center;-moz-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-hide-keypad-button{height:35px;width:35px;line-height:35px;margin:4px 4px 4px auto;-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg)}.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-hide-keypad-button,.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-inline-hide-keypad-button-inner{text-align:center;border-radius:5px;color:#666}.dcg-calculator-api-container .dcg-transparent-bg{background:rgba(0,0,0,0)}.dcg-calculator-api-container .dcg-mouse-over-movable-point{cursor:move}.dcg-calculator-api-container .dcg-poi-label.dcg-show-border .dcg-label{border:1px solid #ddd;background:#fff;border-radius:5px;-webkit-box-shadow:0 0 5px rgba(0,0,0,.2);box-shadow:0 0 5px rgba(0,0,0,.2);padding:8px 6px}.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-math-field{padding:3px 10px}.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-resizing-text-input-container input,.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-text-input-content{padding:5px 10px}.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border{background:rgba(255,255,255,.75);border-radius:4px;border-width:1px;border-style:solid;padding:1px}.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border:not(.dcg-focus):not(.dcg-hovered){border-color:#bbb!important}.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border.dcg-empty-label:not(.dcg-focus):not(.dcg-hovered){border-color:#999!important}.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border.dcg-hovered:not(.dcg-focus){border-style:solid;padding:0;border-width:2px}.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border.dcg-focus{padding:0;border-width:2px}.dcg-calculator-api-container .dcg-poi-label .dcg-static-mathquill-view *{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.dcg-calculator-api-container .dcg-tabbable-point{position:absolute;left:-6px;top:-6px;width:12px;height:12px;text-align:left;overflow:hidden;pointer-events:none}.dcg-calculator-api-container .dcg-poi-label{display:inline-block;position:absolute;top:0;left:0;font-size:100%;color:#888}.dcg-calculator-api-container .dcg-poi-label .dcg-pt{display:inline-block;position:absolute;top:-4px;left:-4px;border:4px solid #000;border-radius:4px;width:0;height:0;z-index:0}.dcg-calculator-api-container .dcg-poi-label .dcg-label{position:absolute;z-index:3;white-space:nowrap}.dcg-calculator-api-container .dcg-poi-label .dcg-label.dcg-enable-transition{-webkit-transition-property:-webkit-transform;-moz-transition-property:-moz-transform;-o-transition-property:-o-transform;-ms-transition-property:-ms-transform;transition-property:transform;-webkit-transition-duration:.3s;-moz-transition-duration:.3s;-o-transition-duration:.3s;-ms-transition-duration:.3s;transition-duration:.3s}.dcg-calculator-api-container .dcg-poi-label:not(.dcg-tracept) .dcg-pt{border-width:5px;border-color:transparent!important;border-radius:5px;opacity:1;-ms-filter:none;filter:none;top:-5px!important;left:-5px!important;cursor:pointer}.dcg-calculator-api-container .dcg-poi-label:not(.dcg-tracept).dcg-opened .dcg-pt{border-color:#000!important}.dcg-calculator-api-container .dcg-poi-label.dcg-hole .dcg-pt{top:-5px;left:-5px;border-width:2px;padding:3px;background:#fff!important;border-radius:6px}.dcg-calculator-api-container .dcg-resizing-text-input-container{position:relative;overflow:hidden}.dcg-calculator-api-container .dcg-resizing-text-input-container input{position:absolute;top:1px;left:1px;right:1px;font:inherit;border:0;outline:0;background:0 0;color:inherit}.dcg-calculator-api-container .dcg-resizing-text-input-container:not(.dcg-focus) input::selection{background:0 0}.dcg-calculator-api-container .dcg-resizing-text-input-container.dcg-focus input,.dcg-calculator-api-container .dcg-resizing-text-input-container.dcg-hovered input,.dcg-calculator-api-container .dcg-tooltip-mount-pt{position:absolute;top:0;left:0}.dcg-calculator-api-container .dcg-resizing-text-input-container .dcg-text-input-content{min-width:35px;display:inline-block;color:transparent;white-space:pre}.dcg-calculator-api-container .dcg-constrained-height-popover{position:absolute;top:40px;bottom:2px;right:4px;pointer-events:none}.dcg-calculator-api-container .dcg-constrained-height-popover .dcg-popover-interior{max-height:100%;pointer-events:auto}.dcg-calculator-api-container .dcg-popover{z-index:80}.dcg-calculator-api-container .dcg-popover .dcg-popover-interior{padding:20px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:6px;-webkit-box-shadow:0 5px 10px rgba(0,0,0,.2);box-shadow:0 5px 10px rgba(0,0,0,.2);margin:-1px;overflow:auto}.dcg-calculator-api-container .dcg-popover .dcg-popover-content{font-size:85%;color:#444;line-height:1.5em;position:relative}.dcg-calculator-api-container .dcg-popover .dcg-language-picker .dcg-language-header{color:#2f72dc;border-bottom:2px solid #2f72dc}.dcg-calculator-api-container .dcg-popover .dcg-popover-title{margin-bottom:10px;font-size:115%;border-bottom:2px solid #2f72dc;color:#2f72dc;font-weight:400;background-color:#fff}.dcg-calculator-api-container .dcg-popover .dcg-popover-title:not(:first-of-type){padding-top:20px}.dcg-calculator-api-container .dcg-popover .dcg-arrow,.dcg-calculator-api-container .dcg-popover .dcg-arrow:after{position:absolute;display:inline-block;width:0;height:0;border-color:transparent;border-style:solid}.dcg-calculator-api-container .dcg-popover .dcg-arrow:after{content:"";z-index:-1}.dcg-calculator-api-container .dcg-popover.dcg-top .dcg-arrow{bottom:-10px;left:50%;margin-left:-10px;border-width:10px 10px 0;border-top-color:#fff}.dcg-calculator-api-container .dcg-popover.dcg-top .dcg-arrow:after{border-width:11px 11px 0;border-top-color:rgba(0,0,0,.25);bottom:-1px;left:-11px}.dcg-calculator-api-container .dcg-popover.dcg-right .dcg-arrow{top:50%;left:-10px;margin-top:-10px;border-width:10px 10px 10px 0;border-right-color:#fff}.dcg-calculator-api-container .dcg-popover.dcg-right .dcg-arrow:after{border-width:11px 11px 11px 0;border-right-color:rgba(0,0,0,.25);bottom:-11px;left:-1px}.dcg-calculator-api-container .dcg-popover.dcg-bottom .dcg-arrow{top:-14px;margin-left:-14px;border-width:0 14px 14px;border-bottom-color:#fff}.dcg-calculator-api-container .dcg-popover.dcg-bottom .dcg-arrow:after{border-width:0 14px 14px;border-bottom-color:rgba(0,0,0,.25);top:-1px;left:-14px}.dcg-calculator-api-container .dcg-popover.dcg-left .dcg-arrow{top:50%;right:-10px;margin-top:-10px;border-width:10px 0 10px 10px;border-left-color:#fff;border-top-color:transparent}.dcg-calculator-api-container .dcg-popover.dcg-left .dcg-arrow:after{border-width:11px 0 11px 11px;border-left-color:rgba(0,0,0,.25);bottom:-11px;right:-1px}@media print{.dcg-calculator-api-container #graph-container,.dcg-calculator-api-container .dcg-container,.dcg-calculator-api-container .dcg-exppanel,.dcg-calculator-api-container .dcg-expressionitem,.dcg-calculator-api-container .dcg-fade-container,.dcg-calculator-api-container .dcg-sliding-interior,.dcg-calculator-api-container body,html{overflow:visible!important;position:relative!important}.dcg-calculator-api-container #graph-container{top:0!important;left:0!important;width:700px!important}.dcg-calculator-api-container #graph-container .dcg-grapher{left:0!important}.dcg-calculator-api-container #graph-container .dcg-grapher canvas:first-of-type{border:2px solid #444}.dcg-calculator-api-container #graph-container,.dcg-calculator-api-container .dcg-exppanel-container,.dcg-calculator-api-container .dcg-exppanel-outer,.dcg-calculator-api-container .dcg-grapher{-webkit-transform:translate(0,0);-moz-transform:translate(0,0);-o-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);-webkit-transition:0;-moz-transition:0;-o-transition:0;-ms-transition:0;transition:0;-webkit-box-shadow:none!important;box-shadow:none!important;width:100%}.dcg-calculator-api-container .dcg-create-sliders,.dcg-calculator-api-container .dcg-expression-top-bar,.dcg-calculator-api-container .dcg-expressions-branding,.dcg-calculator-api-container .dcg-fadeout,.dcg-calculator-api-container .dcg-grapher:before,.dcg-calculator-api-container .dcg-graphpaper-branding,.dcg-calculator-api-container .dcg-header,.dcg-calculator-api-container .dcg-icon,.dcg-calculator-api-container .dcg-icon-remove,.dcg-calculator-api-container .dcg-keys-container,.dcg-calculator-api-container .dcg-label-container,.dcg-calculator-api-container .dcg-new-expression,.dcg-calculator-api-container .dcg-popover,.dcg-calculator-api-container .dcg-settings-pillbox,.dcg-calculator-api-container .dcg-show-expressions-tab,.dcg-calculator-api-container .dcg-show-keypad,.dcg-calculator-api-container .dcg-slider-container,.dcg-calculator-api-container .dcg-toast,.dcg-calculator-api-container .dcg-zoom-container,.dcg-calculator-api-container .trip-block{display:none!important}.dcg-calculator-api-container .dcg-fullscreen .dcg-exppanel-outer{margin-top:800px}.dcg-calculator-api-container .dcg-exppanel-outer{margin-top:12in}.dcg-calculator-api-container .dcg-exppanel-outer .dcg-exppanel-container{padding-top:0!important;width:100%!important}.dcg-calculator-api-container .dcg-exppanel-outer .dcg-exppanel{border:none}.dcg-calculator-api-container .dcg-exppanel-outer .dcg-expressionitem{border:0;border-top:1px solid #ddd}.dcg-calculator-api-container .dcg-exppanel-outer .dcg-expressionitem .dcg-tab{border:0}.dcg-calculator-api-container .dcg-exppanel-outer .dcg-expressionitem .dcg-variable-index{font-size:14px;color:#aaa;text-align:center}.dcg-calculator-api-container .dcg-exppanel-outer .dcg-expressionitem .dcg-variable-index:after{content:"."}.dcg-calculator-api-container .dcg-background{opacity:0!important}.dcg-calculator-api-container .dcg-dot{position:absolute!important;top:-15px!important;left:-15px!important;border-radius:15px!important;width:29px!important;height:29px!important;border:14px solid #2d70b3}}.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionimage .dcg-image-loaded .dcg-image-name,.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-displayTextarea,.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem textarea.dcg-smart-textarea{font-size:113%}.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-poi-label .dcg-pt,.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-poi-label:not(.dcg-tracept) .dcg-pt{border-width:8px;border-radius:8px;margin-left:-4px;margin-top:-4px}.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-poi-label.dcg-hole .dcg-pt{border-width:4px;padding:5px;border-radius:9px}.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-mq-placeholder{margin-top:-.88em}.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-main:after{width:2px}.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-create-sliders{height:30px;line-height:30px}.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-create-sliders .dcg-msg{font-size:100%;padding:2px 0}.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-create-sliders .dcg-btn-slider{font-size:120%;height:30px;line-height:30px}.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-slider{bottom:30px}.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-display-domain{bottom:12px;font-size:110%}.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-edit-domain,.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-slider_menu{bottom:6px}.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-edit-domain table,.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-slider_menu table{border-collapse:collapse;font-size:20px;margin:0 auto}.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-edit-domain table input,.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-slider_menu table input{font-size:81%}.dcg-calculator-api-container .dcg-create-sliders{white-space:nowrap;height:26px;line-height:26px}.dcg-calculator-api-container .dcg-create-sliders .dcg-msg{display:inline-block;margin-right:5px;font-size:80%;color:rgba(0,0,0,.6)}.dcg-calculator-api-container .dcg-create-sliders .dcg-all .dcg-btn-slider,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-roman{font-style:normal}.dcg-calculator-api-container .dcg-create-sliders .dcg-btn-slider{padding:0 10px!important;font-family:times;font-size:90%;font-style:italic}.dcg-calculator-api-container .dcg-create-sliders .dcg-slider-btn-container{display:inline-block;position:relative;margin-right:3px;height:16px;margin-bottom:4px;margin-top:1px}.dcg-calculator-api-container .dcg-create-sliders .dcg-slider-btn-container .dcg-btn-slider{height:25px;line-height:25px}.dcg-calculator-api-container .dcg-regression-container{font-size:80%;color:#222;cursor:default}.dcg-calculator-api-container .dcg-regression-container .dcg-statistics{display:inline-block;width:130px;float:left;margin-bottom:10px}.dcg-calculator-api-container .dcg-regression-container .dcg-residuals{float:left;width:130px;margin-bottom:10px}.dcg-calculator-api-container .dcg-regression-container .dcg-r-value{padding-left:.5em}.dcg-calculator-api-container .dcg-regression-container .dcg-residual-suggestion{padding:2px 8px;margin-left:7px;line-height:16px;display:inline-block}.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle{cursor:pointer;padding:5px 0;color:#444;border-radius:4px;display:inline-block;margin-bottom:12px}.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle .dcg-log-mode-checkbox{display:inline-block;width:15px;height:15px;border:1px solid rgba(0,0,0,.2);float:left;margin-right:6px;border-radius:3px;position:relative}.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle .dcg-log-mode-checkbox i{color:transparent}.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-hovered .dcg-log-mode-checkbox,.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-toggled-on .dcg-log-mode-checkbox{border-color:#aaa}.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-toggled-on .dcg-log-mode-checkbox i{color:#127a3d;position:absolute;top:-1px;right:-2px;font-size:110%;text-shadow:-1px -1px 0 #fff,1px -1px 0 #fff,-1px 1px 0 #fff,1px 1px 0 #fff}.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-log-mode-toggle-help{text-decoration:none;color:rgba(0,0,0,.2);padding:10px 6px}.dcg-calculator-api-container .dcg-regression-container .dcg-parameters-container{clear:both;padding-bottom:4px}.dcg-calculator-api-container .dcg-regression-container .dcg-parameters-container .dcg-parameter{float:left;min-width:130px;padding-right:5px}.dcg-calculator-api-container .dcg-regression-container .dcg-parameter-warning{color:#666;cursor:default;margin-top:10px}.dcg-calculator-api-container .dcg-regression-container .dcg-parameter-warning a,.dcg-calculator-api-container .dcg-shared-login-dialog .dcg-shared-password-container .dcg-shared-password-recovery-link .dcg-shared-action-password.dcg-hovered{color:#666;text-decoration:underline}.dcg-calculator-api-container .dcg-regression-tour-table{width:140px;border-collapse:collapse;margin-top:15px}.dcg-calculator-api-container .dcg-regression-tour-table td{text-align:center;padding:7px}.dcg-calculator-api-container .dcg-regression-tour-table tr:first-of-type td{border-bottom:1px solid #444}.dcg-calculator-api-container .dcg-regression-tour-table tr:nth-of-type(n+2) td{border-top:1px solid #ddd}.dcg-calculator-api-container .dcg-regression-tour-table tr td:first-of-type{border-right:1px solid #444}.dcg-calculator-api-container .dcg-shared-btn-blue,.dcg-calculator-api-container .dcg-shared-btn-blue-outline,.dcg-calculator-api-container .dcg-shared-btn-gray-outline,.dcg-calculator-api-container .dcg-shared-btn-red{cursor:pointer;font-family:inherit}.dcg-calculator-api-container .dcg-shared-btn-blue{color:#fff;background:#2f72dc;border:1px solid #2964c2;-webkit-box-shadow:inset 0 1px rgba(255,255,255,.1),inset 0 -1px rgba(0,0,0,.05);box-shadow:inset 0 1px rgba(255,255,255,.1),inset 0 -1px rgba(0,0,0,.05)}.dcg-calculator-api-container .dcg-shared-btn-red{color:#fff;background:#c0504d;border:1px solid #ba4a47;-webkit-box-shadow:inset 0 1px rgba(255,255,255,.1),inset 0 -1px rgba(0,0,0,.05);box-shadow:inset 0 1px rgba(255,255,255,.1),inset 0 -1px rgba(0,0,0,.05)}.dcg-calculator-api-container .dcg-shared-btn-red.dcg-hovered:not(.dcg-disabled){background:#b54848}.dcg-calculator-api-container .dcg-shared-btn-red.dcg-depressed:not(.dcg-disabled){-webkit-box-shadow:inset 0 0 3px rgba(0,0,0,.3);box-shadow:inset 0 0 3px rgba(0,0,0,.3)}.dcg-calculator-api-container .dcg-shared-btn-blue-outline{border:1px solid #2f72dc;border-radius:5px;color:#2f72dc}.dcg-calculator-api-container .dcg-shared-btn-blue-outline.dcg-hovered:not(.dcg-disabled){color:#2253a1;-webkit-box-shadow:0 0 0 1px #2f72dc;box-shadow:0 0 0 1px #2f72dc}.dcg-calculator-api-container .dcg-shared-btn-gray-outline{border:1px solid #666;border-radius:5px;color:#666}.dcg-calculator-api-container .dcg-shared-btn-gray-outline.dcg-hovered{color:#333;border-color:#666;-webkit-box-shadow:0 0 0 1px #666;box-shadow:0 0 0 1px #666}.dcg-calculator-api-container .dcg-shared-btn-gray-outline.dcg-depressed{background:#e2e2e2;border-color:#333;-webkit-box-shadow:0 0 0 1px #333;box-shadow:0 0 0 1px #333}.dcg-calculator-api-container .dcg-shared-dark-gray-link{color:#666;cursor:pointer;text-decoration:underline}.dcg-calculator-api-container .dcg-shared-tab-gray-underline{text-align:center;display:inline-block;padding:5px 0;margin:5px 0;color:#666;text-decoration:none}.dcg-calculator-api-container .dcg-shared-tab-gray-underline.dcg-shared-tab-always-underline{border-bottom:3px solid #e2e2e2}.dcg-calculator-api-container .dcg-shared-tab-gray-underline:not(.dcg-shared-tab-always-underline).dcg-depressed,.dcg-calculator-api-container .dcg-shared-tab-gray-underline:not(.dcg-shared-tab-always-underline).dcg-hovered,.dcg-calculator-api-container .dcg-shared-tab-gray-underline:not(.dcg-shared-tab-always-underline).dcg-selected{padding-bottom:2px}.dcg-calculator-api-container .dcg-shared-tab-gray-underline.dcg-hovered{border-bottom:3px solid #bbb}.dcg-calculator-api-container .dcg-shared-tab-gray-underline.dcg-depressed{color:#000;border-bottom:3px solid #999}.dcg-calculator-api-container .dcg-shared-tab-gray-underline.dcg-selected{color:#2f72dc;border-bottom:3px solid #2f72dc;cursor:pointer}.dcg-calculator-api-container input.dcg-shared-input-blue-outline::-ms-clear,.dcg-calculator-api-container textarea.dcg-shared-input-blue-outline::-ms-clear{display:none}@font-face{font-family:dcg-shared-icons;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfgAAAC8AAAAYGNtYXAXVtKOAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5Zi/H1EAAAAF4AAARIGhlYWQZhhObAAASmAAAADZoaGVhB7wDzQAAEtAAAAAkaG10eCYABLoAABL0AAAAMGxvY2EZthV2AAATJAAAABptYXhwABUBjQAAE0AAAAAgbmFtZVEHz5IAABNgAAAB8nBvc3QAAwAAAAAVVAAAACAAAwPHAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBwPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qf//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAAIAMYAnAM6AuYABQAtAFYAbgCLALsA6wEbAAABJzUeARcXBgcOAQcGIwYnLgEnJiceATMyNjcWFx4BFxYzMjY3PgE3HgEzPgE3Aw4BBwYUFS4BJy4BIyIHDgEHBgcUBhUiJicuASMiBgc2Nz4BNzYzMhYXKgEjIgYHDgEHDgEHJzI2NzI2MT4BNxcHFBYXIT4BNTA0NTQmJy4BJyUUFhceARcFIQ4BFScOAQcOAQcOAQciBiMqATEuAScuAScuATU5ATU8ATE+ATc+ATMxPgEzMhYXMTQUMRcOAQcOAQcOAQciBiMqATEuAScuAScuATU5ATU8ATE+ATc+ATMxPgEzNhYVMTQUMSEOAQcOAQcOAQciBiMqATEuAScuAScuATU5ATU8ATE+ATc+ATMxPgEzNhYVMTQUMQMeRBkhCgQJGxpNMDA1NjEwTRkaCQUJAwgOBgkWFkEoKC0tUiEfKggHDQgFCQWgBgwDAgQEAxYwGisnKD8XFwoCAgUCBQkFBQkDChsaTS8wNSNCrgEEAQULAwQDAgIFBEAFCwQBAwUKAkQ+BAP+SgQDAwQDBwUBWAMDBAYF/tMBiQYFBgIDAQQJBQEFAgMEAgEFBQcFBQkDAgIBBwQEBAMFBwUSGQJrAgMCAwkFAQYBBAMCAgQFCAQFCQMCAwIGBQMFAwUHBRMa/eICAwIDCQUBBgEDBAIBBQUHBQUJAwIDAgYFAwUDBQcFEhsCCXsCGz8jfjQrLEASEgESE0AsLDMCAwUCKyUlNRAPHx0bRigFAgMCBAE+BQ8IAwUDAgMCCQoPDjIjIigDBAIBAgEDAwEzKyw/EhEP3QMCAQECAgUBdQMBAgMHBXk6Bg0EBA0GAQEHDQgFCgKoBgwFBQsDlgYLBtMFBwUFCQMCAQECAQMCAwkFBQkDAgIFBgwFAwQBAxkSAgLZBQgEBQkEAQECAgIDAQQJBQQGBwIBBQcMBQMDAgICGxEBAQUIBAUJBAEBAgICAwEECQUEBgcCAQUHDAUDAwICAhsRAQEAAAAABgAtAKsD1QOkAB0AvgDaAPsBAAEFAAAlDgEjIiYnLgEnLgEnNz4BMR4BFx4BMzI2NzAWHwElFSImJyYGBw4BBw4BMQ4BBw4BIwcOASciJi8BLgExLgExMCYnLgEnLgEnLgEnLgEjDgEHIgYxBw4BBw4BBw4BByIGIwYmJy4BJzUeARceARcwFhceATMyNjcwNjcwNj8BPgExPgE3PgE3PgE3PgEzNjIxNhYXHgEfAR4BFzgBFzAyFTgBMR4BFzAWFx4BMxY2NzA2Nz4BNzA2Nz4BMzIWFwUwBg8BLgEnJicuAScmJz4BNxYXHgEXFhceARcBBgcOAQcGBw4BByImJy4BMT4BNz4BNzY3PgE3NjceARcFIyc3MwU/AScjAmkdNyAQIBAQHw8QGw4mAgkNFwsQJxoOHw8hCxIBbAMEAwwVCgoICgkQFSsYAR8CEQ0cDgwWCwsSLgYPEAMCCgEFCgcEDQYKEQkMEwgBFBEIEggNHRAIEAgBJgoaMxUKEAgQKQcGFAgHBAMECgkaCQcCEgETDB0FCQMIEAgGEggDEwEFDRYqEw0WDBkCEQUCAgUNAxAECRQLDhwLJAkVKBYXAwUfBwsWCf1lGwgTER4MEhARHg0ODA0fEgsNDR0RERMMGQ8CYgwODR0REBMRNCECEAoJHQEEAR8uExEPEB0PDw8RIA/88TwLKx4CzzkLKB7aGhUHCAgTDQ8gEScBCREdCw8aDAwcBwz3TQMCAwMFBQYICA8VLRIBFAYFAwEIBQYKKgYPEAMCCQIFCQUFCQMFBAIGBQ8RCBIIDxsLBQoFDAUUDgcNCGkQKAYHCwQCAgEBCwYFAg8CEwkdAwkDBwwHBggDAQUCAg4LCBMJGgMSBQICBQsDDQIGCQIOCR8KEygQDQIDCQEDDxgIEyNHHioqK1YrLCwOGQgpLCxbLy4uGzsfAcArLS5cLy4uLG43AQQDFgMGAjBlMSkrK1wxMDUFEA0THhEnAx0NAAAAAAQAyQDxA2QChAAkAE8AjwEEAAAlMSImLwEHBiYnJjY/AT4BMx4BHwETPgEzITIWFRQGIyEDDgEjJRUUBg8BDgEHBhQVFAYjIiY1NDY3MT4BNyMqATEUBgcVIzU3NTMVMBYzFw8BIzU0Nj8BPgE1NCYnLgEjIgYHDgEHHgEVFAYHDgEjIiY1NDY3PgEzMhYXHgEVFAYHDgEPATMyNjc0Njc1MxUlFAYHDgEjIiYnLgE1NDY3PgEzMhYXHgEVFAYHDgEHHgEzHgEzMjY3PgE1NCYnLgErASImNTQ2NzE6ATMyNjc+ATU0JicuASMiBgcyFhUeARUUBgcOASMiJicuATU0Njc+ATMyFhceARUUBgcOAQceARceARUBLwYMAS8HBhMEBQIHHAMLBQUGBCaJAwkHAYIKCw0I/ouYAQwGAesDAigHCQECCgoMBxMRBQ4JPAgGBAMLCQ0LFU2pC3UDATgOEAQFBQwIBwoFAwYBCAkEAwMHBQkMCQgIFg0OFwoJCgYFAwwINC0KCAEDAhX+3AkICBMMCREICQgDAQQGAwMHAwMBAwMCAwICBAMFCQUHBwMCAwMCAwcHDQQEBAcBAwIGCAMDAwICAQcFBgwDAgICAwMCAQcFAwYDAgMJCAcPCAgQCAgJBQUDBwMFCQMGB/EGB2IGBQIHBhMFFQMBAQcEVAEHBQUNCAoL/uAFBusHAwYBOAgYDwkgFQkMEQQcORwHEw0CCQ0ECTcEBgICiT4JAwYCPRAgDgoOBgcGAwMEBgMCCQgFBwMEAwwKCxUICAkJCAgYDQkRCAUMCDIBAgEJDQQCtgwRCAYHBgUHEAkDCAIDAwICAwcDAwgCAQECAQMCAgYEBQsICAoFBQYFAwIFAgYFBA0GBQcDAwMDAwMBAgYFAwcDAwEDAQIGBQgPBQUDAwUFDwgIDggDBgIBBwQKEAgAAAMBLQC+As0CwADVAVsBigAAASoBIyIGByIGBzEwBhUxMAYVMCIjMQ4BBw4BBzEHDgEnIiYnLgEjLgEnMCYvAS4BJy4BJy4BJzIWMy4BIzoBMyoBIzEqASsBIgYHDgEHDgEHNw4BBzgBNw4BBw4BBzEHMCIVMTAiBzEwBgcwBhU5Ag4BIzgBIzkBIiYnMhYzLgEnOQEwIiMuAScuATcyNjccARcxHgEXHgEXMTA2Nz4BNz4BNzgBMy4BJy4BJz4BMTAWFw4BBw4BBxQGFTAyFx4BFx4BMzEzPgE3PgE3MDQ3MhYzFgYHBxQwNQYwNw4BIzEOAQcOAQcOAQcxDgEHOQE4ASMxMCIVIgYjMTAiFTEjMCIjMCIjMSMOASciJic5AzAiIzEuAScxLgEnLgEvAS4BJy4BJwYmIyIGBzEOASMOAQcOAQcOAQcOAQciBiMyNjMOASMyNjcOAQciJiceARc2Nz4BNzY3KgExBw4BIzEiJicuAScwMjc+AT8BPgE3MDQ3MR4BFx4BMzI2NzgBFx4BFwYWFzQwFTECwAIDAQUHAwIDAgICAQEKEAgFCAQCBQ0GBQkDAgMBBAUCAQECAgQDAwQEAw4GAgEBCBIKAgUCBAcEAgECAgEBAgMHBQUJAwICAwECBQoEAgUCAgIBAQEBAwQKBQIDBAQCAQIFCAQBAgMHBBAPAwgNBwILGQ8FDAgBAgEDAgIIAwIGCwQQGAlET1BFCxkNCBQNAgEBBAcEAgUCAg4VCBAYCwIGDggFCAoLAQEBAwICAwECAwIBAgEKEQwCAgEBAgICAQEBAgIGCwYFCgQBAggNBgMFAwIDAQUBBgECBgMGCAMFBwMBBAECBQIDBwUGCwgDBwMCAQEBAQIGDQUFCgUECAMHCgcrawgGFhY4HR0UAgOCCxkNDRkNBg0FAQIDBgMDAQECAgUJBQcQCwcMBwIFCQMCAwEByQMCAgIBAQEBBxEIAwkDAgQGAQMEAQMDBAMBAgIBBAMDBgICDAMCBQYBAgEDAgMHBQIBBAECBQkDAgUCAgICAQEBAQQDAQECAgQDAwYELHRGAQEBBAEoTyUNHg8BAgEDAgIIAw0ZCyZOIw0vLw0rSyEVKhQCAQICAwYBAgEXLhMmTycCAgIyWyYgAgICAgIBAQECAQQBAgECCRIHAgICAgICAwMFCgcDBgECAwIEAQYBAgMCAwEEAwEDAgUCAwgDBwoFAQYBAgIEAwMCAgECAQFZSgUCDQ03LCxASQoLDAsHDQgCAwcDAgIBAQEBCAoFBwoEBAIFBgIBAwICAgAAAAAGAMIAhgM8Au8AHwAtAE4AZgB1AI0AACUWFAcOAS8BBwYiJy4BPwEnJjQ3PgEfATc2MhceAQ8BAzMyNjU0JisBIgYVFBYnMhYVFAYrARUUBiMiJj0BIyImNTQ2OwE1NDYzMhYdATMDFAYHDgEjIiYnLgE1NDY3PgEzMhYXHgE3FAYrASImNTQ2OwEeARUnFAYHDgEjIiYnLgE1NDY3PgEzMhYXHgEDFwcHBhMHOToGEwcGAgg6OgYGBxMGOjkHEwYHAQg5ic8KDg4KzwkODqEJDAwJUQ0LCQ5RCg4MDFEOCQoOUUIGBQUNCAYPBAUGBgUEDQgIDQUFBlkMCc8KDg0LzQsMWQYFBQ0ICA0EBQYGBQQNCAcOBQUGwAYUBgYCCDo6BgYGFAY6OQcTBgcBCDk5BwcGEwc5AWIOCQoODgoJDi0OCgoNUQoODAxRDAsKDlEJDAwJUf4iCA0FBQYGBQUNCAgMBQUGBgUGDUkKDgwMCQ4CDAlPCA0FBQYGBQUNCAgMBQUGBgUGDQAAAAABAAYAUQP6Ay8APAAAATYWFx4BFxYGBwYHDgEHBgcOASMiJicmJy4BJyYnLgE1NDY3PgEXHgEXHgEXHgEzMjY3Njc+ATc2Nz4BNwNxICUVDh8CAS4ROzo6dDo6OhIuGB4/Eh4fHz4fHx8NGiMODyEdFyMPK0otAxoDBS8ILiwsVywrLg0kEwMvBiQTDx4THS0SOzo6dDo6OhIuRhIeHh49IB8hDRoVGx0ODyUDASkNK0gtAx8xCC4sLVgtLCwPJAUAAAAAAQAL/8kD9wO3AGIAACUUBgcOAScuAScmJy4BJyYnBgcOAQcGBw4BJy4BJy4BNz4BNzY3PgE3NjcmJy4BJyYnLgEnJjY3PgEXHgEXFhceARcWFzY3PgE3Njc+ARceARceAQcOAQcGBw4BBwYHAR4BFQP3Ig8QJiMbNhEgIiJEISEfIiIiQyMiIxU3JRYhCxArCAY6Ex8jI0YhIh0eISFFIyIhEzoGCCcSECslGDIRISIhQiAgHyIiIUIiISMUPCUVIA0SKAcFORUgIiJEIiEgAREVPEsdIA4QLAUDOhQgIiJFIiIfICEhQyIiIxVBBQMhDRAqIRozEyAiI0YiIh4bISFGIyIfETIYJSgREC8MBjoTISEhQyAhHyAgIUMiIiIVQQUDIQ0RKSEdMBMgIyJGIiIg/vMSNB4ABAD+AMADAgK+AA8AHwA4AFEAAAEjIiY9ATQ2OwEyFh0BFAYXIyImPQE0NjsBMhYdARQGBSMiJjURNDY7ATIWFRQGKwERMzIWFRQGIyEzMjY1ETQmKwEiBhUUFjsBESMiBhUUFjMBzzwJEA4LPAoQD5M8ChAPCzwJEBD+6kkLDhAJSQsPEAotLQsPDwsBQEkLDhAJSQsPEAotLQsPDwsB1w8LPAkQDgs8Cw+bDgs8ChAPCzwLDnwQCgHKCw8QCgkQ/moQCQoSEAoBygsPEAoJEP5qEAkKEgAAAQAAAAEAAC2kOatfDzz1AAsEAAAAAADbNmePAAAAANs2Z48AAP/JA/oDtwAAAAgAAgAAAAAAAAABAAADwP/AAAAEAAAAAAAD+gABAAAAAAAAAAAAAAAAAAAADAQAAAAAAAAAAAAAAAIAAAAEAADGBAAALQQAAMkEAAEtBAAAwgQAAAYEAAALBAAA/gAAAAAACgAUAB4BoAMWBHgGYAcmB4gIJAiQAAAAAQAAAAwBiwAIAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABABAAAAABAAAAAAACAAcAsQABAAAAAAADABAAUQABAAAAAAAEABAAxgABAAAAAAAFAAsAMAABAAAAAAAGABAAgQABAAAAAAAKABoA9gADAAEECQABACAAEAADAAEECQACAA4AuAADAAEECQADACAAYQADAAEECQAEACAA1gADAAEECQAFABYAOwADAAEECQAGACAAkQADAAEECQAKADQBEGRjZy1zaGFyZWQtaWNvbnMAZABjAGcALQBzAGgAYQByAGUAZAAtAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGRjZy1zaGFyZWQtaWNvbnMAZABjAGcALQBzAGgAYQByAGUAZAAtAGkAYwBvAG4Ac2RjZy1zaGFyZWQtaWNvbnMAZABjAGcALQBzAGgAYQByAGUAZAAtAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmRjZy1zaGFyZWQtaWNvbnMAZABjAGcALQBzAGgAYQByAGUAZAAtAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format('truetype');font-weight:400;font-style:normal;font-display:block}.dcg-calculator-api-container [class*=" dcg-shared-icon-"],.dcg-calculator-api-container [class^=dcg-shared-icon-]{font-family:dcg-shared-icons!important;speak:never;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.dcg-calculator-api-container .dcg-header.dcg-secure-header .align-left-container,.dcg-calculator-api-container .dcg-language-picker.dcg-two-columns .dcg-listitem{width:50%}.dcg-calculator-api-container .dcg-language-picker .dcg-language-header{color:#666;font-size:115%;border-bottom:1px solid #ccc;white-space:nowrap}.dcg-calculator-api-container .dcg-language-picker .dcg-listitem{display:inline-block;width:100%}.dcg-calculator-api-container .dcg-language-picker .dcg-language-option{color:#666;margin-top:10px}.dcg-calculator-api-container .dcg-language-picker .dcg-language-footer-link{display:block;margin-top:10px;font-size:80%;text-align:center}.dcg-calculator-api-container .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input{background:0 0;width:100%;border:none;font-family:Abraham,serif;font-size:125%;padding:1px 0}.dcg-calculator-api-container .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-inline-braille{position:absolute;left:-1000px;top:-1000px;width:0;height:0;overflow:hidden}.dcg-calculator-api-container .dcg-mathquill-braille-tooltip.dcg-latex-tooltip-positioning-container.dcg-tooltip-positioning-container.dcg-tooltip-gravity-ne-se .dcg-tooltip-arrow{-webkit-transform:translateX(-1.25ch) rotate(45deg);-moz-transform:translateX(-1.25ch) rotate(45deg);-o-transform:translateX(-1.25ch) rotate(45deg);-ms-transform:translateX(-1.25ch) rotate(45deg);transform:translateX(-1.25ch) rotate(45deg)}.dcg-calculator-api-container .dcg-mathquill-braille-tooltip.dcg-latex-tooltip-positioning-container.dcg-tooltip-positioning-container.dcg-tooltip-gravity-ne-se .dcg-tooltip-message-container{-webkit-transform:translateX(-1.25ch);-moz-transform:translateX(-1.25ch);-o-transform:translateX(-1.25ch);-ms-transform:translateX(-1.25ch);transform:translateX(-1.25ch)}.dcg-calculator-api-container .dcg-mathquill-braille-tooltip.dcg-latex-tooltip-positioning-container.dcg-tooltip-positioning-container.dcg-tooltip-gravity-nw-sw .dcg-tooltip-arrow{-webkit-transform:translateX(.8ch) rotate(45deg);-moz-transform:translateX(.8ch) rotate(45deg);-o-transform:translateX(.8ch) rotate(45deg);-ms-transform:translateX(.8ch) rotate(45deg);transform:translateX(.8ch) rotate(45deg)}.dcg-calculator-api-container .dcg-mathquill-braille-tooltip.dcg-latex-tooltip-positioning-container.dcg-tooltip-positioning-container.dcg-tooltip-gravity-nw-sw .dcg-tooltip-message-container{-webkit-transform:translateX(.8ch);-moz-transform:translateX(.8ch);-o-transform:translateX(.8ch);-ms-transform:translateX(.8ch);transform:translateX(.8ch)}.dcg-calculator-api-container .dcg-shared-modal-cover{position:fixed;top:0;left:0;width:100%;height:100%;z-index:30}.dcg-calculator-api-container .dcg-shared-modal-cover .dcg-shared-modal-background{position:absolute;top:0;left:0;bottom:0;right:0;background:rgba(0,0,0,.7)}.dcg-calculator-api-container .dcg-shared-modal-cover .dcg-shared-modal-transition-container{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-pack:center;-moz-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center}.dcg-calculator-api-container .dcg-shared-modal-cover.dcg-shared-modal-medium .dcg-shared-modal,.dcg-calculator-api-container .dcg-shared-modal-cover.dcg-shared-modal-narrow .dcg-shared-modal,.dcg-calculator-api-container .dcg-shared-modal-cover.dcg-shared-modal-wide .dcg-shared-modal{-webkit-animation:.3s dcgSharedFadeInDown;-moz-animation:.3s dcgSharedFadeInDown;-o-animation:.3s dcgSharedFadeInDown;-ms-animation:dcgSharedFadeInDown 0.3s;animation:.3s dcgSharedFadeInDown}.dcg-calculator-api-container .dcg-shared-modal-cover.dcg-shared-modal-background,.dcg-calculator-api-container .dcg-shared-modal-cover.dcg-shared-modal-fullscreen .dcg-shared-modal{-webkit-animation:.3s dcgSharedFadeIn;-moz-animation:.3s dcgSharedFadeIn;-o-animation:.3s dcgSharedFadeIn;-ms-animation:dcgSharedFadeIn 0.3s;animation:.3s dcgSharedFadeIn}.dcg-calculator-api-container .dcg-shared-modal-cover.dcg-shared-modal-medium .dcg-shared-modal-transition-container,.dcg-calculator-api-container .dcg-shared-modal-cover.dcg-shared-modal-narrow .dcg-shared-modal-transition-container,.dcg-calculator-api-container .dcg-shared-modal-cover.dcg-shared-modal-wide .dcg-shared-modal-transition-container{margin-top:30px}.dcg-calculator-api-container .dcg-shared-modal-cover.dcg-shared-modal-medium .dcg-shared-modal-contents-wrapper,.dcg-calculator-api-container .dcg-shared-modal-cover.dcg-shared-modal-narrow .dcg-shared-modal-contents-wrapper,.dcg-calculator-api-container .dcg-shared-modal-cover.dcg-shared-modal-wide .dcg-shared-modal-contents-wrapper{max-height:calc(100vh - 60px);overflow-y:auto}.dcg-calculator-api-container .dcg-shared-modal-cover.dcg-shared-modal-wide .dcg-shared-modal{width:800px}.dcg-calculator-api-container .dcg-shared-modal-cover.dcg-shared-modal-medium .dcg-shared-modal{width:650px}.dcg-calculator-api-container .dcg-shared-modal-cover.dcg-shared-modal-narrow .dcg-shared-modal{width:500px}.dcg-calculator-api-container .dcg-shared-modal-cover.dcg-shared-modal-fullscreen .dcg-shared-modal{position:absolute;top:30px;bottom:30px;left:30px;right:30px}.dcg-calculator-api-container .dcg-shared-modal-cover.dcg-shared-modal-fullscreen .dcg-shared-modal .dcg-shared-modal-contents-wrapper{overflow-y:auto;overflow-x:hidden;position:absolute;top:0;left:0;bottom:0;right:0}.dcg-calculator-api-container .dcg-shared-modal-cover .dcg-shared-close-cross-container{position:absolute;top:-28px;right:-28px}.dcg-calculator-api-container .dcg-shared-modal-cover .dcg-shared-close-cross{font-size:110%;width:32px;height:32px;border-radius:50%;color:#fff;opacity:.9;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-moz-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center}.dcg-calculator-api-container .dcg-shared-modal-cover .dcg-shared-close-cross.dcg-hovered{opacity:1;-ms-filter:none;filter:none;background:rgba(255,255,255,.15)}.dcg-calculator-api-container .dcg-shared-modal-cover .dcg-shared-close-cross.dcg-depressed{opacity:1;-ms-filter:none;filter:none;background:rgba(255,255,255,.3)}.dcg-calculator-api-container .dcg-shared-modal-cover .dcg-shared-modal-contents-wrapper{padding:30px;background:#fff;border-radius:6px;-webkit-box-shadow:0 0 10px rgba(0,0,0,.5);box-shadow:0 0 10px rgba(0,0,0,.5)}.dcg-calculator-api-container .dcg-shared-modal-cover .dcg-shared-modal-error-message{text-align:center;font-size:90%;background:rgba(192,80,77,.1);line-height:24px;border:1px solid rgba(192,80,77,.5);border-radius:3px;color:#c0504d;-webkit-animation:.3s fadeIn;-moz-animation:.3s fadeIn;-o-animation:.3s fadeIn;-ms-animation:fadeIn 0.3s;animation:.3s fadeIn}.dcg-calculator-api-container .dcg-shared-modal-cover h1{padding:0;margin:0 0 10px;font-weight:400;font-size:24px}@media screen and (max-width:700px){.dcg-calculator-api-container .dcg-modal-container.dcg-fixed-width-height.dcg-export-modal .modal{position:absolute;top:0;left:0;bottom:0;right:0;margin:0;height:100%;max-height:100%;border-radius:0}.dcg-calculator-api-container .dcg-shared-modal-cover.dcg-shared-modal-medium .dcg-shared-modal{width:auto;margin:0;position:absolute;top:30px;left:37px;right:37px}}@media screen and (max-width:600px){.dcg-calculator-api-container .dcg-shared-modal-container .dcg-shared-modal-cover .dcg-shared-modal-background{background:#333}.dcg-calculator-api-container .dcg-shared-modal-container .dcg-shared-modal-cover.dcg-shared-modal-medium .dcg-shared-modal-transition-container,.dcg-calculator-api-container .dcg-shared-modal-container .dcg-shared-modal-cover.dcg-shared-modal-narrow .dcg-shared-modal-transition-container,.dcg-calculator-api-container .dcg-shared-modal-container .dcg-shared-modal-cover.dcg-shared-modal-wide .dcg-shared-modal-transition-container{margin-top:0}.dcg-calculator-api-container .dcg-shared-modal-container .dcg-shared-modal-cover.dcg-shared-modal-fullscreen .dcg-shared-modal,.dcg-calculator-api-container .dcg-shared-modal-container .dcg-shared-modal-cover.dcg-shared-modal-medium .dcg-shared-modal,.dcg-calculator-api-container .dcg-shared-modal-container .dcg-shared-modal-cover.dcg-shared-modal-narrow .dcg-shared-modal,.dcg-calculator-api-container .dcg-shared-modal-container .dcg-shared-modal-cover.dcg-shared-modal-wide .dcg-shared-modal{position:absolute;top:42px;left:0;right:0;bottom:0;width:auto;margin:0}.dcg-calculator-api-container .dcg-shared-modal-container .dcg-shared-modal-cover.dcg-shared-modal-fullscreen .dcg-shared-modal .dcg-shared-close-cross-container,.dcg-calculator-api-container .dcg-shared-modal-container .dcg-shared-modal-cover.dcg-shared-modal-medium .dcg-shared-modal .dcg-shared-close-cross-container,.dcg-calculator-api-container .dcg-shared-modal-container .dcg-shared-modal-cover.dcg-shared-modal-narrow .dcg-shared-modal .dcg-shared-close-cross-container,.dcg-calculator-api-container .dcg-shared-modal-container .dcg-shared-modal-cover.dcg-shared-modal-wide .dcg-shared-modal .dcg-shared-close-cross-container{right:5px;top:-38px}.dcg-calculator-api-container .dcg-shared-modal-container .dcg-shared-modal-cover.dcg-shared-modal-fullscreen .dcg-shared-modal .dcg-shared-modal-contents-wrapper,.dcg-calculator-api-container .dcg-shared-modal-container .dcg-shared-modal-cover.dcg-shared-modal-medium .dcg-shared-modal .dcg-shared-modal-contents-wrapper,.dcg-calculator-api-container .dcg-shared-modal-container .dcg-shared-modal-cover.dcg-shared-modal-narrow .dcg-shared-modal .dcg-shared-modal-contents-wrapper,.dcg-calculator-api-container .dcg-shared-modal-container .dcg-shared-modal-cover.dcg-shared-modal-wide .dcg-shared-modal .dcg-shared-modal-contents-wrapper{border-radius:0;position:absolute;top:0;left:0;bottom:0;right:0;overflow-y:auto;overflow-x:hidden;max-height:none}.dcg-calculator-api-container .dcg-shared-modal-container .dcg-shared-modal-cover:not(.dcg-shared-has-close-button).dcg-shared-modal-fullscreen .dcg-shared-modal,.dcg-calculator-api-container .dcg-shared-modal-container .dcg-shared-modal-cover:not(.dcg-shared-has-close-button).dcg-shared-modal-medium .dcg-shared-modal,.dcg-calculator-api-container .dcg-shared-modal-container .dcg-shared-modal-cover:not(.dcg-shared-has-close-button).dcg-shared-modal-narrow .dcg-shared-modal,.dcg-calculator-api-container .dcg-shared-modal-container .dcg-shared-modal-cover:not(.dcg-shared-has-close-button).dcg-shared-modal-wide .dcg-shared-modal{top:0}}@-moz-keyframes dcgSharedFadeInDown{0%{opacity:0;-webkit-transform:translate(0,-10px);-moz-transform:translate(0,-10px);-o-transform:translate(0,-10px);-ms-transform:translate(0,-10px);transform:translate(0,-10px)}100%{opacity:1;-ms-filter:none;filter:none}}@-webkit-keyframes dcgSharedFadeInDown{0%{opacity:0;-webkit-transform:translate(0,-10px);-moz-transform:translate(0,-10px);-o-transform:translate(0,-10px);-ms-transform:translate(0,-10px);transform:translate(0,-10px)}100%{opacity:1;-ms-filter:none;filter:none}}@-o-keyframes dcgSharedFadeInDown{0%{opacity:0;-webkit-transform:translate(0,-10px);-moz-transform:translate(0,-10px);-o-transform:translate(0,-10px);-ms-transform:translate(0,-10px);transform:translate(0,-10px)}100%{opacity:1;-ms-filter:none;filter:none}}@keyframes dcgSharedFadeInDown{0%{opacity:0;-webkit-transform:translate(0,-10px);-moz-transform:translate(0,-10px);-o-transform:translate(0,-10px);-ms-transform:translate(0,-10px);transform:translate(0,-10px)}100%{opacity:1;-ms-filter:none;filter:none}}@-moz-keyframes dcgSharedFadeIn{0%{opacity:0}100%{opacity:1;-ms-filter:none;filter:none}}@-webkit-keyframes dcgSharedFadeIn{0%{opacity:0}100%{opacity:1;-ms-filter:none;filter:none}}@-o-keyframes dcgSharedFadeIn{0%{opacity:0}100%{opacity:1;-ms-filter:none;filter:none}}@keyframes dcgSharedFadeIn{0%{opacity:0}100%{opacity:1;-ms-filter:none;filter:none}}.dcg-calculator-api-container .dcg-shared-account-dialog.dcg-shared-teacher-signup-dialog .dcg-shared-tab-gray-underline.dcg-selected{color:#008487;border-color:#08acac}.dcg-calculator-api-container .dcg-shared-account-dialog.dcg-shared-teacher-signup-dialog .dcg-shared-component-checkbox .dcg-shared-blue-link,.dcg-calculator-api-container .dcg-shared-account-dialog.dcg-shared-teacher-signup-dialog .dcg-shared-component-checkbox .dcg-shared-icon-check{color:#008487}.dcg-calculator-api-container .dcg-shared-account-dialog.dcg-shared-teacher-signup-dialog .dcg-shared-component-checkbox .dcg-shared-blue-link.dcg-hovered{color:#006b6e}.dcg-calculator-api-container .dcg-shared-account-dialog.dcg-shared-teacher-signup-dialog .dcg-shared-component-checkbox .dcg-shared-blue-link.dcg-depressed{color:#005457}.dcg-calculator-api-container .dcg-shared-account-dialog.dcg-shared-teacher-signup-dialog .dcg-shared-email-form-container input.dcg-shared-input-blue-outline:focus{border:1px solid #08acac;-webkit-box-shadow:0 0 0 1px #08acac;box-shadow:0 0 0 1px #08acac}.dcg-calculator-api-container .dcg-shared-account-dialog .dcg-shared-switch-account-message{color:#666;margin:-10px 0 15px;text-align:center}.dcg-calculator-api-container .dcg-shared-account-dialog .dcg-shared-account-content-container .dcg-shared-btn-gray-outline{text-align:center;margin:15px auto 0;padding:15px 10px;min-width:80%;width:max-content;max-width:100%;font-size:110%}.dcg-calculator-api-container .dcg-shared-account-dialog .dcg-shared-email-form-container .dcg-shared-input-title{display:block;margin-bottom:2px}.dcg-calculator-api-container .dcg-shared-account-dialog .dcg-shared-email-form-container input.dcg-shared-input-blue-outline{width:100%;margin-bottom:10px}.dcg-calculator-api-container .dcg-shared-account-dialog .dcg-shared-email-form-container .dcg-shared-sign-in-options .dcg-shared-btn-blue{font-size:110%;margin-left:10px;margin-top:10px}.dcg-calculator-api-container .dcg-shared-account-dialog .dcg-shared-cookie-notice{font-size:90%;margin-top:15px;background:rgba(250,213,75,.5);padding:10px;border-radius:5px;border:1px solid #fad54b}.dcg-calculator-api-container .dcg-shared-account-dialog .dcg-shared-modal-actions-container,.dcg-calculator-api-container .dcg-shared-account-settings-dialog .dcg-shared-modal-actions-container{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-pack:end;-moz-box-pack:end;-o-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.dcg-calculator-api-container .dcg-shared-account-dialog .dcg-shared-modal-actions-container .dcg-shared-btn-blue,.dcg-calculator-api-container .dcg-shared-account-settings-dialog .dcg-shared-modal-actions-container .dcg-shared-btn-blue,.dcg-calculator-api-container .dcg-shared-account-settings-dialog .dcg-shared-modal-actions-container .dcg-shared-btn-red{margin-left:15px}@media screen and (max-width:430px){.dcg-calculator-api-container .dcg-audio-keypad-container{font-size:90%}.dcg-calculator-api-container .dcg-audio-keypad-container .dcg-audio-keypad-column.dcg-playback-column .dcg-key-nav-section .dcg-key-nav-section-title-container{width:40px}.dcg-calculator-api-container .dcg-audio-keypad-container .dcg-audio-keypad-column.dcg-navigation-column .dcg-key-nav-section .dcg-key-nav-section-title-container{width:55px}.dcg-calculator-api-container .dcg-shared-account-dialog .dcg-shared-email-form-container .dcg-shared-name-container{-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.dcg-calculator-api-container .dcg-shared-account-dialog .dcg-shared-email-form-container .dcg-shared-name-container .dcg-shared-name-input+.dcg-shared-name-input{margin-left:0}}.dcg-calculator-api-container .dcg-shared-account-settings-dialog .dcg-shared-navigation-tabs{width:170px;margin-right:50px}.dcg-calculator-api-container .dcg-shared-account-settings-dialog .dcg-shared-navigation-tabs .dcg-shared-tab-gray-underline{display:block;text-align:left}.dcg-calculator-api-container .dcg-shared-account-settings-dialog .dcg-shared-content-container{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;min-height:250px}.dcg-calculator-api-container .dcg-shared-account-settings-dialog .dcg-shared-confirmation-message{color:#2f72dc;margin-right:15px;margin-bottom:10px;-webkit-transition:opacity .3s;-moz-transition:opacity .3s;-o-transition:opacity .3s;-ms-transition:opacity .3s;transition:opacity .3s}.dcg-calculator-api-container .dcg-shared-account-settings-dialog .dcg-shared-confirmation-message .dcg-success-marker{font-size:90%;margin-right:5px}@media screen and (max-width:850px){.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-art-contest-info-container,.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-save-animation-container,.dcg-calculator-api-container .dcg-shared-account-settings-dialog{-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.dcg-calculator-api-container .dcg-modal-container.dcg-fixed-width-height .modal{width:auto;margin-left:0;position:absolute;left:40px;right:40px;overflow:auto}.dcg-calculator-api-container .dcg-shared-modal-cover.dcg-shared-modal-wide .dcg-shared-modal{width:auto;margin:0;position:absolute;top:30px;left:37px;right:37px}.dcg-calculator-api-container .dcg-shared-account-settings-dialog .dcg-shared-navigation-tabs{width:100%;padding:0;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-ms-flex-line-pack:stretch;-webkit-align-content:stretch;align-content:stretch;-webkit-box-pack:justify;-moz-box-pack:justify;-o-box-pack:justify;-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.dcg-calculator-api-container .dcg-shared-account-settings-dialog .dcg-shared-navigation-tabs .dcg-shared-tab-gray-underline{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;text-align:center}.dcg-calculator-api-container .dcg-shared-account-settings-dialog .dcg-shared-navigation-tabs .dcg-shared-tab-gray-underline+.dcg-shared-tab-gray-underline{margin-left:15px}.dcg-calculator-api-container .dcg-shared-account-settings-dialog .dcg-shared-navigation-tabs .dcg-shared-tab-gray-underline:not(.dcg-selected){border-bottom:3px solid #e2e2e2;padding-bottom:2px}.dcg-calculator-api-container .dcg-shared-account-settings-dialog .dcg-shared-navigation-tabs .dcg-shared-tab-gray-underline:not(.dcg-selected).dcg-hovered{border-bottom:3px solid rgba(0,0,0,.2)}.dcg-calculator-api-container .dcg-shared-account-settings-dialog .dcg-shared-navigation-tabs .dcg-shared-tab-gray-underline:not(.dcg-selected).dcg-depressed{border-bottom:3px solid #bbb}.dcg-calculator-api-container .dcg-shared-account-settings-dialog .dcg-shared-content-container{margin-top:20px}.dcg-calculator-api-container .dcg-shared-account-settings-dialog .dcg-shared-content-container .dcg-shared-profile-info{min-height:250px}}.dcg-calculator-api-container .dcg-shared-consent-modal-container .dcg-shared-consent-contents{margin-bottom:10px;line-height:1.5em}.dcg-calculator-api-container .dcg-shared-dropdown-popover-container .dropdown-container{z-index:31;background:#fff;border:1px solid #ccc;border-radius:5px;color:#666;-webkit-animation:.2s fadeInDown;-moz-animation:.2s fadeInDown;-o-animation:.2s fadeInDown;-ms-animation:fadeInDown 0.2s;animation:.2s fadeInDown;position:absolute}.dcg-calculator-api-container .dcg-shared-dropdown-popover-container .dropdown-container:not(.dropdown-pops-up){top:100%;-webkit-box-shadow:0 5px 10px rgba(0,0,0,.2);box-shadow:0 5px 10px rgba(0,0,0,.2)}.dcg-calculator-api-container .dcg-shared-dropdown-popover-container .dropdown-container.dropdown-pops-up{bottom:100%;-webkit-box-shadow:0 -5px 10px rgba(0,0,0,.2);box-shadow:0 -5px 10px rgba(0,0,0,.2)}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-r,.dcg-calculator-api-container .dcg-shared-dropdown-popover-container .dropdown-container:not(.dropdown-pops-right){right:0}.dcg-calculator-api-container .dcg-shared-login-dialog .dcg-shared-password-container .dcg-shared-password-recovery-link{position:absolute;bottom:1.2em;right:10px}.dcg-calculator-api-container .dcg-shared-login-dialog .dcg-shared-password-container .dcg-shared-password-recovery-link .dcg-shared-action-password.dcg-depressed{color:#333;text-decoration:underline}.dcg-calculator-api-container .dcg-shared-login-dialog .dcg-shared-bg-line{height:1px;margin:30px 0 20px;overflow:visible;text-align:center;background:#ccc}.dcg-calculator-api-container .dcg-shared-options-dropdown .dropdown-explanations{font-size:80%;padding:3px 7px;min-width:190px;opacity:.7}.dcg-calculator-api-container .dcg-shared-options-dropdown .dropdown-explanations .explanation a{color:#2f72dc;white-space:nowrap;margin-bottom:5px}.dcg-calculator-api-container .dcg-shared-options-dropdown .dropdown-choice{padding:7px;display:block;color:#666;text-decoration:none;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.dcg-calculator-api-container .dcg-shared-options-dropdown .dropdown-choice:not(.dropdown-choice-disabled).red-link{color:#c0504d}.dcg-calculator-api-container .dcg-shared-options-dropdown .dropdown-choice:not(.dropdown-choice-disabled).red-link.dcg-hovered{color:#ad1a1a}.dcg-calculator-api-container .dcg-shared-options-dropdown .dropdown-choice:not(.dropdown-choice-disabled).red-link.dcg-depressed{color:#860606}.dcg-calculator-api-container .dcg-shared-options-dropdown .dropdown-choice.dropdown-choice-disabled{opacity:.7;cursor:default}.dcg-calculator-api-container .dcg-shared-options-dropdown .dropdown-choice .option-icon-container{display:inline-block;width:20px;text-align:center;margin-right:10px}.dcg-calculator-api-container .dcg-shared-options-dropdown .dropdown-choice .option-subtitle{display:block;margin-left:30px;font-size:80%;text-decoration:underline}.dcg-calculator-api-container .dcg-shared-profile-info{position:relative;height:100%}.dcg-calculator-api-container .dcg-shared-profile-info .dcg-shared-profile-info-container .dcg-shared-profile-info-title{width:70px}.dcg-calculator-api-container .dcg-shared-profile-info .dcg-shared-confirm-name{background:rgba(77,199,180,.2);padding:10px;border-radius:5px;border:1px solid rgba(77,199,180,.3)}.dcg-calculator-api-container .dcg-shared-profile-info .dcg-shared-confirm-name .dcg-shared-profile-info-container,.dcg-calculator-api-container .dcg-shared-profile-info .dcg-shared-email-field-container{margin-top:15px}.dcg-calculator-api-container .dcg-shared-profile-info .dcg-shared-name-field .dcg-shared-profile-info-container{-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;margin-bottom:10px}.dcg-calculator-api-container .dcg-shared-profile-info .dcg-shared-name-field .dcg-shared-profile-info-container .dcg-shared-name-input{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.dcg-calculator-api-container .dcg-shared-profile-info .dcg-shared-name-field .dcg-shared-profile-info-container .dcg-shared-name-input .dcg-shared-profile-info-title{width:100%;margin-bottom:2px}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-roman var.dcg-mq-f,.dcg-calculator-api-container .dcg-shared-profile-info .dcg-shared-name-field .dcg-shared-modal-actions-container .dcg-shared-confirmation-message{margin:0}.dcg-calculator-api-container .dcg-shared-profile-info .dcg-shared-email-field-container .dcg-shared-blue-link{margin-top:.5em}.dcg-calculator-api-container .dcg-shared-profile-info .dcg-shared-delete-link{position:absolute;bottom:0;right:0}@media screen and (max-width:450px){.dcg-calculator-api-container .dcg-shared-email-field .dcg-shared-profile-info-container .dcg-shared-email-field-container{padding-bottom:30px}}@media screen and (max-width:360px){.dcg-calculator-api-container .dcg-shared-email-field .dcg-shared-profile-info-container{-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.dcg-calculator-api-container .dcg-shared-email-field .dcg-shared-profile-info-container .dcg-shared-profile-info-title{margin-bottom:.5em}}.dcg-calculator-api-container .dcg-shared-signup-dialog .dcg-shared-navigation-tabs{padding-bottom:10px;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-ms-flex-line-pack:stretch;-webkit-align-content:stretch;align-content:stretch;-webkit-box-pack:justify;-moz-box-pack:justify;-o-box-pack:justify;-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.dcg-calculator-api-container .dcg-shared-signup-dialog .dcg-shared-navigation-tabs .dcg-shared-tab-gray-underline{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;margin-right:15px}.dcg-calculator-api-container .dcg-shared-signup-dialog .dcg-shared-account-content-container .dcg-shared-component-checkbox{margin-bottom:15px;font-size:90%;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex}.dcg-calculator-api-container .dcg-tooltip-hit-area-container{display:inline-block;position:relative;cursor:default!important;line-height:initial}.dcg-calculator-api-container .dcg-tooltip-positioning-container{position:absolute;pointer-events:none;z-index:10000}.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container{position:absolute;z-index:10000;-webkit-animation:.3s dcg-fadeIn;-moz-animation:.3s dcg-fadeIn;-o-animation:.3s dcg-fadeIn;-ms-animation:dcg-fadeIn 0.3s;animation:.3s dcg-fadeIn;white-space:normal}.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message{background:#000;color:#fff;border-radius:4px;padding:5px 8px;font-size:14px;text-shadow:none;line-height:1.1em;display:inline-block;pointer-events:all;text-align:center}.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message.dcg-latex{background:#fff;color:#000;opacity:1;-ms-filter:none;filter:none;border:1px solid #bbb;border-radius:5px;position:relative}.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message.dcg-latex.dcg-sticky-not-stuck{opacity:.95;color:#666}.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message.dcg-latex.dcg-tooltip-overflow:after{content:"";position:absolute;top:0;bottom:0;right:8px;width:14px;background:-webkit-linear-gradient(left,rgba(255,255,255,0),#fff);background:-moz-linear-gradient(left,rgba(255,255,255,0),#fff);background:-o-linear-gradient(left,rgba(255,255,255,0),#fff);background:-ms-linear-gradient(left,rgba(255,255,255,0),#fff);background:linear-gradient(to right,rgba(255,255,255,0),#fff);pointer-events:none}.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message.dcg-latex .dcg-mq-root-block *{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;cursor:default}.dcg-calculator-api-container .dcg-tooltip-positioning-container.dcg-latex-tooltip-positioning-container .dcg-tooltip-arrow{-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.dcg-calculator-api-container .dcg-tooltip-positioning-container.dcg-latex-tooltip-positioning-container.dcg-tooltip-gravity-n-s .dcg-tooltip-arrow{-webkit-transform:translateX(-50%) rotate(45deg);-moz-transform:translateX(-50%) rotate(45deg);-o-transform:translateX(-50%) rotate(45deg);-ms-transform:translateX(-50%) rotate(45deg);transform:translateX(-50%) rotate(45deg)}.dcg-calculator-api-container .dcg-tooltip-positioning-container.dcg-latex-tooltip-positioning-container.dcg-tooltip-gravity-e-w .dcg-tooltip-arrow{-webkit-transform:translateY(-50%) rotate(45deg);-moz-transform:translateY(-50%) rotate(45deg);-o-transform:translateY(-50%) rotate(45deg);-ms-transform:translateY(-50%) rotate(45deg);transform:translateY(-50%) rotate(45deg)}.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-arrow{position:absolute;-webkit-animation:.3s dcg-fadeIn;-moz-animation:.3s dcg-fadeIn;-o-animation:.3s dcg-fadeIn;-ms-animation:dcg-fadeIn 0.3s;animation:.3s dcg-fadeIn;z-index:10000}.dcg-calculator-api-container #graph-container{position:absolute;top:46px;left:0;bottom:0;right:0}.dcg-calculator-api-container .dcg-header-desktop:not(.dcg-secure-header){margin:0 2px}.dcg-calculator-api-container .dcg-header{width:100%;height:46px;background:#2a2a2a;line-height:46px;overflow:hidden;color:#ddd;-webkit-box-shadow:3px 1px 6px rgba(0,0,0,.2);box-shadow:3px 1px 6px rgba(0,0,0,.2);border-bottom:1px solid #000;-webkit-transform:translate3d(0,0,0)}.dcg-calculator-api-container .dcg-header.dcg-secure-header{background:#1d6fbf;border-color:rgba(0,0,0,.25)}.dcg-calculator-api-container .dcg-header.dcg-secure-header .title-div{width:100%;padding-right:75px}.dcg-calculator-api-container .dcg-header.dcg-secure-header .title-div .dcg-config-name{max-width:100%;margin-left:10px;line-height:46px;display:block;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.dcg-calculator-api-container .dcg-header.dcg-secure-header .align-center-container{width:150px;position:absolute;top:0;left:50%;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;margin-left:-75px;white-space:nowrap;line-height:46px}.dcg-calculator-api-container .dcg-header.dcg-secure-header .align-center-container i{color:rgba(255,255,255,.9);text-shadow:0 1px 1px rgba(0,0,0,.2);font-size:140%;line-height:46px;margin-right:5px}.dcg-calculator-api-container .dcg-header.dcg-secure-header .align-center-container .dcg-desmos-svg-logo{fill:rgba(255,255,255,0.9)}.dcg-calculator-api-container .dcg-header.dcg-secure-header .align-right-container{position:absolute;top:0;right:0;line-height:46px}.dcg-calculator-api-container .dcg-header.dcg-secure-header .align-right-container .dcg-icon-question-sign{cursor:pointer;font-size:110%;color:rgba(255,255,255,.9);padding:10px;position:relative;top:2px}.dcg-calculator-api-container .dcg-header.dcg-secure-header .align-right-container .dcg-end-test-button{display:inline-block;border:1px solid #fff;border-radius:5px;line-height:34px;margin:5px;padding:0 10px;color:#fff}.dcg-calculator-api-container .dcg-header.dcg-secure-header .align-right-container .dcg-end-test-button.dcg-hovered{-webkit-box-shadow:inset 0 0 0 1px #fff;box-shadow:inset 0 0 0 1px #fff}.dcg-calculator-api-container .dcg-header.dcg-secure-header .align-right-container .dcg-end-test-button.dcg-depressed{background:rgba(255,255,255,.25);color:#fff}.dcg-calculator-api-container .dcg-header .dcg-edit-acct-success{color:#59b259;font-size:80%;font-weight:700;padding:0 8px;float:left}.dcg-calculator-api-container .dcg-header .dcg-edit-acct-success i{font-size:70%;margin-right:5px}.dcg-calculator-api-container .dcg-header .align-left-container .title-div .dcg-config-name{margin-left:10px;color:#fff}.dcg-calculator-api-container .dcg-header .align-left-container .title-div .save-btn-container{--button-height:32px;position:absolute;top:6px;font-size:90%;margin-left:5px}.dcg-calculator-api-container .dcg-header .align-left-container .title-div .save-btn-container .saving-notice{line-height:1em;text-shadow:none;font-size:80%;font-weight:700;cursor:default;padding:0 8px;-webkit-animation:.3s dcg-fadeIn;-moz-animation:.3s dcg-fadeIn;-o-animation:.3s dcg-fadeIn;-ms-animation:dcg-fadeIn 0.3s;animation:.3s dcg-fadeIn}.dcg-calculator-api-container .dcg-header .align-left-container .title-div .save-btn-container .saving-notice span.dcg-spinner-dark{position:relative;top:3px;left:11px}.dcg-calculator-api-container .dcg-header .align-left-container .title-div .dcg-variable-title-container .dcg-variable-title{display:inline-block;max-width:210px;-o-text-overflow:ellipsis;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;margin-left:5px;margin-right:5px;height:46px}.dcg-calculator-api-container .dcg-header .align-left-container .title-div .dcg-variable-title-container .dcg-graph-actions-dropdown-anchor{-webkit-animation:.3s dcg-fadeIn;-moz-animation:.3s dcg-fadeIn;-o-animation:.3s dcg-fadeIn;-ms-animation:dcg-fadeIn 0.3s;animation:.3s dcg-fadeIn;margin:0 5px;vertical-align:top;font-size:72%}.dcg-calculator-api-container .dcg-header .align-right-container .logout-progress-notice{line-height:1em;font-size:80%;font-weight:700;cursor:default;padding:0 8px;-webkit-animation:.3s dcg-fadeIn;-moz-animation:.3s dcg-fadeIn;-o-animation:.3s dcg-fadeIn;-ms-animation:dcg-fadeIn 0.3s;animation:.3s dcg-fadeIn}.dcg-calculator-api-container .dcg-header .align-right-container .dcg-action-contest{-webkit-transition:-webkit-transform .2s;-moz-transition:-moz-transform .2s;-o-transition:-o-transform .2s;-ms-transition:-ms-transform .2s;transition:transform .2s}.dcg-calculator-api-container .dcg-header .align-right-container .dcg-action-contest.dcg-hovered{-webkit-transform:scale(1.15,1.15);-moz-transform:scale(1.15,1.15);-o-transform:scale(1.15,1.15);-ms-transform:scale(1.15,1.15);transform:scale(1.15,1.15)}.dcg-calculator-api-container .dcg-header .align-center-container .dcg-home-link .dcg-desmos-svg-logo,.dcg-calculator-api-container .dcg-header .align-center-container .dcg-practice-logo .dcg-desmos-svg-logo{filter:drop-shadow(0 1px 1px #000);height:22px}.dcg-calculator-api-container .dcg-header .align-center-container .dcg-home-link{line-height:46px;position:relative;top:5px}.dcg-calculator-api-container .dcg-header .align-center-container .dcg-home-link .dcg-desmos-svg-logo{fill:#ddd}.dcg-calculator-api-container .dcg-header .align-center-container .dcg-home-link.dcg-hovered .dcg-desmos-svg-logo{fill:#fff}.dcg-calculator-api-container .dcg-header .align-center-container .dcg-home-link.dcg-depressed .dcg-desmos-svg-logo{fill:#ccc}.dcg-calculator-api-container .dcg-header a.dcg-home-link-icon,.dcg-calculator-api-container .dcg-header a.dcg-home-link-ipad{text-decoration:none;height:40px}.dcg-calculator-api-container .dcg-header a.dcg-home-link-ipad{display:none;padding:7px 20px}.dcg-calculator-api-container .dcg-header a.dcg-home-link-ipad img{height:32px}.dcg-calculator-api-container .dcg-header .dcg-header-btn{font-size:115%;cursor:pointer;display:inline-block;width:40px;text-align:center;position:relative;top:1px}.dcg-calculator-api-container .dcg-over-graph-hamburger .dcg-action-opendrawer{position:absolute;top:0;left:0;z-index:1;display:inline-block;height:54px;width:52px;line-height:54px;text-align:center;font-size:130%;color:#888}.dcg-calculator-api-container .dcg-account-link{display:inline-block;padding:0 15px;text-decoration:none;cursor:pointer;border-right:1px solid transparent}.dcg-calculator-api-container .dcg-account-link .header-account-name{max-width:100px;float:left;margin-right:5px;display:inline-block;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.dcg-calculator-api-container .dcg-account-link i{font-size:72%;margin-left:4px}.dcg-calculator-api-container .dcg-login{position:relative;top:-1px;font-size:90%;margin-right:10px}.dcg-calculator-api-container .dcg-login .dcg-create-account,.dcg-calculator-api-container .dcg-login .dcg-sign-in{padding:8px 12px}.dcg-calculator-api-container .dcg-login .dcg-create-account{margin-left:8px}.dcg-calculator-api-container .dcg-login .dcg-sign-in{margin-right:8px}@media screen and (max-width:500px){.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-country-and-year{-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.dcg-calculator-api-container .dcg-contest-submission-dialog .dcg-country-and-year .dcg-form-section+.dcg-form-section{margin-top:20px}.dcg-calculator-api-container .dcg-shared-signup-dialog .dcg-shared-account-content-container .dcg-shared-google-login.dcg-disabled{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-pack:center;-moz-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;padding:10px}.dcg-calculator-api-container .dcg-shared-signup-dialog .dcg-shared-account-content-container .dcg-shared-google-login.dcg-disabled span{text-align:left}.dcg-calculator-api-container .dcg-shared-signup-dialog .dcg-shared-account-content-container .dcg-shared-google-login.dcg-disabled .dcg-shared-external-login-logo{margin:0 20px 0 10px}.dcg-calculator-api-container .dcg-header.dcg-secure-header .align-left-container{width:100%}.dcg-calculator-api-container .dcg-header.dcg-secure-header .align-left-container .title-div{padding-right:0}.dcg-calculator-api-container .dcg-header.dcg-secure-header .align-left-container .title-div .dcg-config-name{max-width:calc(100% - 140px)}.dcg-calculator-api-container .dcg-header.dcg-secure-header .align-center-container,.dcg-calculator-api-container .dcg-header.dcg-secure-header .align-right-container .dcg-error-log-message{display:none}}.dcg-calculator-api-container .dcg-spinner,.dcg-calculator-api-container .dcg-spinner-dark{width:20px;height:20px;position:relative;display:inline-block}.dcg-calculator-api-container .dcg-spinner-dark:after,.dcg-calculator-api-container .dcg-spinner-dark:before,.dcg-calculator-api-container .dcg-spinner:after,.dcg-calculator-api-container .dcg-spinner:before{content:'';position:absolute;top:0;left:0;bottom:0;right:0;border-radius:50%;background:#eee;opacity:.4;-webkit-animation:2s ease-in-out infinite dcg-spinner-bounce;-moz-animation:2s ease-in-out infinite dcg-spinner-bounce;-o-animation:2s ease-in-out infinite dcg-spinner-bounce;-ms-animation:dcg-spinner-bounce 2s infinite ease-in-out;animation:2s ease-in-out infinite dcg-spinner-bounce}.dcg-calculator-api-container .dcg-spinner-dark:before,.dcg-calculator-api-container .dcg-spinner:before{-webkit-animation-delay:-1s;-moz-animation-delay:-1s;-o-animation-delay:-1s;-ms-animation-delay:-1s;animation-delay:-1s}.dcg-calculator-api-container .dcg-spinner:after,.dcg-calculator-api-container .dcg-spinner:before{background:#000}@-webkit-keyframes dcg-spinner-bounce{0%,100%{-webkit-transform:scale(0);-moz-transform:scale(0);-o-transform:scale(0);-ms-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}}@keyframes dcg-spinner-bounce{0%,100%{-webkit-transform:scale(0);-moz-transform:scale(0);-o-transform:scale(0);-ms-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}}.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option{padding:4px 6px;text-align:center;border:1px solid #ccc}.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option.dcg-selected-toggle+.dcg-toggle-option{border-left:1px solid #2f72dc}.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option.dcg-selected-toggle{background:rgba(47,114,220,.15);border-color:#2f72dc;color:#2f72dc;cursor:default!important}.dcg-calculator-api-container .trip-block{position:absolute;opacity:0;-webkit-transition:.3s;-moz-transition:.3s;-o-transition:.3s;-ms-transition:.3s;transition:.3s;display:none;-webkit-transform:scale(0,0);-moz-transform:scale(0,0);-o-transform:scale(0,0);-ms-transform:scale(0,0);transform:scale(0,0)}.dcg-calculator-api-container .trip-block.trip-is-loaded:not(.trip-hidden){opacity:1;-ms-filter:none;filter:none;-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-o-transform:scale(1,1);-ms-transform:scale(1,1);transform:scale(1,1)}.dcg-calculator-api-container .trip-block .trip-interior{padding:10px 40px 10px 10px;text-align:left;min-width:100px;border-radius:6px;width:275px;background:#fff;border:3px solid #2f72dc;color:#444;font-size:100%;-webkit-box-shadow:0 2px 7px 0 rgba(0,0,0,.3);box-shadow:0 2px 7px 0 rgba(0,0,0,.3)}.dcg-calculator-api-container .trip-block .trip-interior .trip-title{font-weight:700;margin-bottom:5px}.dcg-calculator-api-container .trip-block .trip-interior .trip-hint{font-size:80%;line-height:12px;margin-top:4px;color:#666}.dcg-calculator-api-container .trip-block .trip-interior code{border:1px solid #d3d3d3;border-radius:3px;padding:2px 3px;display:inline-block}.dcg-calculator-api-container .trip-block .trip-interior code i{font-size:70%;font-family:Arial,sans-serif}.dcg-calculator-api-container .trip-block .trip-interior .trip-close{color:rgba(0,0,0,.5);position:absolute;right:0;top:0;font-size:170%;line-height:16px;float:right;padding:6px;text-decoration:none;cursor:pointer}.dcg-calculator-api-container .trip-block .trip-interior .trip-close.dcg-hovered{color:rgba(0,0,0,.65)}.dcg-calculator-api-container .trip-block .trip-arrow{border:10px solid transparent;height:0;width:0;position:absolute}.dcg-calculator-api-container .trip-block.trip-s .trip-arrow{border-bottom-color:#2f72dc;border-top-width:0;bottom:100%}.dcg-calculator-api-container .trip-block.trip-e .trip-arrow{border-left-width:0;border-right-color:#2f72dc;right:100%}.dcg-calculator-api-container .trip-block.trip-n .trip-arrow,.dcg-calculator-api-container .trip-block.trip-s .trip-arrow{left:50%;margin-left:-10px}.dcg-calculator-api-container .trip-block.trip-e .trip-arrow,.dcg-calculator-api-container .trip-block.trip-w .trip-arrow{top:50%;margin-top:-10px}.dcg-calculator-api-container .trip-block.trip-n .trip-arrow{border-bottom-width:0;border-top-color:#2f72dc;top:100%}.dcg-calculator-api-container .trip-block.trip-w .trip-arrow{border-right-width:0;border-left-color:#2f72dc;left:100%}.dcg-calculator-api-container .trip-progress-bar{height:1px;background-color:#444;width:0}.dcg-calculator-api-container .dcg-mq-mathspeak,.dcg-mq-aria-alert{position:absolute;left:-1000px;top:-1000px;width:0;height:0;text-align:left;overflow:hidden}.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-cursor{border-left:1px solid currentColor;margin-left:-1px;position:relative;z-index:1;padding:0;display:inline-block}.dcg-calculator-api-container .dcg-mq-editable-field,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-editable-field{border:1px solid gray}.dcg-calculator-api-container .dcg-mq-editable-field.dcg-mq-focused,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-editable-field.dcg-mq-focused{-webkit-box-shadow:#8bd 0 0 1px 2px,inset #6ae 0 0 2px 0;-moz-box-shadow:#8bd 0 0 1px 2px,inset #6ae 0 0 2px 0;box-shadow:#8bd 0 0 1px 2px,inset #6ae 0 0 2px 0;border-color:#709ac0}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-editable-field{margin:1px}.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-latex-command-input{color:inherit;font-family:"Courier New",monospace;border:1px solid gray;padding-right:1px;margin-right:1px;margin-left:2px}.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-latex-command-input.dcg-mq-empty,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-empty.dcg-mq-quiet-delimiter,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-empty.dcg-mq-root-block,.dcg-calculator-api-container .dcg-mq-math-mode.dcg-mq-empty{background:0 0}.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-latex-command-input.dcg-mq-hasCursor{border-color:ActiveBorder}.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-cursor:only-child:after,.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-textarea+.dcg-mq-cursor:last-child:after,.dcg-calculator-api-container .dcg-mq-editable-field.dcg-mq-empty:after,.dcg-calculator-api-container .dcg-mq-editable-field.dcg-mq-text-mode:after,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-empty:after{visibility:hidden;content:'c'}.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-text-mode .dcg-mq-cursor:only-child:after{content:''}.dcg-calculator-api-container .dcg-mq-editable-field.dcg-mq-text-mode{overflow-x:auto;overflow-y:hidden}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block,.dcg-calculator-api-container .dcg-mq-root-block{display:inline-block;width:100%;padding:2px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;white-space:nowrap;overflow:hidden;vertical-align:middle}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-digit,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-1,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-2,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-3,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-other,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-start,.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-digit,.dcg-calculator-api-container .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-1,.dcg-calculator-api-container .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-2,.dcg-calculator-api-container .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-3,.dcg-calculator-api-container .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-other,.dcg-calculator-api-container .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-start{margin-left:.009em;margin-right:.009em}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-group-start,.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-group-start{margin-left:.11em;margin-right:-.01em}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-group-other,.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-group-other{margin-left:-.01em;margin-right:-.01em}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-group-leading-1,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-group-leading-2,.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-group-leading-1,.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-group-leading-2{margin-left:0;margin-right:-.01em}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-group-leading-3,.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-group-leading-3{margin-left:.036em;margin-right:-.01em}.dcg-calculator-api-container .dcg-mq-math-mode{font-variant:normal;font-weight:400;font-style:normal;font-size:115%;line-height:1;display:inline-block}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-nonSymbola,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-text-mode,.dcg-calculator-api-container .dcg-mq-math-mode var{font-family:"Times New Roman",Symbola,serif;line-height:.9}.dcg-calculator-api-container .dcg-mq-math-mode svg{fill:currentColor;position:absolute;top:0;left:0;width:100%;height:100%}.dcg-calculator-api-container .dcg-mq-math-mode *{font-size:inherit;line-height:inherit;margin:0;padding:0;border-color:#000;-webkit-user-select:none;-moz-user-select:none;user-select:none;box-sizing:border-box}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-text-mode{display:inline-block;white-space:pre}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-text-mode.dcg-mq-hasCursor{box-shadow:inset #a9a9a9 0 .1em .2em;padding:0 .1em;margin:0 -.1em;min-width:1ex}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-font{font:1em "Times New Roman",Symbola,serif}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-font *{font-family:inherit;font-style:inherit}.dcg-calculator-api-container .dcg-mq-math-mode b,.dcg-calculator-api-container .dcg-mq-math-mode b.dcg-mq-font{font-weight:bolder}.dcg-calculator-api-container .dcg-mq-math-mode i,.dcg-calculator-api-container .dcg-mq-math-mode i.dcg-mq-font,.dcg-calculator-api-container .dcg-mq-math-mode var{font-style:italic}.dcg-calculator-api-container .dcg-mq-math-mode var.dcg-mq-f{margin-right:.2em;margin-left:.1em}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-int>big{display:inline-block;-webkit-transform:scaleX(.7);-moz-transform:scaleX(.7);-ms-transform:scaleX(.7);-o-transform:scaleX(.7);transform:scaleX(.7);vertical-align:-.16em}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-int>.dcg-mq-supsub{font-size:80%;vertical-align:-1.1em;padding-right:.2em}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-int>.dcg-mq-supsub>.dcg-mq-sup>.dcg-mq-sup-inner{vertical-align:1.3em}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-int>.dcg-mq-supsub>.dcg-mq-sub{margin-left:-.35em}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-sans-serif{font-family:sans-serif,Symbola,serif}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-monospace{font-family:monospace,Symbola,serif}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overline{border-top:1px solid;margin-top:1px}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-underline{border-bottom:1px solid;margin-bottom:1px}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-binary-operator{padding:0 .2em;display:inline-block}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub{text-align:left;font-size:90%;vertical-align:-.5em}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub.dcg-mq-sup-only{vertical-align:.5em}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub.dcg-mq-sup-only>.dcg-mq-sup{display:inline-block;vertical-align:text-bottom}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-sub{display:block;float:left}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-numerator,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-binary-operator{padding:0 .1em}.dcg-calculator-api-container .dcg-mq-math-mode sup.dcg-mq-nthroot{font-size:80%;vertical-align:.8em;margin-right:-.6em;margin-left:.2em;min-width:.5em}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-middle{margin-top:.1em;margin-bottom:.1em}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-l,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-r{position:absolute;top:0;bottom:2px}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-l{left:0}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-array{vertical-align:middle;text-align:center}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-operator-name{font-family:Symbola,"Times New Roman",serif;line-height:.9;font-style:normal}.dcg-calculator-api-container .dcg-mq-math-mode var.dcg-mq-operator-name.dcg-mq-first{padding-left:.2em}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub.dcg-mq-after-operator-name,.dcg-calculator-api-container .dcg-mq-math-mode var.dcg-mq-operator-name.dcg-mq-last{padding-right:.2em}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-fraction{font-size:90%;text-align:center;vertical-align:-.4em;padding:0 .2em}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-fraction,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator,.dcg-calculator-api-container .dcg-mq-math-mode x:-moz-any-link{display:-moz-groupbox}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-fraction,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator,.dcg-calculator-api-container .dcg-mq-math-mode x:-moz-any-link,.dcg-calculator-api-container .dcg-mq-math-mode x:default{display:inline-block}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-denominator{border-top:1px solid;float:right;width:100%;padding:.1em}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-dot-recurring{text-align:center;height:.3em}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-sqrt-prefix{position:absolute;top:1px;bottom:.15em;width:.95em}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-sqrt-stem{border-top:1px solid;margin-top:1px;margin-left:.9em;padding-left:.15em;padding-right:.2em;margin-right:.1em;padding-top:1px}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-diacritic-above{display:block;text-align:center;line-height:.4em}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-diacritic-stem{display:block;text-align:center}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-hat-prefix{display:block;text-align:center;line-height:.95em;margin-bottom:-.7em;transform:scaleX(1.5);-moz-transform:scaleX(1.5);-o-transform:scaleX(1.5);-webkit-transform:scaleX(1.5)}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator{vertical-align:-.2em;padding:.2em;text-align:center}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-from{float:right;width:100%}.dcg-calculator-api-container .dcg-mq-math-mode,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-editable-field{cursor:text;font-family:Symbola,"Times New Roman",serif}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarc{border-top:1px solid #000;-webkit-border-top-right-radius:50% .3em;-moz-border-radius-topright:50% .3em;border-top-right-radius:50% .3em;-webkit-border-top-left-radius:50% .3em;-moz-border-radius-topleft:50% .3em;border-top-left-radius:50% .3em;margin-top:1px;padding-top:.15em}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarrow{min-width:.5em;border-top:1px solid #000;margin-top:1px;padding-top:.2em;text-align:center;position:relative}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarrow:after{position:absolute;right:-.1em;top:-.48em;font-size:.5em;content:'\27A4'}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarrow.dcg-mq-arrow-left:after{content:'';display:none}.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarrow.dcg-mq-arrow-left:before,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarrow.dcg-mq-arrow-leftright:before{position:absolute;top:-.48em;left:-.1em;font-size:.5em;content:'\27A4';-moz-transform:scaleX(-1);-o-transform:scaleX(-1);-webkit-transform:scaleX(-1);transform:scaleX(-1);filter:FlipH;-ms-filter:"FlipH"}.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection,.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection .dcg-mq-non-leaf,.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection .dcg-mq-scaled,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection .dcg-mq-non-leaf,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection .dcg-mq-scaled{background:#b4d5fe!important}.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection.dcg-mq-blur,.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection.dcg-mq-blur .dcg-mq-non-leaf,.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection.dcg-mq-blur .dcg-mq-scaled,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection.dcg-mq-blur,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection.dcg-mq-blur .dcg-mq-non-leaf,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection.dcg-mq-blur .dcg-mq-scaled{background:#d4d4d4!important;color:#000;border-color:#000}html body .dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection .dcg-mq-nthroot-container *,html body .dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection .dcg-mq-nthroot-container *,html.dcg-calculator-api-container body .dcg-mq-editable-field .dcg-mq-selection .dcg-mq-nthroot-container *,html.dcg-calculator-api-container body .dcg-mq-math-mode .dcg-mq-selection .dcg-mq-nthroot-container *{background:0 0!important}.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-textarea,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-textarea{position:relative;-webkit-user-select:text;-moz-user-select:text;user-select:text}.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-textarea *,.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-textarea *{-webkit-user-select:text;-moz-user-select:text;user-select:text;position:absolute;clip:rect(1em 1em 1em 1em);-webkit-transform:scale(0);-moz-transform:scale(0);-ms-transform:scale(0);-o-transform:scale(0);transform:scale(0);resize:none;width:1px;height:1px;box-sizing:content-box}
</style>
  </head>
  <body data-load-data="{&quot;seed&quot;:&quot;86413f10af5a4ecc9dd8854340ad0a5e&quot;}" data-country="US" class="dcg-tap-container touchtracking_id_1 dcg-hovered">
    <div class="dcg-loading-div-container" style="display: none;">
      <div class="dcg-loading-background-div"></div>
      <div class="dcg-loading-div">Loading...</div>
    </div>

    <!-- GRAPHER -->
    <div class="dcg-sliding-interior">
      <!-- this will contain all of the menus and the graph -->
      <div id="dcg-header-container" class=""><div class=""><div class="dcg-header"><div class="dcg-header-desktop"><div class="align-left-container"><span role="button" tabindex="0" aria-label="Open Graph (cmd+o)" class="dcg-header-btn dcg-action-opendrawer dcg-tooltip" tooltip="Open Graph (cmd+o)" ontap=""><div class="dcg-tooltip-hit-area-container" handleevent="true" ontap=""><i class="dcg-icon-hamburger" aria-hidden="true"></i></div></span><span class="title-div"><span role="button" class="dcg-variable-title-container" tabindex="0" ontap="" aria-haspopup="false" aria-expanded="false"><span class="dcg-variable-title dcg-tooltip">Untitled Graph</span><div style="display: none"></div></span><div style="display: none"></div></span></div><div class="align-center-container"><a href="https://adaptable-juniper-desert.glitch.me/" target="_blank" class="dcg-home-link"><span>
    <svg version="1.1" class="dcg-desmos-svg-logo" id="svg-desmos" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 909.3 188.4" style="enable-background:new 0 0 909.3 188.4;" xml:space="preserve">
    <title>Desmos Logo</title>
    <g>
      <path d="M129.6,0c-6.8,0-12.4,5.5-12.4,12.4v48c-27.7-25.4-70.6-24-96.7,3.1c-27.4,28.4-27.4,73.4,0,101.8
        c26.1,27.1,69.1,28.4,96.8,3v8.8c2,6.5,9,10.2,15.5,8.2c3.9-1.2,7-4.3,8.2-8.2V12.4C141.1,5.9,136.1,0.5,129.6,0z M103.9,148.7
        c-17.3,18.2-46.1,18.9-64.3,1.6c-0.6-0.5-1.1-1.1-1.6-1.6c-18.4-19.2-18.4-49.5,0-68.7c17.3-18.2,46.1-18.9,64.3-1.6
        c0.6,0.5,1.1,1.1,1.6,1.6C122.3,99.3,122.3,129.6,103.9,148.7z"></path>
      <path d="M298.3,124c2.2-2.3,3.4-5.3,3.5-8.4c-0.1-19-7.6-37.2-20.9-50.7c-26.6-27.6-70.6-28.4-98.2-1.8c-0.6,0.6-1.2,1.2-1.8,1.8
        c-27.4,28.4-27.4,73.4,0,101.8c21.8,22.6,56.2,27.7,83.7,12.4c10-5.6,18.5-13.5,24.8-23.1c3.4-5.5,1.9-12.7-3.3-16.5
        c-5.5-3.3-12.6-1.7-16.4,3.5c-4.2,6.4-9.9,11.6-16.6,15.4c-6.8,3.8-14.4,5.8-22.2,5.8c-12.5,0-24.4-5.1-33.1-14.1
        c-6-6.3-10.3-14-12.4-22.4h104C292.7,127.6,296,126.3,298.3,124z M231.3,67.2c12.4,0.1,24.3,5.2,33,14.1
        c6.1,6.3,10.4,14.1,12.4,22.6h-90.7c2.1-8.5,6.3-16.3,12.4-22.6C207,72.4,218.8,67.3,231.3,67.2z"></path>
      <path d="M763.5,63c-26.7-28.1-71.1-29.2-99.2-2.5c-0.8,0.8-1.7,1.6-2.5,2.5c-13.7,13.9-21.3,32.7-20.9,52.2
        c-0.2,19.3,7.2,37.8,20.7,51.6c27.7,28.2,73.1,28.7,101.3,0.9c0.3-0.3,0.6-0.6,0.9-0.9c13.4-13.8,20.9-32.4,20.7-51.7
        c0.2-19.4-7.3-38.2-21.1-51.9 M712.8,66.7c12.4,0,24.2,5.2,32.5,14.4c8.9,9.2,13.8,21.5,13.6,34.3c0.2,12.7-4.6,25-13.5,34.1
        c-8.5,9.2-20.5,14.2-33,13.9c-12.3,0.3-24.2-4.7-32.5-13.8c-8.8-9.1-13.6-21.4-13.3-34.1c-0.3-12.9,4.7-25.4,13.8-34.6
        c8.2-9.3,20-14.6,32.4-14.4"></path>
      <path d="M623.8,92.6v81.9c0.3,6.8-4.9,12.7-11.8,13c-6.8,0.3-12.7-4.9-13-11.8V93.1c0-7.5-3-14.6-8.3-19.8
        c-4.3-4.7-10.2-7.6-16.5-8.1h-1.9c-7-0.1-13.6,2.9-18.2,8.2c-4.8,4.9-7.5,11.5-7.7,18.3v2l0,0v81.1c0,6.8-5.5,12.4-12.4,12.4
        c-6.5,0-11.9-4.9-12.4-11.4V91.5c-0.6-4.3-1.8-8.4-3.5-12.4c-1.2-2.3-2.6-4.5-4.3-6.4c-4.7-5.2-11.3-8.3-18.3-8.3
        c-7,0-13.6,3-18.1,8.3c-5.1,5.2-8,12.3-7.9,19.6V176c-0.8,6.3-6.1,11-12.4,10.9c-6.8,0-12.4-5.5-12.4-12.4V52.9
        c-0.7-6.8,4.2-12.9,11-13.6c5.9-0.6,11.4,3,13.1,8.7l2.9-1.9c7.4-3.9,15.6-6,23.9-5.9c12.3-0.1,24.1,4.3,33.3,12.4
        c1.1,0.9,2.1,2,3,3.1c0.9,0.7,1.7,1.5,2.5,2.4l2.2-2.4c0.9-1.1,1.9-2.2,3-3.1c9.2-8.1,21-12.5,33.2-12.4h4.3
        c10.8,0.8,21,5.1,29,12.4c0.9,1,2,1.9,3,2.9C618.9,65.3,624,78.7,623.8,92.6"></path>
      <path d="M427.2,145.4c0.1,23.4-18.6,42.5-42,43h-50.8c-6.8,0-12.4-5.5-12.4-12.4s5.5-12.4,12.4-12.4H384c10-0.2,17.9-8.4,17.8-18.3
        c0.1-9.9-7.9-18-17.8-18.1c0,0-0.1,0-0.1,0h-24.8c-23.8-1.3-42-21.6-40.8-45.4c1.2-22,18.8-39.6,40.8-40.8h50.2
        c6.8,0,12.4,5.5,12.4,12.4s-5.5,12.4-12.4,12.4h-49.1c-10,0.8-17.5,9.6-16.7,19.7c0.7,8.9,7.8,15.9,16.7,16.7H385
        c5.9,0,11.8,1.2,17.2,3.7C417.7,112.8,427.2,128.4,427.2,145.4"></path>
      <path d="M908.9,145.2c0,23.4-18.3,42.7-41.6,43.3h-50.8c-6.8,0-12.4-5.5-12.4-12.4s5.5-12.4,12.4-12.4h50.2
        c10-0.2,17.9-8.4,17.8-18.3c0.1-9.9-7.9-18-17.8-18.1c0,0-0.1,0-0.1,0h-24.8c-23.8-1.3-42-21.6-40.8-45.4
        c1.2-22,18.8-39.6,40.8-40.8h49.6c6.8,0,12.4,5.5,12.4,12.4s-5.5,12.4-12.4,12.4h-49.6c-10.1,0-18.2,8.2-18.2,18.2c0,0,0,0,0,0
        c0,9.9,8,18,17.8,18.1h24.8c5.9,0,11.8,1.3,17.2,3.7C898.9,112.8,908.9,128.2,908.9,145.2"></path>
    </g>
    </svg>
    </span></a></div><div class="dcg-toast-view"><div style="display: none"></div></div><div style="display: none"></div><div class="align-right-container"><span><div style="display: none"></div><span class="dcg-login"><a role="link" tabindex="0" class="dcg-sign-in dcg-action-login dcg-btn-white-outline" ontap="">Log In</a>or<a role="link" tabindex="0" class="dcg-create-account dcg-btn dcg-btn-primary dcg-action-createaccount" ontap="">Sign Up</a></span></span><div style="display: none"></div><div class="dcg-tooltip-hit-area-container" handleevent="true" ontap=""><span role="button" tabindex="0" aria-haspopup="true" aria-label="share" aria-expanded="false" class="dcg-header-btn dcg-action-share dcg-tooltip" dcg-menu-button="share" ontap=""><i class="dcg-icon-share" aria-hidden="true"></i></span></div><div class="dcg-tooltip-hit-area-container" handleevent="true" ontap=""><span role="button" tabindex="0" aria-haspopup="true" aria-label="Help" aria-expanded="false" class="dcg-header-btn dcg-action-help dcg-tooltip" dcg-menu-button="help" ontap=""><i class="dcg-icon-question-sign" aria-hidden="true"></i></span></div><div class="dcg-tooltip-hit-area-container" handleevent="true" ontap=""><span role="button" tabindex="0" aria-haspopup="true" aria-label="Language" aria-expanded="false" class="dcg-header-btn dcg-action-language dcg-tooltip" dcg-menu-button="language" ontap=""><i class="dcg-icon-world" aria-hidden="true"></i></span></div></div></div><div style="display: none"></div></div><span></span></div></div>
      <div id="graph-container"><div class="dcg-wrapper" style="width: 100%; height: 100%;"><div class="dcg-calculator-api-container" style="width: 100%; height: 100%; position: relative;"><div class="dcg-container dcg-is-interactive dcg-tap-container touchtracking_id_1" style="font-size:16px;background:#ffffff;color:#000000" role="application" aria-label="Desmos Graphing Calculator" x-ms-format-detection="none"><div><div class="dcg-exppanel-outer" style="position:absolute;left:0px;top:0px;width:436px;height:642px"><div style="display: none"></div><div class="dcg-exppanel-container dcg-add-shadow" style=""><div class="dcg-expression-top-bar" role="toolbar" aria-label="Expression Bar" style=""><div class="dcg-left-buttons"><span class="dcg-action-opendrawer dcg-tooltip dcg-icon-btn dcg-in-api-action-opendrawer" handleevent="true" tooltip="Open Graph (ctrl+o)" role="button" tabindex="0" aria-label="Open Graph" ontap=""><i class="dcg-icon-hamburger" aria-hidden="true"></i></span><div class="dcg-add-expression-container"><div class="dcg-tooltip-hit-area-container" handleevent="true" ontap=""><span class="dcg-icon-btn dcg-add-expression-btn dcg-action-add-expression dcg-do-blur" handleevent="true" role="button" tabindex="0" aria-haspopup="true" aria-expanded="false" aria-label="Add Item" ontap=""><i class="dcg-icon-plus" aria-hidden="true"></i></span></div><div style="display: none"></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div class="dcg-center-buttons"><div class="dcg-tooltip-hit-area-container" handleevent="true" ontap=""><span class="dcg-action-undo dcg-icon-btn dcg-disabled" role="button" tabindex="-1" aria-label="Undo" ontap="" aria-disabled="true"><i class="dcg-icon-undo" aria-hidden="true"></i></span></div><div class="dcg-tooltip-hit-area-container" handleevent="true" ontap=""><span class="dcg-action-redo dcg-icon-btn dcg-disabled" role="button" tabindex="-1" aria-label="Redo" ontap="" aria-disabled="true"><i class="dcg-icon-redo" aria-hidden="true"></i></span></div></div><div class="dcg-right-buttons"><div class="dcg-tooltip-hit-area-container" handleevent="true" ontap=""><span class="dcg-icon-btn dcg-action-toggle-edit" handleevent="true" role="button" tabindex="0" aria-label="Edit Expression List" ontap=""><i class="dcg-icon-settings" aria-hidden="true"></i></span></div><div style="display: none"></div><div class="dcg-tooltip-hit-area-container" handleevent="true" ontap=""> <span class="dcg-resize-list-btn dcg-action-hideexpressions dcg-icon-btn" role="button" tabindex="0" aria-label="Hide Expression List" ontap=""><i class="dcg-icon-hide" aria-hidden="true"></i></span></div></div></div><div style="display: none"></div><div style="display: none"></div><div class="dcg-exppanel dcg-disable-horizontal-scroll-to-cursor" style="background:#ffffff"><div class="dcg-expressionlist" role="complementary" aria-label="Expression list"><span class="dcg-template-expressioneach"><div class="dcg-do-not-blur dcg-expressionitem dcg-mathitem dcg-selected" expr-id="1"><div class="dcg-fade-container" ontap=""><div class="dcg-main"><div class="dcg-mathquill-wrapper"><div style="display: none"></div><div class="dcg-typeset-math" style="" aria-hidden="false"><div class="dcg-expression-mathquill dcg-mq-editable-field dcg-mq-math-mode dcg-mq-focused"><span class="dcg-mq-textarea"><textarea aria-label="Expression 1:"></textarea></span><span class="dcg-mq-root-block dcg-mq-hasCursor" aria-hidden="true"><span class="dcg-mq-cursor"></span></span></div></div></div><div style="display: none"></div></div><i class="dcg-icon-remove dcg-top-level-delete" handleevent="true" ontap="" aria-hidden="true"></i><div style="display: none"></div><div style="display: none"></div></div><span class="dcg-tab dcg-action-drag dcg-action-icon-touch" handleevent="true" tapboundary="true" disablescroll="true" style="touch-action:none"><span class="dcg-num">1</span><div class="dcg-tab-interior dcg-action-icon-mouse"><div class="dcg-expression-icon-container"><span></span></div></div><div style="display: none"></div></span><div style="display: none"></div></div></span><div class="dcg-expressionitem dcg-new-expression dcg-opened"><div class="dcg-new-math-div dcg-do-not-blur dcg-action-newmath" ontap=""><div class="dcg-new-expression-fade"></div></div><span class="dcg-tab"><span class="dcg-num dcg-variable-index">2</span><div class="dcg-tab-interior"></div></span></div><div style="display: none"></div><div class="dcg-expressions-branding" style="opacity:1"><div style="display: none"></div><span class="dcg-noedit-branding"><div class="dcg-powered-by" aria-label="Powered by Desmos">powered by</div><i class="dcg-icon-desmos" aria-hidden="true"></i></span></div></div></div></div><div class="dcg-exp-list-resizer"></div></div><span></span></div><div style="display: none"></div><div style="display: none"></div><div><div class="dcg-pillbox-container" role="group" aria-label="Graph Settings Controls"><div class="dcg-overgraph-pillbox-elements" style="bottom: auto"><div class="dcg-settings-view-container"><div class="dcg-tooltip-hit-area-container" handleevent="true" ontap=""><div class="dcg-btn-flat-gray dcg-settings-pillbox dcg-action-settings" role="button" tabindex="0" aria-haspopup="true" aria-expanded="false" aria-label="Graph Settings" ontap="" style="background:#ededed"><i class="dcg-icon-wrench" aria-hidden="true"></i><div style="display: none"></div></div></div><div style="display: none"></div></div><div style="display: none"></div><div class="dcg-zoom-container"><div class="dcg-zoominout-pillbox dcg-btn-flat-gray dcg-btn-flat-gray-group" style="background:#ededed"><div class="dcg-tooltip-hit-area-container" handleevent="true" ontap=""><div class="dcg-action-zoomin" role="button" tabindex="0" aria-label="Zoom In" ontap="" style="background:#ededed"><i class="dcg-icon dcg-icon-plus" aria-hidden="true"></i></div></div><div class="dcg-tooltip-hit-area-container" handleevent="true" ontap=""><div class="dcg-option dcg-action-zoomout dcg-tooltip-e" tooltip="Zoom Out" role="button" tabindex="0" aria-label="Zoom Out" ontap="" style="background:#ededed"><i class="dcg-icon dcg-icon-minus" aria-hidden="true"></i></div></div></div><div class="dcg-tooltip-hit-area-container" handleevent="true" ontap=""><div class="dcg-btn-flat-gray dcg-option dcg-action-zoomrestore dcg-disabled" role="button" tabindex="0" aria-label="Restore Default Zoom" ontap="" style="background:#ededed" aria-disabled="true"><i class="dcg-icon dcg-icon-home" aria-hidden="true"></i></div></div></div></div></div><div class="dcg-graphpaper-branding dcg-unclickable"><span class="dcg-powered-by" aria-label="Powered by Desmos">powered by</span><i class="dcg-icon-desmos" aria-hidden="true"></i></div></div><div class="dcg-toast-view"><div style="display: none"></div></div><div class="dcg-grapher" style="overflow: hidden; width: 944px; position: absolute; left: 436px; top: 0px; height: 642px;"><div class="dcg-graph-outer" role="img" aria-roledescription="graph paper" aria-hidden="false" tabindex="-1" aria-label="graph paper. X axis visible from negative 10 to 10. Y axis visible from negative 6.8 0 1 to 6.8 0 1. Grid lines are visible. 0 audio traceable curves."><canvas class="dcg-graph-inner" width="1888" height="1284" style="position: relative; display: block; width: 944px; height: 642px;"></canvas></div><div><div class="dcg-graph-outer" style="z-index:0"></div></div><div><div class="dcg-graph-outer" style="z-index:0"></div></div><div><div class="dcg-graph-outer" style="z-index:0"></div></div><div class=""><div class="dcg-graph-outer" style="z-index:0"></div></div></div><div class="dcg-keypad" role="complementary" aria-label="Keypad"><div class="dcg-keys-container" style="transition:transform .3s, opacity .3s;opacity:0;transform:translate3d(0, 255px, 0)" aria-hidden="true"><div class="dcg-keys-background dcg-do-not-blur" style="background:#ededed"><div class="dcg-keys"><div class="dcg-basic-keypad dcg-do-not-blur"><div class="dcg-keypad-row"><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-light-on-gray" dcg-command="boldX" aria-label="boldX" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">"x"</span><span class="dcg-mq-root-block" aria-hidden="true"><var>x</var></span></div></span></span></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-light-on-gray" dcg-command="boldY" aria-label="boldY" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">"y"</span><span class="dcg-mq-root-block" aria-hidden="true"><var>y</var></span></div></span></span></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-light-on-gray" dcg-command="a^2" aria-label="Squared" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">"a" squared</span><span class="dcg-mq-root-block" aria-hidden="true"><var>a</var><span class="dcg-mq-supsub dcg-mq-non-leaf dcg-mq-sup-only"><span class="dcg-mq-sup"><span class="dcg-mq-digit">2</span></span></span></span></div></span></span></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-light-on-gray" dcg-command="a^b" aria-label="Superscript" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">"a" Superscript, "b" , Baseline</span><span class="dcg-mq-root-block" aria-hidden="true"><var>a</var><span class="dcg-mq-supsub dcg-mq-non-leaf dcg-mq-sup-only"><span class="dcg-mq-sup"><var>b</var></span></span></span></div></span></span></div><div style="flex-grow:0.5"></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-dark-on-gray" dcg-command="7" aria-label="7" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">7</span><span class="dcg-mq-root-block" aria-hidden="true"><span class="dcg-mq-digit">7</span></span></div></span></span></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-dark-on-gray" dcg-command="8" aria-label="8" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">8</span><span class="dcg-mq-root-block" aria-hidden="true"><span class="dcg-mq-digit">8</span></span></div></span></span></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-dark-on-gray" dcg-command="9" aria-label="9" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">9</span><span class="dcg-mq-root-block" aria-hidden="true"><span class="dcg-mq-digit">9</span></span></div></span></span></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-light-on-gray" dcg-command="/" aria-label="Divide" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">over</span><span class="dcg-mq-root-block" aria-hidden="true"><span class="dcg-mq-binary-operator"></span></span></div></span></span></div><div style="flex-grow:0.5"></div><div class="dcg-keypad-btn-container" style="flex-grow:2"><span role="button" class="dcg-keypad-btn dcg-btn-dark-on-gray" dcg-command="functions" aria-label="Functions" ontap=""><span class="dcg-keypad-btn-content">functions</span></span></div></div><div class="dcg-keypad-row"><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-light-on-gray" dcg-command="(" aria-label="Left Parenthesis" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">(</span><span class="dcg-mq-root-block" aria-hidden="true"><span>(</span></span></div></span></span></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-light-on-gray" dcg-command=")" aria-label="Right Parenthesis" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">)</span><span class="dcg-mq-root-block" aria-hidden="true"><span>)</span></span></div></span></span></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-light-on-gray" dcg-command="&lt;" aria-label="&lt;" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">less than</span><span class="dcg-mq-root-block" aria-hidden="true"><span class="dcg-mq-binary-operator">&lt;</span></span></div></span></span></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-light-on-gray" dcg-command="&gt;" aria-label="&gt;" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">greater than</span><span class="dcg-mq-root-block" aria-hidden="true"><span class="dcg-mq-binary-operator">&gt;</span></span></div></span></span></div><div style="flex-grow:0.5"></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-dark-on-gray" dcg-command="4" aria-label="4" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">4</span><span class="dcg-mq-root-block" aria-hidden="true"><span class="dcg-mq-digit">4</span></span></div></span></span></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-dark-on-gray" dcg-command="5" aria-label="5" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">5</span><span class="dcg-mq-root-block" aria-hidden="true"><span class="dcg-mq-digit">5</span></span></div></span></span></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-dark-on-gray" dcg-command="6" aria-label="6" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">6</span><span class="dcg-mq-root-block" aria-hidden="true"><span class="dcg-mq-digit">6</span></span></div></span></span></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-light-on-gray" dcg-command="*" aria-label="Times" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">times</span><span class="dcg-mq-root-block" aria-hidden="true"><span class="dcg-mq-binary-operator"></span></span></div></span></span></div><div style="flex-grow:0.5"></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-dark-on-gray" dcg-command="left" aria-label="Left Arrow" ontap=""><span class="dcg-keypad-btn-content"><i class="dcg-icon-arrow-left" aria-hidden="true"></i></span></span></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-dark-on-gray" dcg-command="right" aria-label="Right Arrow" ontap=""><span class="dcg-keypad-btn-content"><i class="dcg-icon-arrow-right" aria-hidden="true"></i></span></span></div></div><div class="dcg-keypad-row"><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-light-on-gray" dcg-command="|a|" aria-label="Absolute Value" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">| "a" |</span><span class="dcg-mq-root-block" aria-hidden="true"><span>|</span><var>a</var><span>|</span></span></div></span></span></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-light-on-gray" dcg-command="," aria-label="," ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">,</span><span class="dcg-mq-root-block" aria-hidden="true"><span>,</span></span></div></span></span></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-light-on-gray" dcg-command="&lt;=" aria-label="&lt;=" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">less than or equal to</span><span class="dcg-mq-root-block" aria-hidden="true"><span class="dcg-mq-binary-operator"></span></span></div></span></span></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-light-on-gray" dcg-command="&gt;=" aria-label="&gt;=" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">greater than or equal to</span><span class="dcg-mq-root-block" aria-hidden="true"><span class="dcg-mq-binary-operator"></span></span></div></span></span></div><div style="flex-grow:0.5"></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-dark-on-gray" dcg-command="1" aria-label="1" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">1</span><span class="dcg-mq-root-block" aria-hidden="true"><span class="dcg-mq-digit">1</span></span></div></span></span></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-dark-on-gray" dcg-command="2" aria-label="2" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">2</span><span class="dcg-mq-root-block" aria-hidden="true"><span class="dcg-mq-digit">2</span></span></div></span></span></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-dark-on-gray" dcg-command="3" aria-label="3" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">3</span><span class="dcg-mq-root-block" aria-hidden="true"><span class="dcg-mq-digit">3</span></span></div></span></span></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-light-on-gray" dcg-command="-" aria-label="Minus" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">negative</span><span class="dcg-mq-root-block" aria-hidden="true"><span class=""></span></span></div></span></span></div><div style="flex-grow:1"></div><div class="dcg-keypad-btn-container" style="flex-grow:1.5"><span role="button" class="dcg-keypad-btn dcg-btn-dark-on-gray" dcg-command="backspace" aria-label="Backspace" ontap=""><span class="dcg-keypad-btn-content"><i class="dcg-icon-delete" aria-hidden="true"></i></span></span></div></div><div class="dcg-keypad-row"><div class="dcg-abc-audio-container"><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-dark-on-gray" dcg-command="ABC" aria-label="Toggle Letters" ontap=""><span class="dcg-keypad-btn-content">A B C</span></span></div><div class="dcg-keypad-btn-container dcg-disabled" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-dark-on-gray" dcg-command="Audio" aria-label="Toggle Audio Trace" aria-disabled="true" ontap=""><span class="dcg-keypad-btn-content"><i class="dcg-icon-volume" aria-hidden="true"></i></span></span></div></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-light-on-gray" dcg-command="sqrt" aria-label="Square Root" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">StartRoot, , EndRoot</span><span class="dcg-mq-root-block" aria-hidden="true"><span class="dcg-mq-non-leaf dcg-mq-sqrt-container"><span class="dcg-mq-scaled dcg-mq-sqrt-prefix"><svg preserveAspectRatio="none" viewBox="0 0 32 54"><path d="M0 33 L7 27 L12.5 47 L13 47 L30 0 L32 0 L13 54 L11 54 L4.5 31 L0 33"></path></svg></span><span class="dcg-mq-non-leaf dcg-mq-sqrt-stem dcg-mq-empty"></span></span></span></div></span></span></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-light-on-gray" dcg-command="pi" aria-label="Pi" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">pi</span><span class="dcg-mq-root-block" aria-hidden="true"><span class="dcg-mq-nonSymbola"></span></span></div></span></span></div><div style="flex-grow:0.5"></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-dark-on-gray" dcg-command="0" aria-label="0" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">0</span><span class="dcg-mq-root-block" aria-hidden="true"><span class="dcg-mq-digit">0</span></span></div></span></span></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-dark-on-gray" dcg-command="." aria-label="Decimal" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">.</span><span class="dcg-mq-root-block" aria-hidden="true"><span class="dcg-mq-digit">.</span></span></div></span></span></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-light-on-gray" dcg-command="=" aria-label="=" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">equals</span><span class="dcg-mq-root-block" aria-hidden="true"><span class="dcg-mq-binary-operator">=</span></span></div></span></span></div><div class="dcg-keypad-btn-container" style="flex-grow:1"><span role="button" class="dcg-keypad-btn dcg-btn-light-on-gray" dcg-command="+" aria-label="Plus" ontap=""><span class="dcg-keypad-btn-content"><div class="dcg-mq-math-mode dcg-static-mathquill-view"><span class="dcg-mq-mathspeak">positive</span><span class="dcg-mq-root-block" aria-hidden="true"><span class="">+</span></span></div></span></span></div><div style="flex-grow:0.5"></div><div class="dcg-keypad-btn-container" style="flex-grow:2"><span role="button" class="dcg-keypad-btn dcg-btn-short-blue" dcg-command="enter" aria-label="Enter" ontap=""><span class="dcg-keypad-btn-content"><i class="dcg-icon-arrow-enter" aria-hidden="true"></i></span></span></div></div></div><div style="display: none"></div></div><div style="display: none"></div></div></div><div class="dcg-show-keypad-container"><div class="dcg-tooltip-hit-area-container" handleevent="true" ontap=""><div role="button" aria-label="Show Keypad" class="dcg-btn-flat-gray dcg-show-keypad dcg-do-not-blur" style="background:#ededed" ontap=""><i class="dcg-icon-keyboard" aria-hidden="true"></i><i class="dcg-icon-caret-up dcg-do-not-blur" aria-hidden="true"></i></div></div></div></div></div></div></div></div>
    </div>

    <div id="mygraphs-container"><div class="dcg-mygraphs"><div class="dcg-resources-container"><div class="dcg-account-reminder"><span class="dcg-login"><a role="link" tabindex="0" class="dcg-sign-in dcg-action-login dcg-btn-white-outline" ontap="">Log In</a>or<a role="link" tabindex="0" class="dcg-create-account dcg-btn dcg-btn-primary dcg-tool-color dcg-action-createaccount" ontap="">Sign Up</a></span><div>to save your graphs!</div></div><div style="display: none"></div><div class="dcg-scrollable"><div class="dcg-scrollable-interior"><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div><div role="link" tabindex="0" class="new-blank-graph dcg-action-newblankgraph" ontap=""><div class="new-blank-graph-inner"><span class="dcg-add-blank"><i class="dcg-icon-plus" aria-hidden="true"></i></span><span class="dcg-new-graph-title">New Blank Graph</span></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div><div class="dcg-saved-graphs-list" role="list"></div><div style="display: none"></div><div style="display: none"></div><div class="dcg-mygraphs-section-title-container"><span role="heading" aria-level="1" class="dcg-mygraphs-section-title">Examples</span></div><div role="list"><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/2rnqgoa6a4.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Lines: Slope Intercept Form</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/onfy0dzx2o.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Lines: Point Slope Form</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/md6buy4efz.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Lines: Two Point Form</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/zukjgk9iry.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Parabolas: Standard Form</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/8keeh1pt5l.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Parabolas: Vertex Form</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/dxkknajdqb.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Parabolas: Standard Form + Tangent</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/kihjluohq9.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Trigonometry: Period and Amplitude</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/l3u8133jwj.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Trigonometry: Phase</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/7eeumgl7it.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Trigonometry: Wave Interference</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/qmzx2skkzy.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Trigonometry: Unit Circle</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/ivud1auwvw.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Conic Sections: Circle</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/djcrjdfiif.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Conic Sections: Parabola and Focus</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/afja7ee9mh.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Conic Sections: Ellipse with Foci</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/vgfqbejegx.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Conic Sections: Hyperbola</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/0ovfwwmfrb.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Polar: Rose</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/qlbdlxyrza.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Polar: Logarithmic Spiral</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/rayzacuktw.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Polar: Limacon</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/gxnu7fbgks.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Polar: Conic Sections</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/rnyjcjpouf.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Parametric: Introduction</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/eg5he4xpg9.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Parametric: Cycloid</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/nyterjs0uf.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Transformations: Translating a Function</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/vdkjrpznnu.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Transformations: Scaling a Function</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/fcjhdt1xdw.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Transformations: Inverse of a Function</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/jwquvmikhr.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Statistics: Linear Regression</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/qrdbrcfnsl.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Statistics: Anscombe's Quartet</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/sanlujpfmc.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Statistics: 4th Order Polynomial</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/iwfjdrhdyr.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Lists: Family of sin Curves</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/ib4qkln029.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Lists: Curve Stitching</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/zdv2kras4n.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Lists: Plotting a List of Points</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/qtzamwcdrk.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Calculus: Derivatives</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/mekfho0w38.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Calculus: Secant Line</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/fs3lx8gptb.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Calculus: Tangent Line</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/noanuckuli.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Calculus: Taylor Expansion of sin(x)</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/qigfpckugc.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Calculus: Integrals</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/u2qz73ufju.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Calculus: Integral with adjustable bounds</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div><div role="listitem" class="saved-graph graph-link-container" ontap=""><div role="link" tabindex="0" class="graph-link dcg-action-preview-graph example-graph"><span class="dcg-thumb" style="background-image:url(https://saved-work.desmos.com/calc_thumbs/production/gaa5aqyb5s.png)"></span><div class="dcg-graph-details"><div class="dcg-title">Calculus: Fundamental Theorem of Calculus</div><div class="dcg-subtitle dcg-graph-date">example</div></div></div><div style="display: none"></div><div style="display: none"></div><div style="display: none"></div></div></div><div style="display: none"></div><div class="dcg-mygraphs-legal"><a href="https://adaptable-juniper-desert.glitch.me/terms" target="_blank">Terms of Service</a>|<a href="https://adaptable-juniper-desert.glitch.me/privacy" target="_blank">Privacy Policy</a><div style="display: none"></div></div></div></div><div style="display: none"></div></div><div style="display: none"></div><div style="display: none"></div></div></div>
    <div id="dcg-modal-container"><div></div></div>

    <!-- 1pixel white image for printing in FF -->
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wLEhYhKmtn2wYAAAAidEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVAgb24gYSBNYWOHqHdDAAAADElEQVQI12P4//8/AAX+Av7czFnnAAAAAElFTkSuQmCC" id="whitebg" aria-hidden="true" alt="">
    <!-- 1 white pixel for printing in FF -->
    <script type="text/javascript">
      // catches errors within iframe and promotes them to qunit during tests
      try {
        window.onerror = window.top.onerror;
      } catch (ex) {}
      if (typeof Desmos === "undefined") Desmos = {};
      Desmos.config = {};
      Desmos.commit = "927f54961c0c6d911874fbc1bd71b919131729ea";
    </script>
    <!-- Pull config information, and include it in Desmos.config -->
    <!-- TODO - get console and pushstate into regular .js files -->
    <script type="text/javascript">
      if (!window.console) window.console = {};
      if (!window.console.log) window.console.log = function () {};
    </script>
    <!-- Make sure console.log is defined -->
    <script type="text/javascript">
      if (window.location.protocol === "file:") {
        window.history.pushState = function () {};
        window.history.replaceState = function () {};
      }
    </script>
    <!-- Make sure we don't use pushstate on file protocol -->

    <script>
      var requirejs,require,define;!function(e){var t,r,n,o,i={},a={},s={},c={},l=Object.prototype.hasOwnProperty,u=[].slice;function d(e,t){return l.call(e,t)}function p(e,t){var r,n,o,i,a,c,l,u,d,p,h=t&&t.split("/"),f=s.map,g=f&&f["*"]||{};if(e&&"."===e.charAt(0))if(t){for(e=(h=h.slice(0,h.length-1)).concat(e.split("/")),u=0;u<e.length;u+=1)if("."===(p=e[u]))e.splice(u,1),--u;else if(".."===p){if(1===u&&(".."===e[2]||".."===e[0]))break;0<u&&(e.splice(u-1,2),u-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((h||g)&&f){for(u=(r=e.split("/")).length;0<u;--u){if(n=r.slice(0,u).join("/"),h)for(d=h.length;0<d;--d)if((o=f[h.slice(0,d).join("/")])&&(o=o[n])){i=o,a=u;break}if(i)break;!c&&g&&g[n]&&(c=g[n],l=u)}!i&&c&&(i=c,a=l),i&&(r.splice(0,a,i),e=r.join("/"))}return e}function h(t,n){return function(){return r.apply(e,u.call(arguments,0).concat([t,n]))}}function f(r){var n;if(d(a,r)&&(n=a[r],delete a[r],c[r]=!0,t.apply(e,n)),!d(i,r)&&!d(c,r))throw new Error("No "+r);return i[r]}function g(e){var t,r=e?e.indexOf("!"):-1;return-1<r&&(t=e.substring(0,r),e=e.substring(r+1,e.length)),[t,e]}n=function(e,t){var r,n,o=g(e),i=o[0];return e=o[1],i&&(r=f(i=p(i,t))),i?e=r&&r.normalize?r.normalize(e,(n=t,function(e){return p(e,n)})):p(e,t):(i=(o=g(e=p(e,t)))[0],e=o[1],i&&(r=f(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:r}},o={require:function(e){return h(e)},exports:function(e){var t=i[e];return void 0!==t?t:i[e]={}},module:function(e){return{id:e,uri:"",exports:i[e],config:(t=e,function(){return s&&s.config&&s.config[t]||{}})};var t}},t=function(t,r,s,l){var u,p,g,m,y,v,b=[];if(l=l||t,"function"==typeof s){for(r=!r.length&&s.length?["require","exports","module"]:r,y=0;y<r.length;y+=1)if("require"===(p=(m=n(r[y],l)).f))b[y]=o.require(t);else if("exports"===p)b[y]=o.exports(t),v=!0;else if("module"===p)u=b[y]=o.module(t);else if(d(i,p)||d(a,p)||d(c,p))b[y]=f(p);else{if(!m.p)throw new Error(t+" missing "+p);m.p.load(m.n,h(l,!0),function(e){return function(t){i[e]=t}}(p),{}),b[y]=i[p]}g=s.apply(i[t],b),t&&(u&&u.exports!==e&&u.exports!==i[t]?i[t]=u.exports:g===e&&v||(i[t]=g))}else t&&(i[t]=s)},requirejs=require=r=function(i,a,c,l,u){return"string"==typeof i?o[i]?o[i](a):f(n(i,a).f):(i.splice||(s=i,a.splice?(i=a,a=c,c=null):i=e),a=a||function(){},"function"==typeof c&&(c=l,l=u),l?t(e,i,a,c):setTimeout(function(){t(e,i,a,c)},4),r)},r.config=function(e){return(s=e).deps&&r(s.deps,s.callback),r},(define=function(e,t,r){t.splice||(r=t,t=[]),d(i,e)||d(a,e)||(a[e]=[e,t,r])}).amd={jQuery:!0}}(),"undefined"!=typeof ALMOND_OVERRIDES&&ALMOND_OVERRIDES&&(define=ALMOND_OVERRIDES.define||define,require=ALMOND_OVERRIDES.require||require,requirejs=ALMOND_OVERRIDES.requirejs||requirejs),define("core/vendor/almond",function(){}),define("testbridge",["require"],function(e){var t={ready:function(){try{window.TestBridge=t,parent.USING_SELENIUM&&function(){window.consoleOverride=!0;var e=window.console.log;window.console.log=function(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);e.apply(window.console,[].concat([t.join(" ")],t))}}()}catch(e){}}};return t}),define("ipad.ghostevents",["require"],function(e){var t=!1,r=null;function n(e){t&&i.evtInScope(e)&&(e.stopPropagation(),e.stopImmediatePropagation())}function o(e){t&&i.evtInScope(e)&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}var i={isGhostEvent:function(e){return!1},evtInScope:function(e){return!1}};return document.addEventListener("mousedown",function(e){i.evtInScope(e)&&(r=document.activeElement,t=i.isGhostEvent(e),n(e))},!0),document.addEventListener("mouseup",n,!0),document.addEventListener("click",function(e){o(e),t&&document.activeElement!==r&&(document.activeElement&&document.activeElement.blur(),r&&r.focus()),t=!1},!0),document.addEventListener("focus",o,!0),document.addEventListener("blur",o,!0),i}),function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function r(e){return null!=e&&e===e.window}var n=[],o=Object.getPrototypeOf,i=n.slice,a=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},s=n.push,c=n.indexOf,l={},u=l.toString,d=l.hasOwnProperty,p=d.toString,h=p.call(Object),f={},g=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},m=e.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function v(e,t,r){var n,o,i=(r=r||m).createElement("script");if(i.text=e,t)for(n in y)(o=t[n]||t.getAttribute&&t.getAttribute(n))&&i.setAttribute(n,o);r.head.appendChild(i).parentNode.removeChild(i)}function b(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[u.call(e)]||"object":typeof e}var x=function(e,t){return new x.fn.init(e,t)};function w(e){var t=!!e&&"length"in e&&e.length,n=b(e);return!g(e)&&!r(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}x.fn=x.prototype={jquery:"3.6.0",constructor:x,length:0,toArray:function(){return i.call(this)},get:function(e){return null==e?i.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){return(e=x.merge(this.constructor(),e)).prevObject=this,e},each:function(e){return x.each(this,e)},map:function(e){return this.pushStack(x.map(this,function(t,r){return e.call(t,r,t)}))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(x.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(x.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length;e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},x.extend=x.fn.extend=function(){var e,t,r,n,o,i=arguments[0]||{},a=1,s=arguments.length,c=!1;for("boolean"==typeof i&&(c=i,i=arguments[a]||{},a++),"object"==typeof i||g(i)||(i={}),a===s&&(i=this,a--);a<s;a++)if(null!=(e=arguments[a]))for(t in e)r=e[t],"__proto__"!==t&&i!==r&&(c&&r&&(x.isPlainObject(r)||(n=Array.isArray(r)))?(o=i[t],o=n&&!Array.isArray(o)?[]:n||x.isPlainObject(o)?o:{},n=!1,i[t]=x.extend(c,o,r)):void 0!==r&&(i[t]=r));return i},x.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==u.call(e)||(e=o(e))&&("function"!=typeof(e=d.call(e,"constructor")&&e.constructor)||p.call(e)!==h))},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,r){v(e,{nonce:t&&t.nonce},r)},each:function(e,t){var r,n=0;if(w(e))for(r=e.length;n<r&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},makeArray:function(e,t){return t=t||[],null!=e&&(w(Object(e))?x.merge(t,"string"==typeof e?[e]:e):s.call(t,e)),t},inArray:function(e,t,r){return null==t?-1:c.call(t,e,r)},merge:function(e,t){for(var r=+t.length,n=0,o=e.length;n<r;n++)e[o++]=t[n];return e.length=o,e},grep:function(e,t,r){for(var n=[],o=0,i=e.length,a=!r;o<i;o++)!t(e[o],o)!=a&&n.push(e[o]);return n},map:function(e,t,r){var n,o,i=0,s=[];if(w(e))for(n=e.length;i<n;i++)null!=(o=t(e[i],i,r))&&s.push(o);else for(i in e)null!=(o=t(e[i],i,r))&&s.push(o);return a(s)},guid:1,support:f}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=n[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});var E=function(e){function t(e,t){return e="0x"+e.slice(1)-65536,t||(e<0?String.fromCharCode(65536+e):String.fromCharCode(e>>10|55296,1023&e|56320))}function r(){f()}var n,o,i,a,s,c,l,u,d,p,h,f,g,m,y,v,b,x,w,E="sizzle"+ +new Date,S=e.document,k=0,_=0,I=ce(),M=ce(),L=ce(),T=ce(),C=function(e,t){return e===t&&(h=!0),0},A={}.hasOwnProperty,O=[],P=O.pop,D=O.push,F=O.push,N=O.slice,q=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",j="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",V="\\[[\\x20\\t\\r\\n\\f]*("+j+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+B+"*\\]",U=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+V+")*)|.*)\\)|)",G=new RegExp(B+"+","g"),z=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),H=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),W=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),K=new RegExp(B+"|>"),$=new RegExp(U),Y=new RegExp("^"+j+"$"),X={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+V),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},Q=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,ee=/^[^{]+\{\s*\[native \w/,te=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,re=/[+~]/,ne=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),oe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ae=ve(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{F.apply(O=N.call(S.childNodes),S.childNodes),O[S.childNodes.length].nodeType}catch(e){F={apply:O.length?function(e,t){D.apply(e,N.call(t))}:function(e,t){for(var r=e.length,n=0;e[r++]=t[n++];);e.length=r-1}}}function se(e,t,r,n){var i,a,s,l,d,p,h,m=t&&t.ownerDocument,b=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==b&&9!==b&&11!==b)return r;if(!n&&(f(t),t=t||g,y)){if(11!==b&&(d=te.exec(e)))if(i=d[1]){if(9===b){if(!(s=t.getElementById(i)))return r;if(s.id===i)return r.push(s),r}else if(m&&(s=m.getElementById(i))&&w(t,s)&&s.id===i)return r.push(s),r}else{if(d[2])return F.apply(r,t.getElementsByTagName(e)),r;if((i=d[3])&&o.getElementsByClassName&&t.getElementsByClassName)return F.apply(r,t.getElementsByClassName(i)),r}if(o.qsa&&!T[e+" "]&&(!v||!v.test(e))&&(1!==b||"object"!==t.nodeName.toLowerCase())){if(h=e,m=t,1===b&&(K.test(e)||W.test(e))){for((m=re.test(e)&&ge(t.parentNode)||t)===t&&o.scope||((l=t.getAttribute("id"))?l=l.replace(oe,ie):t.setAttribute("id",l=E)),a=(p=c(e)).length;a--;)p[a]=(l?"#"+l:":scope")+" "+ye(p[a]);h=p.join(",")}try{return F.apply(r,m.querySelectorAll(h)),r}catch(t){T(e,!0)}finally{l===E&&t.removeAttribute("id")}}}return u(e.replace(z,"$1"),t,r,n)}function ce(){var e=[];return function t(r,n){return e.push(r+" ")>i.cacheLength&&delete t[e.shift()],t[r+" "]=n}}function le(e){return e[E]=!0,e}function ue(e){var t=g.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var r=e.split("|"),n=r.length;n--;)i.attrHandle[r[n]]=t}function pe(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function he(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function fe(e){return le(function(t){return t=+t,le(function(r,n){for(var o,i=e([],r.length,t),a=i.length;a--;)r[o=i[a]]&&(r[o]=!(n[o]=r[o]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(n in o=se.support={},s=se.isXML=function(e){var t=e&&e.namespaceURI;e=e&&(e.ownerDocument||e).documentElement;return!Q.test(t||e&&e.nodeName||"HTML")},f=se.setDocument=function(e){var n;return(e=e?e.ownerDocument||e:S)!=g&&9===e.nodeType&&e.documentElement&&(m=(g=e).documentElement,y=!s(g),S!=g&&(n=g.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",r,!1):n.attachEvent&&n.attachEvent("onunload",r)),o.scope=ue(function(e){return m.appendChild(e).appendChild(g.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),o.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),o.getElementsByTagName=ue(function(e){return e.appendChild(g.createComment("")),!e.getElementsByTagName("*").length}),o.getElementsByClassName=ee.test(g.getElementsByClassName),o.getById=ue(function(e){return m.appendChild(e).id=E,!g.getElementsByName||!g.getElementsByName(E).length}),o.getById?(i.filter.ID=function(e){var r=e.replace(ne,t);return function(e){return e.getAttribute("id")===r}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&y)return(e=t.getElementById(e))?[e]:[]}):(i.filter.ID=function(e){var r=e.replace(ne,t);return function(e){return(e=void 0!==e.getAttributeNode&&e.getAttributeNode("id"))&&e.value===r}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&y){var r,n,o,i=t.getElementById(e);if(i){if((r=i.getAttributeNode("id"))&&r.value===e)return[i];for(o=t.getElementsByName(e),n=0;i=o[n++];)if((r=i.getAttributeNode("id"))&&r.value===e)return[i]}return[]}}),i.find.TAG=o.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):o.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,n=[],o=0,i=t.getElementsByTagName(e);if("*"!==e)return i;for(;r=i[o++];)1===r.nodeType&&n.push(r);return n},i.find.CLASS=o.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&y)return t.getElementsByClassName(e)},b=[],v=[],(o.qsa=ee.test(g.querySelectorAll))&&(ue(function(e){var t;m.appendChild(e).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+R+")"),e.querySelectorAll("[id~="+E+"-]").length||v.push("~="),(t=g.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+E+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=g.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),m.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(o.matchesSelector=ee.test(x=m.matches||m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&ue(function(e){o.disconnectedMatch=x.call(e,"*"),x.call(e,"[s!='']:x"),b.push("!=",U)}),v=v.length&&new RegExp(v.join("|")),b=b.length&&new RegExp(b.join("|")),n=ee.test(m.compareDocumentPosition),w=n||ee.test(m.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e;return e===(t=t&&t.parentNode)||!(!t||1!==t.nodeType||!(r.contains?r.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},C=n?function(e,t){if(e===t)return h=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!o.sortDetached&&t.compareDocumentPosition(e)===r?e==g||e.ownerDocument==S&&w(S,e)?-1:t==g||t.ownerDocument==S&&w(S,t)?1:p?q(p,e)-q(p,t):0:4&r?-1:1)}:function(e,t){if(e===t)return h=!0,0;var r,n=0,o=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!o||!i)return e==g?-1:t==g?1:o?-1:i?1:p?q(p,e)-q(p,t):0;if(o===i)return pe(e,t);for(r=e;r=r.parentNode;)a.unshift(r);for(r=t;r=r.parentNode;)s.unshift(r);for(;a[n]===s[n];)n++;return n?pe(a[n],s[n]):a[n]==S?-1:s[n]==S?1:0}),g},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(f(e),o.matchesSelector&&y&&!T[t+" "]&&(!b||!b.test(t))&&(!v||!v.test(t)))try{var r=x.call(e,t);if(r||o.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){T(t,!0)}return 0<se(t,g,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=g&&f(e),w(e,t)},se.attr=function(e,t){var r;return(e.ownerDocument||e)!=g&&f(e),void 0!==(r=(r=i.attrHandle[t.toLowerCase()])&&A.call(i.attrHandle,t.toLowerCase())?r(e,t,!y):void 0)?r:o.attributes||!y?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(oe,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],n=0,i=0;if(h=!o.detectDuplicates,p=!o.sortStable&&e.slice(0),e.sort(C),h){for(;t=e[i++];)t===e[i]&&(n=r.push(i));for(;n--;)e.splice(r[n],1)}return p=null,e},a=se.getText=function(e){var t,r="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=a(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)r+=a(t);return r},(i=se.selectors={cacheLength:50,createPseudo:le,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ne,t),e[3]=(e[3]||e[4]||e[5]||"").replace(ne,t),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&$.test(r)&&(t=c(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var r=e.replace(ne,t).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===r}},CLASS:function(e){var t=I[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+B+"|$)"))&&I(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(n){return null==(n=se.attr(n,e))?"!="===t:!t||(n+="","="===t?n===r:"!="===t?n!==r:"^="===t?r&&0===n.indexOf(r):"*="===t?r&&-1<n.indexOf(r):"$="===t?r&&n.slice(-r.length)===r:"~="===t?-1<(" "+n.replace(G," ")+" ").indexOf(r):"|="===t&&(n===r||n.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,r,n,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===o?function(e){return!!e.parentNode}:function(t,r,c){var l,u,d,p,h,f,g=i!=a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!c&&!s,b=!1;if(m){if(i){for(;g;){for(p=t;p=p[g];)if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&v){for(b=(h=(l=(u=(d=(p=m)[E]||(p[E]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]||[])[0]===k&&l[1])&&l[2],p=h&&m.childNodes[h];p=++h&&p&&p[g]||(b=h=0)||f.pop();)if(1===p.nodeType&&++b&&p===t){u[e]=[k,h,b];break}}else if(v&&(b=h=(l=(u=(d=(p=t)[E]||(p[E]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]||[])[0]===k&&l[1]),!1===b)for(;(p=++h&&p&&p[g]||(b=h=0)||f.pop())&&((s?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++b||(v&&((u=(d=p[E]||(p[E]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]=[k,b]),p!==t)););return(b-=o)===n||b%n==0&&0<=b/n}}},PSEUDO:function(e,t){var r,n=i.pseudos[e]||i.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return n[E]?n(t):1<n.length?(r=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,r){for(var o,i=n(e,t),a=i.length;a--;)e[o=q(e,i[a])]=!(r[o]=i[a])}):function(e){return n(e,0,r)}):n}},pseudos:{not:le(function(e){var t=[],r=[],n=l(e.replace(z,"$1"));return n[E]?le(function(e,t,r,o){for(var i,a=n(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,o,i){return t[0]=e,n(t,null,i,r),t[0]=null,!r.pop()}}),has:le(function(e){return function(t){return 0<se(e,t).length}}),contains:le(function(e){return e=e.replace(ne,t),function(t){return-1<(t.textContent||a(t)).indexOf(e)}}),lang:le(function(e){return Y.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(ne,t).toLowerCase(),function(t){var r;do{if(r=y?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(r=r.toLowerCase())===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===m},focus:function(e){return e===g.activeElement&&(!g.hasFocus||g.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:he(!1),disabled:he(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,r){return[r<0?r+t:r]}),even:fe(function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:fe(function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:fe(function(e,t,r){for(var n=r<0?r+t:t<r?t:r;0<=--n;)e.push(n);return e}),gt:fe(function(e,t,r){for(var n=r<0?r+t:r;++n<t;)e.push(n);return e})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[n]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(n);for(n in{submit:!0,reset:!0})i.pseudos[n]=function(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}(n);function me(){}function ye(e){for(var t=0,r=e.length,n="";t<r;t++)n+=e[t].value;return n}function ve(e,t,r){var n=t.dir,o=t.next,i=o||n,a=r&&"parentNode"===i,s=_++;return t.first?function(t,r,o){for(;t=t[n];)if(1===t.nodeType||a)return e(t,r,o);return!1}:function(t,r,c){var l,u,d=[k,s];if(c){for(;t=t[n];)if((1===t.nodeType||a)&&e(t,r,c))return!0}else for(;t=t[n];)if(1===t.nodeType||a)if(l=(u=t[E]||(t[E]={}))[t.uniqueID]||(u[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[n]||t;else{if((u=l[i])&&u[0]===k&&u[1]===s)return d[2]=u[2];if((l[i]=d)[2]=e(t,r,c))return!0}return!1}}function be(e){return 1<e.length?function(t,r,n){for(var o=e.length;o--;)if(!e[o](t,r,n))return!1;return!0}:e[0]}function xe(e,t,r,n,o){for(var i,a=[],s=0,c=e.length,l=null!=t;s<c;s++)(i=e[s])&&(r&&!r(i,n,o)||(a.push(i),l&&t.push(s)));return a}function we(e){for(var t,r,n,o=e.length,a=i.relative[e[0].type],s=a||i.relative[" "],c=a?1:0,l=ve(function(e){return e===t},s,!0),u=ve(function(e){return-1<q(t,e)},s,!0),p=[function(e,r,n){return n=!a&&(n||r!==d)||((t=r).nodeType?l:u)(e,r,n),t=null,n}];c<o;c++)if(r=i.relative[e[c].type])p=[ve(be(p),r)];else{if((r=i.filter[e[c].type].apply(null,e[c].matches))[E]){for(n=++c;n<o&&!i.relative[e[n].type];n++);return function e(t,r,n,o,i,a){return o&&!o[E]&&(o=e(o)),i&&!i[E]&&(i=e(i,a)),le(function(e,a,s,c){var l,u,d,p=[],h=[],f=a.length,g=e||function(e,t,r){for(var n=0,o=t.length;n<o;n++)se(e,t[n],r);return r}(r||"*",s.nodeType?[s]:s,[]),m=!t||!e&&r?g:xe(g,p,t,s,c),y=n?i||(e?t:f||o)?[]:a:m;if(n&&n(m,y,s,c),o)for(l=xe(y,h),o(l,[],s,c),u=l.length;u--;)(d=l[u])&&(y[h[u]]=!(m[h[u]]=d));if(e){if(i||t){if(i){for(l=[],u=y.length;u--;)(d=y[u])&&l.push(m[u]=d);i(null,y=[],l,c)}for(u=y.length;u--;)(d=y[u])&&-1<(l=i?q(e,d):p[u])&&(e[l]=!(a[l]=d))}}else y=xe(y===a?y.splice(f,y.length):y),i?i(null,a,y,c):F.apply(a,y)})}(1<c&&be(p),1<c&&ye(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(z,"$1"),r,c<n&&we(e.slice(c,n)),n<o&&we(e=e.slice(n)),n<o&&ye(e))}p.push(r)}return be(p)}return me.prototype=i.filters=i.pseudos,i.setFilters=new me,c=se.tokenize=function(e,t){var r,n,o,a,s,c,l,u=M[e+" "];if(u)return t?0:u.slice(0);for(s=e,c=[],l=i.preFilter;s;){for(a in r&&!(n=H.exec(s))||(n&&(s=s.slice(n[0].length)||s),c.push(o=[])),r=!1,(n=W.exec(s))&&(r=n.shift(),o.push({value:r,type:n[0].replace(z," ")}),s=s.slice(r.length)),i.filter)!(n=X[a].exec(s))||l[a]&&!(n=l[a](n))||(r=n.shift(),o.push({value:r,type:a,matches:n}),s=s.slice(r.length));if(!r)break}return t?s.length:s?se.error(e):M(e,c).slice(0)},l=se.compile=function(e,t){var r,n,o,a,s,l=[],u=[],p=L[e+" "];if(!p){for(r=(t=t||c(e)).length;r--;)((p=we(t[r]))[E]?l:u).push(p);(p=L(e,(n=u,a=0<(o=l).length,s=0<n.length,a?le(h):h))).selector=e}function h(e,t,r,c,l){var u,p,h,m=0,v="0",b=e&&[],x=[],w=d,E=e||s&&i.find.TAG("*",l),S=k+=null==w?1:Math.random()||.1,_=E.length;for(l&&(d=t==g||t||l);v!==_&&null!=(u=E[v]);v++){if(s&&u){for(p=0,t||u.ownerDocument==g||(f(u),r=!y);h=n[p++];)if(h(u,t||g,r)){c.push(u);break}l&&(k=S)}a&&((u=!h&&u)&&m--,e&&b.push(u))}if(m+=v,a&&v!==m){for(p=0;h=o[p++];)h(b,x,t,r);if(e){if(0<m)for(;v--;)b[v]||x[v]||(x[v]=P.call(c));x=xe(x)}F.apply(c,x),l&&!e&&0<x.length&&1<m+o.length&&se.uniqueSort(c)}return l&&(k=S,d=w),b}return p},u=se.select=function(e,r,n,o){var a,s,u,d,p,h="function"==typeof e&&e,f=!o&&c(e=h.selector||e);if(n=n||[],1===f.length){if(2<(s=f[0]=f[0].slice(0)).length&&"ID"===(u=s[0]).type&&9===r.nodeType&&y&&i.relative[s[1].type]){if(!(r=(i.find.ID(u.matches[0].replace(ne,t),r)||[])[0]))return n;h&&(r=r.parentNode),e=e.slice(s.shift().value.length)}for(a=X.needsContext.test(e)?0:s.length;a--&&(u=s[a],!i.relative[d=u.type]);)if((p=i.find[d])&&(o=p(u.matches[0].replace(ne,t),re.test(s[0].type)&&ge(r.parentNode)||r))){if(s.splice(a,1),!(e=o.length&&ye(s)))return F.apply(n,o),n;break}}return(h||l(e,f))(o,r,!y,n,!r||re.test(e)&&ge(r.parentNode)||r),n},o.sortStable=E.split("").sort(C).join("")===E,o.detectDuplicates=!!h,f(),o.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(g.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||de("type|href|height|width",function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),o.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||de("value",function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||de(R,function(e,t,r){if(!r)return!0===e[t]?t.toLowerCase():(t=e.getAttributeNode(t))&&t.specified?t.value:null}),se}(e);function S(e,t,r){for(var n=[],o=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&x(e).is(r))break;n.push(e)}return n}function k(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r}x.find=E,x.expr=E.selectors,x.expr[":"]=x.expr.pseudos,x.uniqueSort=x.unique=E.uniqueSort,x.text=E.getText,x.isXMLDoc=E.isXML,x.contains=E.contains,x.escapeSelector=E.escape;var _=x.expr.match.needsContext;function I(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var M=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function L(e,t,r){return g(t)?x.grep(e,function(e,n){return!!t.call(e,n,e)!==r}):t.nodeType?x.grep(e,function(e){return e===t!==r}):"string"!=typeof t?x.grep(e,function(e){return-1<c.call(t,e)!==r}):x.filter(t,e,r)}x.filter=function(e,t,r){var n=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?x.find.matchesSelector(n,e)?[n]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},x.fn.extend({find:function(e){var t,r,n=this.length,o=this;if("string"!=typeof e)return this.pushStack(x(e).filter(function(){for(t=0;t<n;t++)if(x.contains(o[t],this))return!0}));for(r=this.pushStack([]),t=0;t<n;t++)x.find(e,o[t],r);return 1<n?x.uniqueSort(r):r},filter:function(e){return this.pushStack(L(this,e||[],!1))},not:function(e){return this.pushStack(L(this,e||[],!0))},is:function(e){return!!L(this,"string"==typeof e&&_.test(e)?x(e):e||[],!1).length}});var T,C=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(e,t,r){if(!e)return this;if(r=r||T,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==r.ready?r.ready(e):e(x):x.makeArray(e,this);if(!(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:C.exec(e))||!n[1]&&t)return(!t||t.jquery?t||r:this.constructor(t)).find(e);if(n[1]){if(t=t instanceof x?t[0]:t,x.merge(this,x.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:m,!0)),M.test(n[1])&&x.isPlainObject(t))for(var n in t)g(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(e=m.getElementById(n[2]))&&(this[0]=e,this.length=1),this}).prototype=x.fn,T=x(m);var A=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function P(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}x.fn.extend({has:function(e){var t=x(e,this),r=t.length;return this.filter(function(){for(var e=0;e<r;e++)if(x.contains(this,t[e]))return!0})},closest:function(e,t){var r,n=0,o=this.length,i=[],a="string"!=typeof e&&x(e);if(!_.test(e))for(;n<o;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(a?-1<a.index(r):1===r.nodeType&&x.find.matchesSelector(r,e))){i.push(r);break}return this.pushStack(1<i.length?x.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?c.call(x(e),this[0]):c.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),x.each({parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},parents:function(e){return S(e,"parentNode")},parentsUntil:function(e,t,r){return S(e,"parentNode",r)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return S(e,"nextSibling")},prevAll:function(e){return S(e,"previousSibling")},nextUntil:function(e,t,r){return S(e,"nextSibling",r)},prevUntil:function(e,t,r){return S(e,"previousSibling",r)},siblings:function(e){return k((e.parentNode||{}).firstChild,e)},children:function(e){return k(e.firstChild)},contents:function(e){return null!=e.contentDocument&&o(e.contentDocument)?e.contentDocument:(I(e,"template")&&(e=e.content||e),x.merge([],e.childNodes))}},function(e,t){x.fn[e]=function(r,n){var o=x.map(this,t,r);return"Until"!==e.slice(-5)&&(n=r),n&&"string"==typeof n&&(o=x.filter(n,o)),1<this.length&&(O[e]||x.uniqueSort(o),A.test(e)&&o.reverse()),this.pushStack(o)}});var D=/[^\x20\t\r\n\f]+/g;function F(e){return e}function N(e){throw e}function q(e,t,r,n){var o;try{e&&g(o=e.promise)?o.call(e).done(t).fail(r):e&&g(o=e.then)?o.call(e,t,r):t.apply(void 0,[e].slice(n))}catch(e){r.apply(void 0,[e])}}x.Callbacks=function(e){var t;function r(){for(a=a||e.once,i=n=!0;c.length;l=-1)for(o=c.shift();++l<s.length;)!1===s[l].apply(o[0],o[1])&&e.stopOnFalse&&(l=s.length,o=!1);e.memory||(o=!1),n=!1,a&&(s=o?[]:"")}e="string"==typeof e?(t={},x.each(e.match(D)||[],function(e,r){t[r]=!0}),t):x.extend({},e);var n,o,i,a,s=[],c=[],l=-1,u={add:function(){return s&&(o&&!n&&(l=s.length-1,c.push(o)),function t(r){x.each(r,function(r,n){g(n)?e.unique&&u.has(n)||s.push(n):n&&n.length&&"string"!==b(n)&&t(n)})}(arguments),o&&!n&&r()),this},remove:function(){return x.each(arguments,function(e,t){for(var r;-1<(r=x.inArray(t,s,r));)s.splice(r,1),r<=l&&l--}),this},has:function(e){return e?-1<x.inArray(e,s):0<s.length},empty:function(){return s=s&&[],this},disable:function(){return a=c=[],s=o="",this},disabled:function(){return!s},lock:function(){return a=c=[],o||n||(s=o=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],c.push(t),n||r()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},x.extend({Deferred:function(t){var r=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return x.Deferred(function(t){x.each(r,function(r,n){var o=g(e[n[4]])&&e[n[4]];i[n[1]](function(){var e=o&&o.apply(this,arguments);e&&g(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(t,n,o){var i=0;function a(t,r,n,o){return function(){function s(){var e,s;if(!(t<i)){if((e=n.apply(c,l))===r.promise())throw new TypeError("Thenable self-resolution");s=e&&("object"==typeof e||"function"==typeof e)&&e.then,g(s)?o?s.call(e,a(i,r,F,o),a(i,r,N,o)):(i++,s.call(e,a(i,r,F,o),a(i,r,N,o),a(i,r,F,r.notifyWith))):(n!==F&&(c=void 0,l=[e]),(o||r.resolveWith)(c,l))}}var c=this,l=arguments,u=o?s:function(){try{s()}catch(e){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(e,u.stackTrace),i<=t+1&&(n!==N&&(c=void 0,l=[e]),r.rejectWith(c,l))}};t?u():(x.Deferred.getStackHook&&(u.stackTrace=x.Deferred.getStackHook()),e.setTimeout(u))}}return x.Deferred(function(e){r[0][3].add(a(0,e,g(o)?o:F,e.notifyWith)),r[1][3].add(a(0,e,g(t)?t:F)),r[2][3].add(a(0,e,g(n)?n:N))}).promise()},promise:function(e){return null!=e?x.extend(e,o):o}},i={};return x.each(r,function(e,t){var a=t[2],s=t[5];o[t[1]]=a.add,s&&a.add(function(){n=s},r[3-e][2].disable,r[3-e][3].disable,r[0][2].lock,r[0][3].lock),a.add(t[3].fire),i[t[0]]=function(){return i[t[0]+"With"](this===i?void 0:this,arguments),this},i[t[0]+"With"]=a.fireWith}),o.promise(i),t&&t.call(i,i),i},when:function(e){function t(e){return function(t){o[e]=this,a[e]=1<arguments.length?i.call(arguments):t,--r||s.resolveWith(o,a)}}var r=arguments.length,n=r,o=Array(n),a=i.call(arguments),s=x.Deferred();if(r<=1&&(q(e,s.done(t(n)).resolve,s.reject,!r),"pending"===s.state()||g(a[n]&&a[n].then)))return s.then();for(;n--;)q(a[n],t(n),s.reject);return s.promise()}});var R=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(t,r){e.console&&e.console.warn&&t&&R.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,r)},x.readyException=function(t){e.setTimeout(function(){throw t})};var B=x.Deferred();function j(){m.removeEventListener("DOMContentLoaded",j),e.removeEventListener("load",j),x.ready()}x.fn.ready=function(e){return B.then(e).catch(function(e){x.readyException(e)}),this},x.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--x.readyWait:x.isReady)||(x.isReady=!0)!==e&&0<--x.readyWait||B.resolveWith(m,[x])}}),x.ready.then=B.then,"complete"===m.readyState||"loading"!==m.readyState&&!m.documentElement.doScroll?e.setTimeout(x.ready):(m.addEventListener("DOMContentLoaded",j),e.addEventListener("load",j));var V=function(e,t,r,n,o,i,a){var s=0,c=e.length,l=null==r;if("object"===b(r))for(s in o=!0,r)V(e,t,s,r[s],!0,i,a);else if(void 0!==n&&(o=!0,g(n)||(a=!0),l&&(t=a?(t.call(e,n),null):(l=t,function(e,t,r){return l.call(x(e),r)})),t))for(;s<c;s++)t(e[s],r,a?n:n.call(e[s],s,t(e[s],r)));return o?e:l?t.call(e):c?t(e[0],r):i},U=/^-ms-/,G=/-([a-z])/g;function z(e,t){return t.toUpperCase()}function H(e){return e.replace(U,"ms-").replace(G,z)}function W(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function K(){this.expando=x.expando+K.uid++}K.uid=1,K.prototype={cache:function(e){var t=e[this.expando];return t||(t={},W(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var n,o=this.cache(e);if("string"==typeof t)o[H(t)]=r;else for(n in t)o[H(n)]=t[n];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][H(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,n=e[this.expando];if(void 0!==n){if(void 0!==t){r=(t=Array.isArray(t)?t.map(H):(t=H(t))in n?[t]:t.match(D)||[]).length;for(;r--;)delete n[t[r]]}void 0!==t&&!x.isEmptyObject(n)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){return void 0!==(e=e[this.expando])&&!x.isEmptyObject(e)}};var $=new K,Y=new K,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function J(e,t,r){var n,o;if(void 0===r&&1===e.nodeType)if(n="data-"+t.replace(Q,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(n))){try{r="true"===(o=r)||"false"!==o&&("null"===o?null:o===+o+""?+o:X.test(o)?JSON.parse(o):o)}catch(e){}Y.set(e,t,r)}else r=void 0;return r}x.extend({hasData:function(e){return Y.hasData(e)||$.hasData(e)},data:function(e,t,r){return Y.access(e,t,r)},removeData:function(e,t){Y.remove(e,t)},_data:function(e,t,r){return $.access(e,t,r)},_removeData:function(e,t){$.remove(e,t)}}),x.fn.extend({data:function(e,t){var r,n,o,i=this[0],a=i&&i.attributes;if(void 0!==e)return"object"==typeof e?this.each(function(){Y.set(this,e)}):V(this,function(t){var r;return i&&void 0===t?void 0!==(r=Y.get(i,e))||void 0!==(r=J(i,e))?r:void 0:void this.each(function(){Y.set(this,e,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(o=Y.get(i),1===i.nodeType&&!$.get(i,"hasDataAttrs"))){for(r=a.length;r--;)a[r]&&0===(n=a[r].name).indexOf("data-")&&(n=H(n.slice(5)),J(i,n,o[n]));$.set(i,"hasDataAttrs",!0)}return o},removeData:function(e){return this.each(function(){Y.remove(this,e)})}}),x.extend({queue:function(e,t,r){var n;if(e)return t=(t||"fx")+"queue",n=$.get(e,t),r&&(!n||Array.isArray(r)?n=$.access(e,t,x.makeArray(r)):n.push(r)),n||[]},dequeue:function(e,t){t=t||"fx";var r=x.queue(e,t),n=r.length,o=r.shift(),i=x._queueHooks(e,t);"inprogress"===o&&(o=r.shift(),n--),o&&("fx"===t&&r.unshift("inprogress"),delete i.stop,o.call(e,function(){x.dequeue(e,t)},i)),!n&&i&&i.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return $.get(e,r)||$.access(e,r,{empty:x.Callbacks("once memory").add(function(){$.remove(e,[t+"queue",r])})})}}),x.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?x.queue(this[0],e):void 0===t?this:this.each(function(){var r=x.queue(this,e,t);x._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function r(){--o||i.resolveWith(a,[a])}var n,o=1,i=x.Deferred(),a=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=$.get(a[s],e+"queueHooks"))&&n.empty&&(o++,n.empty.add(r));return r(),i.promise(t)}});var Z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ee=new RegExp("^(?:([+-])=|)("+Z+")([a-z%]*)$","i"),te=["Top","Right","Bottom","Left"],re=m.documentElement,ne=function(e){return x.contains(e.ownerDocument,e)},oe={composed:!0};function ie(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ne(e)&&"none"===x.css(e,"display")}function ae(e,t,r,n){var o,i,a=20,s=n?function(){return n.cur()}:function(){return x.css(e,t,"")},c=s(),l=r&&r[3]||(x.cssNumber[t]?"":"px"),u=e.nodeType&&(x.cssNumber[t]||"px"!==l&&+c)&&ee.exec(x.css(e,t));if(u&&u[3]!==l){for(c/=2,l=l||u[3],u=+c||1;a--;)x.style(e,t,u+l),(1-i)*(1-(i=s()/c||.5))<=0&&(a=0),u/=i;u*=2,x.style(e,t,u+l),r=r||[]}return r&&(u=+u||+c||0,o=r[1]?u+(r[1]+1)*r[2]:+r[2],n&&(n.unit=l,n.start=u,n.end=o)),o}re.getRootNode&&(ne=function(e){return x.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var se={};function ce(e,t){for(var r,n,o,i,a,s=[],c=0,l=e.length;c<l;c++)(n=e[c]).style&&(r=n.style.display,t?("none"===r&&(s[c]=$.get(n,"display")||null,s[c]||(n.style.display="")),""===n.style.display&&ie(n)&&(s[c]=(i=void 0,i=(o=n).ownerDocument,a=o.nodeName,(o=se[a])||(i=i.body.appendChild(i.createElement(a)),o=x.css(i,"display"),i.parentNode.removeChild(i),"none"===o&&(o="block"),se[a]=o)))):"none"!==r&&(s[c]="none",$.set(n,"display",r)));for(c=0;c<l;c++)null!=s[c]&&(e[c].style.display=s[c]);return e}x.fn.extend({show:function(){return ce(this,!0)},hide:function(){return ce(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ie(this)?x(this).show():x(this).hide()})}});var le=/^(?:checkbox|radio)$/i,ue=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,de=/^$|^module$|\/(?:java|ecma)script/i,pe=m.createDocumentFragment().appendChild(m.createElement("div"));(E=m.createElement("input")).setAttribute("type","radio"),E.setAttribute("checked","checked"),E.setAttribute("name","t"),pe.appendChild(E),f.checkClone=pe.cloneNode(!0).cloneNode(!0).lastChild.checked,pe.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!pe.cloneNode(!0).lastChild.defaultValue,pe.innerHTML="<option></option>",f.option=!!pe.lastChild;var he={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function fe(e,t){var r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&I(e,t)?x.merge([e],r):r}function ge(e,t){for(var r=0,n=e.length;r<n;r++)$.set(e[r],"globalEval",!t||$.get(t[r],"globalEval"))}he.tbody=he.tfoot=he.colgroup=he.caption=he.thead,he.th=he.td,f.option||(he.optgroup=he.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function ye(e,t,r,n,o){for(var i,a,s,c,l,u=t.createDocumentFragment(),d=[],p=0,h=e.length;p<h;p++)if((i=e[p])||0===i)if("object"===b(i))x.merge(d,i.nodeType?[i]:i);else if(me.test(i)){for(a=a||u.appendChild(t.createElement("div")),s=(ue.exec(i)||["",""])[1].toLowerCase(),s=he[s]||he._default,a.innerHTML=s[1]+x.htmlPrefilter(i)+s[2],l=s[0];l--;)a=a.lastChild;x.merge(d,a.childNodes),(a=u.firstChild).textContent=""}else d.push(t.createTextNode(i));for(u.textContent="",p=0;i=d[p++];)if(n&&-1<x.inArray(i,n))o&&o.push(i);else if(c=ne(i),a=fe(u.appendChild(i),"script"),c&&ge(a),r)for(l=0;i=a[l++];)de.test(i.type||"")&&r.push(i);return u}var ve=/^([^.]*)(?:\.(.+)|)/;function be(){return!0}function xe(){return!1}function we(e,t){return e===function(){try{return m.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,r,n,o,i){var a,s;if("object"==typeof t){for(s in"string"!=typeof r&&(n=n||r,r=void 0),t)Ee(e,s,r,n,t[s],i);return e}if(null==n&&null==o?(o=r,n=r=void 0):null==o&&("string"==typeof r?(o=n,n=void 0):(o=n,n=r,r=void 0)),!1===o)o=xe;else if(!o)return e;return 1===i&&(a=o,(o=function(e){return x().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=x.guid++)),e.each(function(){x.event.add(this,t,o,n,r)})}function Se(e,t,r){r?($.set(e,t,!1),x.event.add(e,t,{namespace:!1,handler:function(e){var n,o,a=$.get(this,t);if(1&e.isTrigger&&this[t]){if(a.length)(x.event.special[t]||{}).delegateType&&e.stopPropagation();else if(a=i.call(arguments),$.set(this,t,a),n=r(this,t),this[t](),a!==(o=$.get(this,t))||n?$.set(this,t,!1):o={},a!==o)return e.stopImmediatePropagation(),e.preventDefault(),o&&o.value}else a.length&&($.set(this,t,{value:x.event.trigger(x.extend(a[0],x.Event.prototype),a.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===$.get(e,t)&&x.event.add(e,t,be)}x.event={global:{},add:function(e,t,r,n,o){var i,a,s,c,l,u,d,p,h,f=$.get(e);if(W(e))for(r.handler&&(r=(i=r).handler,o=i.selector),o&&x.find.matchesSelector(re,o),r.guid||(r.guid=x.guid++),(s=f.events)||(s=f.events=Object.create(null)),(a=f.handle)||(a=f.handle=function(t){return void 0!==x&&x.event.triggered!==t.type?x.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(D)||[""]).length;c--;)d=h=(l=ve.exec(t[c])||[])[1],p=(l[2]||"").split(".").sort(),d&&(u=x.event.special[d]||{},d=(o?u.delegateType:u.bindType)||d,u=x.event.special[d]||{},l=x.extend({type:d,origType:h,data:n,handler:r,guid:r.guid,selector:o,needsContext:o&&x.expr.match.needsContext.test(o),namespace:p.join(".")},i),(h=s[d])||((h=s[d]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,n,p,a)||e.addEventListener&&e.addEventListener(d,a)),u.add&&(u.add.call(e,l),l.handler.guid||(l.handler.guid=r.guid)),o?h.splice(h.delegateCount++,0,l):h.push(l),x.event.global[d]=!0)},remove:function(e,t,r,n,o){var i,a,s,c,l,u,d,p,h,f,g,m=$.hasData(e)&&$.get(e);if(m&&(c=m.events)){for(l=(t=(t||"").match(D)||[""]).length;l--;)if(h=g=(s=ve.exec(t[l])||[])[1],f=(s[2]||"").split(".").sort(),h){for(d=x.event.special[h]||{},p=c[h=(n?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=p.length;i--;)u=p[i],!o&&g!==u.origType||r&&r.guid!==u.guid||s&&!s.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(p.splice(i,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));a&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,f,m.handle)||x.removeEvent(e,h,m.handle),delete c[h])}else for(h in c)x.event.remove(e,h+t[l],r,n,!0);x.isEmptyObject(c)&&$.remove(e,"handle events")}},dispatch:function(e){var t,r,n,o,i,a=new Array(arguments.length),s=x.event.fix(e),c=($.get(this,"events")||Object.create(null))[s.type]||[];e=x.event.special[s.type]||{};for(a[0]=s,t=1;t<arguments.length;t++)a[t]=arguments[t];if(s.delegateTarget=this,!e.preDispatch||!1!==e.preDispatch.call(this,s)){for(i=x.event.handlers.call(this,s,c),t=0;(n=i[t++])&&!s.isPropagationStopped();)for(s.currentTarget=n.elem,r=0;(o=n.handlers[r++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(o=((x.event.special[o.origType]||{}).handle||o.handler).apply(n.elem,a))&&!1===(s.result=o)&&(s.preventDefault(),s.stopPropagation()));return e.postDispatch&&e.postDispatch.call(this,s),s.result}},handlers:function(e,t){var r,n,o,i,a,s=[],c=t.delegateCount,l=e.target;if(c&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(i=[],a={},r=0;r<c;r++)void 0===a[o=(n=t[r]).selector+" "]&&(a[o]=n.needsContext?-1<x(o,this).index(l):x.find(o,this,null,[l]).length),a[o]&&i.push(n);i.length&&s.push({elem:l,handlers:i})}return l=this,c<t.length&&s.push({elem:l,handlers:t.slice(c)}),s},addProp:function(e,t){Object.defineProperty(x.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[x.expando]?e:new x.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){return e=this||e,le.test(e.type)&&e.click&&I(e,"input")&&Se(e,"click",be),!1},trigger:function(e){return e=this||e,le.test(e.type)&&e.click&&I(e,"input")&&Se(e,"click"),!0},_default:function(e){return e=e.target,le.test(e.type)&&e.click&&I(e,"input")&&$.get(e,"click")||I(e,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},x.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},x.Event=function(e,t){if(!(this instanceof x.Event))return new x.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?be:xe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&x.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:xe,isPropagationStopped:xe,isImmediatePropagationStopped:xe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=be,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=be,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=be,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},x.event.addProp),x.each({focus:"focusin",blur:"focusout"},function(e,t){x.event.special[e]={setup:function(){return Se(this,e,we),!1},trigger:function(){return Se(this,e),!0},_default:function(){return!0},delegateType:t}}),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,n=e.relatedTarget,o=e.handleObj;return n&&(n===this||x.contains(this,n))||(e.type=o.origType,r=o.handler.apply(this,arguments),e.type=t),r}}}),x.fn.extend({on:function(e,t,r,n){return Ee(this,e,t,r,n)},one:function(e,t,r,n){return Ee(this,e,t,r,n,1)},off:function(e,t,r){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,x(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=xe),this.each(function(){x.event.remove(this,e,r,t)});for(o in e)this.off(o,t,e[o]);return this}});var ke=/<script|<style|<link/i,_e=/checked\s*(?:[^=]|=\s*.checked.)/i,Ie=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Me(e,t){return I(e,"table")&&I(11!==t.nodeType?t:t.firstChild,"tr")&&x(e).children("tbody")[0]||e}function Le(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Te(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ce(e,t){var r,n,o,i;if(1===t.nodeType){if($.hasData(e)&&(i=$.get(e).events))for(o in $.remove(t,"handle events"),i)for(r=0,n=i[o].length;r<n;r++)x.event.add(t,o,i[o][r]);Y.hasData(e)&&(e=Y.access(e),e=x.extend({},e),Y.set(t,e))}}function Ae(e,t,r,n){t=a(t);var o,i,s,c,l,u,d=0,p=e.length,h=p-1,m=t[0],y=g(m);if(y||1<p&&"string"==typeof m&&!f.checkClone&&_e.test(m))return e.each(function(o){var i=e.eq(o);y&&(t[0]=m.call(this,o,i.html())),Ae(i,t,r,n)});if(p&&(i=(o=ye(t,e[0].ownerDocument,!1,e,n)).firstChild,1===o.childNodes.length&&(o=i),i||n)){for(c=(s=x.map(fe(o,"script"),Le)).length;d<p;d++)l=o,d!==h&&(l=x.clone(l,!0,!0),c&&x.merge(s,fe(l,"script"))),r.call(e[d],l,d);if(c)for(u=s[s.length-1].ownerDocument,x.map(s,Te),d=0;d<c;d++)l=s[d],de.test(l.type||"")&&!$.access(l,"globalEval")&&x.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?x._evalUrl&&!l.noModule&&x._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},u):v(l.textContent.replace(Ie,""),l,u))}return e}function Oe(e,t,r){for(var n,o=t?x.filter(t,e):e,i=0;null!=(n=o[i]);i++)r||1!==n.nodeType||x.cleanData(fe(n)),n.parentNode&&(r&&ne(n)&&ge(fe(n,"script")),n.parentNode.removeChild(n));return e}function Pe(e,t,r){var n,o={};for(n in t)o[n]=e.style[n],e.style[n]=t[n];for(n in r=r.call(e),t)e.style[n]=o[n];return r}x.extend({htmlPrefilter:function(e){return e},clone:function(e,t,r){var n,o,i,a,s,c,l,u=e.cloneNode(!0),d=ne(e);if(!(f.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(a=fe(u),n=0,o=(i=fe(e)).length;n<o;n++)s=i[n],void 0,"input"===(l=(c=a[n]).nodeName.toLowerCase())&&le.test(s.type)?c.checked=s.checked:"input"!==l&&"textarea"!==l||(c.defaultValue=s.defaultValue);if(t)if(r)for(i=i||fe(e),a=a||fe(u),n=0,o=i.length;n<o;n++)Ce(i[n],a[n]);else Ce(e,u);return 0<(a=fe(u,"script")).length&&ge(a,!d&&fe(e,"script")),u},cleanData:function(e){for(var t,r,n,o=x.event.special,i=0;void 0!==(r=e[i]);i++)if(W(r)){if(t=r[$.expando]){if(t.events)for(n in t.events)o[n]?x.event.remove(r,n):x.removeEvent(r,n,t.handle);r[$.expando]=void 0}r[Y.expando]&&(r[Y.expando]=void 0)}}}),x.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return V(this,function(e){return void 0===e?x.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ae(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Me(this,e).appendChild(e)})},prepend:function(){return Ae(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Me(this,e)).insertBefore(e,t.firstChild)})},before:function(){return Ae(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ae(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(x.cleanData(fe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return V(this,function(e){var t=this[0]||{},r=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!he[(ue.exec(e)||["",""])[1].toLowerCase()]){e=x.htmlPrefilter(e);try{for(;r<n;r++)1===(t=this[r]||{}).nodeType&&(x.cleanData(fe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Ae(this,arguments,function(t){var r=this.parentNode;x.inArray(this,e)<0&&(x.cleanData(fe(this)),r&&r.replaceChild(t,this))},e)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){for(var r,n=[],o=x(e),i=o.length-1,a=0;a<=i;a++)r=a===i?this:this.clone(!0),x(o[a])[t](r),s.apply(n,r.get());return this.pushStack(n)}});var De,Fe,Ne,qe,Re,Be,je,Ve,Ue=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),Ge=function(t){var r=t.ownerDocument.defaultView;return r&&r.opener||(r=e),r.getComputedStyle(t)},ze=new RegExp(te.join("|"),"i");function He(e,t,r){var n,o,i=e.style;return(r=r||Ge(e))&&(""!==(o=r.getPropertyValue(t)||r[t])||ne(e)||(o=x.style(e,t)),!f.pixelBoxStyles()&&Ue.test(o)&&ze.test(t)&&(n=i.width,e=i.minWidth,t=i.maxWidth,i.minWidth=i.maxWidth=i.width=o,o=r.width,i.width=n,i.minWidth=e,i.maxWidth=t)),void 0!==o?o+"":o}function We(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function Ke(){var t;Ve&&(je.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ve.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(je).appendChild(Ve),t=e.getComputedStyle(Ve),De="1%"!==t.top,Be=12===$e(t.marginLeft),Ve.style.right="60%",qe=36===$e(t.right),Fe=36===$e(t.width),Ve.style.position="absolute",Ne=12===$e(Ve.offsetWidth/3),re.removeChild(je),Ve=null)}function $e(e){return Math.round(parseFloat(e))}je=m.createElement("div"),(Ve=m.createElement("div")).style&&(Ve.style.backgroundClip="content-box",Ve.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===Ve.style.backgroundClip,x.extend(f,{boxSizingReliable:function(){return Ke(),Fe},pixelBoxStyles:function(){return Ke(),qe},pixelPosition:function(){return Ke(),De},reliableMarginLeft:function(){return Ke(),Be},scrollboxSize:function(){return Ke(),Ne},reliableTrDimensions:function(){var t,r,n;return null==Re&&(t=m.createElement("table"),r=m.createElement("tr"),n=m.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",r.style.cssText="border:1px solid",r.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(t).appendChild(r).appendChild(n),n=e.getComputedStyle(r),Re=parseInt(n.height,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)===r.offsetHeight,re.removeChild(t)),Re}}));var Ye=["Webkit","Moz","ms"],Xe=m.createElement("div").style,Qe={};function Je(e){return x.cssProps[e]||Qe[e]||(e in Xe?e:Qe[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),r=Ye.length;r--;)if((e=Ye[r]+t)in Xe)return e}(e)||e)}var Ze=/^(none|table(?!-c[ea]).+)/,et=/^--/,tt={position:"absolute",visibility:"hidden",display:"block"},rt={letterSpacing:"0",fontWeight:"400"};function nt(e,t,r){var n=ee.exec(t);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):t}function ot(e,t,r,n,o,i){var a="width"===t?1:0,s=0,c=0;if(r===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===r&&(c+=x.css(e,r+te[a],!0,o)),n?("content"===r&&(c-=x.css(e,"padding"+te[a],!0,o)),"margin"!==r&&(c-=x.css(e,"border"+te[a]+"Width",!0,o))):(c+=x.css(e,"padding"+te[a],!0,o),"padding"!==r?c+=x.css(e,"border"+te[a]+"Width",!0,o):s+=x.css(e,"border"+te[a]+"Width",!0,o));return!n&&0<=i&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-c-s-.5))||0),c}function it(e,t,r){var n=Ge(e),o=(!f.boxSizingReliable()||r)&&"border-box"===x.css(e,"boxSizing",!1,n),i=o,a=He(e,t,n),s="offset"+t[0].toUpperCase()+t.slice(1);if(Ue.test(a)){if(!r)return a;a="auto"}return(!f.boxSizingReliable()&&o||!f.reliableTrDimensions()&&I(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===x.css(e,"display",!1,n))&&e.getClientRects().length&&(o="border-box"===x.css(e,"boxSizing",!1,n),(i=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+ot(e,t,r||(o?"border":"content"),i,n,a)+"px"}function at(e,t,r,n,o){return new at.prototype.init(e,t,r,n,o)}x.extend({cssHooks:{opacity:{get:function(e,t){if(t)return""===(e=He(e,"opacity"))?"1":e}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,r,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=H(t),c=et.test(t),l=e.style;if(c||(t=Je(s)),a=x.cssHooks[t]||x.cssHooks[s],void 0===r)return a&&"get"in a&&void 0!==(o=a.get(e,!1,n))?o:l[t];"string"==(i=typeof r)&&(o=ee.exec(r))&&o[1]&&(r=ae(e,t,o),i="number"),null!=r&&r==r&&("number"!==i||c||(r+=o&&o[3]||(x.cssNumber[s]?"":"px")),f.clearCloneStyle||""!==r||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(r=a.set(e,r,n))||(c?l.setProperty(t,r):l[t]=r))}},css:function(e,t,r,n){var o,i=H(t);return et.test(t)||(t=Je(i)),(i=x.cssHooks[t]||x.cssHooks[i])&&"get"in i&&(o=i.get(e,!0,r)),void 0===o&&(o=He(e,t,n)),"normal"===o&&t in rt&&(o=rt[t]),""===r||r?(t=parseFloat(o),!0===r||isFinite(t)?t||0:o):o}}),x.each(["height","width"],function(e,t){x.cssHooks[t]={get:function(e,r,n){if(r)return!Ze.test(x.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?it(e,t,n):Pe(e,tt,function(){return it(e,t,n)})},set:function(e,r,n){var o,i=Ge(e),a=!f.scrollboxSize()&&"absolute"===i.position,s=(a||n)&&"border-box"===x.css(e,"boxSizing",!1,i);n=n?ot(e,t,n,s,i):0;return s&&a&&(n-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-ot(e,t,"border",!1,i)-.5)),n&&(o=ee.exec(r))&&"px"!==(o[3]||"px")&&(e.style[t]=r,r=x.css(e,t)),nt(0,r,n)}}}),x.cssHooks.marginLeft=We(f.reliableMarginLeft,function(e,t){if(t)return(parseFloat(He(e,"marginLeft"))||e.getBoundingClientRect().left-Pe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(r){for(var n=0,o={},i="string"==typeof r?r.split(" "):[r];n<4;n++)o[e+te[n]+t]=i[n]||i[n-2]||i[0];return o}},"margin"!==e&&(x.cssHooks[e+t].set=nt)}),x.fn.extend({css:function(e,t){return V(this,function(e,t,r){var n,o,i={},a=0;if(Array.isArray(t)){for(n=Ge(e),o=t.length;a<o;a++)i[t[a]]=x.css(e,t[a],!1,n);return i}return void 0!==r?x.style(e,t,r):x.css(e,t)},e,t,1<arguments.length)}}),(x.Tween=at).prototype={constructor:at,init:function(e,t,r,n,o,i){this.elem=e,this.prop=r,this.easing=o||x.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=i||(x.cssNumber[r]?"":"px")},cur:function(){var e=at.propHooks[this.prop];return(e&&e.get?e:at.propHooks._default).get(this)},run:function(e){var t,r=at.propHooks[this.prop];return this.options.duration?this.pos=t=x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(r&&r.set?r:at.propHooks._default).set(this),this}},at.prototype.init.prototype=at.prototype,at.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=x.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):1!==e.elem.nodeType||!x.cssHooks[e.prop]&&null==e.elem.style[Je(e.prop)]?e.elem[e.prop]=e.now:x.style(e.elem,e.prop,e.now+e.unit)}}},at.propHooks.scrollTop=at.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},x.fx=at.prototype.init,x.fx.step={};var st,ct,lt=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;function dt(){ct&&(!1===m.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(dt):e.setTimeout(dt,x.fx.interval),x.fx.tick())}function pt(){return e.setTimeout(function(){st=void 0}),st=Date.now()}function ht(e,t){var r,n=0,o={height:e};for(t=t?1:0;n<4;n+=2-t)o["margin"+(r=te[n])]=o["padding"+r]=e;return t&&(o.opacity=o.width=e),o}function ft(e,t,r){for(var n,o=(gt.tweeners[t]||[]).concat(gt.tweeners["*"]),i=0,a=o.length;i<a;i++)if(n=o[i].call(r,t,e))return n}function gt(e,t,r){var n,o,i=0,a=gt.prefilters.length,s=x.Deferred().always(function(){delete c.elem}),c=function(){if(o)return!1;for(var t=st||pt(),r=1-((t=Math.max(0,l.startTime+l.duration-t))/l.duration||0),n=0,i=l.tweens.length;n<i;n++)l.tweens[n].run(r);return s.notifyWith(e,[l,r,t]),r<1&&i?t:(i||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},r),originalProperties:t,originalOptions:r,startTime:st||pt(),duration:r.duration,tweens:[],createTween:function(t,r){return t=x.Tween(e,l.opts,t,r,l.opts.specialEasing[t]||l.opts.easing),l.tweens.push(t),t},stop:function(t){var r=0,n=t?l.tweens.length:0;if(o)return this;for(o=!0;r<n;r++)l.tweens[r].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),u=l.props;for(function(e,t){var r,n,o,i,a;for(r in e)if(o=t[n=H(r)],i=e[r],Array.isArray(i)&&(o=i[1],i=e[r]=i[0]),r!==n&&(e[n]=i,delete e[r]),(a=x.cssHooks[n])&&"expand"in a)for(r in i=a.expand(i),delete e[n],i)r in e||(e[r]=i[r],t[r]=o);else t[n]=o}(u,l.opts.specialEasing);i<a;i++)if(n=gt.prefilters[i].call(l,e,u,l.opts))return g(n.stop)&&(x._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return x.map(u,ft,l),g(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),x.fx.timer(x.extend(c,{elem:e,anim:l,queue:l.opts.queue})),l}x.Animation=x.extend(gt,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return ae(r.elem,e,ee.exec(t),r),r}]},tweener:function(e,t){for(var r,n=0,o=(e=g(e)?(t=e,["*"]):e.match(D)).length;n<o;n++)r=e[n],gt.tweeners[r]=gt.tweeners[r]||[],gt.tweeners[r].unshift(t)},prefilters:[function(e,t,r){var n,o,i,a,s,c,l,u="width"in t||"height"in t,d=this,p={},h=e.style,f=e.nodeType&&ie(e),g=$.get(e,"fxshow");for(n in r.queue||(null==(a=x._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,x.queue(e,"fx").length||a.empty.fire()})})),t)if(o=t[n],lt.test(o)){if(delete t[n],i=i||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!g||void 0===g[n])continue;f=!0}p[n]=g&&g[n]||x.style(e,n)}if((c=!x.isEmptyObject(t))||!x.isEmptyObject(p))for(n in u&&1===e.nodeType&&(r.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=g&&g.display)&&(l=$.get(e,"display")),"none"===(u=x.css(e,"display"))&&(l?u=l:(ce([e],!0),l=e.style.display||l,u=x.css(e,"display"),ce([e]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===x.css(e,"float")&&(c||(d.done(function(){h.display=l}),null==l&&(u=h.display,l="none"===u?"":u)),h.display="inline-block")),r.overflow&&(h.overflow="hidden",d.always(function(){h.overflow=r.overflow[0],h.overflowX=r.overflow[1],h.overflowY=r.overflow[2]})),c=!1,p)c||(g?"hidden"in g&&(f=g.hidden):g=$.access(e,"fxshow",{display:l}),i&&(g.hidden=!f),f&&ce([e],!0),d.done(function(){for(n in f||ce([e]),$.remove(e,"fxshow"),p)x.style(e,n,p[n])})),c=ft(f?g[n]:0,n,d),n in g||(g[n]=c.start,f&&(c.end=c.start,c.start=0))}],prefilter:function(e,t){t?gt.prefilters.unshift(e):gt.prefilters.push(e)}}),x.speed=function(e,t,r){var n=e&&"object"==typeof e?x.extend({},e):{complete:r||!r&&t||g(e)&&e,duration:e,easing:r&&t||t&&!g(t)&&t};return x.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in x.fx.speeds?n.duration=x.fx.speeds[n.duration]:n.duration=x.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){g(n.old)&&n.old.call(this),n.queue&&x.dequeue(this,n.queue)},n},x.fn.extend({fadeTo:function(e,t,r,n){return this.filter(ie).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(e,t,r,n){var o=x.isEmptyObject(e),i=x.speed(t,r,n);return(n=function(){var t=gt(this,x.extend({},e),i);(o||$.get(this,"finish"))&&t.stop(!0)}).finish=n,o||!1===i.queue?this.each(n):this.queue(i.queue,n)},stop:function(e,t,r){function n(e){var t=e.stop;delete e.stop,t(r)}return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=x.timers,a=$.get(this);if(o)a[o]&&a[o].stop&&n(a[o]);else for(o in a)a[o]&&a[o].stop&&ut.test(o)&&n(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(r),t=!1,i.splice(o,1));!t&&r||x.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,r=$.get(this),n=r[e+"queue"],o=r[e+"queueHooks"],i=x.timers,a=n?n.length:0;for(r.finish=!0,x.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete r.finish})}}),x.each(["toggle","show","hide"],function(e,t){var r=x.fn[t];x.fn[t]=function(e,n,o){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(ht(t,!0),e,n,o)}}),x.each({slideDown:ht("show"),slideUp:ht("hide"),slideToggle:ht("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,r,n){return this.animate(t,e,r,n)}}),x.timers=[],x.fx.tick=function(){var e,t=0,r=x.timers;for(st=Date.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||x.fx.stop(),st=void 0},x.fx.timer=function(e){x.timers.push(e),x.fx.start()},x.fx.interval=13,x.fx.start=function(){ct||(ct=!0,dt())},x.fx.stop=function(){ct=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(t,r){return t=x.fx&&x.fx.speeds[t]||t,r=r||"fx",this.queue(r,function(r,n){var o=e.setTimeout(r,t);n.stop=function(){e.clearTimeout(o)}})},pe=m.createElement("input"),Z=m.createElement("select").appendChild(m.createElement("option")),pe.type="checkbox",f.checkOn=""!==pe.value,f.optSelected=Z.selected,(pe=m.createElement("input")).value="t",pe.type="radio",f.radioValue="t"===pe.value;var mt,yt=x.expr.attrHandle;x.fn.extend({attr:function(e,t){return V(this,x.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})}}),x.extend({attr:function(e,t,r){var n,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?x.prop(e,t,r):(1===i&&x.isXMLDoc(e)||(o=x.attrHooks[t.toLowerCase()]||(x.expr.match.bool.test(t)?mt:void 0)),void 0!==r?null===r?void x.removeAttr(e,t):o&&"set"in o&&void 0!==(n=o.set(e,r,t))?n:(e.setAttribute(t,r+""),r):o&&"get"in o&&null!==(n=o.get(e,t))||null!=(n=x.find.attr(e,t))?n:void 0)},attrHooks:{type:{set:function(e,t){if(!f.radioValue&&"radio"===t&&I(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,n=0,o=t&&t.match(D);if(o&&1===e.nodeType)for(;r=o[n++];)e.removeAttribute(r)}}),mt={set:function(e,t,r){return!1===t?x.removeAttr(e,r):e.setAttribute(r,r),r}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,t){var r=yt[t]||x.find.attr;yt[t]=function(e,t,n){var o,i,a=t.toLowerCase();return n||(i=yt[a],yt[a]=o,o=null!=r(e,t,n)?a:null,yt[a]=i),o}});var vt=/^(?:input|select|textarea|button)$/i,bt=/^(?:a|area)$/i;function xt(e){return(e.match(D)||[]).join(" ")}function wt(e){return e.getAttribute&&e.getAttribute("class")||""}function Et(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(D)||[]}x.fn.extend({prop:function(e,t){return V(this,x.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[x.propFix[e]||e]})}}),x.extend({prop:function(e,t,r){var n,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&x.isXMLDoc(e)||(t=x.propFix[t]||t,o=x.propHooks[t]),void 0!==r?o&&"set"in o&&void 0!==(n=o.set(e,r,t))?n:e[t]=r:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):vt.test(e.nodeName)||bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(x.propHooks.selected={get:function(e){return(e=e.parentNode)&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){(e=e.parentNode)&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.fn.extend({addClass:function(e){var t,r,n,o,i,a,s=0;if(g(e))return this.each(function(t){x(this).addClass(e.call(this,t,wt(this)))});if((t=Et(e)).length)for(;r=this[s++];)if(a=wt(r),n=1===r.nodeType&&" "+xt(a)+" "){for(i=0;o=t[i++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");a!==(a=xt(n))&&r.setAttribute("class",a)}return this},removeClass:function(e){var t,r,n,o,i,a,s=0;if(g(e))return this.each(function(t){x(this).removeClass(e.call(this,t,wt(this)))});if(!arguments.length)return this.attr("class","");if((t=Et(e)).length)for(;r=this[s++];)if(a=wt(r),n=1===r.nodeType&&" "+xt(a)+" "){for(i=0;o=t[i++];)for(;-1<n.indexOf(" "+o+" ");)n=n.replace(" "+o+" "," ");a!==(a=xt(n))&&r.setAttribute("class",a)}return this},toggleClass:function(e,t){var r=typeof e,n="string"==r||Array.isArray(e);return"boolean"==typeof t&&n?t?this.addClass(e):this.removeClass(e):g(e)?this.each(function(r){x(this).toggleClass(e.call(this,r,wt(this),t),t)}):this.each(function(){var t,o,i,a;if(n)for(o=0,i=x(this),a=Et(e);t=a[o++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!=r||((t=wt(this))&&$.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",!t&&!1!==e&&$.get(this,"__className__")||""))})},hasClass:function(e){for(var t,r=0,n=" "+e+" ";t=this[r++];)if(1===t.nodeType&&-1<(" "+xt(wt(t))+" ").indexOf(n))return!0;return!1}});var St=/\r/g;function kt(e){e.stopPropagation()}x.fn.extend({val:function(e){var t,r,n,o=this[0];return arguments.length?(n=g(e),this.each(function(r){1===this.nodeType&&(null==(r=n?e.call(this,r,x(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=x.map(r,function(e){return null==e?"":e+""})),(t=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):o?(t=x.valHooks[o.type]||x.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(o,"value"))?r:"string"==typeof(r=o.value)?r.replace(St,""):null==r?"":r:void 0}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:xt(x.text(e))}},select:{get:function(e){for(var t,r=e.options,n=e.selectedIndex,o="select-one"===e.type,i=o?null:[],a=o?n+1:r.length,s=n<0?a:o?n:0;s<a;s++)if(((t=r[s]).selected||s===n)&&!t.disabled&&(!t.parentNode.disabled||!I(t.parentNode,"optgroup"))){if(t=x(t).val(),o)return t;i.push(t)}return i},set:function(e,t){for(var r,n,o=e.options,i=x.makeArray(t),a=o.length;a--;)((n=o[a]).selected=-1<x.inArray(x.valHooks.option.get(n),i))&&(r=!0);return r||(e.selectedIndex=-1),i}}}}),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<x.inArray(x(e).val(),t)}},f.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),f.focusin="onfocusin"in e;var _t=/^(?:focusinfocus|focusoutblur)$/;x.extend(x.event,{trigger:function(t,n,o,i){var a,s,c,l,u,p,h,f=[o||m],y=d.call(t,"type")?t.type:t,v=d.call(t,"namespace")?t.namespace.split("."):[],b=h=s=o=o||m;if(3!==o.nodeType&&8!==o.nodeType&&!_t.test(y+x.event.triggered)&&(-1<y.indexOf(".")&&(y=(v=y.split(".")).shift(),v.sort()),l=y.indexOf(":")<0&&"on"+y,(t=t[x.expando]?t:new x.Event(y,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),n=null==n?[t]:x.makeArray(n,[t]),p=x.event.special[y]||{},i||!p.trigger||!1!==p.trigger.apply(o,n))){if(!i&&!p.noBubble&&!r(o)){for(c=p.delegateType||y,_t.test(c+y)||(b=b.parentNode);b;b=b.parentNode)f.push(b),s=b;s===(o.ownerDocument||m)&&f.push(s.defaultView||s.parentWindow||e)}for(a=0;(b=f[a++])&&!t.isPropagationStopped();)h=b,t.type=1<a?c:p.bindType||y,(u=($.get(b,"events")||Object.create(null))[t.type]&&$.get(b,"handle"))&&u.apply(b,n),(u=l&&b[l])&&u.apply&&W(b)&&(t.result=u.apply(b,n),!1===t.result&&t.preventDefault());return t.type=y,i||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(f.pop(),n)||!W(o)||l&&g(o[y])&&!r(o)&&((s=o[l])&&(o[l]=null),x.event.triggered=y,t.isPropagationStopped()&&h.addEventListener(y,kt),o[y](),t.isPropagationStopped()&&h.removeEventListener(y,kt),x.event.triggered=void 0,s&&(o[l]=s)),t.result}},simulate:function(e,t,r){e=x.extend(new x.Event,r,{type:e,isSimulated:!0}),x.event.trigger(e,null,t)}}),x.fn.extend({trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];if(r)return x.event.trigger(e,t,r,!0)}}),f.focusin||x.each({focus:"focusin",blur:"focusout"},function(e,t){function r(e){x.event.simulate(t,e.target,x.event.fix(e))}x.event.special[t]={setup:function(){var n=this.ownerDocument||this.document||this,o=$.access(n,t);o||n.addEventListener(e,r,!0),$.access(n,t,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,o=$.access(n,t)-1;o?$.access(n,t,o):(n.removeEventListener(e,r,!0),$.remove(n,t))}}});var It=e.location,Mt={guid:Date.now()},Lt=/\?/;x.parseXML=function(t){var r,n;if(!t||"string"!=typeof t)return null;try{r=(new e.DOMParser).parseFromString(t,"text/xml")}catch(t){}return n=r&&r.getElementsByTagName("parsererror")[0],r&&!n||x.error("Invalid XML: "+(n?x.map(n.childNodes,function(e){return e.textContent}).join("\n"):t)),r};var Tt=/\[\]$/,Ct=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;x.param=function(e,t){function r(e,t){t=g(t)?t():t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var n,o=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,function(){r(this.name,this.value)});else for(n in e)!function e(t,r,n,o){if(Array.isArray(r))x.each(r,function(r,i){n||Tt.test(t)?o(t,i):e(t+"["+("object"==typeof i&&null!=i?r:"")+"]",i,n,o)});else if(n||"object"!==b(r))o(t,r);else for(var i in r)e(t+"["+i+"]",r[i],n,o)}(n,e[n],t,r);return o.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&Ot.test(this.nodeName)&&!At.test(e)&&(this.checked||!le.test(e))}).map(function(e,t){var r=x(this).val();return null==r?null:Array.isArray(r)?x.map(r,function(e){return{name:t.name,value:e.replace(Ct,"\r\n")}}):{name:t.name,value:r.replace(Ct,"\r\n")}}).get()}});var Pt=/%20/g,Dt=/#.*$/,Ft=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)$/gm,qt=/^(?:GET|HEAD)$/,Rt=/^\/\//,Bt={},jt={},Vt="*/".concat("*"),Ut=m.createElement("a");function Gt(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var n,o=0,i=t.toLowerCase().match(D)||[];if(g(r))for(;n=i[o++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(r)):(e[n]=e[n]||[]).push(r)}}function zt(e,t,r,n){var o={},i=e===jt;function a(s){var c;return o[s]=!0,x.each(e[s]||[],function(e,s){return"string"!=typeof(s=s(t,r,n))||i||o[s]?i?!(c=s):void 0:(t.dataTypes.unshift(s),a(s),!1)}),c}return a(t.dataTypes[0])||!o["*"]&&a("*")}function Ht(e,t){var r,n,o=x.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((o[r]?e:n=n||{})[r]=t[r]);return n&&x.extend(!0,e,n),e}Ut.href=It.href,x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:It.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(It.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ht(Ht(e,x.ajaxSettings),t):Ht(x.ajaxSettings,e)},ajaxPrefilter:Gt(Bt),ajaxTransport:Gt(jt),ajax:function(t,r){"object"==typeof t&&(r=t,t=void 0),r=r||{};var n,o,i,a,s,c,l,u,d,p=x.ajaxSetup({},r),h=p.context||p,f=p.context&&(h.nodeType||h.jquery)?x(h):x.event,g=x.Deferred(),y=x.Callbacks("once memory"),v=p.statusCode||{},b={},w={},E="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(l){if(!a)for(a={};t=Nt.exec(i);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?i:null},setRequestHeader:function(e,t){return null==l&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==l&&(p.mimeType=e),this},statusCode:function(e){if(e)if(l)S.always(e[S.status]);else for(var t in e)v[t]=[v[t],e[t]];return this},abort:function(e){return e=e||E,n&&n.abort(e),k(0,e),this}};if(g.promise(S),p.url=((t||p.url||It.href)+"").replace(Rt,It.protocol+"//"),p.type=r.method||r.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(D)||[""],null==p.crossDomain){c=m.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Ut.protocol+"//"+Ut.host!=c.protocol+"//"+c.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=x.param(p.data,p.traditional)),zt(Bt,p,r,S),l)return S;for(d in(u=x.event&&p.global)&&0==x.active++&&x.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!qt.test(p.type),o=p.url.replace(Dt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Pt,"+")):(t=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(Lt.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Ft,"$1"),t=(Lt.test(o)?"&":"?")+"_="+Mt.guid+++t),p.url=o+t),p.ifModified&&(x.lastModified[o]&&S.setRequestHeader("If-Modified-Since",x.lastModified[o]),x.etag[o]&&S.setRequestHeader("If-None-Match",x.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||r.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Vt+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(h,S,p)||l))return S.abort();if(E="abort",y.add(p.complete),S.done(p.success),S.fail(p.error),n=zt(jt,p,r,S)){if(S.readyState=1,u&&f.trigger("ajaxSend",[S,p]),l)return S;p.async&&0<p.timeout&&(s=e.setTimeout(function(){S.abort("timeout")},p.timeout));try{l=!1,n.send(b,k)}catch(t){if(l)throw t;k(-1,t)}}else k(-1,"No Transport");function k(t,r,a,c){var d,m,b,w=r;l||(l=!0,s&&e.clearTimeout(s),n=void 0,i=c||"",S.readyState=0<t?4:0,c=200<=t&&t<300||304===t,a&&(b=function(e,t,r){for(var n,o,i,a,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(o in s)if(s[o]&&s[o].test(n)){c.unshift(o);break}if(c[0]in r)i=c[0];else{for(o in r){if(!c[0]||e.converters[o+" "+c[0]]){i=o;break}a=a||o}i=i||a}if(i)return i!==c[0]&&c.unshift(i),r[i]}(p,S,a)),!c&&-1<x.inArray("script",p.dataTypes)&&x.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),b=function(e,t,r,n){var o,i,a,s,c,l={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(i=u.shift();i;)if(e.responseFields[i]&&(r[e.responseFields[i]]=t),!c&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=i,i=u.shift())if("*"===i)i=c;else if("*"!==c&&c!==i){if(!(a=l[c+" "+i]||l["* "+i]))for(o in l)if((s=o.split(" "))[1]===i&&(a=l[c+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[o]:!0!==l[o]&&(i=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+c+" to "+i}}}return{state:"success",data:t}}(p,b,S,c),c?(p.ifModified&&((a=S.getResponseHeader("Last-Modified"))&&(x.lastModified[o]=a),(a=S.getResponseHeader("etag"))&&(x.etag[o]=a)),204===t||"HEAD"===p.type?w="nocontent":304===t?w="notmodified":(w=b.state,d=b.data,c=!(m=b.error))):(m=w,!t&&w||(w="error",t<0&&(t=0))),S.status=t,S.statusText=(r||w)+"",c?g.resolveWith(h,[d,w,S]):g.rejectWith(h,[S,w,m]),S.statusCode(v),v=void 0,u&&f.trigger(c?"ajaxSuccess":"ajaxError",[S,p,c?d:m]),y.fireWith(h,[S,w]),u&&(f.trigger("ajaxComplete",[S,p]),--x.active||x.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,r){return x.get(e,t,r,"json")},getScript:function(e,t){return x.get(e,void 0,t,"script")}}),x.each(["get","post"],function(e,t){x[t]=function(e,r,n,o){return g(r)&&(o=o||n,n=r,r=void 0),x.ajax(x.extend({url:e,type:t,dataType:o,data:r,success:n},x.isPlainObject(e)&&e))}}),x.ajaxPrefilter(function(e){for(var t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),x._evalUrl=function(e,t,r){return x.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){x.globalEval(e,t,r)}})},x.fn.extend({wrapAll:function(e){return this[0]&&(g(e)&&(e=e.call(this[0])),e=x(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return g(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=g(e);return this.each(function(r){x(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){x(this).replaceWith(this.childNodes)}),this}}),x.expr.pseudos.hidden=function(e){return!x.expr.pseudos.visible(e)},x.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Wt={0:200,1223:204},Kt=x.ajaxSettings.xhr();f.cors=!!Kt&&"withCredentials"in Kt,f.ajax=Kt=!!Kt,x.ajaxTransport(function(t){var r,n;if(f.cors||Kt&&!t.crossDomain)return{send:function(o,i){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);r=function(e){return function(){r&&(r=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Wt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=r(),n=s.onerror=s.ontimeout=r("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){r&&n()})},r=r("abort");try{s.send(t.hasContent&&t.data||null)}catch(o){if(r)throw o}},abort:function(){r&&r()}}}),x.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),x.ajaxTransport("script",function(e){var t,r;if(e.crossDomain||e.scriptAttrs)return{send:function(n,o){t=x("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&o("error"===e.type?404:200,e.type)}),m.head.appendChild(t[0])},abort:function(){r&&r()}}});var $t=[],Yt=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=$t.pop()||x.expando+"_"+Mt.guid++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(t,r,n){var o,i,a,s=!1!==t.jsonp&&(Yt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=g(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Yt,"$1"+o):!1!==t.jsonp&&(t.url+=(Lt.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||x.error(o+" was not called"),a[0]},t.dataTypes[0]="json",i=e[o],e[o]=function(){a=arguments},n.always(function(){void 0===i?x(e).removeProp(o):e[o]=i,t[o]&&(t.jsonpCallback=r.jsonpCallback,$t.push(o)),a&&g(i)&&i(a[0]),a=i=void 0}),"script"}),f.createHTMLDocument=((pe=m.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===pe.childNodes.length),x.parseHTML=function(e,t,r){return"string"!=typeof e?[]:("boolean"==typeof t&&(r=t,t=!1),t||(f.createHTMLDocument?((n=(t=m.implementation.createHTMLDocument("")).createElement("base")).href=m.location.href,t.head.appendChild(n)):t=m),n=!r&&[],(r=M.exec(e))?[t.createElement(r[1])]:(r=ye([e],t,n),n&&n.length&&x(n).remove(),x.merge([],r.childNodes)));var n},x.fn.load=function(e,t,r){var n,o,i,a=this,s=e.indexOf(" ");return-1<s&&(n=xt(e.slice(s)),e=e.slice(0,s)),g(t)?(r=t,t=void 0):t&&"object"==typeof t&&(o="POST"),0<a.length&&x.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(n?x("<div>").append(x.parseHTML(e)).find(n):e)}).always(r&&function(e,t){a.each(function(){r.apply(this,i||[e.responseText,t,e])})}),this},x.expr.pseudos.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length},x.offset={setOffset:function(e,t,r){var n,o,i,a,s=x.css(e,"position"),c=x(e),l={};"static"===s&&(e.style.position="relative"),i=c.offset(),n=x.css(e,"top"),a=x.css(e,"left"),a=("absolute"===s||"fixed"===s)&&-1<(n+a).indexOf("auto")?(o=(s=c.position()).top,s.left):(o=parseFloat(n)||0,parseFloat(a)||0),g(t)&&(t=t.call(e,r,x.extend({},i))),null!=t.top&&(l.top=t.top-i.top+o),null!=t.left&&(l.left=t.left-i.left+a),"using"in t?t.using.call(e,l):c.css(l)}},x.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){x.offset.setOffset(this,e,t)});var t,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),r=r.ownerDocument.defaultView,{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,r,n=this[0],o={top:0,left:0};if("fixed"===x.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),r=n.ownerDocument,e=n.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&"static"===x.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((o=x(e).offset()).top+=x.css(e,"borderTopWidth",!0),o.left+=x.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-x.css(n,"marginTop",!0),left:t.left-o.left-x.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===x.css(e,"position");)e=e.offsetParent;return e||re})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;x.fn[e]=function(o){return V(this,function(e,o,i){var a;return r(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===i?a?a[t]:e[o]:void(a?a.scrollTo(n?a.pageXOffset:i,n?i:a.pageYOffset):e[o]=i)},e,o,arguments.length)}}),x.each(["top","left"],function(e,t){x.cssHooks[t]=We(f.pixelPosition,function(e,r){if(r)return r=He(e,t),Ue.test(r)?x(e).position()[t]+"px":r})}),x.each({Height:"height",Width:"width"},function(e,t){x.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,o){x.fn[o]=function(i,a){var s=arguments.length&&(n||"boolean"!=typeof i),c=n||(!0===i||!0===a?"margin":"border");return V(this,function(t,n,i){var a;return r(t)?0===o.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===i?x.css(t,n,c):x.style(t,n,i,c)},t,s?i:void 0,s)}})}),x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){x.fn[t]=function(e,r){return 0<arguments.length?this.on(t,null,e,r):this.trigger(t)}});var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;x.proxy=function(e,t){var r,n;if("string"==typeof t&&(n=e[t],t=e,e=n),g(e))return r=i.call(arguments,2),(n=function(){return e.apply(t||this,r.concat(i.call(arguments)))}).guid=e.guid=e.guid||x.guid++,n},x.holdReady=function(e){e?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=I,x.isFunction=g,x.isWindow=r,x.camelCase=H,x.type=b,x.now=Date.now,x.isNumeric=function(e){var t=x.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},x.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return x});var Qt=e.jQuery,Jt=e.$;return x.noConflict=function(t){return e.$===x&&(e.$=Jt),t&&e.jQuery===x&&(e.jQuery=Qt),x},void 0===t&&(e.jQuery=e.$=x),x}),define("browser",["require","jquery"],function(e){var t,r,n=e("jquery"),o={IS_IE8:null!==navigator.userAgent.match(/MSIE 8.0/i),IS_IE9:null!==navigator.userAgent.match(/MSIE 9.0/i),IS_IE:null!==navigator.userAgent.match(/MSIE/i)||null!==navigator.userAgent.match(/Trident/i)&&null!==navigator.userAgent.match(/rv:11/i),IS_EDGE:null!==navigator.userAgent.match(/Edge/i),IS_IPAD:null!==navigator.userAgent.match(/iPad/i),IS_MOBILE:null!==navigator.userAgent.match(/Mobile|Android/i),IS_ANDROID:null!==navigator.userAgent.match(/Android/i),IS_IOS:null!==navigator.userAgent.match(/(iPad|iPhone|iPod)/i)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints,IS_CHROME:null!==navigator.userAgent.match(/Chrome/i),IS_FIREFOX:null!==navigator.userAgent.match(/Firefox/i),IS_SAFARI:null!==navigator.userAgent.match(/^((?!chrome|android).)*safari/i),IS_APPLE:null!==navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i),IS_WINDOWS:null!==navigator.platform.match(/(Win32)/i),IS_TOUCH:null!==navigator.userAgent.match(/Touch/i),IS_KINDLE:null!==navigator.userAgent.match(/Kindle/i)||null!==navigator.userAgent.match(/Silk/i),IS_BRAILLENOTE:null!==navigator.userAgent.match(/KeyWeb/i),IS_IN_IFRAME:window.parent!==window};return o.IS_TABLET=o.IS_IPAD||o.IS_ANDROID||o.IS_KINDLE,o.IS_TOUCH_DEVICE=o.SHOULD_NOT_AUTOFOCUS=o.IS_IOS||o.IS_ANDROID||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i),o.IOS_VERSION=(t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/))?[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3]||0,10)]:null,o.MAC_VERSION=(r=navigator.appVersion.match(/OS X (\d+)_(\d+)_?(\d+)?/))?[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3]||0,10)]:null,o.CHROME_VERSION=(e=navigator.appVersion.match(/Chrom(e|ium)\/([0-9]+)\.([0-9]+)\.?([0-9]+)?/))?[parseInt(e[2],10),parseInt(e[3],10),parseInt(e[4]||0,10)]:null,o.SUPPORTS_INPUTMODE=(t=o.IOS_VERSION,r=o.MAC_VERSION,e=o.CHROME_VERSION,t&&13<=t[0]||o.IS_IOS&&!t&&r&&(10<r[0]||10===r[0]&&15<=r[1])||o.IS_ANDROID&&e&&76<=e[0]),o.SUPPORTS_TRANSLATE3D=!1,n(document).ready(function(){var e,t,r,n=document.createElement("p"),i={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(r in document.body.insertBefore(n,null),i)if(void 0!==n.style[r]){if(n.style[r]="translate3d(1px,1px,1px)",!(t=window.getComputedStyle(n)))return;e=t.getPropertyValue(i[r])}document.body.removeChild(n),o.SUPPORTS_TRANSLATE3D=void 0!==e&&0<e.length&&"none"!==e}),o.translateRule=function(e,t){return o.SUPPORTS_TRANSLATE3D?"translate3d("+e+(e?"px":"")+","+t+(t?"px":"")+",0)":"translate("+e+(e?"px":"")+","+t+(t?"px":"")+")"},o.SUPPORTS_CANVAS=!(!(n=document.createElement("canvas")).getContext||!n.getContext("2d")),o}),define("keys",["require","browser"],function(e){var t=e("browser");return new function(){for(var e={8:this.BACKSPACE="Backspace",9:this.TAB="Tab",13:this.ENTER="Enter",16:this.SHIFT="Shift",17:this.CONTROL="Control",18:this.ALT="Alt",20:this.CAPSLOCK="CapsLock",27:this.ESCAPE="Esc",32:this.SPACEBAR="Space",33:this.PAGEUP="PageUp",34:this.PAGEDOWN="PageDown",35:this.END="End",36:this.HOME="Home",37:this.LEFT="Left",38:this.UP="Up",39:this.RIGHT="Right",40:this.DOWN="Down",46:this.DELETE="Del"},r={Backspace:this.BACKSPACE,Tab:this.TAB,Enter:this.ENTER,Shift:this.SHIFT,Control:this.CONTROL,Alt:this.ALT,CapsLock:this.CAPSLOCK,Escape:this.ESCAPE," ":this.SPACEBAR,PageUp:this.PAGEUP,PageDown:this.PAGEDOWN,End:this.END,Home:this.HOME,ArrowLeft:this.LEFT,ArrowUp:this.UP,ArrowRight:this.RIGHT,ArrowDown:this.DOWN,Delete:this.DELETE},n={UIKeyInputUpArrow:this.UP,UIKeyInputDownArrow:this.DOWN,UIKeyInputLeftArrow:this.LEFT,UIKeyInputRightArrow:this.RIGHT,UIKeyInputEscape:this.ESCAPE,UIKeyInputPageUp:this.PAGEUP,UIKeyInputPageDown:this.PAGEDOWN},o=["0123456789abcdefghijklmnopqrstuvwxyz","    ",""].map(function(e){return e.split("")}),i=o[0],a=o[1],s=o[2],c={},l={},u=0;u<i.length;u++){var d=i[u];" "!==a[u]&&(c[a[u]]=d.toUpperCase())," "!==s[u]&&(l[s[u]]=d.toUpperCase())}this.isUndo=function(e){return!e.altKey&&!e.shiftKey&&(e.ctrlKey||e.metaKey)&&("z"==e.key||90==e.which)},this.isRedo=function(e){return!e.altKey&&(e.ctrlKey||e.metaKey)&&("y"===e.key||89==e.which||e.shiftKey&&("Z"===e.key||"z"===e.key||90===e.which))},this.isSelectAll=function(e){return!e.altKey&&(e.ctrlKey||e.metaKey)&&("a"===e.key||"A"===e.key||65==e.which)},this.isBacktick=function(e){return!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||"`"!==e.key&&192!=e.which)},this.isHelp=function(e){return!e.altKey&&(e.ctrlKey||e.metaKey)&&("/"===e.key||191==e.which)},this.lookup=function(t){return r[t.key]||e[t.which]||n[t.key]},this.lookupChar=function(e){if(!e.key)return String.fromCharCode(e.which);if(t.IS_APPLE&&e.altKey){var r=e.shiftKey?l:c;if(r[e.key])return r[e.key]}return 1===e.key.length?e.key.toUpperCase():"Enter"===e.key?String.fromCharCode(13):"Tab"===e.key?String.fromCharCode(9):void 0}}}),define("text",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),function(e,t){var r,n;"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("underscore",t):(r=e._,n=t(),(e._=n).noConflict=function(){return e._=r,n})}(this,function(){var e="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},t=Array.prototype,r=Object.prototype,n="undefined"!=typeof Symbol?Symbol.prototype:null,o=t.push,i=t.slice,a=r.toString,s=r.hasOwnProperty,c=Array.isArray,l=Object.keys,u=Object.create,d=e.isNaN,p=e.isFinite,h=function(){};function f(e){return e instanceof f?e:this instanceof f?void(this._wrapped=e):new f(e)}function g(e,t,r){if(void 0===t)return e;switch(null==r?3:r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,o){return e.call(t,r,n,o)};case 4:return function(r,n,o,i){return e.call(t,r,n,o,i)}}return function(){return e.apply(t,arguments)}}function m(e,t,r){return null==e?tt:Ve(e)?g(e,t,r):(Be(e)&&!Re(e)?nt:rt)(e)}function y(e,t){return m(e,t,1/0)}function v(e,t,r){return f.iteratee!==y?f.iteratee(e,t):m(e,t,r)}function b(e,t){return t=null==t?e.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),n=Array(r),o=0;o<r;o++)n[o]=arguments[o+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var i=Array(t+1);for(o=0;o<t;o++)i[o]=arguments[o];return i[t]=n,e.apply(this,i)}}function x(e){return Be(e)?u?u(e):(h.prototype=e,e=new h,h.prototype=null,e):{}}function w(e){return function(t){return null==t?void 0:t[e]}}function E(e,t){return null!=e&&s.call(e,t)}function S(e,t){for(var r=t.length,n=0;n<r;n++){if(null==e)return;e=e[t[n]]}return r?e:void 0}f.VERSION="1.10.2",f.iteratee=y;var k=Math.pow(2,53)-1,_=w("length");function I(e){return"number"==typeof(e=_(e))&&0<=e&&e<=k}function M(e,t,r){if(t=g(t,r),I(e))for(o=0,i=e.length;o<i;o++)t(e[o],o,e);else for(var n=Ee(e),o=0,i=n.length;o<i;o++)t(e[n[o]],n[o],e);return e}function L(e,t,r){t=v(t,r);for(var n=!I(e)&&Ee(e),o=(n||e).length,i=Array(o),a=0;a<o;a++){var s=n?n[a]:a;i[a]=t(e[s],s,e)}return i}function T(e){return function(t,r,n,o){var i=3<=arguments.length;return function(t,r,n,o){var i=!I(t)&&Ee(t),a=(i||t).length,s=0<e?0:a-1;for(o||(n=t[i?i[s]:s],s+=e);0<=s&&s<a;s+=e){var c=i?i[s]:s;n=r(n,t[c],c,t)}return n}(t,g(r,o,4),n,i)}}var C=T(1),A=T(-1);function O(e,t,r){if(void 0!==(r=(I(e)?oe:Ce)(e,t,r))&&-1!==r)return e[r]}function P(e,t,r){var n=[];return t=v(t,r),M(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function D(e,t,r){t=v(t,r);for(var n=!I(e)&&Ee(e),o=(n||e).length,i=0;i<o;i++){var a=n?n[i]:i;if(!t(e[a],a,e))return!1}return!0}function F(e,t,r){t=v(t,r);for(var n=!I(e)&&Ee(e),o=(n||e).length,i=0;i<o;i++){var a=n?n[i]:i;if(t(e[a],a,e))return!0}return!1}function N(e,t,r,n){return I(e)||(e=ke(e)),"number"==typeof r&&!n||(r=0),0<=ce(e,t,r)}var q=b(function(e,t,r){var n,o;return Ve(t)?o=t:Re(t)&&(n=t.slice(0,-1),t=t[t.length-1]),L(e,function(e){var i=o;if(!i){if(n&&n.length&&(e=S(e,n)),null==e)return;i=e[t]}return null==i?i:i.apply(e,r)})});function R(e,t){return L(e,rt(t))}function B(e,t,r){var n,o,i=-1/0,a=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,c=(e=I(e)?e:ke(e)).length;s<c;s++)null!=(n=e[s])&&i<n&&(i=n);else t=v(t,r),M(e,function(e,r,n){((o=t(e,r,n))>a||o===-1/0&&i===-1/0)&&(i=e,a=o)});return i}function j(e,t,r){if(null==t||r)return I(e)||(e=ke(e)),e[ot(e.length-1)];var n=(I(e)?Fe:ke)(e);e=_(n);t=Math.max(Math.min(t,e),0);for(var o=e-1,i=0;i<t;i++){var a=ot(i,o),s=n[i];n[i]=n[a],n[a]=s}return n.slice(0,t)}function V(e,t){return function(r,n,o){var i=t?[[],[]]:{};return n=v(n,o),M(r,function(t,o){o=n(t,o,r),e(i,t,o)}),i}}var U=V(function(e,t,r){E(e,r)?e[r].push(t):e[r]=[t]}),G=V(function(e,t,r){e[r]=t}),z=V(function(e,t,r){E(e,r)?e[r]++:e[r]=1}),H=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g,W=V(function(e,t,r){e[r?0:1].push(t)},!0);function K(e,t,r){return null==e||e.length<1?null==t?void 0:[]:null==t||r?e[0]:$(e,e.length-t)}function $(e,t,r){return i.call(e,0,Math.max(0,e.length-(null==t||r?1:t)))}function Y(e,t,r){return i.call(e,null==t||r?1:t)}function X(e,t,r,n){for(var o=(n=n||[]).length,i=0,a=_(e);i<a;i++){var s=e[i];if(I(s)&&(Re(s)||je(s)))if(t)for(var c=0,l=s.length;c<l;)n[o++]=s[c++];else X(s,t,r,n),o=n.length;else r||(n[o++]=s)}return n}var Q=b(function(e,t){return ee(e,t)});function J(e,t,r,n){et(t)||(n=r,r=t,t=!1),null!=r&&(r=v(r,n));for(var o=[],i=[],a=0,s=_(e);a<s;a++){var c=e[a],l=r?r(c,a,e):c;t&&!r?(a&&i===l||o.push(c),i=l):r?N(i,l)||(i.push(l),o.push(c)):N(o,c)||o.push(c)}return o}var Z=b(function(e){return J(X(e,!0,!0))}),ee=b(function(e,t){return t=X(t,!0,!0),P(e,function(e){return!N(t,e)})});function te(e){for(var t=e&&B(e,_).length||0,r=Array(t),n=0;n<t;n++)r[n]=R(e,n);return r}var re=b(te);function ne(e){return function(t,r,n){r=v(r,n);for(var o=_(t),i=0<e?0:o-1;0<=i&&i<o;i+=e)if(r(t[i],i,t))return i;return-1}}var oe=ne(1),ie=ne(-1);function ae(e,t,r,n){for(var o=(r=v(r,n,1))(t),i=0,a=_(e);i<a;){var s=Math.floor((i+a)/2);r(e[s])<o?i=s+1:a=s}return i}function se(e,t,r){return function(n,o,a){var s=0,c=_(n);if("number"==typeof a)0<e?s=0<=a?a:Math.max(a+c,s):c=0<=a?Math.min(a+1,c):a+c+1;else if(r&&a&&c)return n[a=r(n,o)]===o?a:-1;if(o!=o)return 0<=(a=t(i.call(n,s,c),Ze))?a+s:-1;for(a=0<e?s:c-1;0<=a&&a<c;a+=e)if(n[a]===o)return a;return-1}}var ce=se(1,oe,ae),le=se(-1,ie);function ue(e,t,r,n,o){return n instanceof t?(r=x(e.prototype),Be(o=e.apply(r,o))?o:r):e.apply(r,o)}var de=b(function(e,t,r){if(!Ve(e))throw new TypeError("Bind must be called on a function");var n=b(function(o){return ue(e,n,t,this,r.concat(o))});return n}),pe=b(function(e,t){var r=pe.placeholder,n=function(){for(var o=0,i=t.length,a=Array(i),s=0;s<i;s++)a[s]=t[s]===r?arguments[o++]:t[s];for(;o<arguments.length;)a.push(arguments[o++]);return ue(e,n,this,this,a)};return n});pe.placeholder=f;var he=b(function(e,t){var r=(t=X(t,!1,!1)).length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=t[r];e[n]=de(e[n],e)}}),fe=b(function(e,t,r){return setTimeout(function(){return e.apply(null,r)},t)}),ge=pe(fe,f,1);function me(e){return function(){return!e.apply(this,arguments)}}function ye(e,t){var r;return function(){return 0<--e&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}}var ve=pe(ye,2),be=!{toString:null}.propertyIsEnumerable("toString"),xe=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function we(e,t){var n=xe.length,o=e.constructor,i=Ve(o)&&o.prototype||r,a="constructor";for(E(e,a)&&!N(t,a)&&t.push(a);n--;)(a=xe[n])in e&&e[a]!==i[a]&&!N(t,a)&&t.push(a)}function Ee(e){if(!Be(e))return[];if(l)return l(e);var t,r=[];for(t in e)E(e,t)&&r.push(t);return be&&we(e,r),r}function Se(e){if(!Be(e))return[];var t,r=[];for(t in e)r.push(t);return be&&we(e,r),r}function ke(e){for(var t=Ee(e),r=t.length,n=Array(r),o=0;o<r;o++)n[o]=e[t[o]];return n}function _e(e){for(var t={},r=Ee(e),n=0,o=r.length;n<o;n++)t[e[r[n]]]=r[n];return t}function Ie(e){var t,r=[];for(t in e)Ve(e[t])&&r.push(t);return r.sort()}function Me(e,t){return function(r){var n=arguments.length;if(t&&(r=Object(r)),n<2||null==r)return r;for(var o=1;o<n;o++)for(var i=arguments[o],a=e(i),s=a.length,c=0;c<s;c++){var l=a[c];t&&void 0!==r[l]||(r[l]=i[l])}return r}}var Le=Me(Se),Te=Me(Ee);function Ce(e,t,r){t=v(t,r);for(var n,o=Ee(e),i=0,a=o.length;i<a;i++)if(t(e[n=o[i]],n,e))return n}function Ae(e,t,r){return t in r}var Oe=b(function(e,t){var r={},n=t[0];if(null==e)return r;Ve(n)?(1<t.length&&(n=g(n,t[1])),t=Se(e)):(n=Ae,t=X(t,!1,!1),e=Object(e));for(var o=0,i=t.length;o<i;o++){var a=t[o],s=e[a];n(s,a,e)&&(r[a]=s)}return r}),Pe=b(function(e,t){var r,n=t[0];return Ve(n)?(n=me(n),1<t.length&&(r=t[1])):(t=L(X(t,!1,!1),String),n=function(e,r){return!N(t,r)}),Oe(e,n,r)}),De=Me(Se,!0);function Fe(e){return Be(e)?Re(e)?e.slice():Le({},e):e}function Ne(e,t){var r=Ee(t),n=r.length;if(null==e)return!n;for(var o=Object(e),i=0;i<n;i++){var a=r[i];if(t[a]!==o[a]||!(a in o))return!1}return!0}function qe(e){return function(t){return a.call(t)==="[object "+e+"]"}}var Re=c||qe("Array");function Be(e){var t=typeof e;return"function"==t||"object"==t&&!!e}var je=qe("Arguments"),Ve=qe("Function"),Ue=qe("String"),Ge=qe("Number"),ze=qe("Date"),He=qe("RegExp"),We=qe("Error"),Ke=qe("Symbol"),$e=qe("Map"),Ye=qe("WeakMap"),Xe=qe("Set"),Qe=qe("WeakSet");!function(){je(arguments)||(je=function(e){return E(e,"callee")})}();var Je=e.document&&e.document.childNodes;function Ze(e){return Ge(e)&&d(e)}function et(e){return!0===e||!1===e||"[object Boolean]"===a.call(e)}function tt(e){return e}function rt(e){return Re(e)?function(t){return S(t,e)}:w(e)}function nt(e){return e=Te({},e),function(t){return Ne(t,e)}}function ot(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof Je&&(Ve=function(e){return"function"==typeof e||!1});var it=Date.now||function(){return(new Date).getTime()};e=_e(c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"});function at(e){function t(t){return e[t]}var r="(?:"+Ee(e).join("|")+")",n=RegExp(r),o=RegExp(r,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(o,t):e}}function st(e){return"\\"+ut[e]}Je=at(c),c=at(e);var ct=0,lt=(e=f.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},/(.)^/),ut={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},dt=/\\|'|\r|\n|\u2028|\u2029/g;function pt(e,t){return e._chain?f(t).chain():t}function ht(e){return M(Ie(e),function(t){var r=f[t]=e[t];f.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),pt(this,r.apply(f,e))}}),f}return M(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var r=t[e];f.prototype[e]=function(){var t=this._wrapped;return r.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],pt(this,t)}}),M(["concat","join","slice"],function(e){var r=t[e];f.prototype[e]=function(){return pt(this,r.apply(this._wrapped,arguments))}}),f.prototype.valueOf=f.prototype.toJSON=f.prototype.value=function(){return this._wrapped},f.prototype.toString=function(){return String(this._wrapped)},(e=ht({default:f,VERSION:"1.10.2",iteratee:y,restArguments:b,each:M,forEach:M,map:L,collect:L,reduce:C,foldl:C,inject:C,reduceRight:A,foldr:A,find:O,detect:O,filter:P,select:P,reject:function(e,t,r){return P(e,me(v(t)),r)},every:D,all:D,some:F,any:F,contains:N,includes:N,include:N,invoke:q,pluck:R,where:function(e,t){return P(e,nt(t))},findWhere:function(e,t){return O(e,nt(t))},max:B,min:function(e,t,r){var n,o,i=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,c=(e=I(e)?e:ke(e)).length;s<c;s++)null!=(n=e[s])&&n<i&&(i=n);else t=v(t,r),M(e,function(e,r,n){((o=t(e,r,n))<a||o===1/0&&i===1/0)&&(i=e,a=o)});return i},shuffle:function(e){return j(e,1/0)},sample:j,sortBy:function(e,t,r){var n=0;return t=v(t,r),R(L(e,function(e,r,o){return{value:e,index:n++,criteria:t(e,r,o)}}).sort(function(e,t){var r=e.criteria,n=t.criteria;if(r!==n){if(n<r||void 0===r)return 1;if(r<n||void 0===n)return-1}return e.index-t.index}),"value")},groupBy:U,indexBy:G,countBy:z,toArray:function(e){return e?Re(e)?i.call(e):Ue(e)?e.match(H):I(e)?L(e,tt):ke(e):[]},size:function(e){return null==e?0:(I(e)?e:Ee(e)).length},partition:W,first:K,head:K,take:K,initial:$,last:function(e,t,r){return null==e||e.length<1?null==t?void 0:[]:null==t||r?e[e.length-1]:Y(e,Math.max(0,e.length-t))},rest:Y,tail:Y,drop:Y,compact:function(e){return P(e,Boolean)},flatten:function(e,t){return X(e,t,!1)},without:Q,uniq:J,unique:J,union:Z,intersection:function(e){for(var t=[],r=arguments.length,n=0,o=_(e);n<o;n++){var i=e[n];if(!N(t,i)){for(var a=1;a<r&&N(arguments[a],i);a++);a===r&&t.push(i)}}return t},difference:ee,unzip:te,zip:re,object:function(e,t){for(var r={},n=0,o=_(e);n<o;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r},findIndex:oe,findLastIndex:ie,sortedIndex:ae,indexOf:ce,lastIndexOf:le,range:function(e,t,r){null==t&&(t=e||0,e=0),r=r||(t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/r),0),o=Array(n),i=0;i<n;i++,e+=r)o[i]=e;return o},chunk:function(e,t){if(null==t||t<1)return[];for(var r=[],n=0,o=e.length;n<o;)r.push(i.call(e,n,n+=t));return r},bind:de,partial:pe,bindAll:he,memoize:function(e,t){var r=function(n){var o=r.cache,i=""+(t?t.apply(this,arguments):n);return E(o,i)||(o[i]=e.apply(this,arguments)),o[i]};return r.cache={},r},delay:fe,defer:ge,throttle:function(e,t,r){var n,o,i,a,s=0;function c(){s=!1===r.leading?0:it(),n=null,a=e.apply(o,i),n||(o=i=null)}function l(){var l=it();s||!1!==r.leading||(s=l);var u=t-(l-s);return o=this,i=arguments,u<=0||t<u?(n&&(clearTimeout(n),n=null),s=l,a=e.apply(o,i),n||(o=i=null)):n||!1===r.trailing||(n=setTimeout(c,u)),a}return r=r||{},l.cancel=function(){clearTimeout(n),s=0,n=o=i=null},l},debounce:function(e,t,r){function n(t,r){o=null,r&&(i=e.apply(t,r))}var o,i,a=b(function(a){var s;return o&&clearTimeout(o),r?(s=!o,o=setTimeout(n,t),s&&(i=e.apply(this,a))):o=fe(n,t,this,a),i});return a.cancel=function(){clearTimeout(o),o=null},a},wrap:function(e,t){return pe(t,e)},negate:me,compose:function(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}},after:function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},before:ye,once:ve,keys:Ee,allKeys:Se,values:ke,mapObject:function(e,t,r){t=v(t,r);for(var n=Ee(e),o=n.length,i={},a=0;a<o;a++){var s=n[a];i[s]=t(e[s],s,e)}return i},pairs:function(e){for(var t=Ee(e),r=t.length,n=Array(r),o=0;o<r;o++)n[o]=[t[o],e[t[o]]];return n},invert:_e,functions:Ie,methods:Ie,extend:Le,extendOwn:Te,assign:Te,findKey:Ce,pick:Oe,omit:Pe,defaults:De,create:function(e,t){return e=x(e),t&&Te(e,t),e},clone:Fe,tap:function(e,t){return t(e),e},isMatch:Ne,isEqual:function(e,t){return function e(t,r,o,i){if(t===r)return 0!==t||1/t==1/r;if(null==t||null==r)return!1;if(t!=t)return r!=r;var s=typeof t;return("function"==s||"object"==s||"object"==typeof r)&&function(t,r,o,i){if(t instanceof f&&(t=t._wrapped),r instanceof f&&(r=r._wrapped),(c=a.call(t))!==a.call(r))return!1;switch(c){case"[object RegExp]":case"[object String]":return""+t==""+r;case"[object Number]":return+t!=+t?+r!=+r:0==+t?1/+t==1/r:+t==+r;case"[object Date]":case"[object Boolean]":return+t==+r;case"[object Symbol]":return n.valueOf.call(t)===n.valueOf.call(r)}var s="[object Array]"===c;if(!s){if("object"!=typeof t||"object"!=typeof r)return!1;var c,l=t.constructor;if(l!==(c=r.constructor)&&!(Ve(l)&&l instanceof l&&Ve(c)&&c instanceof c)&&"constructor"in t&&"constructor"in r)return!1}i=i||[];for(var u=(o=o||[]).length;u--;)if(o[u]===t)return i[u]===r;if(o.push(t),i.push(r),s){if((u=t.length)!==r.length)return!1;for(;u--;)if(!e(t[u],r[u],o,i))return!1}else{var d,p=Ee(t);u=p.length;if(Ee(r).length!==u)return!1;for(;u--;)if(!E(r,d=p[u])||!e(t[d],r[d],o,i))return!1}return o.pop(),i.pop(),!0}(t,r,o,i)}(e,t)},isEmpty:function(e){return null==e||(I(e)&&(Re(e)||Ue(e)||je(e))?0===e.length:0===Ee(e).length)},isElement:function(e){return!(!e||1!==e.nodeType)},isArray:Re,isObject:Be,isArguments:je,isFunction:Ve,isString:Ue,isNumber:Ge,isDate:ze,isRegExp:He,isError:We,isSymbol:Ke,isMap:$e,isWeakMap:Ye,isSet:Xe,isWeakSet:Qe,isFinite:function(e){return!Ke(e)&&p(e)&&!d(parseFloat(e))},isNaN:Ze,isBoolean:et,isNull:function(e){return null===e},isUndefined:function(e){return void 0===e},has:function(e,t){if(!Re(t))return E(e,t);for(var r=t.length,n=0;n<r;n++){var o=t[n];if(null==e||!s.call(e,o))return!1;e=e[o]}return!!r},identity:tt,constant:function(e){return function(){return e}},noop:function(){},property:rt,propertyOf:function(e){return null==e?function(){}:function(t){return Re(t)?S(e,t):e[t]}},matcher:nt,matches:nt,times:function(e,t,r){var n=Array(Math.max(0,e));t=g(t,r,1);for(var o=0;o<e;o++)n[o]=t(o);return n},random:ot,now:it,escape:Je,unescape:c,result:function(e,t,r){Re(t)||(t=[t]);var n=t.length;if(!n)return Ve(r)?r.call(e):r;for(var o=0;o<n;o++){var i=null==e?void 0:e[t[o]];void 0===i&&(i=r,o=n),e=Ve(i)?i.call(e):i}return e},uniqueId:function(e){var t=++ct+"";return e?e+t:t},templateSettings:e,template:function(e,t,r){!t&&r&&(t=r),t=De({},t,f.templateSettings);var n,o=RegExp([(t.escape||lt).source,(t.interpolate||lt).source,(t.evaluate||lt).source].join("|")+"|$","g"),i=0,a="__p+='";e.replace(o,function(t,r,n,o,s){return a+=e.slice(i,s).replace(dt,st),i=s+t.length,r?a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?a+="'+\n((__t=("+n+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{n=new Function(t.variable||"obj","_",a)}catch(e){throw e.source=a,e}return r=function(e){return n.call(this,e,f)},o=t.variable||"obj",r.source="function("+o+"){\n"+a+"}",r},chain:function(e){return(e=f(e))._chain=!0,e},mixin:ht}))._=e}),define("lib/inject-css",["require","underscore"],function(e){"use strict";var t=e("underscore"),r={},n=[];return function(e,o){var i,a,s=r[e];s||(s=document.createElement("style"),r[e]=s,i=t.sortedIndex(n,e),(a=r[n[i]])?document.head.insertBefore(s,a):document.head.appendChild(s),n.splice(i,0,e)),s.textContent=o}}),define("vendor/css",{}),define("lib/prefix-css",["require","vendor/css"],function(e){"use strict";var t=e("vendor/css");function r(e,t){return Object.assign({},e,{rules:function e(t,r){return t.map(function(t){return t.rules?Object.assign({},t,{rules:e(t.rules,r)}):t.selectors?Object.assign({},t,{selectors:function(e,t){for(var r=[],n=0;n<e.length;n++){var o=e[n];if("html"===o)r.push(o);else if(/dcg(-mq)?-aria-alert/.test(o))r.push(o);else if(/^html body( |$)/.test(o))r.push("html"+t+" body"+o.slice("html body".length)),r.push("html body "+t+o.slice("html body".length));else{if(/^html/.test(o))throw new Error("Cannot correctly prefix selector "+o);r.push(t+" "+o)}}return r}(t.selectors,r)}):t})}(e.rules,t)})}return function(e,n){if(n){var o="."+n;return function(e){if(!/\.-?[_a-zA-Z]+[_a-zA-Z0-9-]*/.test(e))throw new Error("Illegal css selector prefix "+e)}(o),n=o,o=t.parse(e),n=Object.assign({},o,{stylesheet:r(o.stylesheet,n)}),t.stringify(n)}return e}}),define("loadcss",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("loadcss!touchtracking",function(){}),define("touchtracking",["require","jquery","ipad.ghostevents","keys","loadcss!./touchtracking"],function(e){var t,r,n=-1!==document.location.href.indexOf("dcgDebugTouchTracking=dcgYES"),o=e("jquery"),i=e("ipad.ghostevents"),a=e("keys");function s(e){r&&(r[0].value="("+Date.now()+") "+e+"\n"+r[0].value)}e("loadcss!./touchtracking"),null==window._touchtracking_id_counter&&(window._touchtracking_id_counter=0),window._touchtracking_id_counter+=1;var c="touchtracking_id_"+window._touchtracking_id_counter;function l(e){for(var t=[];e;)t.push(e),e=e.parentNode;return t}function u(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(t.push(n),o(n).is(".dcg-tap-container, .dcg-no-touchtracking"))return o(n).is(".dcg-tap-container."+c)?t:[]}return[]}function d(e,t){A=null,s("beginMode:"+(_=e)),L=l((_===S?t.originalEvent.touches[0]:t).target),o(u(L)).addClass("dcg-depressed").each(function(){var e=o(this);F(e)&&e.addClass("dcg-focus-by-tap")}),o(L).each(function(){var e=o(this);e.data({originalScrollTop:e.scrollTop(),originalScrollLeft:e.scrollLeft()})}),M={}}function p(e){return e.is('input, textarea, select, [role="textbox"]')||e.hasClass("dcg-mathquill-input-span")||e.is("[contenteditable=true]")}function h(e,t){A=null,s("endMode:"+_),o(".dcg-depressed").removeClass("dcg-depressed");var r=o(document.activeElement);if(!j(e.target)&&F(r))try{r.blur()}catch(e){}if(o(".dcg-focus-by-tap").removeClass("dcg-focus-by-tap"),o(L).each(function(){var e=(t=o(this)).data("originalScrollTop")-t.scrollTop(),t=t.data("originalScrollLeft")-t.scrollLeft();(e||t)&&(M.scroll=!0)}),1===M["dcg-tapstart"]&&1===M["dcg-tapend"]&&!M["dcg-tapcancel"]&&!M.scroll){s("potential dcg-tap");var n,i=t.changedTouches[0].clientX,a=t.changedTouches[0].clientY;e&&!e.device&&0===i&&0===a&&(i=((n=e.target.getBoundingClientRect()).left+n.right)/2,a=(n.top+n.bottom)/2,e.device="keyboard"),s("potential dcg-tap coords:"+i+":"+a);for(var c=!1,l=!1,u=0;u<L.length&&!c;u++){var d,p=o(L[u]);if("function"==typeof p[0].getBoundingClientRect&&(d=p[0].getBoundingClientRect()),"true"===p.attr("tapboundary")&&(c=!0),d){if(i<d.left||a<d.top)continue;if(i>d.right)continue;if(a>d.bottom)continue}A=p[0],l=!0,q("dcg-tap",e,{target:A,touches:t.touches,changedTouches:t.changedTouches});break}}s("result of dcg-tap:  did_dispatch="+l+"  did_escape="+c),_!==S&&_!==k||(C=setTimeout(function(){C=null,T=(new Date).getTime()},1e3)),L=[],_=0}function f(e){return void 0!==e.identifier?e.identifier:e.pointerId}function g(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push({identifier:f(n),x:n.pageX,y:n.pageY,screenX:n.screenX,screenY:n.screenY,pageX:n.pageX,pageY:n.pageY,clientX:n.clientX,clientY:n.clientY})}return t}function m(e){var t=L,r=!!L.length,n=o(".dcg-tap-container."+c+" .dcg-hovered"),i=o.makeArray(n.filter(function(){return D(this)})),a=[],s=[],d=[];u(l(e)).forEach(function(e){r&&-1===t.indexOf(e)||(-1===i.indexOf(e)&&d.push(e),a.push(e))});for(var p=0;p<i.length;p++)e=i[p],-1===a.indexOf(e)&&s.push(e);o(s).removeClass("dcg-hovered").trigger("tipsyhide"),o(d).addClass("dcg-hovered").trigger("tipsyshow")}function y(e){for(var t=0;t<P.length;t++)if(P[t].pointerId===e)return 1}function v(e){for(var t=0;t<P.length;t++)if(P[t].pointerId===e)return P.splice(t,1)[0]}function b(e){0===_&&d(k,e),m(null),P.push(e.originalEvent),q("dcg-tapstart",e,{touches:P,changedTouches:[e.originalEvent]})}function x(e){v(e.originalEvent.pointerId);var t={touches:P,changedTouches:[e.originalEvent]};q("dcg-tapcancel",e,t),0===P.length&&h(e,t)}function w(e){v(e.originalEvent.pointerId);var t={touches:P,changedTouches:[e.originalEvent]};q("dcg-tapend",e,t),0===P.length&&h(e,t)}function E(e){return"touch"===e.originalEvent.pointerType||2===e.originalEvent.pointerType}i.evtInScope=function(e){return D(e.target)},i.isGhostEvent=function(e){return!(window.PointerEvent||_!==S&&_!==k&&!N()||e.target===A||e.target&&o.contains(e.target,A)||A&&o.contains(A,e.target)||(s("found ghost event"),0))};var S=1,k=4,_=0,I={},M={},L=[],T=0,C=null,A=null,O=null,P=[],D=function(e){return!!o(e).closest(".dcg-tap-container, .dcg-no-touchtracking").is(".dcg-tap-container."+c)},F=function(e){return 3!==_&&!p(e)&&D(e)},N=function(){return C||(new Date).getTime()-T<500},q=function(e,t,r){var n=f(t),i=g(r.touches),a=g(r.changedTouches);if(s("dispatchEvent:"+e),"dcg-tapstart"===e)I[n]={type:e,pageX:a[0].pageX,pageY:a[0].pageY};else if("dcg-tapmove"===e){var c=a[0],l=I[n];if(l&&c.pageX===l.pageX&&c.pageY===l.pageY)return;if((_===S||_===k)&&l&&"dcg-tapstart"===l.type&&Math.abs(l.pageX-c.pageX)+Math.abs(l.pageY-c.pageY)<2)return;I[n]={type:e,pageX:a[0].pageX,pageY:a[0].pageY}}void 0===M[e.toLowerCase()]?M[e.toLowerCase()]=1:M[e.toLowerCase()]++,(n=o.event.fix(t.originalEvent)).type=e,n.device=_===S||_===k?"touch":3===_?"keyboard":"mouse",n.touches=i,n.changedTouches=a,n.target=r.target||t.target;var u="keyboard"!==n.device&&0<M["dcg-longhold"];n.wasLongheld=function(){return u},n.preventTap=function(){M["dcg-tapcancel"]=1},clearTimeout(O),"dcg-tapstart"===n.type&&"keyboard"!==n.device&&1===n.touches.length&&(O=setTimeout(function(){q("dcg-longhold",t,r)},500)),n.target&&n.target.nodeName&&"a"===n.target.nodeName.toLowerCase()&&"dcg-tap"===n.type&&"keyboard"===n.device&&n.target.click&&n.target.click(),s("trigger event:"+n.type),o(n.target).trigger(n)};B("pointerdown MSPointerDown",function(e){2!==_&&_!==S&&E(e)&&(y(e.originalEvent.pointerId)?s("exit. pointer id already exists: "+e.originalEvent.pointerId):b(e))}),B("pointermove MSPointerMove",function(e){2!==_&&_!==S&&E(e)&&(y(e.originalEvent.pointerId)||(s("pointer id already exists: "+e.originalEvent.pointerId),b(e)),v(e.originalEvent.pointerId),P.push(e.originalEvent),q("dcg-tapmove",e,{touches:P,changedTouches:[e.originalEvent]}))}),o(document).on("pointercancel MSPointerCancel",function(e){var t;if(s("document.on:"+e.type),_===k&&E(e)&&y(e.originalEvent.pointerId))for(x(e);t=P.pop();)x(e=o.Event(t,{originalEvent:t}))}),o(document).on("pointerup MSPointerUp",function(e){var t;if(s("document.on:"+e.type),_===k&&E(e)&&y(e.originalEvent.pointerId))for(w(e);t=P.pop();)w(e=o.Event(t,{originalEvent:t}))});var R=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",function(){},t),window.removeEventListener("test",function(){},t)}catch(e){}return e}();function B(e,t){var r=R?{passive:!1}:void 0;document.addEventListener(e,function(e){s("document.on:"+e.type),t(o.event.fix(e))},r)}function j(e){var t=!!o(e).closest(".dcg-do-not-blur").length,r=!!o(e).closest(".dcg-do-blur").length;return t&&!r&&D(e)}return B("touchstart",function(e){2!==_&&_!==k&&(0===_&&d(S,e),m(null),q("dcg-tapstart",e,{touches:e.originalEvent.touches,changedTouches:e.originalEvent.changedTouches}))}),B("touchmove",function(e){_===S&&q("dcg-tapmove",e,{touches:e.originalEvent.touches,changedTouches:e.originalEvent.changedTouches})}),B("touchcancel",function(e){var t;_===S&&(t={touches:e.originalEvent.touches,changedTouches:e.originalEvent.changedTouches},q("dcg-tapcancel",e,t),0===e.originalEvent.touches.length&&h(e,t))}),B("touchend",function(e){var t;_===S&&(t={touches:e.originalEvent.touches,changedTouches:e.originalEvent.changedTouches},q("dcg-tapend",e,t),0===e.originalEvent.touches.length&&h(e,t))}),o(document).on("mousedown",function(e){if(s("document.on:"+e.type),1!==e.button&&2!==e.button){if(_===S||_===k||N())return!o(e.target).is("input, textarea, select")&&D(e.target)&&e.preventDefault(),void s("abort mousedown: "+_+":"+N());d(2,e),q("dcg-tapstart",e,{touches:[e],changedTouches:[e]})}}),o(document).ready(function(){o(document).on("mousedown",function(e){if(s("document.on:"+e.type),j(e.target)){e.preventDefault();try{var t,r=window.getSelection();1!==r.rangeCount||(t=r.getRangeAt(0)).startContainer===t.endContainer&&o(t.startContainer).closest(".dcg-text-selectable").length&&r.removeAllRanges()}catch(e){}}})}),o(document).on("mouseleave",function(e){s("document.on:"+e.type),0===_&&(N()?s("abort mouseleave: "+_+":"+N()):m(null))}),o(document).on("mousemove",function(e){s("document.on:"+e.type),1!==e.button&&2!==e.button&&_!==S&&_!==k&&(N()?s("abort mousemove: "+_+":"+N()):(m(e.target),q("dcg-tapmove",e,{touches:[e],changedTouches:[e]})))}),o(document).on("mouseup",function(e){var t;s("document.on:"+e.type),1!==e.button&&2!==e.button&&2===_&&(q("dcg-tapend",e,t={touches:[],changedTouches:[e]}),h(e,t))}),o(document).on("keydown",function(e){s("document.on:"+e.type),a.lookup(e)!==a.ENTER&&a.lookup(e)!==a.SPACEBAR||!D(e.target)||3===_||o(e.target).is('a:not([ontap]), button, input, textarea, select, [role="textbox"], [contenteditable="true"]')||(e.preventDefault(),d(3,e),q("dcg-tapstart",e,{touches:[e],changedTouches:[e]}))}),o(document).on("keyup",function(e){var t;s("document.on:"+e.type),a.lookup(e)!==a.ENTER&&a.lookup(e)!==a.SPACEBAR||!D(e.target)||3!==_||(q("dcg-tapend",e,t={touches:[],changedTouches:[e]}),h(e,t))}),{monitor:function(e){o(e).addClass("dcg-tap-container"),o(e).addClass(c),n&&(t&&t.remove(),t=o('<div style="position:absolute;bottom:10px;right:10px;"><textarea rows="30" cols="40"></textarea><div id="dcg-touchtracking-debug-copy" class="dcg-btn-blue">COPY LOGS</div></div>'),r=t.find("textarea"),o(e).append(t),o("#dcg-touchtracking-debug-copy")[0].addEventListener("mousedown",function(){r[0].select(),document.execCommand("copy")},!0),s("monitor touches"))},ignore:function(e){o(e).addClass("dcg-no-touchtracking")},isTapActive:function(){return 0!==_},elIsFocusable:p}}),define("main/load_data",["require","jquery"],function(e){"use strict";return e("jquery")("body").data("load-data")}),define("core/lib/deepCopy",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var r=t;if(r&&"function"==typeof r.toJSON&&(r=r.toJSON()),!r)return r;if("object"!=typeof r)return r;if(Array.isArray(r))return r.map(e);var n,o={};for(n in r)r.hasOwnProperty(n)&&(o[n]=e(r[n]));return o}}),define("lib/parse-query-params",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getQueryParams=void 0,t.getQueryParams=function(){var e="";try{"?"==(e=location.search)[0]&&(e=e.slice(1))}catch(e){}for(var t={},r=0,n=e.split("&");r<n.length;r++){var o=n[r].split("=");2==o.length?t[o[0]]=decodeURIComponent(o[1]):t[o[0]]=!0}return t}}),define("config",["require","exports","core/lib/deepCopy","lib/parse-query-params"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.all=t.get=void 0;var o={},i=n.getQueryParams();if("undefined"!=typeof Desmos&&Desmos.config)for(var a in Desmos.config)Desmos.config.hasOwnProperty(a)&&(i[a]=Desmos.config[a]);function s(e){return i.hasOwnProperty(e)}function c(e){o[e]=s(e)}function l(e){o[e]=!s("no"+e)}c("testing"),c("maintenance"),c("disableScrollFix"),c("nativeOnscreenKeypad"),c("hidden"),c("disableMouseInteractions"),c("advancedStyling"),c("outofdom"),i.lang&&(o.language=i.lang),i.fontSize&&(o.fontSize=i.fontSize),i.backgroundColor&&(o.backgroundColor="#"+i.backgroundColor),i.textColor&&(o.textColor="#"+i.textColor),o.no_navigation_warning=s("noconcat")||s("testing"),o.previewMessage="You're previewing some new accessibility features.",o.previewFeedbackUrl="mailto:feedback@desmos.com",n=location&&"preview.desmos.com"===location.hostname,o.previewMode=s("previewMode")||n,c("lockViewport"),c("administerSecretFolders"),c("degreeMode"),c("clearIntoDegreeMode"),c("plaidMode"),c("editOnWeb"),c("crossOriginSaveTest"),c("showResetButtonOnGraphpaper"),c("transparentBackground"),c("forceLogModeRegressions"),l("links"),l("trace"),l("zoomFit"),c("expressionsCollapsed"),c("invertedColors"),c("projectorMode"),l("images"),l("folders"),l("settingsMenu"),l("expressionsTopbar"),l("zoomButtons"),l("keypad"),l("graphpaper"),l("expressions"),l("branding"),l("pointsOfInterest"),l("plotSingleVariableImplicitEquations"),l("plotImplicits"),l("plotInequalities"),l("notes"),l("sliders"),c("pauseWhenOffscreen"),c("worksheetSVG"),l("brailleControls"),c("audioTraceKeypad"),l("audio"),c("sciKeypad"),c("4fnKeypad"),c("ans"),s("braille")&&(o.braille=!0),l("qwertyKeyboard"),c("restrictedFunctions"),c("forceEnableGeometryFunctions"),l("functionDefinition"),c("singleExpression"),c("restrictedEditing"),c("replaceCommaWith10Exp"),c("replaceRoundWithReciprocal"),s("typingAsteriskWritesTimesSymbol")&&(o.typingAsteriskWritesTimesSymbol=!0),l("labels"),l("distributions"),(o["4fnKeypad"]?c:l)("decimalToFraction"),c("3d"),s("exponentButtonForSquareRoot")?o.additionalFunctions=["exponent"]:i.additionalFunctions&&"string"==typeof i.additionalFunctions&&(o.additionalFunctions=i.additionalFunctions.split(",")),s("actions")?o.actions=!0:s("noactions")?o.actions=!1:s("clickableObjects")&&(o.actions=!0),t.get=function(e){return o[e]},t.all=function(){return r.default(o)}}),define("loadcss!print",function(){}),define("console",["require"],function(e){function t(){}var r={};return["log","info","warn","error","assert","dir","clear","profile","profileEnd","time","timeEnd","group","groupCollapsed","groupEnd","trace"].forEach(function(e){"undefined"!=typeof window&&window.console&&window.console[e]?r[e]=function(){Function.prototype.apply.call(window.console[e],window.console,arguments)}:r[e]=t}),r}),define("lib/console",["require","exports","console"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.warn=t.log=void 0,t.log=r.log,t.warn=r.warn}),define("lib/enabled-languages",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ENABLED_LANGUAGES=t.buildSupportedLanguagesMap=t.expandLocaleOptionsThoroughly=void 0,t.expandLocaleOptionsThoroughly=function(e){for(var r=[],n=0,o=e;n<o.length;n++){var i=o[n];if(i&&"string"==typeof i){var a,s=i.split("-")[0];for(a in r.push(i),r.push(s),t.ENABLED_LANGUAGES){var c=t.ENABLED_LANGUAGES[a];a.split("-")[0]===s&&c.useAsRoot&&r.push(a)}}}return r},t.buildSupportedLanguagesMap=function(){var e,r={},n=Object.keys(t.ENABLED_LANGUAGES);for(e in n){var o=n[e];r[o]={code:o,display_name:t.ENABLED_LANGUAGES[o].displayName}}return r},t.ENABLED_LANGUAGES={en:{displayName:"English (US)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},es:{displayName:"Espaol (LATAM)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_ES-ES.pdf",useAsRoot:!0},et:{displayName:"Eesti",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},ru:{displayName:"",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_RU.pdf",useAsRoot:!1},da:{displayName:"Dansk",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},de:{displayName:"Deutsch",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_DE.pdf",useAsRoot:!1},"pt-BR":{displayName:"Portugus (Brasil)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!0},"pt-PT":{displayName:"Portugus (Portugal)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},ca:{displayName:"Catal",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},fr:{displayName:"Franais",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_FR.pdf",useAsRoot:!1},it:{displayName:"Italiano",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_IT.pdf",useAsRoot:!1},is:{displayName:"slenska",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},nl:{displayName:"Nederlands",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},no:{displayName:"Norsk",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},"sv-SE":{displayName:"Svenska",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!0},hu:{displayName:"Magyar",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},cs:{displayName:"etina",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},pl:{displayName:"Polski",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_PL.pdf",useAsRoot:!1},id:{displayName:"Bahasa Indonesia",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},vi:{displayName:"Ting Vit",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_VI.pdf",useAsRoot:!1},el:{displayName:"",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_EL.pdf",useAsRoot:!1},uk:{displayName:"",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},ka:{displayName:"",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},th:{displayName:"",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},tr:{displayName:"Trke",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_TR.pdf",useAsRoot:!1},"zh-CN":{displayName:"",useAsRoot:!0,userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_ZH-CN.pdf"},"zh-TW":{displayName:"",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_ZH-TW.pdf",useAsRoot:!1},ko:{displayName:"",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},ja:{displayName:"",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_JA.pdf",useAsRoot:!1}}}),define("text!l10n/all-en-strings.ftl",[],function(){return"### Strings shared among tools and homepage\n\n\n### 4900 English words, 889 English strings\n\naccount-shell-button-braille-nemeth = Nemeth\naccount-shell-button-braille-ueb = UEB\naccount-shell-button-cancel = Cancel\naccount-shell-button-clear = Clear\naccount-shell-button-confirm-delete =\n    { $count ->\n        [one] Yes, delete graph\n       *[other] Yes, delete graphs\n    }\naccount-shell-button-contact-us = Contact Us\naccount-shell-button-create-own-activity = Create your own submission activity.\naccount-shell-button-delete = Delete\naccount-shell-button-download-braille = Download Braille Equations\naccount-shell-button-download-png = Download PNG\naccount-shell-button-download-svg = Download SVG\naccount-shell-button-duplicate = Duplicate\naccount-shell-button-duplicate-mac = Duplicate or Rename (cmd+shift+s)\naccount-shell-button-duplicate-pc = Duplicate or Rename (ctrl+shift+s)\naccount-shell-button-embed = Embed\naccount-shell-button-export-image = Export Image\naccount-shell-button-hide-browser-warning = Hide this warning.\naccount-shell-button-line-medium = Medium\naccount-shell-button-line-thick = Thick\naccount-shell-button-line-thin = Thin\naccount-shell-button-log-in = Log In\naccount-shell-button-mygraphs-attempt-recovery = Attempt recovery.\naccount-shell-button-mygraphs-cancel = Cancel\naccount-shell-button-mygraphs-close-graph-list = Close Graph List\naccount-shell-button-mygraphs-close-graph-preview = Close Graph Preview\naccount-shell-button-mygraphs-delete-graph = Delete Graph\naccount-shell-button-mygraphs-delete-title = Delete { $graphTitle }\naccount-shell-button-mygraphs-offline-try-again = offline. click to try again.\naccount-shell-button-mygraphs-save = Save\naccount-shell-button-mygraphs-try-again = Try again\naccount-shell-button-open-construction = Open Construction\naccount-shell-button-open-graph = Open Graph\naccount-shell-button-print = Print\naccount-shell-button-rename = Rename\naccount-shell-button-retry-now = Retry now\naccount-shell-button-save = Save\naccount-shell-button-sign-up = Sign Up\naccount-shell-button-submit = Submit\naccount-shell-button-submit-graph = Submit This Graph\naccount-shell-button-svg-options = SVG Options\naccount-shell-error-art-contest-logged-out = You must be logged in to enter the art contest.\naccount-shell-error-change-email-logged-out = You must be logged in to change your email.\naccount-shell-error-change-name-logged-out = You must be logged in to change your name.\naccount-shell-error-changing-name = There was an error changing your user name.\naccount-shell-error-consent-error = There was an error accepting your consent.\naccount-shell-error-consent-logged-out = You must be logged in to consent to data collection.\naccount-shell-error-create-account-unexpected = Sorry, there was an error creating your account.\naccount-shell-error-delete-graph-logged-out = You must be logged in to delete graphs.\naccount-shell-error-delete-graph-logged-out-2 = You must be logged in to delete a graph.\naccount-shell-error-delete-unexpected = Sorry, there was an unexpected error deleting this graph. Error { $code }.\naccount-shell-error-deletion-error = There was an error. Try again later?\naccount-shell-error-deletion-error-2 = Error while deleting your account.\naccount-shell-error-deletion-link-not-found = We can't find that deletion token. Perhaps it's been used already?\naccount-shell-error-email-already-registered = Sorry, someone has already registered with this email address.\naccount-shell-error-email-invalid = Please enter a valid email address.\naccount-shell-error-email-password-mismatch = Sorry, your email and password did not match.\naccount-shell-error-email-too-short = Please enter an email address that is at most { $num } characters.\naccount-shell-error-feedback-empty = Please enter your feedback\naccount-shell-error-feedback-unexpected = Sorry, there was an unexpected problem sending feedback. Error { $code }.\naccount-shell-error-graph-too-large = This graph is too large to save. The maximum allowable size is 5 MB.\naccount-shell-error-invalid-deletion-link = This is not a valid deletion link.\naccount-shell-error-invalid-recovery-link = This is not a valid recovery link.\naccount-shell-error-logged-in-register = You are already logged in. You must first log out to register as a different user.\naccount-shell-error-logging-in = Error logging in.\naccount-shell-error-logging-out = Error logging out.\naccount-shell-error-missing-email = Please enter your email address.\naccount-shell-error-missing-name = Please enter your name.\naccount-shell-error-missing-new-password = Please enter your new password.\naccount-shell-error-missing-password = Please enter your password.\naccount-shell-error-mygraphs-check-connection = Check your internet connection?\naccount-shell-error-mygraphs-error-deleting = Error deleting.\naccount-shell-error-mygraphs-error-loading = Error loading graph\naccount-shell-error-name-too-long = Please enter a name that is at most { $num } characters.\naccount-shell-error-new-password-too-long = Please enter a new password that is at most { $num } characters.\naccount-shell-error-new-password-too-short = Please enter a new password that is at least { $num } characters.\naccount-shell-error-password-same-as-old = New password cannot match old password.\naccount-shell-error-password-too-long = Please enter a password that is at most { $num } characters.\naccount-shell-error-password-too-short = Please enter a password that is at least { $num } characters.\naccount-shell-error-passwords-do-not-match = The passwords that you entered did not match. Please try again.\naccount-shell-error-problem-resetting-password = Problem resetting your password. Please try again.\naccount-shell-error-recover-link-not-found = Sorry, we can't find that recovery link. Perhaps it's been used already?\naccount-shell-error-recover-password-too-short = Passwords must be at least { $num } characters long\naccount-shell-error-recover-unrecognized-email = Sorry, we could not find any users registered with this email address.\naccount-shell-error-request-error = Error while making request.\naccount-shell-error-save-art-contest = Error saving. Please try again later.\naccount-shell-error-save-graph = Sorry, there was an unexpected error saving your graph. Error { $code }.\naccount-shell-error-save-graph-logged-out = You must be logged in to save graphs.\naccount-shell-error-setting-email = Error setting new email.\naccount-shell-error-sharing-link = Sorry, there was an error generating a link to your graph. Check your internet connection.\naccount-shell-error-something-went-wrong = Something went wrong, please report this to desmos.com support. (Error { $error_num })\naccount-shell-error-submitting = Error submitting. Please try again later.\naccount-shell-error-unexpected-error = Unexpected error.\naccount-shell-error-unknown = Sorry! Something went wrong. Please try again later.\naccount-shell-error-update-account-settings-logged-out = You must be logged in to update your account settings.\naccount-shell-error-update-graph-logged-out = You must be logged in to update graphs.\naccount-shell-error-user-info-logged-out = You must be logged in to retrieve user information.\naccount-shell-error-verifying-email = Sorry, there was a problem verifying your email.\naccount-shell-error-view-graphs-logged-out = You must be logged in to view saved graphs.\naccount-shell-heading-3dcalc-page-title = Desmos | 3D Graphing Calculator\naccount-shell-heading-artist-statement = Your Artist Statement\naccount-shell-heading-birth-year = Your Birth Year\naccount-shell-heading-braille-mode = Braille Mode\naccount-shell-heading-contact-us = Contact Us\naccount-shell-heading-country = Your Country\naccount-shell-heading-download-instructions = Download Instructions\naccount-shell-heading-duplicate-construction = Duplicate This Construction\naccount-shell-heading-duplicate-graph = Duplicate This Graph\naccount-shell-heading-embossers = Tactile Graphics Embossers\naccount-shell-heading-embossing-instructions = Embossing Instructions\naccount-shell-heading-export-graph = Export Your Graph\naccount-shell-heading-export-size = Size\naccount-shell-heading-geometry-page-title = Desmos | Geometry\naccount-shell-heading-graphingcalc-page-title = Desmos | Graphing Calculator\naccount-shell-heading-line-thickness = Line Thickness\naccount-shell-heading-math-art-contest = Global Math Art Contest\naccount-shell-heading-mygraphs-examples = Examples\naccount-shell-heading-mygraphs-recovered-work = Recovered Work\naccount-shell-heading-mygraphs-saved-constructions = Saved Constructions\naccount-shell-heading-mygraphs-saved-graphs = Saved Graphs\naccount-shell-heading-name-email = Your Name & Email\naccount-shell-heading-rename-graph = Rename This Graph\naccount-shell-heading-resources = Resources\naccount-shell-heading-save-construction = Save This Construction\naccount-shell-heading-save-graph = Save This Graph\naccount-shell-heading-share-graph = Share Your Graph\naccount-shell-heading-submit-graph = Submit This Graph\naccount-shell-heading-title-mygraphs-search = Search\naccount-shell-heading-tours = Tours\naccount-shell-heading-unsupported-browser = Unsupported Browser\naccount-shell-label-account-information = Account Information\naccount-shell-label-advanced-preferences = Advanced\naccount-shell-label-age-13-14 = Age 1314\naccount-shell-label-age-15-16 = Age 1516\naccount-shell-label-age-17-18 = Age 1718\naccount-shell-label-artiist-statement-description = In 2-3 sentences, describe what motivated you and/or what you learned during this project.\naccount-shell-label-artist-statement-placeholder = Tell us about your graph...\naccount-shell-label-beta = Beta\naccount-shell-label-betchacant-loading = Challenge accepted...\naccount-shell-label-birth-year-placeholder = Birth Year\naccount-shell-label-country-placeholder = Your Country\naccount-shell-label-created-days-ago = { $number } days ago\naccount-shell-label-created-hours-ago = { $number } hours ago\naccount-shell-label-created-last-week = last week\naccount-shell-label-created-minutes-ago = { $number } minutes ago\naccount-shell-label-created-on-date = on { $month } { $day }, { $year }\naccount-shell-label-created-one-hour-ago = one hour ago\naccount-shell-label-created-one-minute-ago = one minute ago\naccount-shell-label-created-seconds-ago = less than a minute ago\naccount-shell-label-created-weeks-ago = { $number } weeks ago\naccount-shell-label-created-yesterday = yesterday\naccount-shell-label-delete-graph-modal-title = Delete Graph\naccount-shell-label-email-address = Email Address\naccount-shell-label-email-placeholder = So we can write back!\naccount-shell-label-export-size-large-rectangle = Large Rectangle\naccount-shell-label-export-size-large-square = Large Square\naccount-shell-label-export-size-medium-rectangle = Medium Rectangle\naccount-shell-label-export-size-medium-square = Medium Square\naccount-shell-label-export-size-small-square = Small Square\naccount-shell-label-feature-flag-actions = Actions\naccount-shell-label-feedback-email = Email Address\naccount-shell-label-feedback-message = Questions? Feedback?\naccount-shell-label-feedback-placeholder = Write to us!\naccount-shell-label-feedback-sending = Sending...\naccount-shell-label-full-name = Full Name\naccount-shell-label-graph-actions = Graph actions\naccount-shell-label-graph-title = Title\naccount-shell-label-help = Help\naccount-shell-label-help-menu = Help Menu\naccount-shell-label-language = Language\naccount-shell-label-loading = Loading...\naccount-shell-label-math-art-contest = Global Math Art Contest\naccount-shell-label-month-apr = Apr\naccount-shell-label-month-aug = Aug\naccount-shell-label-month-dec = Dec\naccount-shell-label-month-feb = Feb\naccount-shell-label-month-jan = Jan\naccount-shell-label-month-jul = Jul\naccount-shell-label-month-jun = Jun\naccount-shell-label-month-mar = Mar\naccount-shell-label-month-may = May\naccount-shell-label-month-nov = Nov\naccount-shell-label-month-oct = Oct\naccount-shell-label-month-sep = Sep\naccount-shell-label-mygraphs-example = example\naccount-shell-label-mygraphs-last-saved = last saved: { $date }\naccount-shell-label-mygraphs-no-unsaved-changes = no unsaved changes\naccount-shell-label-mygraphs-unsaved-graph = unsaved graph\naccount-shell-label-no-unsaved-changes = No Unsaved Changes\naccount-shell-label-open-graph-mac = { $open_graph } (cmd+o)\naccount-shell-label-open-graph-pc = { $open_graph } (ctrl+o)\naccount-shell-label-privacy-policy-changed = Weve made changes to our privacy policy!\naccount-shell-label-save-changes-mac = Save Changes (cmd+s)\naccount-shell-label-save-changes-pc = Save Changes (ctrl+s)\naccount-shell-label-saving-graph = Saving graph...\naccount-shell-label-share = share\naccount-shell-label-share-graph = Share Graph\naccount-shell-label-share-link = Share this link:\naccount-shell-label-submission-received = Submission Received!\naccount-shell-label-submitting = Submitting...\naccount-shell-label-success = Success!\naccount-shell-label-you-are-eligible = You're eligible to participate in the Global Math Art Contest 2021!\naccount-shell-label-zoom = Zoom: { $value }%\naccount-shell-link-account-settings = Account Settings\naccount-shell-link-download-chrome = Click here to download Google Chrome.\naccount-shell-link-email-support = Email Our Support Team\naccount-shell-link-getting-started = Getting Started\naccount-shell-link-help = Help\naccount-shell-link-help-center = Help Center\naccount-shell-link-keyboard-shortcuts = Keyboard Shortcuts\naccount-shell-link-learn-more = Learn More\naccount-shell-link-mygraphs-log-in = Log In\naccount-shell-link-mygraphs-sign-up = Sign Up\naccount-shell-link-privacy = Privacy Policy\naccount-shell-link-share-thoughts = Share your thoughts!\naccount-shell-link-sign-out = Sign Out\naccount-shell-link-terms = Terms of Service\naccount-shell-link-user-guide = Desmos User Guide\naccount-shell-link-video-tutorials = Video Tutorials\naccount-shell-narration-back = Back\naccount-shell-narration-clear-selected-country = Clear Selected Country\naccount-shell-narration-graph-preview = Graph Preview\naccount-shell-narration-image-download = Image Download\naccount-shell-narration-language-menu = Language Options Menu\naccount-shell-narration-mygraphs-open-graph = Open graph\naccount-shell-narration-share-options = Share Options\naccount-shell-narration-size-options = Size Options\naccount-shell-text-3d-confirm-leave = Are you sure you want to leave this construction? Your unsaved work will be lost.\naccount-shell-text-advanced-preferences-instructions = Try these advanced features. Feel free to send any questions or feedback to support@desmos.com.\naccount-shell-text-alt-text-art-contest = Earth with students from different countries and a red ribbon around it. Illustration.\naccount-shell-text-alt-text-success = Five people standing around and talking about an exciting piece of art in a museum. Illustration.\naccount-shell-text-art-contest-about-paragraph = Want to share your awesome graph with the world? Students ages 13+ can enter the Desmos Global Math Art Contest before<1> January 15th </1>for a chance to be featured on our website and win other prizes! <2>Learn more</2>\naccount-shell-text-art-contest-congratulations = Congratulations, and keep graphing!\naccount-shell-text-art-contest-copyright-agreement = This is my original work and doesn't use copyrighted material.\naccount-shell-text-art-contest-notice-default = Open one of your saved graphs or create a new one!\naccount-shell-text-art-contest-notice-login = If you want to submit a graph you've made, please sign in and open your graph.\naccount-shell-text-art-contest-success-paragraph = If you'd like to revise your submission, feel free to resubmit anytime before<1> January 15th</1>{\".\"} We'll only look at the most recent submission.\naccount-shell-text-artcontest-ineligible = <1><2>Based on your age and location, we arent able to accept a graph submission from you this year. Save it for another year, or ask your teacher to assign the art contest activity.</2><3>Keep up the awesome graphing!</3></1>\naccount-shell-text-check-recovery-link = Please check your email for a password recovery link.\naccount-shell-text-confirm-leave = Are you sure you want to leave this graph? Your unsaved work will be lost.\naccount-shell-text-construction-cleared = Construction Cleared.\naccount-shell-text-contest-submit-by-teacher = Are you a teacher looking to submit your students' graphs?\naccount-shell-text-contest-under-16 = Under 16?\naccount-shell-text-contest-verify-eligibility = Verify your eligibility\naccount-shell-text-copy-of-title = [Copy of] { $originalTitle }\naccount-shell-text-delete-graphs-confirmation =\n    Are you sure you want to delete { $count ->\n        [one] \"{ $title }\"\n       *[other] the { $count } selected graphs\n    }?\naccount-shell-text-download-instructions = To download, right click on the image of the graph select \"Save As.\" You might also be able to click and drag the image onto your desktop.\naccount-shell-text-embossing-etc-print = Set paper size to { $size }. Then click \"Edit\" and select File > Emboss.\naccount-shell-text-embossing-etc-save = Save this image. Open Firebird, select File > Open > Image File, and open the image.\naccount-shell-text-embossing-vpmax-print = Right click image and select \"print\". Set paper size to { $size }.\naccount-shell-text-embossing-vpmax-save = Right click graph image and save to desktop.\naccount-shell-text-error = error\naccount-shell-text-feature-flag-actions-description = Make graphs interactive by defining rules for responding to clicks or to the passage of time.\naccount-shell-text-feedback-sent = Thanks! We'll be in touch.\naccount-shell-text-geometry-confirm-leave = Are you sure you want to leave this construction? Your unsaved work will be lost.\naccount-shell-text-graph-cleared = Graph cleared.\naccount-shell-text-graph-uses-advanced-features = This graph uses advanced features.\naccount-shell-text-local-regulations-notice = Local regulations require you to submit your graph through your teacher or guardian. Share this link with them:\naccount-shell-text-logged-in = Logged in successfully!\naccount-shell-text-login-window-blocked-apple = Login window blocked. Please allow popups from desmos.com to sign in with Apple\naccount-shell-text-login-window-blocked-google = Login window blocked. Please allow popups from desmos.com to sign in with Google.\naccount-shell-text-maintenance-mode = Desmos is in Maintenance Mode.\naccount-shell-text-mygraphs-attempting-recovery = Attempting recovery...\naccount-shell-text-mygraphs-count-more = { $count } more...\naccount-shell-text-mygraphs-current-construction = Current Construction\naccount-shell-text-mygraphs-current-graph = Current Graph\naccount-shell-text-mygraphs-deleting = Deleting...\naccount-shell-text-mygraphs-loading = Loading...\naccount-shell-text-mygraphs-lost-work = Lost work?\naccount-shell-text-mygraphs-maintenance-mode = Desmos is temporarily in maintenance mode. You can open example graphs, but won't be able to sign in, open your graphs, or save any changes. We're so sorry for the inconvenience.\naccount-shell-text-mygraphs-new-blank-graph = New Blank Graph\naccount-shell-text-mygraphs-new-construction = New Construction\naccount-shell-text-mygraphs-no-examples-match-search = No examples match your search.\naccount-shell-text-mygraphs-no-saved-graphs = No saved graphs yet.\naccount-shell-text-mygraphs-no-search-results = No saved graphs match your search.\naccount-shell-text-mygraphs-no-unsaved-graphs = Couldn't find any unsaved graphs.\naccount-shell-text-mygraphs-opened-graph = Opened '{ $graphTitle }'\naccount-shell-text-mygraphs-opening = Opening...\naccount-shell-text-mygraphs-or = or\naccount-shell-text-mygraphs-search-by-title = search by title\naccount-shell-text-mygraphs-share-thoughts = Share your thoughts!\naccount-shell-text-mygraphs-slow-big-constructions = This can take a little while for big constructions...\naccount-shell-text-mygraphs-slow-big-graphs = This can take a little while for big graphs...\naccount-shell-text-mygraphs-submit-to-contest = <1>Submit this graph to the <2>Global Math Art Contest!</2></1>\naccount-shell-text-mygraphs-synced = synced!\naccount-shell-text-mygraphs-to-save-constructions = to save your constructions!\naccount-shell-text-mygraphs-to-save-graphs = to save your graphs!\naccount-shell-text-mygraphs-updating-graphs = updating graphs...\naccount-shell-text-mygraphs-version = Version\naccount-shell-text-new-construction-created = New construction created.\naccount-shell-text-new-graph-created = New graph created.\naccount-shell-text-or = or\naccount-shell-text-saved = saved\naccount-shell-text-share-submit-to-contest = <1>Submit this graph to the <2>Global Math Art Contest!</2></1>\naccount-shell-text-unsupported-browser-android = Desmos works best on your version of Android if you use the Chrome Browser.\naccount-shell-text-untitled = Untitled\naccount-shell-text-untitled-graph = Untitled Graph\nshared-button-accept = Accept\nshared-button-cancel = Cancel\nshared-button-change-email-address = Change email address\nshared-button-change-email-and-password = Change email and password\nshared-button-close-dialog = Close Dialog\nshared-button-confirm-name = Confirm Name\nshared-button-continue-to-desmos = Continue to Desmos\nshared-button-create-account = Create Account\nshared-button-delete-account-question = Delete your Desmos account?\nshared-button-email-address-narrow = Email\nshared-button-email-address-wide = Email Address\nshared-button-external-account-narrow = External\nshared-button-external-account-wide = External Account\nshared-button-go-to-account-settings = Go to Account Settings\nshared-button-google-account-narrow = Google\nshared-button-google-account-wide = Google Account\nshared-button-i-am-not-a-teacher = I am not a teacher.\nshared-button-learn-more-capitalized = Learn More\nshared-button-login = Log in\nshared-button-login-capitalized = Log In\nshared-button-login-with-apple = Log in with Apple\nshared-button-login-with-google = Log in with Google\nshared-button-more-options-menu = More Options\nshared-button-recover-password = Recover Password\nshared-button-save = Save\nshared-button-send-delete-account-email = Send Delete Account Email\nshared-button-send-email = Send Email\nshared-button-sign-up-as-a-teacher = Sign up as a teacher.\nshared-button-try-again = Didn't work? Try again!\nshared-calculator-button-braille-mode-nemeth = Nemeth\nshared-calculator-button-braille-mode-ueb = UEB\nshared-calculator-button-clear = clear\nshared-calculator-button-clear-all = clear all\nshared-calculator-button-controlbar-functions = functions\nshared-calculator-button-language = Language\nshared-calculator-button-mac = Mac Shortcuts\nshared-calculator-button-print = Print\nshared-calculator-button-reverse-contrast = Reverse Contrast\nshared-calculator-button-windows-chrome = Windows / ChromeOS Shortcuts\nshared-calculator-error-action-merge-free-variable = Cannot combine an action that depends on free variable '{ $symbol }'.\nshared-calculator-error-add-arguments-to-definition-many = Try including '{ $symbols }' and '{ $lastSymbol }' as arguments by defining the function as '{ $newSignature }'.\nshared-calculator-error-add-arguments-to-definition-one = Try including '{ $lastSymbol }' as an argument by defining the function as '{ $newSignature }'.\nshared-calculator-error-add-type-error = Cannot add { $symbol1 } and { $symbol2 }.\nshared-calculator-error-adjacent-numbers = Sorry, I don't know what to do with adjacent numbers '{ $left }' and '{ $right }'. Try using parentheses or a '*' symbol.\nshared-calculator-error-and-type-error = Cannot apply { $symbol } to { $symbol1 } and { $symbol2 }.\nshared-calculator-error-ans-undefined = The previous expression didn't define any value for ans.\nshared-calculator-error-assignments-unsupported = This calculator does not support defining variables.\nshared-calculator-error-bad-implicit-call = Use parentheses around the argument of '{ $symbol }'.\nshared-calculator-error-bad-integral-bound-dependency = Integration bounds can't depend on integration variable '{ $symbol }'.\nshared-calculator-error-bad-list-comprehension-input-dependency = List comprehension input list can't depend on input variable '{ $symbol }'.\nshared-calculator-error-bad-log-exponent = Only { $form } is supported. Otherwise, use parens.\nshared-calculator-error-bad-product-bound-dependency = Product bounds can't depend on product index '{ $symbol }'.\nshared-calculator-error-bad-sample-size = Sample size must be a finite, non-negative number.\nshared-calculator-error-bad-sum-bound-dependency = Summation bounds can't depend on summation index '{ $symbol }'.\nshared-calculator-error-bad-symbol-context = You can't use '{ $symbol }' in this context.\nshared-calculator-error-bad-trig-exponent = Only { $form1 } and { $form2 } are supported. Otherwise, use parens.\nshared-calculator-error-bad-tuple-dimensions = Points may only have { $symbol } coordinates.\nshared-calculator-error-binary-operator-missing-operand = You need something on both sides of the '{ $symbol }' symbol.\nshared-calculator-error-blank-expression = You haven't written anything yet.\nshared-calculator-error-boxplot-breadth-invalid = Invalid height. Try using any number.\nshared-calculator-error-boxplot-offset-invalid = Invalid offset. Try using any number.\nshared-calculator-error-cannot-redefine = You can't redefine '{ $symbol }' because it's already defined.\nshared-calculator-error-cannot-redefine-root = You can't define '{ $symbol }' because '{ $symbolRoot }' is already defined.\nshared-calculator-error-cannot-subscript = '{ $symbol }' cannot have a subscript.\nshared-calculator-error-cdf-max-invalid = Invalid cdf max. Try using any number.\nshared-calculator-error-cdf-max-less-than-min = Invalid cdf limits. Min should be less than max.\nshared-calculator-error-cdf-min-invalid = Invalid cdf min. Try using any number.\nshared-calculator-error-cdf-too-many-arguments = 'cdf' should be called on a distribution with at most two numbers. { $recommendation }\nshared-calculator-error-cdf-too-many-arguments-recommendation = For example, try typing: D.cdf(-1,1) where D=normaldist().\nshared-calculator-error-cdf-wrong-arity = 'cdf' should be called on a distribution with at least one number. { $recommendation }\nshared-calculator-error-cdf-wrong-arity-recommendation = For example, try typing: D.cdf(x) where D=normaldist().\nshared-calculator-error-clickable-object-assignment-not-defined = \"{ $symbol }\" is not defined. Try using a different variable or adding a slider.\nshared-calculator-error-clickable-object-assignment-not-identifier = Invalid symbol. Try using a single letter.\nshared-calculator-error-clickable-object-invalid-expression = Can't evaluate this. Try a number or simple expression.\nshared-calculator-error-colon-missing-condition = The left side of a ':' must be a condition, like 'x>1'.\nshared-calculator-error-color-arity = '{ $symbol }' should be called with 3 arguments. { $recommendation }\nshared-calculator-error-color-arity-recommendation = For example, try typing: { $recommendation }.\nshared-calculator-error-color-not-assigned = To use a color, you must assign it to a variable.\nshared-calculator-error-combine-type-error = Cannot combine { $symbol1 } and { $symbol2 }.\nshared-calculator-error-comparator-type-error = Cannot compare { $symbol1 } to { $symbol2 }.\nshared-calculator-error-complicated-double-inequality = We only support solved double inequalities. Try deleting one side of the inequality.\nshared-calculator-error-complicated-polar-implicit = Polar equations must be linear in r.\nshared-calculator-error-constant-unsupported = This calculator does not support the constant '{ $symbol }'.\nshared-calculator-error-deeply-nested = Definitions are nested too deeply.\nshared-calculator-error-dependency-cycle = '{ $symbols }' and '{ $lastSymbol }' can't be defined in terms of each other.\nshared-calculator-error-derivative-missing-body = What do you want to take the derivative of?\nshared-calculator-error-derivative-type-error = Cannot take the derivative of { $symbol }.\nshared-calculator-error-derivative-variable-type-error = Cannot take derivative with respect to '{ $symbol1 }' because it is { $symbol2 }.\nshared-calculator-error-differential-with-superscript = Integration variable cannot have a superscript.\nshared-calculator-error-distribution-as-function = Cannot call distribution '{ $symbol }' as a function. Try '{ $symbol }.pdf(x)'.\nshared-calculator-error-divide-type-error = Cannot divide { $symbol1 } by { $symbol2 }.\nshared-calculator-error-domain-max-invalid = Invalid domain max. Try using any number.\nshared-calculator-error-domain-max-less-than-min = Invalid domain limits. Min should be less than max.\nshared-calculator-error-domain-min-invalid = Invalid domain min. Try using any number.\nshared-calculator-error-dot-lhs-type-error = Cannot call '{ $symbol }' on { $type }.\nshared-calculator-error-duplicate-update-rules = An action cannot specify multiple update rules for '{ $symbol }'.\nshared-calculator-error-empty-paren = Parentheses cannot be empty.\nshared-calculator-error-empty-pipe = Absolute value symbol cannot be empty.\nshared-calculator-error-empty-radical = Radical cannot be empty.\nshared-calculator-error-empty-radical-index = Radical index cannot be empty.\nshared-calculator-error-empty-square-bracket = Square brackets cannot be empty.\nshared-calculator-error-empty-subscript = Subscripts cannot be empty.\nshared-calculator-error-empty-superscript = Superscripts cannot be empty.\nshared-calculator-error-equation-required = Try adding an equals sign to turn this into an equation.\nshared-calculator-error-equation-required-symbol = Try adding '{ $lhs }' to the beginning of this equation.\nshared-calculator-error-equations-unsupported = This calculator does not support this type of equation.\nshared-calculator-error-event-handler-type-error = This should be an action. Try '{ $example }'.\nshared-calculator-error-exponent-type-error = Cannot raise { $symbol1 } to { $symbol2 }.\nshared-calculator-error-feature-unavailable = This feature is not available in the current calculator.\nshared-calculator-error-fraction-empty = You need a numerator and denominator for your fraction.\nshared-calculator-error-fraction-missing-denominator = You need a denominator for the bottom of your fraction.\nshared-calculator-error-fraction-missing-numerator = You need a numerator for the top of your fraction.\nshared-calculator-error-function-definition-unsupported = This calculator does not support function definitions.\nshared-calculator-error-function-not-defined = Function '{ $dependency }' is not defined.\nshared-calculator-error-function-type-error-1 = Function '{ $fn }' cannot be applied to { $arg }.\nshared-calculator-error-function-type-error-2 = Function '{ $fn }' cannot be applied to { $arg1 } and { $arg2 }.\nshared-calculator-error-function-type-error-many = Function '{ $fn }' cannot be applied to these arguments.\nshared-calculator-error-function-unsupported = This calculator does not support the '{ $symbol }' function.\nshared-calculator-error-heterogeneous-list = All elements of a list must have the same type.\nshared-calculator-error-identifier-as-function = '{ $symbol }' is a function. Try using parentheses.\nshared-calculator-error-illegal-bin-width = The second argument to '{ $symbol }' must be a positive number.\nshared-calculator-error-illegal-dot-call = Function '{ $symbol }' cannot be called with dot notation.\nshared-calculator-error-implicits-disabled = Plotting implicit equations and inequalities is disabled.\nshared-calculator-error-incorrect-list-comprehension-input = Inputs to a list comprehension must set a variable equal to a list. Try i=[1...10].\nshared-calculator-error-incorrect-product-lower-bound = Lower bound of a product must set a variable equal to a number. Try n=1.\nshared-calculator-error-incorrect-sum-lower-bound = Lower bound of a sum must set a variable equal to a number. Try n=1.\nshared-calculator-error-index-type-error = Cannot index { $symbol1 } with { $symbol2 }.\nshared-calculator-error-inequalities-disabled = Plotting inequalities is disabled.\nshared-calculator-error-inequalities-unsupported = This calculator does not support inequalities.\nshared-calculator-error-inequality-chain-too-long = Cannot chain more than 2 inequalities.\nshared-calculator-error-integral-argument-type-error = Cannot take the integral of { $symbol }.\nshared-calculator-error-integral-lower-bound-type-error = Lower bound of an integral cannot be { $symbol }.\nshared-calculator-error-integral-missing-body = What do you want to take the integral of?\nshared-calculator-error-integral-missing-bound = Integrals must have upper and lower bounds.\nshared-calculator-error-integral-missing-differential = Integrand must end with an integration variable, like dx.\nshared-calculator-error-integral-upper-bound-type-error = Upper bound of an integral cannot be { $symbol }.\nshared-calculator-error-invalid-dependent-first-table-column = This column header can't be defined elsewhere in the calculator.\nshared-calculator-error-invalid-double-inequality-variables = We only plot double inequalities of x and y.\nshared-calculator-error-invalid-first-table-column = First column may not be { $most } or { $last }.\nshared-calculator-error-invalid-half-empty-range = Range must have an upper and lower bound.\nshared-calculator-error-invalid-implicit-variables = We only support implicit equations of x and y.\nshared-calculator-error-invalid-inequality-variables = We only plot inequalities of x and y, or r and .\nshared-calculator-error-invalid-lhs = Sorry, you can't graph { $symbol } as a function of anything yet.\nshared-calculator-error-invalid-operator-name = Operator names may only contain letters.\nshared-calculator-error-invalid-regression-parameter = '{ $symbol }' may not be used as a regression parameter. Try using a list.\nshared-calculator-error-invalid-subscript = Subscripts may only contain letters and digits. '{ $symbol }' is not allowed.\nshared-calculator-error-invalid-table-entry = Table entries must be simple expressions. { $supplement }\nshared-calculator-error-invalid-table-header = Table headers must be simple expressions. { $supplement }\nshared-calculator-error-list-comprehension-input-type-error = An input to a list comprehension must be a list, but { $identifier } is { $actual }. Try { $identifier }=[1...10].\nshared-calculator-error-list-type-error = Cannot store { $symbol1 } in a list.\nshared-calculator-error-logbase-unsupported = This calculator does not support specifying the base of a logarithm. Try 'log' or 'ln'.\nshared-calculator-error-malformed-list = Lists are written like this: [1, 2, 3].\nshared-calculator-error-malformed-point = Points are written like this: (1, 2).\nshared-calculator-error-matrix-add-dimensions = Cannot add matrices with different dimensions.\nshared-calculator-error-matrix-assignment = This calculator does not support this type of variable definition. Try using 'New Matrix'.\nshared-calculator-error-matrix-element-type-error = Cannot use { $arg } as an element of a matrix.\nshared-calculator-error-matrix-fractional-power = A matrix can only be raised to integer powers.\nshared-calculator-error-matrix-invalid-variable = Cannot use '{ $symbol }' as a variable.\nshared-calculator-error-matrix-multiply-dimensions = Cannot multiply matrices with incompatible dimensions.\nshared-calculator-error-matrix-power-dimensions = Only square matrices can be raised to a power.\nshared-calculator-error-matrix-subtract-dimensions = Cannot subtract matrices with different dimensions.\nshared-calculator-error-max-list-size = Lists may not have more than { $maxListSize } elements.\nshared-calculator-error-method-requires-list = '{ $symbol }' requires a list. For example, try typing: { $recommendation }.\nshared-calculator-error-mismatched-braces = Expected '{ $symbol1 }' to match '{ $symbol2 }'.\nshared-calculator-error-mismatched-double-inequality = Double inequalities must both go the same way, e.g. { $example }.\nshared-calculator-error-multiply-defined = You've defined '{ $dependency }' in more than one place. Try deleting some of the definitions of '{ $dependency }'.\nshared-calculator-error-multiply-type-error = Cannot multiply { $symbol1 } by { $symbol2 }.\nshared-calculator-error-negative-type-error = Cannot negate { $symbol }.\nshared-calculator-error-non-arithmetic-range = Ranges must be arithmetic sequences.\nshared-calculator-error-non-list-double-reducer = Both arguments of '{ $symbol }' must be lists. For example, try typing: { $recommendation }.\nshared-calculator-error-non-list-parameterized-reducer = The first argument of '{ $symbol }' must be a list. For example, try typing: { $recommendation }.\nshared-calculator-error-non-singular-inverse = Singular matrices do not have an inverse.\nshared-calculator-error-non-square-determinant = Only square matrices have a determinant.\nshared-calculator-error-non-square-inverse = Only square matrices have an inverse.\nshared-calculator-error-non-square-trace = Only square matrices have a trace.\nshared-calculator-error-optimization-error = We couldn't find any region where this model is defined.\nshared-calculator-error-ordered-pair-access-type-error = Cannot access a coordinate of { $symbol }.\nshared-calculator-error-parameter-already-defined = You can't use '{ $dependency }' as a parameter of this function because '{ $dependency }' is already defined.\nshared-calculator-error-parse-error = Sorry, I don't understand this.\nshared-calculator-error-pdf-wrong-arity = 'pdf' should be called on a distribution with a number. { $recommendation }\nshared-calculator-error-pdf-wrong-arity-recommendation = For example, try typing: D.pdf(x) where D=normaldist().\nshared-calculator-error-percent-missing-of = '%' must be used with 'of'. Try '25% of 12'.\nshared-calculator-error-piecewise-branch-length-error = When a piecewise condition depends on a free variable (like \"{ $symbol }\") and its branches are lists, the lists must have the same length.\nshared-calculator-error-piecewise-branch-type-error = Cannot use { $symbol1 } and { $symbol2 } as the branches in a piecewise. Every branch must have the same type.\nshared-calculator-error-piecewise-condition-type-error = The condition in a piecewise expression must be { $symbol1 } but was { $symbol2 }.\nshared-calculator-error-piecewise-missing-condition = A piecewise expression must have at least one condition.\nshared-calculator-error-piecewise-part-missing-condition = Every part of a piecewise expression must have a condition except the last.\nshared-calculator-error-point-type-error = Cannot use { $symbol1 } as a coordinate of { $symbol2 }.\nshared-calculator-error-points-unsupported = This calculator does not support points.\nshared-calculator-error-prime-without-paren = Primed function calls must use parentheses.\nshared-calculator-error-primed-function-arity = Prime notation can only be used for functions of a single argument.\nshared-calculator-error-product-argument-type-error = Cannot take the product of { $symbol }.\nshared-calculator-error-product-infinite-bound-type-error = Product bounds must be finite numbers.\nshared-calculator-error-product-lower-bound-type-error = Lower bound of a product cannot be { $symbol }.\nshared-calculator-error-product-missing-body = What do you want to take the product of?\nshared-calculator-error-product-missing-bound = Products must have upper and lower bounds.\nshared-calculator-error-product-upper-bound-type-error = Upper bound of a product cannot be { $symbol }.\nshared-calculator-error-random-arity = 'random' should be called with no arguments, or an optional number of samples. For example, try random() or random(10).\nshared-calculator-error-random-from-broadcast-distribution = Cannot sample from a list of distributions\nshared-calculator-error-regression-type-error = Cannot regress { $symbol1 } against { $symbol2 }.\nshared-calculator-error-regressions-unsupported = This calculator does not support regressions.\nshared-calculator-error-self-referential-function = The definition of function '{ $symbol }' cannot depend on '{ $symbol }'.\nshared-calculator-error-shadowed-index = You can't use '{ $symbol }' as an index because it's already defined.\nshared-calculator-error-shadowed-integration-variable = You can't use '{ $symbol }' as an integration variable because it's already defined.\nshared-calculator-error-shadowed-list-comprehension-input = You can't use '{ $symbol }' as a list comprehension input because it's already defined.\nshared-calculator-error-single-variable-implicit-equations-disabled = Plotting single-variable implicit equations is disabled.\nshared-calculator-error-slider-limit-references-export = Slider limits cannot depend on the slider variable '{ $symbol }'.\nshared-calculator-error-slider-max-invalid = Invalid slider max. Try using any number.\nshared-calculator-error-slider-max-less-than-min = Invalid slider limits. Min should be less than max.\nshared-calculator-error-slider-min-invalid = Invalid slider min. Try using any number.\nshared-calculator-error-slider-step-invalid = Invalid slider step. Try using any number.\nshared-calculator-error-subtract-type-error = Cannot subtract { $symbol2 } from { $symbol1 }.\nshared-calculator-error-sum-argument-type-error = Cannot take the sum of { $symbol }.\nshared-calculator-error-sum-infinite-bound-type-error = Summation bounds must be finite numbers.\nshared-calculator-error-sum-lower-bound-type-error = Lower bound of a sum cannot be { $symbol }.\nshared-calculator-error-sum-missing-body = What do you want to take the sum of?\nshared-calculator-error-sum-missing-bound = Sums must have upper and lower bounds.\nshared-calculator-error-sum-upper-bound-type-error = Upper bound of a sum cannot be { $symbol }.\nshared-calculator-error-superscript-with-prime = Superscripts and primes cannot be combined.\nshared-calculator-error-table-entry-type-error = Table entry cannot be { $symbol }.\nshared-calculator-error-table-equation-supplement = Equations are not allowed.\nshared-calculator-error-table-function-definition-supplement = Function definitions are not allowed.\nshared-calculator-error-table-generic-supplement = This type of expression is not allowed.\nshared-calculator-error-table-header-type-error = Table header cannot be { $symbol }.\nshared-calculator-error-table-inequality-supplement = Inequalities are not allowed.\nshared-calculator-error-table-list-supplement = Lists are not allowed.\nshared-calculator-error-table-regression-supplement = Regressions are not allowed.\nshared-calculator-error-tdist-wrong-arity = 'tdist' requires 1 argument. For example, try typing: tdist(1).\nshared-calculator-error-ticker-min-step-nonnegative = Min step must evaluate to a non-negative number.\nshared-calculator-error-token-with-subscript = Tokens may not have subscripts.\nshared-calculator-error-too-many-arguments = '{ $symbol }' accepts at most { $max } arguments.\nshared-calculator-error-too-many-variables-many-symbols = Too many variables. Try defining '{ $variables }' or '{ $lastVariable }'.\nshared-calculator-error-too-many-variables-no-symbols = Too many variables, I don't know what to do with this.\nshared-calculator-error-too-many-variables-one-symbol = Too many variables. Try defining '{ $variable }'.\nshared-calculator-error-ttest-list-too-short = Lists for '{ $symbol }' must have at least 2 elements.\nshared-calculator-error-two-numbers-error = Cannot make a polygon from two numbers.\nshared-calculator-error-unary-operator-missing-left = You need something before the '{ $symbol }' symbol.\nshared-calculator-error-unary-operator-missing-right = You need something after the '{ $symbol }' symbol.\nshared-calculator-error-unexpected-for-keyword = 'for' can only be used inside a list. Try [i for i=[1...10]].\nshared-calculator-error-unexpected-inequality = Cannot use an inequality here.\nshared-calculator-error-unexpected-prime = Sorry, I don't understand this use of prime notation.\nshared-calculator-error-unexpected-subscript = Only functions and variables may have subscripts.\nshared-calculator-error-unexpected-symbol = Sorry, I don't understand the way that '{ $symbol }' is used here.\nshared-calculator-error-unknown = Unknown Error\nshared-calculator-error-unplottable-polar-function = We can't plot  as a function of r. Try plotting r() instead.\nshared-calculator-error-unrecognized-symbol = Sorry, I don't understand the '{ $symbol }' symbol.\nshared-calculator-error-update-rule-function-lhs = '{ $symbol }' cannot be updated because it is a function.\nshared-calculator-error-update-rule-illegal-lhs = Variable '{ $symbol }' cannot be updated.\nshared-calculator-error-update-rule-local-lhs = Variable '{ $symbol }' cannot be updated because it is locally defined.\nshared-calculator-error-update-rule-non-identifier-lhs = The left hand side of '{ $arrow }' should be a variable name like '{ $example }'.\nshared-calculator-error-update-rule-type-error = Cannot update a variable to { $symbol }.\nshared-calculator-error-update-rule-undefined-lhs = Variable '{ $symbol }' must be defined to be updated.\nshared-calculator-error-variable-as-function = Variable '{ $dependency }' can't be used as a function.\nshared-calculator-error-variable-filter = List filters cannot depend on free variable '{ $symbol }'.\nshared-calculator-error-variable-function-free-variable = Function '{ $functionSymbol }' cannot depend on free variable '{ $variableSymbol }'.\nshared-calculator-error-variable-length-distribution-list = The length of a list of distributions can't depend on free variable '{ $symbol }'.\nshared-calculator-error-variable-length-product-body-depends-on-index = Can't take the product of a list whose length depends on product index '{ $symbol }'.\nshared-calculator-error-variable-length-sum-body-depends-on-index = Can't sum a list whose length depends on summation index '{ $symbol }'.\nshared-calculator-error-variable-length-top-level-list = Can't plot a list whose length depends on free variable '{ $symbol }'.\nshared-calculator-error-variable-list-indices = List indices cannot depend on free variable '{ $symbol }'.\nshared-calculator-error-variable-range = Range cannot depend on free variable '{ $symbol }'.\nshared-calculator-error-variable-sample-size = Sample size cannot depend on free variable '{ $symbol }'.\nshared-calculator-error-variable-seed = Random seed cannot depend on free variable '{ $symbol }'.\nshared-calculator-error-variable-unsupported = This calculator does not support the '{ $symbol }' variable.\nshared-calculator-error-variables-unsupported = This calculator does not support variables like '{ $variable }'.\nshared-calculator-error-wrong-arity-many-arg = Function '{ $dependency }' requires { $assignment_arity } arguments. { $supplement }\nshared-calculator-error-wrong-arity-single-arg-too-few = Function '{ $dependency }' requires an argument. { $supplement }\nshared-calculator-error-wrong-arity-single-arg-too-many = Function '{ $dependency }' requires only 1 argument. { $supplement }\nshared-calculator-error-wrong-arity-supplement = For example, try typing: { $recommendation }.\nshared-calculator-error-wrong-two-arg-arity = Function '{ $symbol }' requires 2 arguments. For example, try typing: { $recommendation }.\nshared-calculator-error-zero-arg-reducer = Function '{ $symbol }' requires at least one argument. For example, try typing: { $symbol }(1, 2).\nshared-calculator-heading-function-table-column-header = Function\nshared-calculator-heading-keyboard-shortcuts = Keyboard Shortcuts\nshared-calculator-heading-keyboard-shortcuts-audio-tracing = Audio Tracing\nshared-calculator-heading-keyboard-shortcuts-braille = Braille\nshared-calculator-heading-keyboard-shortcuts-common-actions = Common Actions\nshared-calculator-heading-keyboard-shortcuts-expression-entry-and-navigation = Expression Entry and Navigation\nshared-calculator-heading-keyboard-shortcuts-graphs-with-interactive-points = Graphs with Interactive Points\nshared-calculator-heading-keyboard-shortcuts-sliders = Sliders\nshared-calculator-heading-keyboard-shortcuts-symbols = Symbols\nshared-calculator-heading-keyboard-shortcuts-tables = Tables\nshared-calculator-heading-mac-table-column-header = Mac Shortcut\nshared-calculator-heading-shortcut-table-column-header = Shortcut\nshared-calculator-heading-windows-chrome-table-column-header = Windows / ChromeOS Shortcut\nshared-calculator-label-saved = Saved!\nshared-calculator-label-saving = Saving...\nshared-calculator-label-settings-display = Display\nshared-calculator-label-toast-learn-more = Learn more\nshared-calculator-label-toast-undo = Undo\nshared-calculator-label-tooltip-convert-to-decimal = Convert to decimal.\nshared-calculator-label-tooltip-convert-to-fraction = Convert to fraction.\nshared-calculator-label-value-type-action = an action\nshared-calculator-label-value-type-any = an unknown object\nshared-calculator-label-value-type-bool = a true/false value\nshared-calculator-label-value-type-color = a color\nshared-calculator-label-value-type-distribution = a distribution\nshared-calculator-label-value-type-empty-list = an empty list\nshared-calculator-label-value-type-error = an error object\nshared-calculator-label-value-type-list-of-any = a list of unknown objects\nshared-calculator-label-value-type-list-of-bool = a list of true/false values\nshared-calculator-label-value-type-list-of-colors = a list of colors\nshared-calculator-label-value-type-list-of-distributions = a list of distributions\nshared-calculator-label-value-type-list-of-numbers = a list of numbers\nshared-calculator-label-value-type-list-of-points = a list of points\nshared-calculator-label-value-type-list-of-polygons = a list of polygons\nshared-calculator-label-value-type-matrix = a matrix\nshared-calculator-label-value-type-number = a number\nshared-calculator-label-value-type-point = a point\nshared-calculator-label-value-type-polygon = a polygon\nshared-calculator-label-value-type-seed = a string\nshared-calculator-narration-braille-mode = Braille Mode\nshared-calculator-narration-braille-mode-nemeth = Braille mode Nemeth\nshared-calculator-narration-braille-mode-off = Braille mode off\nshared-calculator-narration-braille-mode-ueb = Braille mode UEB\nshared-calculator-narration-control-toggle-switch-to-default = { $toggled } selected. Press Enter to switch to { $default }.\nshared-calculator-narration-control-toggle-switch-to-toggled = { $default } selected. Press Enter to switch to { $toggled }.\nshared-calculator-narration-display-as-decimal = Displaying as fraction. Press Enter to display as Decimal\nshared-calculator-narration-display-as-fraction = Displaying as decimal. Press Enter to display as Fraction\nshared-calculator-narration-evaluation = equals { $answer }\nshared-calculator-narration-expression = Expression\nshared-calculator-narration-expression-index = Expression { $index }\nshared-calculator-narration-input-error = input has an error\nshared-calculator-narration-keypad = keypad\nshared-calculator-narration-keypad-controlbar = Control Bar\nshared-calculator-narration-keypad-key-10-n = Times ten to the power of\nshared-calculator-narration-keypad-key-abs = Absolute Value\nshared-calculator-narration-keypad-key-action-to = Set Value To\nshared-calculator-narration-keypad-key-alpha = Alpha\nshared-calculator-narration-keypad-key-ans = Answer\nshared-calculator-narration-keypad-key-arccos = Inverse Cosine\nshared-calculator-narration-keypad-key-arccot = Inverse Cotangent\nshared-calculator-narration-keypad-key-arccsc = Inverse Cosecant\nshared-calculator-narration-keypad-key-arcsec = Inverse Secant\nshared-calculator-narration-keypad-key-arcsin = Inverse Sine\nshared-calculator-narration-keypad-key-arctan = Inverse Tangent\nshared-calculator-narration-keypad-key-backspace = Backspace\nshared-calculator-narration-keypad-key-beta = Beta\nshared-calculator-narration-keypad-key-binomialdist = Binomial Distribution\nshared-calculator-narration-keypad-key-boxplot = Box Plot\nshared-calculator-narration-keypad-key-ceil = Ceiling\nshared-calculator-narration-keypad-key-corr = Correlation\nshared-calculator-narration-keypad-key-cos = Cosine\nshared-calculator-narration-keypad-key-cosh = Hyperbolic Cosine\nshared-calculator-narration-keypad-key-cot = Cotangent\nshared-calculator-narration-keypad-key-coth = Hyperbolic Cotangent\nshared-calculator-narration-keypad-key-cov = Co Variance\nshared-calculator-narration-keypad-key-covp = Population Co Variance\nshared-calculator-narration-keypad-key-csc = Cosecant\nshared-calculator-narration-keypad-key-csch = Hyperbolic Cosecant\nshared-calculator-narration-keypad-key-cubed = Cubed\nshared-calculator-narration-keypad-key-decimal = Decimal\nshared-calculator-narration-keypad-key-distance = Distance\nshared-calculator-narration-keypad-key-divide = Divide\nshared-calculator-narration-keypad-key-dotplot = Dot Plot\nshared-calculator-narration-keypad-key-enter = Enter\nshared-calculator-narration-keypad-key-erf = Error Function\nshared-calculator-narration-keypad-key-exp = Exponent\nshared-calculator-narration-keypad-key-factorial = Factorial\nshared-calculator-narration-keypad-key-floor = Floor\nshared-calculator-narration-keypad-key-fraction = A over B\nshared-calculator-narration-keypad-key-histogram = Histogram\nshared-calculator-narration-keypad-key-int = Integral\nshared-calculator-narration-keypad-key-inversecdf = Inverse CDF function\nshared-calculator-narration-keypad-key-ittest = Independent T Test\nshared-calculator-narration-keypad-key-left-arrow = Left Arrow\nshared-calculator-narration-keypad-key-left-bracket = Left Bracket\nshared-calculator-narration-keypad-key-left-paren = Left Parenthesis\nshared-calculator-narration-keypad-key-ln = Natural Log\nshared-calculator-narration-keypad-key-log = Log\nshared-calculator-narration-keypad-key-loga = Log A\nshared-calculator-narration-keypad-key-mean = Mean\nshared-calculator-narration-keypad-key-median = Median\nshared-calculator-narration-keypad-key-midpoint = Midpoint\nshared-calculator-narration-keypad-key-minus = Minus\nshared-calculator-narration-keypad-key-normaldist = Normal Distribution\nshared-calculator-narration-keypad-key-nthroot = Nth Root\nshared-calculator-narration-keypad-key-pdf = Probability Density Function\nshared-calculator-narration-keypad-key-percent-of = Percent Of\nshared-calculator-narration-keypad-key-pi = Pi\nshared-calculator-narration-keypad-key-plus = Plus\nshared-calculator-narration-keypad-key-poissondist = Poisson Distribution\nshared-calculator-narration-keypad-key-polygon = Polygon\nshared-calculator-narration-keypad-key-prime = Function derivative\nshared-calculator-narration-keypad-key-product = Product\nshared-calculator-narration-keypad-key-quantile = Quantile\nshared-calculator-narration-keypad-key-quartile = Quartile\nshared-calculator-narration-keypad-key-random = Random Number\nshared-calculator-narration-keypad-key-reciprocal = Reciprocal\nshared-calculator-narration-keypad-key-right-arrow = Right Arrow\nshared-calculator-narration-keypad-key-right-bracket = Right Bracket\nshared-calculator-narration-keypad-key-right-paren = Right Parenthesis\nshared-calculator-narration-keypad-key-round = Round\nshared-calculator-narration-keypad-key-sec = Secant\nshared-calculator-narration-keypad-key-shift = Shift\nshared-calculator-narration-keypad-key-sin = Sine\nshared-calculator-narration-keypad-key-sinh = Hyperbolic Sine\nshared-calculator-narration-keypad-key-spearman = Spearman Rank Correlation\nshared-calculator-narration-keypad-key-sqrt = Square Root\nshared-calculator-narration-keypad-key-squared = Squared\nshared-calculator-narration-keypad-key-stats = Summary statistics\nshared-calculator-narration-keypad-key-stdev = Standard Deviation\nshared-calculator-narration-keypad-key-stdevp = Standard Deviation of Population\nshared-calculator-narration-keypad-key-subscript = Subscript\nshared-calculator-narration-keypad-key-sum = Sum\nshared-calculator-narration-keypad-key-superscript = Superscript\nshared-calculator-narration-keypad-key-tan = Tangent\nshared-calculator-narration-keypad-key-tanh = Hyperbolic Tangent\nshared-calculator-narration-keypad-key-tau = Tau\nshared-calculator-narration-keypad-key-tdist = Student-t Distribution\nshared-calculator-narration-keypad-key-theta = Theta\nshared-calculator-narration-keypad-key-times = Times\nshared-calculator-narration-keypad-key-toggle-audio-trace = Toggle Audio Trace\nshared-calculator-narration-keypad-key-toggle-letters = Toggle Letters\nshared-calculator-narration-keypad-key-toggle-numbers = Toggle Numbers\nshared-calculator-narration-keypad-key-tscore = T Score\nshared-calculator-narration-keypad-key-ttest = T Test\nshared-calculator-narration-keypad-key-uniformdist = Uniform Distribution\nshared-calculator-narration-keypad-key-ythroot = Yth Root\nshared-calculator-narration-redo = redo\nshared-calculator-narration-settings-display-size = Display Size\nshared-calculator-narration-settings-display-size-default = Display size: default\nshared-calculator-narration-settings-display-size-large = Display size: large\nshared-calculator-narration-six-key-mode-off = Six Key Braille Input off\nshared-calculator-narration-six-key-mode-on = Six Key Braille Input on\nshared-calculator-narration-table-cell-coordinates = Row { $rowNumber } Column { $columnNumber }\nshared-calculator-narration-undo = undo\nshared-calculator-text-keyboard-shortcut-add-expression = Add an Expression\nshared-calculator-text-keyboard-shortcut-add-folder = Add a Folder\nshared-calculator-text-keyboard-shortcut-add-image = Add an Image\nshared-calculator-text-keyboard-shortcut-add-note = Add a Note\nshared-calculator-text-keyboard-shortcut-add-table = Add a Table\nshared-calculator-text-keyboard-shortcut-adjust-playback-speed = Adjust Playback Speed (1 = slowest, 5 = fastest)\nshared-calculator-text-keyboard-shortcut-announce-slider-animations = Announce Active Slider Animations\nshared-calculator-text-keyboard-shortcut-beginning-of-block = Beginning of Current Block\nshared-calculator-text-keyboard-shortcut-beginning-of-expression = Beginning of Current Expression\nshared-calculator-text-keyboard-shortcut-close-a-dialog = Close a Dialog (like this one!)\nshared-calculator-text-keyboard-shortcut-collapse-all-folders = Collapse All Folders\nshared-calculator-text-keyboard-shortcut-collapse-folder = Collapse Selected Folder\nshared-calculator-text-keyboard-shortcut-decrease-volume = Decrease Volume\nshared-calculator-text-keyboard-shortcut-decrease-x = Decrease X\nshared-calculator-text-keyboard-shortcut-decrease-x-larger = Decrease X by Larger Amount\nshared-calculator-text-keyboard-shortcut-decrease-y = Decrease Y\nshared-calculator-text-keyboard-shortcut-decrease-y-larger = Decrease Y by Larger Amount\nshared-calculator-text-keyboard-shortcut-delete-expression = Delete the Focused Expression\nshared-calculator-text-keyboard-shortcut-delete-selection = Delete Selection\nshared-calculator-text-keyboard-shortcut-describe-axes = Describe the graph axes\nshared-calculator-text-keyboard-shortcut-end-of-block = End of Current Block\nshared-calculator-text-keyboard-shortcut-end-of-expression = End of Current Expression\nshared-calculator-text-keyboard-shortcut-exit-block = Exit Current Block\nshared-calculator-text-keyboard-shortcut-expand-all-folders = Expand ALL Folders\nshared-calculator-text-keyboard-shortcut-expand-folder = Expand Selected Folder\nshared-calculator-text-keyboard-shortcut-first-point = First Point\nshared-calculator-text-keyboard-shortcut-focus-expression-list = Focus the Expression List\nshared-calculator-text-keyboard-shortcut-focus-first-interactive-point = Focus First Interactive Point On Screen\nshared-calculator-text-keyboard-shortcut-hear-graph = Hear Graph\nshared-calculator-text-keyboard-shortcut-hear-specific-branch = Hear Only Branch 1 Through 10\nshared-calculator-text-keyboard-shortcut-increase-selection-left = Increase Selection Left\nshared-calculator-text-keyboard-shortcut-increase-selection-right = Increase Selection Right\nshared-calculator-text-keyboard-shortcut-increase-volume = Increase Volume\nshared-calculator-text-keyboard-shortcut-increase-x = Increase X\nshared-calculator-text-keyboard-shortcut-increase-x-larger = Increase X by Larger Amount\nshared-calculator-text-keyboard-shortcut-increase-y = Increase Y\nshared-calculator-text-keyboard-shortcut-increase-y-larger = Increase Y by Larger Amount\nshared-calculator-text-keyboard-shortcut-last-point = Last Point\nshared-calculator-text-keyboard-shortcut-move-to-denominator = Move to Denominator Within Fraction\nshared-calculator-text-keyboard-shortcut-move-to-numerator = Move to Numerator Within Fraction\nshared-calculator-text-keyboard-shortcut-move-to-origin = Move to Origin\nshared-calculator-text-keyboard-shortcut-nemeth-mode = Switch to Nemeth\nshared-calculator-text-keyboard-shortcut-next-character = Next Character\nshared-calculator-text-keyboard-shortcut-next-curve = Move to Next Curve\nshared-calculator-text-keyboard-shortcut-next-expression = Move to Next Expression\nshared-calculator-text-keyboard-shortcut-next-interactive-point = Go to Next Interactive Point\nshared-calculator-text-keyboard-shortcut-next-poi = Next Point of Interest\nshared-calculator-text-keyboard-shortcut-next-point = Next Point\nshared-calculator-text-keyboard-shortcut-open-a-graph = Open a Graph\nshared-calculator-text-keyboard-shortcut-open-expression-options = Open Options for the Focused Expression\nshared-calculator-text-keyboard-shortcut-previous-character = Previous Character\nshared-calculator-text-keyboard-shortcut-previous-curve = Move to Previous Curve\nshared-calculator-text-keyboard-shortcut-previous-expression = Move to Previous Expression\nshared-calculator-text-keyboard-shortcut-previous-interactive-point = Go to Previous Interactive Point\nshared-calculator-text-keyboard-shortcut-previous-poi = Previous Point of Interest\nshared-calculator-text-keyboard-shortcut-previous-point = Previous Point\nshared-calculator-text-keyboard-shortcut-print-a-graph = Print a Graph\nshared-calculator-text-keyboard-shortcut-print-mode = Switch to Print\nshared-calculator-text-keyboard-shortcut-redo = Redo\nshared-calculator-text-keyboard-shortcut-remove-empty-expression = Remove Selected Empty Expression\nshared-calculator-text-keyboard-shortcut-save-a-graph = Save a Graph\nshared-calculator-text-keyboard-shortcut-select-all = Select All\nshared-calculator-text-keyboard-shortcut-show-answer-as-decimal-or-fraction = Show Answer as Decimal or Fraction\nshared-calculator-text-keyboard-shortcut-show-or-hide-expression-list = Show or Hide the Expression List\nshared-calculator-text-keyboard-shortcut-slider-decrease = Decrease Value\nshared-calculator-text-keyboard-shortcut-slider-decrease-larger = Decrease Value by Larger Increment\nshared-calculator-text-keyboard-shortcut-slider-increase = Increase Value\nshared-calculator-text-keyboard-shortcut-slider-increase-larger = Increase Value by Larger Increment\nshared-calculator-text-keyboard-shortcut-slider-maximum = Highest Value\nshared-calculator-text-keyboard-shortcut-slider-minimum = Lowest Value\nshared-calculator-text-keyboard-shortcut-slider-trace-decrease = Decrease Value of Selected Slider When in Slider Trace\nshared-calculator-text-keyboard-shortcut-slider-trace-decrease-larger = Decrease Value of Selected Slider by Larger Increment When in Slider Trace\nshared-calculator-text-keyboard-shortcut-slider-trace-increase = Increase Value of Selected Slider When in Slider Trace\nshared-calculator-text-keyboard-shortcut-slider-trace-increase-larger = Increase Value of Selected Slider by Larger Increment When in Slider Trace\nshared-calculator-text-keyboard-shortcut-slider-trace-maximum = Move to Highest Value of Selected Slider When in Slider Trace\nshared-calculator-text-keyboard-shortcut-slider-trace-minimum = Move to Lowest Value of Selected Slider When in Slider Trace\nshared-calculator-text-keyboard-shortcut-slider-trace-next-slider = Select Next Slider When in Slider Trace\nshared-calculator-text-keyboard-shortcut-slider-trace-previous-slider = Select Previous Slider When in Slider Trace\nshared-calculator-text-keyboard-shortcut-speak-answer = Speak Answer\nshared-calculator-text-keyboard-shortcut-speak-branch = Speak Branch\nshared-calculator-text-keyboard-shortcut-speak-color = Speak Color\nshared-calculator-text-keyboard-shortcut-speak-focused-block = Speak Focused Block\nshared-calculator-text-keyboard-shortcut-speak-label = Speak Label\nshared-calculator-text-keyboard-shortcut-speak-left-adjacent-block = Speak Left-Adjacent Block\nshared-calculator-text-keyboard-shortcut-speak-parent-block = Speak Parent Block\nshared-calculator-text-keyboard-shortcut-speak-poi-count = Speak Point of Interest Count\nshared-calculator-text-keyboard-shortcut-speak-point-type = Speak Type of Selected Point\nshared-calculator-text-keyboard-shortcut-speak-right-adjacent-block = Speak Right-Adjacent Block\nshared-calculator-text-keyboard-shortcut-speak-selection = Speak Selection\nshared-calculator-text-keyboard-shortcut-speak-x = Speak X Coordinate\nshared-calculator-text-keyboard-shortcut-speak-y = Speak Y Coordinate\nshared-calculator-text-keyboard-shortcut-summarize-graph = Summarize Selected Curve\nshared-calculator-text-keyboard-shortcut-table-first-column = First Column in Row\nshared-calculator-text-keyboard-shortcut-table-first-row = First Row in Column\nshared-calculator-text-keyboard-shortcut-table-last-column = Last Column in Row\nshared-calculator-text-keyboard-shortcut-table-last-row = Last Row in Column\nshared-calculator-text-keyboard-shortcut-table-next-cell = Next Cell\nshared-calculator-text-keyboard-shortcut-table-next-column = Next Column\nshared-calculator-text-keyboard-shortcut-table-next-row = Next Row\nshared-calculator-text-keyboard-shortcut-table-previous-cell = Previous Cell\nshared-calculator-text-keyboard-shortcut-table-previous-column = Previous Column\nshared-calculator-text-keyboard-shortcut-table-previous-row = Previous Row\nshared-calculator-text-keyboard-shortcut-table-speak-column-header = Speak Column Header\nshared-calculator-text-keyboard-shortcut-toggle-account-menu = Open or Close the Account Menu\nshared-calculator-text-keyboard-shortcut-toggle-audio-trace = Enable or Disable Audio Trace Mode\nshared-calculator-text-keyboard-shortcut-toggle-braille-typing = Turn Braille Typing On or Off\nshared-calculator-text-keyboard-shortcut-toggle-edit-list-mode = Turn Edit List Mode On or Off\nshared-calculator-text-keyboard-shortcut-toggle-graph-settings-menu = Open or Close the Graph Settings Menu\nshared-calculator-text-keyboard-shortcut-toggle-help-menu = Open or Close the Help Menu\nshared-calculator-text-keyboard-shortcut-toggle-language-menu = Open or Close the Language Menu\nshared-calculator-text-keyboard-shortcut-toggle-share-menu = Open or Close the Share Menu\nshared-calculator-text-keyboard-shortcut-toggle-slider-trace = Toggle Slider Trace Mode\nshared-calculator-text-keyboard-shortcut-ueb-mode = Switch to UEB\nshared-calculator-text-keyboard-shortcut-undo = Undo\nshared-calculator-text-keyboard-shortcut-usually = usually\nshared-label-email = Email\nshared-label-family-name = Last Name (optional)\nshared-label-given-name-or-nickname = First Name or Nickname\nshared-label-name = Name\nshared-label-name-or-nickname = Name or Nickname\nshared-label-new-email-address = New Email Address\nshared-label-password = Password\nshared-message-account-reactivated = You previously requested to delete your account, but because you logged back in within 30 days, we will not delete your account. Welcome back!\nshared-message-change-password-email-sent = We will send a link to your email address ({ $emailAddress }) so you can change your password.\nshared-message-check-email-for-delete-link = Please check your email ({ $emailAddress }) for the link to delete your account.\nshared-message-check-email-for-link = Please check { $emailAddress } for the Change Email link.\nshared-message-check-email-for-password-link = Please check your email ({ $emailAddress }) for the link to change your password.\nshared-message-check-email-for-password-recovery-link = Message sent. Please check your email for a password recovery link.\nshared-message-consent-delete-information = If you don't want Desmos to hold onto this information, you may delete your account from the Account Settings menu at any time.\nshared-message-consent-information = When you created your Desmos account, you gave us your name, email address, and password (unless you signed in with Google, in which case you gave us access to the name and email address associated with that account). You also gave us access to your saved work. To continue using your Desmos account, please consent below to the collection of this information.\nshared-message-consent-text = I agree to let Desmos store and maintain the information I provide (e.g. login credentials, saved work) in order to provide and improve its service. To withdraw consent, you may delete your account at any time.\nshared-message-cookie-notice = <1>Note:</1> Desmos uses cookies to enable persistence when you are signed in. If you do not wish to use cookies, please use Desmos without logging in. <2>Learn More.</2>\nshared-message-delete-account-notice = When you delete your account, <1>we will retain your data for 30 days.</1> You can reactivate your account at any time during those 30 days by logging back in. If there's something about Desmos we can improve, please <2>let us know.</2>\nshared-message-delete-account-will-send-email = We will send you a link to your email address ({ $email }) so you can delete your account.\nshared-message-email-sent = Email sent\nshared-message-email-settings-will-send-email = We will send a Change Email link to { $emailAddress }.\nshared-message-google-login-not-available = Google Login is not available on this device.\nshared-message-information-saved = Saved!\nshared-message-or-login-with-desmos = Or log in with Desmos\nshared-message-please-review-name = We tried to split your name into first and last name. Please review your name below and edit any mistakes.\nshared-message-privacy-notice = I have read, understand, and accept the <1>Terms of Service</1> and <2>Privacy Policy</2>{\".\"}\nshared-message-set-new-email-address = Set a new email address and password.\nshared-narration-privacy-policy-agreement = Checkbox to indicate agreement to privacy policy (desmos.com/privacy) and terms of service (desmos.com/terms).\nshared-prompt-already-have-account = Already have a Desmos account?\nshared-prompt-enter-email-for-password-recovery-link = Enter your email address to get a password recovery link.\nshared-prompt-forgot-your-password = Forgot your password?\nshared-prompt-new-to-desmos-sign-up-here = New to Desmos? <1>Sign up</1>{\".\"}\nshared-prompt-new-to-desmos-teacher-or-student = New to Desmos? Sign up as a <1>teacher</1> or <2>student.</2>\nshared-prompt-please-consent-to-sign-up-with-apple = Please consent above to sign up with Apple\nshared-prompt-please-consent-to-sign-up-with-google = Please consent above to sign up with Google\nshared-prompt-sign-up-with-apple = Sign up with Apple\nshared-prompt-sign-up-with-google = Sign up with Google\nshared-title-account-reactivated = Your account has been reactivated.\nshared-title-account-settings = Account Settings\nshared-title-change-email-address = Change your Desmos email address\nshared-title-change-password-narrow = Password\nshared-title-change-password-wide = Change Password\nshared-title-consent = We value your privacy\nshared-title-delete-account = Are you sure you want to delete your account?\nshared-title-email-settings = Email\nshared-title-language-menu = Language\nshared-title-login = Log In\nshared-title-profile-information-narrow = Profile\nshared-title-profile-information-wide = Profile Information\nshared-title-recover-password = Recover Password\nshared-title-signup = Sign-Up\nshared-title-teacher-signup = Teacher Sign-Up\n### Strings for the graphing calculator and other tools\n\n\n### 2552 English words, 747 English strings\n\nbasic-calculator-button-controlbar-abc = abc\nbasic-calculator-button-controlbar-clear = clear\nbasic-calculator-button-controlbar-clear-all = clear all\nbasic-calculator-button-controlbar-func = func\nbasic-calculator-button-controlbar-main = main\nbasic-calculator-button-nemeth = Nemeth\nbasic-calculator-button-turn-braille-mode-off = Turn { $mode } off\nbasic-calculator-button-ueb = UEB\nbasic-calculator-error-fractions-unavailable = Fractions are not available in the current calculator.\nbasic-calculator-heading-braille-table-type-this = Type this\nbasic-calculator-heading-braille-table-typeset = Typeset\nbasic-calculator-heading-page-title-florida = Desmos | Florida Calculator\nbasic-calculator-heading-page-title-four-function = Desmos | 4-Function Calculator\nbasic-calculator-heading-title-scientific = Desmos | Scientific Calculator\nbasic-calculator-label-answer-hint = Your answers show up on this side.\nbasic-calculator-label-braille-mode = Braille Mode\nbasic-calculator-label-controlbar-deg = deg\nbasic-calculator-label-controlbar-rad = rad\nbasic-calculator-label-convert-to-decimal = Convert to decimal.\nbasic-calculator-label-convert-to-fraction = Convert to fraction.\nbasic-calculator-label-reverse-contrast = Reverse Contrast\nbasic-calculator-label-six-key-input = Six Key Braille Input\nbasic-calculator-link-download-braille-equations = Download Braille Equations\nbasic-calculator-link-help = Help\nbasic-calculator-link-privacy-policy = Privacy Policy\nbasic-calculator-link-terms-of-service = Terms of Service\nbasic-calculator-link-view-braille-examples = View more examples\nbasic-calculator-narration-braille-mode = Braille Mode\nbasic-calculator-narration-calc-description-fourfunction = Desmos Four-Function Calculator\nbasic-calculator-narration-calc-description-scientific = Desmos Scientific Calculator\nbasic-calculator-narration-controlbar-abc = A B C\nbasic-calculator-narration-controlbar-backspace = backspace\nbasic-calculator-narration-controlbar-clear = clear\nbasic-calculator-narration-controlbar-clear-all = clear all\nbasic-calculator-narration-controlbar-degrees = Degrees\nbasic-calculator-narration-controlbar-functions = Functions\nbasic-calculator-narration-controlbar-main = main\nbasic-calculator-narration-controlbar-radians = Radians\nbasic-calculator-narration-controlbar-redo = Redo\nbasic-calculator-narration-controlbar-settings = settings\nbasic-calculator-narration-controlbar-undo = Undo\nbasic-calculator-narration-convert-to-decimal = Displaying as fraction. Press Enter to display as Decimal\nbasic-calculator-narration-convert-to-fraction = Displaying as decimal. Press Enter to display as Fraction\nbasic-calculator-narration-expression-list = Expression List\nbasic-calculator-narration-hotkey-braille-off = Braille mode off\nbasic-calculator-narration-hotkey-nemeth = Braille mode Nemeth\nbasic-calculator-narration-hotkey-six-key-input-off = Six Key Braille Input off\nbasic-calculator-narration-hotkey-six-key-input-on = Six Key Braille Input on\nbasic-calculator-narration-hotkey-ueb = Braille mode UEB\nbasic-calculator-narration-keypad = keypad\nbasic-calculator-narration-nemeth = Nemeth\nbasic-calculator-narration-reverse-contrast = Reverse Contrast\nbasic-calculator-narration-six-key-input = Six Key Braille Input\nbasic-calculator-narration-ueb = UEB\nbasic-calculator-text-4fn-page-description = A beautiful, free 4-Function Calculator from Desmos.com.\nbasic-calculator-text-braille-mode-is-on = { $mode } is on!\nbasic-calculator-text-how-to-type-braille = Use a Refreshable Braille display, or just type Braille with a keyboard.\nbasic-calculator-text-scientific-page-description = A beautiful, free online scientific calculator with advanced features for evaluating percentages, fractions, exponential functions, logarithms, trigonometry, statistics, and more.\ngeometry-label-example-construction-centroid = Centroid\ngeometry-label-example-construction-circumcenter = Circumcenter\ngeometry-label-example-construction-equilateral-triangle = Equilateral Triangle\ngeometry-label-example-construction-orthocenter = Orthocenter\ngeometry-label-example-construction-perpendicular-bisector = Perpendicular Bisector\ngeometry-label-example-construction-pythagorean-theorem = Pythagorean Theorem\ngraphing-calculator-button-audio-trace-hear-graph = Hear Graph\ngraphing-calculator-button-audio-trace-stop-graph = Stop Graph\ngraphing-calculator-button-change-image = Change Image\ngraphing-calculator-button-clear-graph = Delete All\ngraphing-calculator-button-done = Done\ngraphing-calculator-button-draggable = Draggable\ngraphing-calculator-button-edit-graph-on-desmos-logo = edit graph on\ngraphing-calculator-button-editable-math = Editable Math\ngraphing-calculator-button-editable-text = Editable Text\ngraphing-calculator-button-find-cdf = Find Cumulative Probability (CDF)\ngraphing-calculator-button-funcs = funcs\ngraphing-calculator-button-functions = functions\ngraphing-calculator-button-functions-menu-number-theory = Number Theory\ngraphing-calculator-button-functions-menu-special-characters = Special Characters\ngraphing-calculator-button-hide-folder-from-students = Hide this folder from students\ngraphing-calculator-button-hide-folder-from-students-2 = Hide this folder from students.\ngraphing-calculator-button-keypad-audio-trace-off = Audio Trace Off\ngraphing-calculator-button-keypad-describe-axes = Describe Axes\ngraphing-calculator-button-keypad-describe-axes-short = Axes\ngraphing-calculator-button-keypad-describe-curve = Describe Curve\ngraphing-calculator-button-keypad-describe-curve-short = Curve\ngraphing-calculator-button-keypad-describe-point = Describe Point\ngraphing-calculator-button-keypad-describe-point-short = Point\ngraphing-calculator-button-label = Label\ngraphing-calculator-button-label-editable = Editable\ngraphing-calculator-button-label-show-on-hover = Show on hover\ngraphing-calculator-button-label-text-outline = Text outline\ngraphing-calculator-button-load-image-retry = Retry.\ngraphing-calculator-button-place-image-behind-graphs = Place behind graphs\ngraphing-calculator-button-regression-log-mode = Log Mode\ngraphing-calculator-button-regression-plot-residuals = plot\ngraphing-calculator-button-replace = Replace\ngraphing-calculator-button-reset-graph = Reset\ngraphing-calculator-button-settings-braille-mode-nemeth = Nemeth\ngraphing-calculator-button-settings-braille-mode-ueb = UEB\ngraphing-calculator-button-settings-degrees = Degrees\ngraphing-calculator-button-settings-radians = Radians\ngraphing-calculator-button-settings-zoom-square = Zoom Square\ngraphing-calculator-button-share-graph-link-copy = Copy\ngraphing-calculator-button-show-all-table-rows = Show all\ngraphing-calculator-button-slider-add-all-variables = all\ngraphing-calculator-button-visual-parameters-binned = Binned\ngraphing-calculator-button-visual-parameters-center = Center\ngraphing-calculator-button-visual-parameters-count = Count\ngraphing-calculator-button-visual-parameters-density = Density\ngraphing-calculator-button-visual-parameters-exact = Exact\ngraphing-calculator-button-visual-parameters-exclude-outliers = Exclude Outliers\ngraphing-calculator-button-visual-parameters-left = Left\ngraphing-calculator-button-visual-parameters-relative = Relative\ngraphing-calculator-error-equation-contains-unresolved-details = This equation contains fine detail that has not been fully resolved.\ngraphing-calculator-error-expression-replacement = Replacement must be a valid function or variable name.\ngraphing-calculator-error-expression-search = Can only rename a valid function or variable name.\ngraphing-calculator-error-failed-to-load-image = Failed to load image.\ngraphing-calculator-error-image-invalid-angle = Invalid angle. Try using any number.\ngraphing-calculator-error-image-invalid-center = Invalid center. Try, for example, (0,0).\ngraphing-calculator-error-image-invalid-file = The file \"{ $file }\" is not an image\ngraphing-calculator-error-image-invalid-height = Invalid height. Try using any number.\ngraphing-calculator-error-image-invalid-opacity = Invalid opacity. Try using any number.\ngraphing-calculator-error-image-invalid-width = Invalid width. Try using any number.\ngraphing-calculator-heading-advanced = Advanced\ngraphing-calculator-heading-audio-trace-describe = Describe\ngraphing-calculator-heading-audio-trace-navigation = Navigation\ngraphing-calculator-heading-audio-trace-screen-reader = Screen Reader\ngraphing-calculator-heading-calculus = Calculus\ngraphing-calculator-heading-clickable = Clickable\ngraphing-calculator-heading-dist-tab-distributions = Distributions\ngraphing-calculator-heading-dist-tab-visualizations = Visualizations\ngraphing-calculator-heading-drag = Drag\ngraphing-calculator-heading-fill = Fill\ngraphing-calculator-heading-geometry = Geometry\ngraphing-calculator-heading-hyperbolic-trig = Hyperbolic Trig Functions\ngraphing-calculator-heading-image-opacity = Opacity\ngraphing-calculator-heading-inverse-trig = Inverse Trig Functions\ngraphing-calculator-heading-keypad-audio-trace-point-of-interest = <1>Point</1><2>of Interest</2>\ngraphing-calculator-heading-label = Label\ngraphing-calculator-heading-label-orientation = Orientation\ngraphing-calculator-heading-lines = Lines\ngraphing-calculator-heading-lists = List Operations\ngraphing-calculator-heading-mygraphs-examples = Examples\ngraphing-calculator-heading-on-every-update = On Every Update:\ngraphing-calculator-heading-points = Points\ngraphing-calculator-heading-regression-parameters = Parameters\ngraphing-calculator-heading-regression-residuals = Residuals\ngraphing-calculator-heading-regression-statistics = Statistics\ngraphing-calculator-heading-slider-animation-mode = Animation Mode\ngraphing-calculator-heading-slider-speed = Speed\ngraphing-calculator-heading-stat-tests = Statistical Tests\ngraphing-calculator-heading-stats = Statistics\ngraphing-calculator-heading-style = Style\ngraphing-calculator-heading-title = Graphing Calculator\ngraphing-calculator-heading-title-desmos = Desmos | Graphing Calculator\ngraphing-calculator-heading-title-untitled = Untitled Graph\ngraphing-calculator-heading-trig = Trig Functions\ngraphing-calculator-heading-visual-parameters-bar-heights = Bar Heights\ngraphing-calculator-heading-visual-parameters-bin-alignment = Bin Alignment\ngraphing-calculator-heading-visual-parameters-display-properties = Display Properties\ngraphing-calculator-heading-visual-parameters-x-values = X Values\ngraphing-calculator-label-add-depressed-image-tooltip = Add Depressed Image\ngraphing-calculator-label-add-hovered-image-tooltip = Add Hovered Image\ngraphing-calculator-label-add-item-tooltip = Add Item\ngraphing-calculator-label-add-slider = add slider:\ngraphing-calculator-label-angle-tooltip = Angle\ngraphing-calculator-label-animation-properties-tooltip = Animation Properties\ngraphing-calculator-label-audio-trace-curve = Curve\ngraphing-calculator-label-audio-trace-need-screen-reader = Your Screen Reader needs to be on to hear these.\ngraphing-calculator-label-audio-trace-point = Point\ngraphing-calculator-label-audio-trace-speed = Speed\ngraphing-calculator-label-audio-trace-volume = Volume\ngraphing-calculator-label-braille-size-etc11 = ETC Romeo/Juliet (11.5 x 11 in)\ngraphing-calculator-label-braille-size-etc8 = ETC Romeo/Juliet (8.5 x 11 in)\ngraphing-calculator-label-braille-size-vpmax11 = VP Max (11.5 x 11 in)\ngraphing-calculator-label-braille-size-vpmax8 = VP Max (8.5 x 11 in)\ngraphing-calculator-label-cdf-maximum = Max:\ngraphing-calculator-label-cdf-minimum = Min:\ngraphing-calculator-label-change-depressed-image-tooltip = Change Depressed Image\ngraphing-calculator-label-change-hovered-image-tooltip = Change Hovered Image\ngraphing-calculator-label-convert-to-table-tooltip = Convert to Table\ngraphing-calculator-label-depressed = Depressed\ngraphing-calculator-label-drop-image-here = Drop Image Here\ngraphing-calculator-label-duplicate-expression-tooltip = Duplicate\ngraphing-calculator-label-edit-list-tooltip = Edit List\ngraphing-calculator-label-evaluation-list = { $count } element list\ngraphing-calculator-label-example-graph-3d-world = 3D World\ngraphing-calculator-label-example-graph-calculus-derivatives = Calculus: Derivatives\ngraphing-calculator-label-example-graph-calculus-fundamental-theorem-of-calculus = Calculus: Fundamental Theorem of Calculus\ngraphing-calculator-label-example-graph-calculus-integral-with-adjustable-bounds = Calculus: Integral with adjustable bounds\ngraphing-calculator-label-example-graph-calculus-integrals = Calculus: Integrals\ngraphing-calculator-label-example-graph-calculus-secant-line = Calculus: Secant Line\ngraphing-calculator-label-example-graph-calculus-tangent-line = Calculus: Tangent Line\ngraphing-calculator-label-example-graph-calculus-taylor-expansion-of-sin-x = Calculus: Taylor Expansion of sin(x)\ngraphing-calculator-label-example-graph-checkerboard-inversion = Checkerboard Inversion\ngraphing-calculator-label-example-graph-conic-sections-circle = Conic Sections: Circle\ngraphing-calculator-label-example-graph-conic-sections-ellipse-with-foci = Conic Sections: Ellipse with Foci\ngraphing-calculator-label-example-graph-conic-sections-hyperbola = Conic Sections: Hyperbola\ngraphing-calculator-label-example-graph-conic-sections-parabola-and-focus = Conic Sections: Parabola and Focus\ngraphing-calculator-label-example-graph-fastest-path-to-a-point = Fastest Path to a Point\ngraphing-calculator-label-example-graph-fireworks = Fireworks!\ngraphing-calculator-label-example-graph-fractal-valentine = Fractal Valentine\ngraphing-calculator-label-example-graph-lines-point-slope-form = Lines: Point Slope Form\ngraphing-calculator-label-example-graph-lines-slope-intercept-form = Lines: Slope Intercept Form\ngraphing-calculator-label-example-graph-lines-two-point-form = Lines: Two Point Form\ngraphing-calculator-label-example-graph-lists-curve-stitching = Lists: Curve Stitching\ngraphing-calculator-label-example-graph-lists-family-of-sin-curves = Lists: Family of sin Curves\ngraphing-calculator-label-example-graph-lists-plotting-a-list-of-points = Lists: Plotting a List of Points\ngraphing-calculator-label-example-graph-outstretched-arm = Outstretched Arm\ngraphing-calculator-label-example-graph-pac-man = Pac Man\ngraphing-calculator-label-example-graph-parabolas-standard-form = Parabolas: Standard Form\ngraphing-calculator-label-example-graph-parabolas-standard-form-plus-tangent = Parabolas: Standard Form + Tangent\ngraphing-calculator-label-example-graph-parabolas-vertex-form = Parabolas: Vertex Form\ngraphing-calculator-label-example-graph-parametric-cycloid = Parametric: Cycloid\ngraphing-calculator-label-example-graph-parametric-introduction = Parametric: Introduction\ngraphing-calculator-label-example-graph-polar-conic-sections = Polar: Conic Sections\ngraphing-calculator-label-example-graph-polar-limacon = Polar: Limacon\ngraphing-calculator-label-example-graph-polar-logarithmic-spiral = Polar: Logarithmic Spiral\ngraphing-calculator-label-example-graph-polar-rose = Polar: Rose\ngraphing-calculator-label-example-graph-pride-flag = PRIDE flag\ngraphing-calculator-label-example-graph-regular-sine-wave = Regular Sine Wave?\ngraphing-calculator-label-example-graph-stats-anscombes-quartet = Statistics: Anscombe's Quartet\ngraphing-calculator-label-example-graph-stats-fourth-order-polynomial = Statistics: 4th Order Polynomial\ngraphing-calculator-label-example-graph-stats-linear-regression = Statistics: Linear Regression\ngraphing-calculator-label-example-graph-transformations-inverse-of-a-function = Transformations: Inverse of a Function\ngraphing-calculator-label-example-graph-transformations-scaling-a-function = Transformations: Scaling a Function\ngraphing-calculator-label-example-graph-transformations-translating-a-function = Transformations: Translating a Function\ngraphing-calculator-label-example-graph-trig-period-and-amplitude = Trigonometry: Period and Amplitude\ngraphing-calculator-label-example-graph-trig-phase = Trigonometry: Phase\ngraphing-calculator-label-example-graph-trig-unit-circle = Trigonometry: Unit Circle\ngraphing-calculator-label-example-graph-trig-wave-interference = Trigonometry: Wave Interference\ngraphing-calculator-label-expression = Expression\ngraphing-calculator-label-expression-delete-tooltip = Delete\ngraphing-calculator-label-expression-lowercase = expression\ngraphing-calculator-label-folder-lowercase = folder\ngraphing-calculator-label-hide-expression-list-tooltip = Hide Expression List\ngraphing-calculator-label-hide-keypad = Hide Keypad\ngraphing-calculator-label-hovered = Hovered\ngraphing-calculator-label-image-angle = Angle:\ngraphing-calculator-label-image-center = Center:\ngraphing-calculator-label-image-height = Height:\ngraphing-calculator-label-image-lowercase = image\ngraphing-calculator-label-image-opacity = Opacity:\ngraphing-calculator-label-image-width = Width:\ngraphing-calculator-label-label-size-tooltip = Label Scale Factor\ngraphing-calculator-label-line-thickness-tooltip = Line Thickness (px)\ngraphing-calculator-label-list-index = Use <1>index</1> to reference the clicked index in the list.\ngraphing-calculator-label-note-lowercase = note\ngraphing-calculator-label-opacity-tooltip = Opacity (0 to 1)\ngraphing-calculator-label-open-graph-tooltip = Open Graph (ctrl+o)\ngraphing-calculator-label-poi-unknown = unknown coordinates\ngraphing-calculator-label-point-size-tooltip = Point Size (px)\ngraphing-calculator-label-powered-by = powered by\ngraphing-calculator-label-randomize-tooltip = Randomize\ngraphing-calculator-label-redo-tooltip = Redo (ctrl+y)\ngraphing-calculator-label-regression-log-mode-help-tooltip = Log mode help\ngraphing-calculator-label-regression-parameters-not-exact = Parameters might not be exact. Click to learn more.\ngraphing-calculator-label-regression-what-is-rmse-tooltip = What is RMSE? Click to learn more.\ngraphing-calculator-label-regression-why-is-negative-tooltip = Why is this negative? Click to learn more.\ngraphing-calculator-label-remove-depressed-image = Remove depressed image\ngraphing-calculator-label-remove-hovered-image = Remove hovered image\ngraphing-calculator-label-replace-expressions = Replace with\ngraphing-calculator-label-search-expressions = Search this graph\ngraphing-calculator-label-settings-add-label = add a label\ngraphing-calculator-label-settings-arrows = Arrows\ngraphing-calculator-label-settings-axis-numbers = Axis Numbers\ngraphing-calculator-label-settings-braille-mode = Braille Mode\ngraphing-calculator-label-settings-grid = Grid\ngraphing-calculator-label-settings-lock-viewport = Lock Viewport\ngraphing-calculator-label-settings-minor-gridlines = Minor Gridlines\ngraphing-calculator-label-settings-reverse-contrast = Reverse Contrast\ngraphing-calculator-label-settings-six-key-braille = Six Key Braille Input\ngraphing-calculator-label-settings-step = Step:\ngraphing-calculator-label-settings-x-axis = X-Axis\ngraphing-calculator-label-settings-y-axis = Y-Axis\ngraphing-calculator-label-show-keypad = Show Keypad\ngraphing-calculator-label-slider-disabled-while-ticker-playing = Sliders are disabled while the ticker is running.\ngraphing-calculator-label-slider-step = Step:\ngraphing-calculator-label-table-lowercase = table\ngraphing-calculator-label-ticker-close = cancel\ngraphing-calculator-label-ticker-help-tooltip = On slow computers, this might run slower. Use local variable \"dt\" to capture the actual update speed.\ngraphing-calculator-label-ticker-lowercase = ticker\ngraphing-calculator-label-ticker-min-step = Min Step Time\ngraphing-calculator-label-ticker-pause = pause\ngraphing-calculator-label-ticker-play = play\ngraphing-calculator-label-tooltip-graph-settings = Graph Settings\ngraphing-calculator-label-tooltip-open-graph = Open Graph\ngraphing-calculator-label-tooltip-reset = Reset\ngraphing-calculator-label-tooltip-show-list = Show List\ngraphing-calculator-label-tooltip-zoom-default = Default Zoom\ngraphing-calculator-label-tooltip-zoom-in = Zoom In\ngraphing-calculator-label-tooltip-zoom-out = Zoom Out\ngraphing-calculator-label-undo-tooltip = Undo (ctrl+z)\ngraphing-calculator-label-update-on-click = On click:\ngraphing-calculator-link-audio-trace-keyboard-shortcuts = Keyboard Shortcuts\ngraphing-calculator-link-audio-trace-shortcuts = Shortcuts\ngraphing-calculator-link-edit-on-desmos = edit graph on\ngraphing-calculator-link-learn-more = Learn more.\ngraphing-calculator-link-view-braille-examples = View examples\ngraphing-calculator-narration-add-expression = Add expression\ngraphing-calculator-narration-add-folder = Add folder\ngraphing-calculator-narration-add-image = Add image\ngraphing-calculator-narration-add-item-menu = Add Item Menu\ngraphing-calculator-narration-add-note = Add note\ngraphing-calculator-narration-add-slider-prompt = Add slider for { $vars }\ngraphing-calculator-narration-add-table = Add table\ngraphing-calculator-narration-add-ticker = Add Ticker\ngraphing-calculator-narration-all-folders-collapsed = all folders collapsed\ngraphing-calculator-narration-all-folders-expanded = all folders expanded\ngraphing-calculator-narration-audio-instructions-enter-audio-trace-mac = Press OPTION+T for audio trace.\ngraphing-calculator-narration-audio-instructions-enter-audio-trace-windows = Press ALT+T for audio trace.\ngraphing-calculator-narration-audio-trace-branch-not-found = Branch { $branch } does not exist.\ngraphing-calculator-narration-audio-trace-cannot-change-slider-value = Unable to adjust slider\ngraphing-calculator-narration-audio-trace-description-branch-count = Branches: { $branches }.\ngraphing-calculator-narration-audio-trace-description-color = Color: { $color }.\ngraphing-calculator-narration-audio-trace-description-multiple-extrema = { $count } extrema.\ngraphing-calculator-narration-audio-trace-description-multiple-intercepts = { $count } intercepts.\ngraphing-calculator-narration-audio-trace-description-multiple-intersections = { $count } intersections.\ngraphing-calculator-narration-audio-trace-description-multiple-labels = { $count } point labels.\ngraphing-calculator-narration-audio-trace-description-multiple-roots = { $count } zero crossings.\ngraphing-calculator-narration-audio-trace-description-no-curve-selected = No curve selected.\ngraphing-calculator-narration-audio-trace-description-no-visible-axes = No visible axes.\ngraphing-calculator-narration-audio-trace-description-one-extremum = 1 extremum.\ngraphing-calculator-narration-audio-trace-description-one-intercept = 1 intercept.\ngraphing-calculator-narration-audio-trace-description-one-intersection = 1 intersection.\ngraphing-calculator-narration-audio-trace-description-one-label = 1 point label.\ngraphing-calculator-narration-audio-trace-description-one-root = 1 zero crossing.\ngraphing-calculator-narration-audio-trace-description-shading-above = Shading above.\ngraphing-calculator-narration-audio-trace-description-shading-below = Shading below.\ngraphing-calculator-narration-audio-trace-description-shading-in-regions = Shading in regions.\ngraphing-calculator-narration-audio-trace-description-shading-left = Shading on the left.\ngraphing-calculator-narration-audio-trace-description-shading-right = Shading on the right.\ngraphing-calculator-narration-audio-trace-description-visible-grid = Grid lines are visible.\ngraphing-calculator-narration-audio-trace-description-visible-x-axis = X axis visible.\ngraphing-calculator-narration-audio-trace-description-visible-x-axis-and-label = X axis visible and is labeled { $label }.\ngraphing-calculator-narration-audio-trace-description-visible-x-axis-range = X axis visible from { $xmin } to { $xmax }.\ngraphing-calculator-narration-audio-trace-description-visible-x-axis-range-and-label = X axis visible from { $xmin } to { $xmax } and is labeled { $label }.\ngraphing-calculator-narration-audio-trace-description-visible-y-axis = Y axis visible.\ngraphing-calculator-narration-audio-trace-description-visible-y-axis-and-label = Y axis visible and is labeled { $label }.\ngraphing-calculator-narration-audio-trace-description-visible-y-axis-range = Y axis visible from { $ymin } to { $ymax }.\ngraphing-calculator-narration-audio-trace-description-visible-y-axis-range-and-label = Y axis visible from { $ymin } to { $ymax } and is labeled { $label }.\ngraphing-calculator-narration-audio-trace-expression-with-column = Expression { $index } column { $column }\ngraphing-calculator-narration-audio-trace-first-point = First point\ngraphing-calculator-narration-audio-trace-first-slider = First slider.\ngraphing-calculator-narration-audio-trace-instructions-disable-mac = To disable audio trace, press OPTION+T.\ngraphing-calculator-narration-audio-trace-instructions-disable-windows = To disable audio trace, press ALT+T.\ngraphing-calculator-narration-audio-trace-instructions-expression-navigation-mac = To move between expressions, press COMMAND+Up-Arrow or COMMAND+Down-Arrow.\ngraphing-calculator-narration-audio-trace-instructions-expression-navigation-windows = To move between expressions, press ALT+Up-Arrow or ALT+Down-Arrow.\ngraphing-calculator-narration-audio-trace-instructions-hear-graph = To hear the graph, press H.\ngraphing-calculator-narration-audio-trace-instructions-use-arrow-keys = Use Arrow keys to navigate.\ngraphing-calculator-narration-audio-trace-last-point = Last point\ngraphing-calculator-narration-audio-trace-last-slider = Last slider.\ngraphing-calculator-narration-audio-trace-multiple-sliders-paused = { $sliders } animating sliders were paused.\ngraphing-calculator-narration-audio-trace-no-more-pois = No more points of interest\ngraphing-calculator-narration-audio-trace-no-sliders-paused = No animating sliders were paused.\ngraphing-calculator-narration-audio-trace-one-slider-paused = One animating slider was paused.\ngraphing-calculator-narration-audio-trace-playback-speed = Graph playback speed { $speed }\ngraphing-calculator-narration-audio-trace-poi-count = Points of interest, { $x }.\ngraphing-calculator-narration-audio-trace-point-type-definition = Definition\ngraphing-calculator-narration-audio-trace-point-type-extremum = Extremum\ngraphing-calculator-narration-audio-trace-point-type-intercept = Intercept\ngraphing-calculator-narration-audio-trace-point-type-intersection = Intersection\ngraphing-calculator-narration-audio-trace-point-type-intersection-with-curves = Intersection with { $curves }\ngraphing-calculator-narration-audio-trace-point-type-label = Label\ngraphing-calculator-narration-audio-trace-point-type-not-a-poi = Not a P O I\ngraphing-calculator-narration-audio-trace-point-type-root = Zero\ngraphing-calculator-narration-audio-trace-point-type-trace = Trace\ngraphing-calculator-narration-audio-trace-property-branch-number = Branch { $branch }.\ngraphing-calculator-narration-audio-trace-property-type-before-coordinates = { $type } at\ngraphing-calculator-narration-audio-trace-property-x = X: { $x }.\ngraphing-calculator-narration-audio-trace-property-y = Y: { $y }.\ngraphing-calculator-narration-audio-trace-secret-expression = Secret expression { $index }\ngraphing-calculator-narration-audio-trace-slider-value-unknown = Unable to determine slider value\ngraphing-calculator-narration-audio-trace-sound-effects-disabled = Sound effects have been disabled.\ngraphing-calculator-narration-audio-trace-traceable-curves =\n    { $sketchCount ->\n        [one] 1 audio traceable curve.\n       *[other] { $sketchCount } audio traceable curves.\n    }\ngraphing-calculator-narration-audio-trace-tracing-different-expression = Tracing { $expression }.\ngraphing-calculator-narration-audio-trace-unable-to-play = Unable to play audio.\ngraphing-calculator-narration-audio-trace-unable-to-trace-this-expression = Unable to audio trace this expression.\ngraphing-calculator-narration-audio-trace-unsupported-expression = { $expression } cannot be audio traced.\ngraphing-calculator-narration-audio-trace-volume = Volume { $volume } percent\ngraphing-calculator-narration-cdf-maximum = Max\ngraphing-calculator-narration-cdf-minimum = Min\ngraphing-calculator-narration-click-action = Click Action\ngraphing-calculator-narration-clickable-image-options = Clickable Image Options\ngraphing-calculator-narration-clickable-object-description = clickable object\ngraphing-calculator-narration-collapse-folder = Collapse Folder\ngraphing-calculator-narration-color-unknown = unknown\ngraphing-calculator-narration-description-collapsed-folder = Collapsed Folder\ngraphing-calculator-narration-description-collapsed-secret-folder = Collapsed Secret Folder\ngraphing-calculator-narration-description-folder = Folder\ngraphing-calculator-narration-description-hidden-collapsed-folder = Hidden Collapsed Folder\ngraphing-calculator-narration-description-hidden-collapsed-secret-folder = Hidden Collapsed Secret Folder\ngraphing-calculator-narration-description-hidden-folder = Hidden Folder\ngraphing-calculator-narration-description-hidden-secret-folder = Hidden Secret Folder\ngraphing-calculator-narration-description-secret-folder = Secret Folder\ngraphing-calculator-narration-dist-tab-distributions = Distributions\ngraphing-calculator-narration-dist-tab-visualizations = Visualizations\ngraphing-calculator-narration-domain-maximum = domain Maximum:\ngraphing-calculator-narration-domain-minimum = domain Minimum:\ngraphing-calculator-narration-drag-mode-x = X\ngraphing-calculator-narration-drag-mode-xy = X and Y\ngraphing-calculator-narration-drag-mode-y = Y\ngraphing-calculator-narration-draggable-image-description = draggable image\ngraphing-calculator-narration-draggable-image-off-screen-prompt = { \" \" }not completely visible on screen\ngraphing-calculator-narration-draggable-label-description = draggable label\ngraphing-calculator-narration-edit-action = Edit Action\ngraphing-calculator-narration-edit-expression-list = Edit Expression List\ngraphing-calculator-narration-edit-graph-on-desmos = Edit graph on Desmos\ngraphing-calculator-narration-edit-list-mode-off = Edit list mode off.\ngraphing-calculator-narration-edit-list-mode-on = Edit list mode on.\ngraphing-calculator-narration-edit-on-desmos = Edit graph on Desmos\ngraphing-calculator-narration-edit-slider-variable-limits = Edit { $variable } Limits\ngraphing-calculator-narration-editable-label-mode-editable-math = Editable label mode: Editable Math\ngraphing-calculator-narration-editable-label-mode-editable-text = Editable label mode: Editable Text\ngraphing-calculator-narration-editable-point-label-at-coordinates = Editable point label at { $coordinates }\ngraphing-calculator-narration-expression-audio-trace-mac = To audio trace, press OPTION+T.\ngraphing-calculator-narration-expression-audio-trace-windows = To audio trace, press ALT+T.\ngraphing-calculator-narration-expression-bar = Expression Bar\ngraphing-calculator-narration-expression-evaluation-has-graph = Has graph.\ngraphing-calculator-narration-expression-evaluation-has-graph-and-regression = Has graph and regression. To access statistics, press Tab.\ngraphing-calculator-narration-expression-evaluation-has-regression = Has regression. To access statistics, press Tab.\ngraphing-calculator-narration-expression-evaluation-is-distribution = is distribution.\ngraphing-calculator-narration-expression-evaluation-is-t-test = is T test. To access statistics, press Tab.\ngraphing-calculator-narration-expression-hidden-label = Hidden { $label }\ngraphing-calculator-narration-expression-index-table = Expression { $index } table\ngraphing-calculator-narration-expression-label = Label\ngraphing-calculator-narration-expression-list = Expression list\ngraphing-calculator-narration-expression-search-results =\n    { $count ->\n        [zero] No results\n        [one] 1 result\n       *[other] { $count } results\n    }\ngraphing-calculator-narration-fill-opacity = Fill Opacity:\ngraphing-calculator-narration-fill-visible = Fill visible\ngraphing-calculator-narration-folder-collapsed = folder collapsed\ngraphing-calculator-narration-folder-expanded = folder expanded\ngraphing-calculator-narration-folder-has-items = { $folder } has { $count } items\ngraphing-calculator-narration-functions = Functions\ngraphing-calculator-narration-graph-settings-controls = Graph Settings Controls\ngraphing-calculator-narration-graphpaper-label = graph paper\ngraphing-calculator-narration-hide-animation-properties = Hide Animation Properties\ngraphing-calculator-narration-hide-expression = Hide Expression\ngraphing-calculator-narration-hide-expression-list = Hide expression list\ngraphing-calculator-narration-hide-folder = Hide Folder\ngraphing-calculator-narration-hide-image = Hide Image\ngraphing-calculator-narration-hide-keypad = Hide Keypad\ngraphing-calculator-narration-hide-options = Hide Options\ngraphing-calculator-narration-hide-table-column = Hide Column\ngraphing-calculator-narration-image-styles = Styles\ngraphing-calculator-narration-keypad-key-next-curve = Next Curve\ngraphing-calculator-narration-keypad-key-next-poi = Next Point of Interest\ngraphing-calculator-narration-keypad-key-next-point = Next Point\ngraphing-calculator-narration-keypad-key-previous-curve = Previous Curve\ngraphing-calculator-narration-keypad-key-previous-poi = Previous Point of Interest\ngraphing-calculator-narration-keypad-key-previous-point = Previous Point\ngraphing-calculator-narration-keypad-key-speed-down = Speed Down\ngraphing-calculator-narration-keypad-key-speed-up = Speed Up\ngraphing-calculator-narration-keypad-key-volume-down = Volume Down\ngraphing-calculator-narration-keypad-key-volume-up = Volume Up\ngraphing-calculator-narration-label-angle = Label Angle:\ngraphing-calculator-narration-label-size = Label Size:\ngraphing-calculator-narration-label-text = Label Text\ngraphing-calculator-narration-label-visible = Label visible\ngraphing-calculator-narration-line-opacity = Line Opacity:\ngraphing-calculator-narration-line-style-dashed = Dashed\ngraphing-calculator-narration-line-style-dotted = Dotted\ngraphing-calculator-narration-line-style-solid = Solid\ngraphing-calculator-narration-lines-visible = Lines visible\ngraphing-calculator-narration-main-desmos-graphing-calculator = Desmos Graphing Calculator\ngraphing-calculator-narration-make-clickable = make clickable\ngraphing-calculator-narration-menu-drag-enabled = Drag Enabled\ngraphing-calculator-narration-movable-point-description = movable point\ngraphing-calculator-narration-movable-point-off-screen-prompt = { \" \" }not visible on screen\ngraphing-calculator-narration-movable-point-prefix = Graph point\ngraphing-calculator-narration-movable-point-suffix-usage-instructions = { \" \" }is movable. Press Arrows or Shift+Arrows to adjust.\ngraphing-calculator-narration-no-interactive-points = No interactive points on screen\ngraphing-calculator-narration-open-graph = Open Graph\ngraphing-calculator-narration-options-menu = Options Menu\ngraphing-calculator-narration-options-menu-closed = Options menu closed.\ngraphing-calculator-narration-options-menu-open = Options menu open.\ngraphing-calculator-narration-pause-variable-animation = Pause { $variable } Animation\ngraphing-calculator-narration-play-variable-animation = Play { $variable } Animation\ngraphing-calculator-narration-poi-graph-point = Graph point\ngraphing-calculator-narration-point-description = point\ngraphing-calculator-narration-point-opacity = Point Opacity:\ngraphing-calculator-narration-point-size = Point Size:\ngraphing-calculator-narration-point-style-cross = Cross\ngraphing-calculator-narration-point-style-open = Open\ngraphing-calculator-narration-point-style-point = Point\ngraphing-calculator-narration-points-visible = Points visible\ngraphing-calculator-narration-powered-by-desmos = Powered by Desmos\ngraphing-calculator-narration-redo = Redo\ngraphing-calculator-narration-run-action-icon = Run Action\ngraphing-calculator-narration-settings-angle = Angle Settings\ngraphing-calculator-narration-settings-cartesian-grid = Cartesian Grid\ngraphing-calculator-narration-settings-polar-grid = Polar Grid\ngraphing-calculator-narration-settings-show-both = Show Both\ngraphing-calculator-narration-settings-show-positive = Show Positive\ngraphing-calculator-narration-settings-x-axis-label = add x-axis label\ngraphing-calculator-narration-settings-x-axis-max = X Axis Maximum:{ \" \" }\ngraphing-calculator-narration-settings-x-axis-min = X Axis Minimum:{ \" \" }\ngraphing-calculator-narration-settings-x-axis-step = X Axis Step Size:{ \" \" }\ngraphing-calculator-narration-settings-y-axis-label = add y-axis label\ngraphing-calculator-narration-settings-y-axis-max = Y Axis Maximum:{ \" \" }\ngraphing-calculator-narration-settings-y-axis-min = Y Axis Minimum:{ \" \" }\ngraphing-calculator-narration-settings-y-axis-step = Y Axis Step Size:{ \" \" }\ngraphing-calculator-narration-share-graph-link = Link to this graph\ngraphing-calculator-narration-share-graph-link-copied = Link copied\ngraphing-calculator-narration-share-graph-link-unable-to-copy = Unable to copy link\ngraphing-calculator-narration-show-animation-properties = Show Animation Properties\ngraphing-calculator-narration-show-as-decimal = Show as Decimal\ngraphing-calculator-narration-show-as-fraction = Show as Fraction\ngraphing-calculator-narration-show-expression = Show Expression\ngraphing-calculator-narration-show-expression-list = Show expression list\ngraphing-calculator-narration-show-image = Show Image\ngraphing-calculator-narration-show-keypad = Show Keypad\ngraphing-calculator-narration-show-options = Show Options\ngraphing-calculator-narration-show-table-column = Show Column\ngraphing-calculator-narration-slider-animate-faster = Animate Faster\ngraphing-calculator-narration-slider-animate-slower = Animate Slower\ngraphing-calculator-narration-slider-animating-at-speed = Animating at { $speed }x\ngraphing-calculator-narration-slider-loop-forwards-and-backwards = Loop forwards and backwards\ngraphing-calculator-narration-slider-maximum = Slider Maximum:\ngraphing-calculator-narration-slider-minimum = Slider Minimum:\ngraphing-calculator-narration-slider-play-indefinitely = Play indefinitely\ngraphing-calculator-narration-slider-play-once = Play once\ngraphing-calculator-narration-slider-repeat-one-direction = Repeat in one direction\ngraphing-calculator-narration-slider-step = Slider Step Size:\ngraphing-calculator-narration-slider-trace-no-sliders = No sliders to trace.\ngraphing-calculator-narration-slider-trace-off = Slider trace off.\ngraphing-calculator-narration-slider-trace-on = Slider trace on.\ngraphing-calculator-narration-slider-variable-paused = { $variable } paused\ngraphing-calculator-narration-slider-variable-playing = { $variable } playing\ngraphing-calculator-narration-slider-variable-restarted = { $variable } restarted\ngraphing-calculator-narration-table-column-header = Column header { $column }\ngraphing-calculator-narration-table-no-column-header = No column header\ngraphing-calculator-narration-table-row-column = Row { $row } Col { $column }\ngraphing-calculator-narration-tick-action = Tick Action\ngraphing-calculator-narration-toggle-audio-trace = Toggle Audio Trace\ngraphing-calculator-narration-toggle-letters = Toggle Letters\ngraphing-calculator-narration-unable-to-activate-account-menu = Unable to activate account menu\ngraphing-calculator-narration-unable-to-activate-help-menu = Unable to activate help menu\ngraphing-calculator-narration-unable-to-activate-language-menu = Unable to activate language menu\ngraphing-calculator-narration-unable-to-activate-share-menu = Unable to activate share menu\ngraphing-calculator-narration-unable-to-add-expression = Unable to add expression\ngraphing-calculator-narration-unable-to-add-note = Unable to add note\ngraphing-calculator-narration-unable-to-add-table = Unable to add table\ngraphing-calculator-narration-unable-to-focus-expression-list = Unable to focus expression list\ngraphing-calculator-narration-undo = Undo\ngraphing-calculator-narration-viewport-updated = Graph viewport updated.\ngraphing-calculator-narration-viewport-zoom-default = Graph zoom default\ngraphing-calculator-narration-viewport-zoom-in = Graph zoom in\ngraphing-calculator-narration-viewport-zoom-out = Graph zoom out\ngraphing-calculator-narration-viewport-zoom-square = Graph zoom square\ngraphing-calculator-narration-visual-parameters-height = Height\ngraphing-calculator-narration-visual-parameters-offset = Offset\ngraphing-calculator-narration-visual-parameters-width = Width\ngraphing-calculator-narration-zoom-default = Restore Default Zoom\ngraphing-calculator-text-add-screen-reader-label-placeholder = Add screen reader label\ngraphing-calculator-text-audio-trace-no-implicit-support = Sorry, but I can't trace implicit curves yet.\ngraphing-calculator-text-audio-trace-no-parametric-support = Sorry, but I can't trace parametric curves yet.\ngraphing-calculator-text-audio-trace-no-polar-support = Sorry, but I can't trace polar curves yet.\ngraphing-calculator-text-audio-trace-off = Audio trace off.\ngraphing-calculator-text-audio-trace-on = Audio trace on.\ngraphing-calculator-text-color-black = black\ngraphing-calculator-text-color-blue = blue\ngraphing-calculator-text-color-gray = gray\ngraphing-calculator-text-color-green = green\ngraphing-calculator-text-color-orange = orange\ngraphing-calculator-text-color-purple = purple\ngraphing-calculator-text-color-red = red\ngraphing-calculator-text-color-unknown = color unknown\ngraphing-calculator-text-enter-note-placeholder = Enter a note...\ngraphing-calculator-text-enter-pareneter = Enter the { $param }.\ngraphing-calculator-text-export-braille-email-accessibility = Feedback? Email <1>accessibility@desmos.com</1>{\".\"}\ngraphing-calculator-text-image-enter-note-placeholder = Enter a note...\ngraphing-calculator-text-label-orientation-above = Above\ngraphing-calculator-text-label-orientation-above-left = Above Left\ngraphing-calculator-text-label-orientation-above-right = Above Right\ngraphing-calculator-text-label-orientation-below = Below\ngraphing-calculator-text-label-orientation-below-left = Below Left\ngraphing-calculator-text-label-orientation-below-right = Below Right\ngraphing-calculator-text-label-orientation-default = Default\ngraphing-calculator-text-label-orientation-left = Left\ngraphing-calculator-text-label-orientation-right = Right\ngraphing-calculator-text-loading-image = Loading image...\ngraphing-calculator-text-note-placeholder = Enter a note...\ngraphing-calculator-text-page-description = Explore math with our beautiful, free online graphing calculator. Graph functions, plot points, visualize algebraic equations, add sliders, animate graphs, and more.\ngraphing-calculator-text-parameter-name-binwidth = Bin Width\ngraphing-calculator-text-parameter-name-data = Data Set\ngraphing-calculator-text-parameter-name-dof = Degrees of Freedom\ngraphing-calculator-text-parameter-name-height = Height\ngraphing-calculator-text-parameter-name-max = Maximum\ngraphing-calculator-text-parameter-name-mean = Mean\ngraphing-calculator-text-parameter-name-min = Minimum\ngraphing-calculator-text-parameter-name-offset = Offset\ngraphing-calculator-text-parameter-name-probsuccess = Success Probability\ngraphing-calculator-text-parameter-name-stddev = Standard Deviation\ngraphing-calculator-text-parameter-name-trials = Trials\ngraphing-calculator-text-refreshable-braille-display-note = Use a refreshable Braille display, or just type Braille with a keyboard.\ngraphing-calculator-text-regression-potentially-inaccurate-parameters = Some parameters may be too large or small to represent accurately.\ngraphing-calculator-text-share-graph-link = Link to this graph\ngraphing-calculator-text-table-created = Table created.\ngraphing-calculator-text-table-more-rows = { $rowCount } more rows\ngraphing-calculator-text-toast-choose-one-file = You can only choose one file as a replacement\ngraphing-calculator-text-toast-error-importing-graph = Error importing graph. Check the URL?\ngraphing-calculator-text-toast-error-no-folders = Only graphs without folders can be inserted into a folder.\ngraphing-calculator-text-toast-expression-size-limit = Maximum expression size reached.\ngraphing-calculator-text-toast-graph-cleared = Graph cleared.\ngraphing-calculator-text-toast-graph-reset = Graph reset.\ngraphing-calculator-text-toast-image-upload-failed = Image upload failed.\ngraphing-calculator-text-toast-imported-graph = Graph imported!\ngraphing-calculator-text-toast-importing-graph = Importing graph...\ngraphing-calculator-text-toast-no-file-selected = You did not select a file\ngraphing-calculator-text-toast-undo-cmd-z = Press CMD+Z to undo.\ngraphing-calculator-text-toast-undo-ctrl-z = Press CTRL+Z to undo.\ngraphing-calculator-text-toast-uploading-images = Uploading images...\ngraphing-calculator-text-toast-zoom-to-fit = We zoomed to fit your data.\ngraphing-calculator-text-zoom-fit = Zoom Fit\ngraphing-tours-heading-advanced-tables = Advanced Tables\ngraphing-tours-heading-derivatives = Derivatives\ngraphing-tours-heading-folders = Folders\ngraphing-tours-heading-lists = Lists\ngraphing-tours-heading-regressions = Regressions\ngraphing-tours-heading-restrictions = Restrictions\ngraphing-tours-heading-sliders = Sliders\ngraphing-tours-heading-tables = Tables\ngraphing-tours-label-advanced-tables-continue = Click here to continue editing this table.\ngraphing-tours-label-advanced-tables-convert = Convert this to a table.\ngraphing-tours-label-advanced-tables-create = Click here to generate a table.\ngraphing-tours-label-advanced-tables-dots = Click here to only show the dots.\ngraphing-tours-label-advanced-tables-edit-list = Click the \"Edit List\" button.\ngraphing-tours-label-advanced-tables-graph = Start by graphing a function.\ngraphing-tours-label-advanced-tables-new-column = Move right to add a new column.\ngraphing-tours-label-advanced-tables-options = Click and hold on this icon until the options menu opens up.\ngraphing-tours-label-advanced-tables-start = Let's make a function. First: click here to create a new blank expression.\ngraphing-tours-label-advanced-tables-type-function = Try typing { $sample_expression }\ngraphing-tours-label-advanced-tables-wizard = You're a table wizard!\ngraphing-tours-label-awesome = Awesome!\ngraphing-tours-label-brilliant = Brilliant!\ngraphing-tours-label-derivative-graph-derivative = To graph its derivative: { $equation }\ngraphing-tours-label-derivative-hint-type-derivative = Hint: To get the derivative operator, just type d/dx.\ngraphing-tours-label-derivative-one-more = Let's try one more: { $equation }\ngraphing-tours-label-derivative-start-function = Start with a function: { $equation }\ngraphing-tours-label-derivative-start-graph = Let's graph a derivative!\ngraphing-tours-label-folders-collapse = Now well explore some folder functionality. Click here to collapse the folder.\ngraphing-tours-label-folders-did-you-know = Did You Know...\ngraphing-tours-label-folders-grab = Now grab this equation by its left edge and drag it into the folder.\ngraphing-tours-label-folders-great-start = Thats a great start!\ngraphing-tours-label-folders-hide = You can hide everything in the folder with one click. Click here to try.\ngraphing-tours-label-folders-indicator = Hint: The gray line will show you if the expression is in the folder.\ngraphing-tours-label-folders-name = Give your folder a name.\ngraphing-tours-label-folders-new-equation = Let's make a new equation. For example, type: { $equation }\ngraphing-tours-label-folders-option = ... and select the \"folder\" option.\ngraphing-tours-label-folders-start = Let's make a folder!\ngraphing-tours-label-great-job = Great job!\ngraphing-tours-label-last-thing = Last thing!\ngraphing-tours-label-list-computation = You can do a computation on a list. For example: { $equation }\ngraphing-tours-label-lists-are-powerful = Lists are powerful. Let's see.\ngraphing-tours-label-lists-begin-equation = Begin by typing { $equation }\ngraphing-tours-label-lists-count-by = If you want to count by 5 instead, just write something like this: { $equation }\ngraphing-tours-label-lists-create-range = You can create lists of integers even more easily. Try this: { $equation }\ngraphing-tours-label-lists-graph-equation = Graph: { $equation }\ngraphing-tours-label-lists-graph-points = Let's graph a few points.\ngraphing-tours-label-lists-hint-abc = Hint: press the 'A B C' button on the keypad to find the [ ] buttons\ngraphing-tours-label-lists-hint-plot-points = Hint: this will plot a point for each item of b.\ngraphing-tours-label-lists-hint-superscript = Hint: you can type { $suggestion1 } or use the { $suggestion2 } button on the keypad below.\ngraphing-tours-label-lists-point-equation = Try this: { $equation }\ngraphing-tours-label-lists-put-to-work = Nice. Let's put that list to work.\ngraphing-tours-label-new-item = Click here to add a new item.\ngraphing-tours-label-nice = Nice!\ngraphing-tours-label-regressions-better-fit = Edit this equation to find a better fit. Try, for example:<br>{ $equation }\ngraphing-tours-label-regressions-check-model = Nice. Let's check the model.\ngraphing-tours-label-regressions-data = First, let's get some data.\ngraphing-tours-label-regressions-data-2 = Let's start with some data!\ngraphing-tours-label-regressions-docs = Head over to Google Docs and copy and paste this { $sample_data_link }.\ngraphing-tours-label-regressions-equation = Now type: { $equation }\ngraphing-tours-label-regressions-expression-option = ... and select the \"expression\" option.\ngraphing-tours-label-regressions-fill-sample-data = Fill in the sample data:\ngraphing-tours-label-regressions-hint-1 = Hint #1: to get { $y_1 } type { $y1 }.\ngraphing-tours-label-regressions-hint-2 = Hint #2: { $twiddle } is in our onscreen keypad in the 'A B C' section.\ngraphing-tours-label-regressions-keep-exploring = Nice work &ndash; Keep exploring!\ngraphing-tours-label-regressions-new-model = Now, let's try a new model.\ngraphing-tours-label-regressions-new-table = Click here to add a new table.\ngraphing-tours-label-regressions-own-data = Note: you can add your own data instead by clicking the { $plus_icon } button.\ngraphing-tours-label-regressions-residuals = Residuals are the difference between your data and your model. Click here to add them to your table and plot them on the graph.\ngraphing-tours-label-regressions-sample-data = sample data\ngraphing-tours-label-require-expressions-visible = Click to show the list of expressions.\ngraphing-tours-label-require-not-edit-list-mode = Click to return to your expressions.\ngraphing-tours-label-require-resources-not-open = Click to return to this graph.\ngraphing-tours-label-restrictions-abc = Hint: press the 'A B C' button on the keypad to find the { $buttons } buttons\ngraphing-tours-label-restrictions-blank-expression = Click here to make a new blank expression.\ngraphing-tours-label-restrictions-change-equation = Change this equation to { $sample_expression }\ngraphing-tours-label-restrictions-domain = Restrict the domain of this line by adding { $sample_expression } to the end.\ngraphing-tours-label-restrictions-dont-forget = Don't forget the \"y=\"!\ngraphing-tours-label-restrictions-graph-parabola = Now graph: { $sample_expression }\ngraphing-tours-label-restrictions-move-parabola = Move the parabola.\ngraphing-tours-label-restrictions-new-expression = Click here to create a new expression.\ngraphing-tours-label-restrictions-range = Now let's restrict the range. Add { $sample_expression } to the end.\ngraphing-tours-label-restrictions-star = You're a restrictions star!\ngraphing-tours-label-restrictions-start = Let's get started!\ngraphing-tours-label-restrictions-straight-line = Try graphing a straight line, like { $sample_expression }\ngraphing-tours-label-restrictions-type-all = Try typing all of { $sample_expression }\ngraphing-tours-label-restrictions-typing-hint = Hint: you can type { $suggestion1 }, or use the { $suggestion2 } button on the keypad below.\ngraphing-tours-label-self-destruct = This message will self-destruct in { $seconds }...\ngraphing-tours-label-sliders-add = Now click here to add the sliders.\ngraphing-tours-label-sliders-blank-expression = Click here to create a new blank expression.\ngraphing-tours-label-sliders-change-value = Type in here to change the value.\ngraphing-tours-label-sliders-drag-handle = Drag the handle to change the value.\ngraphing-tours-label-sliders-hands-free = Go \"Hands-free\"\ngraphing-tours-label-sliders-make-sliders = Let's make some sliders!\ngraphing-tours-label-sliders-press-play = Press play to animate the slider.\ngraphing-tours-label-sliders-pro = You're a slider pro!\ngraphing-tours-label-sliders-try-typing = Try typing { $sample_expression }\ngraphing-tours-label-tables-back = Click back to continue editing.\ngraphing-tours-label-tables-close-options = Click anywhere to close the drawing options.\ngraphing-tours-label-tables-dots = Click here to connect the dots.\ngraphing-tours-label-tables-enter = Now try pressing Enter.\ngraphing-tours-label-tables-fill-another = Just fill in one more...\ngraphing-tours-label-tables-fill-cell = Fill it in.\ngraphing-tours-label-tables-fill-row = Fill in this whole row.\ngraphing-tours-label-tables-last-trick = Last trick!\ngraphing-tours-label-tables-next-row = Go down to the next row to add more data.\ngraphing-tours-label-tables-open-options = Click and hold on this icon until the options menu opens up.\ngraphing-tours-label-tables-select-table = ... and select the \"table\" option.\ngraphing-tours-label-tables-start = Let's make a table!\ngraphing-tours-label-tables-type-number = Type any number here.\ngraphing-tours-label-tables-valid-number = Uh-oh! Type a valid number here.\ngraphing-tours-label-tables-whiz = You're a tables whiz!\nmatrix-calculator-button-new = New Matrix\nmatrix-calculator-button-settings = settings\nmatrix-calculator-heading-edit-matrix = Edit Matrix { $variable }\nmatrix-calculator-label-columns = Columns\nmatrix-calculator-label-rows = Rows\nmatrix-calculator-narration-add-column = Add Column\nmatrix-calculator-narration-add-row = Add Row\nmatrix-calculator-narration-evaluation = equals { $rowCount } by { $columnCount } matrix.\nmatrix-calculator-narration-evaluation-row = Row { $rowNumber }: { $values }.\nmatrix-calculator-narration-keypad-key-det = Determinant\nmatrix-calculator-narration-keypad-key-inverse = Inverse\nmatrix-calculator-narration-keypad-key-rref = Reduced row echelon form\nmatrix-calculator-narration-keypad-key-trace = Trace\nmatrix-calculator-narration-keypad-key-transpose = Transpose\nmatrix-calculator-narration-matrix-with-variable = Matrix { $variable }\nmatrix-calculator-narration-matrix-without-variable = Matrix\nmatrix-calculator-narration-new-dimensions = Matrix size: { $rows } by { $cols }\nmatrix-calculator-narration-remove-column = Remove Column\nmatrix-calculator-narration-remove-row = Remove Row\nmatrix-calculator-narration-resize-controls = Resize Matrix Controls\nmatrix-calculator-narration-settings-menu = Settings Menu\nmatrix-calculator-narration-title = Desmos Matrix Calculator\n### String for curriculum marketing\n\n\n### 966 English words, 58 English strings\n\ncurriculum-info-button-no = No\ncurriculum-info-button-request-form-submit = Request More Information\ncurriculum-info-button-yes = Yes\ncurriculum-info-error-request-form-contact-info-email = Please enter a valid email address.\ncurriculum-info-error-request-form-contact-info-first-name = Please enter your first name.\ncurriculum-info-error-request-form-contact-info-last-name = Please enter your last name.\ncurriculum-info-error-request-form-enter-role = Please enter your role.\ncurriculum-info-error-request-form-site-name = Please enter the name of your school or district.\ncurriculum-info-heading-end-of-page-info = Want to learn more?\ncurriculum-info-heading-grade-level-interest = Which grades are you interested in?\ncurriculum-info-heading-partners-logos = Some of Our Partner Schools and Districts\ncurriculum-info-heading-request-form = Request more information about the curriculum.\ncurriculum-info-heading-request-form-contact-info = Your contact information:\ncurriculum-info-heading-request-form-this-fall-interest = Are you looking to use the Desmos Curriculum this fall?\ncurriculum-info-heading-research-results = <1>What are the results?</1><2>We surveyed 70 teachers and 1,500 students who piloted our curriculum, asking them to compare it to their previous curriculum. Heres what they said:</2>\ncurriculum-info-heading-testimonials = What are people saying?\ncurriculum-info-heading-whats-in-the-curriculum = What's in the Desmos Curriculum?\ncurriculum-info-label-grade-6-interest = Grade 6\ncurriculum-info-label-grade-7-interest = Grade 7\ncurriculum-info-label-grade-8-interest = Grade 8\ncurriculum-info-label-request-form-contact-info-email = Email\ncurriculum-info-label-request-form-contact-info-first-name = First Name\ncurriculum-info-label-request-form-contact-info-last-name = Last Name\ncurriculum-info-label-request-form-enter-role = What is your role?\ncurriculum-info-label-request-form-enter-role-placeholder = Role\ncurriculum-info-label-request-form-select-role = Select your role:\ncurriculum-info-label-request-form-site-name = Name of school or district:\ncurriculum-info-label-request-form-site-name-placeholder = School or District Name\ncurriculum-info-label-role-administrator = Administrator\ncurriculum-info-label-role-coach = Math Coach\ncurriculum-info-label-role-other = Other\ncurriculum-info-label-role-teacher = Teacher\ncurriculum-info-label-try-this-activity = Try an activity!\ncurriculum-info-narration-ipad-with-student-screen = An iPad with a student screen. On the screen, the student sketches planets and explores what happens when the drawing is sent through different machines. Behind the iPad, there is a paper version of the activity where the student has sketched scaled copies of a shape on a grid.\ncurriculum-info-narration-laptop-with-student-screen = A laptop with a student screen. On the screen, the student describes what he notices and wonder while changing the scale factor of a mosaic pattern he created.\ncurriculum-info-narration-screen-with-teacher-dashboard = A computer screen with two windows open. The first window shows the teacher screen for Grade 7, Unit 5. The second window, to the right of the first, shows a teacher dashboard with square patterns created by students in the class.\ncurriculum-info-text-activity-caption-student-ideas = <1>Students ideas are the engine of our curriculum. Their sketches power simulations and their mathematical thinking powers classroom conversations. In this lesson about functions, teachers help students make connections between scenarios and the graphs that represent them. <2>Try it for free!</2></1>\ncurriculum-info-text-header-content = <1>The Desmos Math Curriculum is here!</1><2>Brought to you by the team that created the Desmos calculators and activities. Math 68 is available now. Algebra 1 will be available for the 20222023 school year. </2>\ncurriculum-info-text-join-info-session = <1>Interested in learning more? <2>Watch the info session.</2></1>\ncurriculum-info-text-questions-info-faqs-email = <1>Questions? Please check our <2>Curriculum FAQs</2> or reach out to us at <3>curriculum@desmos.com</3>{\".\"}</1>\ncurriculum-info-text-quote-coach-teacher-for-23-years = <1/><2>I have been a teacher for 23 years and this is the most engaged I have seen students in a mathematics classroom.</2><3><4>Rebecca Moore,</4> Math Coach, Naugatuck, CT</3>\ncurriculum-info-text-quote-facilitator-falling-in-love = <1/><2>Every lesson that I preview, I fall in love a little more  thank you for this work and thank you for reflecting and listening to the feedback!</2><3><4>Jenny Ainslie,</4> Secondary Math Facilitator, Orange County, NC</3>\ncurriculum-info-text-quote-teacher-if-not-using-climbing-analogy = <1/><2>If you're teaching math and not utilizing Desmos, you may as well be climbing a mountain with your hands tied behind your back.</2><3><4>Mike Del Greco,</4> Math Teacher, Sudbury, MA</3>\ncurriculum-info-text-quote-teacher-saved-my-life-this-year = <1/><2>Desmos has saved my life this year. I am so grateful that we signed up. It is the perfect tool for remote learning and my students love it.</2><3><4>Brendan Smith,</4> Math Teacher, Oakland, CA</3>\ncurriculum-info-text-quote-teacher-super-intuitive-friendly = <1/><2>Your team has made this super intuitive and user friendly. Cannot say enough about how much we appreciate the frequent contacts / emails / check-ins etc.</2><3><4>Shannon Kenyon,</4> Curriculum Resource Teacher, Lewiston, ID</3>\ncurriculum-info-text-quote-teachers-exceptional-problem-solvers = <1/><2>Our students are loving Desbook and becoming exceptional problem solvers  even in this distance learning environment! I genuinely have never appreciated anything so much in my life.'</2><3><4>Heather Staniszewski,</4> Math Teacher, Belmont-Redwood, CA</3>\ncurriculum-info-text-request-sent-coach-admin-follow-up = <1>If you have questions in the meantime, <2>learn more about the curriculum</2> or <3>set up a call</3>{\".\"}</1>\ncurriculum-info-text-request-sent-confirmation = Thank you, { $firstName }! An email with more information is on the way.\ncurriculum-info-text-request-sent-other-follow-up-email-subject = I have a question about the Desmos Curriculum\ncurriculum-info-text-request-sent-other-role-follow-up = <1>If you have questions, please don't hesitate to reach out to us directly at <2>{$v0}</2>{\".\"}</1>\ncurriculum-info-text-request-sent-teacher-follow-up = <1>If you have questions in the meantime, check out the <2>Desmos Math Curriculum FAQs</2>{\".\"}</1>\ncurriculum-info-text-section-lessons-that-express-brilliance = <1>Lessons that help students express their brilliance every day.</1><2>Every student is brilliant, but not every student <3>feels</3> brilliant in math class, particularly students from <4>historically excluded communities</4>{\".\"} We design our curriculum to put students ideas at its center. Our lessons pose problems that invite a variety of approaches. And our technology helps teachers celebrate and develop all of that interesting thinking in their classrooms.</2>\ncurriculum-info-text-section-paper-technology-blend = <1>A blend of paper and technology.</1><2>We apply our expertise in technology, pedagogy, and design to enhance the top-rated curriculum from <3>Illustrative Mathematics</3> and <4>Open Up Resources</4>{\".\"} We offer learning experiences on computers that are dynamic and interactive as well as experiences on paper that are flexible and creative.</2>\ncurriculum-info-text-section-powerful-facilitation-tools = <1>Powerful facilitation tools for teachers.</1><2>Our problem-based lessons empower students to explore new ideas, and our teacher dashboard helps teachers connect those ideas together. Whether teachers are observing student learning on our lesson summary page or guiding productive discussions with our <3>conversation toolkit</3>, our facilitation tools make teaching more effective and more fun.</2>\ncurriculum-info-text-section-results-students-enjoy-more = <1>Students enjoy math more.</1><2>We help students experience the need for new mathematical ideas, and our interactive feedback shows them the value of their own thinking.</2><3><4>The result:</4> Teachers in the pilot said their students were more engaged in the Desmos Curriculum than in their previous curriculum, and students reported enjoying math class more.</3>\ncurriculum-info-text-section-results-students-learn-more = <1>Students learn more math.</1><2>We design problem-based lessons that promote mathematical curiosity and student engagement, building on the coherence and rigor of the Illustrative Mathematics curriculum. Each unit includes student notes, skill practices, and rich assessments to help students show what they know and can do.</2><3><4>The result:</4> Students and teachers in the pilot both said that students learned more with the Desmos Curriculum than with their previous curriculum.</3>\ncurriculum-info-text-section-results-teacher-enjoy-more = <1>Teachers enjoy teaching more.</1><2>We pair your entire teaching team with a dedicated National Coach who will support your teams onboarding and instruction throughout the year. Additionally, we offer just-in-time lesson preview emails, unit overview webinars, and other supports to help your team succeed.</2><3><4>The result:</4> Teachers in the pilot felt happier and better supported with the Desmos Curriculum than with their previous curriculum.</3>\ncurriculum-info-text-section-tags = <1>The Desmos Curriculum is...</1><2><3>FERPA compliant</3><4>COPPA compliant</4><5>Standards aligned</5><6>Available in Spanish</6></2>\n### Strings for desmos.com homepage\n\n\n### 4489 English words, 389 English strings\n\nfrontpage-button-braille-print-examples = Print these examples\nfrontpage-button-main-join-class = Join\nfrontpage-error-something-went-wrong-try-again-later = Sorry! Something went wrong. Please try again later.\nfrontpage-heading-about-desmos-classroom = About Desmos Classroom\nfrontpage-heading-about-desmos-studio = About Desmos Studio\nfrontpage-heading-art-contest-guest-judges = Guest Judges\nfrontpage-heading-braille-examples = Braille Examples\nfrontpage-heading-braille-table-type-this = Type this\nfrontpage-heading-braille-table-typeset = Typeset\nfrontpage-heading-braille-view-examples-in = View examples in:\nfrontpage-heading-equity-as-we-do-this-work = As we do this work, we ask ourselves...\nfrontpage-heading-equity-disrupt-systemic-inequities = III.  We want to disrupt systemic inequities and conditions of marginalization in education.\nfrontpage-heading-equity-more-equitable-workplace = II. We want to work continuously towards an equitable workplace.\nfrontpage-heading-equity-next-steps = Next Steps and an Invitation\nfrontpage-heading-equity-principles = Desmos Equity Principles\nfrontpage-heading-equity-serve-all-students-and-teachers = I.  We want our products to serve all students and teachers.\nfrontpage-heading-footer-company = Company\nfrontpage-heading-footer-legal = Legal\nfrontpage-heading-footer-products = Products\nfrontpage-heading-footer-resources = Resources\nfrontpage-heading-guiding-build-for-real-classrooms = Build for Real Classrooms\nfrontpage-heading-guiding-champion-teachers = Champion Teachers\nfrontpage-heading-guiding-design-for-delight = Design for Delight\nfrontpage-heading-guiding-principles = Desmos Guiding Principles\nfrontpage-heading-guiding-works-every-time = Works Every Time\nfrontpage-heading-header-maintenance-mode = Desmos is currently undergoing scheduled maintenance, and accounts are temporarily unavailable.\nfrontpage-heading-main-global-art-contest-finalists-2020 = Global Math Art Contest 2020 Finalists\nfrontpage-heading-main-global-art-contest-finalists-2021 = Global Math Art Contest 2021 Finalists\nfrontpage-heading-main-lets-learn-together = Let's learn together.\nfrontpage-heading-main-our-partners = Our Partners\nfrontpage-heading-main-students = Students\nfrontpage-heading-main-teachers = Teachers\nfrontpage-heading-main-using-desmos-classroom = Using Desmos Classroom?\nfrontpage-heading-partners-accessibility-out-of-box = Accessibility Out of the Box\nfrontpage-heading-partners-anywhere-any-device = Anywhere, Any Device\nfrontpage-heading-partners-constant-improvements = Constant Improvements\nfrontpage-heading-partners-global-scale = Global Scale\nfrontpage-heading-partners-rock-solid-reliability = Rock-Solid Reliability\nfrontpage-heading-partners-want-to-embed = Want to embed the power of Desmos right into your website or app?\nfrontpage-heading-shared-contact-us = Contact Us\nfrontpage-heading-team-job-title-ceo = CEO\nfrontpage-heading-team-job-title-coaching = Coaching\nfrontpage-heading-team-job-title-copy-editing = Copy Editing\nfrontpage-heading-team-job-title-data = Data\nfrontpage-heading-team-job-title-engineering = Engineering\nfrontpage-heading-team-job-title-faculty = Faculty\nfrontpage-heading-team-job-title-interaction-developer = Interaction Developer\nfrontpage-heading-team-job-title-localization = Localization\nfrontpage-heading-team-job-title-operations = Operations\nfrontpage-heading-team-job-title-partnerships = Partnerships\nfrontpage-heading-team-job-title-product = Product\nfrontpage-heading-team-job-title-support = Support\nfrontpage-heading-team-meet-the-team = Meet the Team\nfrontpage-heading-team-partnerships-programs-and-operations = Partnerships, Programs, and Operations\nfrontpage-heading-team-product-and-engineering = Product and Engineering\nfrontpage-heading-team-teaching = Teaching\nfrontpage-heading-testmode-about-desmos-test-mode = About Desmos Test Mode\nfrontpage-heading-testmode-about-tab = About\nfrontpage-heading-testmode-android-tab = Android (Beta)\nfrontpage-heading-testmode-chromebooks-tab = Chromebooks\nfrontpage-heading-testmode-feedback-tab = Feedback\nfrontpage-heading-testmode-ipads-and-iphones-tab = iPads and iPhones\nfrontpage-heading-testmode-practice-tab = Practice\nfrontpage-heading-title-about = About Us\nfrontpage-heading-title-art-contest = Art Contest Finalists\nfrontpage-heading-title-curriculum = Curriculum\nfrontpage-heading-title-equity = Equity Principles\nfrontpage-heading-title-frontpage = Let's learn together.\nfrontpage-heading-title-guiding-principles = Guiding Principles\nfrontpage-heading-title-partners = Partners\nfrontpage-heading-title-team = Team\nfrontpage-label-about-meet-the-team = Meet the Team\nfrontpage-label-art-contest-finalists-2020 = Finalists 2020\nfrontpage-label-art-contest-finalists-2021 = Finalists 2021\nfrontpage-label-art-contest-from-artist = From the artist:\nfrontpage-label-art-contest-from-judges = From the judges:\nfrontpage-label-art-contest-photo-vernon-1st = 1st Place\nfrontpage-label-art-contest-photo-vernon-2nd = 2nd Place\nfrontpage-label-art-contest-photo-vernon-3rd = 3rd Place\nfrontpage-label-art-contest-trailblazer = Trailblazer\nfrontpage-label-main-classcode-placeholder = Code\nfrontpage-link-art-contest-2020-winners = View the 2020 winners\nfrontpage-link-art-contest-2021-winners = View the 2021 winners\nfrontpage-link-art-contest-age-range-13-14 = Ages 13-14\nfrontpage-link-art-contest-age-range-15-16 = Ages 15-16\nfrontpage-link-art-contest-age-range-17-18 = Ages 17-18\nfrontpage-link-art-contest-age-range-19 = Ages 19+\nfrontpage-link-curriculum-schedule-call = Let's Chat\nfrontpage-link-curriculum-try-it = Try It for Free\nfrontpage-link-footer-classroom-activities = Classroom Activities\nfrontpage-link-footer-contact-twitter = Twitter\nfrontpage-link-footer-partnerships = Partnerships\nfrontpage-link-header-classroom = Classroom\nfrontpage-link-header-math-tools = Math Tools\nfrontpage-link-header-resources = Resources\nfrontpage-link-header-team-desmos = Team Desmos\nfrontpage-link-main-browse-activities = Browse Activities\nfrontpage-link-main-for-students = For Students\nfrontpage-link-main-for-teachers = For Teachers\nfrontpage-link-main-go-to-student-homepage = Go to Student Homepage\nfrontpage-link-main-teacher-sign-up = Teacher Sign-Up\nfrontpage-link-main-view-the-winners = See all of the finalists!\nfrontpage-link-read-equity-principles = Read our Equity Principles\nfrontpage-link-read-guiding-principles = Read our Guiding Principles\nfrontpage-link-shared-about-us = About Us\nfrontpage-link-shared-accessibility = Accessibility\nfrontpage-link-shared-account-settings = Account Settings\nfrontpage-link-shared-api-documentation = API Docs\nfrontpage-link-shared-assessments = Assessments\nfrontpage-link-shared-blog = Des-Blog\nfrontpage-link-shared-careers = Careers\nfrontpage-link-shared-contact-us = Contact Us\nfrontpage-link-shared-curriculum = Desmos Curriculum\nfrontpage-link-shared-equity-principles = Equity Principles\nfrontpage-link-shared-four-function-calculator = Four Function Calculator\nfrontpage-link-shared-geometry-tool = Geometry Tool\nfrontpage-link-shared-graphing-calculator = Graphing Calculator\nfrontpage-link-shared-guiding-principles = Guiding Principles\nfrontpage-link-shared-help-center = Help Center\nfrontpage-link-shared-log-in = Log In\nfrontpage-link-shared-log-out = Log Out\nfrontpage-link-shared-matrix-calculator = Matrix Calculator\nfrontpage-link-shared-scientific-calculator = Scientific Calculator\nfrontpage-link-shared-sign-up = Sign Up\nfrontpage-link-shared-store = Desmos Store\nfrontpage-link-shared-test-practice = Test Practice\nfrontpage-link-testmode-learn-more-screen-pinning-mode = Learn more about using Screen Pinning on your Android device.\nfrontpage-narration-art-contest-image-of-graph = Image of { $graphTitle }\nfrontpage-narration-art-contest-image-of-graph-by = Image of graph by { $name }\nfrontpage-narration-art-contest-photo-boaler = Photo of Jo Boaler\nfrontpage-narration-art-contest-photo-bousso = Photo of Diarra Bousso\nfrontpage-narration-art-contest-photo-sanderson = Photo of Grant Sanderson\nfrontpage-narration-art-contest-photo-vernon = Photo of Natalie Vernon\nfrontpage-narration-art-contest-photo-woo = Photo of Eddie Woo\nfrontpage-narration-main-partner-logo = { $name } logo\nfrontpage-narration-shared-desmos-logo = Desmos Logo\nfrontpage-narration-shared-image-of-graph = Image of { $graphTitle }\nfrontpage-narration-team-collapse-biography = Collapse Biography\nfrontpage-narration-team-picture-of-name = Picture of { $name }\nfrontpage-narration-testmode-im-done-timer-ios = The I'm Done button and timer on the iOS closing screen\nfrontpage-narration-testmode-ipad-opening-screen = The Start Test button on the iPad opening screen\nfrontpage-narration-testmode-opening-screen = The opening screen of Test Mode\nfrontpage-text-about-build-a-world = Desmos wants to build a world where every student learns math and loves learning math, where a students access to the power and beauty of math doesn't depend on their place of birth, race, ethnicity, gender, or any other aspect of their identity.\nfrontpage-text-about-classroom = Desmos Classroom is now part of Amplify Education! <1>Learn more</1>{\".\"}\nfrontpage-text-about-classroom-curriculum = In 2020, we turned those experiences into <1>a core middle school math program</1>, now Amplify Math + Desmos Classroom, combining a problem-based curriculum from Illustrative Mathematics, scalable support models from Amplify, and Desmos Classroom's intuitive technology and humanizing pedagogy.\nfrontpage-text-about-classroom-join-us = Come join us on our journey! <1>Preview our curriculum</1>, check out <2>our free activities</2>, or join our <3>Educators Community</3>{\".\"}\nfrontpage-text-about-classroom-pedagogy = Desmos Classroom invites, celebrates, and develops student brilliance through <1>free digital classroom activities</1>, thoughtfully designed by teachers for teachers. Those activities are guided by our <2>our pedagogical philosophy</2> and help students to explore concepts deeply, collaborate with their peers on problem-solving, and apply knowledge creatively as mathematicians.\nfrontpage-text-about-desmos-studio-pbc = Desmos Studio is a Public Benefit Corporation with a goal of helping everyone learn math, love math, and grow with math. We believe that everyone has an inner mathematician and that some people havent been given the opportunity, encouragement, or tools to discover theirs. So we prioritize <1>equity</1> and <2>accessibility</2> at every level of our work.\nfrontpage-text-about-math-tools = Our free suite of math tools, including our Graphing Calculator, is used annually by over 75 million people around the world. Those tools help people represent their ideas mathematically, connect different representations dynamically, make conjectures, and then develop entirely new ideas. They also result in some <1>pretty spectacular art</1>{\".\"}\nfrontpage-text-about-partners = We partner with the world's most popular curricula and learning software, and with <1>the majority of U.S. state-level assessments and digital college entrance exams</1>{\".\"}\nfrontpage-text-about-studio-join-us = Come join us! <1>Play with the calculator</1>, or connect with us on <2>Twitter</2>, <3>YouTube</3>, or <4>Instagram</4>{\".\"}\nfrontpage-text-art-contest-enter = Learn more about Desmos's Global Art Contest 2021\nfrontpage-text-art-contest-finalist-title = { $graphTitle } by { $name }\nfrontpage-text-art-contest-page-description-2020 = Desmos's first Global Math Art Contest in 2020 featured over 4,000 graphs from over 100 countries around the world. Here are the winners and finalists, chosen from countless examples of incredible effort, artistry, ingenuity, and creativity.\nfrontpage-text-art-contest-page-description-2021 = More than 10,000 students from around the world participated in the second annual Global Math Art Contest! Here are the winners and finalists, chosen from countless examples of incredible effort, artistry, ingenuity, and creativity.\nfrontpage-text-braille-examples-calculator-information = Use a Braille display? You can read and write equations in the <1>Four-Function</1> <2>(www.desmos.com/fourfunction)</2>, <3>Scientific</3> <4>(www.desmos.com/scientific)</4>, and <5>Graphing</5> <6>(www.desmos.com/calculator)</6> calculators as well as <7>classroom activities</7> <8>(teacher.desmos.com)</8> using the two most common mathematical Braille codes in North America: Nemeth and Unified English Braille (UEB).\nfrontpage-text-braille-examples-page-screen-reader-information = Your screen reader should be set for Computer Braille input and output to minimize the risk of translation errors. Check out <1>the help center accessibility page.</1> for more information about using Braille in the Desmos calculators.\nfrontpage-text-description-about = Desmos is a math ed tech company building calculators, digital classroom tools, math activities, and curriculum for classrooms around the world.\nfrontpage-text-description-art-contest = The Desmos Math Art Contest is open yearly to students ages 1318 to showcase their graphing calculator skills, creativity, and love of math.\nfrontpage-text-description-equity = Our goal is to support the development of a more equitable math education system and tech industry. We use these principles as our guide.\nfrontpage-text-description-frontpage = Desmos offers best-in-class calculators, digital math activities, and curriculum to help every student love math and love learning math.\nfrontpage-text-description-guiding-principles = Desmos has five Guiding Principles. These principles help us make tough decisions. They provide accountability for the outcomes of those decisions. And they help other people make decisions about us, by representing our values to people and organizations who are deciding if wed be good partners in their work.\nfrontpage-text-description-partners = Desmos runs on any modern device with no downloads or installs. Partner with us to embed the power of Desmos right into your website or app.\nfrontpage-text-description-team = Our team works across 7 time zones, 2 hemispheres, and 18 states with 1 goal: to help every student learn math and love learning math.\nfrontpage-text-equity-as-a-us-based-team = As a primarily U.S.-based team, our focus for applying these principles has typically centered on injustices within our country. However, as our team, community of users, and partnerships continue to expand internationally, we seek to learn how we can apply these principles to strive for equitable math education worldwide.\nfrontpage-text-equity-everyone-understands = Our workplace should be one where everyone understands how they contribute to the companys mission and feels valued in their contribution. If we dont intentionally foster diversity and inclusion internally, we remain a part of the broader systemic inequities driving the need for these principles. Equally important, having a diverse group of colleagues is essential to serving a diverse external community. To do this, we must critically examine and address bias in our own processes and interactions.\nfrontpage-text-equity-goal-more-equitable-math-education-system = Our goal is to support the development of a more equitable math education system and tech industry. We use these principles as guides towards achieving this goal.\nfrontpage-text-equity-gratitude = We also want to express our gratitude to the many folks who have influenced and pushed our thinking in this area, especially but certainly not limited to <1>Lauren Baucom</1>, <2>Christelle Rocha</2>, <3>Ayanna Perry</3>, and Rochelle Gutierrez.\nfrontpage-text-equity-how-can-we-measure-impact = How can we measure the impact of our work on communities we aim to serve?\nfrontpage-text-equity-how-can-we-uphold-values = How can we uphold our values when selecting partners and services?\nfrontpage-text-equity-how-might-we-attend-to-safety = How might we attend to the mental, emotional, and physical safety of our employees?\nfrontpage-text-equity-how-might-we-continue-to-prioritize-equity = How might we continue to prioritize a drive for equity as our company changes over time?\nfrontpage-text-equity-how-might-we-examine-biases = How might we examine and reduce our individual biases?\nfrontpage-text-equity-how-might-we-share-our-thinking = How might we share our current thinking and get feedback?\nfrontpage-text-equity-how-might-we-support-access = How might we support the ACCESS and ACHIEVEMENT of the communities we serve?\nfrontpage-text-equity-how-might-we-support-identity = How might we support the IDENTITY and POWER of the communities we serve?\nfrontpage-text-equity-how-might-we-sustain-ourselves = How might we sustain ourselves in our day-to-day work at Desmos?\nfrontpage-text-equity-how-might-work-disrupt-white-supremacy = How might our work disrupt white supremacy and the oppressive results of dominant culture?\nfrontpage-text-equity-how-will-it-help = How might this work help the communities we aim to serve? How might it harm these communities?\nfrontpage-text-equity-on-a-mission = We're on a mission to help every student learn math and love learning math. To achieve our mission, we must acknowledge past and present injustices in our communities and take intentional action to make change.\nfrontpage-text-equity-tag-or-email = We would love to hear ways these principles may be underdeveloped or ways in which these principles shifted your thinking. If you want to respond publicly, tag us <1>@desmos</1>{\".\"} If you want to respond privately, feel free to email <2>equity@desmos.com</2>{\".\"}\nfrontpage-text-equity-we-have-a-responsibility = We have a responsibility to continuously learn about how systemic inequity is embedded in education and to use this knowledge to drive our decision-making. As we learn and put our learning into practice, we share our work with the hope that others will listen, learn, and push us further.\nfrontpage-text-equity-we-recognize-creating-adopting = We recognize that creating and adopting a set of equity principles is just one foundational step that helps us orient the work that comes next. We are also aware that our team members identities, experiences, and biases limit our ability to help every student or to see ways in which our systems and structures bias some groups over others.\nfrontpage-text-equity-what-voices-can-we-amplify = What underrepresented voices can we learn from and amplify?\nfrontpage-text-equity-which-communities-to-learn-from = Which communities do we need to learn from and serve?\nfrontpage-text-equity-who-serves-harms = Who might each internal process serve? Who might this process harm?\nfrontpage-text-equity-without-taking-intentional-steps = Without taking intentional steps, our work will not serve all groups well. Therefore, we must focus on identifying and attending to the needs of marginalized and excluded communities. This means learning from and with these teachers and students, and using their needs to shape our work and measure our success.\nfrontpage-text-footer-copyright-studio = Copyright { $copyrightSign } { $year } Desmos Studio, PBC\nfrontpage-text-guiding-building-for-real-classrooms = Building for real classrooms requires listening to teachers and striving to understand the operations of their classroomsthe features that make whole-group or small-group discussions <1>successful</1>, for example, or the way unreliable technology can ruin a lesson. Building for real classrooms also requires us to understand the inequities in the way schools are resourced. Knowing that many students and teachers operate with limited devices and connectivity motivates our team to prioritize building performant, low-bandwidth systems.\nfrontpage-text-guiding-footnote-danny-martin = <1>1</1> <2>Danny Martin</2>, for example, entreats us to consider the brilliance of Black children as an axiom, a statement that is self-evidently true.\nfrontpage-text-guiding-honor-students-brilliance = Honor Students' Brilliance\nfrontpage-text-guiding-once-students-realize = Once students realize we are encouraging their agency and creativity, we hope they will seek delight in every corner of our work. Therefore, we're constantly redesigning for delight and updating to respond to all the student creativity we didnt anticipate.\nfrontpage-text-guiding-principles-gratitude = All errors in this document are our own, but we are particularly grateful to Desmos Fellows <1>Lauren Baucom</1> and <2>Christelle Rocha</2> for their feedback on earlier drafts of these principles.\nfrontpage-text-guiding-principles-introduction = Desmos has five Guiding Principles. These principles help us make tough decisions, and provide accountability for the outcomes of those decisions. And they help other people make decisions about us by representing our values to the people and organizations who are deciding if wed be good partners in their work.\nfrontpage-text-guiding-remove-barriers = We also try to remove barriers that might prevent certain students from showcasing their brilliance by focusing on equity in our business models and accessibility in our products.\nfrontpage-text-guiding-so-we-champion = So we champion teachers. We start by listening and learning from and with teachers and researchers. We ask how we can best support each stage of a teachers career. We also work to oppose any effort to devalue or deprofessionalize teaching.\nfrontpage-text-guiding-there-are-a-number = There are a number of reasons that a product might not work for a user. It could just break, as technology so often does. It could be confusing for a subset of users, perhaps those who are less confident using technology. It could be that someone uses it in a way that we didnt anticipate. Whatever the reason, even a product that works 99% of the time will interrupt the learning in 1 of 3 classrooms. As a result, we prioritize reliability and usability, even at the expense of development speed. We strive for backwards compatibility, and still open graphs made in the first week of our calculators launch. We also aim to design software and lessons that work for a wide variety of inputs. We believe that its not our job to enforce rigid syntax, but rather to interpret, as well as we can, anything a user does.\nfrontpage-text-guiding-to-honor-students = To honor students brilliance, we must first create opportunities for students to express their brilliance. We design tools and lessons that invite creativity and welcome multiple approaches. We build features to help teachers showcase student thinking, for example with our <1>dashboard tools</1> that support the <2>5 Practices</2>{\".\"} We seek to provide meaningful <3>task-oriented</3> feedback on students thinking.\nfrontpage-text-guiding-to-support-real-students = To support real students and real teachers, we need to design for their real and disparate environments.\nfrontpage-text-guiding-we-are-not-uncritical = We are not uncritical or passive champions. We recognize that teachers can both help and harm. We instead consider ourselves partners, supporters, and advocates in the critical work of building joyful classrooms and honoring the brilliance of every student. Excellence in teaching takes years of training and practice, and supporting such excellence is one of our most powerful levers for achieving our goals.\nfrontpage-text-guiding-we-believe-that-students = We believe that students are creative, knowledgeable, and brilliant. We recognize that students in math classes are not always treated as such, and that students of certain genders, races, or backgrounds are disproportionately affected.\nfrontpage-text-guiding-we-cant-enact = We can't enact any of our principles without teachers. We believe that teachers areand should remainan integral part of the learning process, and we know that they wield enormous power in their students learning experiences.\nfrontpage-text-guiding-we-know-that-software = We know that software will inevitably break or students will do things we dont anticipate. We believe that reliability doesn't come from avoiding every possible way something can go wrong, but from reacting quickly, carefully, and <1>blamelessly</1> when it does.\nfrontpage-text-guiding-we-prioritize-delight = We prioritize delight in our products even at the cost of development time. We would rather release a delightful product or lesson tomorrow than an adequate one today. We aim for delight not just in the user experience but in the learning experience as well. For example, students experience joy in \"<1>being the cause</1>,\" so we try to create tools and lessons that respond to their interesting thinking. We relish surprises from students and try to surprise them in turn by coming along as they go off trail.\nfrontpage-text-guiding-we-reject-the-idea = We reject the idea that these students are more or less capable and recognize that we must learn from and with marginalized and excluded communities<1>1</1> in order to counter these narratives.\nfrontpage-text-guiding-we-want-to-help = We want to help all students learn math, but we see little value in their learning math if they don't also find something to <1>love</1> about math as well.\nfrontpage-text-header-app-links = Download our apps in the <1>Google Play Store</1> and <2>iOS App Store</2>{\".\"}\nfrontpage-text-main-interactive-and-creative-activities = Interactive and creative activities for your math class.\nfrontpage-text-main-join-your-classmates = Join your classmates!\nfrontpage-text-main-on-a-mission = We're on a mission to help every student learn math and love learning math.\nfrontpage-text-main-partners-benefits = As a partner of Desmos, you benefit from our continual work to make Desmos more powerful, faster, and easier to use. We release a new version of the API annually in April as a free upgrade for all of our partners. <1>Read our Changelog</1>{\".\"}\nfrontpage-text-main-partners-information = Our tools power <1>assessments</1> and major curricula. <2>Learn more</2>\nfrontpage-text-partners-accessible-api = We believe in interactive math for every student, including students who are blind or visually impaired. Desmos's API is WCAG 2.1 compliant at the AA level. We support fully blind students by converting graphs to sound and connecting with screen readers. <1>Learn More</1>{\".\"}\nfrontpage-text-partners-desmos-runs-on-modern-browser = Desmos runs on any modern browser with no downloads or installs. We also run seamlessly on iPhones, iPads, Android phones, and Windows touch devices. Chromebook attached to a Smartboard? No problem! We've seen just about every combination a classroom has to offer, and we make sure our software runs on any modern browser, in nearly any configuration.\nfrontpage-text-partners-desmos-used-by-millions = Desmos is used by millions of students and teachers in nearly every country in the world and has been translated into 30 languages.\nfrontpage-text-partners-uptime = One of our values is \"Works every time.\" This extends to our API. With greater than 99.99% uptime over the last 3 years, we provide the reliability your app or website needs. We also offer self-hosting for partners who need it.\nfrontpage-text-team-about-us = Our team works across 7 time zones, 2 hemispheres, and 18 states with 1 goal: to help every student learn math and love learning math. Want to join us? <1>We're hiring!</1>\nfrontpage-text-testmod-administer-test = <1>To administer a Secure Test:</1><2><3>Have students pin the app.</3><4>Tell the students not unpin the app.</4><5>At the end of the test, confirm that the screen was pinned for the entire test by checking the in-app clock.</5></2>\nfrontpage-text-testmod-feedback = We work to continuously improve our Test Mode apps, and we welcome your feedback on how we can support the best possible experience for your students and colleagues. Please email us at <1>feedback@desmos.com</1> with any questions or comments!\nfrontpage-text-testmode-android = Our <1>Android app</1> (currently in Beta testing) allows for offline practice.\nfrontpage-text-testmode-app-self-lock-mode-colors = While in App Self-Lock mode, the top bar of the calculator will change color according to the calculator in use: green for graphing, purple for scientific, blue for four function. There will also be a badge next to the Desmos logo.\nfrontpage-text-testmode-chromebooks = Our Chrome app allows for offline practice. You can download the Chrome app by visiting <1>bit.ly/desmos-test-mode-chrome-app</1> on the device. The <2>Chrome browser</2> must be installed on the device to use the Chrome Test Mode app.\nfrontpage-text-testmode-enable-guided-access = <1>To enable Guided Access:</1><2><3>Go to Settings > General > Accessibility > Guided Access.</3><4>Pick a passcode that needs to be entered.</4><5>Open up the Test Mode app.</5><6>Triple-click the Side or Home button.</6></2><7>This will lock the device to that app and won't allow the student to leave it without a code.</7>\nfrontpage-text-testmode-enable-screen-pinning = <1>To enter Screen Pinning:</1><2><3>Disable WiFi on your phone.</3><4>Enter Airplane Mode on your phone.</4><5>A \"Start Test\" button will appear. Click it.</5></2>\nfrontpage-text-testmode-exit-guided-access = <1>To exit Guided Access:</1><2><3>Triple-click the Side or Home button.</3><4>Enter the passcode that you chose.</4></2>\nfrontpage-text-testmode-four-function-calculator-app-self-lock-mode-caption = Four function calculator in App Self-Lock mode with a blue top bar.\nfrontpage-text-testmode-four-function-calculator-blue-top-bar = The secure four function calculator has a blue top bar.\nfrontpage-text-testmode-four-function-calculator-caption = Four function calculator in kiosk mode with a blue top bar.\nfrontpage-text-testmode-graphing-calculator-app-self-lock-mode-caption = Graphing calculator in App Self-Lock mode with a green top bar.\nfrontpage-text-testmode-graphing-calculator-kiosk-mode-caption = Graphing calculator in kiosk mode with a green top bar.\nfrontpage-text-testmode-guided-access = For additional security, you can lock the student into the app using <1>Guided Access</1>{\".\"}\nfrontpage-text-testmode-ipads-and-iphones = Our <1>iPad and iPhone app</1> allows for offline practice. The app also supports additional levels of security.\nfrontpage-text-testmode-kiosk-mode = Kiosk mode provides an extra level of security by preventing other apps from being used while the calculator is open. Students will be locked into the calculator configuration they choose before pressing \"Start Test\". Before you sign in, click Apps on the bottom bar and then select Desmos Test Mode. To exit kiosk mode, turn the Chromebook off.\nfrontpage-text-testmode-kiosk-mode-colors = While in kiosk mode, the top bar of the calculator will change color according to the calculator in use: green for graphing, purple for scientific, blue for four function. There will also be a badge next to the Desmos logo.\nfrontpage-text-testmode-levels-of-security = This page describes the various levels of security available through our apps, along with instructions for installation and usage.\nfrontpage-text-testmode-low-stakes-assessments = Each app lets you administer low-stakes, proctored assessments with security features to help enforce your school's or classroom's policies.\nfrontpage-text-testmode-partners = Desmos partners with high-stakes test providers in <1>over 35 states and on several national and international exams</1> to provide access to our calculators on testing day.\nfrontpage-text-testmode-practice = Students can practice using the calculators on our <1>Practice Page</1>{\".\"} We also provide free apps for <2>Chromebooks,</2> <3>iPads, and iPhones</3> to support practice.\nfrontpage-text-testmode-practice-apps-match-test-day = Our practice apps match the configuration that students will encounter on test day. Students can practice for a specific assessment by selecting \"Choose Assessment\" on the opening screen.\nfrontpage-text-testmode-scientific-calculator-app-self-lock-mode-caption = Scientific calculator in App Self-Lock mode with a purple top bar.\nfrontpage-text-testmode-scientific-calculator-caption = Scientific calculator in kiosk mode with a purple top bar.\nfrontpage-text-testmode-scientific-calculator-purple-top-bar = The secure scientific calculator has a purple top bar.\nfrontpage-text-testmode-screen-pinning-mode = Screen Pinning mode provides an extra level of security by preventing other apps from being used while the calculator is open.\nfrontpage-text-testmode-secure-graphing-calculator-green-top-bar = The secure graphing calculator has a green top bar.\nfrontpage-text-testmode-students-can-leave-app-self-lock-mode = Please note that students can leave App Self-Lock by clicking \"I'm Done\" before the end of the test. You can monitor appropriate usage by looking at the log at the conclusion of the test. It will show how long the student was continuously in the application.\nfrontpage-text-testmode-students-can-leave-chromebook-app = Please note that students can leave the app by powering down their Chromebook and restarting it. You can monitor appropriate usage by looking at the log at the conclusion of the test. It will show how long the student was continuously in the application.\nfrontpage-text-testmode-students-can-opt-into-app-self-lock = Students can opt into App Self-Lock by pressing the \"Start Test\" button. While in App Self-Lock, students will be locked into the calculator they selected before pressing \"Start Test\". They will not be able to switch calculators nor leave the app until they leave App Self-Lock.\nfrontpage-text-testmode-to-help-teachers-and-students-prepare = To help students and teachers prepare for assessments, and to support ongoing instruction and formative assessment needs, Desmos has developed a suite of Test Mode apps.\npractice-button-sc-info-pdf = { $stateName } PDF\npractice-button-state-info-pdf = { $stateName } Information PDF\npractice-heading-accessibility = Accessibility\npractice-heading-is-desmos-on-test = Is Desmos on your test?\npractice-heading-national-international-assessments = National and International Assessments\npractice-heading-practice = Practice\npractice-heading-privacy = Privacy\npractice-heading-questions-and-feedback = Additional Questions and Feedback\npractice-heading-state-assessments = State Assessments\npractice-heading-title-test-mode = Test Mode\npractice-heading-title-testing = Testing\npractice-label-desmos-on-test = Desmos is on the test!\npractice-label-desmos-on-test-apply-nysed = Apply to NYSED to use Desmos!\npractice-label-desmos-on-test-partial = Desmos can be used on the test\npractice-label-desmos-on-tests = Desmos is on the tests!\npractice-label-ib-middle-years = International Baccalaureate (IB) Middle Years Programme (MYP)\npractice-label-nwea-map-growth = NWEA MAP Growth\npractice-label-sample = Sample\npractice-label-sbac = Smarter Balanced\npractice-label-state-test = State Test:\npractice-label-state-tests = State Tests:\npractice-label-states-al-four-function-grades = Grades 6-8\npractice-label-states-al-scientific-grades = Grades 6-8\npractice-label-states-az-four-function-grades = Grade 5 (Science)\npractice-label-states-az-graphing-grades = High School Math\npractice-label-states-az-scientific-grades = Grade 7-8 (Math), 8 & High School (Sci)\npractice-label-states-ca-four-function-grades = Grade 5 (Science, CAST), Grade 6 (Mathematics)\npractice-label-states-ca-graphing-grades = Grade 11 (Mathematics)\npractice-label-states-ca-scientific-grades = Grades 7-8 (Mathematics), Grades 8-12 (Science, CAST)\npractice-label-states-ct-four-function-grades = Grade 6\npractice-label-states-ct-scientific-grades = Grades 7-8\npractice-label-states-de-four-function-grades = Grade 6\npractice-label-states-de-graphing-grades = High School\npractice-label-states-de-scientific-grades = Grades 7-8\npractice-label-states-fl-scientific-grades = Grades 7-8\npractice-label-states-ga-four-function-grades = Grade 6\npractice-label-states-ga-graphing-grades = High School\npractice-label-states-ga-scientific-grades = Grades 7-8 & High School\npractice-label-states-hi-four-function-grades = Grade 6\npractice-label-states-hi-graphing-grades = High School\npractice-label-states-hi-scientific-grades = Grades 7-8\npractice-label-states-ia-four-function-grades = Grades 3-6 (Mathematics), Grade 5 (Science)\npractice-label-states-ia-scientific-grades = Grades 7-11 (Mathematics), Grades 8 & 10 (Science)\npractice-label-states-id-four-function-grades = Grade 6\npractice-label-states-id-graphing-grades = High School\npractice-label-states-id-scientific-grades = Grades 7-8\npractice-label-states-in-four-function-grades = Grade 6 (ILEARN and IAM)\npractice-label-states-in-graphing-grades = High School (ISTEP+)\npractice-label-states-in-scientific-grades = Grades 7-8 (ILEARN)\npractice-label-states-ky-four-function-grades = High School (Mathematics)\npractice-label-states-ky-graphing-grades = High School (Mathematics and Science)\npractice-label-states-ky-scientific-grades = High School (Mathematics)\npractice-label-states-la-graphing-grades = High School\npractice-label-states-ma-graphing-grades = Grades 8 & 10 (Mathematics)\npractice-label-states-ma-scientific-grades = High School (Introductory Physics)\npractice-label-states-md-four-function-grades = Grade 5 (Science), Grades 3-7 (Mathematics)\npractice-label-states-md-graphing-grades = High School (Mathematics)\npractice-label-states-md-scientific-grades = Grade 8 (Mathematics), Grade 8 (Science)\npractice-label-states-mi-four-function-grades = Grade 6\npractice-label-states-mi-scientific-grades = Grade 7\npractice-label-states-mo-four-function-grades = Grade 5 & 8 (Science), Grades 6-8 (Mathematics)\npractice-label-states-mo-graphing-grades = Grades 6-8 (Mathematics), Algebra I, Algebra II, Geometry, Grade 8 (Science), Physical Science, and Biology\npractice-label-states-mo-scientific-grades = Grades 6-8 (Mathematics), Grade 8 (Science)\npractice-label-states-ms-graphing-grades = Algebra 1\npractice-label-states-mt-four-function-grades = Grade 6\npractice-label-states-mt-graphing-grades = High School\npractice-label-states-mt-scientific-grades = Grades 7-8\npractice-label-states-nc-four-function-grades = Grades 3-5\npractice-label-states-nc-graphing-grades = Grade 8, Math 1, and above\npractice-label-states-nc-scientific-grades = Grades 6-8\npractice-label-states-nd-four-function-grades = Grade 6\npractice-label-states-nd-graphing-grades = High School-Grade 11\npractice-label-states-nd-scientific-grades = Grades 7-8\npractice-label-states-ne-four-function-grades = Grade 6\npractice-label-states-ne-scientific-grades = Grades 7-8\npractice-label-states-nh-four-function-grades = Grade 6\npractice-label-states-nh-graphing-grades = High School\npractice-label-states-nh-scientific-grades = Grades 7-8\npractice-label-states-nv-four-function-grades = Grade 5 (Science), Grade 6 (Mathematics)\npractice-label-states-nv-scientific-grades = Grades 7-8 (Mathematics), Grade 8, High School (Science)\npractice-label-states-ny-graphing-grades = High School (Mathematics)\npractice-label-states-oh-graphing-grades = High School\npractice-label-states-oh-scientific-grades = Grades 3-8\npractice-label-states-or-four-function-grades = Grade 6 (Mathematics), Grade 5 (Science)\npractice-label-states-or-graphing-grades = Grades 8, 11 (Science), High School (Mathematics)\npractice-label-states-or-scientific-grades = Grades 7-8 (Mathematics)\npractice-label-states-pa-four-function-grades = Mathematics (Grades 4-8, Algebra 1), Science (Grades 4 and 8, Biology, CDT)\npractice-label-states-pa-graphing-grades = Mathematics (Algebra I, CDT)\npractice-label-states-pa-scientific-grades = Mathematics (Grades 6-8), Science (Grade 8, Biology, CDT)\npractice-label-states-ri-graphing-grades = Grade 8 (Mathematics), Grade 11 (Science)\npractice-label-states-sc-alt-four-function-grades = Grade 6, Alternate Assessments\npractice-label-states-sc-alt-scientific-grades = Grades 7, 8, 11, Alternate Assessments\npractice-label-states-sc-std-four-function-grades = Grades 6 (Math, Science)\npractice-label-states-sc-std-graphing-grades = Grades 7-8 (Math), Algebra 1, Biology\npractice-label-states-sc-std-scientific-grades = Grades 6 (Math, Science), 7-8 (Math), Algebra 1, Biology\npractice-label-states-sd-four-function-grades = Grade 6\npractice-label-states-sd-graphing-grades = High School\npractice-label-states-sd-scientific-grades = Grades 7-8\npractice-label-states-tx-four-function-grades = Grade 8 Science, Biology\npractice-label-states-tx-graphing-grades = Grade 8 Science, Biology, Grade 8 Math, Algebra 1, Algebra 2\npractice-label-states-tx-scientific-grades = Grade 8 Science, Biology\npractice-label-states-ut-graphing-grades = Grades 9-10 (Mathematics)\npractice-label-states-ut-scientific-grades = Grades 9-10 (Science)\npractice-label-states-va-four-function-grades = Grades 4-5\npractice-label-states-va-graphing-grades = High School\npractice-label-states-va-scientific-grades = Grades 6-8\npractice-label-states-vi-four-function-grades = Grade 6\npractice-label-states-vi-graphing-grades = Grades 10-11\npractice-label-states-vi-scientific-grades = Grades 7-8\npractice-label-states-vt-four-function-grades = Grade 6\npractice-label-states-vt-graphing-grades = High School\npractice-label-states-vt-scientific-grades = Grades 7-8\npractice-label-states-wa-four-function-grades = Grade 5 (Science), Grade 6 (Mathematics)\npractice-label-states-wa-graphing-grades = High School (Mathematics)\npractice-label-states-wa-scientific-grades = Grades 7-8 (Mathematics), Grade 8 & High School (Science)\npractice-label-states-wv-four-function-grades = Grade 6\npractice-label-states-wv-graphing-grades = High School\npractice-label-states-wv-scientific-grades = Grades 7-8\npractice-label-states-wy-four-function-grades = Grade 6\npractice-label-states-wy-graphing-grades = High School\npractice-label-states-wy-scientific-grades = Grades 7-8\npractice-link-four-function = Four Function Calculator\npractice-link-graphing = Graphing Calculator\npractice-link-scientific = Scientific Calculator\npractice-narration-close-details = Close Details About { $stateName }\npractice-text-accessibility-information = Desmos is committed to helping every student love learning math. We are proud to say that the Desmos calculators are <1>WCAG 2.1 AA compliant. </1>The accessibility improvements we've made ensure students who are blind or visually impaired have the same opportunities as their peers to discover the joy of learning math. Please read more about this at <2>www.desmos.com/accessibility</2>{\".\"}\npractice-text-calculator-note = These calculators differ from the ones on our site. You can find more information in the PDF.\npractice-text-data-privacy = Additional rules apply for data privacy when dealing with children under 13. The <1>Four-Function</1> and <2>Scientific</2> calculators, which will be used by students under the age of 13, never request student data as there is no way to log in.\npractice-text-description-test-mode = Learn how to configure Test Mode to use Desmos calculators on assessments.\npractice-text-description-testing = Is Desmos on your test? Find out if the Desmos calculators are on your state assessments.\npractice-text-different-calculators-ib = Please note that these calculators differ from the ones on our site. You can find more information in <1>our overview PDF</1>{\".\"} Students can practice on the sample <2>Scientific Calculator</2>{\".\"}\npractice-text-different-calculators-nwea = Please note that these calculators differ from the ones on our site. You can find more information in <1>our overview PDF</1>{\".\"} Students can practice on the sample <2>Four Function</2> or <3>Scientific Calculator</3>{\".\"}\npractice-text-different-calculators-sbac = Desmos calculators are available on Smarter Balanced assessments. Please note that these calculators differ from the standard ones on our site. Students who reside in a Smarter Balanced member state or U.S. territory can practice with the calculators configured for specific test settings available below.\npractice-text-more-information = Interested in learning more about Desmos calculator found on your state or national assessment? Check out our <1>professional learning and development offerings</1>{\".\"}\npractice-text-national-international-assessments = Desmos is now available on national and international assessments! These assessments include:\npractice-text-practice-information = To help students and teachers prepare for assessments, and to support ongoing instruction and formative assessment needs, Desmos has developed a suite of Test Mode apps. Our practice apps match the configuration that students will encounter on test day. You can learn more at <1>www.desmos.com/test-mode</1>{\".\"}\npractice-text-privacy = During test administrations, Desmos will not receive any data about students. Vendors will host the Desmos technology directly on their servers and will not exchange any data with Desmos's servers. Furthermore, students do not need to sign in or provide any personal information about themselves to be able to practice with Desmos calculators before the test.\npractice-text-questions = We know this change may prompt additional questions from teachers, parents, and administrators. Please don't hesitate to email questions or feedback to <1>support@desmos.com</1>{\".\"}\npractice-text-state-assessments = Desmos is also available on a range of state assessments! Find your state below to learn more.\npractice-text-state-not-listed = If Desmos isn't on your state assessment yet, and you're interested in changing that, <1>please let us know!</1>\npractice-text-students-create-accounts = While practicing for the test, some 11th-grade students using <1>desmos.com/calculator</1> may choose to create accounts to be able to save work for a later time. We encourage everyone to review the <2>Desmos Privacy Policy</2>, which describes what information we collect from these users who are over the age of 13 and what we do with that information.\n"}),function(){var e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g,m,y,v,b,x,w,E,S,k={};!function(e){var t="object"==typeof k?k:"object"==typeof self?self:"object"==typeof this?this:{};function r(e,r){return e!==t&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(t,n){return e[t]=r?r(t,n):n}}"function"==typeof define&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):"object"==typeof module&&"object"==typeof module.exports?e(r(t,r(module.exports))):e(r(t))}(function(k){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])};e=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}_(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r=function(e,t){var r={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]]);return r},n=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;0<=s;s--)(o=e[s])&&(a=(i<3?o(a):3<i?o(t,r,a):o(t,r))||a);return 3<i&&a&&Object.defineProperty(t,r,a),a},o=function(e,t){return function(r,n){t(r,n,e)}},i=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(e,t,r,n){return new(r=r||Promise)(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((n=n.apply(e,t||[])).next())})},s=function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=0<(o=i.trys).length&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},c=function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||S(t,e,r)},S=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},l=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},u=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},d=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e},p=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n},h=function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},f=function(e){return this instanceof f?(this.v=e,this):new f(e)},g=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o=[],i={};return a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(e){n[e]&&(i[e]=function(t){return new Promise(function(r,n){1<o.push([e,t,r,n])||s(e,t)})})}function s(e,t){try{(r=n[e](t)).value instanceof f?Promise.resolve(r.value.v).then(c,l):u(o[0][2],r)}catch(e){u(o[0][3],e)}var r}function c(e){s("next",e)}function l(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}},m=function(e){var t,r={};return n("next"),n("throw",function(e){throw e}),n("return"),r[Symbol.iterator]=function(){return this},r;function n(n,o){r[n]=e[n]?function(r){return(t=!t)?{value:f(e[n](r)),done:"return"===n}:o?o(r):r}:o}},y=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=l(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,o){var i,a;i=n,n=o,a=(t=e[r](t)).done,o=t.value,Promise.resolve(o).then(function(e){i({value:e,done:a})},n)})}}},v=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var I=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&S(t,e,r);return I(t,e),t},x=function(e){return e&&e.__esModule?e:{default:e}},w=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},E=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r},k("__extends",e),k("__assign",t),k("__rest",r),k("__decorate",n),k("__param",o),k("__metadata",i),k("__awaiter",a),k("__generator",s),k("__exportStar",c),k("__createBinding",S),k("__values",l),k("__read",u),k("__spread",d),k("__spreadArrays",p),k("__spreadArray",h),k("__await",f),k("__asyncGenerator",g),k("__asyncDelegator",m),k("__asyncValues",y),k("__makeTemplateObject",v),k("__importStar",b),k("__importDefault",x),k("__classPrivateFieldGet",w),k("__classPrivateFieldSet",E)})}(),define("lib/i18n-homepage-langs",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isHomepageLanguage=t.homepage_languages=void 0,t.homepage_languages={ar:!0,de:!0,en:!0,es:!0,et:!0,fr:!0,id:!0,it:!0,ja:!0,ko:!0,nl:!0,pl:!0,"pt-BR":!0,ru:!0,"sv-SE":!0,th:!0,tr:!0,vi:!0,"zh-CN":!0,"zh-TW":!0},t.isHomepageLanguage=function(e){return!!t.homepage_languages[e]}}),define("@fluent/bundle",["exports"],function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(e){if(!e)return[];Array.isArray(e)||(e=[e]);for(var r={},n=0;n<e.length;++n){var o=e[n];if(o&&"object"===t(o)&&(o=String(o)),"string"!=typeof o){var i="Locales should be strings, ".concat(JSON.stringify(o)," isn't.");throw new TypeError(i)}if("*"!==o[0]){if(!o.split("-").every(function(e){return/[a-z0-9]+/i.test(e)}))throw i=JSON.stringify(o),i="The locale ".concat(i," is not a structurally valid BCP 47 language tag."),new RangeError(i);r[o]=!0}}return Object.keys(r)}var i=Object.freeze({__proto__:null,default:function(e,t,r){function i(e){do{if(t(e))return e}while(e=e.replace(/-?[^-]*$/,""));return null}var a=function(e){for(var t=o(e),r=0;r<t.length;++r){var n=i(t[r]);if(n)return n}return i("undefined"!=typeof navigator&&navigator&&(navigator.userLanguage||navigator.language)||"en-US")},s=(n(c,null,[{key:"supportedLocalesOf",value:function(e){return o(e).filter(i)}}]),n(c,[{key:"resolvedOptions",value:function(){var e=(i=this._nf.resolvedOptions()).minimumIntegerDigits,t=i.minimumFractionDigits,n=i.maximumFractionDigits,o=i.minimumSignificantDigits,i=i.maximumSignificantDigits;n={locale:this._locale,minimumIntegerDigits:e,minimumFractionDigits:t,maximumFractionDigits:n,pluralCategories:r(this._locale,"ordinal"===this._type),type:this._type};return"number"==typeof o&&(n.minimumSignificantDigits=o,n.maximumSignificantDigits=i),n}},{key:"select",value:function(e){if(!(this instanceof c))throw new TypeError("select() called on incompatible ".concat(this));return"number"!=typeof e&&(e=Number(e)),isFinite(e)?(e=this._nf.format(Math.abs(e)),this._select(e,"ordinal"===this._type)):"other"}}]),c);function c(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")})(this),this._locale=a(r),this._select=t(this._locale),this._type=function(e){if(!e)return"cardinal";if("cardinal"===e||"ordinal"===e)return e;throw new RangeError("Not a valid plural type: "+JSON.stringify(e))}(n.type),this._nf=new e("en",n)}return Object.defineProperty(s,"prototype",{writable:!1}),s}});var a,s,c,l,u,d,p,h=(function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(E.prototype,[{key:"resolvedOptions",value:function(){var e={minimumIntegerDigits:this._minID,minimumFractionDigits:this._minFD,maximumFractionDigits:this._maxFD};return"number"==typeof this._minSD&&(e.minimumSignificantDigits=this._minSD,e.maximumSignificantDigits=this._maxSD),e}},{key:"format",value:function(e){if(this._minSD){for(var t=String(e),r=0,n=0;n<t.length;++n){var o=t[n];"0"<=o&&o<="9"&&++r}return r<this._minSD?e.toPrecision(this._minSD):r>this._maxSD?e.toPrecision(this._maxSD):t}return 0<this._minFD?e.toFixed(this._minFD):0===this._maxFD?e.toFixed(0):String(e)}}]),E),f=function(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),t}(i),g=(c=a={path:void 0,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&a.path)}},a.exports,l=v(f),g=v(h),u=x(function(e,t){function r(e,t){return t||1!=e?"other":"one"}function n(e,t){return t||0!=e&&1!=e?"other":"one"}function o(e,t){var r=!String(e).split(".")[1];return!t&&1==e&&r?"one":"other"}function i(e,t){return"other"}function a(e,t){return t?"other":1==e?"one":2==e?"two":"other"}var s;s={_in:i,af:r,ak:n,am:function(e,t){return!t&&0<=e&&e<=1?"one":"other"},an:r,ar:function(e,t){var r=String(e).split(".");r=Number(r[0])==e&&r[0].slice(-2);return t?"other":0==e?"zero":1==e?"one":2==e?"two":3<=r&&r<=10?"few":11<=r&&r<=99?"many":"other"},ars:function(e,t){var r=String(e).split(".");r=Number(r[0])==e&&r[0].slice(-2);return t?"other":0==e?"zero":1==e?"one":2==e?"two":3<=r&&r<=10?"few":11<=r&&r<=99?"many":"other"},as:function(e,t){return t?1==e||5==e||7==e||8==e||9==e||10==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":0<=e&&e<=1?"one":"other"},asa:r,ast:o,az:function(e,t){var r=String(e).split(".")[0],n=r.slice(-1),o=r.slice(-2),i=r.slice(-3);return t?1==n||2==n||5==n||7==n||8==n||20==o||50==o||70==o||80==o?"one":3==n||4==n||100==i||200==i||300==i||400==i||500==i||600==i||700==i||800==i||900==i?"few":0==r||6==n||40==o||60==o||90==o?"many":"other":1==e?"one":"other"},be:function(e,t){var r=String(e).split("."),n=Number(r[0])==e;e=n&&r[0].slice(-1),r=n&&r[0].slice(-2);return t?2!=e&&3!=e||12==r||13==r?"other":"few":1==e&&11!=r?"one":2<=e&&e<=4&&(r<12||14<r)?"few":n&&0==e||5<=e&&e<=9||11<=r&&r<=14?"many":"other"},bem:r,bez:r,bg:r,bho:n,bm:i,bn:function(e,t){return t?1==e||5==e||7==e||8==e||9==e||10==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":0<=e&&e<=1?"one":"other"},bo:i,br:function(e,t){var r=String(e).split("."),n=Number(r[0])==e,o=n&&r[0].slice(-1),i=n&&r[0].slice(-2);r=n&&r[0].slice(-6);return t?"other":1==o&&11!=i&&71!=i&&91!=i?"one":2==o&&12!=i&&72!=i&&92!=i?"two":(3==o||4==o||9==o)&&(i<10||19<i)&&(i<70||79<i)&&(i<90||99<i)?"few":0!=e&&n&&0==r?"many":"other"},brx:r,bs:function(e,t){var r=(i=String(e).split("."))[0],n=i[1]||"",o=!i[1],i=(e=r.slice(-1),r.slice(-2));r=n.slice(-1),n=n.slice(-2);return t?"other":o&&1==e&&11!=i||1==r&&11!=n?"one":o&&2<=e&&e<=4&&(i<12||14<i)||2<=r&&r<=4&&(n<12||14<n)?"few":"other"},ca:function(e,t){var r=!String(e).split(".")[1];return t?1==e||3==e?"one":2==e?"two":4==e?"few":"other":1==e&&r?"one":"other"},ce:r,ceb:function(e,t){var r=(o=String(e).split("."))[0],n=o[1]||"",o=(e=!o[1],r.slice(-1));n=n.slice(-1);return!t&&(e&&(1==r||2==r||3==r)||e&&4!=o&&6!=o&&9!=o||!e&&4!=n&&6!=n&&9!=n)?"one":"other"},cgg:r,chr:r,ckb:r,cs:function(e,t){var r=(n=String(e).split("."))[0],n=!n[1];return t?"other":1==e&&n?"one":2<=r&&r<=4&&n?"few":n?"other":"many"},cy:function(e,t){return t?0==e||7==e||8==e||9==e?"zero":1==e?"one":2==e?"two":3==e||4==e?"few":5==e||6==e?"many":"other":0==e?"zero":1==e?"one":2==e?"two":3==e?"few":6==e?"many":"other"},da:function(e,t){var r=(n=String(e).split("."))[0],n=Number(n[0])==e;return t||1!=e&&(n||0!=r&&1!=r)?"other":"one"},de:o,dsb:function(e,t){var r=(n=String(e).split("."))[0],n=(e=n[1]||"",!n[1]);r=r.slice(-2),e=e.slice(-2);return t?"other":n&&1==r||1==e?"one":n&&2==r||2==e?"two":n&&(3==r||4==r)||3==e||4==e?"few":"other"},dv:r,dz:i,ee:r,el:r,en:function(e,t){var r=!(i=String(e).split("."))[1],n=Number(i[0])==e,o=n&&i[0].slice(-1),i=n&&i[0].slice(-2);return t?1==o&&11!=i?"one":2==o&&12!=i?"two":3==o&&13!=i?"few":"other":1==e&&r?"one":"other"},eo:r,es:r,et:o,eu:r,fa:function(e,t){return!t&&0<=e&&e<=1?"one":"other"},ff:function(e,t){return!t&&0<=e&&e<2?"one":"other"},fi:o,fil:function(e,t){var r=(i=String(e).split("."))[0],n=i[1]||"",o=!i[1],i=r.slice(-1);n=n.slice(-1);return t?1==e?"one":"other":o&&(1==r||2==r||3==r)||o&&4!=i&&6!=i&&9!=i||!o&&4!=n&&6!=n&&9!=n?"one":"other"},fo:r,fr:function(e,t){return t?1==e?"one":"other":0<=e&&e<2?"one":"other"},fur:r,fy:o,ga:function(e,t){var r=String(e).split(".");r=Number(r[0])==e;return t?1==e?"one":"other":1==e?"one":2==e?"two":r&&3<=e&&e<=6?"few":r&&7<=e&&e<=10?"many":"other"},gd:function(e,t){var r=String(e).split(".");r=Number(r[0])==e;return t?1==e||11==e?"one":2==e||12==e?"two":3==e||13==e?"few":"other":1==e||11==e?"one":2==e||12==e?"two":r&&3<=e&&e<=10||r&&13<=e&&e<=19?"few":"other"},gl:o,gsw:r,gu:function(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":0<=e&&e<=1?"one":"other"},guw:n,gv:function(e,t){var r=(n=String(e).split("."))[0],n=(e=!n[1],r.slice(-1));r=r.slice(-2);return t?"other":e&&1==n?"one":e&&2==n?"two":!e||0!=r&&20!=r&&40!=r&&60!=r&&80!=r?e?"other":"many":"few"},ha:r,haw:r,he:function(e,t){var r=(i=String(e).split("."))[0],n=!i[1],o=Number(i[0])==e,i=o&&i[0].slice(-1);return t?"other":1==e&&n?"one":2==r&&n?"two":n&&(e<0||10<e)&&o&&0==i?"many":"other"},hi:function(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":0<=e&&e<=1?"one":"other"},hr:function(e,t){var r=(i=String(e).split("."))[0],n=i[1]||"",o=!i[1],i=(e=r.slice(-1),r.slice(-2));r=n.slice(-1),n=n.slice(-2);return t?"other":o&&1==e&&11!=i||1==r&&11!=n?"one":o&&2<=e&&e<=4&&(i<12||14<i)||2<=r&&r<=4&&(n<12||14<n)?"few":"other"},hsb:function(e,t){var r=(n=String(e).split("."))[0],n=(e=n[1]||"",!n[1]);r=r.slice(-2),e=e.slice(-2);return t?"other":n&&1==r||1==e?"one":n&&2==r||2==e?"two":n&&(3==r||4==r)||3==e||4==e?"few":"other"},hu:function(e,t){return t?1==e||5==e?"one":"other":1==e?"one":"other"},hy:function(e,t){return t?1==e?"one":"other":0<=e&&e<2?"one":"other"},ia:o,id:i,ig:i,ii:i,io:o,is:function(e,t){var r=(n=String(e).split("."))[0],n=Number(n[0])==e;e=r.slice(-1),r=r.slice(-2);return t||(!n||1!=e||11==r)&&n?"other":"one"},it:function(e,t){var r=!String(e).split(".")[1];return t?11==e||8==e||80==e||800==e?"many":"other":1==e&&r?"one":"other"},iu:a,iw:function(e,t){var r=(i=String(e).split("."))[0],n=!i[1],o=Number(i[0])==e,i=o&&i[0].slice(-1);return t?"other":1==e&&n?"one":2==r&&n?"two":n&&(e<0||10<e)&&o&&0==i?"many":"other"},ja:i,jbo:i,jgo:r,ji:o,jmc:r,jv:i,jw:i,ka:function(e,t){var r=String(e).split(".")[0],n=r.slice(-2);return t?1==r?"one":0==r||2<=n&&n<=20||40==n||60==n||80==n?"many":"other":1==e?"one":"other"},kab:function(e,t){return!t&&0<=e&&e<2?"one":"other"},kaj:r,kcg:r,kde:i,kea:i,kk:function(e,t){var r=String(e).split("."),n=Number(r[0])==e;r=n&&r[0].slice(-1);return t?6==r||9==r||n&&0==r&&0!=e?"many":"other":1==e?"one":"other"},kkj:r,kl:r,km:i,kn:function(e,t){return!t&&0<=e&&e<=1?"one":"other"},ko:i,ks:r,ksb:r,ksh:function(e,t){return t?"other":0==e?"zero":1==e?"one":"other"},ku:r,kw:function(e,t){var r=String(e).split("."),n=Number(r[0])==e,o=n&&r[0].slice(-2),i=n&&r[0].slice(-3),a=n&&r[0].slice(-5);r=n&&r[0].slice(-6);return t?n&&1<=e&&e<=4||1<=o&&o<=4||21<=o&&o<=24||41<=o&&o<=44||61<=o&&o<=64||81<=o&&o<=84?"one":5==e||5==o?"many":"other":0==e?"zero":1==e?"one":2==o||22==o||42==o||62==o||82==o||n&&0==i&&(1e3<=a&&a<=2e4||4e4==a||6e4==a||8e4==a)||0!=e&&1e5==r?"two":3==o||23==o||43==o||63==o||83==o?"few":1==e||1!=o&&21!=o&&41!=o&&61!=o&&81!=o?"other":"many"},ky:r,lag:function(e,t){var r=String(e).split(".")[0];return t?"other":0==e?"zero":0!=r&&1!=r||0==e?"other":"one"},lb:r,lg:r,lkt:i,ln:n,lo:function(e,t){return t&&1==e?"one":"other"},lt:function(e,t){var r=(o=String(e).split("."))[1]||"",n=Number(o[0])==e,o=(e=n&&o[0].slice(-1),n&&o[0].slice(-2));return t?"other":1==e&&(o<11||19<o)?"one":2<=e&&e<=9&&(o<11||19<o)?"few":0!=r?"many":"other"},lv:function(e,t){var r=(a=(i=String(e).split("."))[1]||"").length,n=Number(i[0])==e,o=n&&i[0].slice(-1),i=(e=n&&i[0].slice(-2),a.slice(-2)),a=a.slice(-1);return t?"other":n&&0==o||11<=e&&e<=19||2==r&&11<=i&&i<=19?"zero":1==o&&11!=e||2==r&&1==a&&11!=i||2!=r&&1==a?"one":"other"},mas:r,mg:n,mgo:r,mk:function(e,t){var r=(i=String(e).split("."))[0],n=i[1]||"",o=!i[1],i=(e=r.slice(-1),r.slice(-2));r=n.slice(-1),n=n.slice(-2);return t?1==e&&11!=i?"one":2==e&&12!=i?"two":7!=e&&8!=e||17==i||18==i?"other":"many":o&&1==e&&11!=i||1==r&&11!=n?"one":"other"},ml:r,mn:r,mo:function(e,t){var r=!(n=String(e).split("."))[1],n=Number(n[0])==e&&n[0].slice(-2);return t?1==e?"one":"other":1==e&&r?"one":!r||0==e||2<=n&&n<=19?"few":"other"},mr:function(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":"other":1==e?"one":"other"},ms:function(e,t){return t&&1==e?"one":"other"},mt:function(e,t){var r=String(e).split(".");r=Number(r[0])==e&&r[0].slice(-2);return t?"other":1==e?"one":0==e||2<=r&&r<=10?"few":11<=r&&r<=19?"many":"other"},my:i,nah:r,naq:a,nb:r,nd:r,ne:function(e,t){var r=String(e).split(".");r=Number(r[0])==e;return t?r&&1<=e&&e<=4?"one":"other":1==e?"one":"other"},nl:o,nn:r,nnh:r,no:r,nqo:i,nr:r,nso:n,ny:r,nyn:r,om:r,or:function(e,t){var r=String(e).split(".");r=Number(r[0])==e;return t?1==e||5==e||r&&7<=e&&e<=9?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":1==e?"one":"other"},os:r,osa:i,pa:n,pap:r,pl:function(e,t){var r=(i=String(e).split("."))[0],n=!i[1],o=r.slice(-1),i=r.slice(-2);return t?"other":1==e&&n?"one":n&&2<=o&&o<=4&&(i<12||14<i)?"few":n&&1!=r&&(0==o||1==o)||n&&5<=o&&o<=9||n&&12<=i&&i<=14?"many":"other"},prg:function(e,t){var r=(a=(i=String(e).split("."))[1]||"").length,n=Number(i[0])==e,o=n&&i[0].slice(-1),i=(e=n&&i[0].slice(-2),a.slice(-2)),a=a.slice(-1);return t?"other":n&&0==o||11<=e&&e<=19||2==r&&11<=i&&i<=19?"zero":1==o&&11!=e||2==r&&1==a&&11!=i||2!=r&&1==a?"one":"other"},ps:r,pt:function(e,t){return e=String(e).split(".")[0],t||0!=e&&1!=e?"other":"one"},pt_PT:o,rm:r,ro:function(e,t){var r=!(n=String(e).split("."))[1],n=Number(n[0])==e&&n[0].slice(-2);return t?1==e?"one":"other":1==e&&r?"one":!r||0==e||2<=n&&n<=19?"few":"other"},rof:r,root:i,ru:function(e,t){var r=(n=String(e).split("."))[0],n=(e=!n[1],r.slice(-1));r=r.slice(-2);return t?"other":e&&1==n&&11!=r?"one":e&&2<=n&&n<=4&&(r<12||14<r)?"few":e&&0==n||e&&5<=n&&n<=9||e&&11<=r&&r<=14?"many":"other"},rwk:r,sah:i,saq:r,sc:function(e,t){var r=!String(e).split(".")[1];return t?11==e||8==e||80==e||800==e?"many":"other":1==e&&r?"one":"other"},scn:function(e,t){var r=!String(e).split(".")[1];return t?11==e||8==e||80==e||800==e?"many":"other":1==e&&r?"one":"other"},sd:r,sdh:r,se:a,seh:r,ses:i,sg:i,sh:function(e,t){var r=(i=String(e).split("."))[0],n=i[1]||"",o=!i[1],i=(e=r.slice(-1),r.slice(-2));r=n.slice(-1),n=n.slice(-2);return t?"other":o&&1==e&&11!=i||1==r&&11!=n?"one":o&&2<=e&&e<=4&&(i<12||14<i)||2<=r&&r<=4&&(n<12||14<n)?"few":"other"},shi:function(e,t){var r=String(e).split(".");r=Number(r[0])==e;return t?"other":0<=e&&e<=1?"one":r&&2<=e&&e<=10?"few":"other"},si:function(e,t){var r=(n=String(e).split("."))[0],n=n[1]||"";return t||0!=e&&1!=e&&(0!=r||1!=n)?"other":"one"},sk:function(e,t){var r=(n=String(e).split("."))[0],n=!n[1];return t?"other":1==e&&n?"one":2<=r&&r<=4&&n?"few":n?"other":"many"},sl:function(e,t){e=(r=String(e).split("."))[0];var r=!r[1];e=e.slice(-2);return t?"other":r&&1==e?"one":r&&2==e?"two":r&&(3==e||4==e)||!r?"few":"other"},sma:a,smi:a,smj:a,smn:a,sms:a,sn:r,so:r,sq:function(e,t){var r=String(e).split("."),n=Number(r[0])==e,o=n&&r[0].slice(-1);r=n&&r[0].slice(-2);return t?1==e?"one":4==o&&14!=r?"many":"other":1==e?"one":"other"},sr:function(e,t){var r=(i=String(e).split("."))[0],n=i[1]||"",o=!i[1],i=(e=r.slice(-1),r.slice(-2));r=n.slice(-1),n=n.slice(-2);return t?"other":o&&1==e&&11!=i||1==r&&11!=n?"one":o&&2<=e&&e<=4&&(i<12||14<i)||2<=r&&r<=4&&(n<12||14<n)?"few":"other"},ss:r,ssy:r,st:r,su:i,sv:function(e,t){var r=!(i=String(e).split("."))[1],n=Number(i[0])==e,o=n&&i[0].slice(-1),i=n&&i[0].slice(-2);return t?1!=o&&2!=o||11==i||12==i?"other":"one":1==e&&r?"one":"other"},sw:o,syr:r,ta:r,te:r,teo:r,th:i,ti:n,tig:r,tk:function(e,t){var r=String(e).split(".");r=Number(r[0])==e&&r[0].slice(-1);return t?6==r||9==r||10==e?"few":"other":1==e?"one":"other"},tl:function(e,t){var r=(i=String(e).split("."))[0],n=i[1]||"",o=!i[1],i=r.slice(-1);n=n.slice(-1);return t?1==e?"one":"other":o&&(1==r||2==r||3==r)||o&&4!=i&&6!=i&&9!=i||!o&&4!=n&&6!=n&&9!=n?"one":"other"},tn:r,to:i,tr:r,ts:r,tzm:function(e,t){var r=String(e).split(".");r=Number(r[0])==e;return!t&&(0==e||1==e||r&&11<=e&&e<=99)?"one":"other"},ug:r,uk:function(e,t){var r=(i=String(e).split("."))[0],n=!i[1],o=(e=(o=Number(i[0])==e)&&i[0].slice(-1),o&&i[0].slice(-2)),i=r.slice(-1);r=r.slice(-2);return t?3==e&&13!=o?"few":"other":n&&1==i&&11!=r?"one":n&&2<=i&&i<=4&&(r<12||14<r)?"few":n&&0==i||n&&5<=i&&i<=9||n&&11<=r&&r<=14?"many":"other"},ur:o,uz:r,ve:r,vi:function(e,t){return t&&1==e?"one":"other"},vo:r,vun:r,wa:n,wae:r,wo:i,xh:r,xog:r,yi:o,yo:i,yue:i,zh:i,zu:function(e,t){return!t&&0<=e&&e<=1?"one":"other"}},Object.defineProperty(s,"__esModule",{value:!0}),e.exports=s}),i=b(u),f=Object.freeze(Object.assign(Object.create(null),u,{default:i})),u=b(h=x(function(e,t){var r="zero",n="one",o="two",i="few",a="many",s="other",c={cardinal:[n,s],ordinal:[s]},l={cardinal:[s],ordinal:[s]},u={cardinal:[n,i,a,s],ordinal:[s]},d={cardinal:[n,s],ordinal:[n,s]},p={cardinal:[n,o,s],ordinal:[s]};c={_in:l,af:c,ak:c,am:c,an:c,ar:{cardinal:[r,n,o,i,a,s],ordinal:[s]},ars:{cardinal:[r,n,o,i,a,s],ordinal:[s]},as:{cardinal:[n,s],ordinal:[n,o,i,a,s]},asa:c,ast:c,az:{cardinal:[n,s],ordinal:[n,i,a,s]},be:{cardinal:[n,i,a,s],ordinal:[i,s]},bem:c,bez:c,bg:c,bho:c,bm:l,bn:{cardinal:[n,s],ordinal:[n,o,i,a,s]},bo:l,br:{cardinal:[n,o,i,a,s],ordinal:[s]},brx:c,bs:{cardinal:[n,i,s],ordinal:[s]},ca:{cardinal:[n,s],ordinal:[n,o,i,s]},ce:c,ceb:c,cgg:c,chr:c,ckb:c,cs:u,cy:{cardinal:[r,n,o,i,a,s],ordinal:[r,n,o,i,a,s]},da:c,de:c,dsb:{cardinal:[n,o,i,s],ordinal:[s]},dv:c,dz:l,ee:c,el:c,en:{cardinal:[n,s],ordinal:[n,o,i,s]},eo:c,es:c,et:c,eu:c,fa:c,ff:c,fi:c,fil:d,fo:c,fr:d,fur:c,fy:c,ga:{cardinal:[n,o,i,a,s],ordinal:[n,s]},gd:{cardinal:[n,o,i,s],ordinal:[n,o,i,s]},gl:c,gsw:c,gu:{cardinal:[n,s],ordinal:[n,o,i,a,s]},guw:c,gv:{cardinal:[n,o,i,a,s],ordinal:[s]},ha:c,haw:c,he:{cardinal:[n,o,a,s],ordinal:[s]},hi:{cardinal:[n,s],ordinal:[n,o,i,a,s]},hr:{cardinal:[n,i,s],ordinal:[s]},hsb:{cardinal:[n,o,i,s],ordinal:[s]},hu:d,hy:d,ia:c,id:l,ig:l,ii:l,io:c,is:c,it:{cardinal:[n,s],ordinal:[a,s]},iu:p,iw:{cardinal:[n,o,a,s],ordinal:[s]},ja:l,jbo:l,jgo:c,ji:c,jmc:c,jv:l,jw:l,ka:{cardinal:[n,s],ordinal:[n,a,s]},kab:c,kaj:c,kcg:c,kde:l,kea:l,kk:{cardinal:[n,s],ordinal:[a,s]},kkj:c,kl:c,km:l,kn:c,ko:l,ks:c,ksb:c,ksh:{cardinal:[r,n,s],ordinal:[s]},ku:c,kw:{cardinal:[r,n,o,i,a,s],ordinal:[n,a,s]},ky:c,lag:{cardinal:[r,n,s],ordinal:[s]},lb:c,lg:c,lkt:l,ln:c,lo:{cardinal:[s],ordinal:[n,s]},lt:u,lv:{cardinal:[r,n,s],ordinal:[s]},mas:c,mg:c,mgo:c,mk:{cardinal:[n,s],ordinal:[n,o,a,s]},ml:c,mn:c,mo:{cardinal:[n,i,s],ordinal:[n,s]},mr:{cardinal:[n,s],ordinal:[n,o,i,s]},ms:{cardinal:[s],ordinal:[n,s]},mt:u,my:l,nah:c,naq:p,nb:c,nd:c,ne:d,nl:c,nn:c,nnh:c,no:c,nqo:l,nr:c,nso:c,ny:c,nyn:c,om:c,or:{cardinal:[n,s],ordinal:[n,o,i,a,s]},os:c,osa:l,pa:c,pap:c,pl:u,prg:{cardinal:[r,n,s],ordinal:[s]},ps:c,pt:c,pt_PT:c,rm:c,ro:{cardinal:[n,i,s],ordinal:[n,s]},rof:c,root:l,ru:u,rwk:c,sah:l,saq:c,sc:{cardinal:[n,s],ordinal:[a,s]},scn:{cardinal:[n,s],ordinal:[a,s]},sd:c,sdh:c,se:p,seh:c,ses:l,sg:l,sh:{cardinal:[n,i,s],ordinal:[s]},shi:{cardinal:[n,i,s],ordinal:[s]},si:c,sk:u,sl:{cardinal:[n,o,i,s],ordinal:[s]},sma:p,smi:p,smj:p,smn:p,sms:p,sn:c,so:c,sq:{cardinal:[n,s],ordinal:[n,a,s]},sr:{cardinal:[n,i,s],ordinal:[s]},ss:c,ssy:c,st:c,su:l,sv:d,sw:c,syr:c,ta:c,te:c,teo:c,th:l,ti:c,tig:c,tk:{cardinal:[n,s],ordinal:[i,s]},tl:d,tn:c,to:l,tr:c,ts:c,tzm:c,ug:c,uk:{cardinal:[n,i,a,s],ordinal:[i,s]},ur:c,uz:c,ve:c,vi:{cardinal:[s],ordinal:[n,s]},vo:c,vun:c,wa:c,wae:c,wo:l,xh:c,xog:c,yi:c,yo:l,yue:l,zh:l,zu:c},Object.defineProperty(c,"__esModule",{value:!0}),e.exports=c})),d=i||f,p=u||Object.freeze(Object.assign(Object.create(null),h,{default:u})),g="object"===("undefined"==typeof Intl?"undefined":function(e){return("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(Intl))&&Intl.NumberFormat||g.default,g=l.default(g,function(e){return d[w(e)]},function(e,t){return p[w(e)][t?"ordinal":"cardinal"]}),c.exports=g,(s=a.exports)&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s),m=Intl.PluralRules||g,y=function(e){this.value=e};function v(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function b(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function x(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},r.exports),r.exports}function w(e){return"in"===e?"_in":"pt-PT"===e?"pt_PT":e}function E(e,t){var r=t.minimumIntegerDigits,n=t.minimumFractionDigits,o=t.maximumFractionDigits,i=t.minimumSignificantDigits;t=t.maximumSignificantDigits;!function(e){if(!(e instanceof E))throw new TypeError("Cannot call a class as a function")}(this),this._minID="number"==typeof r?r:1,this._minFD="number"==typeof n?n:0,this._maxFD="number"==typeof o?o:Math.max(this._minFD,3),"number"!=typeof i&&"number"!=typeof t||(this._minSD="number"==typeof i?i:1,this._maxSD="number"==typeof t?t:21)}y.prototype.valueOf=function(){return this.value};var S,k,_,I=((_=y)&&(A.__proto__=_),((A.prototype=Object.create(_&&_.prototype)).constructor=A).prototype.toString=function(e){return"{"+this.value+"}"},A),M=((k=y)&&(C.__proto__=k),((C.prototype=Object.create(k&&k.prototype)).constructor=C).prototype.toString=function(e){try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),this.value.toString(10)}},C),L=((S=y)&&(T.__proto__=S),((T.prototype=Object.create(S&&S.prototype)).constructor=T).prototype.toString=function(e){try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),new Date(this.value).toISOString()}},T);function T(e,t){void 0===t&&(t={}),S.call(this,e),this.opts=t}function C(e,t){void 0===t&&(t={}),k.call(this,e),this.opts=t}function A(e){void 0===e&&(e="???"),_.call(this,e)}function O(e,t,r){return t[r]?N(e,t[r].value):(e.reportError(new RangeError("No default")),new I)}function P(e,t){for(var r=[],n=Object.create(null),o=0,i=t;o<i.length;o+=1){var a=i[o];"narg"===a.type?n[a.name]=D(e,a.value):r.push(D(e,a))}return{positional:r,named:n}}function D(e,t){switch(t.type){case"str":return t.value;case"num":return new M(t.value,{minimumFractionDigits:t.precision});case"var":return function(e){var r,n=t.name;if(e.params){if(!Object.prototype.hasOwnProperty.call(e.params,n))return new I("$"+n);r=e.params[n]}else{if(!e.args||!Object.prototype.hasOwnProperty.call(e.args,n))return e.reportError(new ReferenceError("Unknown variable: $"+n)),new I("$"+n);r=e.args[n]}if(r instanceof y)return r;switch(typeof r){case"string":return r;case"number":return new M(r);case"object":if(r instanceof Date)return new L(r.getTime());default:return e.reportError(new TypeError("Variable type not supported: $"+n+", "+typeof r)),new I("$"+n)}}(e);case"mesg":return function(e){var r=t.name,n=t.attr,o=e.bundle._messages.get(r);if(!o)return e.reportError(new ReferenceError("Unknown message: "+r)),new I(r);if(n){var i=o.attributes[n];return i?N(e,i):(e.reportError(new ReferenceError("Unknown attribute: "+n)),new I(r+"."+n))}return o.value?N(e,o.value):(e.reportError(new ReferenceError("No value: "+r)),new I(r))}(e);case"term":return function(e){var r=t.name,n=t.attr,o=t.args,i="-"+r,a=e.bundle._terms.get(i);return a?n?(r=a.attributes[n])?(e.params=P(e,o).named,r=N(e,r),e.params=null,r):(e.reportError(new ReferenceError("Unknown attribute: "+n)),new I(i+"."+n)):(e.params=P(e,o).named,a=N(e,a.value),e.params=null,a):(e.reportError(new ReferenceError("Unknown term: "+i)),new I(i))}(e);case"func":return function(e){var r=t.name,n=t.args,o=e.bundle._functions[r];if(!o)return e.reportError(new ReferenceError("Unknown function: "+r+"()")),new I(r+"()");if("function"!=typeof o)return e.reportError(new TypeError("Function "+r+"() is not callable")),new I(r+"()");try{var i=P(e,n);return o(i.positional,i.named)}catch(n){return e.reportError(n),new I(r+"()")}}(e);case"select":return function(e){var r=t.selector,n=t.variants,o=t.star,i=D(e,r);if(i instanceof I)return O(e,n,o);for(var a,s,c,l=0,u=n;l<u.length;l+=1){var d=u[l];if(s=i,(c=D(a=e,d.key))===s||c instanceof M&&s instanceof M&&c.value===s.value||s instanceof M&&"string"==typeof c&&c===a.memoizeIntlObject(m,s.opts).select(s.value))return N(e,d.value)}return O(e,n,o)}(e);default:return new I}}function F(e,t){if(e.dirty.has(t))return e.reportError(new RangeError("Cyclic reference")),new I;e.dirty.add(t);for(var r=[],n=e.bundle._useIsolating&&1<t.length,o=0,i=t;o<i.length;o+=1){var a=i[o];if("string"!=typeof a){if(e.placeables++,100<e.placeables)throw e.dirty.delete(t),new RangeError("Too many placeables expanded: "+e.placeables+", max allowed is 100");n&&r.push(""),r.push(D(e,a).toString(e)),n&&r.push("")}else r.push(e.bundle._transform(a))}return e.dirty.delete(t),r.join("")}function N(e,t){return"string"==typeof t?e.bundle._transform(t):F(e,t)}function q(e,t,r){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=r}function R(e,t){for(var r=Object.create(null),n=0,o=Object.entries(e);n<o.length;n+=1){var i=(a=o[n])[0],a=a[1];t.includes(i)&&(r[i]=a.valueOf())}return r}q.prototype.reportError=function(e){if(!this.errors)throw e;this.errors.push(e)},q.prototype.memoizeIntlObject=function(e,t){var r=this.bundle._intls.get(e);r||(r={},this.bundle._intls.set(e,r));var n=JSON.stringify(t);return r[n]||(r[n]=new e(this.bundle.locales,t)),r[n]};var B=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function j(e,t){if((e=e[0])instanceof I)return new I("NUMBER("+e.valueOf()+")");if(e instanceof M||e instanceof L)return new M(e.valueOf(),Object.assign({},e.opts,R(t,B)));throw new TypeError("Invalid argument to NUMBER")}var V=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function U(e,t){if((e=e[0])instanceof I)return new I("DATETIME("+e.valueOf()+")");if(e instanceof M||e instanceof L)return new L(e.valueOf(),Object.assign({},e.opts,R(t,V)));throw new TypeError("Invalid argument to DATETIME")}function G(e,t){this.value=e,this.length=t}(g=function(e,t){void 0===t&&(t={});var r=t.functions,n=t.useIsolating;void 0===n&&(n=!0),void 0===(t=t.transform)&&(t=function(e){return e}),this._terms=new Map,this._messages=new Map,this._intls=new WeakMap,this.locales=Array.isArray(e)?e:[e],this._functions=Object.assign({},{NUMBER:j,DATETIME:U},r),this._useIsolating=n,this._transform=t}).prototype.hasMessage=function(e){return this._messages.has(e)},g.prototype.getMessage=function(e){return this._messages.get(e)},g.prototype.addResource=function(e,t){void 0===t&&(t={});var r=t.allowOverrides;void 0===r&&(r=!1);for(var n=[],o=0;o<e.body.length;o++){var i=e.body[o];i.id.startsWith("-")?!1===r&&this._terms.has(i.id)?n.push(new Error('Attempt to override an existing term: "'+i.id+'"')):this._terms.set(i.id,i):!1===r&&this._messages.has(i.id)?n.push(new Error('Attempt to override an existing message: "'+i.id+'"')):this._messages.set(i.id,i)}return n},g.prototype.formatPattern=function(e,t,r){if(void 0===t&&(t=null),void 0===r&&(r=null),"string"==typeof e)return this._transform(e);var n=new q(this,r,t);try{return F(n,e).toString(n)}catch(e){if(n.errors)return n.errors.push(e),(new I).toString(n);throw e}};var z=/^(-?[a-zA-Z][\w-]*) *= */gm,H=/\.([a-zA-Z][\w-]*) *= */y,W=/\*?\[/y,K=/(-?[0-9]+(?:\.([0-9]+))?)/y,$=/([a-zA-Z][\w-]*)/y,Y=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,X=/^[A-Z][A-Z0-9_-]*$/,Q=/([^{}\n\r]+)/y,J=/([^\\"\n\r]*)/y,Z=/\\([\\"])/y,ee=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,te=/^\n+/,re=/ +$/,ne=/ *\r?\n/g,oe=/( *)$/,ie=/{\s*/y,ae=/\s*}/y,se=/\[\s*/y,ce=/\s*] */y,le=/\s*\(\s*/y,ue=/\s*->\s*/y,de=/\s*:\s*/y,pe=/\s*,?\s*/y,he=/\s+/y;e.FluentBundle=g,e.FluentDateTime=L,e.FluentNumber=M,e.FluentResource=function(e){this.body=[];for(var t=z.lastIndex=0;;){var r=z.exec(e);if(null===r)break;t=z.lastIndex;try{this.body.push(function(e){var t=c(),r=function(){for(var e=Object.create(null);n(H);){var t=s(H),r=c();if(null===r)throw new SyntaxError("Expected attribute value");e[t]=r}return e}();if(null===t&&0===Object.keys(r).length)throw new SyntaxError("Expected message value or attributes");return{id:e,value:t,attributes:r}}(r[1]))}catch(e){if(e instanceof SyntaxError)continue;throw e}}function n(r){return r.lastIndex=t,r.test(e)}function o(r,n){if(e[t]===r)return t++,1;if(n)throw new n("Expected "+r)}function i(e,r){if(n(e))return t=e.lastIndex,1;if(r)throw new r("Expected "+e.toString())}function a(r){r.lastIndex=t;var n=r.exec(e);if(null===n)throw new SyntaxError("Expected "+r.toString());return t=r.lastIndex,n}function s(e){return a(e)[1]}function c(){var r;if(n(Q)&&(r=s(Q)),"{"===e[t]||"}"===e[t])return l(r?[r]:[],1/0);var o=h();return o?r?l([r,o],o.length):(o.value=f(o.value,te),l([o],o.length)):r?f(r,re):null}function l(r,o){for(void 0===r&&(r=[]);;)if(n(Q))r.push(s(Q));else if("{"!==e[t]){if("}"===e[t])throw new SyntaxError("Unbalanced closing brace");var i=h();if(!i)break;r.push(i),o=Math.min(o,i.length)}else r.push(u());var a=r.length-1,c=r[a];"string"==typeof c&&(r[a]=f(c,re));for(var l=[],d=0,p=r;d<p.length;d+=1){var g=p[d];g instanceof G&&(g=g.value.slice(0,g.value.length-o)),g&&l.push(g)}return l}function u(){i(ie,SyntaxError);var r=function r(){if("{"===e[t])return u();if(n(Y)){var o=a(Y),s=o[1],c=o[2],l=o[3];if(void 0===l&&(l=null),"$"===s)return{type:"var",name:c};if(i(le)){if(o=function(){for(var n,o=[];;){switch(e[t]){case")":return t++,o;case void 0:throw new SyntaxError("Unclosed argument list")}o.push((n=void 0,"mesg"===(n=r()).type&&i(de)?{type:"narg",name:n.name,value:d()}:n)),i(pe)}}(),"-"===s)return{type:"term",name:c,attr:l,args:o};if(X.test(c))return{type:"func",name:c,args:o};throw new SyntaxError("Function names must be all upper-case")}return"-"===s?{type:"term",name:c,attr:l,args:[]}:{type:"mesg",name:c,attr:l}}return d()}();if(i(ae))return r;if(i(ue)){var l=function(){for(var e,t=[],r=0;n(W);){o("*")&&(e=r);var a=(l=void 0,i(se,SyntaxError),l=n(K)?p():{type:"str",value:s($)},i(ce,SyntaxError),l),l=c();if(null===l)throw new SyntaxError("Expected variant value");t[r++]={key:a,value:l}}if(0===r)return null;if(void 0===e)throw new SyntaxError("Expected default variant");return{variants:t,star:e}}();return i(ae,SyntaxError),Object.assign({},{type:"select",selector:r},l)}throw new SyntaxError("Unclosed placeable")}function d(){if(n(K))return p();if('"'===e[t])return function(){o('"',SyntaxError);for(var r="";;){if(r+=s(J),"\\"!==e[t]){if(o('"'))return{type:"str",value:r};throw new SyntaxError("Unclosed string literal")}r+=function(){if(n(Z))return s(Z);if(n(ee)){var e=(t=a(ee))[1],t=t[2];return(t=parseInt(e||t,16))<=55295||57344<=t?String.fromCodePoint(t):""}throw new SyntaxError("Unknown escape sequence")}()}}();throw new SyntaxError("Invalid expression")}function p(){var e,t=(e=a(K))[1];return void 0===(e=e[2])&&(e=""),e=e.length,{type:"num",value:parseFloat(t),precision:e}}function h(){var r=t;switch(i(he),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return g(e.slice(r,t))}return" "===e[t-1]&&g(e.slice(r,t))}function f(e,t){return e.replace(t,"")}function g(e){return new G(e.replace(ne,"\n"),e=oe.exec(e)[1].length)}},e.FluentType=y,Object.defineProperty(e,"__esModule",{value:!0})}),define("lib/fluent-bundle-sequence",["require","exports","tslib","@fluent/bundle"],function(e,t,r,n){"use strict";function o(e){this.value=e}Object.defineProperty(t,"__esModule",{value:!0}),t.FluentBundleSequence=t.LocalizableNumericValue=t.RTL_LANGUAGES=void 0,t.RTL_LANGUAGES=["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"],t.LocalizableNumericValue=o;var i=(a.fromSources=function(e,o,i){for(var s=[],c=0,l=e;c<l.length;c++){var u=(p=l[c]).lang,d=p.source,p=u.split("-")[0];(p=new n.FluentBundle(u,r.__assign(r.__assign({},i),{useIsolating:0<=t.RTL_LANGUAGES.indexOf(p)}))).addResource(new n.FluentResource(d),{allowOverrides:!1}),p.addResource(new n.FluentResource('\nl10n-internal-date-day-month-year = {DATETIME($d, month: "short", day: "numeric", year: "numeric")}\nl10n-internal-date-day-month = {DATETIME($d, month: "short", day: "numeric")}\nl10n-internal-time = {DATETIME($d, minute: "numeric", hour: "numeric")}\n      '),{allowOverrides:!1}),s.push(p)}return new a(s,o)},a.prototype.format=function(e,t){for(var r=0,n=this.bundles;r<n.length;r++){var o=n[r];if(o.hasMessage(e)){if(null==(a=o.getMessage(e))||!a.value)return;for(var i=[],a=o.formatPattern(a.value,this.coerceNumericVariables(t),i),s=0,c=i;s<c.length;s++){var l=c[s];this.onError("Error formatting "+e+" for locale "+o.locales.join(",")+": "+l)}return a}}this.onError("Couldn't find message for key "+e+" for locales "+this.getLocales().join(","))},a.prototype.formatDate=function(e,t){return t.showYear?this.format("l10n-internal-date-day-month-year",{d:e}):this.format("l10n-internal-date-day-month",{d:e})},a.prototype.formatTime=function(e){return e=this.format("l10n-internal-time",{d:e}),"en"===this.getLocales()[0]?null==e?void 0:e.toLowerCase():e},a.prototype.hasTranslation=function(e,t){for(var r=0,n=this.bundles;r<n.length;r++){var o=n[r];if(0<=o.locales.indexOf(t))return o.hasMessage(e)}return!1},a.prototype.coerceNumericVariables=function(e){var t,r={};for(t in e){var n=e[t];r[t]=n instanceof o?n.value:"number"==typeof n?""+n:n}return r},a.prototype.getLocales=function(){return this.bundles.reduce(function(e,t){return e.concat(t.locales)},[])},a);function a(e,t){this.bundles=e,this.onError=t}t.FluentBundleSequence=i}),define("lib/i18n-core",["require","exports","text!l10n/all-en-strings.ftl","tslib","underscore","lib/console","./i18n-homepage-langs","./enabled-languages","./fluent-bundle-sequence"],function(e,t,r,n,o,i,a,s,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpack=t.isSupportedLanguage=t.currentLanguage=t.formatWithFluent=t.createDictionaryLookupFunction=t.s=t.raw=t.hasTranslation=t.restrictToHomepageLanguages=t.initFluentData=t.setLanguage=t.locale_dict=void 0;var l="";t.locale_dict={};var u={},d={},p=["ar","hy-AM","hi","tr","xx-XX"];function h(e,t,r){return f(e,null!=t?t:{},null!=r?r:l)}function f(e,t,r){return null==(t=g(r).format(e,function(e){var t,r={};for(t in e){var n=e[t];void 0!==n&&(r[t]=n)}return r}(t)))?(i.warn("Could not format string "+e),""):t}function g(e){var o=d[e];if(!o){t.locale_dict[e]||(t.locale_dict[e]=s.expandLocaleOptionsThoroughly([e]));for(var a=[],l=0,p=t.locale_dict[e];l<p.length;l++){var h=p[l],f=u[h];f&&a.push({lang:h,source:f})}var g={};"xx-XX"===e&&(g.transform=function(e){return e.replace(/[a-z]/gi,"")}),o=d[e]=c.FluentBundleSequence.fromSources(n.__spreadArray(n.__spreadArray([],a),[{lang:"en",source:r}]),function(e){i.warn(e)},g)}return o}t.setLanguage=function(e){l=e||""},t.initFluentData=function(e){for(var t in e)delete d[t],u[t]=e[t]},t.restrictToHomepageLanguages=function(){for(var e in s.ENABLED_LANGUAGES)a.isHomepageLanguage(e)||delete s.ENABLED_LANGUAGES[e]},t.hasTranslation=function(e,t){return g(t=null!=t?t:l).hasTranslation(e,t)},t.raw=function(e,t){if(t)for(var r in t)t.hasOwnProperty(r)&&(e=e.split("__"+r+"__").join(t[r]));return e},t.s=h,t.createDictionaryLookupFunction=function(e){return function(t,r){return f(t,null!=r?r:{},e())}},t.formatWithFluent=f,t.currentLanguage=function(){return l},t.isSupportedLanguage=function(e){return s.ENABLED_LANGUAGES.hasOwnProperty(e)||o.contains(p,e)},t.unpack=function e(t,r){if(null==t)return"";if("string"==typeof t)return t;if("number"==typeof t)return""+t;var n,o=t.vars;if(o)for(var i in n={},o)o.hasOwnProperty(i)&&(n[i]=e(o[i],r));return h(t.key,n,r)}}),define("lib/i18n",["require","exports","config","jquery","lib/console","./enabled-languages","./i18n-core","./i18n-core"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchLanguage=t.detectLanguage=t.locale_dict=t.unpack=t.currentLanguage=t.createDictionaryLookupFunction=t.s=t.raw=t.hasTranslation=t.restrictToHomepageLanguages=void 0,Object.defineProperty(t,"restrictToHomepageLanguages",{enumerable:!0,get:function(){return s.restrictToHomepageLanguages}}),Object.defineProperty(t,"hasTranslation",{enumerable:!0,get:function(){return s.hasTranslation}}),Object.defineProperty(t,"raw",{enumerable:!0,get:function(){return s.raw}}),Object.defineProperty(t,"s",{enumerable:!0,get:function(){return s.s}}),Object.defineProperty(t,"createDictionaryLookupFunction",{enumerable:!0,get:function(){return s.createDictionaryLookupFunction}}),Object.defineProperty(t,"currentLanguage",{enumerable:!0,get:function(){return s.currentLanguage}}),Object.defineProperty(t,"unpack",{enumerable:!0,get:function(){return s.unpack}});var c="undefined"!=typeof Desmos&&Desmos.localeData?Desmos.localeData:{};function l(){for(var e=i.expandLocaleOptionsThoroughly([r.get("language"),navigator.userLanguage,navigator.language]),t=0;t<e.length;t++){var n=e[t];if(a.isSupportedLanguage(n))return n}return"en"}t.locale_dict={},t.detectLanguage=l,t.fetchLanguage=function(e){var t=n.Deferred();if("undefined"==typeof Desmos)return t.reject(),t.promise();if(Desmos.supportedLanguages||(Desmos.supportedLanguages=[]),0<=Desmos.supportedLanguages.indexOf(e)||"en"===e||"xx-XX"===e)return a.setLanguage(e),t.resolve(!0),t.promise();if(!a.isSupportedLanguage(e)){var r,s=-1!==e.indexOf("-")?e.split("-")[0]:e;for(r in i.ENABLED_LANGUAGES)if(s===r.split("-")[0]&&i.ENABLED_LANGUAGES[r].useAsRoot){e=r;break}}return n.get("/api/v1/calculator/language/"+e+".ftl",function(r){Desmos.localeData||(Desmos.localeData={}),Desmos.supportedLanguages||(Desmos.supportedLanguages=[]),Desmos.localeData[e]=r[e],Desmos.supportedLanguages.push(e),a.initFluentData(Desmos.localeData),a.setLanguage(e),t.resolve(!0)}).fail(function(r){404===r.status&&o.warn(e+" is not an available language."),t.reject()}),t.promise()},a.initFluentData(c),a.setLanguage(l())}),define("pjs",[],function(){return n={}.hasOwnProperty,function o(i,a){function s(){var e=new c;return t(e.init)&&e.init.apply(e,arguments),e}function c(){}void 0===a&&(a=i,i=Object),s.Bare=c;var l,u=r.prototype=i.prototype,d=c.prototype=s.prototype=new r;return(d.constructor=s).mixin=function(e){return c.prototype=s.prototype=o(s,e).prototype,s},(s.open=function(r){if(l={},t(r)?l=r.call(s,d,u,s,i):e(r)&&(l=r),e(l))for(var o in l)n.call(l,o)&&(d[o]=l[o]);return t(d.init)||(d.init=i),s})(a)};function e(e){return"object"==typeof e}function t(e){return"function"==typeof e}function r(){}var n}),define("underscore_model",["require","underscore","pjs"],function(e){var t=e("underscore");return{UnderscoreModel:e("pjs")(function(e){var r=0,n="guid_"+Math.round(1e6*Math.random())+"_"+(new Date).getTime()+"_";e.init=function(){this.__observers={},this.__eventObservers={},this.__oldProperties={},this.__propertyComparators={},this.guid=n+ ++r},e.unobserveAll=function(){this.__observers={},this.__eventObservers={}},e.getProperty=function(e){return this[e]},e.getOldProperty=function(e){return this.__oldProperties[e]},e.setProperty=function(e,r){var n=this[e];this[e]=r;var o=this.__propertyComparators[e];if(o){if(o(n,r))return}else if(t.isEqual(n,r))return;this.__oldProperties[e]=n,this.notifyPropertyChange(e)},e.setProperties=function(e){for(var t in e)e.hasOwnProperty(t)&&this.setProperty(t,e[t])},e.setPropertyComparator=function(e,t){this.__propertyComparators[e]=t},e.notifyPropertyChange=function(e){this.__callObservers(this.__observers,e,this)},e.observe=function(e,t){this.__addObservers(this.__observers,e,t)},e.unobserve=function(e){this.__removeObservers(this.__observers,e)},e.observeAndSync=function(e,t){this.observe(e,t);for(var r=e.split(" "),n=0;n<r.length;n++){var o=r[n].split(".")[0];this.hasOwnProperty(o)&&t(o,this)}},e.triggerEvent=function(e,t){this.__callObservers(this.__eventObservers,e,t)},e.observeEvent=function(e,t){this.__addObservers(this.__eventObservers,e,t)},e.unobserveEvent=function(e){this.__removeObservers(this.__eventObservers,e)},e.__callObservers=function(e,t,r){var n=e[t];if(n)for(var o=0;o<n.length;o++)n[o].callback(t,r)},e.__removeObservers=function(e,t){for(var r=t.split(" "),n=0;n<r.length;n++){var o=r[n].split("."),i=o[0],a=o[1];if(i&&a){var s=e[i],c=[];if(s){for(var l=0;l<s.length;l++){var u=s[l];u.namespace!==a&&c.push(u)}e[i]=c}}else if(i)delete e[i];else if(a)for(i in e)e.hasOwnProperty(i)&&this.__removeObservers(e,i+"."+a)}},e.__addObservers=function(e,t,r){for(var n=t.split(" "),o=0;o<n.length;o++){var i=(a=n[o].split("."))[0];if(!i)throw"Must supply a property to observe";var a,s={namespace:a[1],callback:r};(a=e[i])?a.push(s):e[i]=[s]}}})}}),define("core/lib/worker-i18n",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.s=void 0,t.s=function(e,t){return{key:e,vars:t}}}),define("main/backend",["require","exports","jquery"],function(e,t,r){"use strict";function n(e){return function(t){t&&t.responseJSON&&(t=t.responseJSON),!0===t.success?e.resolve():(t=(t&&t.errors||[]).map(function(e){return e.message}),e.reject(t[0]||"Internal Server Error"))}}function o(e){if(e&&e.routeDeprecated){e.js&&new Function(e.js)();var t=r.Deferred();return t.reject(e),t.promise()}return e}function i(e,n){return r.ajax({dataType:"json",url:t.baseURL+e,xhrFields:{withCredentials:!0},data:n}).then(o)}Object.defineProperty(t,"__esModule",{value:!0}),t.getJSON=t.postJSON=t.post=t.handleDeprecatedRoute=t.exchangeAppleAuth=t.exchangeGoogleAuthCode=t.getAppleLoginURL=t.getGoogleLoginURL=t.baseURL=void 0,t.baseURL="",t.getGoogleLoginURL=function(e){void 0===e&&(e={});var r="?source="+(e.fromUI||"");return e.teacher&&(r+="&teacher=true"),t.baseURL+"/drive_api/calculator/login"+r},t.getAppleLoginURL=function(e){void 0===e&&(e={});var r="?source="+(e.fromUI||"");return e.teacher&&(r+="&teacher=true"),t.baseURL+"/apple_api/calculator/login"+r},t.exchangeGoogleAuthCode=function(e){var t=r.Deferred();return e?i("/account/google_auth?code="+e).always(n(t)):setTimeout(function(){t.reject("no auth code")},1),t.promise()},t.exchangeAppleAuth=function(e){var t=r.Deferred(),o=e&&e.jwt,a=e&&e.name||"";return e&&o?i("/account/apple_auth?name="+encodeURIComponent(a)+"&jwt="+encodeURIComponent(o)).always(n(t)):setTimeout(function(){t.reject("no auth code")},1),t.promise()},t.handleDeprecatedRoute=o,t.post=function(e,n){return r.ajax({type:"POST",url:t.baseURL+e,headers:{Accept:"application/json, text/javascript, */*; q=0.01"},data:n,xhrFields:{withCredentials:!0}}).then(o)},t.postJSON=function(e,n){return r.ajax({type:"POST",contentType:"application/json",url:t.baseURL+e,headers:{Accept:"application/json, text/javascript, */*; q=0.01"},data:JSON.stringify(n||null),xhrFields:{withCredentials:!0}}).then(o)},t.getJSON=i}),define("main/graph",["require","pjs","underscore_model","core/lib/worker-i18n","main/backend"],function(e){"use strict";var t=e("pjs"),r=e("underscore_model").UnderscoreModel,n=e("core/lib/worker-i18n"),o=e("main/backend"),i=t(r,function(e,t){var r=["title","thumbURL","stateURL","hash","parentHash","recovery","recoveryParentHash","graphData","access","created","example","draft","easterEgg"];e.init=function(e){t.init.call(this);var n=this;e&&r.forEach(function(t){e.hasOwnProperty(t)&&n.setProperty(t,e[t])}),this.access||this.setProperty("access","all"),this.example||this.setProperty("example",!1),this.draft||this.setProperty("draft",!1),this.now=new Date},e.copy=function(){return i(this)},e.getCollectionKey=function(){var e="";return this.example?e="example-":this.draft&&(e="draft-"),e+this.hash},e.displayDate=function(){var e=(Date.now()-this.created)/1e3/60,t=e/60,r=t/24,o=r/7,i=[n.s("account-shell-label-month-jan"),n.s("account-shell-label-month-feb"),n.s("account-shell-label-month-mar"),n.s("account-shell-label-month-apr"),n.s("account-shell-label-month-may"),n.s("account-shell-label-month-jun"),n.s("account-shell-label-month-jul"),n.s("account-shell-label-month-aug"),n.s("account-shell-label-month-sep"),n.s("account-shell-label-month-oct"),n.s("account-shell-label-month-nov"),n.s("account-shell-label-month-dec")];return 5<=o?n.s("account-shell-label-created-on-date",{month:i[this.created.getMonth()],day:this.created.getDate(),year:this.created.getFullYear()}):2<=o?n.s("account-shell-label-created-weeks-ago",{number:String(Math.floor(o))}):7<=r?n.s("account-shell-label-created-last-week"):2<=r?n.s("account-shell-label-created-days-ago",{number:String(Math.floor(r))}):24<=t?n.s("account-shell-label-created-yesterday"):2<=t?n.s("account-shell-label-created-hours-ago",{number:String(Math.floor(t))}):60<=e?n.s("account-shell-label-created-one-hour-ago"):2<=e?n.s("account-shell-label-created-minutes-ago",{number:String(Math.floor(e))}):1<=e?n.s("account-shell-label-created-one-minute-ago"):n.s("account-shell-label-created-seconds-ago")},e.plainObject=function(){var e={},t=this;return r.forEach(function(r){e[r]=t[r]}),e},e.getURL=function(){if("file:"===window.location.protocol){var e="/calculator";if(!o.baseURL)return e;t=o.baseURL+e}else{e="/"+document.location.pathname.split("/")[1];var t=window.location.href.split(e)[0]+e}return t+(this.hash&&!this.recovery?"/"+this.hash:"")}});return i.fromAjax=function(e){return i({title:e.title,thumbURL:e.thumbUrl,stateURL:e.stateUrl,graphData:e.state,hash:e.hash,parentHash:e.parent_hash,recoveryParentHash:e.recovery_parent_hash,access:e.access,created:new Date(e.created),example:!!e.example,draft:!!e.draft,easterEgg:e.easterEgg})},i.toAjax=function(e){return{title:e.title,thumbUrl:e.thumbURL,stateUrl:e.stateURL,state:e.graphData,hash:e.hash,parent_hash:e.parentHash,recovery_parent_hash:e.recoveryParentHash,access:e.access,created:e.created.toString()}},i.updateFromSync=function(e,t){e.setProperty("title",t.title),e.setProperty("hash",t.hash),e.setProperty("parentHash",t.parent_hash),e.setProperty("recoveryParentHash",t.recovery_parent_hash),e.setProperty("graphData",e.graphData),e.setProperty("thumbURL",t.thumbUrl),e.setProperty("stateURL",t.stateUrl),e.setProperty("created",new Date(t.created))},i}),define("text!example_graphs",[],function(){return'[{"hash":"2rnqgoa6a4","parent_hash":"89ndqgh5id","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/2rnqgoa6a4.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/2rnqgoa6a4","title":"graphing-calculator-label-example-graph-lines-slope-intercept-form","access":"all","created":"Tue, 18 Aug 2015 19:24:05 GMT","example":true},{"hash":"onfy0dzx2o","parent_hash":"kha6fgxhaf","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/onfy0dzx2o.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/onfy0dzx2o","title":"graphing-calculator-label-example-graph-lines-point-slope-form","access":"all","created":"Tue, 18 Aug 2015 20:21:16 GMT","example":true},{"hash":"md6buy4efz","parent_hash":"fi71u8ej0q","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/md6buy4efz.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/md6buy4efz","title":"graphing-calculator-label-example-graph-lines-two-point-form","access":"all","created":"Tue, 18 Aug 2015 20:21:39 GMT","example":true},{"hash":"zukjgk9iry","parent_hash":"jv9fmw2qz8","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/zukjgk9iry.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/zukjgk9iry","title":"graphing-calculator-label-example-graph-parabolas-standard-form","access":"all","created":"Tue, 18 Aug 2015 20:22:02 GMT","example":true},{"hash":"8keeh1pt5l","parent_hash":"klodq5d0ph","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/8keeh1pt5l.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/8keeh1pt5l","title":"graphing-calculator-label-example-graph-parabolas-vertex-form","access":"all","created":"Tue, 18 Aug 2015 20:22:22 GMT","example":true},{"hash":"dxkknajdqb","parent_hash":"t6auzqijzl","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/dxkknajdqb.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/dxkknajdqb","title":"graphing-calculator-label-example-graph-parabolas-standard-form-plus-tangent","access":"all","created":"Tue, 18 Aug 2015 20:24:05 GMT","example":true},{"hash":"kihjluohq9","parent_hash":"vpnnmvncdb","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/kihjluohq9.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/kihjluohq9","title":"graphing-calculator-label-example-graph-trig-period-and-amplitude","access":"all","created":"Tue, 18 Aug 2015 20:24:32 GMT","example":true},{"hash":"l3u8133jwj","parent_hash":"51d9lso1ia","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/l3u8133jwj.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/l3u8133jwj","title":"graphing-calculator-label-example-graph-trig-phase","access":"all","created":"Tue, 18 Aug 2015 20:24:53 GMT","example":true},{"hash":"7eeumgl7it","parent_hash":"7rnv0erick","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/7eeumgl7it.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/7eeumgl7it","title":"graphing-calculator-label-example-graph-trig-wave-interference","access":"link","created":"Tue, 03 Dec 2019 18:14:54 GMT","example":true},{"hash":"qmzx2skkzy","parent_hash":"s9myfmvujr","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/qmzx2skkzy.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/qmzx2skkzy","title":"graphing-calculator-label-example-graph-trig-unit-circle","access":"all","created":"Tue, 18 Aug 2015 20:26:18 GMT","example":true},{"hash":"ivud1auwvw","parent_hash":"8dsmqe5ycc","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/ivud1auwvw.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/ivud1auwvw","title":"graphing-calculator-label-example-graph-conic-sections-circle","access":"all","created":"Tue, 18 Aug 2015 20:27:04 GMT","example":true},{"hash":"djcrjdfiif","parent_hash":"0jwlvn9hcs","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/djcrjdfiif.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/djcrjdfiif","title":"graphing-calculator-label-example-graph-conic-sections-parabola-and-focus","access":"all","created":"Tue, 18 Aug 2015 20:27:50 GMT","example":true},{"hash":"afja7ee9mh","parent_hash":"duajwxdopa","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/afja7ee9mh.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/afja7ee9mh","title":"graphing-calculator-label-example-graph-conic-sections-ellipse-with-foci","access":"all","created":"Tue, 18 Aug 2015 20:28:08 GMT","example":true},{"hash":"vgfqbejegx","parent_hash":"k6xcbueze5","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/vgfqbejegx.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/vgfqbejegx","title":"graphing-calculator-label-example-graph-conic-sections-hyperbola","access":"all","created":"Tue, 18 Aug 2015 20:28:27 GMT","example":true},{"hash":"0ovfwwmfrb","parent_hash":"scuci1750d","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/0ovfwwmfrb.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/0ovfwwmfrb","title":"graphing-calculator-label-example-graph-polar-rose","access":"all","created":"Tue, 18 Aug 2015 20:28:48 GMT","example":true},{"hash":"qlbdlxyrza","parent_hash":"nicremwert","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/qlbdlxyrza.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/qlbdlxyrza","title":"graphing-calculator-label-example-graph-polar-logarithmic-spiral","access":"all","created":"Tue, 18 Aug 2015 20:29:08 GMT","example":true},{"hash":"rayzacuktw","parent_hash":"21pbohd07u","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/rayzacuktw.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/rayzacuktw","title":"graphing-calculator-label-example-graph-polar-limacon","access":"all","created":"Tue, 18 Aug 2015 20:29:25 GMT","example":true},{"hash":"gxnu7fbgks","parent_hash":"kk3axf8oon","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/gxnu7fbgks.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/gxnu7fbgks","title":"graphing-calculator-label-example-graph-polar-conic-sections","access":"link","created":"Tue, 18 Aug 2015 20:29:42 GMT","example":true},{"hash":"rnyjcjpouf","parent_hash":"ogvj2tzgjj","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/rnyjcjpouf.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/rnyjcjpouf","title":"graphing-calculator-label-example-graph-parametric-introduction","access":"all","created":"Tue, 18 Aug 2015 20:30:31 GMT","example":true},{"hash":"eg5he4xpg9","parent_hash":"pwjl3pe4da","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/eg5he4xpg9.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/eg5he4xpg9","title":"graphing-calculator-label-example-graph-parametric-cycloid","access":"link","created":"Tue, 18 Aug 2015 20:30:46 GMT","example":true},{"hash":"nyterjs0uf","parent_hash":"nqxx2mhknn","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/nyterjs0uf.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/nyterjs0uf","title":"graphing-calculator-label-example-graph-transformations-translating-a-function","access":"link","created":"Fri, 29 Sep 2017 00:47:36 GMT","example":true},{"hash":"vdkjrpznnu","parent_hash":"doxva7ciht","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/vdkjrpznnu.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/vdkjrpznnu","title":"graphing-calculator-label-example-graph-transformations-scaling-a-function","access":"link","created":"Tue, 18 Aug 2015 21:23:20 GMT","example":true},{"hash":"fcjhdt1xdw","parent_hash":"tif5liedlj","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/fcjhdt1xdw.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/fcjhdt1xdw","title":"graphing-calculator-label-example-graph-transformations-inverse-of-a-function","access":"link","created":"Tue, 18 Aug 2015 21:23:36 GMT","example":true},{"hash":"jwquvmikhr","parent_hash":"2l0r87hkmq","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/jwquvmikhr.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/jwquvmikhr","title":"graphing-calculator-label-example-graph-stats-linear-regression","access":"link","created":"Tue, 18 Aug 2015 21:24:01 GMT","example":true},{"hash":"qrdbrcfnsl","parent_hash":"paknt6oneh","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/qrdbrcfnsl.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/qrdbrcfnsl","title":"graphing-calculator-label-example-graph-stats-anscombes-quartet","access":"link","created":"Mon, 13 Jul 2020 20:40:16 GMT","example":true},{"hash":"sanlujpfmc","parent_hash":"tyszvsmelo","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/sanlujpfmc.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/sanlujpfmc","title":"graphing-calculator-label-example-graph-stats-fourth-order-polynomial","access":"all","created":"Tue, 18 Aug 2015 21:25:02 GMT","example":true},{"hash":"iwfjdrhdyr","parent_hash":"4n11jtzki0","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/iwfjdrhdyr.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/iwfjdrhdyr","title":"graphing-calculator-label-example-graph-lists-family-of-sin-curves","access":"link","created":"Tue, 18 Aug 2015 21:25:30 GMT","example":true},{"hash":"ib4qkln029","parent_hash":"1flkupc1yt","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/ib4qkln029.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/ib4qkln029","title":"graphing-calculator-label-example-graph-lists-curve-stitching","access":"link","created":"Thu, 05 May 2016 06:33:59 GMT","example":true},{"hash":"zdv2kras4n","parent_hash":"fqhp5hq3ka","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/zdv2kras4n.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/zdv2kras4n","title":"graphing-calculator-label-example-graph-lists-plotting-a-list-of-points","access":"link","created":"Tue, 18 Aug 2015 21:27:01 GMT","example":true},{"hash":"qtzamwcdrk","parent_hash":"aqgbwm3qfd","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/qtzamwcdrk.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/qtzamwcdrk","title":"graphing-calculator-label-example-graph-calculus-derivatives","access":"link","created":"Tue, 18 Aug 2015 21:27:17 GMT","example":true},{"hash":"mekfho0w38","parent_hash":"irip8pnpdf","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/mekfho0w38.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/mekfho0w38","title":"graphing-calculator-label-example-graph-calculus-secant-line","access":"link","created":"Tue, 18 Aug 2015 21:27:32 GMT","example":true},{"hash":"fs3lx8gptb","parent_hash":"dlzhsldcgo","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/fs3lx8gptb.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/fs3lx8gptb","title":"graphing-calculator-label-example-graph-calculus-tangent-line","access":"link","created":"Tue, 18 Aug 2015 21:27:46 GMT","example":true},{"hash":"noanuckuli","parent_hash":"gkjridbqfj","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/noanuckuli.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/noanuckuli","title":"graphing-calculator-label-example-graph-calculus-taylor-expansion-of-sin-x","access":"link","created":"Tue, 18 Aug 2015 21:28:02 GMT","example":true},{"hash":"qigfpckugc","parent_hash":null,"thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/qigfpckugc.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/qigfpckugc","title":"graphing-calculator-label-example-graph-calculus-integrals","access":"link","created":"Tue, 19 Apr 2016 14:03:33 GMT","example":true},{"hash":"u2qz73ufju","parent_hash":"o3pwn3vkgh","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/u2qz73ufju.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/u2qz73ufju","title":"graphing-calculator-label-example-graph-calculus-integral-with-adjustable-bounds","access":"link","created":"Tue, 19 Apr 2016 14:12:40 GMT","example":true},{"hash":"gaa5aqyb5s","parent_hash":null,"thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/gaa5aqyb5s.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/gaa5aqyb5s","title":"graphing-calculator-label-example-graph-calculus-fundamental-theorem-of-calculus","access":"link","created":"Tue, 19 Apr 2016 14:15:45 GMT","example":true},{"hash":"8hxtdephtf","parent_hash":"xova2bfhj5","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/8hxtdephtf.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/8hxtdephtf","title":"graphing-calculator-label-example-graph-pac-man","access":"link","created":"Mon, 20 Apr 2015 14:47:01 GMT","example":true,"easterEgg":"betchacant"},{"hash":"qbaliml2om","parent_hash":"8mmk4hrmqg","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/qbaliml2om.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/qbaliml2om","title":"graphing-calculator-label-example-graph-pride-flag","access":"link","created":"Wed, 02 Jun 2021 01:46:57 GMT","example":true,"easterEgg":"pride"},{"hash":"ieellz6qbr","parent_hash":"velayq9vsr","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/ieellz6qbr.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/ieellz6qbr","title":"graphing-calculator-label-example-graph-pride-flag","access":"link","created":"Wed, 02 Jun 2021 01:51:23 GMT","example":true,"easterEgg":"pride"},{"hash":"dhzndt8brx","parent_hash":"brei8peg52","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/dhzndt8brx.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/dhzndt8brx","title":"graphing-calculator-label-example-graph-3d-world","access":"link","created":"Fri, 03 Jun 2016 01:50:06 GMT","example":true,"easterEgg":"betchacant"},{"hash":"zzhx3zzlns","parent_hash":"ccmfndxptv","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/zzhx3zzlns.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/zzhx3zzlns","title":"graphing-calculator-label-example-graph-checkerboard-inversion","access":"link","created":"Thu, 02 Jun 2016 22:06:08 GMT","example":true,"easterEgg":"betchacant"},{"hash":"c1u72uowae","parent_hash":null,"thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/c1u72uowae.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/c1u72uowae","title":"graphing-calculator-label-example-graph-regular-sine-wave","access":"link","created":"Sun, 18 Aug 2013 06:25:20 GMT","example":true,"easterEgg":"betchacant"},{"hash":"2mwse3jtff","parent_hash":"msmdonti4c","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/2mwse3jtff.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/2mwse3jtff","title":"graphing-calculator-label-example-graph-fastest-path-to-a-point","access":"link","created":"Thu, 02 Jun 2016 22:02:44 GMT","example":true,"easterEgg":"betchacant"},{"hash":"8ytrg3nyln","parent_hash":"d7qrsg2hxg","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/8ytrg3nyln.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/8ytrg3nyln","title":"graphing-calculator-label-example-graph-fireworks","access":"link","created":"Fri, 03 Jun 2016 01:50:52 GMT","example":true,"easterEgg":"betchacant"},{"hash":"9ed6k6wexp","parent_hash":"9ed6k6wexp","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/9qixqdozzh.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/9ed6k6wexp","title":"graphing-calculator-label-example-graph-fractal-valentine","access":"link","created":"Sat, 14 Feb 2015 18:42:18 GMT","example":true,"easterEgg":"betchacant"},{"hash":"am6ab20tmw","parent_hash":"hvycjwscfq","thumbUrl":"https://saved-work.desmos.com/calc_thumbs/production/am6ab20tmw.png","stateUrl":"https://saved-work.desmos.com/calc-states/production/am6ab20tmw","title":"graphing-calculator-label-example-graph-outstretched-arm","access":"link","created":"Fri, 03 Jun 2016 01:45:50 GMT","example":true,"easterEgg":"betchacant"}]\n'});var __extends=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};!function(){var e=-1,t=Math.min,r=Math.max;function n(){}function o(e,t){if(!t)throw new Error("prayer failed: "+e)}function i(t){o("a direction was passed",t===e||1===t)}function a(e){var t=document.implementation.createHTMLDocument("");if(t.body.innerHTML=e,1===t.body.children.length)return t.body.children[0];for(var r=document.createDocumentFragment();t.body.firstChild;)r.appendChild(t.body.firstChild);return r}new URLSearchParams(window.location.search);var s=function(e,t,r){var n,o;switch(e){case"svg":case"path":n=document.createElementNS("http://www.w3.org/2000/svg",e);break;default:n=document.createElement(e)}for(o in t){var i=t[o];void 0!==i&&n.setAttribute(o,"string"==typeof i?i:String(i))}if(r)for(var a=0;a<r.length;a++)n.appendChild(r[a]);return n};function c(e){return e.getClientRects().length?e.getBoundingClientRect():{top:0,left:0,height:0,width:0,x:0,y:0,bottom:0,right:0}}s.text=function(e){return document.createTextNode(e)},s.block=function(e,t,r){return t=s(e,t,[r.html()]),r.setDOM(t),E.linkElementByBlockNode(t,r),t},s.entityText=function(e){return o("entity parses to a single text node",(e=a(e))instanceof DocumentFragment&&1===e.childNodes.length&&e.childNodes[0]instanceof Text),e.childNodes[0]};var l,u,d=(u="function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(l=requestAnimationFrame,cancelAnimationFrame):(l=function(e){return setTimeout(e,13)},clearTimeout),function(e,t){var r,n=Date.now(),o=0;function i(){var r=(Date.now()-n)/e;r<=o?s():o=r,t(o,s,a)}function a(){void 0!==r&&u(r),r=void 0}function s(){a(),r=l(i)}t(e<=0?1:0,s,a)}),p=(g.prototype.attach=function(){var e=this.controller.container;this.span.parentNode!==e&&h(e).prepend(h(this.span))},g.prototype.queue=function(e,t){void 0===t&&(t=!1);var r,n="";return e instanceof ve?(r=e.mathspeak({ignoreShorthand:!0}),t&&(e.parent&&e.parent.ariaLabel&&"block"===e.ariaLabel?n=e.parent.ariaLabel+" "+r:e.ariaLabel&&(n=e.ariaLabel+" "+r)),""===n&&(n=r)):n=e||"",this.items.push(n),this},g.prototype.queueDirOf=function(t){return i(t),this.queue(t===e?"before":"after")},g.prototype.queueDirEndOf=function(t){return i(t),this.queue(t===e?"beginning of":"end of")},g.prototype.alert=function(e){return this.attach(),e&&this.queue(e),this.items.length&&(this.msg=this.items.join(" ").replace(/ +(?= )/g,"").trim(),this.controller.containerHasFocus()&&(this.span.textContent=this.msg)),this.clear()},g.prototype.clear=function(){return this.items.length=0,this},g),h=(f.create=function(e,t){1===arguments.length&&(t=e),o("No half-empty DOMFragments",!!e==!!t);var r=new f(e,t);return o("last is a forward sibling of first",r.isValid()),r},f.prototype.isEmpty=function(){return void 0===this.ends},f.prototype.isOneNode=function(){return!(!this.ends||this.ends[e]!==this.ends[1])},f.prototype.isValid=function(){return!this.ends||this.ends[e]===this.ends[1]||(this.eachNode(function(e){return t=e}),t===this.ends[1]);var t},f.prototype.firstNode=function(){return o("Fragment is not empty",this.ends),this.ends[e]},f.prototype.lastNode=function(){return o("Fragment is not empty",this.ends),this.ends[1]},f.prototype.children=function(){var e=(t=this.oneNode()).firstChild,t=t.lastChild;return e&&t?new f(e,t):new f},f.prototype.join=function(t){if(!this.ends)return t;if(!t.ends)return this;for(var r=!1,n=this.ends[1].nextSibling;n;){if(n===t.ends[e]){r=!0;break}n=n.nextSibling}return o("sibling must be a forward DOM sibling of this fragment",r),new f(this.ends[e],t.ends[1])},f.prototype.oneNode=function(){return o("Fragment has a single node",this.ends&&this.ends[e]===this.ends[1]),this.ends[e]},f.prototype.oneElement=function(){var e=this.oneNode();return o("Node is an Element",e.nodeType===Node.ELEMENT_NODE),e},f.prototype.oneText=function(){var e=this.oneNode();return o("Node is Text",e.nodeType===Node.TEXT_NODE),e},f.prototype.eachNode=function(t){if(!this.ends)return this;for(var r=this.ends[1],n=this.ends[e],o=void 0;n&&(o=n.nextSibling,t(n),n!==r);n=o);return this},f.prototype.eachElement=function(e){return this.eachNode(function(t){t.nodeType===Node.ELEMENT_NODE&&e(t)}),this},f.prototype.text=function(){var e="";return this.eachNode(function(t){e+=t.textContent||""}),e},f.prototype.toNodeArray=function(){var e=[];return this.eachNode(function(t){return e.push(t)}),e},f.prototype.toElementArray=function(){var e=[];return this.eachElement(function(t){return e.push(t)}),e},f.prototype.toDocumentFragment=function(){var e=document.createDocumentFragment();return this.eachNode(function(t){return e.appendChild(t)}),e},f.prototype.insertBefore=function(t){return this.insDirOf(e,t)},f.prototype.insertAfter=function(e){return this.insDirOf(1,e)},f.prototype.append=function(e){return e.appendTo(this.oneElement()),this},f.prototype.prepend=function(e){return e.prependTo(this.oneElement()),this},f.prototype.appendTo=function(e){return this.insAtDirEnd(1,e)},f.prototype.prependTo=function(t){return this.insAtDirEnd(e,t)},f.prototype.parent=function(){if(!this.ends)return this;var t=this.ends[e].parentNode;return t?new f(t):new f},f.prototype.wrapAll=function(t){if(t.textContent="",!this.ends)return this;var r=this.ends[e].parentNode,n=this.ends[1].nextSibling;return this.appendTo(t),r&&r.insertBefore(t,n),this},f.prototype.replaceWith=function(e){var t=null===(n=this.ends)||void 0===n?void 0:n[1],r=null==t?void 0:t.parentNode,n=null==t?void 0:t.nextSibling;return this.detach(),e=e.toDocumentFragment(),t&&r&&r.insertBefore(e,n||null),this},f.prototype.nthElement=function(t){if(this.ends&&!(t<0||t!==Math.floor(t)))for(var r=this.ends[e];r;){if(r.nodeType===Node.ELEMENT_NODE){if(t<=0)return r;--t}if(r===this.ends[1])return;r=r.nextSibling}},f.prototype.firstElement=function(){return this.nthElement(0)},f.prototype.lastElement=function(){if(this.ends)for(var t=this.ends[1];t;){if(t.nodeType===Node.ELEMENT_NODE)return t;if(t===this.ends[e])return;t=t.previousSibling}},f.prototype.first=function(){return new f(this.firstElement())},f.prototype.last=function(){return new f(this.lastElement())},f.prototype.eq=function(e){return new f(this.nthElement(e))},f.prototype.slice=function(e){return this.ends?(e=this.nthElement(e))?new f(e,this.ends[1]):new f:this},f.prototype.next=function(){for(var e=this.oneNode();e;)if((e=e.nextSibling)&&e.nodeType===Node.ELEMENT_NODE)return new f(e);return new f},f.prototype.prev=function(){for(var e=this.oneNode();e;)if((e=e.previousSibling)&&e.nodeType===Node.ELEMENT_NODE)return new f(e);return new f},f.prototype.empty=function(){return this.eachElement(function(e){e.textContent=""}),this},f.prototype.remove=function(){return this.toDocumentFragment(),this},f.prototype.detach=function(){return this.remove()},f.prototype.insDirOf=function(t,r){if(!this.ends)return this;var n,o=null===(n=r.ends)||void 0===n?void 0:n[t];return o&&o.parentNode?(r=t,n=o.parentNode,t=this.toDocumentFragment(),n.insertBefore(t,r===e?o:o.nextSibling),this):this.detach()},f.prototype.insAtDirEnd=function(t,r){return this.ends&&(n=t,t=this.toDocumentFragment(),r=r,n===e?r.insertBefore(t,r.firstChild):r.appendChild(t)),this;var n},f.prototype.hasClass=function(e){var t=!1;return this.eachElement(function(r){r.classList.contains(e)&&(t=!0)}),t},f.prototype.addClass=function(e){for(var t=this,r=0,n=e.split(/\s+/);r<n.length;r++)!function(e){e&&t.eachElement(function(t){t.classList.add(e)})}(n[r]);return this},f.prototype.removeClass=function(e){for(var t=this,r=0,n=e.split(/\s+/);r<n.length;r++)!function(e){e&&t.eachElement(function(t){t.classList.remove(e)})}(n[r]);return this},f.prototype.toggleClass=function(e,t){if(!0===t)return this.addClass(e);if(!1===t)return this.removeClass(e);for(var r=this,n=0,o=e.split(/\s+/);n<o.length;n++)!function(e){e&&r.eachElement(function(t){t.classList.toggle(e)})}(o[n]);return this},f.create);function f(t,r){var n;1===arguments.length&&(r=t),t&&r&&(this.ends=((n={})[e]=t,n[1]=r,n))}function g(e){this.span=s("span",{class:"dcg-mq-aria-alert","aria-live":"assertive","aria-atomic":"true"}),this.msg="",this.items=[],this.controller=e}var m=(y.prototype.init=function(t,r,n){this.parent=t,this[e]=r,this[1]=n},y.copy=function(t){return new y(t.parent,t[e],t[1])},y);function y(e,t,r){this.init(e,t,r)}function v(t,r){var n=t[e];if(n){var o=t[1];if(o)for(o=o[1];n!==o&&!1!==r(n);n=n[1]);}}function b(t,r,n){var o=t[e];if(!o)return r;var i=t[1];if(!i)return r;for(i=i[1];o!==i;o=o[1])r=n(r,o);return r}var x,w,E=(S.uniqueNodeId=function(){return S.idCounter+=1},S.getNodeOfElement=function(e){if(e){if(!e.nodeType)throw new Error("must pass an Element to NodeBase.getNodeOfElement");return e.mqBlockNode||e.mqCmdNode}},S.linkElementByBlockNode=function(e,t){e.mqBlockNode=t},S.linkElementByCmdNode=function(e,t){e.mqCmdNode=t},S.prototype.setEnds=function(t){this.ends=t,o("No half-empty node ends",!!this.ends[e]==!!this.ends[1])},S.prototype.getEnd=function(e){return this.ends[e]},S.prototype.toString=function(){return"{{ MathQuill Node #"+this.id+" }}"},S.prototype.setDOM=function(e){return e&&o("DOM is an element or a text node",e.nodeType===Node.ELEMENT_NODE||e.nodeType===Node.TEXT_NODE),this._el=e,this},S.prototype.domFrag=function(){return h(this._el)},S.prototype.createDir=function(t,r){return i(t),this.html(),this.domFrag().insDirOf(t,r.domFrag()),r[t]=this.adopt(r.parent,r[e],r[1]),this},S.prototype.createLeftOf=function(t){this.createDir(e,t)},S.prototype.selectChildren=function(e,t){return new F(e,t)},S.prototype.bubble=function(e){for(var t=this.getSelfNode();t&&!1!==e(t);t=t.parent);return this},S.prototype.postOrder=function(e){var t=this.getSelfNode();return function t(r){return!!r&&(r.eachChild(t),e(r),!0)}(t),t},S.prototype.isEmpty=function(){return 0===this.ends[e]&&0===this.ends[1]},S.prototype.isQuietEmptyDelimiter=function(e){if(!this.isEmpty())return!1;if(!e)return!1;if(!this.parent||void 0===this.parent.ctrlSeq)return!1;var t=this.parent.ctrlSeq.replace(/^\\(left|right)?/,"");return e.hasOwnProperty(t)},S.prototype.isStyleBlock=function(){return!1},S.prototype.isTextBlock=function(){return!1},S.prototype.children=function(){return new _(this.getEnd(e),this.getEnd(1))},S.prototype.eachChild=function(e){return v(this.ends,e),this},S.prototype.foldChildren=function(e,t){return b(this.ends,e,t)},S.prototype.withDirAdopt=function(e,t,r,n){var o=this.getSelfNode();return new _(o,o).withDirAdopt(e,t,r,n),this},S.prototype.adopt=function(e,t,r){var n=this.getSelfNode();return new _(n,n).adopt(e,t,r),this.getSelfNode()},S.prototype.disown=function(){var e=this.getSelfNode();return new _(e,e).disown(),this},S.prototype.remove=function(){return this.domFrag().remove(),this.disown()},S.prototype.shouldIgnoreSubstitutionInSimpleSubscript=function(e){return!!e.disableAutoSubstitutionInSubscripts&&!!this.parent&&this.parent.parent instanceof Dr&&!!this.parent.domFrag().hasClass("dcg-mq-sub")},S.prototype.getSelfNode=function(){return this},S.prototype.parser=function(){o("Abstract parser() method is never called",!1)},S.prototype.html=function(){throw new Error("html() unimplemented in NodeBase")},S.prototype.text=function(){return""},S.prototype.latex=function(){var e={latex:"",startIndex:-1,endIndex:-1};return this.latexRecursive(e),e.latex},S.prototype.latexRecursive=function(e){},S.prototype.checkCursorContextOpen=function(e){e.startSelectionBefore===this&&(e.startIndex=e.latex.length),e.endSelectionBefore===this&&(e.endIndex=e.latex.length)},S.prototype.checkCursorContextClose=function(e){e.startSelectionAfter===this&&(e.startIndex=e.latex.length),e.endSelectionAfter===this&&(e.endIndex=e.latex.length)},S.prototype.finalizeTree=function(e,t){},S.prototype.contactWeld=function(e,t){},S.prototype.blur=function(e){},S.prototype.focus=function(){},S.prototype.intentionalBlur=function(){},S.prototype.reflow=function(){},S.prototype.registerInnerField=function(e,t){},S.prototype.chToCmd=function(e,t){o("Abstract chToCmd() method is never called",!1)},S.prototype.mathspeak=function(e){return""},S.prototype.seek=function(e,t){},S.prototype.siblingDeleted=function(e,t){},S.prototype.siblingCreated=function(e,t){},S.prototype.finalizeInsert=function(e,t){},S.prototype.fixDigitGrouping=function(e){},S.prototype.writeLatex=function(e,t){},S.prototype.write=function(e,t){},x=e,w=1,S.idCounter=0,S);function S(){var t;this[x]=0,this[w]=0,this.parent=0,this.ends=((t={})[e]=0,t[1]=0,t),this.id=S.uniqueNodeId()}function k(t,r,n){o("a parent is always present",t),o("leftward is properly set up",r?r[1]===n&&r.parent===t:t.getEnd(e)===n),o("rightward is properly set up",n?n[e]===r&&n.parent===t:t.getEnd(1)===r)}var _=(L.prototype.getDOMFragFromEnds=function(){var t=this.ends[e],r=this.ends[1];return 0===t||0===r?h():t===r?t.domFrag():t.domFrag().join(r.domFrag())},L.prototype.setEnds=function(e){this.ends=e},L.prototype.getEnd=function(e){return this.ends?this.ends[e]:0},L.prototype.domFrag=function(){return this.getDOMFragFromEnds()},L.prototype.withDirAdopt=function(t,r,n,o){return t===e?this.adopt(r,n,o):this.adopt(r,o,n)},L.prototype.adopt=function(t,r,n){k(t,r,n),this.disowned=!1;var o=this.ends[e];if(!o)return this;var i=this.ends[1];if(!i)return this;var a=((a={})[e]=t.getEnd(e),a[1]=t.getEnd(1),a);return r||(a[e]=o),n?n[e]=i:a[1]=i,t.setEnds(a),i[1]=n,this.each(function(n){return n[e]=r,n.parent=t,r&&(r[1]=n),r=n,!0}),this},L.prototype.disown=function(){var t=this.ends[e];if(!t||this.disowned)return this;this.disowned=!0;var r=this.ends[1];if(!r)return this;var n=t.parent;k(n,t[e],t),k(n,r,r[1]);var o=((o={})[e]=n.getEnd(e),o[1]=n.getEnd(1),o);return t[e]?t[e][1]=r[1]:o[e]=r[1],r[1]?r[1][e]=t[e]:o[1]=t[e],o[e]&&o[1]?n.setEnds(o):n.ends=o,this},L.prototype.remove=function(){return this.domFrag().remove(),this.disown()},L.prototype.each=function(e){return v(this.ends,e),this},L.prototype.fold=function(e,t){return b(this.ends,e,t)},L),I={},M={};function L(t,r,n){var a,s;this.disowned=!1,void 0===n&&(n=e),i(n),o("no half-empty fragments",!t==!r),t&&r?(o("withDir is passed to Fragment",t instanceof ve),o("oppDir is passed to Fragment",r instanceof ve),o("withDir and oppDir have the same parent",t.parent===r.parent),(a={})[n]=t,a[-n]=r,a=a,this.setEnds(a),s=0,this.each(function(e){s=e}),o("following direction siblings from start reaches end",s===a[1])):this.setEnds(((a={})[e]=0,a[1]=0,a))}var T,C,A,O,P=(__extends(K,O=m),K.fromCursor=function(t){return new K(t.parent,t[e],t[1])},K),D=(__extends(W,A=m),W.prototype.setDOMFrag=function(e){return this._domFrag=e,this},W.prototype.domFrag=function(){return this._domFrag},W.prototype.show=function(){var t,r;return h(this.cursorElement).removeClass("dcg-mq-blink"),this.setDOMFrag(h(this.cursorElement)),this.intervalId?clearInterval(this.intervalId):((t=this[1])?(r=this.selection)&&r.getEnd(e)[e]===this[e]?this.domFrag().insertBefore(r.domFrag()):this.domFrag().insertBefore(t.domFrag()):this.domFrag().appendTo(this.parent.domFrag().oneElement()),this.parent.focus()),this.intervalId=setInterval(this.blink,500),this},W.prototype.hide=function(){return this.intervalId&&clearInterval(this.intervalId),this.intervalId=0,this.domFrag().detach(),this.setDOMFrag(h()),this},W.prototype.withDirInsertAt=function(e,t,r,n){var o=this.parent;this.parent=t,this[e]=r,this[-e]=n,o!==t&&o.blur&&o.blur(this)},W.prototype.insDirOf=function(e,t){return i(e),this.domFrag().insDirOf(e,t.domFrag()),this.withDirInsertAt(e,t.parent,t[e],t),this.parent.domFrag().addClass("dcg-mq-hasCursor"),this},W.prototype.insLeftOf=function(t){return this.insDirOf(e,t)},W.prototype.insRightOf=function(e){return this.insDirOf(1,e)},W.prototype.insAtDirEnd=function(e,t){return i(e),this.domFrag().insAtDirEnd(e,t.domFrag().oneElement()),this.withDirInsertAt(e,t,0,t.getEnd(e)),t.focus(),this},W.prototype.insAtLeftEnd=function(t){return this.insAtDirEnd(e,t)},W.prototype.insAtRightEnd=function(e){return this.insAtDirEnd(1,e)},W.prototype.jumpUpDown=function(e,t){this.upDownCache[e.id]=m.copy(this);var r=this.upDownCache[t.id];r?(e=r[1])?this.insLeftOf(e):this.insAtRightEnd(r.parent):(r=this.getBoundingClientRectWithoutMargin().left,t.seek(r,this)),this.controller.aria.queue(t,!0)},W.prototype.getBoundingClientRectWithoutMargin=function(){var e=this.domFrag();e.removeClass("dcg-mq-cursor");var t=(r=c(e.oneElement())).left,r=r.right;return e.addClass("dcg-mq-cursor"),{left:t,right:r}},W.prototype.unwrapGramp=function(){var t=this.parent.parent,r=t.parent,n=t[1],o=t[e];if(t.disown().eachChild(function(e){return e.isEmpty()||(e.children().adopt(r,o,n).each(function(e){return e.domFrag().insertBefore(t.domFrag()),!0}),o=e.getEnd(1)),!0}),!this[1]){var i=this[e];if(i)this[1]=i[1];else for(;!this[1];){var a=this.parent[1];if(!a){this[1]=t[1],this.parent=r;break}this.parent=a,this[1]=a.getEnd(e)}}var s=this[1];s?this.insLeftOf(s):this.insAtRightEnd(r),t.domFrag().remove(),i=t[e],s=t[1],i&&i.siblingDeleted(this.options,1),s&&s.siblingDeleted(this.options,e)},W.prototype.startSelection=function(){for(var e=this.anticursor=P.fromCursor(this),t=e.ancestors,r=e;r.parent;r=r.parent)t[r.parent.id]=r},W.prototype.endSelection=function(){delete this.anticursor},W.prototype.select=function(){var t,r=this.anticursor;if(this[e]===r[e]&&this.parent===r.parent)return!1;for(var n=this;n.parent;n=n.parent)if(n.parent.id in r.ancestors){t=n.parent;break}o("cursor and anticursor in the same tree",t);var i,a,s=t,c=r.ancestors[s.id],l=1;if(n[e]!==c)for(var u=n;u;u=u[1])if(u[1]===c[1]){l=e,i=n,a=c;break}return 1===l&&(i=c,a=n),i instanceof m&&(i=i[1]),a instanceof m&&(a=a[e]),this.hide().selection=s.selectChildren(i,a),s=this.selection.getEnd(l),this.insDirOf(l,s),this.selectionChanged(),!0},W.prototype.resetToEnd=function(t){this.clearSelection(),t=t.root,this[1]=0,this[e]=t.getEnd(1),this.parent=t},W.prototype.clearSelection=function(){return this.selection&&(this.selection.clear(),delete this.selection,this.selectionChanged()),this},W.prototype.deleteSelection=function(){var t=this.selection;t&&(this[e]=t.getEnd(e)[e],this[1]=t.getEnd(1)[1],t.remove(),this.selectionChanged(),delete this.selection)},W.prototype.replaceSelection=function(){var t=this.selection;return t&&(this[e]=t.getEnd(e)[e],this[1]=t.getEnd(1)[1],delete this.selection),t},W.prototype.depth=function(){for(var e=this,t=0;e=e.parent;)t+=e instanceof dt?1:0;return t},W.prototype.isTooDeep=function(e){return void 0!==this.options.maxDepth&&this.depth()+(e||0)>this.options.maxDepth},W.prototype.selectionChanged=function(){},W),F=(__extends(H,C=_),H.prototype.isCleared=function(){return void 0===this._el},H.prototype.domFrag=function(){return this.isCleared()?this.getDOMFragFromEnds():h(this._el)},H.prototype.setEnds=function(t){o("Selection ends are never empty",t[e]&&t[1]),this.ends=t},H.prototype.getEnd=function(e){return this.ends[e]},H.prototype.adopt=function(e,t,r){return this.clear(),C.prototype.adopt.call(this,e,t,r)},H.prototype.clear=function(){var e=this.getDOMFragFromEnds();return this.domFrag().replaceWith(e),this._el=void 0,this},H.prototype.join=function(e,t){return void 0===t&&(t=""),this.fold("",function(r,n){return r+t+n[e]()})},H),N=(z.prototype.getControllerSelf=function(){return this},z.prototype.handle=function(t,r){var n,i=this.options.handlers;(t=null===(n=this.options.handlers)||void 0===n?void 0:n.fns[t])&&(o("APIClass is defined",i=null==i?void 0:i.APIClasses[this.KIND_OF_MQ]),i=new i(this),r===e||1===r?t(r,i):t(i))},z.onNotify=function(e){z.notifyees.push(e)},z.prototype.notify=function(e){for(var t=0;t<z.notifyees.length;t+=1)z.notifyees[t](this.cursor,e);return this},z.prototype.setAriaLabel=function(e){var t=this.getAriaLabel();return e&&"string"==typeof e&&""!==e?this.ariaLabel=e:this.editable?this.ariaLabel="Math Input":this.ariaLabel="",this.ariaLabel===t||this.containerHasFocus()||this.updateMathspeak(),this},z.prototype.getAriaLabel=function(){return"Math Input"!==this.ariaLabel?this.ariaLabel:this.editable?"Math Input":""},z.prototype.setAriaPostLabel=function(e,t){var r=this;return e&&"string"==typeof e&&""!==e?(e!==this.ariaPostLabel&&"number"==typeof t&&(this._ariaAlertTimeout&&clearTimeout(this._ariaAlertTimeout),this._ariaAlertTimeout=setTimeout(function(){r.containerHasFocus()?r.aria.alert(r.root.mathspeak().trim()+" "+e.trim()):r.updateMathspeak()},t)),this.ariaPostLabel=e):(this._ariaAlertTimeout&&clearTimeout(this._ariaAlertTimeout),this.ariaPostLabel=""),this},z.prototype.getAriaPostLabel=function(){return this.ariaPostLabel||""},z.prototype.containerHasFocus=function(){return document.activeElement&&this.container.contains(document.activeElement)},z.prototype.getTextareaOrThrow=function(){var e=this.textarea;if(!e)throw new Error("expected a textarea");return e},z.prototype.getTextareaSpanOrThrow=function(){var e=this.textareaSpan;if(!e)throw new Error("expected a textareaSpan");return e},z.prototype.addTextareaEventListeners=function(e){if(this.textarea)for(var t in e){var r=t;this.removeTextareaEventListener(r),this.textarea.addEventListener(r,e[r])}},z.prototype.removeTextareaEventListener=function(e){var t;!this.textarea||(t=this.textareaEventListeners[e])&&this.textarea.removeEventListener(e,t)},z.prototype.exportMathSpeak=function(){return this.root.mathspeak()},z.prototype.updateMathspeak=function(){},z.prototype.scrollHoriz=function(){},z.prototype.selectionChanged=function(){},z.prototype.setOverflowClasses=function(){},z.notifyees=[],z),q={},R={},B={},j=(G.prototype.assertJquery=function(){return o("Interface versions > 2 do not depend on JQuery",this.version<=2),o("JQuery is set for interface v < 3",this.jQuery),this.jQuery},G),V=function(){},U=function(){window.console&&console.warn('You are using the MathQuill API without specifying an interface version, which will fail in v1.0.0. Easiest fix is to do the following before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (20142015)  v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')};function G(e){this.version=e}function z(e,t,r){this.textareaEventListeners={},this.id=e.id,this.data={},this.root=e,this.container=t,this.options=r,this.aria=new p(this.getControllerSelf()),this.ariaLabel="Math Input",this.ariaPostLabel="",e.controller=this.getControllerSelf(),this.cursor=e.cursor=new D(e,r,this.getControllerSelf())}function H(e,t,r){return(r=C.call(this,e,t,r)||this)._el=s("span",{class:"dcg-mq-selection"}),r.getDOMFragFromEnds().wrapAll(r._el),r}function W(e,t,r){var n=A.call(this,e,0,0)||this;return n.upDownCache={},n.cursorElement=s("span",{class:"dcg-mq-cursor"},[s.text("")]),n._domFrag=h(),n.controller=r,n.options=t,n.setDOMFrag(h(n.cursorElement)),n.blink=function(){h(n.cursorElement).toggleClass("dcg-mq-blink")},n}function K(e,t,r){return(r=O.call(this,e,t,r)||this).ancestors={},r}function $(e){return U(),(T=T||Q(1))(e)}$.prototype=V.prototype,$.VERSION="v0.10.1",$.interfaceVersion=function(e){if(1!==e)throw"Only interface version 1 supported. You specified: "+e;return(U=function(){window.console&&console.warn('You called MathQuill.interfaceVersion(1); to specify the interface version, which will fail in v1.0.0. You can fix this easily by doing this before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (20142015)  v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')})(),$};var Y=($.getInterface=Q).MIN=1,X=Q.MAX=3;function Q(t){if(1!==t&&2!==t&&3!==t)throw"Only interface versions between "+Y+" and "+X+" supported. You specified: "+t;var r=t;if(r<3){if(!(d=window.jQuery))throw"MathQuill interface version ".concat(r," requires jQuery 1.5.2+ to be loaded first");j.prototype.jQuery=d}var n=__assign(__assign({},B),{handlers:function(e){return{fns:e||{},APIClasses:p}}});function i(e,t){for(var o in t)if(t.hasOwnProperty(o)){if("substituteKeyboardEvents"===o&&3<=r)throw new Error(["As of interface version 3, the 'substituteKeyboardEvents'","option is no longer supported. Use 'overrideTypedText' and","'overrideKeystroke' instead."].join(" "));var i=t[o],a=n[o];e[o]=a?a(i):i}}var a,c,l,u=r<3?j:(__extends(m,l=j),m),d=(t=(__extends(g,c=V),g.prototype.mathquillify=function(e){var t=this.__controller,n=t.root,o=t.container;t.createTextarea();var i=h(o).addClass(e).children().detach();n.setDOM(h(s("span",{class:"dcg-mq-root-block","aria-hidden":!0})).appendTo(o).oneElement()),E.linkElementByBlockNode(n.domFrag().oneElement(),n),this.latex(i.text()),this.revert=function(){return t.removeMouseEventListener(),h(o).removeClass("dcg-mq-editable-field dcg-mq-math-mode dcg-mq-text-mode").empty().append(i),r<3?this.__options.assertJquery()(o):o}},g.prototype.setAriaLabel=function(e){return this.__controller.setAriaLabel(e),this},g.prototype.getAriaLabel=function(){return this.__controller.getAriaLabel()},g.prototype.config=function(e){return i(this.__options,e),this},g.prototype.el=function(){return this.__controller.container},g.prototype.text=function(){return this.__controller.exportText()},g.prototype.mathspeak=function(){return this.__controller.exportMathSpeak()},g.prototype.latex=function(e){if(0<arguments.length){this.__controller.renderLatexMath(e);var t=this.__controller.cursor;return this.__controller.blurred&&t.hide().parent.blur(t),this}return this.__controller.exportLatex()},g.prototype.selection=function(){return this.__controller.exportLatexSelection()},g.prototype.html=function(){return this.__controller.root.domFrag().oneElement().innerHTML.replace(/ jQuery\d+="(?:\d+|null)"/g,"").replace(/ mathquill-(?:command|block)-id="?\d+"?/g,"").replace(/<span class="?dcg-mq-cursor( dcg-mq-blink)?"?>.?<\/span>/i,"").replace(/ dcg-mq-hasCursor|dcg-mq-hasCursor ?/,"").replace(/ class=(""|(?= |>))/g,"")},g.prototype.reflow=function(){return this.__controller.root.postOrder(function(e){e.reflow()}),this},g),__extends(f,a=t),f.prototype.mathquillify=function(e){return a.prototype.mathquillify.call(this,e),this.__controller.editable=!0,this.__controller.addMouseEventListener(),this.__controller.editablesTextareaEvents(),this},f.prototype.focus=function(){return this.__controller.getTextareaOrThrow().focus(),this.__controller.scrollHoriz(),this},f.prototype.blur=function(){return this.__controller.getTextareaOrThrow().blur(),this},f.prototype.write=function(e){return this.__controller.writeLatex(e),this.__controller.scrollHoriz(),e=this.__controller.cursor,this.__controller.blurred&&e.hide().parent.blur(e),this},f.prototype.empty=function(){var t,r=this.__controller.root,n=this.__controller.cursor;return r.setEnds(((t={})[e]=0,t[1]=0,t)),r.domFrag().empty(),delete n.selection,n.insAtRightEnd(r),this},f.prototype.cmd=function(e){var t,r=this.__controller.notify(void 0),n=r.cursor;return/^\\[a-z]+$/i.test(e)&&!n.isTooDeep()?(e=e.slice(1),(t=I[e])&&(t=t.constructor?new t(e):t(e),n.selection&&t.replaces(n.replaceSelection()),t.createLeftOf(n.show()))):n.parent.write(n,e),r.scrollHoriz(),r.blurred&&n.hide().parent.blur(n),this},f.prototype.select=function(){return this.__controller.selectAll(),this},f.prototype.clearSelection=function(){return this.__controller.cursor.clearSelection(),this},f.prototype.moveToDirEnd=function(e){return this.__controller.notify("move").cursor.insAtDirEnd(e,this.__controller.root),this},f.prototype.moveToLeftEnd=function(){return this.moveToDirEnd(e)},f.prototype.moveToRightEnd=function(){return this.moveToDirEnd(1)},f.prototype.keystroke=function(e,t){for(var r=e.replace(/^\s+|\s+$/g,"").split(/\s+/),n=0;n<r.length;n+=1)this.__controller.keystroke(r[n],t);return this},f.prototype.typedText=function(e){for(var t=0;t<e.length;t+=1)this.__controller.typedText(e.charAt(t));return this},f.prototype.dropEmbedded=function(e,t,r){var n=e-(void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft);e=t-(void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop),t=document.elementFromPoint(n,e);this.__controller.seek(t,n,e),(new Dn).setOptions(r).createLeftOf(this.__controller.cursor)},f.prototype.setAriaPostLabel=function(e,t){return this.__controller.setAriaPostLabel(e,t),this},f.prototype.getAriaPostLabel=function(){return this.__controller.getAriaPostLabel()},f.prototype.clickAt=function(e,t,r){r=r||document.elementFromPoint(e,t);var n=this.__controller,o=n.root.domFrag().oneElement();return o.contains(r)||(r=o),n.seek(r,e,t),n.blurred&&this.focus(),this},f.prototype.ignoreNextMousedown=function(e){return this.__controller.cursor.options.ignoreNextMousedown=e,this},f),p={AbstractMathQuill:t,EditableField:d};function f(){return null!==a&&a.apply(this,arguments)||this}function g(e){var t=c.call(this)||this;return t.__controller=e,t.__options=e.options,t.id=e.id,t.data=e.data,t}function m(){return null!==l&&l.apply(this,arguments)||this}function y(e){if(!e||!e.nodeType)return null;for(var t,r=0,n=h(e).children().toElementArray();r<n.length;r++){var o=n[r];if(o.classList.contains("dcg-mq-root-block")){t=o;break}}var i=(e=(i=E.getNodeOfElement(t))&&i.controller)&&p[e.KIND_OF_MQ];return e&&i?new i(e):null}function v(e,t){function n(n,o){if(!n||!n.nodeType)return null;var i=y(n);return i instanceof t?i:((n=new Xe(new t.RootBlock,n,new u(r))).KIND_OF_MQ=e,new t(n).__mathquillify(o||{},r))}return o(e+" is defined",t),n.prototype=t.prototype,n}return o("API.StaticMath defined",q.StaticMath),p.StaticMath=q.StaticMath(p),o("API.MathField defined",q.MathField),p.MathField=q.MathField(p),o("API.InnerMathField defined",q.InnerMathField),p.InnerMathField=q.InnerMathField(p),q.TextField&&(p.TextField=q.TextField(p)),y.L=e,y.R=1,y.config=function(e){return i(u.prototype,e),this},y.registerEmbed=function(e,t){if(!/^[a-z][a-z0-9]*$/i.test(e))throw"Embed name must start with letter and be only letters and digits";R[e]=t},y.StaticMath=v("StaticMath",p.StaticMath),y.MathField=v("MathField",p.MathField),y.InnerMathField=v("InnerMathField",p.InnerMathField),p.TextField&&(y.TextField=v("TextField",p.TextField)),y.prototype=t.prototype,(y.EditableField=function(){throw"wtf don't call me, I'm 'abstract'"}).prototype=d.prototype,r<3&&(y.saneKeyboardEvents=Ge),y}$.noConflict=function(){return window.MathQuill=J,$};var J=window.MathQuill;function Z(e){e.moveOutOf=function(e){o("controller is defined",this.controller),this.controller.handle("moveOutOf",e)},e.deleteOutOf=function(e){o("controller is defined",this.controller),this.controller.handle("deleteOutOf",e)},e.selectOutOf=function(e){o("controller is defined",this.controller),this.controller.handle("selectOutOf",e)},e.upOutOf=function(){o("controller is defined",this.controller),this.controller.handle("upOutOf")},e.downOutOf=function(){o("controller is defined",this.controller),this.controller.handle("downOutOf")},e.reflow=function(){o("controller is defined",this.controller),this.controller.handle("reflow"),this.controller.handle("edited"),this.controller.handle("edit")}}function ee(e,t){throw"Parse Error: "+t+" at "+(e?"'"+e+"'":"EOF")}window.MathQuill=$;var te,re,ne,oe=(he.prototype.parse=function(e){return this.skip(he.eof)._(""+e,function(e,t){return t},ee)},he.prototype.or=function(e){o("or is passed a parser",e instanceof he);var t=this;return new he(function(r,n,o){return t._(r,n,function(t){return e._(r,n,o)})})},he.prototype.then=function(e){var t=this;return new he(function(r,n,i){return t._(r,function(t,r){return o("a parser is returned",(r=e instanceof he?e:e(r))instanceof he),r._(t,n,i)},i)})},he.prototype.many=function(){var e=this;return new he(function(t,r,n){for(var o=[];e._(t,i,a););return r(t,o);function i(e,r){return t=e,o.push(r),!0}function a(){return!1}})},he.prototype.times=function(e,t){arguments.length<2&&(t=e);var r=this;return new he(function(n,o,i){for(var a,s=[],c=!0,l=0;l<e;l+=1)if(!(c=!!r._(n,u,d)))return i(n,a);for(;l<t&&c;l+=1)r._(n,u,p);return o(n,s);function u(e,t){return s.push(t),n=e,!0}function d(e,t){return a=t,n=e,!1}function p(e,t){return!1}})},he.prototype.result=function(e){return this.then(he.succeed(e))},he.prototype.atMost=function(e){return this.times(0,e)},he.prototype.atLeast=function(e){var t=this;return t.times(e).then(function(e){return t.many().map(function(t){return e.concat(t)})})},he.prototype.map=function(e){return this.then(function(t){return he.succeed(e(t))})},he.prototype.skip=function(e){return this.then(function(t){return e.result(t)})},he.string=function(e){var t=e.length,r="expected '"+e+"'";return new he(function(n,o,i){var a=n.slice(0,t);return a===e?o(n.slice(t),a):i(n,r)})},he.regex=function(e){o("regexp parser is anchored","^"===e.toString().charAt(1));var t="expected "+e;return new he(function(r,n,o){var i=e.exec(r);return i?(i=i[0],n(r.slice(i.length),i)):o(r,t)})},he.succeed=function(e){return new he(function(t,r){return r(t,e)})},he.fail=function(e){return new he(function(t,r,n){return n(t,e)})},he.letter=he.regex(/^[a-z]/i),he.letters=he.regex(/^[a-z]*/i),he.digit=he.regex(/^[0-9]/),he.digits=he.regex(/^[0-9]*/),he.whitespace=he.regex(/^\s+/),he.optWhitespace=he.regex(/^\s*/),he.any=new he(function(e,t,r){return e?t(e.slice(1),e.charAt(0)):r(e,"expected any character")}),he.all=new he(function(e,t,r){return t("",e)}),he.eof=new he(function(e,t,r){return e?r(e,"expected EOF"):t(e,e)}),he),ie=(pe.prototype.listen=function(e){this.fn=e,clearTimeout(this.timeoutId),this.timeoutId=setTimeout(this.fn)},pe.prototype.listenOnce=function(e){var t=this;this.listen(function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t.clearListener(),e.apply(void 0,r)})},pe.prototype.clearListener=function(){this.fn=n,clearTimeout(this.timeoutId)},pe.prototype.trigger=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.fn.apply(this,e)},pe),ae=(re={8:"Backspace",9:"Tab",10:"Enter",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",144:"NumLock"},ne={ArrowRight:"Right",ArrowLeft:"Left",ArrowDown:"Down",ArrowUp:"Up",Delete:"Del",Escape:"Esc"," ":"Spacebar"},function(e,t){var r=null,n=null,o=new ie;function i(){try{e instanceof HTMLTextAreaElement&&e.select()}catch(e){}}var a=!1;function s(){t.options&&t.options.overrideKeystroke?t.options.overrideKeystroke(de(r),r):t.keystroke(de(r),r)}function c(t){o.trigger(t),t.target===e&&(r=t,n=null,a&&o.listenOnce(function(e){e&&"focusout"===e.type||i()}),s())}function l(t){o.trigger(t),t.target===e&&(r&&n&&s(),le(n=t)?o.listenOnce(p):o.listen(d))}function u(t){o.trigger(t),t.target===e&&r&&!n&&(le(t)?o.listenOnce(p):o.listen(d))}function d(){var r;!("selectionStart"in e&&e instanceof HTMLTextAreaElement&&e.selectionStart!==e.selectionEnd)&&e instanceof HTMLTextAreaElement&&(1===(r=e.value).length?(e.value="",t.options&&t.options.overrideTypedText?t.options.overrideTypedText(r):t.typedText(r)):p())}function p(){e instanceof HTMLTextAreaElement&&1<e.value.length&&i()}function h(){n=r=null,o.clearListener(),e instanceof HTMLTextAreaElement&&(e.value="")}function f(e){o.trigger(e)}return t.options&&t.options.disableCopyPaste?t.addTextareaEventListeners({keydown:c,keypress:l,keyup:u,focusout:h,copy:function(e){e.preventDefault()},cut:function(e){e.preventDefault()},paste:function(e){o.trigger(),e.preventDefault()},input:f}):t.addTextareaEventListeners({keydown:c,keypress:l,keyup:u,focusout:h,cut:function(){o.listenOnce(function(){t.cut()})},copy:function(){o.listenOnce(function(){t.copy()})},paste:function(r){o.trigger(),r.target===e&&(document.activeElement!==e&&e.focus(),o.listen(function(){var r;e instanceof HTMLTextAreaElement&&(r=e.value,e.value="",r&&t.paste(r))}))},input:f}),{select:function(t){o.trigger(),o.clearListener(),e instanceof HTMLTextAreaElement&&(e.value=t),t&&i(),a=!!t}}}),se=(__extends(ce,te=N),ce.prototype.exportText=function(){return this.root.foldChildren("",function(e,t){return e+t.text()})},ce);function ce(){return null!==te&&te.apply(this,arguments)||this}function le(e){switch(ue(e)){case"Right":case"Left":case"Down":case"Up":return 1}}function ue(e){var t;return void 0!==e.key?1===(t=e.key).length&&"a"<=t&&t<="z"?e.key.toUpperCase():null!==(t=ne[e.key])&&void 0!==t?t:e.key:(e=e.which||e.keyCode,re[e]||String.fromCharCode(e))}function de(e){var t=ue(e),r=[];return e.ctrlKey&&r.push("Ctrl"),e.metaKey&&r.push("Meta"),e.altKey&&r.push("Alt"),e.shiftKey&&r.push("Shift"),r.length?(r.push(t),r.join("-")):t}function pe(){this.fn=n}function he(e){this._=e}N.onNotify(function(e,t){"edit"!==t&&"replace"!==t&&void 0!==t||(e=e.controller)&&e.options.enableDigitGrouping&&!1===e.blurred&&e.disableGroupingForSeconds(1)});var fe,ge,me=(__extends(xe,ge=se),xe.prototype.disableGroupingForSeconds=function(e){var t=this;clearTimeout(this.__disableGroupingTimeout),0===e?this.root.domFrag().removeClass("dcg-mq-suppress-grouping"):(this.root.domFrag().addClass("dcg-mq-suppress-grouping"),this.__disableGroupingTimeout=setTimeout(function(){t.root.domFrag().removeClass("dcg-mq-suppress-grouping")},1e3*e))},xe.prototype.blur=function(){this.cursor.hide().parent.blur(this.cursor),h(this.container).removeClass("dcg-mq-focused"),window.removeEventListener("blur",this.handleWindowBlur),this.options&&this.options.resetCursorOnBlur&&this.cursor.resetToEnd(this)},xe.prototype.addEditableFocusBlurListeners=function(){var e=this.cursor;this.addTextareaEventListeners({focus:this.handleTextareaFocusEditable,blur:this.handleTextareaBlurEditable}),this.blurred=!0,e.hide().parent.blur(e)},xe.prototype.addStaticFocusBlurListeners=function(){this.addTextareaEventListeners({focus:this.handleTextareaFocusStatic,blur:this.handleTextareaBlurStatic})},xe),ye=!1,ve=(__extends(be,fe=E),be.prototype.keystroke=function(t,r,n){var o=n.cursor;switch(t){case"Ctrl-Shift-Backspace":case"Ctrl-Backspace":n.ctrlDeleteDir(e);break;case"Shift-Backspace":case"Backspace":n.backspace();break;case"Esc":case"Tab":return void n.escapeDir(1,t,r);case"Shift-Tab":case"Shift-Esc":return void n.escapeDir(e,t,r);case"End":n.notify("move").cursor.insAtRightEnd(o.parent),n.aria.queue("end of").queue(o.parent,!0);break;case"Ctrl-End":n.notify("move").cursor.insAtRightEnd(n.root),n.aria.queue("end of").queue(n.ariaLabel).queue(n.root).queue(n.ariaPostLabel);break;case"Shift-End":n.selectToBlockEndInDir(1);break;case"Ctrl-Shift-End":n.selectToRootEndInDir(1);break;case"Home":n.notify("move").cursor.insAtLeftEnd(o.parent),n.aria.queue("beginning of").queue(o.parent,!0);break;case"Ctrl-Home":n.notify("move").cursor.insAtLeftEnd(n.root),n.aria.queue("beginning of").queue(n.ariaLabel).queue(n.root).queue(n.ariaPostLabel);break;case"Shift-Home":n.selectToBlockEndInDir(e);break;case"Ctrl-Shift-Home":n.selectToRootEndInDir(e);break;case"Left":n.moveLeft();break;case"Shift-Left":n.selectLeft();break;case"Ctrl-Left":break;case"Right":n.moveRight();break;case"Shift-Right":n.selectRight();break;case"Ctrl-Right":break;case"Up":n.moveUp();break;case"Down":n.moveDown();break;case"Shift-Up":n.withIncrementalSelection(function(t){if(o[e])for(;o[e];)t(e);else t(e)});break;case"Shift-Down":n.withIncrementalSelection(function(e){if(o[1])for(;o[1];)e(1);else e(1)});break;case"Ctrl-Up":case"Ctrl-Down":break;case"Ctrl-Shift-Del":case"Ctrl-Del":n.ctrlDeleteDir(1);break;case"Shift-Del":case"Del":n.deleteForward();break;case"Meta-A":case"Ctrl-A":n.selectAll();break;case"Ctrl-Alt-Up":o.parent.parent&&o.parent.parent instanceof be?n.aria.queue(o.parent.parent):n.aria.queue("nothing above");break;case"Ctrl-Alt-Down":o.parent&&o.parent instanceof be?n.aria.queue(o.parent):n.aria.queue("block is empty");break;case"Ctrl-Alt-Left":o.parent.parent&&o.parent.parent.getEnd(e)?n.aria.queue(o.parent.parent.getEnd(e)):n.aria.queue("nothing to the left");break;case"Ctrl-Alt-Right":o.parent.parent&&o.parent.parent.getEnd(1)?n.aria.queue(o.parent.parent.getEnd(1)):n.aria.queue("nothing to the right");break;case"Ctrl-Alt-Shift-Down":o.selection?n.aria.queue(o.selection.join("mathspeak"," ").trim()+" selected"):n.aria.queue("nothing selected");break;case"Ctrl-Alt-=":case"Ctrl-Alt-Shift-Right":n.ariaPostLabel.length?n.aria.queue(n.ariaPostLabel):n.aria.queue("no answer");break;default:return}n.aria.alert(),null==r||r.preventDefault(),n.scrollHoriz()},be.prototype.moveOutOf=function(e,t,r){o("overridden or never called on this node",!1)},be.prototype.moveTowards=function(e,t,r){o("overridden or never called on this node",!1)},be.prototype.deleteOutOf=function(e,t){o("overridden or never called on this node",!1)},be.prototype.deleteTowards=function(e,t){o("overridden or never called on this node",!1)},be.prototype.unselectInto=function(e,t){o("overridden or never called on this node",!1)},be.prototype.selectOutOf=function(e,t){o("overridden or never called on this node",!1)},be.prototype.selectTowards=function(e,t){o("overridden or never called on this node",!1)},be);function be(){return null!==fe&&fe.apply(this,arguments)||this}function xe(){var e=null!==ge&&ge.apply(this,arguments)||this;return e.handleTextareaFocusEditable=function(){var t=e.cursor;e.updateMathspeak(),e.blurred=!1,clearTimeout(e.blurTimeout),h(e.container).addClass("dcg-mq-focused"),t.parent||t.insAtRightEnd(e.root),t.selection?(t.selection.domFrag().removeClass("dcg-mq-blur"),e.selectionChanged()):t.show(),e.setOverflowClasses()},e.handleTextareaBlurEditable=function(){e.textareaSelectionTimeout&&(clearTimeout(e.textareaSelectionTimeout),e.textareaSelectionTimeout=0),e.disableGroupingForSeconds(0),e.blurred=!0,e.blurTimeout=setTimeout(function(){e.root.postOrder(function(e){e.intentionalBlur()}),e.cursor.clearSelection().endSelection(),e.blur(),e.updateMathspeak(),e.scrollHoriz()}),window.addEventListener("blur",e.handleWindowBlur)},e.handleTextareaFocusStatic=function(){e.blurred=!1},e.handleTextareaBlurStatic=function(){e.cursor.selection&&e.cursor.selection.clear(),setTimeout(function(){h(e.getTextareaSpanOrThrow()).detach(),e.blurred=!0})},e.handleWindowBlur=function(){clearTimeout(e.blurTimeout),e.cursor.selection&&e.cursor.selection.domFrag().addClass("dcg-mq-blur"),e.blur(),e.updateMathspeak()},e}N.onNotify(function(e,t){"move"!==t&&"upDown"!==t||e.show().clearSelection()}),B.leftRightIntoCmdGoes=function(e){if(e&&"up"!==e&&"down"!==e)throw'"up" or "down" required for leftRightIntoCmdGoes option, got "'+e+'"';return e},N.onNotify(function(e,t){"upDown"!==t&&(e.upDownCache={})}),N.onNotify(function(e,t){"edit"===t&&e.show().deleteSelection()}),N.onNotify(function(e,t){"select"!==t&&e.endSelection()});var we,Ee,Se,ke,_e,Ie,Me,Le,Te,Ce,Ae=(__extends(De,Ce=me),De.prototype.keystroke=function(e,t){this.cursor.parent.keystroke(e,t,this.getControllerSelf())},De.prototype.escapeDir=function(e,t,r){i(e);var n=this.cursor;if(n.parent!==this.root&&(null==r||r.preventDefault()),n.parent!==this.root)return n.clearSelection(),n.parent.moveOutOf(e,n),n.controller.aria.alert(),this.notify("move")},De.prototype.moveDir=function(e){i(e);var t=this.cursor,r=t.options.leftRightIntoCmdGoes,n=t[e];return t.selection?t.insDirOf(e,t.selection.getEnd(e)):n?n.moveTowards(e,t,r):t.parent.moveOutOf(e,t,r),this.notify("move")},De.prototype.moveLeft=function(){return this.moveDir(e)},De.prototype.moveRight=function(){return this.moveDir(1)},De.prototype.moveUp=function(){return this.moveUpDown("up")},De.prototype.moveDown=function(){return this.moveUpDown("down")},De.prototype.moveUpDown=function(t){var r=this.notify("upDown").cursor,n="up"===t?(i="upInto","upOutOf"):(i="downInto","downOutOf"),o=r[e],i=(t=(t=r[1])&&t[i],o&&o[i]);return t?r.insAtLeftEnd(t):i?r.insAtRightEnd(i):r.parent.bubble(function(e){var t=e[n];if(t&&("function"==typeof t&&(t=t.call(e,r)),t instanceof ve&&r.jumpUpDown(e,t),!0!==t))return!1}),this},De.prototype.deleteDir=function(t){i(t);var r=this.cursor,n=r[t],o=r.parent.parent,a=r.controller;n&&n instanceof ve?n.sides?a.aria.queue(n.parent.chToCmd(n.sides[-t].ch).mathspeak({createdLeftOf:r})):n.blocks||"\\text"===n.parent.ctrlSeq||a.aria.queue(n):o&&o instanceof ve&&(o.sides?a.aria.queue(o.parent.chToCmd(o.sides[t].ch).mathspeak({createdLeftOf:r})):o.blocks&&o.mathspeakTemplate?o.upInto&&o.downInto?a.aria.queue(o.mathspeakTemplate[1]):(n=o.mathspeakTemplate,n=t===e?n[0]:n[n.length-1],a.aria.queue(n)):a.aria.queue(o)),o=r.selection,this.notify("edit"),o||((s=r[t])?s.deleteTowards(t,r):r.parent.deleteOutOf(t,r));var s=r[e];t=r[1];return s.siblingDeleted&&s.siblingDeleted(r.options,1),t.siblingDeleted&&t.siblingDeleted(r.options,e),r.parent.bubble(function(e){e.reflow()}),this},De.prototype.ctrlDeleteDir=function(t){i(t);var r=this.cursor;if(!r[t]||r.selection)return this.deleteDir(t);this.notify("edit"),n=t===e?new _(r.parent.getEnd(e),r[e]):new _(r[1],r.parent.getEnd(1)),r.controller.aria.queue(n),n.remove(),r.insAtDirEnd(t,r.parent);var n=r[e];t=r[1];return n&&n.siblingDeleted(r.options,1),t&&t.siblingDeleted(r.options,e),r.parent.bubble(function(e){e.reflow()}),this},De.prototype.backspace=function(){return this.deleteDir(e)},De.prototype.deleteForward=function(){return this.deleteDir(1)},De.prototype.startIncrementalSelection=function(){o("Multiple selections can't be simultaneously open",!ye),ye=!0,this.notify("select");var e=this.cursor;e.anticursor||e.startSelection()},De.prototype.selectDirIncremental=function(e){o("A selection is open",ye),ye=!0;var t=this.cursor,r=t.selection;i(e);var n=t[e];n?r&&r.getEnd(e)===n&&t.anticursor[-e]!==n?n.unselectInto(e,t):n.selectTowards(e,t):t.parent.selectOutOf(e,t)},De.prototype.finishIncrementalSelection=function(){o("A selection is open",ye);var e=this.cursor;e.clearSelection(),e.select()||e.show();var t=e.selection;t&&e.controller.aria.clear().queue(t.join("mathspeak"," ").trim()+" selected"),ye=!1},De.prototype.withIncrementalSelection=function(e){var t=this;try{this.startIncrementalSelection();try{e(function(e){return t.selectDirIncremental(e)})}finally{this.finishIncrementalSelection()}}finally{ye=!1}},De.prototype.selectDir=function(e){this.withIncrementalSelection(function(t){return t(e)})},De.prototype.selectLeft=function(){return this.selectDir(e)},De.prototype.selectRight=function(){return this.selectDir(1)},De.prototype.selectAll=function(){this.notify("move");var t=this.cursor;t.insAtRightEnd(this.root),this.withIncrementalSelection(function(r){for(;t[e];)r(e)})},De.prototype.selectToBlockEndInDir=function(e){var t=this.cursor;this.withIncrementalSelection(function(r){for(;t[e];)r(e)})},De.prototype.selectToRootEndInDir=function(e){var t=this,r=this.cursor;this.withIncrementalSelection(function(n){for(;r[e]||r.parent!==t.root;)n(e)})},De),Oe=(__extends(function(e){return Te.call(this)||this},Te=ve),we=oe.string,Ee=oe.regex,Se=oe.letter,ke=oe.digit,_e=oe.any,se=oe.optWhitespace,Ie=oe.succeed,Me=oe.fail,me=Se.map(function(e){return new Mt(e)}),Se=ke.map(function(e){return new xt(e)}),ke=Ee(/^[^${}\\_^]/).map(function(e){return new Ze(e)}),Se=Ee(/^[^\\a-eg-zA-Z]/).or(we("\\").then(Ee(/^[a-z]+/i).or(Ee(/^\s+/).result(" ")).or(_e))).then(function(e){var t=I[e];return t?(t.constructor?new t(e):t(e)).parser():Me("unknown command: \\"+e)}).or(me).or(Se).or(ke),ke=we("{").then(function(){return Le}).skip(we("}")),Se=se.then(ke.or(Se.map(function(e){var t=new dt;return e.adopt(t,0,0),t}))),Le=Se.many().map(Pe).skip(se),se=we("[").then(Se.then(function(e){return"]"!==e.join("latex")?Ie(e):Me("")}).many().map(Pe).skip(se)).skip(we("]")),(we=Le).block=Se,we.optBlock=se,we);function Pe(e){for(var t=e[0]||new dt,r=1;r<e.length;r+=1)e[r].children().adopt(t,t.getEnd(1),0);return t}function De(){return null!==Ce&&Ce.apply(this,arguments)||this}function Fe(e){return!1}B.maxDepth=function(e){return"number"==typeof e?e:void 0};var Ne,qe;__extends(Re,qe=Ae),Re.prototype.cleanLatex=function(e){return e.replace(/(\\[a-z]+) (?![a-z])/gi,"$1")},Re.prototype.exportLatex=function(){return this.cleanLatex(this.root.latex())},Re.prototype.writeLatex=function(e){var t=this.notify("edit").cursor;return t.parent.writeLatex(t,e),this},Re.prototype.exportLatexSelection=function(){var t={latex:"",startIndex:-1,endIndex:-1},r=this.cursor.selection;r?(t.startSelectionBefore=r.getEnd(e),t.endSelectionAfter=r.getEnd(1)):((r=this.cursor[e])?t.startSelectionAfter=r:t.startSelectionBefore=this.cursor.parent,(r=this.cursor[1])?t.endSelectionBefore=r:t.endSelectionAfter=this.cursor.parent),this.root.latexRecursive(t);for(var n=t.latex,o=this.cleanLatex(n),i=t.startIndex,a=t.endIndex,s=0,c=0;c<t.endIndex;c++)n[c]!==o[s]?(c<t.startIndex&&--i,--a):s+=1;return{latex:o,startIndex:i,endIndex:a}},Re.prototype.classifyLatexForEfficientUpdate=function(e){if("string"==typeof e){var t=e.match(/-?[0-9.]+$/g);return t&&1===t.length?{latex:e,prefix:e.substr(0,e.length-t[0].length),digits:t[0]}:void 0}},Re.prototype.updateLatexMathEfficiently=function(t,r){var n=this.root,o=this.classifyLatexForEfficientUpdate(t);if(!o)return!1;if(!(p=this.classifyLatexForEfficientUpdate(r))||p.prefix!==o.prefix)return!1;var i=p.digits,a=o.digits,s=!1,c=!1;"-"===i[0]&&(s=!0,i=i.substr(1)),"-"===a[0]&&(c=!0,a=a.substr(1));for(var l=this.root.getEnd(1),u=[],d=i.length-1;0<=d;d--){if(!l||l.ctrlSeq!==i[d])return!1;if(l.parent!==n)return!1;u.unshift(l),l=l[e]}if(s&&!c){if(!(r=l))return!1;if("-"!==r.ctrlSeq)return!1;if(r[1]!==u[0])return!1;if(r.parent!==n)return!1;var p=r[e];if(p&&p.parent!==n)return!1;u[0][e]=r[e],n.getEnd(e)===r&&n.setEnds(((o={})[e]=u[0],o[1]=n.getEnd(1),o)),p&&(p[1]=u[0]),r.domFrag().remove()}!s&&c&&(s=new Xt("-"),(c=document.createElement("span")).textContent="-",s.setDOM(c),(c=u[0][e])&&(c[1]=s),n.getEnd(e)===u[0]&&n.setEnds(((c={})[e]=s,c[1]=n.getEnd(1),c)),s.parent=n,s[e]=u[0][e],s[1]=u[0],(u[0][e]=s).contactWeld(this.cursor),s.domFrag().insertBefore(u[0].domFrag()));var h=Math.min(i.length,a.length);for(d=0;d<h;d++){var f=a[d];(l=u[d]).ctrlSeq!==f&&(l.ctrlSeq=f,l.domFrag().oneElement().textContent=f,l.mathspeakName=f)}if(i.length>a.length)for(l=u[a.length-1],n.setEnds(((v={})[e]=n.getEnd(e),v[1]=l,v)),l[1]=0,d=i.length-1;h<=d;d--)u[d].domFrag().remove();if(a.length>i.length){var g=document.createDocumentFragment();for(d=h;d<a.length;d++){var m=document.createElement("span");m.className="dcg-mq-digit",m.textContent=a[d];var y=new xt(a[d]);y.parent=n,y.setDOM(m),g.appendChild(m),y[e]=n.getEnd(1),y[1]=0,y[e][1]=y,n.setEnds(((m={})[e]=n.getEnd(e),m[1]=y,m))}n.domFrag().oneElement().appendChild(g)}var v=this.exportLatex();return v!==t?(console.warn("tried updating latex efficiently but did not work. Attempted: "+t+" but wrote: "+v),!1):((v=n.getEnd(1))&&v.fixDigitGrouping(this.cursor.options),!0)},Re.prototype.renderLatexMathFromScratch=function(t){var r=this.root,n=this.cursor,o=oe.all,i=oe.eof;o=Oe.skip(i).or(o.result(!1)).parse(t);r.setEnds(((t={})[e]=0,t[1]=0,t)),o&&o.children().adopt(r,0,0),o?((t=r.domFrag()).children().remove(),t.oneElement().appendChild(o.html()),r.finalizeInsert(n.options,n)):r.domFrag().empty()},Re.prototype.renderLatexMath=function(t){var r=this.cursor,n=this.root;this.notify("replace"),r.clearSelection();var o=this.exportLatex();n.getEnd(e)&&n.getEnd(1)&&o===t||(this.updateLatexMathEfficiently(t,o)||this.renderLatexMathFromScratch(t),this.updateMathspeak()),r.insAtRightEnd(n)},Re.prototype.renderLatexText=function(t){var r=this.root,n=this.cursor;r.domFrag().children().slice(1).remove(),r.setEnds(((c={})[e]=0,c[1]=0,c)),delete n.selection,n.show().insAtRightEnd(r);var o=oe.regex,i=oe.string,a=oe.eof,s=oe.all,c=i("$").then(Oe).skip(i("$").or(a)).map(function(t){var r=new RootMathCommand(n);r.createBlocks();var o=r.getEnd(e);return t.children().adopt(o,0,0),r}),l=(o=i("\\$").result("$").or(o(/^[^$]/)).map(function(e){return new Ze(e)}),c.or(o).many().skip(a).or(s.result(!1)).parse(t));if(l){for(var u=0;u<l.length;u+=1)l[u].adopt(r,r.getEnd(1),0);h(r.html()).appendTo(r.domFrag().oneElement()),r.finalizeInsert(n.options,n)}},Ae=Re;function Re(){return null!==qe&&qe.apply(this,arguments)||this}j.prototype.ignoreNextMousedown=Fe,N.onNotify(function(e,t){"edit"!==t&&"replace"!==t||Ne&&Ne.cursor===e&&Ne.cb()});var Be,je;__extends(Ue,je=Ae),Ue.prototype.addMouseEventListener=function(){this.container.addEventListener("mousedown",this.handleMouseDown)},Ue.prototype.removeMouseEventListener=function(){this.container.removeEventListener("mousedown",this.handleMouseDown)},Ue.prototype.seek=function(e,t,r){for(var n,o=this.notify("select").cursor;e&&!(n=E.getNodeOfElement(e));)e=e.parentElement;return n=n||this.root,o.clearSelection().show(),n.seek(t,o),this.scrollHoriz(),this},__extends(Ve,Be=Ue),Ve.prototype.setOverflowClasses=function(){var e,t,r=this.root.domFrag().oneElement(),n=!1,o=!1;this.blurred||(t=c(r).width,e=r.scrollWidth,n=t+(t=r.scrollLeft)<e,o=0<t),r.classList.contains("dcg-mq-editing-overflow-right")!==n&&r.classList.toggle("dcg-mq-editing-overflow-right"),r.classList.contains("dcg-mq-editing-overflow-left")!==o&&r.classList.toggle("dcg-mq-editing-overflow-left")},Ve.prototype.scrollHoriz=function(){var t=this,r=this.cursor,n=r.selection,o=c(this.root.domFrag().oneElement());if(!r.domFrag().isEmpty()||n){if(n){var i=c(n.domFrag().oneElement()),a=i.left-(o.left+20),s=i.right-(o.right-20);if(n.getEnd(e)===r[1])if(a<0)l=a;else{if(!(0<s))return;l=i.left-s<o.left+20?a:s}else if(0<s)l=s;else{if(!(a<0))return;l=i.right-a>o.right-20?s:a}}else{if((h=c(r.domFrag().oneElement()).left)>o.right-20)var l=h-(o.right-20);else{if(!(h<o.left+20))return;l=h-(o.left+20)}}var u,p,h=this.root.domFrag().oneElement();l<0&&0===h.scrollLeft||0<l&&h.scrollWidth<=h.scrollLeft+o.width||(this.cancelScrollHoriz&&(this.cancelScrollHoriz(),this.cancelScrollHoriz=void 0),u=this.root.domFrag().oneElement(),p=u.scrollLeft,d(this.getScrollAnimationDuration(),function(e,r,n){1<=e?(t.cancelScrollHoriz=void 0,u.scrollLeft=Math.round(p+l),t.setOverflowClasses()):(t.cancelScrollHoriz=n,r(),u.scrollLeft=Math.round(p+e*l))}))}else{this.cancelScrollHoriz&&(this.cancelScrollHoriz(),this.cancelScrollHoriz=void 0);var f=this.root.domFrag().oneElement(),g=f.scrollLeft;d(this.getScrollAnimationDuration(),function(e,r,n){1<=e?(t.cancelScrollHoriz=void 0,f.scrollLeft=0,t.setOverflowClasses()):(t.cancelScrollHoriz=n,r(),f.scrollLeft=Math.round((1-e)*g))})}},Ve.prototype.getScrollAnimationDuration=function(){var e;return null!==(e=this.options.scrollAnimationDuration)&&void 0!==e?e:100},Ae=Ve;function Ve(){return null!==Be&&Be.apply(this,arguments)||this}function Ue(){var e=null!==je&&je.apply(this,arguments)||this;return e.handleMouseDown=function(t){var r,o,i=function(e,t){var r;if("function"==typeof(null==e?void 0:e.closest))return e.closest(t);if(!(e instanceof HTMLElement))return null;var n=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,o=e;do{if(n.call(o,t))return o}while(null!==(o=null!==(r=null!==(r=null==o?void 0:o.parentElement)&&void 0!==r?r:null==o?void 0:o.parentNode)&&void 0!==r?r:null)&&1===o.nodeType);return null}(t.target,".dcg-mq-root-block"),a=(d=i&&E.getNodeOfElement(i)||E.getNodeOfElement(e.root.domFrag().oneElement())).domFrag().firstNode().ownerDocument,s=d.controller,c=s.cursor,l=c.blink,u=s.getTextareaSpanOrThrow(),d=s.getTextareaOrThrow();function p(e){o=e.target}function f(e){c.anticursor||c.startSelection(),s.seek(o,e.clientX,e.clientY).cursor.select(),c.selection&&c.controller.aria.clear().queue(c.selection.join("mathspeak")+" selected").alert(),o=null}function g(){null==i||i.removeEventListener("mousemove",p),null==a||a.removeEventListener("mousemove",f),null==a||a.removeEventListener("mouseup",y),Ne=void 0}function m(){s.editable?(c.show(),c.controller.aria.queue(c.parent).alert()):h(u).detach()}function y(){c.blink=l,c.selection||m(),g()}t.preventDefault(),t.target.unselectable=!0,c.options.ignoreNextMousedown(t)||(c.options.ignoreNextMousedown=Fe,o=null,Ne={cursor:c,cb:function(){r=!0,c.blink=l,c.clearSelection(),m(),g()}},s.blurred&&(i&&!s.editable&&h(i).prepend(h(u)),d.focus(),r)||(c.blink=n,s.seek(t.target,t.clientX,t.clientY).cursor.startSelection(),null==i||i.addEventListener("mousemove",p),null==a||a.addEventListener("mousemove",f),null==a||a.addEventListener("mouseup",y)))},e}function Ge(e,t){return ae(e[0],t)}function ze(e,t){this.childCount=e,this.render=t}j.prototype.substituteTextarea=function(){return s("textarea",{autocapitalize:"off",autocomplete:"off",autocorrect:"off",spellcheck:!1,"x-palm-disable-ste-all":!0})},j.prototype.substituteKeyboardEvents=Ge;var He,We,Ke,$e,Ye,Xe=(__extends(ot,Ye=Ae),ot.prototype.createTextarea=function(){this.textareaSpan=s("span",{class:"dcg-mq-textarea"});var e=this.options.substituteTextarea();if(!e.nodeType)throw"substituteTextarea() must return a DOM element, got "+e;this.textarea=h(e).appendTo(this.textareaSpan).oneElement();var t=this;t.cursor.selectionChanged=function(){t.selectionChanged()}},ot.prototype.selectionChanged=function(){var e=this;e.textareaSelectionTimeout||(e.textareaSelectionTimeout=setTimeout(function(){e.setTextareaSelection()}))},ot.prototype.setTextareaSelection=function(){this.textareaSelectionTimeout=0;var e="";this.cursor.selection&&(e=this.cleanLatex(this.cursor.selection.join("latex")),this.options.statelessClipboard&&(e="$"+e+"$")),this.selectFn(e)},ot.prototype.staticMathTextareaEvents=function(){var e=this;this.removeTextareaEventListener("cut"),this.removeTextareaEventListener("paste"),e.options.disableCopyPaste?this.removeTextareaEventListener("copy"):this.addTextareaEventListeners({copy:function(){e.setTextareaSelection()}}),this.addStaticFocusBlurListeners(),e.selectFn=function(t){var r=e.getTextareaOrThrow();r instanceof HTMLTextAreaElement&&(r.value=t)&&r.select()}},ot.prototype.editablesTextareaEvents=function(){var e,t,r=this.getTextareaOrThrow(),n=this.getTextareaSpanOrThrow();this.options.version<3?(e=this.options.assertJquery(),t=this.options.substituteKeyboardEvents(e(r),this),this.selectFn=function(e){t.select(e)}):(r=ae(r,this).select,this.selectFn=r),h(this.container).prepend(h(n)),this.addEditableFocusBlurListeners(),this.updateMathspeak()},ot.prototype.unbindEditablesEvents=function(){var e=this.getTextareaOrThrow(),t=this.getTextareaSpanOrThrow();this.selectFn=function(t){e instanceof HTMLTextAreaElement&&(e.value=t)&&e.select()},h(t).remove(),this.removeTextareaEventListener("focus"),this.removeTextareaEventListener("blur"),this.blurred=!0,this.removeTextareaEventListener("cut"),this.removeTextareaEventListener("paste")},ot.prototype.typedText=function(e){if("\n"===e)return this.handle("enter");var t=this.notify(void 0).cursor;t.parent.write(t,e),this.scrollHoriz()},ot.prototype.cut=function(){var e=this,t=e.cursor;t.selection&&setTimeout(function(){e.notify("edit"),t.parent.bubble(function(e){e.reflow()}),e.options&&e.options.onCut&&e.options.onCut()})},ot.prototype.copy=function(){this.setTextareaSelection()},ot.prototype.paste=function(e){this.options.statelessClipboard&&(e="$"===e.slice(0,1)&&"$"===e.slice(-1)?e.slice(1,-1):"\\text{"+e+"}"),this.writeLatex(e).cursor.show(),this.scrollHoriz(),this.options&&this.options.onPaste&&this.options.onPaste()},ot.prototype.setupStaticField=function(){this.mathspeakSpan=s("span",{class:"dcg-mq-mathspeak"}),h(this.container).prepend(h(this.mathspeakSpan)),this.updateMathspeak(),this.blurred=!0,this.cursor.hide().parent.blur(this.cursor)},ot.prototype.updateMathspeak=function(){var e=this.getAriaLabel(),t=/[A-Za-z0-9]$/.test(e)?e+":":e,r=this.root.mathspeak().trim();this.aria.clear(),e=this.getTextareaOrThrow(),this.mathspeakSpan?(e.setAttribute("aria-label",""),this.mathspeakSpan.textContent=(t+" "+r).trim()):e.setAttribute("aria-label",(t+" "+r+" "+this.ariaPostLabel).trim())},ot),Qe=(Ae=(__extends(nt,$e=ve),nt.prototype.finalizeInsert=function(t,r){this.postOrder(function(e){e.finalizeTree(t)}),this.postOrder(function(e){e.contactWeld(r)}),this.postOrder(function(e){e.blur(r)}),this.postOrder(function(e){e.reflow()});var n=this[1],o=this[e];n&&n.siblingCreated(t,e),o&&o.siblingCreated(t,1),this.bubble(function(e){e.reflow()})},nt.prototype.prepareInsertionAt=function(e){var t=e.options.maxDepth;if(void 0!==t){if(t<(e=e.depth()))return!1;this.removeNodesDeeperThan(t-e)}return!0},nt.prototype.removeNodesDeeperThan=function(e){for(var t,r,n=[[this,0]];t=n.shift();){var o=t;o[0].children().each(function(t){var i=t instanceof dt?1:0;(r=o[1]+i)<=e?n.push([t,r]):(i?t.children():t).remove()})}},nt),__extends(rt,Ke=Ae),rt.prototype.setEnds=function(t){o("MathCommand ends are never empty",t[e]&&t[1]),this.ends=t},rt.prototype.getEnd=function(e){return this.ends[e]},rt.prototype.setCtrlSeqHtmlAndText=function(e,t,r){this.ctrlSeq||(this.ctrlSeq=e),t&&(this.domView=t),r&&(this.textTemplate=r)},rt.prototype.replaces=function(e){e.disown(),this.replacedFragment=e},rt.prototype.isEmpty=function(){return this.foldChildren(!0,function(e,t){return e&&t.isEmpty()})},rt.prototype.parser=function(){var e=this;return Oe.block.times(this.numBlocks()).map(function(t){e.blocks=t;for(var r=0;r<t.length;r+=1)t[r].adopt(e,e.getEnd(1),0);return e})},rt.prototype.createLeftOf=function(t){var r,n=this.replacedFragment;this.createBlocks(),Ke.prototype.createLeftOf.call(this,t),n&&(r=this.getEnd(e),n.adopt(r,0,0),n.domFrag().appendTo(r.domFrag().oneElement()),this.placeCursor(t),this.prepareInsertionAt(t)),this.finalizeInsert(t.options,t),this.placeCursor(t)},rt.prototype.createBlocks=function(){for(var e=this.numBlocks(),t=this.blocks=Array(e),r=0;r<e;r+=1)(t[r]=new dt).adopt(this,this.getEnd(1),0)},rt.prototype.placeCursor=function(t){t.insAtRightEnd(this.foldChildren(this.getEnd(e),function(e,t){return e.isEmpty()?e:t}))},rt.prototype.moveTowards=function(e,t,r){"up"===r?n=this.upInto:"down"===r&&(n=this.downInto);var n=n||this.getEnd(-e);t.insAtDirEnd(-e,n),t.controller.aria.queueDirEndOf(-e).queue(t.parent,!0)},rt.prototype.deleteTowards=function(e,t){this.isEmpty()?t[e]=this.remove()[e]:this.moveTowards(e,t)},rt.prototype.selectTowards=function(e,t){t[-e]=this,t[e]=this[e]},rt.prototype.selectChildren=function(){return new F(this,this)},rt.prototype.unselectInto=function(e,t){var r=t.anticursor.ancestors[this.id];t.insAtDirEnd(-e,r)},rt.prototype.seek=function(t,r){function n(t){var r=t.domFrag().oneElement(),n=c(r).left;t=n+r.offsetWidth;return(r={})[e]=n,r[1]=t,r}var o=this,i=n(o);if(t<i[e])return r.insLeftOf(o);if(t>i[1])return r.insRightOf(o);var a=i[e];o.eachChild(function(s){var c=n(s);return t<c[e]?(t-a<c[e]-t?s[e]?r.insAtRightEnd(s[e]):r.insLeftOf(o):r.insAtLeftEnd(s),!1):t>c[1]?void(s[1]?a=c[1]:i[1]-t<t-c[1]?r.insRightOf(o):r.insAtRightEnd(s)):(s.seek(t,r),!1)})},rt.prototype.numBlocks=function(){return this.domView.childCount},rt.prototype.html=function(){var e=this.blocks;return o("domView is defined",this.domView),e=this.domView.render(e||[]),this.setDOM(e),E.linkElementByCmdNode(e,this),e},rt.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e),e.latex+=this.ctrlSeq||"",this.eachChild(function(t){e.latex+="{";var r=e.latex.length;t.latexRecursive(e),r===e.latex.length&&(e.latex+=" "),e.latex+="}"}),this.checkCursorContextClose(e)},rt.prototype.text=function(){var e=this,t=0;return e.foldChildren(e.textTemplate[t],function(r,n){return t+=1,n=n.text(),r&&"("===e.textTemplate[t]&&"("===n[0]&&")"===n.slice(-1)?r+n.slice(1,-1)+e.textTemplate[t]:r+n+(e.textTemplate[t]||"")})},rt.prototype.mathspeak=function(){var e=this,t=0;return e.foldChildren(e.mathspeakTemplate[t]||"Start"+e.ctrlSeq+" ",function(r,n){return t+=1,r+" "+n.mathspeak()+" "+(e.mathspeakTemplate[t]+" "||"End"+e.ctrlSeq+" ")})},rt),Je=(__extends(tt,We=Qe),tt.prototype.setCtrlSeqHtmlTextAndMathspeak=function(e,t,r,n){!r&&e&&(r=e.replace(/^\\/,"")),this.mathspeakName=n||r,We.prototype.setCtrlSeqHtmlAndText.call(this,e,t,[r||""])},tt.prototype.parser=function(){return oe.succeed(this)},tt.prototype.numBlocks=function(){return 0},tt.prototype.replaces=function(e){e.remove()},tt.prototype.createBlocks=function(){},tt.prototype.moveTowards=function(e,t){t.domFrag().insDirOf(e,this.domFrag()),t[-e]=this,t[e]=this[e],t.controller.aria.queue(this)},tt.prototype.deleteTowards=function(e,t){t[e]=this.remove()[e]},tt.prototype.seek=function(e,t){var r=this.domFrag().oneElement();return e-c(r).left<r.offsetWidth/2?t.insLeftOf(this):t.insRightOf(this),t},tt.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e),e.latex+=this.ctrlSeq||"",this.checkCursorContextClose(e)},tt.prototype.text=function(){return this.textTemplate.join("")},tt.prototype.mathspeak=function(e){return this.mathspeakName||""},tt.prototype.placeCursor=function(){},tt.prototype.isEmpty=function(){return!0},tt),Ze=(__extends(et,He=Je),et);function et(e,t,r){return He.call(this,e,s("span",{},[t||s.text(e)]),void 0,r)||this}function tt(e,t,r,n){var o=We.call(this)||this;return o.setCtrlSeqHtmlTextAndMathspeak(e,t?new ze(0,function(){return t.cloneNode(!0)}):void 0,r,n),o}function rt(e,t,r){var n=Ke.call(this)||this;return n.textTemplate=[""],n.mathspeakTemplate=[""],n.setCtrlSeqHtmlAndText(e,t,r),n}function nt(){return null!==$e&&$e.apply(this,arguments)||this}function ot(){var e=null!==Ye&&Ye.apply(this,arguments)||this;return e.selectFn=n,e}function it(e,t,r){return function(){return new Ze(e,t?s.entityText(t):void 0,r)}}var at,st=(__extends(ct,at=Je),ct);function ct(e,t,r,n,o){return o?at.call(this,e,s("span",{},[t||s.text(e||"")]),void 0,n)||this:at.call(this,e,s("span",{class:"dcg-mq-binary-operator"},t?[t]:[]),r,n)||this}function lt(e,t,r,n){return function(){return new st(e,t?s.entityText(t):void 0,r,n)}}var ut,dt=(__extends(pt,ut=Ae),pt.prototype.join=function(e){return this.foldChildren("",function(t,r){return t+r[e]()})},pt.prototype.html=function(){var e=document.createDocumentFragment();return this.eachChild(function(t){t=t.html(),e.appendChild(t)}),e},pt.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e),this.eachChild(function(t){return t.latexRecursive(e)}),this.checkCursorContextClose(e)},pt.prototype.text=function(){var t=this.getEnd(e);return t===this.getEnd(1)&&0!==t?t.text():this.join("text")},pt.prototype.mathspeak=function(){var e="",t={};return this.controller&&(t=this.controller.options.autoOperatorNames),this.foldChildren([],function(r,n){var o,i;return n.isPartOfOperator?e+=n.mathspeak():(""!==e&&(0<t._maxLength&&"string"==typeof(i=t[e.toLowerCase()])&&(e=i),r.push(e+" "),e=""),o=n.mathspeak(),i=n.ctrlSeq,!isNaN(i)||"."===i||n.parent&&n.parent.parent&&n.parent.parent.isTextBlock()||(o=" "+o+" "),r.push(o)),r}).join("").replace(/ +(?= )/g,"").replace(/(\.)([0-9]+)/g,function(e,t,r){return t+r.split("").join(" ").trim()})},pt.prototype.keystroke=function(t,r,n){return!n.options.spaceBehavesLikeTab||"Spacebar"!==t&&"Shift-Spacebar"!==t?ut.prototype.keystroke.call(this,t,r,n):(null==r||r.preventDefault(),void n.escapeDir("Shift-Spacebar"===t?e:1,t,r))},pt.prototype.moveOutOf=function(e,t,r){var n;"up"===r?n=this.parent.upInto:"down"===r&&(n=this.parent.downInto),!n&&this[e]?(n=-e,t.insAtDirEnd(n,this[e]),t.controller.aria.queueDirEndOf(n).queue(t.parent,!0)):(t.insDirOf(e,this.parent),t.controller.aria.queueDirOf(e).queue(this.parent))},pt.prototype.selectOutOf=function(e,t){t.insDirOf(e,this.parent)},pt.prototype.deleteOutOf=function(e,t){t.unwrapGramp()},pt.prototype.seek=function(t,r){var n=this.getEnd(1);if(!n)return r.insAtRightEnd(this);var o=n.domFrag().oneElement();if(c(o).left+o.offsetWidth<t)return r.insAtRightEnd(this);if(t<c(this.getEnd(e).domFrag().oneElement()).left)return r.insAtLeftEnd(this);for(;t<c(n.domFrag().oneElement()).left;)n=n[e];return n.seek(t,r)},pt.prototype.chToCmd=function(e,t){return e.match(/^[a-eg-zA-Z]$/)?new Mt(e):/^\d$/.test(e)?new xt(e):t&&t.typingSlashWritesDivisionSymbol&&"/"===e?I[""](e):t&&t.typingAsteriskWritesTimesSymbol&&"*"===e?I[""](e):t&&t.typingPercentWritesPercentOf&&"%"===e?I.percentof(e):(t=M[e]||I[e])?t.constructor?new t(e):t(e):new Ze(e)},pt.prototype.write=function(e,t){var r=this.chToCmd(t,e.options);e.selection&&r.replaces(e.replaceSelection()),e.isTooDeep()||(r.createLeftOf(e.show()),"/"===t?e.controller.aria.alert("over"):e.controller.aria.alert(r.mathspeak({createdLeftOf:e})))},pt.prototype.writeLatex=function(t,r){var n=oe.all,o=oe.eof;(n=Oe.skip(o).or(n.result(!1)).parse(r))&&!n.isEmpty()&&n.prepareInsertionAt(t)&&(n.children().adopt(t.parent,t[e],t[1]),h(n.html()).insertBefore(t.domFrag()),t[e]=n.getEnd(1),n.finalizeInsert(t.options,t),r=n.getEnd(1),n=n.getEnd(e),r=r[1],n=n[e],r&&r.siblingCreated(t.options,e),n&&n.siblingCreated(t.options,1),t.parent.bubble(function(e){e.reflow()}))},pt.prototype.focus=function(){return this.domFrag().addClass("dcg-mq-hasCursor"),this.domFrag().removeClass("dcg-mq-empty"),this},pt.prototype.blur=function(e){return this.domFrag().removeClass("dcg-mq-hasCursor"),this.isEmpty()&&(this.domFrag().addClass("dcg-mq-empty"),e&&this.isQuietEmptyDelimiter(e.options.quietEmptyDelimiters)&&this.domFrag().addClass("dcg-mq-quiet-delimiter")),this},pt);function pt(){var e=null!==ut&&ut.apply(this,arguments)||this;return e.ariaLabel="block",e}j.prototype.mouseEvents=!0,q.StaticMath=function(e){var t;return t=e.AbstractMathQuill,__extends(r,t),r.prototype.__mathquillify=function(e,r){return this.config(e),t.prototype.mathquillify.call(this,"dcg-mq-math-mode"),this.__controller.setupStaticField(),this.__options.mouseEvents&&(this.__controller.addMouseEventListener(),this.__controller.staticMathTextareaEvents()),this},r.prototype.latex=function(r){var n,o=t.prototype.latex.apply(this,arguments);return 0<arguments.length&&(n=this.innerFields=[],this.__controller.root.postOrder(function(t){t.registerInnerField(n,e.InnerMathField)}),this.__controller.updateMathspeak()),o},r.prototype.setAriaLabel=function(e){return this.__controller.setAriaLabel(e),this},r.prototype.getAriaLabel=function(){return this.__controller.getAriaLabel()},r.RootBlock=dt,r;function r(r){var n=(r=t.call(this,r)||this).innerFields=[];return r.__controller.root.postOrder(function(t){t.registerInnerField(n,e.InnerMathField)}),r}};var ht,ft=(__extends(gt,ht=dt),gt);function gt(){return null!==ht&&ht.apply(this,arguments)||this}Z(ft.prototype),q.MathField=function(e){var t;return t=e.EditableField,__extends(r,t),r.prototype.__mathquillify=function(e,r){return this.config(e),1<r&&(this.__controller.root.reflow=n),t.prototype.mathquillify.call(this,"dcg-mq-editable-field dcg-mq-math-mode"),delete this.__controller.root.reflow,this},r.RootBlock=ft,r;function r(){return null!==t&&t.apply(this,arguments)||this}},q.InnerMathField=function(e){return o("MathField class is defined",e.MathField),r=e.MathField,__extends(t,r),t.prototype.makeStatic=function(){this.__controller.editable=!1,this.__controller.root.blur(),this.__controller.unbindEditablesEvents(),h(this.__controller.container).removeClass("dcg-mq-editable-field")},t.prototype.makeEditable=function(){this.__controller.editable=!0,this.__controller.editablesTextareaEvents(),this.__controller.cursor.insAtRightEnd(this.__controller.root),h(this.__controller.container).addClass("dcg-mq-editable-field")},t;function t(){return null!==r&&r.apply(this,arguments)||this}var r};var mt,yt,vt,bt=(__extends(kt,vt=Je),kt.prototype.finalizeTree=function(e,t){this.sharedSiblingMethod(e,t)},kt.prototype.siblingDeleted=function(e,t){this.sharedSiblingMethod(e,t)},kt.prototype.siblingCreated=function(e,t){this.sharedSiblingMethod(e,t)},kt.prototype.sharedSiblingMethod=function(t,r){r!==e&&this[1]instanceof kt||this.fixDigitGrouping(t)},kt.prototype.fixDigitGrouping=function(t){if(t.enableDigitGrouping){var r=this,n=this,o=0,i=[],a=r;do{if(/^[0-9]$/.test(a.ctrlSeq))r=a;else if("\\ "===a.ctrlSeq)r=a,o+=1;else{if("."!==a.ctrlSeq)break;r=a,i.push(a)}}while(a=r[e]);for(;a=n[1];)if(/^[0-9]$/.test(a.ctrlSeq))n=a;else if("\\ "===a.ctrlSeq)n=a,o+=1;else{if("."!==a.ctrlSeq)break;n=a,i.push(a)}for(;n!==r&&r&&"\\ "===r.ctrlSeq;)r=r[1],--o;for(;n!==r&&n&&"\\ "===n.ctrlSeq;)n=n[e],--o;r===n&&r&&"\\ "===r.ctrlSeq||(0<o||1<i.length?this.removeGroupingBetween(r,n):i[0]?(i[0]!==r&&this.addGroupingBetween(i[0][e],r),i[0]!==n&&this.removeGroupingBetween(i[0][1],n)):this.addGroupingBetween(n,r))}},kt.prototype.removeGroupingBetween=function(e,t){var r=e;do{if(r instanceof kt&&r.setGroupingClass(void 0),!r||r===t)break}while(r=r[1])},kt.prototype.addGroupingBetween=function(t,r){var n=t,o=0,i=0;for(n=t;n&&(i+=1,n!==r);)n=n[e];var a=i%3;for(0===a&&(a=3),n=t;n;){o+=1;var s=void 0;if(4<=i&&(o===i?s="dcg-mq-group-leading-"+a:o%3==0&&o!==i&&(s="dcg-mq-group-start"),s=s||"dcg-mq-group-other"),n instanceof kt&&n.setGroupingClass(s),n===r)break;n=n[e]}},kt.prototype.setGroupingClass=function(e){this._groupingClass!==e&&(this._groupingClass&&this.domFrag().removeClass(this._groupingClass),e&&this.domFrag().addClass(e),this._groupingClass=e)},kt),xt=(__extends(St,yt=bt),St.prototype.createLeftOf=function(t){var r=t[e],n=r&&r[e],o=t.parent.parent instanceof Dr?t.parent.parent.sub:void 0;t.options.autoSubscriptNumerals&&t.parent!==o&&(r instanceof wt&&!1!==r.isItalic||r instanceof Dr&&n instanceof wt&&!1!==n.isItalic)?((new Br).createLeftOf(t),yt.prototype.createLeftOf.call(this,t),t.insRightOf(t.parent.parent)):yt.prototype.createLeftOf.call(this,t)},St.prototype.mathspeak=function(t){if(t&&t.createdLeftOf){var r=t.createdLeftOf,n=r[e],o=n&&n[e];t=r.parent.parent instanceof Dr?r.parent.parent.sub:void 0;if(r.options.autoSubscriptNumerals&&r.parent!==t&&(n instanceof wt&&!1!==n.isItalic||r[e]instanceof Dr&&o instanceof wt&&!1!==o.isItalic))return"Subscript "+yt.prototype.mathspeak.call(this)+" Baseline"}return yt.prototype.mathspeak.call(this)},St),wt=(__extends(Et,mt=Je),Et.prototype.text=function(){var t=this.ctrlSeq||"";return this.isPartOfOperator?"\\"==t[0]?t=t.slice(1,t.length):" "==t[t.length-1]&&(t=t.slice(0,-1)):(!this[e]||this[e]instanceof Et||this[e]instanceof st||"\\ "===this[e].ctrlSeq||(t="*"+t),!this[1]||this[1]instanceof st||this[1]instanceof Dr||(t+="*")),t},Et.prototype.mathspeak=function(){var e=this.ctrlSeq||"";return this.isPartOfOperator||1<e.length||this.parent&&this.parent.parent&&this.parent.parent.isTextBlock()?mt.prototype.mathspeak.call(this):'"'+e+'"'},Et);function Et(e,t){return mt.call(this,e,s("var",{},[t||s.text(e)]))||this}function St(e,t){return yt.call(this,e,s("span",{class:"dcg-mq-digit"},[s.text(e)]),void 0,t)||this}function kt(){return null!==vt&&vt.apply(this,arguments)||this}function _t(e,t){return function(){return new wt(e,s.entityText(t))}}j.prototype.autoCommands={_maxLength:0},B.autoCommands=function(e){if("string"!=typeof e||!/^[a-z]+(?: [a-z]+)*$/i.test(e))throw'"'+e+'" not a space-delimited list of only letters';for(var t=e.split(" "),n={},o=0,i=0;i<t.length;i+=1){var a=t[i];if(a.length<2)throw'autocommand "'+a+'" not minimum length of 2';if(I[a]===Ft)throw'"'+a+'" is a built-in operator name';n[a]=1,o=r(o,a.length)}return n._maxLength=o,n},j.prototype.quietEmptyDelimiters={},B.quietEmptyDelimiters=function(e){void 0===e&&(e="");for(var t=e.split(" "),r={},n=0;n<t.length;n+=1)r[t[n]]=1;return r},j.prototype.autoParenthesizedFunctions={_maxLength:0},B.autoParenthesizedFunctions=function(e){if("string"!=typeof e||!/^[a-z]+(?: [a-z]+)*$/i.test(e))throw'"'+e+'" not a space-delimited list of only letters';for(var t=e.split(" "),n={},o=0,i=0;i<t.length;i+=1){var a=t[i];if(a.length<2)throw'autocommand "'+a+'" not minimum length of 2';n[a]=1,o=r(o,a.length)}return n._maxLength=o,n};var It,Mt=(__extends(Tt,It=wt),Tt.prototype.checkAutoCmds=function(t){if(!this.shouldIgnoreSubstitutionInSimpleSubscript(t.options)){var r=t.options.autoCommands,n=r._maxLength||0;if(0<n){for(var o="",i=this,a=0;i instanceof Tt&&i.ctrlSeq===i.letter&&a<n;)o=i.letter+o,i=i[e],a+=1;for(;o.length;){if(r.hasOwnProperty(o)){for(i=this,a=1;i&&a<o.length;a+=1,i=i[e]);new _(i,this).remove(),t[e]=i[e];var s=I[o];return((c=s)&&c.prototype instanceof ve?new s(o):s(o)).createLeftOf(t)}o=o.slice(1)}}}var c},Tt.prototype.autoParenthesize=function(t){var r=t.parent.getEnd(1);if(!(r&&r instanceof gn&&"\\left("===r.ctrlSeq||this.shouldIgnoreSubstitutionInSimpleSubscript(t.options))){for(var n="",o=this,i=0,a=t.options.autoParenthesizedFunctions,s=a._maxLength||0,c=t.options.autoOperatorNames;o instanceof Tt&&i<s;)n=o.letter+n,o=o[e],i+=1;for(;n.length;){if(a.hasOwnProperty(n)&&c.hasOwnProperty(n))return t.parent.write(t,"(");n=n.slice(1)}}},Tt.prototype.createLeftOf=function(e){It.prototype.createLeftOf.call(this,e),this.checkAutoCmds(e),this.autoParenthesize(e)},Tt.prototype.italicize=function(e){return this.isItalic=e,this.isPartOfOperator=!e,this.domFrag().toggleClass("dcg-mq-operator-name",!e),this},Tt.prototype.finalizeTree=function(e,t){this.sharedSiblingMethod(e,t)},Tt.prototype.siblingDeleted=function(e,t){this.sharedSiblingMethod(e,t)},Tt.prototype.siblingCreated=function(e,t){this.sharedSiblingMethod(e,t)},Tt.prototype.sharedSiblingMethod=function(t,r){r!==e&&this[1]instanceof Tt||this.autoUnItalicize(t)},Tt.prototype.autoUnItalicize=function(r){var n=r.autoOperatorNames;if(0!==n._maxLength&&!this.shouldIgnoreSubstitutionInSimpleSubscript(r)){for(var o=this.letter,i=this[e];i instanceof Tt;i=i[e])o=i.letter+o;for(var a=this[1];a instanceof Tt;a=a[1])o+=a.letter;var s=i&&i[1];r=a&&a[e];new _(s||this.parent.getEnd(e),r||this.parent.getEnd(1)).each(function(e){e instanceof Tt&&(e.italicize(!0).domFrag().removeClass("dcg-mq-first dcg-mq-last dcg-mq-followed-by-supsub"),e.ctrlSeq=e.letter)});var c=n._maxLength||0;e:for(var l=0,u=i[1]||this.parent.getEnd(e);u&&l<o.length;l+=1,u=u[1])for(var d=t(c,o.length-l);0<d;--d){var p=o.slice(l,l+d),h=void 0;if(n.hasOwnProperty(p)){for(var f=0,g=u;f<d;f+=1,g=g[1])g instanceof Tt&&(g.italicize(!1),h=g);var m,y=Lt.hasOwnProperty(p);u.ctrlSeq=(y?"\\":"\\operatorname{")+u.ctrlSeq,h.ctrlSeq+=y?" ":"}",Ct.hasOwnProperty(p)&&((p=(p=h[e])&&p[e])&&p[e]).domFrag().addClass("dcg-mq-last"),this.shouldOmitPadding(u[e])||u.domFrag().addClass("dcg-mq-first"),this.shouldOmitPadding(h[1])||(h[1]instanceof Dr?((m=h[1]).siblingCreated=m.siblingDeleted=function(){m.domFrag().toggleClass("dcg-mq-after-operator-name",!(m[1]instanceof gn))})():h.domFrag().toggleClass("dcg-mq-last",!(h[1]instanceof gn))),l+=d-1,u=h;continue e}}}},Tt.prototype.shouldOmitPadding=function(e){return!e||"."===e.ctrlSeq||e instanceof st||e instanceof zr},Tt),Lt={};function Tt(e){var t=It.call(this,e)||this;return t.letter=e,t}j.prototype.autoOperatorNames=function(){for(var e={_maxLength:9},t="arg deg det dim exp gcd hom inf ker lg lim ln log max min sup limsup liminf injlim projlim Pr".split(" "),r=0;r<t.length;r+=1)Lt[t[r]]=e[t[r]]=1;var n="sin cos tan arcsin arccos arctan sinh cosh tanh sec csc cot coth".split(" ");for(r=0;r<n.length;r+=1)Lt[n[r]]=1;var o="sin cos tan sec cosec csc cotan cot ctg".split(" ");for(r=0;r<o.length;r+=1)e[o[r]]=e["arc"+o[r]]=e[o[r]+"h"]=e["ar"+o[r]+"h"]=e["arc"+o[r]+"h"]=1;var i="gcf hcf lcm proj span".split(" ");for(r=0;r<i.length;r+=1)e[i[r]]=1;return e}();var Ct={limsup:1,liminf:1,projlim:1,injlim:1};B.autoOperatorNames=function(e){if("string"!=typeof e)throw'"'+e+'" not a space-delimited list';if(!/^[a-z\|\-]+(?: [a-z\|\-]+)*$/i.test(e))throw'"'+e+'" not a space-delimited list of letters or "|"';for(var t=e.split(" "),n={},o=0,i=0;i<t.length;i+=1){var a=t[i];if(a.length<2)throw'"'+a+'" not minimum length of 2';if(a.indexOf("|")<0)n[a]=a,o=r(o,a.length);else{var s=a.split("|");if(2<s.length)throw'"'+a+'" has more than 1 mathspeak delimiter';if(s[0].length<2)throw'"'+a[0]+'" not minimum length of 2';n[s[0]]=s[1].replace(/-/g," "),o=r(o,s[0].length)}}return n._maxLength=o,n};var At,Ot,Pt,Dt,Ft=(__extends(Nt,At=Je),Nt.prototype.createLeftOf=function(e){for(var t=this.ctrlSeq,r=0;r<t.length;r+=1)new Mt(t.charAt(r)).createLeftOf(e)},Nt.prototype.parser=function(){for(var e=this.ctrlSeq,t=new dt,r=0;r<e.length;r+=1)new Mt(e.charAt(r)).adopt(t,t.getEnd(1),0);return oe.succeed(t.children())},Nt);function Nt(e){return At.call(this,e||"")||this}for(Ot in j.prototype.autoOperatorNames)j.prototype.autoOperatorNames.hasOwnProperty(Ot)&&(I[Ot]=Ft);function qt(){var e=this;return(e=Pt.call(this,"f")||this).letter="f",e.domView=new ze(0,function(){return s("var",{class:"dcg-mq-f"},[s.text("f")])}),e}function Rt(){return null!==Dt&&Dt.apply(this,arguments)||this}I.operatorname=(__extends(Rt,Dt=Qe),Rt.prototype.createLeftOf=function(){},Rt.prototype.numBlocks=function(){return 1},Rt.prototype.parser=function(){return Oe.block.map(function(e){var t=!0,r="";return(e=e.children()).each(function(e){e instanceof Mt?r+=e.letter:t=!1}),t&&"ans"===r?Xr():e})},Rt),I.f=(__extends(qt,Pt=Mt),qt.prototype.italicize=function(e){return this.domFrag().eachElement(function(e){return e.textContent="f"}),this.domFrag().toggleClass("dcg-mq-f",e),Pt.prototype.italicize.call(this,e)},qt),I[" "]=I.space=function(){return new bt("\\ ",s("span",{},[s.text(" ")])," ")},I["."]=function(){return new bt(".",s("span",{class:"dcg-mq-digit"},[s.text(".")]),".")},I["'"]=I.prime=it("'","&prime;","prime"),I[""]=I.dprime=it("","&Prime;","double prime"),I.backslash=it("\\backslash ","\\","backslash"),M["\\"]||(M["\\"]=I.backslash),I.$=it("\\$","$","dollar"),I.square=it("\\square ","","square"),I.mid=it("\\mid ","","mid");var Bt,jt,Vt=(__extends(Ut,Bt=Je),Ut);function Ut(e,t,r){return Bt.call(this,e,s("span",{class:"dcg-mq-nonSymbola"},[t||s.text(e)]))||this}function Gt(){return jt.call(this,"\\%",s.text("%"),"percent")||this}I["@"]=function(){return new Vt("@")},I["&"]=function(){return new Vt("\\&",s.entityText("&amp;"),"and")},I["%"]=(__extends(Gt,jt=Vt),Gt.prototype.parser=function(){var e=oe.optWhitespace,t=oe.string;return e.then(t("\\operatorname{of}").map(function(){return Zr()})).or(jt.prototype.parser.call(this))},Gt),I[""]=I.parallel=it("\\parallel ","&#x2225;","parallel"),I[""]=I.nparallel=it("\\nparallel ","&#x2226;","not parallel"),I[""]=I.perp=it("\\perp ","&#x27C2;","perpendicular"),I.alpha=I.beta=I.gamma=I.delta=I.zeta=I.eta=I.theta=I.iota=I.kappa=I.mu=I.nu=I.xi=I.rho=I.sigma=I.tau=I.chi=I.psi=I.omega=function(e){return new wt("\\"+e+" ",s.entityText("&"+e+";"))},I.phi=_t("\\phi ","&#981;"),I.phiv=I.varphi=_t("\\varphi ","&phi;"),I.epsilon=_t("\\epsilon ","&#1013;"),I.epsiv=I.varepsilon=_t("\\varepsilon ","&epsilon;"),I.piv=I.varpi=_t("\\varpi ","&piv;"),I.sigmaf=I.sigmav=I.varsigma=_t("\\varsigma ","&sigmaf;"),I.thetav=I.vartheta=I.thetasym=_t("\\vartheta ","&thetasym;"),I.upsilon=I.upsi=_t("\\upsilon ","&upsilon;"),I.gammad=I.Gammad=I.digamma=_t("\\digamma ","&#989;"),I.kappav=I.varkappa=_t("\\varkappa ","&#1008;"),I.rhov=I.varrho=_t("\\varrho ","&#1009;"),I.pi=I[""]=function(){return new Vt("\\pi ",s.entityText("&pi;"),"pi")},I.lambda=function(){return new Vt("\\lambda ",s.entityText("&lambda;"),"lambda")},I.Upsilon=I.Upsi=I.upsih=I.Upsih=function(){return new Je("\\Upsilon ",s("var",{style:"font-family: serif"},[s.entityText("&upsih;")]),"capital upsilon")},I.Gamma=I.Delta=I.Theta=I.Lambda=I.Xi=I.Pi=I.Sigma=I.Phi=I.Psi=I.Omega=I.forall=function(e){return new Ze("\\"+e+" ",s.entityText("&"+e+";"))};var zt,Ht=(__extends(Wt,zt=Qe),Wt.prototype.createLeftOf=function(t){var r,n=Oe.parse(this.latexStr);n.children().adopt(t.parent,t[e],t[1]),t[e]=n.getEnd(1),h(n.html()).insertBefore(t.domFrag()),n.finalizeInsert(t.options,t),(r=(r=n.getEnd(1))&&r[1])&&r.siblingCreated(t.options,e),(n=(n=n.getEnd(e))&&n[e])&&n.siblingCreated(t.options,1),t.parent.bubble(function(e){e.reflow()})},Wt.prototype.mathspeak=function(){return Oe.parse(this.latexStr).mathspeak()},Wt.prototype.parser=function(){var e=Oe.parse(this.latexStr).children();return oe.succeed(e)},Wt);function Wt(e){var t=zt.call(this)||this;return t.latexStr=e,t}function Kt(t){if(!t)return!1;var r=t[e];return r?!(r instanceof st||/^(\\ )|[,;:\(\[]$/.test(r.ctrlSeq)):!!(t.parent&&t.parent.parent&&t.parent.parent.isStyleBlock())&&Kt(t.parent.parent)}I[""]=function(){return new Ht("^0")},I[""]=function(){return new Ht("^1")},I[""]=function(){return new Ht("^2")},I[""]=function(){return new Ht("^3")},I[""]=function(){return new Ht("^4")},I[""]=function(){return new Ht("^5")},I[""]=function(){return new Ht("^6")},I[""]=function(){return new Ht("^7")},I[""]=function(){return new Ht("^8")},I[""]=function(){return new Ht("^9")},I[""]=function(){return new Ht("\\frac14")},I[""]=function(){return new Ht("\\frac12")},I[""]=function(){return new Ht("\\frac34")},I[""]=function(){return new Ht("\\sqrt{}")};var $t,Yt,Xt=(__extends(Qt,$t=st),Qt.prototype.contactWeld=function(e,t){this.sharedSiblingMethod(e.options,t)},Qt.prototype.siblingCreated=function(e,t){this.sharedSiblingMethod(e,t)},Qt.prototype.siblingDeleted=function(e,t){this.sharedSiblingMethod(e,t)},Qt.prototype.sharedSiblingMethod=function(e,t){if(1!==t)return this.domFrag().oneElement().className=Kt(this)?"dcg-mq-binary-operator":"",this},Qt);function Qt(e,t,r){return $t.call(this,e,t,void 0,r,!0)||this}function Jt(){return Yt.call(this,"+",s.text("+"))||this}I["+"]=(__extends(Jt,Yt=Xt),Jt.prototype.mathspeak=function(){return Kt(this)?"plus":"positive"},Jt);var Zt,er=(__extends(tr,Zt=Xt),tr.prototype.mathspeak=function(){return Kt(this)?"minus":"negative"},tr);function tr(){return Zt.call(this,"-",s.entityText("&minus;"))||this}I[""]=I[""]=I[""]=I["-"]=er,I[""]=I.pm=I.plusmn=I.plusminus=function(){return new Xt("\\pm ",s.entityText("&plusmn;"),"plus-or-minus")},I.mp=I.mnplus=I.minusplus=function(){return new Xt("\\mp ",s.entityText("&#8723;"),"minus-or-plus")},M["*"]=I.sdot=I.cdot=lt("\\cdot ","&middot;","*","times");var rr,nr=(__extends(or,rr=st),or.prototype.deleteTowards=function(t,r){if(t===e){var n=r[e];return new _(n,this).remove(),r[e]=n[e],(new er).createLeftOf(r),void r[e].bubble(function(e){e.reflow()})}rr.prototype.deleteTowards.call(this,t,r)},or);function or(){return rr.call(this,"\\to ",s.entityText("&rarr;"),"to")||this}I[""]=I.to=nr;var ir,ar,sr=(__extends(dr,ar=st),dr.prototype.swap=function(e){e=(this.strict=e)?"Strict":"",this.ctrlSeq=this.data["ctrlSeq".concat(e)],this.domFrag().children().replaceWith(h(s.entityText(this.data["htmlEntity".concat(e)]))),this.textTemplate=[this.data["text".concat(e)]],this.mathspeakName=this.data["mathspeak".concat(e)]},dr.prototype.deleteTowards=function(t,r){if(t===e&&!this.strict)return this.swap(!0),void this.bubble(function(e){e.reflow()});ar.prototype.deleteTowards.call(this,t,r)},dr),cr={ctrlSeq:"\\le ",htmlEntity:"&le;",text:"",mathspeak:"less than or equal to",ctrlSeqStrict:"<",htmlEntityStrict:"&lt;",textStrict:"<",mathspeakStrict:"less than"},lr={ctrlSeq:"\\ge ",htmlEntity:"&ge;",text:"",mathspeak:"greater than or equal to",ctrlSeqStrict:">",htmlEntityStrict:"&gt;",textStrict:">",mathspeakStrict:"greater than"};__extends(ur,ir=sr),ur.prototype.createLeftOf=function(t){var r=t[e];if(r instanceof st&&"-"===r.ctrlSeq)return r=r,t[e]=r[e],r.remove(),(new nr).createLeftOf(t),void t[e].bubble(function(e){e.reflow()});ir.prototype.createLeftOf.call(this,t)},Ae=ur;function ur(){return ir.call(this,lr,!0)||this}function dr(e,t){var r=this,n=t?"Strict":"";return(r=ar.call(this,e["ctrlSeq".concat(n)],s.entityText(e["htmlEntity".concat(n)]),e["text".concat(n)],e["mathspeak".concat(n)])||this).data=e,r.strict=t,r}I["<"]=I.lt=function(){return new sr(cr,!0)},I[">"]=I.gt=Ae,I[""]=I.le=I.leq=function(){return new sr(cr,!1)},I[""]=I.ge=I.geq=function(){return new sr(lr,!1)},I.infty=I.infin=I.infinity=it("\\infty ","&infin;","infinity"),I[""]=I.ne=I.neq=lt("\\ne ","&ne;","not equal");var pr,hr=(__extends(fr,pr=st),fr.prototype.createLeftOf=function(t){var r=t[e];if(r instanceof sr&&r.strict)return r.swap(!1),void r.bubble(function(e){e.reflow()});pr.prototype.createLeftOf.call(this,t)},fr);function fr(){return pr.call(this,"=",s.text("="),"=","equals")||this}I["="]=hr,I[""]=I.times=lt("\\times ","&times;","[x]","times"),I[""]=I.div=I.divide=I.divides=lt("\\div ","&divide;","[/]","over");var gr,mr,yr=(__extends(xr,mr=st),xr.prototype.createLeftOf=function(t){if(t[e]instanceof xr){var r=t[e];return t[e]=r[e],r.remove(),(new vr).createLeftOf(t),void t[e].bubble(function(e){e.reflow()})}mr.prototype.createLeftOf.call(this,t)},xr),vr=(__extends(br,gr=st),br.prototype.deleteTowards=function(t,r){if(t===e){var n=r[e];return new _(n,this).remove(),r[e]=n[e],(new yr).createLeftOf(r),void r[e].bubble(function(e){e.reflow()})}gr.prototype.deleteTowards.call(this,t,r)},br);function br(){return gr.call(this,"\\approx ",s.entityText("&approx;"),"","approximately equal")||this}function xr(){return mr.call(this,"\\sim ",s.text("~"),"~","tilde")||this}I.tildeNbsp=it("~"," "," "),I.sim=yr,I[""]=I.approx=vr,M["~"]=I.sim,I["~"]=I.tildeNbsp,B.interpretTildeAsSim=function(e){return e=!!e,I["~"]=e?I.sim:I.tildeNbsp,e};var wr,Er,Sr,kr,_r={sqrt:{width:"",html:function(){return s("svg",{preserveAspectRatio:"none",viewBox:"0 0 32 54"},[s("path",{d:"M0 33 L7 27 L12.5 47 L13 47 L30 0 L32 0 L13 54 L11 54 L4.5 31 L0 33"})])}},"|":{width:".4em",html:function(){return s("svg",{preserveAspectRatio:"none",viewBox:"0 0 10 54"},[s("path",{d:"M4.4 0 L4.4 54 L5.6 54 L5.6 0"})])}},"[":{width:".55em",html:function(){return s("svg",{preserveAspectRatio:"none",viewBox:"0 0 11 24"},[s("path",{d:"M8 0 L3 0 L3 24 L8 24 L8 23 L4 23 L4 1 L8 1"})])}},"]":{width:".55em",html:function(){return s("svg",{preserveAspectRatio:"none",viewBox:"0 0 11 24"},[s("path",{d:"M3 0 L8 0 L8 24 L3 24 L3 23 L7 23 L7 1 L3 1"})])}},"(":{width:".55em",html:function(){return s("svg",{preserveAspectRatio:"none",viewBox:"3 0 106 186"},[s("path",{d:"M85 0 A61 101 0 0 0 85 186 L75 186 A75 101 0 0 1 75 0"})])}},")":{width:".55em",html:function(){return s("svg",{preserveAspectRatio:"none",viewBox:"3 0 106 186"},[s("path",{d:"M24 0 A61 101 0 0 1 24 186 L34 186 A75 101 0 0 0 34 0"})])}},"{":{width:".7em",html:function(){return s("svg",{preserveAspectRatio:"none",viewBox:"10 0 210 350"},[s("path",{d:"M170 0 L170 6 A47 52 0 0 0 123 60 L123 127 A35 48 0 0 1 88 175 A35 48 0 0 1 123 223 L123 290 A47 52 0 0 0 170 344 L170 350 L160 350 A58 49 0 0 1 102 301 L103 220 A45 40 0 0 0 58 180 L58 170 A45 40 0 0 0 103 130 L103 49 A58 49 0 0 1 161 0"})])}},"}":{width:".7em",html:function(){return s("svg",{preserveAspectRatio:"none",viewBox:"10 0 210 350"},[s("path",{d:"M60 0 L60 6 A47 52 0 0 1 107 60 L107 127 A35 48 0 0 0 142 175 A35 48 0 0 0 107 223 L107 290 A47 52 0 0 1 60 344 L60 350 L70 350 A58 49 0 0 0 128 301 L127 220 A45 40 0 0 1 172 180 L172 170 A45 40 0 0 1 127 130 L127 49 A58 49 0 0 0 70 0"})])}},"&#8741;":{width:".7em",html:function(){return s("svg",{preserveAspectRatio:"none",viewBox:"0 0 10 54"},[s("path",{d:"M3.2 0 L3.2 54 L4 54 L4 0 M6.8 0 L6.8 54 L6 54 L6 0"})])}},"&lang;":{width:".55em",html:function(){return s("svg",{preserveAspectRatio:"none",viewBox:"0 0 10 54"},[s("path",{d:"M6.8 0 L3.2 27 L6.8 54 L7.8 54 L4.2 27 L7.8 0"})])}},"&rang;":{width:".55em",html:function(){return s("svg",{preserveAspectRatio:"none",viewBox:"0 0 10 54"},[s("path",{d:"M3.2 0 L6.8 27 L3.2 54 L2.2 54 L5.8 27 L2.2 0"})])}}},Ir=(__extends(Mr,wr=Qe),Mr.prototype.mathspeak=function(e){return!this.shouldNotSpeakDelimiters||e&&e.ignoreShorthand?wr.prototype.mathspeak.call(this):this.foldChildren("",function(t,r){return t+" "+r.mathspeak(e)}).trim()},Mr);function Mr(e,t,r,n,o){var i=wr.call(this,e,new ze(1,function(e){return s.block(t,r,e[0])}))||this;return i.ariaLabel=n||e.replace(/^\\/,""),i.mathspeakTemplate=["Start"+i.ariaLabel+",","End"+i.ariaLabel],i.shouldNotSpeakDelimiters=o&&o.shouldNotSpeakDelimiters,i}function Lr(){return null!==Er&&Er.apply(this,arguments)||this}function Tr(){return Sr.call(this,"\\mathrm","span",{class:"dcg-mq-roman dcg-mq-font"},"Roman Font",{shouldNotSpeakDelimiters:!0})||this}function Cr(){return null!==kr&&kr.apply(this,arguments)||this}I.mathrm=(__extends(Tr,Sr=Ir),Tr.prototype.isTextBlock=function(){return!0},Tr),I.mathit=function(){return new Ir("\\mathit","i",{class:"dcg-mq-font"},"Italic Font")},I.mathbf=function(){return new Ir("\\mathbf","b",{class:"dcg-mq-font"},"Bold Font")},I.mathsf=function(){return new Ir("\\mathsf","span",{class:"dcg-mq-sans-serif dcg-mq-font"},"Serif Font")},I.mathtt=function(){return new Ir("\\mathtt","span",{class:"dcg-mq-monospace dcg-mq-font"},"Math Text")},I.underline=function(){return new Ir("\\underline","span",{class:"dcg-mq-non-leaf dcg-mq-underline"},"Underline")},I.overline=I.bar=function(){return new Ir("\\overline","span",{class:"dcg-mq-non-leaf dcg-mq-overline"},"Overline")},I.overrightarrow=function(){return new Ir("\\overrightarrow","span",{class:"dcg-mq-non-leaf dcg-mq-overarrow dcg-mq-arrow-right"},"Over Right Arrow")},I.overleftarrow=function(){return new Ir("\\overleftarrow","span",{class:"dcg-mq-non-leaf dcg-mq-overarrow dcg-mq-arrow-left"},"Over Left Arrow")},I.overleftrightarrow=function(){return new Ir("\\overleftrightarrow ","span",{class:"dcg-mq-non-leaf dcg-mq-overarrow dcg-mq-arrow-leftright"},"Over Left and Right Arrow")},I.overarc=function(){return new Ir("\\overarc","span",{class:"dcg-mq-non-leaf dcg-mq-overarc"},"Over Arc")},I.dot=function(){return new Qe("\\dot",new ze(1,function(e){return s("span",{class:"dcg-mq-non-leaf"},[s("span",{class:"dcg-mq-dot-recurring-inner"},[s("span",{class:"dcg-mq-dot-recurring"},[s.text("")]),s.block("span",{class:"dcg-mq-empty-box"},e[0])])])}))},I.textcolor=(__extends(Lr,Er=Qe),Lr.prototype.setColor=function(e){this.color=e,this.domView=new ze(1,function(t){return s.block("span",{class:"dcg-mq-textcolor",style:"color:"+e},t[0])}),this.ariaLabel=e.replace(/^\\/,""),this.mathspeakTemplate=["Start "+this.ariaLabel+",","End "+this.ariaLabel]},Lr.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e);var t=this.blocks[0];e.latex+="\\textcolor{"+this.color+"}{",t.latexRecursive(e),e.latex+="}",this.checkCursorContextClose(e)},Lr.prototype.parser=function(){var e=this,t=oe.optWhitespace,r=oe.string,n=oe.regex;return t.then(r("{")).then(n(/^[#\w\s.,()%-]*/)).skip(r("}")).then(function(t){return e.setColor(t),Er.prototype.parser.call(e)})},Lr.prototype.isStyleBlock=function(){return!0},Lr),I.class=(__extends(Cr,kr=Qe),Cr.prototype.parser=function(){var e=this,t=oe.string,r=oe.regex;return oe.optWhitespace.then(t("{")).then(r(/^[-\w\s\\\xA0-\xFF]*/)).skip(t("}")).then(function(t){return e.cls=t||"",e.domView=new ze(1,function(e){return s.block("span",{class:"dcg-mq-class ".concat(t)},e[0])}),e.ariaLabel=t+" class",e.mathspeakTemplate=["Start "+e.ariaLabel+",","End "+e.ariaLabel],kr.prototype.parser.call(e)})},Cr.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e);var t=this.blocks[0];e.latex+="\\class{"+this.cls+"}{",t.latexRecursive(e),e.latex+="}",this.checkCursorContextClose(e)},Cr.prototype.isStyleBlock=function(){return!0},Cr);var Ar=/^[\+\-]?[\d]+$/;function Or(e){if(!e)return"";var t="";return e.eachChild(function(e){void 0!==e.ctrlSeq&&(t+=e.ctrlSeq)}),t}j.prototype.charsThatBreakOutOfSupSub="";var Pr,Dr=(__extends(Fr,Pr=Qe),Fr.prototype.setEnds=function(t){o("SupSub ends must be MathBlocks",t[e]instanceof dt&&t[1]instanceof dt),this.ends=t},Fr.prototype.getEnd=function(e){return this.ends[e]},Fr.prototype.createLeftOf=function(t){if(this.replacedFragment||t[e]||!t.options.supSubsRequireOperand)return Pr.prototype.createLeftOf.call(this,t)},Fr.prototype.contactWeld=function(t){for(var r=e;r;r=r===e&&1){var n=this[r],o=void 0;if(n instanceof Fr){for(var i="sub";i;i="sub"===i&&"sup"){var a,s=this[i],c=n[i];s&&(c?s.isEmpty()?o=new m(c,0,c.getEnd(e)):(s.domFrag().children().insAtDirEnd(-r,c.domFrag().oneElement()),a=s.children().disown(),o=new m(c,a.getEnd(1),c.getEnd(e)),r===e?a.adopt(c,c.getEnd(1),0):a.adopt(c,0,c.getEnd(e))):n.addBlock(s.disown()),this.placeCursor=function(e,t){return function(n){n.insAtDirEnd(-r,e||t)}}(c,s))}this.remove(),t&&t[e]===this&&(1===r&&o?o[e]?t.insRightOf(o[e]):t.insAtLeftEnd(o.parent):t.insRightOf(n));break}}},Fr.prototype.finalizeTree=function(){this.getEnd(e).write=function(t,r){if(t.options.autoSubscriptNumerals&&this===this.parent.sub){if("_"===r)return;var n=this.chToCmd(r,t.options);return n instanceof Je?t.deleteSelection():t.clearSelection().insRightOf(this.parent),n.createLeftOf(t.show()),void t.controller.aria.queue("Baseline").alert(n.mathspeak({createdLeftOf:t}))}t[e]&&!t[1]&&!t.selection&&-1<t.options.charsThatBreakOutOfSupSub.indexOf(r)&&(t.insRightOf(this.parent),t.controller.aria.queue("Baseline")),dt.prototype.write.call(this,t,r)}},Fr.prototype.moveTowards=function(e,t,r){t.options.autoSubscriptNumerals&&!this.sup?t.insDirOf(e,this):Pr.prototype.moveTowards.call(this,e,t,r)},Fr.prototype.deleteTowards=function(t,r){var n;r.options.autoSubscriptNumerals&&this.sub?((n=this.sub.getEnd(-t))instanceof Je?n.remove():n&&n.deleteTowards(t,r.insAtDirEnd(-t,this.sub)),this.sub.isEmpty()&&(this.sub.deleteOutOf(e,r.insAtLeftEnd(this.sub)),this.sup&&r.insDirOf(-t,this))):Pr.prototype.deleteTowards.call(this,t,r)},Fr.prototype.latexRecursive=function(e){var t;this.checkCursorContextOpen(e),this.sub&&(e.latex+="_{",t=e.latex.length,this.sub.latexRecursive(e),t===e.latex.length&&(e.latex+=" "),e.latex+="}"),this.sup&&(e.latex+="^{",t=e.latex.length,this.sup.latexRecursive(e),t===e.latex.length&&(e.latex+=" "),e.latex+="}"),this.checkCursorContextClose(e)},Fr.prototype.text=function(){function e(e,t){var r=t&&t.text()||"";return t?e+(1===r.length?r:"("+(r||" ")+")"):""}return e("_",this.sub)+e("^",this.sup)},Fr.prototype.addBlock=function(e){"sub"===this.supsub?((this.sup=this.upInto=this.sub.upOutOf=e).adopt(this,this.sub,0).downOutOf=this.sub,e.setDOM(h(s("span",{class:"dcg-mq-sup"})).append(e.domFrag().children()).prependTo(this.domFrag().oneElement()).oneElement()),E.linkElementByBlockNode(e.domFrag().oneElement(),e)):((this.sub=this.downInto=this.sup.downOutOf=e).adopt(this,0,this.sup).upOutOf=this.sup,this.domFrag().removeClass("dcg-mq-sup-only"),e.setDOM(h(s("span",{class:"dcg-mq-sub"})).append(e.domFrag().children()).appendTo(this.domFrag().oneElement()).oneElement()),E.linkElementByBlockNode(e.domFrag().oneElement(),e),this.domFrag().append(h(s("span",{style:"display:inline-block;width:0"},[s.text("")]))));for(var t=0;t<2;t+=1)!function(e,t,r,n){e[t].deleteOutOf=function(o,i){i.insDirOf(this[o]?-o:o,this.parent),this.isEmpty()||(a=this.getEnd(o),this.children().disown().withDirAdopt(o,i.parent,i[o],i[-o]).domFrag().insDirOf(-o,i.domFrag()),i[-o]=a),e.supsub=r,delete e[t],delete e["".concat(n,"Into")];var a=e[r];a["".concat(n,"OutOf")]=Nr,delete a.deleteOutOf,"sub"===t&&e.domFrag().addClass("dcg-mq-sup-only").children().last().remove(),this.remove()}}(this,"sub sup".split(" ")[t],"sup sub".split(" ")[t],"down up".split(" ")[t])},Fr);function Fr(){var e=null!==Pr&&Pr.apply(this,arguments)||this;return e.ctrlSeq="_{...}^{...}",e}function Nr(e){var t=this.parent,r=e;do{if(r[1])return e.insLeftOf(t)}while((r=r.parent.parent)!==t);e.insRightOf(t)}var qr,Rr,Br=(__extends(jr,qr=Dr),jr.prototype.finalizeTree=function(){this.downInto=this.sub=this.getEnd(e),this.sub.upOutOf=Nr,qr.prototype.finalizeTree.call(this)},jr);function jr(){var e=null!==qr&&qr.apply(this,arguments)||this;return e.supsub="sub",e.domView=new ze(1,function(e){return s("span",{class:"dcg-mq-supsub dcg-mq-non-leaf"},[s.block("span",{class:"dcg-mq-sub"},e[0]),s("span",{style:"display:inline-block;width:0"},[s.text("")])])}),e.textTemplate=["_"],e.mathspeakTemplate=["Subscript,",", Baseline"],e.ariaLabel="subscript",e}function Vr(){var e=null!==Rr&&Rr.apply(this,arguments)||this;return e.supsub="sup",e.domView=new ze(1,function(e){return s("span",{class:"dcg-mq-supsub dcg-mq-non-leaf dcg-mq-sup-only"},[s.block("span",{class:"dcg-mq-sup"},e[0])])}),e.textTemplate=["^(",")"],e.ariaLabel="superscript",e.mathspeakTemplate=["Superscript,",", Baseline"],e}I.subscript=I._=Br,I.superscript=I.supscript=I["^"]=(__extends(Vr,Rr=Dr),Vr.prototype.mathspeak=function(e){var t=this.upInto;if(void 0!==t){var r=Or(t);if((!e||!e.ignoreShorthand)&&Ar.test(r))return"0"===r?"to the 0 power":"2"===r?"squared":"3"===r?"cubed":(e="",/^[+-]?\d{1,3}$/.test(r)&&(/(11|12|13|4|5|6|7|8|9|0)$/.test(r)?e="th":/1$/.test(r)?e="st":/2$/.test(r)?e="nd":/3$/.test(r)&&(e="rd")),"to the "+("object"==typeof t?t.mathspeak():r)+e+" power")}return Rr.prototype.mathspeak.call(this)},Vr.prototype.finalizeTree=function(){this.upInto=this.sup=this.getEnd(1),this.sup.downOutOf=Nr,Rr.prototype.finalizeTree.call(this)},Vr);var Ur,Gr,zr=(__extends(Hr,Ur=Qe),Hr.prototype.createLeftOf=function(e){Ur.prototype.createLeftOf.call(this,e),e.options.sumStartsWithNEquals&&(new Mt("n").createLeftOf(e),(new hr).createLeftOf(e))},Hr.prototype.latexRecursive=function(t){this.checkCursorContextOpen(t),t.latex+=this.ctrlSeq+"_{";var r=t.latex.length;this.getEnd(e).latexRecursive(t),t.latex.length===r&&(t.latex+=" "),t.latex+="}^{",r=t.latex.length,this.getEnd(1).latexRecursive(t),r===t.latex.length&&(t.latex+=" "),t.latex+="}",this.checkCursorContextClose(t)},Hr.prototype.mathspeak=function(){return"Start "+this.ariaLabel+" from "+this.getEnd(e).mathspeak()+" to "+this.getEnd(1).mathspeak()+", end "+this.ariaLabel+", "},Hr.prototype.parser=function(){for(var e=oe.string,t=oe.optWhitespace,r=oe.succeed,n=Oe.block,o=this,i=o.blocks=[new dt,new dt],a=0;a<i.length;a+=1)i[a].adopt(o,o.getEnd(1),0);return t.then(e("_").or(e("^"))).then(function(e){var t=i["_"===e?0:1];return n.then(function(e){return e.children().adopt(t,t.getEnd(1),0),r(o)})}).many().result(o)},Hr.prototype.finalizeTree=function(){var t=this.getEnd(e),r=this.getEnd(1);t.ariaLabel="lower bound",r.ariaLabel="upper bound",this.downInto=t,this.upInto=r,(t.upOutOf=r).downOutOf=t},Hr);function Hr(e,t,r){var n=Ur.call(this)||this;return n.ariaLabel=r||e.replace(/^\\/,""),r=new ze(2,function(e){return s("span",{class:"dcg-mq-large-operator dcg-mq-non-leaf"},[s("span",{class:"dcg-mq-to"},[s.block("span",{},e[1])]),s("big",{},[s.text(t)]),s("span",{class:"dcg-mq-from"},[s.block("span",{},e[0])])])}),Je.prototype.setCtrlSeqHtmlTextAndMathspeak.call(n,e,r),n}function Wr(){var e=Gr.call(this,"\\int ","","integral")||this;return e.ariaLabel="integral",e.domView=new ze(2,function(e){return s("span",{class:"dcg-mq-int dcg-mq-non-leaf"},[s("big",{},[s.text("")]),s("span",{class:"dcg-mq-supsub dcg-mq-non-leaf"},[s("span",{class:"dcg-mq-sup"},[s.block("span",{class:"dcg-mq-sup-inner"},e[1])]),s.block("span",{class:"dcg-mq-sub"},e[0]),s("span",{style:"display:inline-block;width:0"},[s.text("")])])])}),e}I[""]=I.sum=I.summation=function(){return new zr("\\sum ","","sum")},I[""]=I.prod=I.product=function(){return new zr("\\prod ","","product")},I.coprod=I.coproduct=function(){return new zr("\\coprod ","","co product")},I[""]=I.int=I.integral=(__extends(Wr,Gr=zr),Wr.prototype.createLeftOf=function(e){Qe.prototype.createLeftOf.call(this,e)},Wr);Ae=I.frac=I.dfrac=I.cfrac=I.fraction=(__extends(Jr,$r=Qe),Jr.prototype.finalizeTree=function(){var t=this.getEnd(e),r=this.getEnd(1);this.upInto=r.upOutOf=t,this.downInto=t.downOutOf=r,t.ariaLabel="numerator",r.ariaLabel="denominator",1<this.getFracDepth()?this.mathspeakTemplate=["StartNestedFraction,","NestedOver",", EndNestedFraction"]:this.mathspeakTemplate=["StartFraction,","Over",", EndFraction"]},Jr.prototype.mathspeak=function(t){if(t&&t.createdLeftOf)return t.createdLeftOf.parent.mathspeak();var r=Or(this.getEnd(e)),n=Or(this.getEnd(1));if((!t||!t.ignoreShorthand)&&Ar.test(r)&&Ar.test(n)&&(t="1"===r||"-1"===r,r="","2"===n?r=t?"half":"halves":"3"===n?r=t?"third":"thirds":"4"===n?r=t?"quarter":"quarters":"5"===n?r=t?"fifth":"fifths":"6"===n?r=t?"sixth":"sixths":"7"===n?r=t?"seventh":"sevenths":"8"===n?r=t?"eighth":"eighths":"9"===n&&(r=t?"ninth":"ninths"),""!==r)){t="";for(var o=!1,i=this[e];i&&void 0!==i[e];i=i[e])if("\\ "!==i.ctrlSeq){if(!Ar.test(i.ctrlSeq||"")){o=!1;break}o=!0}return o&&(t+="and "),t+(this.getEnd(e).mathspeak()+" ")+r}return $r.prototype.mathspeak.call(this)},Jr.prototype.getFracDepth=function(){var e=function(t,r){return t instanceof ve&&t.ctrlSeq&&0<=t.ctrlSeq.toLowerCase().search("frac")&&(r+=1),t&&t.parent?e(t.parent,r):r};return e(this,0)},Jr);var Kr,$r,Yr=I.over=M["/"]=(__extends(Qr,Kr=Ae),Qr.prototype.createLeftOf=function(t){if(!this.replacedFragment){var r,o,i=t[e];if(!t.options.typingSlashCreatesNewFraction)for(;i&&!(i instanceof st||i instanceof(I.text||n)||i instanceof zr||"\\ "===i.ctrlSeq||/^[,;:]$/.test(i.ctrlSeq));)i=i[e];i instanceof zr&&i[1]instanceof Dr&&(r=(i=i[1])[1])instanceof Dr&&r.ctrlSeq!=i.ctrlSeq&&(i=i[1]),i===t[e]||t.isTooDeep(1)||(r=i[1],o=t[e],this.replaces(new _(r||t.parent.getEnd(e),o)),t[e]=i)}Kr.prototype.createLeftOf.call(this,t)},Qr),Xr=function(){return new Je("\\operatorname{ans}",s("span",{class:"dcg-mq-ans"},[s.text("ans")]),"ans")};function Qr(){return null!==Kr&&Kr.apply(this,arguments)||this}function Jr(){var e=null!==$r&&$r.apply(this,arguments)||this;return e.ctrlSeq="\\frac",e.domView=new ze(2,function(e){return s("span",{class:"dcg-mq-fraction dcg-mq-non-leaf"},[s.block("span",{class:"dcg-mq-numerator"},e[0]),s.block("span",{class:"dcg-mq-denominator"},e[1]),s("span",{style:"display:inline-block;width:0"},[s.text("")])])}),e.textTemplate=["(",")/(",")"],e}I.ans=Xr;var Zr=function(){return new Je("\\%\\operatorname{of}",s("span",{class:"dcg-mq-nonSymbola dcg-mq-operator-name"},[s.text("% of ")]),"percent of")};I.percent=I.percentof=Zr;var en,tn;__extends(rn,en=Qe),rn.prototype.parser=function(){return Oe.optBlock.then(function(e){return Oe.block.map(function(t){var r=new sn;return r.blocks=[e,t],e.adopt(r,0,0),t.adopt(r,e,0),r})}).or(en.prototype.parser.call(this))},Ae=rn;function rn(){var e=null!==en&&en.apply(this,arguments)||this;return e.ctrlSeq="\\sqrt",e.domView=new ze(1,function(e){return s("span",{class:"dcg-mq-non-leaf dcg-mq-sqrt-container"},[s("span",{class:"dcg-mq-scaled dcg-mq-sqrt-prefix"},[_r.sqrt.html()]),s.block("span",{class:"dcg-mq-non-leaf dcg-mq-sqrt-stem"},e[0])])}),e.textTemplate=["sqrt(",")"],e.mathspeakTemplate=["StartRoot,",", EndRoot"],e.ariaLabel="root",e}function nn(){var e=null!==tn&&tn.apply(this,arguments)||this;return e.ctrlSeq="\\hat",e.domView=new ze(1,function(e){return s("span",{class:"dcg-mq-non-leaf"},[s("span",{class:"dcg-mq-hat-prefix"},[s.text("^")]),s.block("span",{class:"dcg-mq-hat-stem"},e[0])])}),e.textTemplate=["hat(",")"],e}I.sqrt=Ae,I.hat=(__extends(nn,tn=Qe),nn);var on,an,sn=(__extends(cn,on=Ae),cn.prototype.latexRecursive=function(t){this.checkCursorContextOpen(t),t.latex+="\\sqrt[",this.getEnd(e).latexRecursive(t),t.latex+="]{",this.getEnd(1).latexRecursive(t),t.latex+="}",this.checkCursorContextClose(t)},cn.prototype.mathspeak=function(){var t=this.getEnd(e).mathspeak(),r=this.getEnd(1).mathspeak();return this.getEnd(e).ariaLabel="Index",this.getEnd(1).ariaLabel="Radicand","3"===t?"Start Cube Root, "+r+", End Cube Root":"Root Index "+t+", Start Root, "+r+", End Root"},cn);function cn(){var e=null!==on&&on.apply(this,arguments)||this;return e.domView=new ze(2,function(e){return s("span",{class:"dcg-mq-nthroot-container dcg-mq-non-leaf"},[s.block("sup",{class:"dcg-mq-nthroot dcg-mq-non-leaf"},e[0]),s("span",{class:"dcg-mq-scaled dcg-mq-sqrt-container"},[s("span",{class:"dcg-mq-sqrt-prefix dcg-mq-scaled"},[_r.sqrt.html()]),s.block("span",{class:"dcg-mq-sqrt-stem dcg-mq-non-leaf"},e[1])])])}),e.textTemplate=["sqrt[","](",")"],e}function ln(){return null!==an&&an.apply(this,arguments)||this}I.nthroot=sn,I.cbrt=(__extends(ln,an=sn),ln.prototype.createLeftOf=function(e){an.prototype.createLeftOf.call(this,e),new xt("3").createLeftOf(e),e.controller.moveRight()},ln);var un,dn=(__extends(pn,un=Qe),pn);function pn(e,t,r){var n=new ze(1,function(e){return s("span",{class:"dcg-mq-non-leaf"},[s("span",{class:"dcg-mq-diacritic-above"},[t]),s.block("span",{class:"dcg-mq-diacritic-stem"},e[0])])});return un.call(this,e,n,r)||this}I.vec=function(){return new dn("\\vec",s.entityText("&rarr;"),["vec(",")"])},I.tilde=function(){return new dn("\\tilde",s.text("~"),["tilde(",")"])};__extends(yn,fn=Qe),yn.prototype.setDOM=function(t){fn.prototype.setDOM.call(this,t);var r=this.domFrag().children();return r.isEmpty()||(this.delimFrags=((t={})[e]=r.first(),t[1]=r.last(),t)),this},Ae=yn;var hn,fn,gn=(__extends(mn,hn=Ae),mn.prototype.numBlocks=function(){return 1},mn.prototype.html=function(){var t=this,r=this.getSymbol(e),n=this.getSymbol(1);return this.domView=new ze(1,function(o){return s("span",{class:"dcg-mq-non-leaf dcg-mq-bracket-container"},[s("span",{style:"width:"+r.width,class:"dcg-mq-scaled dcg-mq-bracket-l dcg-mq-paren"+(1===t.side?" dcg-mq-ghost":"")},[r.html()]),s.block("span",{style:"margin-left:"+r.width+";margin-right:"+n.width,class:"dcg-mq-bracket-middle dcg-mq-non-leaf"},o[0]),s("span",{style:"width:"+n.width,class:"dcg-mq-scaled dcg-mq-bracket-r dcg-mq-paren"+(t.side===e?" dcg-mq-ghost":"")},[n.html()])])}),hn.prototype.html.call(this)},mn.prototype.getSymbol=function(e){return e=this.sides[e||1].ch,_r[e]||{width:"0",html:""}},mn.prototype.latexRecursive=function(t){this.checkCursorContextOpen(t),t.latex+="\\left"+this.sides[e].ctrlSeq,this.getEnd(e).latexRecursive(t),t.latex+="\\right"+this.sides[1].ctrlSeq,this.checkCursorContextClose(t)},mn.prototype.mathspeak=function(t){var r=this.sides[e].ch,n=this.sides[1].ch;if("|"===r&&"|"===n)this.mathspeakTemplate=["StartAbsoluteValue,",", EndAbsoluteValue"],this.ariaLabel="absolute value";else{if(t&&t.createdLeftOf&&this.side)return t="",this.side===e?t=this.textTemplate[0]:1===this.side&&(t=this.textTemplate[1]),(this.side===e?"left ":"right ")+wn[t];this.mathspeakTemplate=["left "+wn[r]+",",", right "+wn[n]],this.ariaLabel=wn[r]+" block"}return hn.prototype.mathspeak.call(this)},mn.prototype.matchBrack=function(t,r,n){return n instanceof mn&&n.side&&n.side!==-r&&(!t.restrictMismatchedBrackets||xn[this.sides[this.side].ch]===n.sides[n.side].ch||{"(":"]","[":")"}[this.sides[e].ch]===n.sides[1].ch)&&n},mn.prototype.closeOpposing=function(t){t.side=0,t.sides[this.side]=this.sides[this.side],t=t.delimFrags[this.side===e?e:1].removeClass("dcg-mq-ghost"),this.replaceBracket(t,this.side)},mn.prototype.createLeftOf=function(t){var r,n;this.replacedFragment||(r=t.options,r="|"===this.sides[e].ch?this.matchBrack(r,1,t[1])||this.matchBrack(r,e,t[e])||this.matchBrack(r,0,t.parent.parent):this.matchBrack(r,-this.side,t[-this.side])||this.matchBrack(r,-this.side,t.parent.parent)),r?(n=this.side=-r.side,this.closeOpposing(r),r===t.parent.parent&&t[n]&&new _(t[n],t.parent.getEnd(n),-n).disown().withDirAdopt(-n,r.parent,r,r[n]).domFrag().insDirOf(n,r.domFrag()),r.bubble(function(e){e.reflow()})):(n=(r=this).side,r.replacedFragment?r.side=0:t[-n]&&(r.replaces(new _(t[-n],t.parent.getEnd(-n),n)),t[-n]=0),hn.prototype.createLeftOf.call(this,t)),n===e?t.insAtLeftEnd(r.getEnd(e)):t.insRightOf(r)},mn.prototype.placeCursor=function(){},mn.prototype.unwrap=function(){this.getEnd(e).children().disown().adopt(this.parent,this,this[1]).domFrag().insertAfter(this.domFrag()),this.remove()},mn.prototype.deleteSide=function(t,r,n){var o=this.parent,i=this[t],a=o.getEnd(t);if(t===this.side)return this.unwrap(),void(i?n.insDirOf(-t,i):n.insAtDirEnd(t,o));var s=n.options,c=!this.side;if(this.side=-t,this.matchBrack(s,t,this.getEnd(e).getEnd(this.side))){this.closeOpposing(this.getEnd(e).getEnd(this.side));var l=this.getEnd(e).getEnd(t);this.unwrap(),l&&l.siblingCreated(n.options,t),i?n.insDirOf(-t,i):n.insAtDirEnd(t,o)}else{if(this.matchBrack(s,t,this.parent.parent))this.parent.parent.closeOpposing(this),this.parent.parent.unwrap();else{if(r&&c)return this.unwrap(),void(i?n.insDirOf(-t,i):n.insAtDirEnd(t,o));this.sides[t]=(u=(o=this).side,u=o.sides[u],{ch:xn[u.ch],ctrlSeq:xn[u.ctrlSeq]}),this.delimFrags[e].removeClass("dcg-mq-ghost"),this.delimFrags[1].removeClass("dcg-mq-ghost");var u=this.delimFrags[t].addClass("dcg-mq-ghost");this.replaceBracket(u,t)}i?(l=(u=this.getEnd(e)).getEnd(t),u.domFrag().removeClass("dcg-mq-empty"),new _(i,a,-t).disown().withDirAdopt(-t,u,l,0).domFrag().insAtDirEnd(t,u.domFrag().oneElement()),l&&l.siblingCreated(n.options,t),n.insDirOf(-t,i)):r?n.insDirOf(t,this):n.insAtDirEnd(t,this.getEnd(e))}},mn.prototype.replaceBracket=function(t,r){var n=this.getSymbol(r);t.children().replaceWith(h(n.html())),t.oneElement().style.width=n.width,r===e?(r=t.next()).isEmpty()||(r.oneElement().style.marginLeft=n.width):(t=t.prev()).isEmpty()||(t.oneElement().style.marginRight=n.width)},mn.prototype.deleteTowards=function(e,t){this.deleteSide(-e,!1,t)},mn.prototype.finalizeTree=function(){this.getEnd(e).deleteOutOf=function(e,t){this.parent.deleteSide(e,!0,t)},this.finalizeTree=this.intentionalBlur=function(){this.delimFrags[this.side===e?1:e].removeClass("dcg-mq-ghost"),this.side=0}},mn.prototype.siblingCreated=function(e,t){t===-this.side&&this.finalizeTree()},mn);function mn(t,r,n,o,i){var a=hn.call(this,"\\left"+o,void 0,[r,n])||this;return a.side=t,a.sides=((t={})[e]={ch:r,ctrlSeq:o},t[1]={ch:n,ctrlSeq:i},t),a}function yn(){return null!==fn&&fn.apply(this,arguments)||this}var vn,bn,xn={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{","\\{":"\\}","\\}":"\\{","&lang;":"&rang;","&rang;":"&lang;","\\langle ":"\\rangle ","\\rangle ":"\\langle ","|":"|","\\lVert ":"\\rVert ","\\rVert ":"\\lVert "},wn={"&lang;":"angle-bracket","&rang;":"angle-bracket","|":"pipe"};function En(t,r,n){r=r||t;var o=xn[t],i=xn[r];M[t]=function(){return new gn(e,t,o,r,i)},M[o]=function(){return new gn(1,t,o,r,i)},wn[t]=wn[o]=n}function Sn(){return null!==vn&&vn.apply(this,arguments)||this}function kn(){return null!==bn&&bn.apply(this,arguments)||this}En("(","","parenthesis"),En("[","","bracket"),En("{","\\{","brace"),I.langle=function(){return new gn(e,"&lang;","&rang;","\\langle ","\\rangle ")},I.rangle=function(){return new gn(1,"&lang;","&rang;","\\langle ","\\rangle ")},M["|"]=function(){return new gn(e,"|","|","|","|")},I.lVert=function(){return new gn(e,"&#8741;","&#8741;","\\lVert ","\\rVert ")},I.rVert=function(){return new gn(1,"&#8741;","&#8741;","\\lVert ","\\rVert ")},I.left=(__extends(kn,bn=Qe),kn.prototype.parser=function(){var e=oe.regex,t=oe.string,r=oe.optWhitespace;return r.then(e(/^(?:[([|]|\\\{|\\langle(?![a-zA-Z])|\\lVert(?![a-zA-Z]))/)).then(function(n){var o=n.replace(/^\\/,"");return"\\langle"==n&&(o="&lang;",n+=" "),"\\lVert"==n&&(o="&#8741;",n+=" "),Oe.then(function(i){return t("\\right").skip(r).then(e(/^(?:[\])|]|\\\}|\\rangle(?![a-zA-Z])|\\rVert(?![a-zA-Z]))/)).map(function(e){var t=e.replace(/^\\/,"");return"\\rangle"==e&&(t="&rang;",e+=" "),"\\rVert"==e&&(t="&#8741;",e+=" "),(e=new gn(0,o,t,n,e)).blocks=[i],i.adopt(e,0,0),e})})})},kn),I.right=(__extends(Sn,vn=Qe),Sn.prototype.parser=function(){return oe.fail("unmatched \\right")},Sn);var _n,In,Mn=_r["("],Ln=_r[")"];__extends(Tn,_n=Ae),Ae=Tn;function Tn(){var e=null!==_n&&_n.apply(this,arguments)||this;return e.ctrlSeq="\\binom",e.domView=new ze(2,function(e){return s("span",{class:"dcg-mq-non-leaf dcg-mq-bracket-container"},[s("span",{style:"width:"+Mn.width,class:"dcg-mq-paren dcg-mq-bracket-l dcg-mq-scaled"},[Mn.html()]),s("span",{style:"margin-left:"+Mn.width+"; margin-right:"+Ln.width,class:"dcg-mq-non-leaf dcg-mq-bracket-middle"},[s("span",{class:"dcg-mq-array dcg-mq-non-leaf"},[s.block("span",{},e[0]),s.block("span",{},e[1])])]),s("span",{style:"width:"+Ln.width,class:"dcg-mq-paren dcg-mq-bracket-r dcg-mq-scaled"},[Ln.html()])])}),e.textTemplate=["choose(",",",")"],e.mathspeakTemplate=["StartBinomial,","Choose",", EndBinomial"],e.ariaLabel="binomial",e}function Cn(){return null!==In&&In.apply(this,arguments)||this}I.binom=I.binomial=Ae,I.choose=(__extends(Cn,In=Ae),Cn.prototype.createLeftOf=function(e){Yr.prototype.createLeftOf(e)},Cn);var An;__extends(On,An=Qe),On.prototype.parser=function(){var e=this,t=oe.string,r=oe.regex,n=oe.succeed;return t("[").then(r(/^[a-z][a-z0-9]*/i)).skip(t("]")).map(function(t){e.name=t}).or(n(void 0)).then(An.prototype.parser.call(this))},On.prototype.finalizeTree=function(t){(t=new Xe(this.getEnd(e),this.domFrag().oneElement(),t)).KIND_OF_MQ="MathField",t.editable=!0,t.createTextarea(),t.editablesTextareaEvents(),t.cursor.insAtRightEnd(t.root),Z(t.root),function e(t){var r;t.parentNode&&!h(t).hasClass("dcg-mq-root-block")&&e(t.parentNode),t.nodeType===Node.ELEMENT_NODE&&"true"===(r=t).getAttribute("aria-hidden")&&(r.removeAttribute("aria-hidden"),h(t).children().eachElement(function(e){e.setAttribute("aria-hidden","true")}))}(this.domFrag().parent().oneElement()),this.domFrag().oneElement().removeAttribute("aria-hidden")},On.prototype.registerInnerField=function(t,r){r=new r(this.getEnd(e).controller),t[this.name]=r,t.push(r)},On.prototype.latexRecursive=function(t){this.checkCursorContextOpen(t),this.getEnd(e).latexRecursive(t),this.checkCursorContextClose(t)},On.prototype.text=function(){return this.getEnd(e).text()},Ae=On;function On(){var e=null!==An&&An.apply(this,arguments)||this;return e.ctrlSeq="\\MathQuillMathField",e.domView=new ze(1,function(e){return s("span",{class:"dcg-mq-editable-field"},[s.block("span",{class:"dcg-mq-root-block","aria-hidden":"true"},e[0])])}),e}I.editable=I.MathQuillMathField=Ae;var Pn,Dn=(__extends(Fn,Pn=Je),Fn.prototype.setOptions=function(e){function t(){return""}return this.text=e.text||t,this.domView=new ze(0,function(){return s("span",{},[a(e.htmlString||"")])}),this.latex=e.latex||t,this},Fn.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e),e.latex+=this.latex(),this.checkCursorContextClose(e)},Fn.prototype.parser=function(){var e=this,t=oe.string,r=oe.regex,n=oe.succeed;return t("{").then(r(/^[a-z][a-z0-9]*/i)).skip(t("}")).then(function(o){return t("[").then(r(/^[-\w\s]*/)).skip(t("]")).or(n(void 0)).map(function(t){return e.setOptions(R[o](t))})})},Fn);function Fn(){return null!==Pn&&Pn.apply(this,arguments)||this}if(I.embed=Dn,window.jQuery)for(var Nn in T=Q(1))!function(e,t){"function"==typeof t?($[e]=function(){return U(),t.apply(this,arguments)}).prototype=t.prototype:$[e]=t}(Nn,T[Nn])}(),define("mathquill_src",function(){}),define("loadcss!Symbola-basic",function(){}),define("loadcss!vendor/mathquill/mathquill-basic",function(){}),define("toplevel/mathquill",["require","testbridge","mathquill_src","loadcss!Symbola-basic","loadcss!vendor/mathquill/mathquill-basic"],function(e){"use strict";return e("testbridge"),e("mathquill_src"),e("loadcss!Symbola-basic"),e("loadcss!vendor/mathquill/mathquill-basic"),window.MathQuill.noConflict()}),define("main/mathquill-operators",["require","exports","config"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAutoOperators=t.getAutoCommands=void 0;var n=["exp|exponent ln|natural-log log","total length mean median quantile quartile nCr nPr stats","stdev|standard-deviation stddev|standard-deviation","stdDev|standard-deviation stdevp|standard-deviation-population","stddevp|standard-deviation-population stdDevP|standard-deviation-population mad var|variance","varp|variance-population variance cov|co-variance covp|co-variance-population corr|correlation spearman","lcm mcm gcd mcd gcf mod ceil|ceiling floor round abs|absolute-value min max sign|signum signum sgn","sin|sine cos|cosine tan|tangent csc|co-secant sec|secant cot|co-tangent","sinh|hyperbolic-sine cosh|hyperbolic-cosine tanh|hyperbolic-tangent csch|hyperbolic-co-secant","sech|hyperbolic-secant coth|hyperbolic-co-tangent","arcsin|arc-sine arccos|arc-cosine arctan|arc-tangent arccsc|arc-co-secant arcsec|arc-secant","arccot|arc-co-tangent","arcsinh|hyperbolic-arc-sine arccosh|hyperbolic-arc-cosine arctanh|hyperbolic-arc-co-tangent","arccsch|hyperbolic-arc-co-secant arcsech|hyperbolic-arc-secant","arccoth|hyperbolic-arc-co-tangent","arsinh|hyperbolic-ar-sine arcosh|hyperbolic-ar-cosine artanh|hyperbolic-ar-co-tangent","arcsch|hyperbolic-ar-co-secant arsech|hyperbolic-ar-secant","arcoth|hyperbolic-ar-co-tangent","polygon","distance midpoint","sort shuffle join unique","erf|error-function","TTest|t-test ttest|t-test TScore|t-score tscore|t-score","iTTest|independent-t-test ittest|independent-t-test IndependentTTest","TScore|t-score Tscore|t-score tscore|t-score","normaldist|normal-distribution tdist|t-distribution poissondist|poisson-distribution","binomialdist|binomial-distribution","uniformdist|uniform-distribution","pdf cdf random inverseCdf inversecdf","histogram dotplot boxplot","pdf cdf","rgb hsv","for","width height"].join(" "),o=["det|determinant","inv|inverse","transpose","rref|reduced-row-echelon-form","trace"].join(" ");n+=" "+o,r.get("3d")&&(n+=" cube sphere cone dodecahedron octahedron tetrahedron"),t.getAutoCommands=function(e){var t="alpha beta sqrt theta phi pi tau nthroot cbrt sum prod int ans percent infinity infty";return(e=e||{}).additionalCommands&&e.additionalCommands.length&&(t=t+" "+e.additionalCommands.join(" ")),e.disallowFrac?t:t+" frac"},t.getAutoOperators=function(e){var t=n;return(e=e||{}).additionalOperators&&e.additionalOperators.length&&(t=t+" "+e.additionalOperators.join(" ")),t}}),define("mathquill",["require","browser","jquery","toplevel/mathquill","main/mathquill-operators"],function(e){"use strict";var t=e("browser"),r=e("jquery"),n=e("toplevel/mathquill").getInterface(3);e=e("main/mathquill-operators");return n.config({leftRightIntoCmdGoes:"up",sumStartsWithNEquals:!0,supSubsRequireOperand:!0,charsThatBreakOutOfSupSub:"+-=<>*",autoCommands:e.getAutoCommands(),autoSubscriptNumerals:!0,restrictMismatchedBrackets:!0,typingPercentWritesPercentOf:!0,substituteTextarea:function(){return(t.IS_IOS||t.IS_ANDROID?r('<span class="dcg-mathquill-input-span" tabindex=0 role="textbox" style="display:inline-block;height:1px;width:1px">'):t.IS_WINDOWS&&t.IS_TOUCH?r("<textarea readonly>").on("keydown",function(){this.readOnly=!1,this.select()}).on("blur",function(){this.readOnly=!0}):r("<textarea>"))[0]},autoOperatorNames:e.getAutoOperators(),quietEmptyDelimiters:"( [",resetCursorOnBlur:!0,enableDigitGrouping:!0,disableAutoSubstitutionInSubscripts:!0,interpretTildeAsSim:!0})}),define("core/types/graphmode",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.POLYGON=t.ERROR=t.PARAMETRIC_CURVE_3D=t.Z_3D=t.OBJECT3D=t.VISUALIZATION=t.NONE=t.IMPLICIT=t.POLYGONFILL=t.POLAR=t.PARAMETRIC=t.XYPOINT_MOVABLE=t.XYPOINT=t.Y=t.X=void 0,t.X=1,t.Y=2,t.XYPOINT=3,t.XYPOINT_MOVABLE=4,t.PARAMETRIC=5,t.POLAR=6,t.POLYGONFILL=7,t.IMPLICIT=8,t.NONE=10,t.VISUALIZATION=11,t.OBJECT3D=12,t.Z_3D=13,t.PARAMETRIC_CURVE_3D=14,t.ERROR=15,t.POLYGON=16}),define("graphing/clipping",["require","exports","core/types/graphmode"],function(e,t,r){"use strict";function n(e,t,r,n){var o,i,a,s,c=[];n?(o=2,(s=t(i=e[0],a=e[1]))&&c.push(i,a)):(o=0,s=t(i=e[e.length-2],a=e[e.length-1]));for(var l=o;l<e.length;l+=2){var u=i,d=a,p=s;((s=t(i=e[l],a=e[l+1]))||p)&&(s&&p&&c.push(i,a),s&&!p&&(Array.prototype.push.apply(c,r(i,a,u,d)),c.push(i,a)),!s&&p&&Array.prototype.push.apply(c,r(u,d,i,a)))}return c}function o(e,r,o,i){var a=r.xmin,s=r.xmax,c=r.ymin,l=r.ymax;r=e;return o&t.LEFT&&(r=n(e,function(e,t){return a<=e},function(e,t,r,n){return[a,t+(n-t)*(a-e)/(r-e)]},i)),o&t.BOTTOM&&(r=n(r,function(e,t){return c<=t},function(e,t,r,n){return[e+(r-e)*(c-t)/(n-t),c]},i)),o&t.RIGHT&&(r=n(r,function(e,t){return e<=s},function(e,t,r,n){return[s,t+(n-t)*(s-e)/(r-e)]},i)),o&t.TOP&&(r=n(r,function(e,t){return t<=l},function(e,t,r,n){return[e+(r-e)*(l-t)/(n-t),l]},i)),r}Object.defineProperty(t,"__esModule",{value:!0}),t.getClippingGraphType=t.computeCartesianFill=t.computePolarFill=t.clipAllFillEdges=t.clipFillEdges=t.clipFillEdge=t.clipStrokeEdges=t.mapSegmentToCanvas=t.X_EQUALS=t.Y_EQUALS=t.POLAR_DEGREE_INEQUALITY=t.POLAR_DEGREE_EQUALITY=t.POLAR_RADIAN_INEQUALITY=t.POLAR_RADIAN_EQUALITY=t.Y=t.X=t.ALL=t.RIGHT=t.LEFT=t.BOTTOM=t.TOP=void 0,t.TOP=1,t.BOTTOM=2,t.LEFT=4,t.RIGHT=8,t.ALL=15,t.X=12,t.Y=3,t.POLAR_RADIAN_EQUALITY=1,t.POLAR_RADIAN_INEQUALITY=2,t.POLAR_DEGREE_EQUALITY=3,t.POLAR_DEGREE_INEQUALITY=4,t.Y_EQUALS=5,t.X_EQUALS=6,t.mapSegmentToCanvas=function(e,r,n,o){var i=[],a=r.xmin,s=r.ymin,c=r.xmax-r.xmin,l=r.ymax-r.ymin,u=(r=n.width,n.height),d=r/c,p=-u/l,h=e.length;if(o===t.Y_EQUALS)for(var f=0;f<h;f+=2){var g=(e[f]-a)*d,m=(e[f+1]-s)*p+u;i.push(g,m)}else if(o===t.X_EQUALS)for(f=0;f<h;f+=2)g=(e[f+1]-a)*d,m=(e[f]-s)*p+u,i.push(g,m);else if(o===t.POLAR_RADIAN_EQUALITY)for(f=0;f<e.length;f+=2){var y=e[f];g=((v=e[f+1])*Math.cos(y)-a)*d,m=(v*Math.sin(y)-s)*p+u;i.push(g,m)}else if(o===t.POLAR_RADIAN_INEQUALITY)for(f=0;f<e.length;f+=2)y=e[f],(v=e[f+1])<0&&(v=0),g=(v*Math.cos(y)-a)*d,m=(v*Math.sin(y)-s)*p+u,i.push(g,m);else if(o===t.POLAR_DEGREE_EQUALITY)for(f=0;f<e.length;f+=2)y=e[f]*Math.PI/180,g=((v=e[f+1])*Math.cos(y)-a)*d,m=(v*Math.sin(y)-s)*p+u,i.push(g,m);else if(o===t.POLAR_DEGREE_INEQUALITY)for(f=0;f<e.length;f+=2){var v;y=e[f]*Math.PI/180;(v=e[f+1])<0&&(v=0),g=(v*Math.cos(y)-a)*d,m=(v*Math.sin(y)-s)*p+u,i.push(g,m)}return i},t.clipStrokeEdges=function(e,r){return o(e,r,t.ALL,!0)},t.clipFillEdge=n,t.clipFillEdges=o,t.clipAllFillEdges=function(e,r){return o(e,r,t.ALL,!1)},t.computePolarFill=function(e,t,r){var n=[],o=(p=e[0])+r,i=[];n.push(i);for(var a=0;a<e.length;a+=2){var s=e[a],c=e[a+1];if(c<0&&(c=0),o<=s){for(i=[],n.push(i),o=p=e[a-2];o<=s;)o+=r;a-=4}else i.push(s,c)}if(0===t)for(a=0;a<n.length;a++)n[a].push(0,0);else{var l=r/16,u=t;for(a=0;a<n.length;a++){var d=n[a],p=d[0];for(s=o=d[d.length-2];p<s;s-=l)d.push(s,u);d.push(p,u)}}return n},t.computeCartesianFill=function(e,t){return(e=e.slice()).push(e[e.length-2],t),e.push(e[0],t),[e]},t.getClippingGraphType=function(e,n,o){switch(e){case r.X:return t.X_EQUALS;case r.IMPLICIT:case r.PARAMETRIC:case r.Y:return t.Y_EQUALS;case r.POLAR:return o.degreeMode?n?t.POLAR_DEGREE_INEQUALITY:t.POLAR_DEGREE_EQUALITY:n?t.POLAR_RADIAN_INEQUALITY:t.POLAR_RADIAN_EQUALITY}}}),define("graphing/svg-classes",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.restore=t.save=void 0,t.save=function(e,t){e._dcgSaveClassName&&e._dcgSaveClassName(t)},t.restore=function(e){e._dcgRestoreClassName&&e._dcgRestoreClassName()}}),define("graphing/canvas-labels",["require","exports","tslib","core/lib/deepCopy","graphing/svg-classes"],function(e,t,r,n,o){"use strict";function i(e,t){e.translate(t.left,t.top)}function a(e,t,r){e.save(),e.font=t.font,r?(e.strokeStyle="#FFF",e.lineWidth=3,e.miterLimit=2,e.strokeText(t.text,0,t.y)):(e.fillStyle=t.color,e.fillText(t.text,0,t.y)),e.restore()}function s(e,t,r){e.save(),r?(e.strokeStyle="#FFF",e.lineWidth=3):(t.fillColor&&(e.fillStyle=t.fillColor),t.strokeColor&&(e.strokeStyle=t.strokeColor)),e.beginPath();for(var n=0,o=t.instructions;n<o.length;n++){var i=o[n];switch(i.type){case"moveTo":e.moveTo(i.x,i.y);break;case"lineTo":e.lineTo(i.x,i.y);break;case"arcTo":e.arcTo(i.cx,i.cy,i.x,i.y,i.radius);break;case"ellipse":e.ellipse(i.centerX,i.centerY,i.radiusX,i.radiusY,i.rotation,i.startAngle,i.endAngle,i.anticlockwise)}}e.closePath(),r?e.stroke():(t.strokeColor&&e.stroke(),t.fillColor&&e.fill()),e.restore()}function c(e,t){var r=Math.sqrt(e[0]*e[0]+e[1]*e[1]),n=Math.sqrt(t[0]*t[0]+t[1]*t[1]),o=e[0]*t[0]+e[1]*t[1];n=Math.acos(o/(r*n));return e[0]*t[1]-e[1]*t[0]<0&&(n*=-1),n}Object.defineProperty(t,"__esModule",{value:!0}),t.drawCommandsToCtx=t.computeDrawingCommandsForDOMLabel=void 0;var l={};function u(e,t){if((i=e.childNodes[0])&&"path"===i.nodeName){var o=e.getBoundingClientRect();if(0<o.width&&0<o.height){for(var i=function(e,t){var n=l[a=e+"-"+t];if(n)return n;if(n=[],l[a]=n,4!==(a=t.split(" ")).length)return n;var o=parseFloat(a[0]),i=(t=parseFloat(a[2]),parseFloat(a[1])),a=parseFloat(a[3]),s=t-o,u=a-i;function d(e){return(e-o)/s}function p(e){return(e-i)/u}if(a=new RegExp("(M[0-9-.]+ [0-9-.]+)|(L[0-9-.]+ [0-9-.]+)|(A[0-9-.]+ [0-9-.]+ [0-9-.]+ [0-9-.]+ [0-9-.]+ [0-9-.]+ [0-9-.]+)","g"),!(a=e.match(a))||!a.length)return n;for(var h,f,g,m,y,v,b,x,w,E,S,k=NaN,_=NaN,I=0,M=a;I<M.length;I++){var L=M[I],T=L.substr(1).split(" ").map(parseFloat);switch(L[0]){case"M":k=d(T[0]),_=p(T[1]),n.push({type:"moveTo",x:k,y:_});break;case"L":k=d(T[0]),_=p(T[1]),n.push({type:"lineTo",x:k,y:_});break;case"A":var C=T[0]/s,A=T[1]/u,O=T[2],P=T[3],D=T[4],F=d(T[5]),N=p(T[6]),q=(h=k,f=_,g=C,m=A,y=O,v=P,q=D,b=F,x=N,D=D=P=O=A=C=void 0,S=(w=Math.cos(y))*(P=(h-b)/2)+(E=Math.sin(y))*(D=(f-x)/2),C=-E*P+w*D,A=g*g,O=m*m,P=S*S,D=C*C,D=Math.sqrt((A*O-A*D-O*P)/(A*D+O*P)),v===q&&(D*=-1),D=[(-S-(O=D*g*C/m))/g,(-C-(P=-D*m*S/g))/m],{centerX:w*O-E*P+(h+b)/2,centerY:E*O+w*P+(f+x)/2,radiusX:g,radiusY:m,startAngle:c(v=[1,0],[(S-O)/g,(C-P)/m]),endAngle:c(v,D),rotation:y,anticlockwise:0===q});k=F,_=N;n.push(r.__assign({type:"ellipse"},q))}}return n}(i.getAttribute("d")||"",e.getAttribute("viewBox")||""),a=(e=window.getComputedStyle(e),o.width),s=o.height,u=0,d=i=n.default(i);u<d.length;u++){var p=d[u];switch(p.type){case"moveTo":case"lineTo":p.x*=a,p.y*=s;break;case"arcTo":p.x*=a,p.y*=s,p.cx*=a,p.cy*=s,p.radius*=a;break;case"ellipse":p.centerX*=a,p.centerY*=s,p.radiusX*=a,p.radiusY*=s;break;default:return p}}return{type:"path",rect:{left:o.left-t.pointCenterX,right:o.right-t.pointCenterX,top:o.top-t.pointCenterY,bottom:o.bottom-t.pointCenterY},fillColor:e.color||"#000",instructions:i}}}}t.computeDrawingCommandsForDOMLabel=function(e,t){var r,n=[];return!t.hasBorder||(r=function(t){var r=e.getBoundingClientRect();if(0<r.width&&0<r.height){var n=r.width+5,o=[{type:"moveTo",x:-2,y:-5},{type:"lineTo",x:n-3,y:-5},{type:"arcTo",cx:n,cy:-5,x:n,y:-2,radius:3},{type:"lineTo",x:n,y:(o=r.height+5)-3},{type:"arcTo",cx:n,cy:o,x:n-3,y:o,radius:3},{type:"lineTo",x:-2,y:o},{type:"arcTo",cx:-5,cy:o,x:-5,y:o-3,radius:3},{type:"lineTo",x:-5,y:-2},{type:"arcTo",cx:-5,cy:-5,x:-2,y:-5,radius:3}];return{type:"path",disableGlow:!0,rect:{left:r.left-t.pointCenterX,right:r.right-t.pointCenterX,top:r.top-t.pointCenterY,bottom:r.bottom-t.pointCenterY},instructions:o,strokeColor:"#C2C2C2",fillColor:"rgba(255,255,255,.75)"}}}(t))&&n.push(r),function e(t,r,n){var o=window.getComputedStyle(t);"0px"!==o.borderTopWidth&&(s=function(e,r){var n=t.getBoundingClientRect();if(0<n.width&&0<n.height){var o=n.width,i=parseFloat(e.borderTopWidth||"1px");return e=e.borderTopColor||"#000",i=[{type:"moveTo",x:0,y:0},{type:"lineTo",x:o,y:0},{type:"lineTo",x:o,y:i},{type:"lineTo",x:0,y:i}],{type:"path",rect:{left:n.left-r.pointCenterX,right:n.right-r.pointCenterX,top:n.top-r.pointCenterY,bottom:n.bottom-r.pointCenterY},instructions:i,fillColor:e}}}(o,r))&&n.push(s);for(var i=t.childNodes,a=0;a<i.length;a++){var s,c=i[a];3===c.nodeType?(s=function(e,t){var r=document.createRange();r.selectNode(e);var n=r.getBoundingClientRect();if(0<n.width&&0<n.height){var o=window.getComputedStyle(e.parentElement),i=e.nodeValue||"";if(i)return r=-.228*parseFloat(o.fontSize),e=o.fontStyle+" "+o.fontWeight+" "+o.fontSize+" "+o.fontFamily,{type:"text",rect:{left:n.left-t.pointCenterX,right:n.right-t.pointCenterY,top:n.top-t.pointCenterY,bottom:n.bottom-t.pointCenterY},text:i,color:o.color||"#000",font:e,y:n.height+r,hasOutline:t.hasOutline}}}(c,r))&&n.push(s):"svg"===c.nodeName?(s=u(c,r))&&n.push(s):1===c.nodeType&&e(c,r,n)}}(e,t,n),n},t.drawCommandsToCtx=function(e,t){o.save(t,"dcg-svg-label"),t.save(),o.restore(t);for(var r=0,n=e;r<n.length;r++){var c=n[r];switch(t.save(),i(t,c.rect),c.type){case"path":c.disableGlow||s(t,c,!0);break;case"text":c.hasOutline&&a(t,c,!0);break;default:return c}t.restore()}for(var l=0,u=e;l<u.length;l++){switch(c=u[l],t.save(),i(t,c.rect),c.type){case"path":s(t,c,!1);break;case"text":a(t,c,!1);break;default:return c}t.restore()}t.restore()}}),define("core/constants",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CURRENT_API_VERSION=void 0,t.CURRENT_API_VERSION="v1.8"}),define("main/raf-loop",["require","lib/parse-query-params"],function(e){"use strict";var t=(0,e("lib/parse-query-params").getQueryParams)().timeoutLoop;return void 0!==t?(t=parseFloat(t),isNaN(t)&&(t=1e3/60),function(e){setTimeout(function r(){setTimeout(r,t),e(Date.now())},t)}):function(e){requestAnimationFrame(function t(r){requestAnimationFrame(t),e(r)})}}),define("main/shared-clock-bus",["require","exports","main/raf-loop","underscore_model"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unsubscribe=t.subscribe=void 0;var o=new n.UnderscoreModel;r(function(e){o.triggerEvent("tick",e)});var i=0;t.subscribe=function(e){return i+=1,o.observeEvent("tick."+i,function(t,r){e(r)}),i},t.unsubscribe=function(e){o.unobserveEvent("tick."+e)}}),define("core/math/parser/input-span",["require","exports"],function(e,t){"use strict";function r(e,t,r){return{input:e,start:t,end:r}}Object.defineProperty(t,"__esModule",{value:!0}),t.slice=t.joinSpans=t.emptySpanAt=t.Span=void 0,t.Span=r,t.emptySpanAt=function(e,t){return r(e,t,t)},t.joinSpans=function(e,t){if(e.input!==t.input)throw new Error("Programming Error: cannot form a span on different inputs");return r(e.input,e.start,t.end)},t.slice=function(e){return e.input.slice(e.start,e.end)}}),define("core/math/domaintypes",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.intersectDomains=t.allReals=t.linearPositiveDomain=t.knownDomain=t.unknownDomain=t.emptyDomain=void 0,t.emptyDomain=function(){return{type:"empty"}},t.unknownDomain=function(){return{type:"unknown"}},t.knownDomain=function(e){return isNaN(e[0])||isNaN(e[1])||e[1]<e[0]?t.emptyDomain():{type:"known",bounds:e}},t.linearPositiveDomain=function(e,r){return 0===r?0<e?t.allReals():t.emptyDomain():(e=-e/r,e=r<0?[-1/0,e]:[e,1/0],t.knownDomain(e))},t.allReals=function(){return t.knownDomain([-1/0,1/0])},t.intersectDomains=function(e,r){return"empty"===e.type||"empty"===r.type?t.emptyDomain():"unknown"===e.type||"unknown"===r.type?t.unknownDomain():e.bounds&&r.bounds?(r=[Math.max(e.bounds[0],r.bounds[0]),Math.min(e.bounds[1],r.bounds[1])],t.knownDomain(r)):t.emptyDomain()}}),define("core/math/types",["require","exports","core/lib/worker-i18n"],function(e,t,r){"use strict";var n;function o(e){switch(e){case t.Any:return"Any";case t.Number:return"Number";case t.Bool:return"Bool";case t.Point:return"Point";case t.Distribution:return"Distribution";case t.Action:return"Action";case t.ListOfAny:return"ListOfAny";case t.ListOfNumber:return"ListOfNumber";case t.ListOfBool:return"ListOfBool";case t.ListOfPoint:return"ListOfPoint";case t.ListOfDistribution:return"ListOfDistribution";case t.EmptyList:return"EmptyList";case t.ErrorType:return"ErrorType";case t.SeedType:return"SeedType";case t.RGBColor:return"RGBColor";case t.ListOfColor:return"ListOfColor";case t.Polygon:return"Polygon";case t.ListOfPolygon:return"ListOfPolygon";default:throw new Error("Invalid type: "+e)}}function i(e){switch(e){case t.ListOfAny:case t.ListOfNumber:case t.ListOfBool:case t.ListOfPoint:case t.ListOfDistribution:case t.ListOfColor:case t.ListOfPolygon:case t.EmptyList:return!0;case t.Any:case t.Number:case t.Bool:case t.Point:case t.Distribution:case t.ErrorType:case t.SeedType:case t.RGBColor:case t.Action:case t.Polygon:return!1;default:throw new Error("Invalid type: "+e)}}function a(e){switch(e){case t.EmptyList:case t.ListOfNumber:return t.Number;case t.ListOfBool:return t.Bool;case t.ListOfPoint:return t.Point;case t.ListOfDistribution:return t.Distribution;case t.ListOfColor:return t.RGBColor;case t.ListOfPolygon:return t.Polygon;case t.ListOfAny:return t.Any;case t.Any:case t.Number:case t.Bool:case t.Point:case t.Distribution:case t.ErrorType:case t.SeedType:case t.RGBColor:case t.Action:case t.Polygon:return t.Any;default:throw new Error("Invalid type: "+e)}}function s(e,r){return!(e!==t.EmptyList||!i(r))||!(r!==t.ListOfAny||!i(e))||e===r}Object.defineProperty(t,"__esModule",{value:!0}),t.isTypeOrListOfType=t.typesMatch=t.isSubType=t.isOneOf=t.hasListType=t.listType=t.elementType=t.isList=t.prettyPrint=t.repr=t.ListOfPolygon=t.Polygon=t.ListOfColor=t.RGBColor=t.SeedType=t.ErrorType=t.EmptyList=t.ListOfDistribution=t.ListOfPoint=t.ListOfBool=t.ListOfNumber=t.ListOfAny=t.Action=t.Distribution=t.Point=t.Bool=t.Number=t.Any=void 0,t.Any=0,t.Number=1,t.Bool=2,t.Point=3,t.Distribution=4,t.Action=5,t.ListOfAny=6,t.ListOfNumber=7,t.ListOfBool=8,t.ListOfPoint=9,t.ListOfDistribution=10,t.EmptyList=11,t.ErrorType=12,t.SeedType=13,t.RGBColor=14,t.ListOfColor=15,t.Polygon=16,t.ListOfPolygon=17,t.repr=o,t.prettyPrint=function(e){switch(e){case t.Any:return r.s("shared-calculator-label-value-type-any");case t.Number:return r.s("shared-calculator-label-value-type-number");case t.Bool:return r.s("shared-calculator-label-value-type-bool");case t.Point:return r.s("shared-calculator-label-value-type-point");case t.Distribution:return r.s("shared-calculator-label-value-type-distribution");case t.Action:return r.s("shared-calculator-label-value-type-action");case t.ListOfAny:return r.s("shared-calculator-label-value-type-list-of-any");case t.ListOfNumber:return r.s("shared-calculator-label-value-type-list-of-numbers");case t.ListOfBool:return r.s("shared-calculator-label-value-type-list-of-bool");case t.ListOfPoint:return r.s("shared-calculator-label-value-type-list-of-points");case t.ListOfDistribution:return r.s("shared-calculator-label-value-type-list-of-distributions");case t.EmptyList:return r.s("shared-calculator-label-value-type-empty-list");case t.ErrorType:return r.s("shared-calculator-label-value-type-error");case t.SeedType:return r.s("shared-calculator-label-value-type-seed");case t.RGBColor:return r.s("shared-calculator-label-value-type-color");case t.ListOfColor:return r.s("shared-calculator-label-value-type-list-of-colors");case t.Polygon:return r.s("shared-calculator-label-value-type-polygon");case t.ListOfPolygon:return r.s("shared-calculator-label-value-type-list-of-polygons");default:throw new Error("Invalid type: "+e)}},(n={})[t.ListOfAny]=t.Any,n[t.EmptyList]=t.Number,n[t.ListOfNumber]=t.Number,n[t.ListOfBool]=t.Bool,n[t.ListOfPoint]=t.Point,n[t.ListOfDistribution]=t.Distribution,n[t.ListOfColor]=t.RGBColor,n[t.ListOfPolygon]=t.Polygon,t.isList=i,t.elementType=a,t.listType=function(e){switch(e){case t.Any:return t.ListOfAny;case t.Number:return t.ListOfNumber;case t.Bool:return t.ListOfBool;case t.Point:return t.ListOfPoint;case t.Distribution:return t.ListOfDistribution;case t.RGBColor:return t.ListOfColor;case t.Polygon:return t.ListOfPolygon;case t.EmptyList:case t.ListOfNumber:case t.ListOfBool:case t.ListOfPoint:case t.ListOfDistribution:case t.ListOfColor:case t.ListOfPolygon:case t.ListOfAny:case t.ErrorType:case t.SeedType:case t.Action:throw new Error("Type "+o(e)+" does not implement listType.");default:throw new Error("Invalid type: "+e)}},t.hasListType=function(e){switch(e){case t.Any:case t.Number:case t.Bool:case t.Point:case t.Distribution:case t.RGBColor:case t.Polygon:return!0;case t.EmptyList:case t.ListOfNumber:case t.ListOfBool:case t.ListOfPoint:case t.ListOfDistribution:case t.ListOfColor:case t.ListOfPolygon:case t.ListOfAny:case t.ErrorType:case t.SeedType:case t.Action:return!1;default:throw new Error("Invalid type: "+e)}},t.isOneOf=function(e,t){for(var r=0,n=t;r<n.length;r++)if(e===n[r])return!0;return!1},t.isSubType=s,t.typesMatch=function(e,t){return s(e,t)||s(t,e)},t.isTypeOrListOfType=function(e,r){return e===r||!!i(e)&&(e===t.EmptyList||a(e)===r)}}),define("core/math/parsenode/base",["require","pjs","core/math/parser/input-span","core/math/domaintypes","core/math/types"],function(e){"use strict";var t=e("pjs"),r=e("core/math/parser/input-span"),n=e("core/math/domaintypes"),o=e("core/math/types");return t(function(e,t,i){e.init=function(){this._dependencies=[],this._dummyDependencies=[],this._updateSymbols=[],this._scope={definitions:[],dependencies:[],scopes:[]},this._exports=[]},e.exportPenalty=0,e.setInputSpan=function(e){this._inputSpan=e},e.getInputString=function(){return void 0===this.getInputSpan()?"":r.slice(this._inputSpan)},e.getInputSpan=function(){return this._inputSpan},e.shouldExportAns=function(){return!1},e.getAnsVariable=function(){return this.shouldExportAns()&&this.userData&&this.userData.hasOwnProperty("index")?["ans_"+this.userData.index]:[]},e.addDependency=function(e){-1===this._dependencies.indexOf(e)&&this._dependencies.push(e),-1===this._scope.dependencies.indexOf(e)&&this._scope.dependencies.push(e)},e.addDependencies=function(e){for(var t=0;t<e.length;t++)this.addDependency(e[t])},e.addDummyDependency=function(e){-1===this._dependencies.indexOf(e)&&this._dependencies.push(e),-1===this._dummyDependencies.indexOf(e)&&this._dummyDependencies.push(e)},e.addDummyDependencies=function(e){for(var t=0;t<e.length;t++)this.addDummyDependency(e[t])},e.addUpdateSymbol=function(e){-1===this._dependencies.indexOf(e)&&this._dependencies.push(e),-1===this._updateSymbols.indexOf(e)&&this._updateSymbols.push(e)},e.mergeDependencies=function(){for(var e=0;e<arguments.length;e++){for(var t=arguments[e],r=0;r<t._dependencies.length;r++)-1===this._dependencies.indexOf(t._dependencies[r])&&this._dependencies.push(t._dependencies[r]);for(r=0;r<t._updateSymbols.length;r++)-1===this._updateSymbols.indexOf(t._updateSymbols[r])&&this._updateSymbols.push(t._updateSymbols[r]);for(r=0;r<t._scope.dependencies.length;r++)-1===this._scope.dependencies.indexOf(t._scope.dependencies[r])&&this._scope.dependencies.push(t._scope.dependencies[r]);this.addDummyDependencies(t.getDummyDependencies()),Array.prototype.push.apply(this._scope.scopes,t._scope.scopes)}},e.mergeDependenciesInScope=function(e,t){this.addDummyDependencies(e);var r={definitions:e,dependencies:(r=t.getScope()).dependencies,scopes:r.scopes};this._scope.scopes.push(r);for(var n=0;n<t._dependencies.length;n++)-1===this._dependencies.indexOf(t._dependencies[n])&&this._dependencies.push(t._dependencies[n]);for(n=0;n<t._updateSymbols.length;n++)-1===this._updateSymbols.indexOf(t._updateSymbols[n])&&this._updateSymbols.push(t._updateSymbols[n]);this.addDummyDependencies(t.getDummyDependencies())},e.getDependencies=function(){return this._dependencies},e.getDummyDependencies=function(){return this._dummyDependencies},e.getUpdateSymbols=function(){return this._updateSymbols},e.getScope=function(){return this._scope},e.dependsOn=function(e){return-1<this._dependencies.indexOf(e)},e.getExports=function(){return(this._exports||[]).concat(this.getAnsVariable())},e.getLegalExports=function(e){return this.getExports().filter(function(t){return!e.assignmentForbidden(t)})},e.exportsSymbol=function(e){return-1<this._exports.indexOf(e)},e.exportTo=function(e,t,r){for(var n=this.getLegalExports(e),o=0;o<n.length;o++){var i=n[o];if(r[i])return;r[i]=t.blocksExport?t:this}},e.getOperator=function(){return this.operator||"="},e.isInequality=function(){return!1},e.isShadeBetween=function(){return!1},e.getAllIds=function(){return this.userData?[this.userData.id]:[]},e.getEvaluationInfo=function(){return!1},e.shouldPromoteToSlider=function(e){return!1},e.getSliderVariables=function(e,t){var r=e.sliderVariables(t.getDependencies());return t.valueType===o.Point||t.valueType===o.ListOfPoint?r.filter(function(t){return!e.validParametricVariable(t)}):r},e.getCompiledDerivative=function(){var e=this.getDependencies();return this.takeDerivative(e[0]||"x").getCompiledFunction()},e.asValue=function(){},e.boundDomain=function(e){return n.unknownDomain()}})}),define("core/math/parsenode/error",["require","pjs","./base"],function(e){"use strict";return e("pjs")(e("./base"),function(e,t){e.init=function(e){t.init.call(this),this._msg=e,this.blocksExport=!0},e.evaluateOnce=function(e){return this._msg},e.isError=!0,e.getError=function(){return this._msg},e.setDependencies=function(e){return this.addDependencies(e),this},e.setActionValue=function(e){this.actionValue=e},e.allowExport=function(){return this.blocksExport=!1,this}})}),define("core/math/distance",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.halfRound=t.approx=t.pointToSegment=t.closestPointOnSegment=t.pointToSegmentParameter=t.mean=t.hypot=void 0;var r=Math.hypot&&Math.hypot(1/0,NaN)===1/0;function n(e){return e===1/0||e===-1/0}function o(e,r,n,o,i,a,s,c,l){var u=t.hypot(s-o,c-i,l-a);return 0===u?0:(e-o)/u*((s-o)/u)+(r-i)/u*((c-i)/u)+(n-a)/u*((l-a)/u)}function i(e,t,r,n,i,a){return(t=o(e,t,0,r,n,0,i,a,0))<=0?[r,n]:1<=t?[i,a]:[r+t*(i-r),n+t*(a-n)]}t.hypot=r?Math.hypot:function(e,t,r){if(n(e)||n(t)||void 0!==r&&n(r))return 1/0;if(isNaN(e)||isNaN(t)||void 0!==r&&isNaN(r))return NaN;if(0===e&&0===t&&(void 0===r||0===r))return 0;for(var o=0,i=0,a=0;a<arguments.length;a+=1){var s=Math.abs(Number(arguments[a]));o<s&&(i*=o/s*(o/s),o=s),i+=0===s&&0===o?0:s/o*(s/o)}return o===1/0?1/0:o*Math.sqrt(i)},t.mean=function(e,t){return 0<e==0<t?e+.5*(t-e):.5*(e+t)},t.pointToSegmentParameter=o,t.closestPointOnSegment=i,t.pointToSegment=function(e,r,n,o,a,s){return s=i(e,r,n,o,a,s),t.hypot(e-s[0],r-s[1])},t.approx=function(e,t,r){if(void 0===r&&(r=1),e===t)return!0;if(!isFinite(e)||!isFinite(t))return!1;if(50<r)throw new Error("Within "+(52-r)+" bits isn't really approximate any more");var n=Math.max(Math.max(Math.abs(e),Math.abs(t)),1);return n===n+(1===r?.5:Math.pow(.5,r))*Math.abs(t-e)},t.halfRound=function(e){return Math.round(e-.5)+.5}}),define("core/math/tofraction",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===t&&(t=1e6),e===1/0)return{n:1/0,d:1};if(e===-1/0)return{n:-1/0,d:1};if(!isFinite(e))return{n:NaN,d:1};for(var r,n,o,i=0,a=1,s=1,c=0;n=(r=Math.floor(e))*a+i,!((o=r*c+s)>t||(i=a,s=c,a=n,c=o,e===r));)e=1/(e-r);return{n:a,d:c}}}),define("core/lib/label",["require","exports","underscore","core/math/distance","core/math/tofraction"],function(e,t,r,n,o){"use strict";function i(e,t){if(void 0===t&&(t=e),isNaN(e)||!isFinite(e))return{string:"undefined",latex:"undefined",value:e};if(0===e)return{string:"0",latex:"0",value:e};Math.abs(e)>Math.abs(t)&&(t=e);var r,i,a,d=o.default(e/Math.PI,24);if(l(t)&&n.approx(d.n/d.d*Math.PI,e,3))return a=0===d.n?r="0":1===d.n?(r="","\\pi"):-1===d.n?(r="-","-\\pi"):(r=d.n.toString()+"",d.n.toString()+"\\pi"),p=1===d.d?i="":(i="/"+d.d.toString(),d.d.toString()),{string:i=r+i,latex:""===p?a:"-"===a[0]?"-\\frac{"+a.slice(1)+"}{"+p+"}":"\\frac{"+a+"}{"+p+"}",value:d.n/d.d*Math.PI};if(l(t))return{string:i="-0"===(h=s(e.toFixed(u(t))))?"0":h,latex:i,value:parseFloat(i)};var p=c(e.toExponential(u(t/e))).split("e"),h=(d=p[0]+"10",p[1].replace("+",""));return{string:i=c(e.toExponential(u(t/e))).replace("+",""),latex:p[0]+"\\times10^{"+h+"}",mantissa:d,superscript:h,value:parseFloat(i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.trimLatex=t.latexToIdentifier=t.identifierToHTML=t.identifierToLatex=t.formatSymbol=t.truncatedLatexLabel=t.truncatedPlainmathLabel=t.truncatedHTMLLabel=t.numericLabel=t.canDisplayAsFraction=t.point=t.value=void 0,t.value=i,t.point=function(e,t,r,n){return[t=i(e,t),i(n(t.value),r)]};var a=/\.?0+$/;function s(e){return-1===e.indexOf(".")?e:e.replace(a,"")}function c(e){return e.replace(/\.?0+e/,"e")}function l(e){return 1e-4<(e=Math.abs(e))&&e<1e7}function u(e){return e=Math.abs(e),e=Math.max(e,1e-16),Math.max(3,Math.floor(4.5-Math.log(e)/Math.LN10))}function d(e){return 1e6/Math.sqrt(Math.abs(e))}function p(e){if((r=d(e))<1)return!1;if(1e12<r)return!1;var t,r=(t=o.default(e,r)).n;return 1!==(t=t.d)&&e===e+Math.pow(2,-3)*Math.abs(r/t-e)}function h(e,t){if(t=t||{},isNaN(e)||!isFinite(e))return{type:"undefined"};if(0===e||t.zeroCutoff&&Math.abs(e)<t.zeroCutoff)return{type:"decimal",value:"0"};var r=t.smallCutoff||.001,n=t.bigCutoff||1e6,i=t.digits||10,a=c(e.toExponential(i-2)).match(/([\d\.\-]+)e\+?([\d\-]+)/);if(!a)return{type:"undefined"};var l=parseInt(a[2],10)>=i;if(p(e)&&t.displayAsFraction){var u=o.default(e,d(e));return{type:"fraction",numerator:u.n.toString(),denominator:u.d.toString()}}return Math.abs(e)>n||Math.abs(e)<r||l?{type:"scientific",mantissa:a[1],exponent:a[2]}:(i=s(e.toPrecision(i)),e!==Number(i)&&t.addEllipses&&(i+="..."),{type:"decimal",value:i})}function f(e){e=e.replace("\\","");var t={pi:"",tau:"",theta:"",phi:"",div:"",cdot:"",times:"",lt:"<",gt:">",le:"",ge:"",sim:"",ldots:"",prime:"",approx:"",to:"","->":""};return t.hasOwnProperty(e)?t[e]:e}t.canDisplayAsFraction=p,t.numericLabel=h,t.truncatedHTMLLabel=function(e,t){var r=h(e,t);switch(r.type){case"undefined":return"undefined";case"decimal":return r.value;case"scientific":return r.mantissa+"<span class='dcg-cross'></span>10<sup>"+r.exponent+"</sup>";case"fraction":return"1"===r.denominator?r.numerator:r.numerator+"/"+r.denominator;default:return r}},t.truncatedPlainmathLabel=function(e,t){var r=h(e,t);switch(r.type){case"undefined":return"undefined";case"decimal":return r.value;case"scientific":return r.mantissa+" * 10^"+r.exponent;case"fraction":return"1"===r.denominator?r.numerator:r.numerator+"/"+r.denominator;default:return r}},t.truncatedLatexLabel=function(e,t){var r=h(e,t);switch(r.type){case"undefined":return"undefined";case"decimal":return r.value;case"scientific":return r.mantissa+"\\times10^{"+r.exponent+"}";case"fraction":return"1"===r.denominator?r.numerator:"-"===r.numerator[0]?"-\\frac{"+r.numerator.slice(1)+"}{"+r.denominator+"}":"\\frac{"+r.numerator+"}{"+r.denominator+"}";default:return r}},t.formatSymbol=f,t.identifierToLatex=function(e){var t=e.match(/^\$(\d+)$/);return t?"\\token{"+t[1]+"}":(t=e.split("_"),e="",1<t[0].length&&(e+="\\"),e+=t[0],t[1]&&(e+="_{"+t[1]+"}"),e)},t.identifierToHTML=function(e){if(!e)return"";var t=e.split("_").map(f).map(r.escape);e=t[0];return t[1]&&(e+="<sub>"+t[1]+"</sub>"),e},t.latexToIdentifier=function(e){var t=e.match(/\\token\{(\d+)\}/);return t?"$"+t[1]:(e=e.replace(/\\operatorname\{(.*)\}/,"$1")).replace(/[{}\\]/g,"")},t.trimLatex=function(e){return e.replace(/^(\\ | |\\space)+/,"").replace(/(\\ | |\\space)+$/,"")}}),define("core/math/ir/constants",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_LIST_SIZE=void 0,t.MAX_LIST_SIZE=1e4}),define("core/math/errormsg",["require","exports","core/math/parsenode/error","core/lib/worker-i18n","core/lib/label","core/math/types","core/math/ir/constants"],function(e,t,r,n,o,i,a){"use strict";function s(e){return e=o.formatSymbol(e),r(n.s("shared-calculator-error-multiply-defined",{dependency:e}))}function c(e){var t=(e=e.map(o.formatSymbol)).pop()||"";return r(n.s("shared-calculator-error-dependency-cycle",{symbols:e.join("', '"),lastSymbol:t}))}Object.defineProperty(t,"__esModule",{value:!0}),t.variableLengthProductBodyDependsOnIndex=t.variableLengthSumBodyDependsOnIndex=t.variableLengthDistributionList=t.variableLengthTopLevelList=t.badListComprehensionInputDependency=t.shadowedListComprehensionInput=t.unexpectedForKeyword=t.listComprehensionIncorrectInput=t.listComprehensionInputListTypeError=t.matrixInvalidVariable=t.matrixElementTypeError=t.matrixPowerDimensions=t.matrixFractionalPower=t.matrixMultiplyDimensions=t.matrixSubtractDimensions=t.matrixAddDimensions=t.matrixAssignment=t.clickableObjectInvalidExpression=t.clickableObjectAssignmentNotIdentifier=t.clickableObjectAlreadyAssigned=t.clickableObjectAssignmentNotDefined=t.singularInverse=t.nonSquareInverse=t.nonSquareTrace=t.nonSquareDeterminant=t.fractionsUnavailable=t.featureUnavailable=t.pointsUnsupported=t.regressionsUnsupported=t.inequalitiesUnsupported=t.equationsUnsupported=t.functionDefinitionsUnsupported=t.assignmentsUnsupported=t.variableUnsupported=t.constantUnsupported=t.logbaseUnsupported=t.functionUnsupported=t.variablesUnsupported=t.ansUndefined=t.badSymbolContext=t.variableSeed=t.badSampleSize=t.ttestListTooShort=t.illegalBinWidth=t.percentMissingOf=t.badIntegralBoundDependency=t.shadowedIntegrationVariable=t.mismatchedBraces=t.derivativeMissingBody=t.integralMissingBody=t.productMissingBody=t.sumMissingBody=t.differentialWithSuperscript=t.integralMissingDifferential=t.integralMissingBound=t.badProductBoundDependency=t.badSumBoundDependency=t.incorrectProductLowerBound=t.incorrectSumLowerBound=t.productMissingBound=t.sumMissingBound=t.invalidHalfEmptyRange=t.nonArithmeticRange=t.functionFreeVariable=t.methodRequiresList=t.nonListParameterizedReducer=t.nonListDoubleReducer=t.optimizationError=t.invalidRegressionParameter=t.invalidDependentFirstTableColumn=t.invalidFirstTableColumn=t.invalidTableEntry=t.invalidTableHeader=t.distributionAsFunction=t.variableAsFunction=t.equationRequired=t.complicatedDoubleInequality=t.mismatchedDoubleInequality=t.invalidDoubleInequalityVariables=t.complicatedPolarImplicit=t.inequalitiesDisabled=t.implicitsDisabled=t.singleVariableImplicitEquationsDisabled=t.invalidImplicitVariables=t.invalidInequalityVariables=t.unplottablePolarFunction=t.invalidLHS=t.addArgumentsToDefinition=t.tooManyVariables=t.cdfMaxLessThanMin=t.cdfMaxInvalid=t.cdfMinInvalid=t.domainMaxLessThanMin=t.domainMaxInvalid=t.domainMinInvalid=t.sliderStepInvalid=t.sliderMaxLessThanMin=t.sliderMaxInvalid=t.sliderMinInvalid=t.sliderLimitReferencesExport=t.tickerMinStepNonNegativeNumber=t.selfReferentialFunction=t.tableCycleWithoutGlobalDefinition=t.cycle=t.shadowedIndex=t.multiplyDefinedByTables=t.multiplyDefined=t.cannotSubscript=t.cannotRedefine=t.parameterAlreadyDefined=t.functionNotDefined=t.blankExpression=t.colonMissingCondition=t.piecewisePartMissingCondition=t.piecewiseMissingCondition=t.inequalityChainTooLong=t.badLogExponent=t.badTrigExponent=t.emptyPipe=t.emptySquareBracket=t.emptyParen=t.emptyRadicalIndex=t.emptyRadical=t.primeWithoutParen=t.unexpectedPrime=t.superscriptWithPrime=t.unexpectedSubscript=t.invalidOperatorName=t.invalidSubscript=t.emptySuperscript=t.emptySubscript=t.fractionEmpty=t.fractionMissingDenominator=t.fractionMissingNumerator=t.unaryOperatorMissingRight=t.unaryOperatorMissingLeft=t.binaryOperatorMissingOperand=t.identifierAsFunction=t.tokenWithSubscript=t.adjacentNumbers=t.badImplicitCall=t.badTupleDimensions=t.malformedList=t.malformedPoint=t.zeroArgReducer=t.primedFunctionArity=t.wrongDoubleReducerArity=t.wrongParameterizedReducerArity=t.wrongArity=t.colorArity=t.randomFromBroadcastDistribution=t.randomArity=t.tdistWrongArity=t.cdfTooManyArguments=t.cdfRequiresArguments=t.pdfWrongArity=t.tooManyArguments=t.boxplotBreadthInvalid=t.boxplotOffsetInvalid=t.polygonTwoNumbersError=t.maxListSize=t.deeplyNested=t.combineTypeError=t.heterogeneousList=t.eventHandlerTypeError=t.actionMergeFreeVariable=t.updateRuleLocalLHS=t.updateRuleFunctionLHS=t.updateRuleIllegalLHS=t.updateRuleUndefinedLHS=t.duplicateUpdateRules=t.updateRuleNonIdentifierLHS=t.updateRuleTypeError=t.regressionTypeError=t.tableEntryTypeError=t.tableHeaderTypeError=t.piecewiseBranchTypeError=t.piecewiseConditionTypeError=t.derivativeVariableTypeError=t.derivativeTypeError=t.integralArgumentTypeError=t.integralUpperBoundTypeError=t.integralLowerBoundTypeError=t.productArgumentTypeError=t.productInfiniteBoundError=t.productUpperBoundTypeError=t.productLowerBoundTypeError=t.sumArgumentTypeError=t.sumInfiniteBoundError=t.sumUpperBoundTypeError=t.sumLowerBoundTypeError=t.dotLHSTypeError=t.illegalDotCall=t.functionTypeError=t.orderedPairAccessTypeError=t.indexTypeError=t.pointTypeError=t.listTypeError=t.andTypeError=t.comparatorTypeError=t.negativeTypeError=t.exponentTypeError=t.divideTypeError=t.multiplyTypeError=t.subtractTypeError=t.addTypeError=t.unexpectedSymbol=t.unexpectedInequality=t.unrecognizedSymbol=t.parseError=void 0,t.parseError=function(){return r(n.s("shared-calculator-error-parse-error"))},t.unrecognizedSymbol=function(e){return e=o.formatSymbol(e),r(n.s("shared-calculator-error-unrecognized-symbol",{symbol:e}))},t.unexpectedInequality=function(){return r(n.s("shared-calculator-error-unexpected-inequality"))},t.unexpectedSymbol=function(e){return e=o.formatSymbol(e),r(n.s("shared-calculator-error-unexpected-symbol",{symbol:e}))},t.addTypeError=function(e){return r(n.s("shared-calculator-error-add-type-error",{symbol1:e[0],symbol2:e[1]})).allowExport()},t.subtractTypeError=function(e){return r(n.s("shared-calculator-error-subtract-type-error",{symbol1:e[0],symbol2:e[1]})).allowExport()},t.multiplyTypeError=function(e){return r(n.s("shared-calculator-error-multiply-type-error",{symbol1:e[0],symbol2:e[1]})).allowExport()},t.divideTypeError=function(e){return r(n.s("shared-calculator-error-divide-type-error",{symbol1:e[0],symbol2:e[1]})).allowExport()},t.exponentTypeError=function(e){return r(n.s("shared-calculator-error-exponent-type-error",{symbol1:e[0],symbol2:e[1]})).allowExport()},t.negativeTypeError=function(e){return r(n.s("shared-calculator-error-negative-type-error",{symbol:e[0]})).allowExport()},t.comparatorTypeError=function(e){return r(n.s("shared-calculator-error-comparator-type-error",{symbol1:e[0],symbol2:e[1]})).allowExport()},t.andTypeError=function(e){return r(n.s("shared-calculator-error-and-type-error",{symbol:"and",symbol1:e[0],symbol2:e[1]})).allowExport()},t.listTypeError=function(e){return r(n.s("shared-calculator-error-list-type-error",{symbol1:e[0]})).allowExport()},t.pointTypeError=function(e){return r(n.s("shared-calculator-error-point-type-error",{symbol1:e,symbol2:i.prettyPrint(i.Point)})).allowExport()},t.indexTypeError=function(e){return r(n.s("shared-calculator-error-index-type-error",{symbol1:e[0],symbol2:e[1]})).allowExport()},t.orderedPairAccessTypeError=function(e){return r(n.s("shared-calculator-error-ordered-pair-access-type-error",{symbol:e[0]})).allowExport()},t.functionTypeError=function(e,t){switch(t.length){case 1:return r(n.s("shared-calculator-error-function-type-error-1",{fn:o.formatSymbol(e),arg:t[0]})).allowExport();case 2:return r(n.s("shared-calculator-error-function-type-error-2",{fn:o.formatSymbol(e),arg1:t[0],arg2:t[1]})).allowExport();default:return r(n.s("shared-calculator-error-function-type-error-many",{fn:o.formatSymbol(e)})).allowExport()}},t.illegalDotCall=function(e){return r(n.s("shared-calculator-error-illegal-dot-call",{symbol:o.formatSymbol(e)}))},t.dotLHSTypeError=function(e,t){return r(n.s("shared-calculator-error-dot-lhs-type-error",{symbol:o.formatSymbol(e),type:t})).allowExport()},t.sumLowerBoundTypeError=function(e){return r(n.s("shared-calculator-error-sum-lower-bound-type-error",{symbol:e[0]})).allowExport()},t.sumUpperBoundTypeError=function(e){return r(n.s("shared-calculator-error-sum-upper-bound-type-error",{symbol:e[0]})).allowExport()},t.sumInfiniteBoundError=function(){return r(n.s("shared-calculator-error-sum-infinite-bound-type-error"))},t.sumArgumentTypeError=function(e){return r(n.s("shared-calculator-error-sum-argument-type-error",{symbol:e[0]})).allowExport()},t.productLowerBoundTypeError=function(e){return r(n.s("shared-calculator-error-product-lower-bound-type-error",{symbol:e[0]})).allowExport()},t.productUpperBoundTypeError=function(e){return r(n.s("shared-calculator-error-product-upper-bound-type-error",{symbol:e[0]})).allowExport()},t.productInfiniteBoundError=function(){return r(n.s("shared-calculator-error-product-infinite-bound-type-error"))},t.productArgumentTypeError=function(e){return r(n.s("shared-calculator-error-product-argument-type-error",{symbol:e[0]})).allowExport()},t.integralLowerBoundTypeError=function(e){return r(n.s("shared-calculator-error-integral-lower-bound-type-error",{symbol:e[0]})).allowExport()},t.integralUpperBoundTypeError=function(e){return r(n.s("shared-calculator-error-integral-upper-bound-type-error",{symbol:e[0]})).allowExport()},t.integralArgumentTypeError=function(e){return r(n.s("shared-calculator-error-integral-argument-type-error",{symbol:e[0]})).allowExport()},t.derivativeTypeError=function(e){return r(n.s("shared-calculator-error-derivative-type-error",{symbol:e[0]})).allowExport()},t.derivativeVariableTypeError=function(e,t){return r(n.s("shared-calculator-error-derivative-variable-type-error",{symbol1:o.formatSymbol(e),symbol2:t[0]}))},t.piecewiseConditionTypeError=function(e){return r(n.s("shared-calculator-error-piecewise-condition-type-error",{symbol1:i.prettyPrint(i.Bool),symbol2:e[0]})).allowExport()},t.piecewiseBranchTypeError=function(e){return r(n.s("shared-calculator-error-piecewise-branch-type-error",{symbol1:e[0],symbol2:e[1]})).allowExport()},t.tableHeaderTypeError=function(e){return r(n.s("shared-calculator-error-table-header-type-error",{symbol:e[0]}))},t.tableEntryTypeError=function(e){return r(n.s("shared-calculator-error-table-entry-type-error",{symbol:e[0]}))},t.regressionTypeError=function(e){return r(n.s("shared-calculator-error-regression-type-error",{symbol1:e[0],symbol2:e[1]}))},t.updateRuleTypeError=function(e){return r(n.s("shared-calculator-error-update-rule-type-error",{symbol:e}))},t.updateRuleNonIdentifierLHS=function(){return r(n.s("shared-calculator-error-update-rule-non-identifier-lhs",{arrow:"",example:"a"}))},t.duplicateUpdateRules=function(e){return r(n.s("shared-calculator-error-duplicate-update-rules",{symbol:o.formatSymbol(e)}))},t.updateRuleUndefinedLHS=function(e){return r(n.s("shared-calculator-error-update-rule-undefined-lhs",{symbol:o.formatSymbol(e)}))},t.updateRuleIllegalLHS=function(e){return r(n.s("shared-calculator-error-update-rule-illegal-lhs",{symbol:o.formatSymbol(e)}))},t.updateRuleFunctionLHS=function(e){return r(n.s("shared-calculator-error-update-rule-function-lhs",{symbol:o.formatSymbol(e)}))},t.updateRuleLocalLHS=function(e){return r(n.s("shared-calculator-error-update-rule-local-lhs",{symbol:o.formatSymbol(e)}))},t.actionMergeFreeVariable=function(e){return e=e.filter(function(e){return"free"===e.scope}).map(function(e){return e.symbol}),r(n.s("shared-calculator-error-action-merge-free-variable",{symbol:o.formatSymbol(e[0]||"")})).setDependencies(e).allowExport()},t.eventHandlerTypeError=function(e){return r(n.s("shared-calculator-error-event-handler-type-error",{example:"aa+1"}))},t.heterogeneousList=function(){return r(n.s("shared-calculator-error-heterogeneous-list")).allowExport()},t.combineTypeError=function(e){return r(n.s("shared-calculator-error-combine-type-error",{symbol1:e[0],symbol2:e[1]})).allowExport()},t.deeplyNested=function(){return r(n.s("shared-calculator-error-deeply-nested")).allowExport()},t.maxListSize=function(){return r(n.s("shared-calculator-error-max-list-size",{maxListSize:a.MAX_LIST_SIZE.toLocaleString()})).allowExport()},t.polygonTwoNumbersError=function(){return r(n.s("shared-calculator-error-two-numbers-error"))},t.boxplotOffsetInvalid=function(){return r(n.s("shared-calculator-error-boxplot-offset-invalid"))},t.boxplotBreadthInvalid=function(){return r(n.s("shared-calculator-error-boxplot-breadth-invalid"))},t.tooManyArguments=function(e,t){return r(n.s("shared-calculator-error-too-many-arguments",{symbol:e,max:t}))},t.pdfWrongArity=function(){var e=n.s("shared-calculator-error-pdf-wrong-arity-recommendation");e=n.s("shared-calculator-error-pdf-wrong-arity",{recommendation:e});return r(e)},t.cdfRequiresArguments=function(){var e=n.s("shared-calculator-error-cdf-wrong-arity-recommendation");e=n.s("shared-calculator-error-cdf-wrong-arity",{recommendation:e});return r(e)},t.cdfTooManyArguments=function(){var e=n.s("shared-calculator-error-cdf-too-many-arguments-recommendation");e=n.s("shared-calculator-error-cdf-too-many-arguments",{recommendation:e});return r(e)},t.tdistWrongArity=function(){return r(n.s("shared-calculator-error-tdist-wrong-arity"))},t.randomArity=function(){return r(n.s("shared-calculator-error-random-arity"))},t.randomFromBroadcastDistribution=function(){return r(n.s("shared-calculator-error-random-from-broadcast-distribution"))},t.colorArity=function(e){var t="rgb"===e?[150,30,100]:[180,.5,.5];t=n.s("shared-calculator-error-color-arity-recommendation",{recommendation:o.formatSymbol(e)+"("+t.join(", ")+")"}),t=n.s("shared-calculator-error-color-arity",{symbol:e,recommendation:t});return r(t)},t.wrongArity=function(e,t,i,a){var s,c;if(e=o.formatSymbol(e),1===t)a=a||e+"(x)",c=n.s("shared-calculator-error-wrong-arity-supplement",{recommendation:a}),s=1<i?n.s("shared-calculator-error-wrong-arity-single-arg-too-many",{dependency:e,supplement:c}):n.s("shared-calculator-error-wrong-arity-single-arg-too-few",{dependency:e,supplement:c});else{var l=[];if(!a){for(var u=0;u<t;u++)l[u]=u+1;a=o.formatSymbol(e)+"("+l.join(", ")+")"}c=n.s("shared-calculator-error-wrong-arity-supplement",{recommendation:a}),s=n.s("shared-calculator-error-wrong-arity-many-arg",{dependency:e,assignment_arity:t,supplement:c})}return r(s)},t.wrongParameterizedReducerArity=function(e){return r(n.s("shared-calculator-error-wrong-two-arg-arity",{symbol:o.formatSymbol(e),recommendation:o.formatSymbol(e)+"([1,2,3], 1)"}))},t.wrongDoubleReducerArity=function(e){return r(n.s("shared-calculator-error-wrong-two-arg-arity",{symbol:o.formatSymbol(e),recommendation:o.formatSymbol(e)+"([1,2,3], [3,2,1])"}))},t.primedFunctionArity=function(){return r(n.s("shared-calculator-error-primed-function-arity"))},t.zeroArgReducer=function(e){return r(n.s("shared-calculator-error-zero-arg-reducer",{symbol:o.formatSymbol(e)}))},t.malformedPoint=function(){return r(n.s("shared-calculator-error-malformed-point"))},t.malformedList=function(){return r(n.s("shared-calculator-error-malformed-list"))},t.badTupleDimensions=function(e){return r(n.s("shared-calculator-error-bad-tuple-dimensions",{symbol:e}))},t.badImplicitCall=function(e){return e=o.formatSymbol(e),r(n.s("shared-calculator-error-bad-implicit-call",{symbol:e}))},t.adjacentNumbers=function(e,t){return r(n.s("shared-calculator-error-adjacent-numbers",{left:e,right:t}))},t.tokenWithSubscript=function(){return r(n.s("shared-calculator-error-token-with-subscript"))},t.identifierAsFunction=function(e){return e=o.formatSymbol(e),r(n.s("shared-calculator-error-identifier-as-function",{symbol:e}))},t.binaryOperatorMissingOperand=function(e){return"%"===(e=o.formatSymbol(e))&&(e="% of"),r(n.s("shared-calculator-error-binary-operator-missing-operand",{symbol:e}))},t.unaryOperatorMissingLeft=function(e){return e=o.formatSymbol(e),r(n.s("shared-calculator-error-unary-operator-missing-left",{symbol:e}))},t.unaryOperatorMissingRight=function(e){return e=o.formatSymbol(e),r(n.s("shared-calculator-error-unary-operator-missing-right",{symbol:e}))},t.fractionMissingNumerator=function(){return r(n.s("shared-calculator-error-fraction-missing-numerator"))},t.fractionMissingDenominator=function(){return r(n.s("shared-calculator-error-fraction-missing-denominator"))},t.fractionEmpty=function(){return r(n.s("shared-calculator-error-fraction-empty"))},t.emptySubscript=function(){return r(n.s("shared-calculator-error-empty-subscript"))},t.emptySuperscript=function(){return r(n.s("shared-calculator-error-empty-superscript"))},t.invalidSubscript=function(e){return e=o.formatSymbol(e),r(n.s("shared-calculator-error-invalid-subscript",{symbol:e}))},t.invalidOperatorName=function(){return r(n.s("shared-calculator-error-invalid-operator-name"))},t.unexpectedSubscript=function(){return r(n.s("shared-calculator-error-unexpected-subscript"))},t.superscriptWithPrime=function(){return r(n.s("shared-calculator-error-superscript-with-prime"))},t.unexpectedPrime=function(){return r(n.s("shared-calculator-error-unexpected-prime"))},t.primeWithoutParen=function(){return r(n.s("shared-calculator-error-prime-without-paren"))},t.emptyRadical=function(){return r(n.s("shared-calculator-error-empty-radical"))},t.emptyRadicalIndex=function(){return r(n.s("shared-calculator-error-empty-radical-index"))},t.emptyParen=function(){return r(n.s("shared-calculator-error-empty-paren"))},t.emptySquareBracket=function(){return r(n.s("shared-calculator-error-empty-square-bracket"))},t.emptyPipe=function(){return r(n.s("shared-calculator-error-empty-pipe"))},t.badTrigExponent=function(e){var t=e+"^2";e+="^-1";return r(n.s("shared-calculator-error-bad-trig-exponent",{form1:t,form2:e}))},t.badLogExponent=function(e){return e+="^2",r(n.s("shared-calculator-error-bad-log-exponent",{form:e}))},t.inequalityChainTooLong=function(){return r(n.s("shared-calculator-error-inequality-chain-too-long"))},t.piecewiseMissingCondition=function(){return r(n.s("shared-calculator-error-piecewise-missing-condition"))},t.piecewisePartMissingCondition=function(){return r(n.s("shared-calculator-error-piecewise-part-missing-condition"))},t.colonMissingCondition=function(){return r(n.s("shared-calculator-error-colon-missing-condition"))},t.blankExpression=function(){return r(n.s("shared-calculator-error-blank-expression"))},t.functionNotDefined=function(e){return e=o.formatSymbol(e),r(n.s("shared-calculator-error-function-not-defined",{dependency:e}))},t.parameterAlreadyDefined=function(e){return e=o.formatSymbol(e),r(n.s("shared-calculator-error-parameter-already-defined",{dependency:e}))},t.cannotRedefine=function(e,t){return e=o.formatSymbol(e),r(void 0===t?n.s("shared-calculator-error-cannot-redefine",{symbol:e}):n.s("shared-calculator-error-cannot-redefine-root",{symbol:e,symbolRoot:t}))},t.cannotSubscript=function(e){return e=o.formatSymbol(e),r(n.s("shared-calculator-error-cannot-subscript",{symbol:e}))},t.multiplyDefined=s,t.multiplyDefinedByTables=function(e){return(e=s(e)).isMultiplyDefinedByTables=!0,e},t.shadowedIndex=function(e){return e=o.formatSymbol(e),r(n.s("shared-calculator-error-shadowed-index",{symbol:e}))},t.cycle=c,t.tableCycleWithoutGlobalDefinition=function(e){return(e=c(e)).isTableCycleWithoutGlobalDefinition=!0,e},t.selfReferentialFunction=function(e){return r(n.s("shared-calculator-error-self-referential-function",{symbol:o.formatSymbol(e)}))},t.tickerMinStepNonNegativeNumber=function(){return r(n.s("shared-calculator-error-ticker-min-step-nonnegative"))},t.sliderLimitReferencesExport=function(e){return r(n.s("shared-calculator-error-slider-limit-references-export",{symbol:o.formatSymbol(e)}))},t.sliderMinInvalid=function(){return r(n.s("shared-calculator-error-slider-min-invalid"))},t.sliderMaxInvalid=function(){return r(n.s("shared-calculator-error-slider-max-invalid"))},t.sliderMaxLessThanMin=function(){return r(n.s("shared-calculator-error-slider-max-less-than-min"))},t.sliderStepInvalid=function(){return r(n.s("shared-calculator-error-slider-step-invalid"))},t.domainMinInvalid=function(){return r(n.s("shared-calculator-error-domain-min-invalid"))},t.domainMaxInvalid=function(){return r(n.s("shared-calculator-error-domain-max-invalid"))},t.domainMaxLessThanMin=function(){return r(n.s("shared-calculator-error-domain-max-less-than-min"))},t.cdfMinInvalid=function(){return r(n.s("shared-calculator-error-cdf-min-invalid"))},t.cdfMaxInvalid=function(){return r(n.s("shared-calculator-error-cdf-max-invalid"))},t.cdfMaxLessThanMin=function(){return r(n.s("shared-calculator-error-cdf-max-less-than-min"))},t.tooManyVariables=function(e){if(0===(e=e.map(o.formatSymbol)).length)return r(n.s("shared-calculator-error-too-many-variables-no-symbols"));var t=e.pop()||"";return 0<e.length?r(n.s("shared-calculator-error-too-many-variables-many-symbols",{variables:e.join("', '"),lastVariable:t})):r(n.s("shared-calculator-error-too-many-variables-one-symbol",{variable:t}))},t.addArgumentsToDefinition=function(e,t,i){return e=e.map(o.formatSymbol),t=(t=o.formatSymbol(t))+"("+(i=i.map(o.formatSymbol)).join(",")+","+e.join(",")+")",i=e.pop()||"",t={symbols:e.join("', '"),lastSymbol:i,newSignature:t},e.length?r(n.s("shared-calculator-error-add-arguments-to-definition-many",t)):r(n.s("shared-calculator-error-add-arguments-to-definition-one",t))},t.invalidLHS=function(e){return e=o.formatSymbol(e),r(n.s("shared-calculator-error-invalid-lhs",{symbol:e}))},t.unplottablePolarFunction=function(){return r(n.s("shared-calculator-error-unplottable-polar-function"))},t.invalidInequalityVariables=function(){return r(n.s("shared-calculator-error-invalid-inequality-variables"))},t.invalidImplicitVariables=function(){return r(n.s("shared-calculator-error-invalid-implicit-variables"))},t.singleVariableImplicitEquationsDisabled=function(){return r(n.s("shared-calculator-error-single-variable-implicit-equations-disabled"))},t.implicitsDisabled=function(){return r(n.s("shared-calculator-error-implicits-disabled"))},t.inequalitiesDisabled=function(){return r(n.s("shared-calculator-error-inequalities-disabled"))},t.complicatedPolarImplicit=function(){return r(n.s("shared-calculator-error-complicated-polar-implicit"))},t.invalidDoubleInequalityVariables=function(){return r(n.s("shared-calculator-error-invalid-double-inequality-variables"))},t.mismatchedDoubleInequality=function(){return r(n.s("shared-calculator-error-mismatched-double-inequality",{example:"1 < y < 2"}))},t.complicatedDoubleInequality=function(){return r(n.s("shared-calculator-error-complicated-double-inequality"))},t.equationRequired=function(e){return e?(e=o.formatSymbol(e),r(n.s("shared-calculator-error-equation-required-symbol",{lhs:e+"="}))):r(n.s("shared-calculator-error-equation-required"))},t.variableAsFunction=function(e){return e=o.formatSymbol(e),r(n.s("shared-calculator-error-variable-as-function",{dependency:e}))},t.distributionAsFunction=function(e){return e=o.formatSymbol(e),r(n.s("shared-calculator-error-distribution-as-function",{symbol:e}))},t.invalidTableHeader=function(e){return r(n.s("shared-calculator-error-invalid-table-header",{supplement:e}))},t.invalidTableEntry=function(e){return r(n.s("shared-calculator-error-invalid-table-entry",{supplement:e}))},t.invalidFirstTableColumn=function(){return r(n.s("shared-calculator-error-invalid-first-table-column",{most:"'y', 'r',",last:"''"}))},t.invalidDependentFirstTableColumn=function(){return r(n.s("shared-calculator-error-invalid-dependent-first-table-column"))},t.invalidRegressionParameter=function(e){return r(n.s("shared-calculator-error-invalid-regression-parameter",{symbol:o.formatSymbol(e)}))},t.optimizationError=function(){return r(n.s("shared-calculator-error-optimization-error"))},t.nonListDoubleReducer=function(e){return r(n.s("shared-calculator-error-non-list-double-reducer",{symbol:o.formatSymbol(e),recommendation:o.formatSymbol(e)+"([1,2,3], [3,2,1])"})).allowExport()},t.nonListParameterizedReducer=function(e){return r(n.s("shared-calculator-error-non-list-parameterized-reducer",{symbol:o.formatSymbol(e),recommendation:o.formatSymbol(e)+"([1,2,3], 1)"})).allowExport()},t.methodRequiresList=function(e){return r(n.s("shared-calculator-error-method-requires-list",{symbol:o.formatSymbol(e),recommendation:o.formatSymbol(e)+"([1,2,3])"})).allowExport()},t.functionFreeVariable=function(e,t){return r(n.s("shared-calculator-error-variable-function-free-variable",{functionSymbol:e,variableSymbol:t})).allowExport()},t.nonArithmeticRange=function(){return r(n.s("shared-calculator-error-non-arithmetic-range")).allowExport()},t.invalidHalfEmptyRange=function(){return r(n.s("shared-calculator-error-invalid-half-empty-range"))},t.sumMissingBound=function(){return r(n.s("shared-calculator-error-sum-missing-bound"))},t.productMissingBound=function(){return r(n.s("shared-calculator-error-product-missing-bound"))},t.incorrectSumLowerBound=function(){return r(n.s("shared-calculator-error-incorrect-sum-lower-bound"))},t.incorrectProductLowerBound=function(){return r(n.s("shared-calculator-error-incorrect-product-lower-bound"))},t.badSumBoundDependency=function(e){return r(n.s("shared-calculator-error-bad-sum-bound-dependency",{symbol:o.formatSymbol(e)}))},t.badProductBoundDependency=function(e){return r(n.s("shared-calculator-error-bad-product-bound-dependency",{symbol:o.formatSymbol(e)}))},t.integralMissingBound=function(){return r(n.s("shared-calculator-error-integral-missing-bound"))},t.integralMissingDifferential=function(){return r(n.s("shared-calculator-error-integral-missing-differential"))},t.differentialWithSuperscript=function(){return r(n.s("shared-calculator-error-differential-with-superscript"))},t.sumMissingBody=function(){return r(n.s("shared-calculator-error-sum-missing-body"))},t.productMissingBody=function(){return r(n.s("shared-calculator-error-product-missing-body"))},t.integralMissingBody=function(){return r(n.s("shared-calculator-error-integral-missing-body"))},t.derivativeMissingBody=function(){return r(n.s("shared-calculator-error-derivative-missing-body"))},t.mismatchedBraces=function(e,t){return e=o.formatSymbol(e),t=o.formatSymbol(t),r(n.s("shared-calculator-error-mismatched-braces",{symbol1:e,symbol2:t}))},t.shadowedIntegrationVariable=function(e){return r(n.s("shared-calculator-error-shadowed-integration-variable",{symbol:o.formatSymbol(e)}))},t.badIntegralBoundDependency=function(e){return r(n.s("shared-calculator-error-bad-integral-bound-dependency",{symbol:o.formatSymbol(e)}))},t.percentMissingOf=function(){return r(n.s("shared-calculator-error-percent-missing-of"))},t.illegalBinWidth=function(e){return e=o.formatSymbol(e),r(n.s("shared-calculator-error-illegal-bin-width",{symbol:e}))},t.ttestListTooShort=function(e){return e=o.formatSymbol(e),r(n.s("shared-calculator-error-ttest-list-too-short",{symbol:e}))},t.badSampleSize=function(){return r(n.s("shared-calculator-error-bad-sample-size"))},t.variableSeed=function(e){return r(n.s("shared-calculator-error-variable-seed",{symbol:o.formatSymbol(e[0].symbol)})).setDependencies(e.filter(function(e){return"free"===e.scope}).map(function(e){return e.symbol})).allowExport()},t.badSymbolContext=function(e){return r(n.s("shared-calculator-error-bad-symbol-context",{symbol:o.formatSymbol(e)}))},t.ansUndefined=function(){return r(n.s("shared-calculator-error-ans-undefined"))},t.variablesUnsupported=function(e){return r(n.s("shared-calculator-error-variables-unsupported",{variable:o.formatSymbol(e)}))},t.functionUnsupported=function(e){return r(n.s("shared-calculator-error-function-unsupported",{symbol:o.formatSymbol(e)}))},t.logbaseUnsupported=function(){return r(n.s("shared-calculator-error-logbase-unsupported"))},t.constantUnsupported=function(e){return r(n.s("shared-calculator-error-constant-unsupported",{symbol:o.formatSymbol(e)}))},t.variableUnsupported=function(e){return r(n.s("shared-calculator-error-variable-unsupported",{symbol:o.formatSymbol(e)}))},t.assignmentsUnsupported=function(){return r(n.s("shared-calculator-error-assignments-unsupported"))},t.functionDefinitionsUnsupported=function(){return r(n.s("shared-calculator-error-function-definition-unsupported"))},t.equationsUnsupported=function(){return r(n.s("shared-calculator-error-equations-unsupported"))},t.inequalitiesUnsupported=function(){return r(n.s("shared-calculator-error-inequalities-unsupported"))},t.regressionsUnsupported=function(){return r(n.s("shared-calculator-error-regressions-unsupported"))},t.pointsUnsupported=function(){return r(n.s("shared-calculator-error-points-unsupported"))},t.featureUnavailable=function(){return r(n.s("shared-calculator-error-feature-unavailable"))},t.fractionsUnavailable=function(){return r(n.s("basic-calculator-error-fractions-unavailable"))},t.nonSquareDeterminant=function(){return r(n.s("shared-calculator-error-non-square-determinant"))},t.nonSquareTrace=function(){return r(n.s("shared-calculator-error-non-square-trace"))},t.nonSquareInverse=function(){return r(n.s("shared-calculator-error-non-square-inverse"))},t.singularInverse=function(){return r(n.s("shared-calculator-error-non-singular-inverse"))},t.clickableObjectAssignmentNotDefined=function(e){return r(n.s("shared-calculator-error-clickable-object-assignment-not-defined",{symbol:e}))},t.clickableObjectAlreadyAssigned=function(e){return r(n.s("shared-calculator-error-multiply-defined",{dependency:e}))},t.clickableObjectAssignmentNotIdentifier=function(){return r(n.s("shared-calculator-error-clickable-object-assignment-not-identifier"))},t.clickableObjectInvalidExpression=function(){return r(n.s("shared-calculator-error-clickable-object-invalid-expression"))},t.matrixAssignment=function(){return r(n.s("shared-calculator-error-matrix-assignment"))},t.matrixAddDimensions=function(){return r(n.s("shared-calculator-error-matrix-add-dimensions"))},t.matrixSubtractDimensions=function(){return r(n.s("shared-calculator-error-matrix-subtract-dimensions"))},t.matrixMultiplyDimensions=function(){return r(n.s("shared-calculator-error-matrix-multiply-dimensions"))},t.matrixFractionalPower=function(){return r(n.s("shared-calculator-error-matrix-fractional-power"))},t.matrixPowerDimensions=function(){return r(n.s("shared-calculator-error-matrix-power-dimensions"))},t.matrixElementTypeError=function(e){return r(n.s("shared-calculator-error-matrix-element-type-error",{arg:e[0]}))},t.matrixInvalidVariable=function(e){return r(n.s("shared-calculator-error-matrix-invalid-variable",{symbol:o.formatSymbol(e)}))},t.listComprehensionInputListTypeError=function(e,t){return r(n.s("shared-calculator-error-list-comprehension-input-type-error",{identifier:e,actual:t}))},t.listComprehensionIncorrectInput=function(){return r(n.s("shared-calculator-error-incorrect-list-comprehension-input"))},t.unexpectedForKeyword=function(){return r(n.s("shared-calculator-error-unexpected-for-keyword"))},t.shadowedListComprehensionInput=function(e){return e=o.formatSymbol(e),r(n.s("shared-calculator-error-shadowed-list-comprehension-input",{symbol:e}))},t.badListComprehensionInputDependency=function(e){return e=o.formatSymbol(e),r(n.s("shared-calculator-error-bad-list-comprehension-input-dependency",{symbol:e}))},t.variableLengthTopLevelList=function(e){return e=e.filter(function(e){return"free"===e.scope}).map(function(e){return e.symbol}),r(n.s("shared-calculator-error-variable-length-top-level-list",{symbol:o.formatSymbol(e[0]||"")})).setDependencies(e).allowExport()},t.variableLengthDistributionList=function(e){return r(n.s("shared-calculator-error-variable-length-distribution-list",{symbol:e[0].symbol})).setDependencies(e.filter(function(e){return"free"===e.scope}).map(function(e){return e.symbol}))},t.variableLengthSumBodyDependsOnIndex=function(e){return r(n.s("shared-calculator-error-variable-length-sum-body-depends-on-index",{symbol:e}))},t.variableLengthProductBodyDependsOnIndex=function(e){return r(n.s("shared-calculator-error-variable-length-product-body-depends-on-index",{symbol:e}))}}),define("core/math/parsenode/expression",["require","pjs","./base","core/math/errormsg"],function(e){"use strict";var t=e("pjs"),r=e("./base");return e("core/math/errormsg"),t(r,function(e,t){e.init=function(e){if(!Array.isArray(e))throw new TypeError("Argument to expression constructor must be an Array.");t.init.call(this),this.args=e,this.registerDependencies()},e.shouldExportAns=function(){return!0},e.registerDependencies=function(){for(var e=0;e<this.args.length;e++)this.mergeDependencies(this.args[e])},e.copyWithArgs=function(e){return new this.constructor(e)}})}),define("core/math/parsenode/expressionTypes",["require","pjs","./expression"],function(e){"use strict";var t=e("pjs");return(e={Add:t(e=e("./expression"),{}),Subtract:t(e,{}),Multiply:t(e,{}),Divide:t(e,{}),Exponent:t(e,{}),Negative:t(e,{}),And:t(e,{isInequality:function(){return this.args[0].isInequality()&&this.args[1].isInequality()}}),PercentOf:t(e,{})}).RawExponent=t(e.Exponent,{}),e}),define("core/math/builtin-common",["require","exports","./tofraction","core/math/distance"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pow=t.gcd=void 0,t.gcd=function(e,t){var r;if((e=Math.round(e))<0&&(e=-e),(t=Math.round(t))<0&&(t=-t),e<t&&(r=t,t=e,e=r),0===t)return e;for(var n=e%t;0<n;)n=(e=t)%(t=n);return t},t.pow=function(e,t){if(!isFinite(e)&&0===t)return NaN;if(0<=e||t===Math.floor(t))return Math.pow(e,t);var o=r.default(t,100);return n.approx(o.n/o.d,t,2)&&o.d%2==1?(o.n%2==0?1:-1)*Math.pow(-e,t):NaN}}),define("core/math/maybe-rational",["require","exports","./builtin-common"],function(e,t,r){"use strict";function n(e,t){return{n:e,d:t}}function o(e){return"object"==typeof e&&"number"==typeof e.n&&"number"==typeof e.d}Object.defineProperty(t,"__esModule",{value:!0}),t.total=t.mod=t.nthroot=t.sqrt=t.pow=t.div=t.sub=t.mul=t.add=t.reciprocal=t.abs=t.neg=t.maybeRational=t.isNanFloat=t.asFloat=t.fromDecimalString=t.isRational=void 0,t.isRational=o;var i=Math.pow(2,53)-1;function a(e){return o(e)?e.n/e.d:+e}function s(e,t){if(!isFinite(e)||!isFinite(t)||0===t||Math.floor(e)!==e||Math.floor(t)!==t||Math.abs(e)>i||Math.abs(t)>i)return e/t;t<0&&(e=-e,t=-t);var o=r.gcd(e,t);return n(e/o,t/o)}function c(e){return o(e)?n(-e.n,e.d):-e}function l(e){return o(e)?0===e.n?e.d/e.n:n(e.n<0?-e.d:e.d,Math.abs(e.n)):1/e}function u(e,t){if(!o(e)||!o(t))return a(e)+a(t);var n=r.gcd(e.d,t.d);return s(e.n*(t.d/n)+t.n*(e.d/n),e.d/n*t.d)}function d(e,t){if(!o(e)||!o(t))return a(e)*a(t);var n=r.gcd(e.n,t.d),i=r.gcd(t.n,e.d);return s(e.n/n*(t.n/i),e.d/i*(t.d/n))}function p(e,t){return u(e,c(t))}function h(e,t){return o(e)&&o(t)?d(e,l(t)):a(e)/a(t)}function f(e,t){if(!o(e)||!o(t))return r.pow(a(e),a(t));var n=function(e,t){var n=e,i=t;return t.n<0&&(i=c(t),n=l(e)),o(n)&&o(i)?(e=n,1===(t=i).d?s(Math.pow(e.n,t.n),Math.pow(e.d,t.n)):(n=e.n<0)&&t.d%2!=1?NaN:(i=(n?-1:1)*Math.round(Math.pow(Math.abs(e.n),1/t.d)),n=Math.round(Math.pow(Math.abs(e.d),1/t.d)),Math.pow(i,t.d)!==e.n||Math.pow(n,t.d)!==e.d?r.pow(a(e),a(t)):s(Math.pow(i,t.n),Math.pow(n,t.n)))):r.pow(a(e),a(t))}(e,t);return o(n)?n:r.pow(a(e),a(t))}t.fromDecimalString=function(e){if(!(n=e.match(/^(-)?(\d*)?(?:\.(\d*))?$/)))return NaN;var t=n[1],r=n[2],n=n[3];if(!r&&!n)return NaN;if(t=!!t,n){var o=n.replace(/0+$/,"");n=o.length,n=Math.pow(10,n);return(o=parseInt(r||"0",10)*n+parseInt(o||"0",10))>i||i<n?parseFloat(e):s(t?-o:o,n)}return(o=parseInt(r,10))>i?parseFloat(e):s(t?-o:o,1)},t.asFloat=a,t.isNanFloat=function(e){return!o(e)&&isNaN(e)},t.maybeRational=s,t.neg=c,t.abs=function(e){return o(e)?n(Math.abs(e.n),Math.abs(e.d)):Math.abs(e)},t.reciprocal=l,t.add=u,t.mul=d,t.sub=p,t.div=h,t.pow=f,t.sqrt=function(e){if(!o(e))return Math.sqrt(e);var t=Math.round(Math.sqrt(e.n)),r=Math.round(Math.sqrt(e.d));return t*t!==e.n||r*r!==e.d?Math.sqrt(a(e)):s(t,r)},t.nthroot=function(e,t){return f(e,l(t))},t.mod=function(e,t){return o(e)&&o(t)?p(e,d(t,n(Math.floor(a(h(e,t))),1))):(e=a(e))-(t=a(t))*Math.floor(e/t)},t.total=function(e){for(var t=n(0,1),r=0,o=e;r<o.length;r++)t=u(t,o[r]);return t}}),define("core/math/parsenode/constant",["require","pjs","./expression","core/math/maybe-rational"],function(e){"use strict";var t=e("pjs"),r=e("./expression"),n=e("core/math/maybe-rational");return t(r,function(e,t){e.init=function(e){"number"==typeof e&&(e=n.maybeRational(e,1)),this._constantValue=e,t.init.call(this,[])},e.isConstant=!0,e.asValue=function(){return"boolean"==typeof this._constantValue?this._constantValue:n.asFloat(this._constantValue)},e.asCompilerValue=function(){return this._constantValue},e.scalarExprString=function(){return 0<this.asValue()?String(this.asValue()):"("+String(this.asValue())+")"},e.getEvaluationInfo=function(){return[{val:this.asValue()}]},e.isNaN=function(){return"number"==typeof this.asValue()&&isNaN(this.asValue())}})}),define("core/math/parsenode/mixednumber",["require","pjs","./constant"],function(e){"use strict";return e("pjs")(e("./constant"),function(e,t){e.init=function(e){t.init.call(this,e)},e.is_mixed_number=!0})}),define("core/math/parsenode/identifier",["require","pjs","./expression","core/lib/label","core/math/parser/input-span"],function(e){"use strict";var t=e("pjs"),r=e("./expression"),n=e("core/lib/label"),o=e("core/math/parser/input-span");return t(r,function(e,t,r){e.init=function(e){t.init.call(this,[]),this._symbol=n.latexToIdentifier(e),this._errorSymbol=this._symbol,this.addDependency(this._symbol)},e.setInputSpan=function(e){t.setInputSpan.call(this,e),this._errorSymbol=n.latexToIdentifier(this.getInputString())},e.getInputSpan=function(){return void 0===this._inputSpan?new o.Span(this._symbol,0,this._symbol.length):this._inputSpan}})}),define("core/math/parsenode/ans",["require","pjs","./identifier"],function(e){"use strict";return e("pjs")(e("./identifier"),function(e,t,r){})}),define("core/math/parsenode/list",["require","pjs","./expression","core/math/types"],function(e){"use strict";var t=e("pjs"),r=e("./expression"),n=e("core/math/types");return t(r,function(e,t,r){e.init=function(e){t.init.call(this,e),this.length=e.length},e.isList=!0,e.asValue=function(){for(var e=[],t=0;t<this.args.length;t++)e.push(this.args[t].asValue());return e},e.asCompilerValue=function(){for(var e=[],t=0;t<this.args.length;t++)e.push(this.args[t].asCompilerValue());return e},e.getEvaluationInfo=function(){if(this.args.every(function(e){return e.isConstant}))return[{val:this.args.map(function(e){return e.asValue()})}]},r.eachArgs=function(e,t){var r=function(e){for(var t=1/0,r=0;r<e.length;r++)(e[r].isList||e[r].isBroadcast)&&(t=Math.min(t,e[r].length));return t}(e);if(isFinite(r))for(var o=0;o<r;o++){for(var i=[],a=0;a<e.length;a++)i.push(e[a].isList||n.isList(e[a].valueType)?e[a].elementAt(o):e[a]);t(i,o)}else t(e)},r.wrap=function(e){return e.isList||n.isList(e.valueType)?e:r([e])}})}),define("core/math/parsenode/range",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t,r){e.init=function(e){t.init.call(this,e),this.beginning=e[0],this.end=e[1]},e.isHalfEmpty=function(){return this.end&&this.end.args&&0===this.end.args.length}})}),define("core/math/parsenode/listaccess",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e){t.init.call(this,e),this.list=e[0],this.index=e[1]}})}),define("core/math/parsenode/dotaccess",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),{})}),define("core/math/parsenode/parenseq",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),{})}),define("core/math/parsenode/movablepoint",["require","pjs","./parenseq","core/math/types"],function(e){"use strict";var t=e("pjs"),r=e("./parenseq"),n=e("core/math/types");return t(r,function(e,t){e.asValue=function(){return[+this.args[0].asValue(),+this.args[1].asValue()]},e.asCompilerValue=function(){return[this.args[0].asCompilerValue(),this.args[1].asCompilerValue()]},e.init=function(e,r,o){t.init.call(this,e),this.moveStrategy=r,this.defaultDragMode=o,this.valueType=n.Point},e.isMovablePoint=!0})}),define("core/math/parsenode/orderedpairaccess",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e){t.init.call(this,e),this.point=e[0],this.index=e[1]}})}),define("core/math/parsenode/bareseq",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),{})}),define("core/math/comparators",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get=t.table=void 0,t.table={"<":{inclusive:!1,direction:-1},"!=":{inclusive:!1,direction:0},">":{inclusive:!1,direction:1},"<=":{inclusive:!0,direction:-1},"=":{inclusive:!0,direction:0},">=":{inclusive:!0,direction:1}},t.get=function(e,t){switch(t){case-1:return e?"<=":"<";case 0:return e?"=":"!=";case 1:return e?">=":">";default:throw"Programming error.  Comparators must have a direction of -1, 0, or 1"}}}),define("core/math/parsenode/basecomparator",["require","pjs","./expression","./expressionTypes","core/math/comparators"],function(e){"use strict";var t=e("pjs"),r=e("./expression"),n=e("./expressionTypes").Subtract,o=e("core/math/comparators").table;return t(r,function(e,r,i){i.create=function(e){return t(i,function(t,r){t.operator=e,t.isInequality=function(){return 0!==o[e].direction}})},e.init=function(e){r.init.call(this,e),this._difference=-1===o[this.operator].direction?n([e[1],e[0]]):n([e[0],e[1]])},e.asComparator=function(){return this}})}),define("core/math/parsenode/comparator",["require","core/math/parsenode/basecomparator"],function(e){"use strict";return{"<":(e=e("core/math/parsenode/basecomparator")).create("<"),">":e.create(">"),"<=":e.create("<="),">=":e.create(">="),"=":e.create("=")}}),define("core/math/parsenode/doubleinequality",["require","pjs","./base","core/math/comparators","./comparator"],function(e){"use strict";var t=e("pjs"),r=e("./base"),n=e("core/math/comparators"),o=e("./comparator");return t(r,function(e,t){e.init=function(e){t.init.call(this),this.args=e,this._symbol=e[2]._symbol,this._operators=[e[1],e[3]],this._expressions=[e[0],e[4]];var r=n.get(n.table[e[1]].inclusive&&n.table[e[3]].inclusive,n.table[e[1]].direction);this._indicator=o[r]([e[0],e[4]]),this.addDependency(this._symbol),this.mergeDependencies(this._expressions[0],this._expressions[1])},e.isInequality=function(){return!0},e.isShadeBetween=function(){return!0}})}),define("core/math/parsenode/repeatedoperator",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e){this._index=e[0],t.init.call(this,e)},e.registerDependencies=function(){this.addDummyDependency(this._index._symbol),this.mergeDependencies(this.args[1]),this.mergeDependencies(this.args[2]),this.mergeDependenciesInScope([this._index._symbol],this.args[3])}})}),define("core/math/parsenode/sum",["require","pjs","./repeatedoperator"],function(e){"use strict";return e("pjs")(e("./repeatedoperator"),function(e,t){e.in_place_operator="+=",e.starting_value=0,e.evaluateConstant=function(e){var t=1+Math.round(e[1])-Math.round(e[0]);return t<=0?this.starting_value:t*e[2]},e.update=function(e,t){return e+t}})}),define("core/math/parsenode/product",["require","pjs","./repeatedoperator"],function(e){"use strict";return e("pjs")(e("./repeatedoperator"),function(e,t){e.in_place_operator="*=",e.starting_value=1,e.evaluateConstant=function(e){var t=1+Math.round(e[1])-Math.round(e[0]);return t<=0?this.starting_value:Math.pow(e[2],t)},e.update=function(e,t){return e*t}})}),define("core/math/parsenode/integral",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e){this._differential=e[0],t.init.call(this,e)},e.registerDependencies=function(){this.mergeDependencies(this.args[1]),this.mergeDependencies(this.args[2]),this.mergeDependenciesInScope([this._differential._symbol],this.args[3])}})}),define("core/math/parsenode/assignmentexpression",["require","./expression","pjs"],function(e){"use strict";var t=e("./expression");return e("pjs")(t,function(e,t){e.init=function(e){t.init.call(this,e),this._symbol=e[0]._symbol}})}),define("core/math/parsenode/listcomprehension",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e,r,n){this._index=e,this._body=r,this._inputLists=n,t.init.call(this,[e,r].concat(n))},e.registerDependencies=function(){for(var e=[],t=0;t<this._inputLists.length;t++){var r=this._inputLists[t],n=r._symbol;this.addDummyDependency(n),e.push(n),this.mergeDependencies(r.args[1])}this.addDummyDependency(this._index._symbol),e.push(this._index._symbol),this.mergeDependenciesInScope(e,this._body)}})}),define("core/math/ir/opcodes",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Action=t.BroadcastResult=t.BlockVar=t.ExtendSeed=t.Distribution=t.InboundsListAccess=t.DeferredListAccess=t.ListAccess=t.List=t.NativeFunction=t.Piecewise=t.And=t.GreaterEqual=t.LessEqual=t.Greater=t.Less=t.Equal=t.EndBroadcast=t.BeginBroadcast=t.EndIntegral=t.BeginIntegral=t.EndLoop=t.BeginLoop=t.OrderedPairAccess=t.OrderedPair=t.Negative=t.RawExponent=t.Exponent=t.Divide=t.Multiply=t.Subtract=t.Add=t.MAX_LEAF_OPCODE=t.SymbolicVar=t.LoadArg=t.Constant=t.Noop=void 0,t.Noop=0,t.Constant=1,t.LoadArg=2,t.SymbolicVar=3,t.MAX_LEAF_OPCODE=3,t.Add=8,t.Subtract=9,t.Multiply=10,t.Divide=11,t.Exponent=12,t.RawExponent=13,t.Negative=14,t.OrderedPair=15,t.OrderedPairAccess=16,t.BeginLoop=17,t.EndLoop=18,t.BeginIntegral=19,t.EndIntegral=20,t.BeginBroadcast=21,t.EndBroadcast=22,t.Equal=23,t.Less=24,t.Greater=25,t.LessEqual=26,t.GreaterEqual=27,t.And=30,t.Piecewise=31,t.NativeFunction=37,t.List=38,t.ListAccess=39,t.DeferredListAccess=40,t.InboundsListAccess=41,t.Distribution=42,t.ExtendSeed=44,t.BlockVar=47,t.BroadcastResult=48,t.Action=49}),define("core/math/ir/builtin-table",["require","exports","core/math/types","./opcodes","core/math/maybe-rational"],function(e,t,r,n,o){"use strict";function i(e,t,n){var o=null!==(c=null==n?void 0:n.tag)&&void 0!==c?c:"default",i=null!==(s=null==n?void 0:n.argumentTypes)&&void 0!==s?s:function(){switch(o){case"default":case"trig":case"inverseTrig":case"never-broadcast":return[r.Number];case"reducer":return[r.ListOfNumber];case"doubleReducer":return[r.ListOfNumber,r.ListOfNumber];case"parameterizedReducer":return[r.ListOfNumber,r.Number];case"color":return[r.Number,r.Number,r.Number]}}(),a=null!=n&&n.defaultArguments?n.defaultArguments.length:0,s=null!==(c=null==n?void 0:n.minArity)&&void 0!==c?c:i.length-a,c=null!==(c=null==n?void 0:n.maxArity)&&void 0!==c?c:"reducer"===o?1/0:s+a;a=null!==(a=null==n?void 0:n.allowDotCall)&&void 0!==a?a:function(){switch(o){case"default":case"trig":case"inverseTrig":case"doubleReducer":case"color":case"never-broadcast":return!1;case"reducer":case"parameterizedReducer":return!0}}();return{module:e,symbol:t,argumentTypes:i,defaultArguments:null==n?void 0:n.defaultArguments,returnType:null!==(n=null==n?void 0:n.returnType)&&void 0!==n?n:r.Number,tag:o,minArity:s,maxArity:c,allowDotCall:a}}function a(e){if(!o.isRational(e))throw new Error("Programming Error: numeric constants should be rational");return{type:n.Constant,valueType:r.Number,value:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CompilerFunctionTable=t.BuiltInTable=void 0;var s=a(o.maybeRational(0,1)),c=a(o.maybeRational(1,1)),l=a(o.maybeRational(1,2));function u(e,t){var r=null==t?void 0:t.defaultArguments,n=null!==(a=null==t?void 0:t.maxArity)&&void 0!==a?a:r?r.length+e:e,o=null!==(i=null==t?void 0:t.fallthroughUnlessDistribution)&&void 0!==i&&i,i=null!==(a=null==t?void 0:t.allowDotCall)&&void 0!==a&&a,a=null!==(a=null==t?void 0:t.isSeeded)&&void 0!==a&&a;return{minArity:e,maxArity:n,defaultArguments:r,fallthroughUnlessDistribution:o,minArityExampleArgs:null==t?void 0:t.minArityExampleArgs,maxArityExampleArgs:null==t?void 0:t.maxArityExampleArgs,dotMinArityExampleArgs:null==t?void 0:t.dotMinArityExampleArgs,dotMaxArityExampleArgs:null==t?void 0:t.dotMaxArityExampleArgs,allowDotCall:i,isSeeded:a}}function d(){return u(0,{maxArity:1/0})}t.BuiltInTable={sin:i("BuiltIn","sin",{tag:"trig"}),cos:i("BuiltIn","cos",{tag:"trig"}),tan:i("BuiltIn","tan",{tag:"trig"}),cot:i("BuiltIn","cot",{tag:"trig"}),sec:i("BuiltIn","sec",{tag:"trig"}),csc:i("BuiltIn","csc",{tag:"trig"}),arcsin:i("Math","asin",{tag:"inverseTrig"}),arccos:i("Math","acos",{tag:"inverseTrig"}),arctan:i("Math","atan2",{argumentTypes:[r.Number,r.Number],defaultArguments:[c],tag:"inverseTrig"}),arccot:i("BuiltIn","acot",{tag:"inverseTrig"}),arcsec:i("BuiltIn","asec",{tag:"inverseTrig"}),arccsc:i("BuiltIn","acsc",{tag:"inverseTrig"}),sinh:i("BuiltIn","sinh"),cosh:i("BuiltIn","cosh"),tanh:i("BuiltIn","tanh"),coth:i("BuiltIn","coth"),sech:i("BuiltIn","sech"),csch:i("BuiltIn","csch"),arcsinh:i("BuiltIn","asinh"),arccosh:i("BuiltIn","acosh"),arctanh:i("BuiltIn","atanh"),arccoth:i("BuiltIn","acoth"),arcsech:i("BuiltIn","asech"),arccsch:i("BuiltIn","acsch"),sqrt:i("Math","sqrt"),rtxsqpone:i("BuiltIn","sqrtxsqp1"),rtxsqmone:i("BuiltIn","sqrtxsqm1"),nthroot:i("BuiltIn","nthroot",{argumentTypes:[r.Number,r.Number]}),hypot:i("BuiltIn","hypot",{argumentTypes:[r.Number,r.Number]}),log:i("BuiltIn","common_log"),logbase:i("BuiltIn","log_base",{argumentTypes:[r.Number,r.Number]}),ln:i("BuiltIn","log"),exp:i("Math","exp"),floor:i("Math","floor"),ceil:i("Math","ceil"),round:i("Math","round"),abs:i("Math","abs"),sign:i("BuiltIn","sign"),mod:i("BuiltIn","mod",{argumentTypes:[r.Number,r.Number]}),nCr:i("BuiltIn","nCr",{argumentTypes:[r.Number,r.Number]}),nPr:i("BuiltIn","nPr",{argumentTypes:[r.Number,r.Number]}),factorial:i("BuiltIn","factorial"),polyGamma:i("BuiltIn","polyGamma",{argumentTypes:[r.Number,r.Number]}),lcm:i("BuiltIn","listLCM",{tag:"reducer"}),gcd:i("BuiltIn","listGCD",{tag:"reducer"}),distance:i("BuiltIn","distance",{argumentTypes:[r.Point,r.Point]}),polygon:i("BuiltIn","polygon",{tag:"reducer",argumentTypes:[r.ListOfPoint],returnType:r.Polygon}),mean:i("BuiltIn","mean",{tag:"reducer"}),total:i("BuiltIn","total",{tag:"reducer"}),stdev:i("BuiltIn","stdev",{tag:"reducer"}),stdevp:i("BuiltIn","stdevp",{tag:"reducer"}),mad:i("BuiltIn","mad",{tag:"reducer"}),length:i("BuiltIn","length",{tag:"reducer",argumentTypes:[r.ListOfAny]}),min:i("BuiltIn","listMin",{tag:"reducer"}),max:i("BuiltIn","listMax",{tag:"reducer"}),argmin:i("BuiltIn","argMin",{tag:"reducer"}),argmax:i("BuiltIn","argMax",{tag:"reducer"}),median:i("BuiltIn","median",{tag:"reducer"}),var:i("BuiltIn","variance",{tag:"reducer"}),varp:i("BuiltIn","varp",{tag:"reducer"}),cov:i("BuiltIn","cov",{tag:"doubleReducer"}),covp:i("BuiltIn","covp",{tag:"doubleReducer"}),corr:i("BuiltIn","corr",{tag:"doubleReducer"}),spearman:i("BuiltIn","spearman",{tag:"doubleReducer"}),quantile:i("BuiltIn","quantile",{tag:"parameterizedReducer"}),quartile:i("BuiltIn","quartile",{tag:"parameterizedReducer"}),upperQuantileIndex:i("BuiltIn","upperQuantileIndex",{tag:"parameterizedReducer"}),lowerQuantileIndex:i("BuiltIn","lowerQuantileIndex",{tag:"parameterizedReducer"}),quartileIndex:i("BuiltIn","quartileIndex",{tag:"parameterizedReducer"}),upperQuartileIndex:i("BuiltIn","upperQuartileIndex",{tag:"parameterizedReducer"}),lowerQuartileIndex:i("BuiltIn","lowerQuartileIndex",{tag:"parameterizedReducer"}),normalcdf:i("BuiltIn","normalcdf",{argumentTypes:[r.Number,r.Number,r.Number,r.Number],defaultArguments:[s,c]}),normalpdf:i("BuiltIn","normalpdf",{argumentTypes:[r.Number,r.Number,r.Number],defaultArguments:[s,c]}),binomcdf:i("BuiltIn","binomcdf",{argumentTypes:[r.Number,r.Number,r.Number,r.Number],defaultArguments:[l]}),binompdf:i("BuiltIn","binompdf",{argumentTypes:[r.Number,r.Number,r.Number],defaultArguments:[l]}),poissoncdf:i("BuiltIn","poissoncdf",{argumentTypes:[r.Number,r.Number,r.Number]}),poissonpdf:i("BuiltIn","poissonpdf",{argumentTypes:[r.Number,r.Number,r.Number]}),uniformcdf:i("BuiltIn","uniformcdf",{argumentTypes:[r.Number,r.Number,r.Number,r.Number],defaultArguments:[s,c]}),uniformpdf:i("BuiltIn","uniformpdf",{argumentTypes:[r.Number,r.Number,r.Number],defaultArguments:[s,c]}),invT:i("BuiltIn","invT",{argumentTypes:[r.Number,r.Number]}),invPoisson:i("BuiltIn","invPoisson",{argumentTypes:[r.Number,r.Number]}),invBinom:i("BuiltIn","invBinom",{argumentTypes:[r.Number,r.Number,r.Number]}),invUniform:i("BuiltIn","invUniform",{argumentTypes:[r.Number,r.Number,r.Number]}),tpdf:i("BuiltIn","tpdf",{argumentTypes:[r.Number,r.Number]}),tcdf:i("BuiltIn","tcdf",{argumentTypes:[r.Number,r.Number,r.Number]}),erf:i("BuiltIn","erf"),invNorm:i("BuiltIn","invNorm"),tscore:i("BuiltIn","tscore",{tag:"parameterizedReducer",defaultArguments:[s]}),normalSample:i("BuiltIn","normalSample",{argumentTypes:[r.SeedType,r.Number,r.Number]}),uniformSample:i("BuiltIn","uniformSample",{argumentTypes:[r.SeedType,r.Number,r.Number]}),tSample:i("BuiltIn","tSample",{argumentTypes:[r.SeedType,r.Number]}),poissonSample:i("BuiltIn","poissonSample",{argumentTypes:[r.SeedType,r.Number]}),binomSample:i("BuiltIn","binomSample",{argumentTypes:[r.SeedType,r.Number,r.Number]}),rgb:i("BuiltIn","rgb",{returnType:r.RGBColor,tag:"color"}),hsv:i("BuiltIn","hsv",{returnType:r.RGBColor,tag:"color"}),validateRangeLength:i("BuiltIn","validateRangeLength",{returnType:r.Number,argumentTypes:[r.ListOfNumber,r.ListOfNumber,r.Number,r.Number],tag:"never-broadcast"}),validateSampleCount:i("BuiltIn","validateSampleCount",{returnType:r.Number,argumentTypes:[r.Number]}),select:i("BuiltIn","select",{argumentTypes:[r.ListOfAny,r.ListOfBool],returnType:function(e){return e[0]},tag:"never-broadcast"}),shuffle:i("BuiltIn","shuffle",{argumentTypes:[r.SeedType,r.ListOfAny],returnType:function(e){return e[1]},tag:"never-broadcast"}),sortPerm:i("BuiltIn","sortPerm",{argumentTypes:[r.ListOfNumber],returnType:r.ListOfNumber,tag:"never-broadcast"}),elementsAt:i("BuiltIn","elementsAt",{argumentTypes:[r.ListOfAny,r.ListOfNumber],returnType:function(e){return e[0]},tag:"never-broadcast"}),uniquePerm:i("BuiltIn","uniquePerm",{argumentTypes:[r.ListOfAny],returnType:r.ListOfNumber,tag:"never-broadcast"})},t.CompilerFunctionTable={round:u(1,{maxArity:2}),midpoint:u(2),sort:u(1,{maxArity:2,minArityExampleArgs:"([3,2,1])",maxArityExampleArgs:"([1,2,3],[3,2,1])",dotMaxArityExampleArgs:"([3,4])",allowDotCall:!0}),shuffle:u(2,{maxArity:3,minArityExampleArgs:"([1,2,3])",maxArityExampleArgs:"([1,2,3],2)",dotMaxArityExampleArgs:"(2)",allowDotCall:!0,isSeeded:!0}),join:u(2,{maxArity:1/0,minArityExampleArgs:"([1,2],[3,4])",dotMinArityExampleArgs:"([3,4])",allowDotCall:!0}),unique:u(1,{minArityExampleArgs:"([1,2,3])",maxArityExampleArgs:"([1,2,3])",allowDotCall:!0}),normaldist:u(0,{defaultArguments:[s,c]}),tdist:u(1),binomialdist:u(1,{defaultArguments:[l]}),poissondist:u(1),uniformdist:u(0,{defaultArguments:[s,c]}),pdf:u(2,{allowDotCall:!0}),cdf:u(2,{maxArity:3,allowDotCall:!0}),mean:u(1,{fallthroughUnlessDistribution:!0,allowDotCall:!0}),median:u(1,{fallthroughUnlessDistribution:!0,allowDotCall:!0}),stdev:u(1,{fallthroughUnlessDistribution:!0,allowDotCall:!0}),var:u(1,{fallthroughUnlessDistribution:!0,allowDotCall:!0}),quantile:u(2,{fallthroughUnlessDistribution:!0,allowDotCall:!0,minArityExampleArgs:"([1,2,3], 1)",maxArityExampleArgs:"([1,2,3], 1)",dotMinArityExampleArgs:"(x)",dotMaxArityExampleArgs:"(x)"}),random:u(1,{maxArity:4,allowDotCall:!0,isSeeded:!0}),polygon:u(0,{maxArity:1/0}),histogram:d(),dotplot:d(),boxplot:d(),ttest:d(),ittest:d(),stats:d(),det:d(),inv:d(),transpose:d(),rref:d(),trace:d()}}),define("core/math/parsenode/functioncall",["require","pjs","./expression","./identifier","core/math/ir/builtin-table"],function(e){"use strict";var t=e("pjs"),r=e("./expression"),n=e("./identifier"),o=e("core/math/ir/builtin-table").BuiltInTable;return t(r,function(e,t){e.init=function(e,r){"string"==typeof e&&(e=n(e)),this._identifier=e,this._symbol=e._symbol,this._errorSymbol="logbase"===e._errorSymbol?"log":e._errorSymbol,t.init.call(this,r)},e.registerDependencies=function(){this.addDependency(this._symbol),t.registerDependencies.call(this);var e=o[this._symbol];!e||"trig"!==e.tag&&"inverseTrig"!==e.tag||this.addDependency("trigAngleMultiplier")},e.copyWithArgs=function(e){return new this.constructor(n(this._symbol),e)}})}),define("core/math/parsenode/seededfunctioncall",["require","pjs","./functioncall"],function(e){"use strict";return e("pjs")(e("./functioncall"),function(e,t){e.init=function(e,r){t.init.call(this,e,r),this.seed=r[0]}})}),define("core/math/parsenode/functionexponent",["require","pjs","./expression","core/math/ir/builtin-table"],function(e){"use strict";var t=e("pjs"),r=e("./expression"),n=e("core/math/ir/builtin-table").BuiltInTable;return t(r,function(e,t){e.registerDependencies=function(){var e;t.registerDependencies.call(this),"Identifier"===this.args[0].type&&(e=this.args[0]._symbol,!(e=n[e])||"trig"!==e.tag&&"inverseTrig"!==e.tag||this.addDependency("trigAngleMultiplier"))}})}),define("core/math/parsenode/functionfactorial",["require","pjs","./expression","core/math/ir/builtin-table"],function(e){"use strict";var t=e("pjs"),r=e("./expression"),n=e("core/math/ir/builtin-table").BuiltInTable;return t(r,function(e,t){e.registerDependencies=function(){var e;this.addDependency("factorial"),t.registerDependencies.call(this),"Identifier"===this.args[0].type&&(e=this.args[0]._symbol,!(e=n[e])||"trig"!==e.tag&&"inverseTrig"!==e.tag||this.addDependency("trigAngleMultiplier"))}})}),define("core/math/parsenode/prime",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e,r){t.init.call(this,r),this.order=e},e.copyWithArgs=function(e){return new this.constructor(this.order,e)}})}),define("core/math/parsenode/piecewise",["require","pjs","./expression","./constant","core/math/maybe-rational"],function(e){"use strict";var t=e("pjs"),r=e("./expression"),n=e("./constant"),o=e("core/math/maybe-rational").maybeRational,i=t(r,{});return i.chain=function(e,t){for(var r,n=t;e.length;)r=e.pop(),n=i([r.condition,r.if_expr,n]);return n},i.empty=function(){return i([n(!0),n(o(1,1)),n(NaN)])},i}),define("core/math/parsenode/derivative",["require","pjs","./expression","./identifier"],function(e){"use strict";var t=e("pjs"),r=e("./expression"),n=e("./identifier");return t(r,function(e,t){e.init=function(e,r){this._symbol=(e instanceof n?e:n(e))._symbol,t.init.call(this,r),this.addDependency(this._symbol)}})}),define("core/math/parsenode/updaterule",["require","./expression","pjs"],function(e){"use strict";var t=e("./expression");return e("pjs")(t,function(e,t){e.init=function(e){this._symbol=e[0]._symbol,this._expression=e[1],t.init.call(this,e)},e.registerDependencies=function(){this.addUpdateSymbol(this._symbol),this.mergeDependencies(this._expression)}})}),define("core/math/parsenode/histogram",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e){t.init.call(this,e),this._symbol="histogram"}})}),define("core/math/parsenode/object3d",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e,r){t.init.call(this,e),this._symbol=r}})}),define("core/math/parsenode/dotplot",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e){t.init.call(this,e),this._symbol="dotplot"}})}),define("core/math/parsenode/boxplot",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e){t.init.call(this,e),this._symbol="boxplot"}})}),define("core/math/parsenode/ttest",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(){t.init.apply(this,arguments),this._symbol="ttest"}})}),define("core/math/parsenode/independent-ttest",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(){t.init.apply(this,arguments),this._symbol="ittest"}})}),define("core/math/parsenode/stats",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(){t.init.apply(this,arguments),this._symbol="stats"}})}),define("core/math/parsenode/equation",["require","./base","pjs","./expressionTypes","core/math/parsenode/comparator"],function(e){"use strict";var t=e("./base"),r=e("pjs"),n=e("./expressionTypes").Subtract,o=e("core/math/parsenode/comparator");return r(t,function(e,t){e.init=function(e,r){t.init.call(this),this.mergeDependencies(e,r),this._lhs=e,this._rhs=r,this._difference=n([this._lhs,this._rhs])},e.asComparator=function(){return o["="]([this._lhs,this._rhs])}})}),define("core/math/parsenode/assignment",["require","./base","./equation","./identifier","pjs"],function(e){"use strict";var t=e("./base"),r=e("./equation"),n=e("./identifier");return e("pjs")(t,function(e,t){e.init=function(e,r){t.init.call(this),e=e._symbol,this.mergeDependencies(r),this._expression=r,this._symbol=e,this._exports=this.computeExports()},e.shouldExportAns=function(){return!0},e.computeExports=function(){for(var e=this._symbol,t=this.getDependencies(),r=0;r<t.length;r++)if(t[r]===e)return[];return[e]},e.isEquation=function(e){return-1!==e.getDependencies().indexOf(this._symbol)},e.asEquation=function(){var e=r(n(this._symbol),this._expression);return e.userData=this.userData,e.metaData=this.metaData,e},e.shouldPromoteToSlider=function(e){return!!this._expression.isConstant&&!this._expression.is_mixed_number&&"number"==typeof this._expression.asValue()&&!!isFinite(this._expression.asValue())&&e.isValidSlider(this._symbol)}})}),define("core/math/parsenode/functiondefinition",["require","pjs","./base","core/math/errormsg","./equation","./identifier","./functioncall"],function(e){"use strict";var t=e("pjs"),r=e("./base"),n=e("core/math/errormsg"),o=e("./equation"),i=e("./identifier"),a=e("./functioncall");return t(r,function(e,t){e.init=function(e,r,n){t.init.call(this),e=e._symbol,this._argSymbols=r.map(function(e){return e._symbol}),this._symbol=e,this._exports=[e],this._expression=n,this.mergeDependenciesInScope(this._argSymbols,this._expression)},e.isFunction=!0,e.getConcreteInvocationTree=function(e,t,r,o){if(r.length!==this._argSymbols.length)throw n.wrongArity(o,this._argSymbols.length,r.length);for(var i=Object.create(t),a=0;a<this._argSymbols.length;a++)i[this._argSymbols[a]]=r[a];return this._expression.getConcreteTree(e,i)},e.getSliderVariables=function(e,r){var n=this._argSymbols;return t.getSliderVariables.call(this,e,r).filter(function(e){return-1===n.indexOf(e)})},e.asEquation=function(){var e=this._argSymbols.map(function(e){return i(e)});return(e=o(a(i(this._symbol),e),this._expression)).userData=this.userData,e.metaData=this.metaData,e}})}),define("core/math/parsenode/regression",["require","pjs","./base","core/math/errormsg","./functioncall","./identifier","./expressionTypes"],function(e){"use strict";var t=e("pjs"),r=e("./base"),n=e("core/math/errormsg"),o=e("./functioncall"),i=e("./identifier"),a=e("./expressionTypes").Subtract;return t(r,function(e,t,r){e.init=function(e,r){t.init.call(this),this._lhs=e,this.isLhsSimple=e instanceof i,this._logLhs=o("ln",[e]),this._rhs=r,this._difference=a([e,r]),this._logDifference=a([o("ln",[e]),o("ln",[r])]),this.mergeDependencies(e,r)},e.isRegression=!0,e.exportTo=function(e,t,r){if(!t.isError){for(var o in t.parameters)t.parameters.hasOwnProperty(o)&&(e.assignmentForbidden(o)||(r[o]=r[o]?n.multiplyDefined(o):t.parameters[o]));e.assignmentForbidden(t.residualVariable)||(r[t.residualVariable]=t.residuals)}},e.getSliderVariables=function(){return[]}})}),define("core/math/parsenode/image",["require","pjs","./base"],function(e){"use strict";return e("pjs")(e("./base"),function(e,t,r,n){e.isImage=!0,e.init=function(e,r){t.init.call(this),this.center=e.center,this.radianAngle=e.radianAngle,this.width=e.width,this.height=e.height,this.opacity=e.opacity,this.moveStrategy=r,this.mergeDependencies(this.center,this.radianAngle,this.width,this.height,this.opacity)}})}),define("core/math/parsenode/ticker",["require","pjs","./base"],function(e){"use strict";return e("pjs")(e("./base"),function(e,t){e.init=function(e){t.init.call(this),this.handler=e.handler,this.minStep=e.minStep,this.mergeDependencies(this.handler),this.mergeDependencies(this.minStep)}})}),define("core/math/parsenode/slider",["require","pjs","./assignment","./identifier"],function(e){"use strict";var t=e("pjs"),r=e("./assignment"),n=e("./identifier");return t(r,function(e,t,o,i){e.isSlider=!0,e.init=function(e,r){t.init.call(this,n(e._symbol),e._expression),this.setInputSpan(e._inputSpan),this.sliderAssignment=e,this.sliderMin=r.sliderMin,this.sliderMax=r.sliderMax,this.sliderSoftMin=r.sliderSoftMin,this.sliderSoftMax=r.sliderSoftMax,this.sliderStep=r.sliderStep,this.sliderIsPlayingOnce=r.sliderIsPlayingOnce,this.sliderMin&&this.mergeDependencies(this.sliderMin),this.sliderMax&&this.mergeDependencies(this.sliderMax),this.sliderStep&&this.mergeDependencies(this.sliderStep)},e.shouldPromoteToSlider=function(e){return!1},e.asAssignment=function(){return r(this._symbol,this._expression)}})}),define("core/math/parsenode/table",["require","pjs","./base"],function(e){"use strict";return e("pjs")(e("./base"),function(e,t){e.init=function(e){t.init.call(this),this.columns=e,this._exports=[],this.mergeDependencies.apply(this,e);for(var r=0;r<e.length;r++)Array.prototype.push.apply(this._exports,e[r].getExports())},e.exportPenalty=1,e.isTable=!0,e.exportTo=function(e,t,r){for(var n=0;n<this.columns.length;n++){var o=this.columns[n].getExports();o.length&&(o=o[0],e.assignmentForbidden(o)||r[o]||(t.isError?r[o]=t:this.columns[n].exportTo(e,t.columns[n],r)))}},e.getAllIds=function(){return this.columns.map(function(e){return e.header.userData.id})}})}),define("core/math/parsenode/tablecolumn",["require","pjs","./base","./list","./constant","./identifier"],function(e){"use strict";var t=e("pjs"),r=e("./base"),n=e("./list"),o=e("./constant"),i=e("./identifier");return t(r,function(e,t){function a(e){return e.isConstant?o(e.asCompilerValue()):o(NaN)}e.init=function(e,r,n){t.init.call(this),this.header=e,this.length=r,this.values=n,this.isIndependent=!1,this.registerDependencies(),this._exports=this.computeExports()},e.registerDependencies=function(){this.mergeDependencies(this.header),this.mergeDependencies.apply(this,this.values)},e.computeExports=function(){return this.header instanceof i?[this.header._symbol]:[]},e.isDiscrete=function(e){return!this.continuousConcreteTree||1!==this.continuousConcreteTree.getDependencies().length||1!==e.header.getDependencies().length||this.continuousConcreteTree.getDependencies()[0]!==e.header.getDependencies()[0]},e._exportSymbolsTo=function(e,t,o){if(e.length){var i=e[0];if(t.isError)o[i]=t;else try{o[i]=n(t.values.map(a))}catch(e){if(!(e instanceof r))throw e;o[i]=e}}},e.exportTo=function(e,t,r){e=this.getLegalExports(e),this._exportSymbolsTo(e,t,r)},e.exportToLocal=function(e,t){this._exportSymbolsTo(this.getExports(),e,t)}})}),define("core/math/parsenode/solvedequation",["require","pjs","./base"],function(e){"use strict";return e("pjs")(e("./base"),function(e,t){e.init=function(e,r,n){t.init.call(this),this._symbol=e,this._expression=r,this.mergeDependencies(r),this.branchMultiplier=n}})}),define("core/math/parsenode/optimizedregression",["require","pjs","./base"],function(e){"use strict";return e("pjs")(e("./base"),function(e,t){e.init=function(e,r,n,o,i){for(var a in t.init.call(this),this.parameters=e,this.residuals=r,this.statistics=n,this.model=o,this.isModelValid=i.isModelValid,this.residualVariable=i.residualVariable,this.residualSuggestionId=i.residualSuggestionId,this.shouldSuggestLogMode=i.shouldSuggestLogMode,this.isLinear=i.isLinear,this.parameterWarning=i.parameterWarning,this._exports=[this.residualVariable],e)e.hasOwnProperty(a)&&this._exports.push(a);this.mergeDependencies(o)},e.getCompiledFunction=function(){return this.model.getCompiledFunction.apply(this.model,arguments)},e.getCompiledDerivative=function(){return this.model.getCompiledDerivative.apply(this.model,arguments)}})}),define("core/math/parsenode/seed",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e){"string"!=typeof e&&(e=""+e),this._stringValue=e,t.init.call(this,[])},e.isString=!0,e.asValue=function(){return this._stringValue}})}),define("core/math/parsenode/extendseed",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e,r){t.init.call(this,r),this.seed=r[0],this.userSeed=r[1],this.tag=e},e.asValue=function(){return this.seed.asValue()+"::"+this.tag+this.userSeed.asValue()},e.copyWithArgs=function(e){return new this.constructor(this.tag,e)}})}),define("core/math/context-types",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isActionCompilerValue=void 0,t.isActionCompilerValue=function(e){return!("object"!=typeof e||!e)&&"Action"===e.type}}),define("core/math/ir/features/as-value",["require","exports","../opcodes","core/math/context-types","core/math/maybe-rational"],function(e,t,r,n,o){"use strict";function i(e){if(Array.isArray(e))return e.map(i);switch(typeof e){case"boolean":case"number":case"string":return e;case"object":if(n.isActionCompilerValue(e)){var t,r={};for(t in e.updateRules){var a=e.updateRules[t];r[t]={value:i(a.value),valueType:a.valueType}}return{type:"Action",updateRules:r}}return o.asFloat(e);default:throw new Error("Unexpected value: "+e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.compilerValueToRuntimeValue=t.asValue=void 0,t.asValue=function(e,t){if((t=e.getInstruction(t)).type!==r.Constant)throw new Error("Unexpected opcode "+t.type+".");return i(t.value)},t.compilerValueToRuntimeValue=i}),define("core/math/ir/features/nan-of-type",["require","exports","core/math/types"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nanOfType=t.isNanableValueType=void 0,t.isNanableValueType=function(e){switch(e){case r.Bool:case r.Number:case r.Point:case r.Action:case r.RGBColor:case r.Polygon:return!0;default:return!1}},t.nanOfType=function(e){switch(e){case r.Number:return NaN;case r.Point:return[NaN,NaN];case r.RGBColor:return[NaN,NaN,NaN];case r.Action:return{type:"Action",updateRules:{}};case r.Bool:return!1;case r.Polygon:return[];default:throw new Error(e+" does not have a NaN type.")}}}),define("core/math/parsenode/irexpression",["require","pjs","./base","core/math/types","core/math/ir/features/as-value","core/math/ir/features/nan-of-type","core/math/errormsg"],function(e){"use strict";var t=e("pjs"),r=e("./base"),n=e("core/math/types"),o=e("core/math/ir/features/as-value").compilerValueToRuntimeValue,i=e("core/math/ir/features/nan-of-type").nanOfType,a=e("core/math/errormsg");return t(r,function(e,t,r){e.init=function(e){if(t.init.call(this),this._chunk=e,this.valueType=e.getReturnType(),this.addDependencies(e.getLiveArgNames()),this.isList=n.isList(this.valueType),this.isList&&(this.length=this._chunk.getConstantListLength(),void 0===this.length))throw a.variableLengthTopLevelList(e.getListLengthDependencies());var r=e.isConstant();this.isConstant=r&&(this.valueType===n.Number||this.valueType===n.Bool),this.isEmptyAction=r&&this.valueType===n.Action&&0===Object.keys(e.asValue().updateRules).length},e.shouldExportAns=function(){return!0},e.getCompiledFunction=function(e){return this._chunk.getCompiledFunction(e)},e.polynomialOrder=function(e){return this._chunk.polynomialOrder(e,{allowRestriction:!0,allowClosedBlockReferences:!1})},e.getPolynomialCoefficients=function(e){for(var t=(e=this._chunk.getPolynomialCoefficients(e)).chunk,n=e.coefficients,o=[],i=0;i<n.length;i++){var a=t.copy();a.returnIndex=n[i],a.close(),o.push(new r(a))}return o},e.takeDerivative=function(e){return e=this._chunk.copy().takeDerivative(e).close(),new r(e)},e.boundDomain=function(e){return this._chunk.boundDomain(e)},e.asValue=function(){if(this._chunk.isConstant())return this._chunk.asValue();if(this.isList){for(var e=[],t=o(i(n.elementType(this.valueType))),r=0;r<this.length;r++)e.push(t);return e}return o(i(this.valueType))},e.asCompilerValue=function(){return this._chunk.asCompilerValue()},e.isNaN=function(){return"number"==typeof this.asValue()&&isNaN(this.asValue())},e.getEvaluationInfo=function(){return!(!this._chunk.isConstant()||0!==this.getDependencies().length||!n.isTypeOrListOfType(this.valueType,n.Number)&&!n.isTypeOrListOfType(this.valueType,n.Bool))&&[{val:this.asValue()}]},e.elementAt=function(e){return e=this._chunk.elementAt(e),new r(e)},e.findLinearSubset=function(e){return this._chunk.findLinearSubset(e)},e.deriveRegressionRestrictions=function(){var e=this._chunk.deriveRegressionRestrictions();return e===this._chunk?this:new r(e)},e.eachElement=function(e){for(var t=0;t<this.length;t++)e(this.elementAt(t),t)},e.mapElements=function(e){for(var t=[],r=0;r<this.length;r++)t.push(e(this.elementAt(r),r));return t}})}),define("parsenodes",["require","core/math/parsenode/expressionTypes","core/math/parsenode/base","core/math/parsenode/expression","core/math/parsenode/error","core/math/parsenode/constant","core/math/parsenode/mixednumber","core/math/parsenode/identifier","core/math/parsenode/ans","core/math/parsenode/list","core/math/parsenode/range","core/math/parsenode/listaccess","core/math/parsenode/dotaccess","core/math/parsenode/parenseq","core/math/parsenode/movablepoint","core/math/parsenode/orderedpairaccess","core/math/parsenode/bareseq","core/math/parsenode/basecomparator","core/math/parsenode/comparator","core/math/parsenode/doubleinequality","core/math/parsenode/repeatedoperator","core/math/parsenode/sum","core/math/parsenode/product","core/math/parsenode/integral","core/math/parsenode/assignmentexpression","core/math/parsenode/listcomprehension","core/math/parsenode/functioncall","core/math/parsenode/seededfunctioncall","core/math/parsenode/functionexponent","core/math/parsenode/functionfactorial","core/math/parsenode/prime","core/math/parsenode/piecewise","core/math/parsenode/derivative","core/math/parsenode/updaterule","core/math/parsenode/histogram","core/math/parsenode/object3d","core/math/parsenode/dotplot","core/math/parsenode/boxplot","core/math/parsenode/ttest","core/math/parsenode/independent-ttest","core/math/parsenode/stats","core/math/parsenode/assignment","core/math/parsenode/functiondefinition","core/math/parsenode/equation","core/math/parsenode/regression","core/math/parsenode/image","core/math/parsenode/ticker","core/math/parsenode/slider","core/math/parsenode/table","core/math/parsenode/tablecolumn","core/math/parsenode/solvedequation","core/math/parsenode/optimizedregression","core/math/parsenode/seed","core/math/parsenode/extendseed","core/math/parsenode/irexpression"],function(e){"use strict";var t,r,n,o=e("core/math/parsenode/expressionTypes"),i={Base:e("core/math/parsenode/base"),Expression:e("core/math/parsenode/expression"),Error:e("core/math/parsenode/error"),Constant:e("core/math/parsenode/constant"),MixedNumber:e("core/math/parsenode/mixednumber"),Identifier:e("core/math/parsenode/identifier"),Ans:e("core/math/parsenode/ans"),List:e("core/math/parsenode/list"),Range:e("core/math/parsenode/range"),ListAccess:e("core/math/parsenode/listaccess"),DotAccess:e("core/math/parsenode/dotaccess"),ParenSeq:e("core/math/parsenode/parenseq"),MovablePoint:e("core/math/parsenode/movablepoint"),OrderedPairAccess:e("core/math/parsenode/orderedpairaccess"),BareSeq:e("core/math/parsenode/bareseq"),BaseComparator:e("core/math/parsenode/basecomparator"),Comparator:e("core/math/parsenode/comparator"),DoubleInequality:e("core/math/parsenode/doubleinequality"),RepeatedOperator:e("core/math/parsenode/repeatedoperator"),Sum:e("core/math/parsenode/sum"),Product:e("core/math/parsenode/product"),Integral:e("core/math/parsenode/integral"),AssignmentExpression:e("core/math/parsenode/assignmentexpression"),ListComprehension:e("core/math/parsenode/listcomprehension"),FunctionCall:e("core/math/parsenode/functioncall"),SeededFunctionCall:e("core/math/parsenode/seededfunctioncall"),FunctionExponent:e("core/math/parsenode/functionexponent"),FunctionFactorial:e("core/math/parsenode/functionfactorial"),Prime:e("core/math/parsenode/prime"),Piecewise:e("core/math/parsenode/piecewise"),Derivative:e("core/math/parsenode/derivative"),UpdateRule:e("core/math/parsenode/updaterule"),Histogram:e("core/math/parsenode/histogram"),Object3D:e("core/math/parsenode/object3d"),DotPlot:e("core/math/parsenode/dotplot"),BoxPlot:e("core/math/parsenode/boxplot"),TTest:e("core/math/parsenode/ttest"),IndependentTTest:e("core/math/parsenode/independent-ttest"),Stats:e("core/math/parsenode/stats"),Assignment:e("core/math/parsenode/assignment"),FunctionDefinition:e("core/math/parsenode/functiondefinition"),Equation:e("core/math/parsenode/equation"),Regression:e("core/math/parsenode/regression"),Image:e("core/math/parsenode/image"),Ticker:e("core/math/parsenode/ticker"),Slider:e("core/math/parsenode/slider"),Table:e("core/math/parsenode/table"),TableColumn:e("core/math/parsenode/tablecolumn"),SolvedEquation:e("core/math/parsenode/solvedequation"),OptimizedRegression:e("core/math/parsenode/optimizedregression"),Seed:e("core/math/parsenode/seed"),ExtendSeed:e("core/math/parsenode/extendseed"),IRExpression:e("core/math/parsenode/irexpression")};for(t in o)i[t]=o[t];for(r in i)i.hasOwnProperty(r)&&"Comparator"!==r&&(i[r].prototype.type=r);for(n in i.Comparator)i.Comparator.hasOwnProperty(n)&&(i.Comparator[n].prototype.type="Comparator['"+n+"']");return i}),define("core/math/parser/char-codes",["require","exports"],function(e,t){"use strict";function r(e){return 97<=e&&e<=122}function n(e){return 65<=e&&e<=90}Object.defineProperty(t,"__esModule",{value:!0}),t.isWhitespace=t.isSingleQuote=t.isDot=t.isBackslash=t.isLetter=t.isUpperCaseLetter=t.isLowerCaseLetter=t.isDigit=void 0,t.isDigit=function(e){return 48<=e&&e<=57},t.isLowerCaseLetter=r,t.isUpperCaseLetter=n,t.isLetter=function(e){return r(e)||n(e)},t.isBackslash=function(e){return 92===e},t.isDot=function(e){return 46===e},t.isSingleQuote=function(e){return 39===e},t.isWhitespace=function(e){if(9<=e&&e<=13)return!0;if(8192<=e&&e<=8202)return!0;switch(e){case 32:case 160:case 5760:case 8232:case 8233:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}}}),define("core/math/parser/latex-lexer",["require","exports","./char-codes","./input-span"],function(e,t,r,n){"use strict";function o(e,t,r){return{type:e,span:t,val:r}}function i(e,t,i){for(;r.isWhitespace(e.charCodeAt(t));)t+=1;var a=function(e,t){var i=t;if(t>=e.length)return o("End",n.emptySpanAt(e,t),"");var a=e.charCodeAt(t);if(r.isDigit(a))return o("Digit",s=n.Span(e,i,t+1),e.charAt(i));if(r.isLetter(a))return o("Letter",s=n.Span(e,i,t+1),e.charAt(i));if(r.isBackslash(a)){if(t+=1,r.isLetter(e.charCodeAt(t))){for(;r.isLetter(e.charCodeAt(t));)t+=1;var s=n.Span(e,i,t),u=n.slice(s);return o(c[u]||"Cmd",s,u)}return t+=1,o("EscapedSymbol",s=n.Span(e,i,t),u=n.slice(s))}if(r.isSingleQuote(a)){for(t+=1;r.isSingleQuote(e.charCodeAt(t));)t+=1;return"^"===e.charAt(t)?(t+=1,o("Primes^",s=n.Span(e,i,t),u=n.slice(s))):o("Primes",s=n.Span(e,i,t),u=n.slice(s))}return s=n.Span(e,i,t+1),u=e.charAt(i),o(l[u]||"Symbol",s,u)}(e,t);return{input:e,prevSpan:i,pos:t,token:a}}function a(e){return i(e.input,e.token.span.end,e.token.span)}function s(e){return e.token}Object.defineProperty(t,"__esModule",{value:!0}),t.isDone=t.isAt=t.eat=t.peek=t.advance=t.lex=t.LatexToken=t.spanStates=void 0,t.spanStates=function(e,t){return n.joinSpans(e.token.span,t.prevSpan)},t.LatexToken=o,t.lex=function(e){return i(e,0,n.emptySpanAt(e,0))},t.advance=a,t.peek=s,t.eat=function(e,t){if(s(e).type!==t)throw"Parse Error: expected "+t+".";return a(e)},t.isAt=function(e,t){return s(e).type===t},t.isDone=function(e){return e.pos>=e.input.length};var c={"\\left":"Left","\\right":"Right","\\sqrt":"Sqrt","\\frac":"Frac","\\operatorname":"OperatorName","\\token":"Token"},l={"[":"[","]":"]","{":"{","}":"}","^":"^",_:"_"}}),define("core/math/parser/latex-node",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Symbol=t.TokenNode=t.OperatorName=t.LeftRight=t.SupSub=t.Frac=t.Sqrt=t.Group=void 0,t.Group=function(e,t){return{type:"Group",span:e,args:t}},t.Sqrt=function(e,t,r){return{type:"Sqrt",span:e,optArg:t,arg:r}},t.Frac=function(e,t,r){return{type:"Frac",span:e,num:t,den:r}},t.SupSub=function(e,t,r,n){return{type:"SupSub",span:e,sup:t,sub:r,nprimes:n}},t.LeftRight=function(e,t,r,n){return{type:"LeftRight",span:e,left:t,right:r,arg:n}},t.OperatorName=function(e,t){return{type:"OperatorName",span:e,arg:t}},t.TokenNode=function(e,t){return{type:"TokenNode",span:e,arg:t}},t.Symbol=function(e,t){return{type:"Symbol",span:e,val:t}}}),define("core/math/parser/latex-parser",["require","exports","./latex-lexer","./input-span","./latex-node"],function(e,t,r,n,o){"use strict";function i(e){switch(e){case"Frac":return 2;case"^":case"_":case"Primes^":case"Left":case"Sqrt":case"OperatorName":case"Token":return 1;default:return 0}}function a(e,t){return{state:e,tree:t}}function s(e,t){var n=e,i=[];e:for(;!r.isDone(e);){var s,l=r.peek(e);switch(l.type){case"Cmd":case"EscapedSymbol":case"Letter":case"Digit":case"Symbol":case"[":case"{":case"^":case"_":case"Primes":case"Primes^":case"Left":case"Frac":case"Sqrt":case"OperatorName":case"Token":case"]":if("]"===l.type&&t)break e;if(e=(s=c(e)).state,"Group"===(s=s.tree).type)for(var u=0,d=s.args;u<d.length;u++){var p=d[u];i.push(p)}else i.push(s);break;case"}":case"Right":case"End":break e;default:throw"Unexpected token type "+l.type+"."}}return n=r.spanStates(n,e),a(e,o.Group(n,i))}function c(e){var t,n=r.peek(e);switch(n.type){case"Cmd":case"EscapedSymbol":case"Letter":case"Digit":case"Symbol":return a(e=r.advance(e),n);case"[":case"]":return a(e=r.advance(e),o.Symbol(n.span,n.val));case"{":return e=(t=s(e=r.advance(e),!1)).state,t=t.tree,a(e=r.eat(e,"}"),t);case"^":case"_":case"Primes":case"Primes^":return function(e){var t,n,i,s,c=e,u=0;e:for(;!r.isDone(e);){var d=r.peek(e);switch(d.type){case"^":if(e=r.advance(e),i)throw"Parse Error: double superscript.";e=(t=l(e,d)).state,i=t.tree;break;case"_":if(e=r.advance(e),s)throw"Parse Error: double subscript.";e=(n=l(e,d)).state,s=n.tree;break;case"Primes":if(e=r.advance(e),0<u)throw"Parse Error: double primes.";u=d.val.length;break;case"Primes^":if(e=r.advance(e),0<u)throw"Parse Error: double primes.";if(i)throw"Parse Error: double superscript";u=d.val.length-1,e=(n=l(e,d)).state,i=n.tree;break;default:break e}}return c=r.spanStates(c,e),a(e,o.SupSub(c,i,s,u))}(e);case"Left":return function(e){var t=e;e=r.eat(e,"Left");var n,i=r.peek(e);e=(c=s(r.advance(e),!1)).state,n=c.tree,e=r.eat(e,"Right");var c=r.peek(e);return e=r.advance(e),t=r.spanStates(t,e),a(e,o.LeftRight(t,i,c,n))}(e);case"Frac":return function(e){var t,n=e,i=r.peek(e);return e=(t=l(r.eat(e,"Frac"),i)).state,t=t.tree,e=(i=l(e,i)).state,i=i.tree,n=r.spanStates(n,e),a(e,o.Frac(n,t,i))}(e);case"Sqrt":return function(e){var t,n,i=e,c=r.peek(e);return e=r.eat(e,"Sqrt"),r.isAt(e,"[")&&(t=e,t=(n=s(r.eat(t,"["),!0)).state,n=n.tree,e=(n=a(r.eat(t,"]"),n)).state,n=n.tree),e=(c=l(e,c)).state,c=c.tree,i=r.spanStates(i,e),a(e,o.Sqrt(i,n,c))}(e);case"OperatorName":return function(e){var t=e,n=r.peek(e);return e=(n=l(r.eat(e,"OperatorName"),n)).state,n=n.tree,t=r.spanStates(t,e),a(e,o.OperatorName(t,n))}(e);case"Token":return function(e){var t=e,n=r.peek(e);return e=(n=l(r.eat(e,"Token"),n)).state,n=n.tree,t=r.spanStates(t,e),a(e,o.TokenNode(t,n))}(e);case"}":case"Right":throw"Parse Error: unexpected "+n.val+".";case"End":throw"Parse Error: unexpected end.";default:throw"Unexpected token type "+n.type+"."}}function l(e,t){var s=i(t.type);if(s<=0)throw new Error("Programming Error: greediness must be greater than 0.");var l=i(r.peek(e).type);if(0<l&&l<=s){var u=n.slice(t.span);throw"Parse Error: can't use "+n.slice(r.peek(e).span)+" as argument of "+u+". Use {}."}return e=(u=c(e)).state,"Group"!==(u=u.tree).type&&(u=o.Group(u.span,[u])),a(e,u)}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=void 0,t.parse=function(e){e=(t=s(r.lex(e),!1)).state;var t=t.tree;if(!r.isDone(e))throw"Parse error: unexpected "+n.slice(r.peek(e).span)+".";return t}}),define("core/math/parser/command-aliases",["require","exports","./char-codes"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.translateCmd=void 0;var n={mcd:"gcd",gcf:"gcd",mcm:"lcm",signum:"sign",sgn:"sign",stdDevP:"stdevp",stddevp:"stdevp",stdDev:"stdev",stddev:"stdev",variance:"var",TTest:"ttest",TScore:"tscore",IndependentTTest:"ittest",iTTest:"ittest",inverseCdf:"quantile",inversecdf:"quantile",arsinh:"arcsinh",arcosh:"arccosh",artanh:"arctanh",arcsch:"arccsch",arsech:"arcsech",arcoth:"arccoth"};t.translateCmd=function(e){for(var t=0;r.isBackslash(e.charCodeAt(t));)t+=1;return 0<t&&(e=e.slice(t)),n[e]||e}}),define("core/math/parser/surface-node",["require","exports","./command-aliases"],function(e,t,r){"use strict";function n(e){if("Subscript"===e.type){if("Alphanumeric"!==e.args[1].type)return!1;e=e.args[0]}switch(e.type){case"Cmd":case"Letter":return!0;default:return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.unwrapSeq=t.isDerivative=t.isSuperscriptedIdentifier=t.isIdentifier=t.MixedNumber=t.Alphanumeric=t.Cmd=t.Decimal=t.Letter=t.Juxt=t.RightArrow=t.PercentOf=t.Dot=t.For=t.Ellipsis=t.Colon=t.EmptyRangeEnd=t.EmptyPiecewise=t.Piecewise=t.Product=t.Sum=t.EmptyIntegral=t.Integral=t.Derivative=t.Frac=t.Nthroot=t.Sqrt=t.Seq=t.Prime=t.Superscript=t.Subscript=t.Pipes=t.List=t.Paren=t.Index=t.ImplicitCall=t.Call=t.Bang=t.Div=t.Mul=t.Sub=t.Add=t.Neg=t.Pos=t.Tilde=t.InequalityChain=t.TrailingInequalityPiece=t.Inequality=t.Equals=void 0,t.Equals=function(e,t){return{type:"Equals",span:e,args:t}},t.Inequality=function(e,t,r){return{type:"Inequality",span:e,symbol:t,args:r}},t.TrailingInequalityPiece=function(e,t,r){return{type:"TrailingInequalityPiece",span:e,symbol:t,args:r}},t.InequalityChain=function(e,t,r){return{type:"InequalityChain",span:e,first:t,chain:r}},t.Tilde=function(e,t){return{type:"Tilde",span:e,args:t}},t.Pos=function(e,t){return{type:"Pos",span:e,args:t}},t.Neg=function(e,t){return{type:"Neg",span:e,args:t}},t.Add=function(e,t){return{type:"Add",span:e,args:t}},t.Sub=function(e,t){return{type:"Sub",span:e,args:t}},t.Mul=function(e,t){return{type:"Mul",span:e,args:t}},t.Div=function(e,t){return{type:"Div",span:e,args:t}},t.Bang=function(e,t){return{type:"Bang",span:e,args:t}},t.Call=function(e,t){return{type:"Call",span:e,args:t}},t.ImplicitCall=function(e,t){return{type:"ImplicitCall",span:e,args:t}},t.Index=function(e,t){return{type:"Index",span:e,args:t}},t.Paren=function(e,t){return{type:"Paren",span:e,args:t}},t.List=function(e,t){return{type:"List",span:e,args:t}},t.Pipes=function(e,t){return{type:"Pipes",span:e,args:t}},t.Subscript=function(e,t){return{type:"Subscript",span:e,args:t}},t.Superscript=function(e,t){return{type:"Superscript",span:e,args:t}},t.Prime=function(e,t,r){return{type:"Prime",span:e,nprimes:t,args:r}},t.Seq=function(e,t){return{type:"Seq",span:e,args:t}},t.Sqrt=function(e,t){return{type:"Sqrt",span:e,args:t}},t.Nthroot=function(e,t){return{type:"Nthroot",span:e,args:t}},t.Frac=function(e,t){return{type:"Frac",span:e,args:t}},t.Derivative=function(e,t){return{type:"Derivative",span:e,args:t}},t.Integral=function(e,t){return{type:"Integral",span:e,args:t}},t.EmptyIntegral=function(e,t){return{type:"EmptyIntegral",span:e,args:t}},t.Sum=function(e,t){return{type:"Sum",span:e,args:t}},t.Product=function(e,t){return{type:"Product",span:e,args:t}},t.Piecewise=function(e,t){return{type:"Piecewise",span:e,args:t}},t.EmptyPiecewise=function(e){return{type:"EmptyPiecewise",span:e}},t.EmptyRangeEnd=function(e){return{type:"EmptyRangeEnd",span:e}},t.Colon=function(e,t){return{type:"Colon",span:e,args:t}},t.Ellipsis=function(e,t){return{type:"Ellipsis",span:e,args:t}},t.For=function(e,t){return{type:"For",span:e,args:t}},t.Dot=function(e,t){return{type:"Dot",span:e,args:t}},t.PercentOf=function(e,t){return{type:"PercentOf",span:e,args:t}},t.RightArrow=function(e,t){return{type:"RightArrow",span:e,args:t}},t.Juxt=function(e,t){return{type:"Juxt",span:e,args:t}},t.Letter=function(e,t){return{type:"Letter",span:e,val:t}},t.Decimal=function(e,t){return{type:"Decimal",span:e,val:t}},t.Cmd=function(e,t){return{type:"Cmd",span:e,val:r.translateCmd(t)}},t.Alphanumeric=function(e,t){return{type:"Alphanumeric",span:e,val:t}},t.MixedNumber=function(e,t,r,n){return{type:"MixedNumber",span:e,whole:t,num:r,den:n}},t.isIdentifier=n,t.isSuperscriptedIdentifier=function(e){return"Superscript"===e.type&&n(e.args[0])},t.isDerivative=function(e,t){return"Letter"===e.type&&"d"===e.val&&("Juxt"===t.type&&(t=(e=t.args)[0],e=e[1],"Letter"===t.type&&"d"===t.val&&n(e)))},t.unwrapSeq=function(e){return"Seq"===e.type?e.args:[e]}}),define("core/math/parser/surface-node-error",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenWithSubscript=t.UnexpectedFor=t.AdjacentNumbers=t.FractionEmpty=t.FractionMissingDenominator=t.FractionMissingNumerator=t.DifferentialWithSuperscript=t.IntegralMissingDifferential=t.DerivativeMissingBody=t.IntegralMissingBody=t.ProductMissingBody=t.SumMissingBody=t.IntegralMissingBound=t.MissingBound=t.ProductMissingBound=t.SumMissingBound=t.UnexpectedPrime=t.SuperscriptWithPrime=t.PrimeWithoutParen=t.PercentMissingOf=t.FunctionMissingArgument=t.UnexpectedSubscript=t.InvalidSubscript=t.InvalidOperatorName=t.UnrecognizedSymbol=t.UnexpectedDifferential=t.UnexpectedCloseDelimiter=t.MissingCloseDelimiter=t.UnaryOperatorMissingLeft=t.UnaryOperatorMissingRight=t.BinaryOperatorMissingLeft=t.BinaryOperatorMissingRight=t.UnexpectedEnd=t.EmptyRadicalIndex=t.EmptyPipe=t.EmptySquareBracket=t.EmptyRadical=t.EmptySuperscript=t.EmptySubscript=t.EmptyGroup=t.EmptyInput=t.UnexpectedParseError=t.Err=void 0,t.Err=function(e,t){return{type:"Err",span:e,error:t}},t.UnexpectedParseError=function(){return{type:"UnexpectedParseError"}},t.EmptyInput=function(){return{type:"EmptyInput"}},t.EmptyGroup=function(){return{type:"EmptyGroup"}},t.EmptySubscript=function(){return{type:"EmptySubscript"}},t.EmptySuperscript=function(){return{type:"EmptySuperscript"}},t.EmptyRadical=function(){return{type:"EmptyRadical"}},t.EmptySquareBracket=function(){return{type:"EmptySquareBracket"}},t.EmptyPipe=function(){return{type:"EmptyPipe"}},t.EmptyRadicalIndex=function(){return{type:"EmptyRadicalIndex"}},t.UnexpectedEnd=function(){return{type:"UnexpectedEnd"}},t.BinaryOperatorMissingRight=function(e){return{type:"BinaryOperatorMissingRight",val:e}},t.BinaryOperatorMissingLeft=function(e){return{type:"BinaryOperatorMissingLeft",val:e}},t.UnaryOperatorMissingRight=function(e){return{type:"UnaryOperatorMissingRight",val:e}},t.UnaryOperatorMissingLeft=function(e){return{type:"UnaryOperatorMissingLeft",val:e}},t.MissingCloseDelimiter=function(e,t){return{type:"MissingCloseDelimiter",open:e,close:t}},t.UnexpectedCloseDelimiter=function(e,t){return{type:"UnexpectedCloseDelimiter",open:e,close:t}},t.UnexpectedDifferential=function(){return{type:"UnexpectedDifferential"}},t.UnrecognizedSymbol=function(e){return{type:"UnrecognizedSymbol",val:e}},t.InvalidOperatorName=function(e){return{type:"InvalidOperatorName",val:e}},t.InvalidSubscript=function(e){return{type:"InvalidSubscript",val:e}},t.UnexpectedSubscript=function(e){return{type:"UnexpectedSubscript",base:e}},t.FunctionMissingArgument=function(e){return{type:"FunctionMissingArgument",val:e}},t.PercentMissingOf=function(){return{type:"PercentMissingOf"}},t.PrimeWithoutParen=function(){return{type:"PrimeWithoutParen"}},t.SuperscriptWithPrime=function(){return{type:"SuperscriptWithPrime"}},t.UnexpectedPrime=function(){return{type:"UnexpectedPrime"}},t.SumMissingBound=function(){return{type:"SumMissingBound"}},t.ProductMissingBound=function(){return{type:"ProductMissingBound"}},t.MissingBound=function(){return{type:"MissingBound"}},t.IntegralMissingBound=function(){return{type:"IntegralMissingBound"}},t.SumMissingBody=function(){return{type:"SumMissingBody"}},t.ProductMissingBody=function(){return{type:"ProductMissingBody"}},t.IntegralMissingBody=function(){return{type:"IntegralMissingBody"}},t.DerivativeMissingBody=function(){return{type:"DerivativeMissingBody"}},t.IntegralMissingDifferential=function(){return{type:"IntegralMissingDifferential"}},t.DifferentialWithSuperscript=function(){return{type:"DifferentialWithSuperscript"}},t.FractionMissingNumerator=function(){return{type:"FractionMissingNumerator"}},t.FractionMissingDenominator=function(){return{type:"FractionMissingDenominator"}},t.FractionEmpty=function(){return{type:"FractionEmpty"}},t.AdjacentNumbers=function(e){return{type:"AdjacentNumbers",args:e}},t.UnexpectedFor=function(){return{type:"UnexpectedFor"}},t.TokenWithSubscript=function(){return{type:"TokenWithSubscript"}}}),define("core/math/parser/expression-token-tables",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allTokenTypes=t.rightTable=t.leftTable=t.escapedSymbolTable=t.symbolTable=t.commandTable=void 0,t.commandTable={"\\lt":"<","\\gt":">","\\le":"<=","\\ge":">=","\\leq":"<=","\\geq":">=","\\ldots":"...","\\sim":"~","\\to":"->","\\cdot":"*","\\times":"*","\\div":"/","\\ln":"Ln","\\log":"Log","\\int":"Int","\\sum":"Sum","\\prod":"Prod","\\backslash":"Err","\\for":"for"};for(var r=0,n=["sin","cos","tan","cot","sec","csc"];r<n.length;r++){var o=n[r];t.commandTable["\\"+o]="Trig",t.commandTable["\\"+o+"h"]="Trig",t.commandTable["\\arc"+o]="Trig",t.commandTable["\\arc"+o+"h"]="Trig",t.commandTable["\\ar"+o+"h"]="Trig"}t.symbolTable={"+":"+","-":"-","*":"*","/":"/","!":"!","(":"(",")":")","[":"[","]":"]",",":",","...":"...",":":":","=":"=",">=":">=","<=":"<=",">":">","<":"<","~":"~",".":"."},t.escapedSymbolTable={"\\{":"\\{","\\}":"\\}","\\%":"%"},t.leftTable={"|":"(|","\\{":"\\{","[":"[","(":"("},t.rightTable={"|":"|)","\\}":"\\}","]":"]",")":")"},t.allTokenTypes=Object.keys({"+":!0,"-":!0,"*":!0,"/":!0,"!":!0,"(":!0,")":!0,"\\{":!0,"\\}":!0,"(|":!0,"|)":!0,"[":!0,"]":!0,",":!0,"...":!0,":":!0,"=":!0,">":!0,"<":!0,">=":!0,"<=":!0,"->":!0,"~":!0,"%":!0,".":!0,for:!0,Letter:!0,Decimal:!0,Cmd:!0,TokenNode:!0,Differential:!0,End:!0,Trig:!0,Ln:!0,Log:!0,Int:!0,Sum:!0,Prod:!0,Err:!0})}),define("core/math/parser/expression-lexer",["require","exports","./expression-token-tables","./input-span","./input-span","./surface-node"],function(e,t,r,n,o,i){"use strict";function a(e,t,r,n,o,i,a,s){return{opts:e,input:t,prevSpan:r,startIndex:n,endIndex:o,token:i,mode:a,parent:s}}function s(e,t,r){return{type:e,span:t,val:r}}function c(e,t,o,i,c,u){if(o>(x=t.args).length&&u)return l(u,i);var g=function e(t,o,i){if(o>=t.args.length)return h(o,s("End",n.emptySpanAt(t.span.input,t.span.end),""));var a=t.args[o];switch(a.type){case"Sqrt":case"Frac":case"SupSub":return h(o,a);case"Letter":if(!i||"integral"!==i.type)return h(o,a);if("d"!=a.val)return h(o,a);var c,l=(c=e(t,o+1,i)).endIndex;return"Letter"===(c=c.token).type||"Cmd"===c.type?h(l,{type:"Differential",span:n.joinSpans(a.span,c.span),val:c.val}):h(o,a);case"LeftRight":var u=a.left;return h(o,s(r.leftTable[u.val]||"Err",n.joinSpans(a.span,u.span),u.val));case"OperatorName":for(var d=[],p=0,g=a.arg.args;p<g.length;p++){var b=g[p];if("Letter"!==b.type)return h(o,s("Err",a.span,n.slice(a.arg.span)));d.push(b.val)}u="\\"+d.join("");return h(o,s(r.commandTable[u]||"Cmd",a.span,u));case"TokenNode":var x="$";if(0===a.arg.args.length)return h(o,s("Err",a.span,n.slice(a.arg.span)));for(var w=0,E=a.arg.args;w<E.length;w++){var S=E[w];if("Digit"!==S.type)return h(o,s("Err",a.span,n.slice(a.arg.span)));x+=S.val}return h(o,s("TokenNode",a.span,x));case"Cmd":return h(o,s(r.commandTable[a.val]||"Cmd",a.span,a.val));case"EscapedSymbol":return h(o,s(r.escapedSymbolTable[a.val]||"Err",a.span,a.val));case"Symbol":return function(e,t,o){switch(o.val){case".":return function(e,t){var o,i=e.args[t];if("Symbol"!==i.type||"."!==i.val)throw new Error("Programming Error: expected '.'");return t+2<e.args.length&&y(e.args[t+1])&&y(e.args[t+2])?h(t+2,s("...",o=n.joinSpans(i.span,e.args[t+2].span),n.slice(o))):(o=m(e.args,t+1))<e.args.length&&"Digit"===e.args[o].type?f(e,t):h(t,s(e=r.symbolTable[i.val]||"Err",i.span,i.val))}(e,t);case"-":if((i=e.args[t+1])&&v(i,">"))return h(t+1,s("->",n.joinSpans(o.span,i.span),"->"));break;case"<":if((i=e.args[t+1])&&v(i,"="))return h(t+1,s("<=",n.joinSpans(o.span,i.span),"<="));break;case">":var i;if((i=e.args[t+1])&&v(i,"="))return h(t+1,s(">=",n.joinSpans(o.span,i.span),">="))}return h(t,s(r.symbolTable[o.val]||"Err",o.span,o.val))}(t,o,a);case"Digit":return f(t,o);default:throw"Unexpected atom "+a.type+"."}}(t,o=m(x,o),c),b=g.token,x=g.endIndex;if("End"===b.type&&u){if("LeftRight"===(g=u.input.args[u.startIndex]).type)return g=g.right,a(e,t,i,o,x,s(r.rightTable[g.val]||"Err",g.span,g.val),c,u)}else"Int"===b.type?c=d(c):"Differential"===b.type&&(c=p(c));return a(e,t,i,o,x,b,c,u)}function l(e,t){var r=e.input,n=e.endIndex,o=e.mode,i=e.parent;return c(e.opts,r,n+1,t,o,i)}function u(e){return e.token}function d(e){return{type:"integral",parent:e}}function p(e){if(!e||"integral"!==e.type)throw new Error("Programming Error: expected lexer to be in integral mode.");return e.parent}function h(e,t){return{token:t,endIndex:e}}function f(e,t){if(o=function(t){for(var r=e.args,o=r[t].span,a=[];t<r.length;t++){var s=m(r,t);if(s>=r.length)break;if("Digit"!==(f=r[s]).type)break;t=s,a.push(f.val)}if(!((t=m(r,t))>=r.length)){var c=r[t];if("Frac"===c.type){for(var l=[],u=[],d=0,p=c.num.args;d<p.length;d++)if(!g(f=p[d])){if("Digit"!==f.type)return;l.push(f.val)}for(var f,y=0,v=c.den.args;y<v.length;y++)if(!g(f=v[y])){if("Digit"!==f.type)return;u.push(f.val)}return c=n.joinSpans(o,c.span),h(t,i.MixedNumber(c,a.join(""),l.join(""),u.join("")))}}}(t))return o;for(var r=e.args,o=e.args[t].span,a=[],c=!1,l=!1;t<r.length;t++){var u=m(r,t);if(u>=r.length)break;var d=r[u];if("Digit"===d.type)t=u,c=!0,a.push(d.val);else{if(l||!y(d))break;if(u+1<r.length&&y(e.args[u+1]))break;t=u,l=!0,a.push(".")}}if(!c)throw new Error("Programming Error: decimals must have at least one digit.");return h(t-1,s("Decimal",n.joinSpans(o,e.args[t-1].span),a.join("")))}function g(e){switch(e.type){case"Sqrt":case"Frac":case"SupSub":case"LeftRight":case"OperatorName":case"TokenNode":case"Symbol":case"Letter":case"Digit":return;case"Cmd":return"\\space"===e.val;case"EscapedSymbol":return"\\ "===e.val||"\\:"===e.val||"\\,"===e.val||"\\;"===e.val;default:throw"Unexpected atom "+e.type+"."}}function m(e,t){for(;t<e.length&&g(e[t]);)t+=1;return t}function y(e){return v(e,".")}function v(e,t){return"Symbol"===e.type&&e.val===t}Object.defineProperty(t,"__esModule",{value:!0}),t.didAdvance=t.isDone=t.isAt=t.endIntegral=t.beginIntegral=t.peek=t.advance=t.lexAt=t.lex=t.emptySpanAtState=t.joinState=t.spanStates=t.Span=void 0,Object.defineProperty(t,"Span",{enumerable:!0,get:function(){return o.Span}}),t.spanStates=function(e,t){return n.joinSpans(e.token.span,t.prevSpan)},t.joinState=function(e,t){return n.joinSpans(e,t.prevSpan)},t.emptySpanAtState=function(e){return n.emptySpanAt(e.token.span.input,e.token.span.start)},t.lex=function(e,t){return c(t,e,0,n.emptySpanAt(e.span.input,e.span.start),void 0,void 0)},t.lexAt=c,t.advance=function(e){var t=e.input.args[e.startIndex],r=e.token.span;return t&&"LeftRight"===t.type?c(e.opts,t.arg,0,r,e.mode,e):l(e,r)},t.peek=u,t.beginIntegral=d,t.endIntegral=p,t.isAt=function(e,t){return u(e).type===t},t.isDone=function(e){return e.startIndex>=e.input.args.length},t.didAdvance=function(e,t){return t.token.span.start>e.token.span.start}}),define("core/math/parser/precspec",["require","exports","./expression-token-tables"],function(e,t,r){"use strict";function n(e,t){for(var n=0,o=r.allTokenTypes;n<o.length;n++){var i=o[n];if(void 0===t[i])throw new Error("Programming Error: token "+i+" must be a assigned a "+e+" precedence")}}function o(e,t,r,n){if(void 0!==t[r])throw new Error("Programming Error: duplicate "+e+" entry for token "+r+".");t[r]=n}Object.defineProperty(t,"__esModule",{value:!0}),t.precSpec=t.ra=t.la=t.r=t.l=t.initial=void 0,t.initial=function(e){return{type:"initial",tokenType:e}},t.l=function(e){return{type:"l",tokenType:e}},t.r=function(e){return{type:"r",tokenType:e}},t.la=function(e){return{type:"la",tokenType:e}},t.ra=function(e){return{type:"ra",tokenType:e}},t.precSpec=function(e){for(var t={},r={},i={},a=0;a<e.length;a++)for(var s=0,c=e[a];s<c.length;s++){var l=c[s],u=l.type,d=l.tokenType;switch(u){case"initial":o("initial",t,d,a);break;case"l":o("left",r,d,a);break;case"r":o("right",i,d,a);break;case"la":o("left",r,d,a),o("right",i,d,a);break;case"ra":o("left",r,d,a),o("right",i,d,a-1)}}return n("left",r),n("right",i),{rightPrec:function(e){return i[e]},leftPrec:function(e){return r[e]},initialPrec:function(e){var r=t[e];return void 0===r?i[e]:r}}}}),define("core/math/inverses",[],function(){"use strict";var e={};return["sin","cos","tan","cot","sec","csc","sinh","cosh","tanh","coth","sech","csch"].forEach(function(t){e[t]="arc"+t,e["arc"+t]=t}),e}),define("core/math/parser/lower",["require","exports","core/math/inverses","tslib","core/math/errormsg","./input-span","./surface-node","../maybe-rational"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLegalAssignmentLhs=t.isFunctionSignature=t.lower=void 0;var c=0;function l(e,t){for(var r=[],n=0;n<t.length;n++)r.push(h(e,t[n]));return r}function u(e){if("Call"===e.type){e=(t=e.args)[0];var t=t[1];t=a.unwrapSeq(t);return a.isIdentifier(e)&&t.every(a.isIdentifier)?{base:e,args:t}:void 0}}function d(e){return a.isIdentifier(e)}function p(e){if("Paren"===e.type)return"Seq"===(e=e.args[0]).type&&2===e.args.length}function h(e,t){return e.setInput(f(e,t),t.span)}function f(e,t){var r=e.nodes;switch(t.type){case"Pos":return f(e,t.args[0]);case"Neg":for(var n=-1,u=t.args[0];;)if("Pos"===u.type||"Paren"===u.type&&!p(u))u=u.args[0];else{if("Neg"!==u.type)break;u=u.args[0],n*=-1}switch(u.type){case"Decimal":var d=x(u);return r.Constant(-1===n?s.neg(d):d);case"MixedNumber":return d=w(u),r.MixedNumber(-1===n?s.neg(d):d);default:return-1===n?r.Negative([h(e,u)]):f(e,u)}case"Add":return r.Add(l(e,t.args));case"Sub":return r.Subtract(l(e,t.args));case"Mul":return r.Multiply(l(e,t.args));case"Div":return r.Divide(l(e,t.args));case"Bang":return"Call"===(L=t.args[0]).type?r.FunctionFactorial(l(e,L.args)):r.FunctionCall("\\factorial",l(e,t.args));case"PercentOf":return r.PercentOf(l(e,t.args));case"Call":return y(e,t);case"ImplicitCall":return function(){var e=(r=t.args)[0],r=r[1];if("Superscript"===e.type&&(e=e.args[0]),"Cmd"===e.type&&"logbase"===e.val&&"Seq"===r.type&&2===r.args.length){if(!k(r.args[0]))throw o.badImplicitCall("log")}else if(!k(r)){if("Cmd"===e.type)throw o.badImplicitCall(e.val);throw o.parseError()}}(),y(e,t);case"Dot":var L,T=t.args[1],C=(L=l(e,t.args))[0],A=L[1];if(_(T))L=i.emptySpanAt(T.span.input,T.span.end),L=e.setInput(I(e),L),A=e.setInput(r.SeededFunctionCall(A,[L]),T.span);else if("Letter"===T.type)switch(T.val){case"x":return r.OrderedPairAccess([C,r.Constant(1)]);case"y":return r.OrderedPairAccess([C,r.Constant(2)])}else if("Call"===T.type&&"Letter"===(O=T.args[0]).type)switch(O.val){case"x":return r.Multiply([r.OrderedPairAccess([C,r.Constant(1)]),h(e,T.args[1])]);case"y":return r.Multiply([r.OrderedPairAccess([C,r.Constant(2)]),h(e,T.args[1])])}return r.DotAccess([C,A]);case"Prime":if("Call"!==(P=t.args[0]).type)throw"ImplicitCall"===P.type?o.primeWithoutParen():o.unexpectedPrime();var O=(P=P.args)[0],P=P[1];P=a.unwrapSeq(P).length;if("Cmd"===O.type&&"logbase"===O.val){if(2!==P)throw o.primedFunctionArity()}else if(1!==P)throw o.primedFunctionArity();return r.Prime(t.nprimes,l(e,t.args));case"Index":P=(F=t.args)[0];return"Seq"===(D=F[1]).type?r.ListAccess([f(e,P),r.List(l(e,D.args))]):"Ellipsis"!==D.type?v(D)?r.ListAccess([f(e,P),b(e,D)]):r.ListAccess(l(e,t.args)):(D=(F=D.args)[0],F=F[1],r.ListAccess([f(e,P),r.Range([r.List(l(e,a.unwrapSeq(D))),r.List("EmptyRangeEnd"===F.type?[]:l(e,a.unwrapSeq(F)))])]));case"Paren":if("Seq"!==(N=t.args[0]).type)return f(e,N);if(0===N.args.length)throw o.emptyParen();return r.ParenSeq(l(e,N.args));case"List":if(0===t.args.length)return r.List([]);if("Ellipsis"===(N=t.args[0]).type){var D=(q=N.args)[0],F=q[1];return r.Range([r.List(l(e,a.unwrapSeq(D))),r.List(l(e,a.unwrapSeq(F)))])}if("For"!==N.type)return r.List(l(e,a.unwrapSeq(N)));for(var N,q=(D=N.args)[0],R=(F=D[1],D=h(M(e,{prefix:"li",expr:N=e.setInput(r.Identifier("_comprehensionIndex_"+c++),q.span)}),q),[]),B=0,j=a.unwrapSeq(F);B<j.length;B++){var V=j[B];if(!E(V))throw o.listComprehensionIncorrectInput();R.push(e.setInput(r.AssignmentExpression(l(e,V.args)),V.span))}return r.ListComprehension(N,D,R);case"Pipes":return r.FunctionCall("\\abs",l(e,t.args));case"Subscript":var U=(H=t.args)[0];if(0===(H=H[1]).val.length)throw o.emptySubscript();var G=void 0;switch(U.type){case"Letter":case"Cmd":G=U.val;break;default:throw o.unexpectedSubscript()}return r.Identifier(G+"_"+H.val);case"Superscript":var z=(U=(H=t.args)[0],H[1]);if("Call"!==U.type||"Seq"===U.args[1].type||function(e){if("Call"===e.type){for(var t=e.args[0];"Superscript"===t.type||"Subscript"===t.type||"Prime"===t.type;)t=t.args[0];return"Cmd"===t.type&&(g(t.val)||m(t.val))}}(U)){if("Dot"!==U.type)return r.Exponent(l(e,t.args));T=U.args[1];var H,W=(C=(H=l(e,U.args))[0],A=H[1],h(e,z));if("Letter"===T.type)switch(T.val){case"x":return r.Exponent([r.OrderedPairAccess([C,r.Constant(1)]),W]);case"y":return r.Exponent([r.OrderedPairAccess([C,r.Constant(2)]),W])}else if("Call"===T.type&&"Letter"===(O=T.args[0]).type)switch(O.val){case"x":return r.Multiply([r.OrderedPairAccess([C,r.Constant(1)]),r.Exponent([h(e,T.args[1]),W])]);case"y":return r.Multiply([r.OrderedPairAccess([C,r.Constant(2)]),r.Exponent([h(e,T.args[1]),W])])}return r.Exponent([r.DotAccess([C,A]),W])}return r.FunctionExponent(l(e,[U.args[0],U.args[1],z]));case"Sqrt":return r.FunctionCall("sqrt",l(e,t.args));case"Nthroot":return r.FunctionCall("nthroot",l(e,[t.args[1],t.args[0]]));case"Frac":return r.Divide(l(e,t.args));case"Derivative":var K=l(e,t.args);if(!a.isIdentifier(t.args[0]))throw o.parseError();return r.Derivative(K[0],[K[1]]);case"Integral":K=l(e,[$=(Y=t.args)[0],Y[1],X=Y[2],Q=Y[3]]);return r.Integral(K);case"EmptyIntegral":var $=(z=l(e,t.args))[0],Y=z[1],X=z[2],Q=r.Constant(s.maybeRational(1,1));return r.Integral([$,Y,X,Q]);case"Sum":var J=t.args,Z=(q=J[0],J[1]);X=J[2];if(!E(Z))throw o.incorrectSumLowerBound();var ee=h(M(e,{prefix:"ro",expr:(K=l(e,[Z.args[0],Z.args[1],X]))[0]}),q);return r.Sum(K.concat(ee));case"Product":if(q=(J=t.args)[0],Z=J[1],X=J[2],!E(Z))throw o.incorrectProductLowerBound();return ee=h(M(e,{prefix:"ro",expr:(K=l(e,[Z.args[0],Z.args[1],X]))[0]}),q),r.Product(K.concat(ee));case"Juxt":return r.Multiply(l(e,t.args));case"Letter":return r.Identifier(t.val);case"Cmd":var te=t.val;switch(te){case"ans":if(void 0===e.currentIndex)throw o.badSymbolContext("ans");return r.Ans("ans_{"+(e.currentIndex-1)+"}");case"approx":throw o.unrecognizedSymbol(te);case"dt":if(!e.allowDt)throw o.badSymbolContext(te);return r.Identifier(te);case"index":if(!e.allowIndex)throw o.badSymbolContext(te);return r.Identifier(te);default:return r.Identifier(te)}case"Decimal":return r.Constant(x(t));case"MixedNumber":return r.MixedNumber(w(t));case"Piecewise":return function(e){var r,n=e.nodes,i=t.args[0],c=a.unwrapSeq(i),l=[];e:for(r=0;r<c.length;r++){var u=c[r];switch(u.type){case"Colon":var d=(p=u.args)[0],p=p[1];if(!v(d))throw o.colonMissingCondition();l.push({condition:b(e,d),if_expr:h(e,p)});break;case"Equals":case"Inequality":case"InequalityChain":l.push({condition:b(e,u),if_expr:n.Constant(s.maybeRational(1,1))});break;default:break e}}if(0===r)throw o.piecewiseMissingCondition();if(r<c.length-1)throw o.piecewisePartMissingCondition();if(i=r===c.length-1?h(e,c[r]):n.Constant(NaN),!n.Piecewise.chain)throw o.featureUnavailable();return n.Piecewise.chain(l,i)}(e);case"RightArrow":return function(e,t){var r=e.nodes;if(!a.isIdentifier(t.args[0]))throw o.updateRuleNonIdentifierLHS();return e=M(e,{prefix:"ec",expr:e.setInput(r.Identifier("globalEventCount"),i.emptySpanAt(t.span.input,t.span.start))}),r.UpdateRule(l(e,t.args))}(e,t);case"Seq":return r.BareSeq(l(e,t.args));case"EmptyPiecewise":if(!r.Piecewise.empty)throw o.featureUnavailable();return r.Piecewise.empty();case"Equals":throw o.unexpectedSymbol("=");case"Inequality":case"InequalityChain":throw o.unexpectedInequality();case"Tilde":throw o.unexpectedSymbol("~");case"Colon":throw o.unexpectedSymbol(":");case"Ellipsis":throw o.unexpectedSymbol("...");case"For":throw o.unexpectedForKeyword();case"EmptyRangeEnd":throw o.invalidHalfEmptyRange();case"Err":throw function(e){switch(e.type){case"UnexpectedParseError":case"MissingBound":case"EmptyGroup":case"UnexpectedDifferential":case"UnexpectedEnd":return o.parseError();case"InvalidOperatorName":return o.invalidOperatorName();case"UnexpectedCloseDelimiter":case"MissingCloseDelimiter":return o.mismatchedBraces(e.open,e.close);case"UnrecognizedSymbol":return"."===e.val?o.unexpectedSymbol(e.val):o.unrecognizedSymbol(e.val);case"EmptyInput":return o.blankExpression();case"BinaryOperatorMissingRight":case"BinaryOperatorMissingLeft":return o.binaryOperatorMissingOperand("%"===e.val?"% of":e.val);case"UnaryOperatorMissingLeft":return o.unaryOperatorMissingLeft(e.val);case"UnaryOperatorMissingRight":return o.unaryOperatorMissingRight(e.val);case"UnexpectedSubscript":return o.cannotSubscript(e.base);case"PercentMissingOf":return o.percentMissingOf();case"SumMissingBound":return o.sumMissingBound();case"ProductMissingBound":return o.productMissingBound();case"IntegralMissingBound":return o.integralMissingBound();case"SumMissingBody":return o.sumMissingBody();case"ProductMissingBody":return o.productMissingBody();case"IntegralMissingBody":return o.integralMissingBody();case"DerivativeMissingBody":return o.derivativeMissingBody();case"IntegralMissingDifferential":return o.integralMissingDifferential();case"DifferentialWithSuperscript":return o.differentialWithSuperscript();case"FractionMissingNumerator":return o.fractionMissingNumerator();case"FractionMissingDenominator":return o.fractionMissingDenominator();case"FractionEmpty":return o.fractionEmpty();case"EmptySuperscript":return o.emptySuperscript();case"EmptySubscript":return o.emptySubscript();case"InvalidSubscript":return o.invalidSubscript(e.val);case"SuperscriptWithPrime":return o.superscriptWithPrime();case"PrimeWithoutParen":return o.primeWithoutParen();case"UnexpectedPrime":return o.unexpectedPrime();case"EmptyRadical":return o.emptyRadical();case"EmptyRadicalIndex":return o.emptyRadicalIndex();case"EmptySquareBracket":return o.emptySquareBracket();case"EmptyPipe":return o.emptyPipe();case"FunctionMissingArgument":return o.wrongArity(e.val,1,0);case"AdjacentNumbers":return o.adjacentNumbers(S(e.args[0]),S(e.args[1]));case"TokenWithSubscript":return o.tokenWithSubscript();case"UnexpectedFor":return o.unexpectedForKeyword();default:throw"Unexpected surface node "+e.type+"."}}(t.error);default:throw"Unexpected surface node "+t.type+"."}}function g(e){return r.hasOwnProperty(e)}function m(e){return"ln"===e||"log"===e||"logbase"===e}function y(e,t){var n=e.nodes,s=(u=t.args)[0],c=u[1],u=(t=h(e,s),l(e,a.unwrapSeq(c)));if(_(s)){var d=i.emptySpanAt(c.span.input,c.span.start);d=e.setInput(I(e),d);return n.SeededFunctionCall(t,[d].concat(u))}if(a.isIdentifier(s))return n.FunctionCall(t,u);if("Superscript"===s.type&&(s=(d=s.args)[0],d=d[1],"Cmd"===s.type&&(g(s=s.val)||m(s)))){if("Decimal"===d.type&&"2"===d.val)return n.Exponent([n.FunctionCall(s,u),h(e,d)]);if("Neg"===(d=d).type&&"Decimal"===(d=d.args[0]).type&&"1"===d.val&&void 0!==r[s])return n.FunctionCall(r[s],u);throw g(s)?o.badTrigExponent(s):o.badLogExponent("logbase"===s?"log":s)}return n.Multiply([t,h(e,c)])}function v(e){return"Equals"===e.type||"Inequality"===e.type||"InequalityChain"===e.type}function b(e,t){var r=e.nodes;switch(t.type){case"Equals":return r.Comparator["="](l(e,t.args));case"Inequality":return r.Comparator[t.symbol](l(e,t.args));case"InequalityChain":if(1<t.chain.length)throw o.inequalityChainTooLong();var n=(u=t.first).symbol,s=(d=u.args)[0],c=d[1],u=(p=t.chain[0]).symbol,d=p.args[0],p=i.emptySpanAt(t.span.input,t.span.start);return r.And([b(e,a.Inequality(p,n,[s,c])),b(e,a.Inequality(p,u,[c,d]))]);default:throw o.parseError()}}function x(e){return s.fromDecimalString(e.val)}function w(e){var t=s.fromDecimalString(e.whole),r=s.fromDecimalString(e.num);e=s.fromDecimalString(e.den);return s.add(t,s.div(r,e))}function E(e){return"Equals"===e.type&&a.isIdentifier(e.args[0])}function S(e){switch(e.type){case"Decimal":return e.val;case"MixedNumber":return e.whole+" "+e.num+"/"+e.den;default:throw new Error("Unexpected node type "+e.type)}}function k(e){switch(e.type){case"Letter":case"Decimal":case"MixedNumber":case"Cmd":case"EmptyPiecewise":return!0;case"Neg":for(var t=e.args[0];;)if("Pos"===t.type||"Paren"===t.type&&!p(t))t=t.args[0];else{if("Neg"!==t.type)break;t=t.args[0]}return"Decimal"===t.type||"MixedNumber"===t.type;case"Pos":case"Paren":return k(e.args[0]);case"Juxt":case"Mul":case"Div":return k(e.args[0])&&k(e.args[1]);case"Subscript":return k(e.args[0]);case"Superscript":case"Frac":case"Add":case"Sub":return k(e.args[0])&&k(e.args[1]);case"Piecewise":return"Equals"===(t=e.args[0]).type||"Inequality"===t.type||"InequalityChain"===t.type;case"Call":var r=(n=e.args)[0],n=n[1];return!a.isIdentifier(r)&&!a.isSuperscriptedIdentifier(r)&&k(r)&&k(n);case"Derivative":case"Sqrt":case"Nthroot":case"Pipes":case"Bang":return!1;case"Equals":case"Inequality":case"InequalityChain":case"Tilde":case"ImplicitCall":case"Index":case"List":case"Seq":case"Integral":case"EmptyIntegral":case"Sum":case"Product":case"Colon":case"Ellipsis":case"For":case"Dot":case"PercentOf":case"Prime":case"EmptyRangeEnd":case"RightArrow":return!1;default:throw"Unexpected surface node "+e.type+"."}}function _(e){return"Cmd"===e.type&&("random"===e.val||"shuffle"===e.val)}function I(e){var t=e.nodes.ExtendSeed("",[e.nodes.Identifier("globalRandomSeed"),e.nodes.Seed(e.nextSeed())]);if(!e.seedExtensions)return t;for(var r=0,n=e.seedExtensions;r<n.length;r++){var o=(i=n[r]).prefix,i=i.expr;t=e.nodes.ExtendSeed(o,[t,i])}return t}function M(e,t){var r=e.seedExtensions||[];return n.__assign(n.__assign({},e),{seedExtensions:r.concat(t)})}t.lower=function(e,t){return t=t,e.setInput(function(e,t){var r=e.nodes;switch(t.type){case"Equals":var n=(c=t.args)[0],i=c[1],s=u(n);if(s){var c=s.base,p=s.args;return r.FunctionDefinition(h(e,c),l(e,p),h(e,i))}return d(n)?r.Assignment(h(e,n),h(e,i)):r.Equation(h(e,n),h(e,i));case"Tilde":n=(g=l(e,t.args))[0],i=g[1];return r.Regression(n,i);case"Inequality":return b(e,t);case"InequalityChain":if(1<t.chain.length)throw o.inequalityChainTooLong();p=(m=t.first).symbol,n=(g=m.args)[0],i=g[1];var g=(m=t.chain[0]).symbol,m=m.args[0];return a.isIdentifier(i)?r.DoubleInequality([h(e,n),p,h(e,i),g,h(e,m)]):b(e,t);case"Call":var y=(m=t.args)[0],v=m[1];if("Cmd"===y.type)switch(y.val){case"histogram":return r.Histogram(l(e,a.unwrapSeq(v)));case"cube":case"sphere":case"cone":case"dodecahedron":case"octahedron":case"tetrahedron":return r.Object3D(l(e,a.unwrapSeq(v)),y.val);case"dotplot":return r.DotPlot(l(e,a.unwrapSeq(v)));case"boxplot":return r.BoxPlot(l(e,a.unwrapSeq(v)));case"ttest":return r.TTest(l(e,a.unwrapSeq(v)));case"ittest":return r.IndependentTTest(l(e,a.unwrapSeq(v)));case"stats":return r.Stats(l(e,a.unwrapSeq(v)));default:return f(e,t)}return f(e,t);default:return f(e,t)}}(e,t),t.span)},t.isFunctionSignature=function(e){return void 0!==u(e)},t.isLegalAssignmentLhs=d}),define("core/math/parser/expression-parser",["require","exports","tslib","core/math/errormsg","./surface-node","./surface-node-error","./input-span","./expression-lexer","./precspec","./lower"],function(e,t,r,n,o,i,a,s,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=void 0;var u=[[c.initial("("),c.la(")"),c.initial("\\{"),c.la("\\}"),c.r("["),c.la("]"),c.initial("(|"),c.la("|)"),c.la("Differential"),c.la("End")],[c.r("for")],[c.ra("...")],[c.la(",")],[c.ra(":")],[c.r("->")],[c.la("="),c.la(">"),c.la("<"),c.la(">="),c.la("<="),c.la("~")],[c.l("->")],[c.l("for")],[c.la("+"),c.la("-")],[c.la("*"),c.la("/"),c.la("Decimal"),c.la("MixedNumber"),c.la("Letter"),c.la("Cmd"),c.la("TokenNode"),c.la("%"),c.r("("),c.la("\\{"),c.la("(|"),c.la("Frac"),c.la("Sqrt"),c.la("Trig"),c.la("Ln"),c.la("Log"),c.ra("Int"),c.ra("Sum"),c.ra("Prod")],[c.initial("+"),c.initial("-")],[c.la("!")],[c.la("SupSub")],[c.l("["),c.la(".")],[c.l("(")],[c.la("Err")]],d=(u=c.precSpec(u)).leftPrec,p=u.rightPrec,h=u.initialPrec,f={trailingComma:!1};function g(e,t){return t=(void 0===t?{isToplevel:!1}:t).isToplevel,s.isDone(e)?i.Err(s.spanStates(e,e),i.EmptyGroup()):(t=(e=y(e,0,{isToplevel:t})).state,"Err"===(e=e.tree).type||s.isDone(t)?e:I(t).tree)}function m(e,t){return{state:e,tree:t}}function y(e,t,r){var a,c,u,f,M=(void 0===r?{isToplevel:!1}:r).isToplevel;r=function(e){var t,r,a,c,l,u,p=e,f=s.peek(e),x=h(f.type);switch(f.type){case"+":if(e=(M=y(e=s.advance(e),x)).state,"Err"!==(B=M.tree).type)return m(e,o.Pos(s.spanStates(p,e),[B]));if(!v(B.error))return m(e,B);var M=s.spanStates(p,e);return m(e,i.Err(M,i.UnaryOperatorMissingRight(f.val)));case"-":return e=(t=y(e=s.advance(e),x)).state,"Err"===(B=t.tree).type?v(B.error)?(M=s.spanStates(p,e),m(e,i.Err(M,i.UnaryOperatorMissingRight(f.val)))):m(e,B):m(e,o.Neg(s.spanStates(p,e),[B]));case"(":return S(e);case"\\{":return e=s.advance(e),s.isAt(e,"\\}")?m(e=s.advance(e),o.EmptyPiecewise(s.spanStates(p,e))):(e=(t=_(p,e=(t=y(e,x)).state,B=t.tree,"\\{","\\}")).state,"Err"===(B=t.tree).type?m(e,B):m(e,o.Piecewise(s.spanStates(p,e),[B])));case"[":return e=s.advance(e),s.isAt(e,"]")?m(e=s.advance(e),o.List(s.spanStates(p,e),[])):(e=(L=_(p,e=(L=y(e,x)).state,B=L.tree,"[","]")).state,"Err"===(B=L.tree).type?m(e,B):m(e,o.List(s.spanStates(p,e),[B])));case"(|":return e=s.advance(e),s.isAt(e,"|)")?(e=s.advance(e),M=s.spanStates(p,e),m(e,i.Err(M,i.EmptyPipe()))):(e=(r=_(p,e=(C=y(e,x)).state,B=C.tree,"(|","|)")).state,"Err"===(B=r.tree).type?m(e,B):m(e,o.Pipes(s.spanStates(p,e),[B])));case"Frac":if(e.opts.disallowFrac)throw n.fractionsUnavailable();e=s.advance(e);var L=g(s.lex(f.num,e.opts)),T=g(s.lex(f.den,e.opts));if("Err"===L.type&&"EmptyGroup"===L.error.type&&"Err"===T.type&&"EmptyGroup"===T.error.type)return M=s.spanStates(p,e),m(e,i.Err(M,i.FractionEmpty()));if("Err"===L.type&&"EmptyGroup"===L.error.type)return M=s.spanStates(p,e),m(e,i.Err(M,i.FractionMissingNumerator()));if("Err"===T.type&&"EmptyGroup"===T.error.type)return M=s.spanStates(p,e),m(e,i.Err(M,i.FractionMissingDenominator()));if("Err"===L.type)return m(e,L);if("Err"===T.type)return m(e,T);if(o.isDerivative(L,T)&&"Juxt"===T.type){var C,A=T.args[1];return e=(r=y(e,d("*")-1)).state,"Err"===(C=r.tree).type?v(C.error)?(M=s.spanStates(p,e),m(e,i.Err(M,i.DerivativeMissingBody()))):m(e,C):m(e,o.Derivative(s.spanStates(p,e),[A,C]))}return m(e,o.Frac(s.spanStates(p,e),[L,T]));case"Sqrt":return e=s.advance(e),f.optArg?"Err"===(T=g(s.lex(f.optArg,e.opts))).type?"EmptyGroup"===T.error.type?m(e,i.Err(T.span,i.EmptyRadicalIndex())):m(e,T):"Err"===(c=g(s.lex(f.arg,e.opts))).type?"EmptyGroup"===c.error.type?m(e,i.Err(c.span,i.EmptyRadical())):m(e,c):m(e,o.Nthroot(s.spanStates(p,e),[T,c])):"Err"===(c=g(s.lex(f.arg,e.opts))).type?"EmptyGroup"===c.error.type?m(e,i.Err(c.span,i.EmptyRadical())):m(e,c):m(e,o.Sqrt(s.spanStates(p,e),[c]));case"Trig":case"Ln":e=s.advance(e);var O=o.Cmd(s.spanStates(p,e),f.val),P=0;if("SupSub"===(u=s.peek(e)).type){if(e=s.advance(e),u.sub)return M=s.spanStates(p,e),m(e,i.Err(M,i.UnexpectedSubscript(O.val)));if(q=w(u,e.opts)){if("Err"===q.type)return m(e,q);O=o.Superscript(s.spanStates(p,e),[O,q])}P=u.nprimes}if(D=s.isAt(e,"(")){if(e=(c=S(e)).state,"Err"===(B=c.tree).type)return m(e,B);B=o.Call(s.spanStates(p,e),[O,B.args[0]])}else{if(e=(F=y(e,x-1)).state,"Err"===(B=F.tree).type)return v(B.error)?m(e,i.Err(s.spanStates(p,e),i.FunctionMissingArgument(f.val))):m(e,B);B=o.ImplicitCall(s.spanStates(p,e),[O,B])}if(0<P){if(M=s.spanStates(p,e),!D)return m(e,i.Err(M,i.PrimeWithoutParen()));B=o.Prime(M,P,[B])}return m(e,B);case"Log":e=s.advance(e);var D,F=s.spanStates(p,e),N=(O=o.Cmd(F,f.val),void(P=0)),q=void 0;if("SupSub"===(u=s.peek(e)).type&&(N=b(u,(e=s.advance(e)).opts),q=w(u,e.opts),P=u.nprimes),N&&"Err"===N.type)return m(e,N);if(q&&"Err"===q.type)return m(e,q);if(D=s.isAt(e,"(")){if(e=(a=S(e)).state,"Err"===(B=a.tree).type)return m(e,B);B=B.args[0]}else if(e=(a=y(e,x-1)).state,"Err"===(B=a.tree).type)return v(B.error)?m(e,i.Err(s.spanStates(p,e),i.FunctionMissingArgument(f.val))):m(e,B);if(F=N?o.Cmd(F,"\\logbase"):O,O=N?o.Seq(s.spanStates(p,e),o.unwrapSeq(B).concat(N)):B,q&&(F=o.Superscript(s.spanStates(p,e),[F,q])),B=D?o.Call(s.spanStates(p,e),[F,O]):o.ImplicitCall(s.spanStates(p,e),[F,O]),0<P){if(M=s.spanStates(p,e),!D)return m(e,i.Err(M,i.PrimeWithoutParen()));B=o.Prime(M,P,[B])}return m(e,B);case"Int":if(e=s.advance(e),"Err"===(l=E(u=s.peek(e),p,e=s.advance(e))).type)return"MissingBound"===l.error.type?m(e,i.Err(l.span,i.IntegralMissingBound())):m(e,l);if(q=l.sup,N=l.sub,A=void 0,s.isAt(e,"Differential"))return e=(R=k(e)).state,"Err"===(A=R.tree).type?m(e,A):m(e,o.EmptyIntegral(s.spanStates(p,e),[A,N,q]));if(e=(P=y(e,x)).state,"Err"===(B=P.tree).type)return v(B.error)?m(e,i.Err(B.span,i.IntegralMissingBody())):m(e,B);var R=B;return s.isAt(e,"Differential")?(e=(P=k(e)).state,"Err"===(A=P.tree).type?m(e,A):m(e,o.Integral(s.spanStates(p,e),[A,N,q,R]))):m(e,i.Err(s.spanStates(p,e),i.IntegralMissingDifferential()));case"Sum":return e=s.advance(e),"Err"===(l=E(u=s.peek(e),p,e=s.advance(e))).type?"MissingBound"===l.error.type?m(e,i.Err(l.span,i.SumMissingBound())):m(e,l):(q=l.sup,N=l.sub,e=(R=y(e,x)).state,"Err"===(B=R.tree).type?v(B.error)?m(e,i.Err(B.span,i.SumMissingBody())):m(e,B):m(e,o.Sum(s.spanStates(p,e),[B,N,q])));case"Prod":return e=s.advance(e),"Err"===(l=E(u=s.peek(e),p,e=s.advance(e))).type?"MissingBound"===l.error.type?m(e,i.Err(l.span,i.ProductMissingBound())):m(e,l):(q=l.sup,N=l.sub,e=(l=y(e,x)).state,"Err"===(B=l.tree).type?v(B.error)?m(e,i.Err(B.span,i.ProductMissingBody())):m(e,B):m(e,o.Product(s.spanStates(p,e),[B,N,q])));case"Cmd":return m(e=s.advance(e),B=o.Cmd(s.spanStates(p,e),f.val));case"TokenNode":return e=s.advance(e),"SupSub"===(u=s.peek(e)).type&&u.sub?m(e=s.advance(e),i.Err(s.spanStates(p,e),i.TokenWithSubscript())):m(e,B=o.Cmd(s.spanStates(p,e),f.val));case"Letter":return m(e=s.advance(e),B=o.Letter(s.spanStates(p,e),f.val));case"Decimal":e=s.advance(e);var B=o.Decimal(s.spanStates(p,e),f.val);if("Decimal"!==(u=e.token).type&&"MixedNumber"!==u.type)return m(e,B);var j=e;e=s.advance(e),M=s.spanStates(p,e);var V="MixedNumber"===u.type?u:o.Decimal(s.spanStates(j,e),u.val);return m(e,i.Err(M,i.AdjacentNumbers([B,V])));case"MixedNumber":if(e.opts.disallowFrac)throw n.fractionsUnavailable();return"Decimal"===(u=(e=s.advance(e)).token).type||"MixedNumber"===u.type?(j=e,e=s.advance(e),M=s.spanStates(p,e),V="MixedNumber"===u.type?u:o.Decimal(s.spanStates(j,e),u.val),m(e,i.Err(M,i.AdjacentNumbers([f,V])))):m(e,f);case"*":case"/":case",":case"=":case">":case"<":case">=":case"<=":case"->":case"~":case":":case"...":case"%":case".":return e=s.advance(e),M=s.spanStates(p,e),m(e,i.Err(M,i.BinaryOperatorMissingLeft(f.val)));case"for":return e=s.advance(e),M=s.spanStates(p,e),m(e,i.Err(M,i.UnexpectedFor()));case"!":return e=s.advance(e),M=s.spanStates(p,e),m(e,i.Err(M,i.UnaryOperatorMissingLeft(f.val)));case"SupSub":return e=s.advance(e),V="supsub",f.sub?V="subscript":f.sup?V="superscript":0<f.nprimes&&(V="prime"),M=s.spanStates(p,e),m(e,i.Err(M,i.UnaryOperatorMissingLeft(V)));case")":case"\\}":case"]":case"|)":case"Differential":return I(e);case"Err":return e=s.advance(e),M=s.spanStates(p,e),m(e,i.Err(M,i.UnrecognizedSymbol(f.val)));case"End":return M=s.spanStates(p,e),m(e,i.Err(M,i.UnexpectedEnd()));default:throw"Unexpected token type "+f.type+"."}}(T=e);if(T=r.state,"Err"===(a=r.tree).type)return m(T,a);if(!s.didAdvance(e,T))throw new Error("Programming Error: parseInitial did not advance state.");for(;!(s.isDone(T)||t>=(!s.isAt(T,"(")||(f=a,o.isIdentifier(f)||"Prime"===f.type&&o.isIdentifier(f.args[0]))?d(s.peek(T).type):p("(")));){var L=T,T=(u=function(e,t,r){var n,a,c,l,u,p=s.peek(e);switch(p.type){case"+":case"-":case"*":case"/":case"=":case"~":case":":case".":case"->":case"for":if(e=(f=y(e=s.advance(e),r)).state,"Err"!==(u=f.tree).type)return m(e,function(e,t,r){switch(e){case"+":return o.Add(t,r);case"-":return o.Sub(t,r);case"*":return o.Mul(t,r);case"/":return o.Div(t,r);case"=":return o.Equals(t,r);case"~":return o.Tilde(t,r);case":":return o.Colon(t,r);case".":return o.Dot(t,r);case"->":return o.RightArrow(t,r);case"for":return o.For(t,r);default:throw"Unexpected token type "+e+"."}}(p.type,s.joinState(t.span,e),[t,u]));if(v(u.error)){var h=s.joinState(t.span,e);return m(e,i.Err(h,i.BinaryOperatorMissingRight(p.val)))}return m(e,u);case"%":e=s.advance(e);var f=s.peek(e);return"Cmd"!==f.type||"of"!==f.val&&"\\of"!==f.val?m(e,i.Err(p.span,i.PercentMissingOf())):(e=(b=y(e=s.advance(e),r)).state,"Err"===(u=b.tree).type?v(u.error)?(h=s.joinState(t.span,e),m(e,i.Err(h,i.BinaryOperatorMissingRight(p.val)))):m(e,u):m(e,o.PercentOf(s.joinState(t.span,e),[t,u])));case">=":case"<=":case">":case"<":var g=p.type;if(e=(b=y(e=s.advance(e),r)).state,"Err"===(u=b.tree).type)return v(u.error)?(h=s.joinState(t.span,e),m(e,i.Err(h,i.BinaryOperatorMissingRight(p.val)))):m(e,u);for(var b=o.Inequality(s.joinState(t.span,e),g,[t,u]),E=[],k=s.peek(e).type;">="===k||"<="===k||">"===k||"<"===k;){var M=e;if(g=k,e=(n=y(e=s.advance(e),r)).state,"Err"===(u=n.tree).type)return v(u.error)?(h=s.joinState(t.span,e),m(e,i.Err(h,i.BinaryOperatorMissingRight(p.val)))):m(e,u);E.push(o.TrailingInequalityPiece(s.spanStates(M,e),g,[u])),k=s.peek(e).type}return E.length?m(e,o.InequalityChain(s.joinState(t.span,e),b,E)):m(e,b);case"!":return m(e=s.advance(e),o.Bang(s.joinState(t.span,e),[t]));case"[":return M=e,e=s.advance(e),s.isAt(e,"]")?(e=s.advance(e),h=s.spanStates(M,e),m(e,i.Err(h,i.EmptySquareBracket()))):(e=(a=_(M,e=(a=y(e,r)).state,u=a.tree,"[","]")).state,"Err"===(u=a.tree).type?m(e,u):m(e,o.Index(s.joinState(t.span,e),[t,u])));case"Sqrt":case"Frac":case"Letter":case"Cmd":case"TokenNode":case"Trig":case"Ln":case"Log":case"Sum":case"Int":case"Prod":case"Decimal":case"MixedNumber":case"\\{":case"(|":return e=(a=y(e,r)).state,"Err"===(u=a.tree).type?m(e,u):m(e,o.Juxt(s.joinState(t.span,e),[t,u]));case"(":return o.isIdentifier(t)?(e=(c=S(e)).state,"Err"===(u=c.tree).type?m(e,u):(h=s.joinState(t.span,e),m(e,o.Call(h,[t,u.args[0]])))):"Prime"===t.type&&o.isIdentifier(t.args[0])?(e=(c=S(e)).state,"Err"===(u=c.tree).type?m(e,u):(h=s.joinState(t.span,e),m(e,o.Prime(h,t.nprimes,[o.Call(h,[t.args[0],u.args[0]])])))):(e=(L=y(e,r)).state,"Err"===(u=L.tree).type?m(e,u):m(e,o.Juxt(s.joinState(t.span,e),[t,u])));case"SupSub":e=s.advance(e);var L=x(p),T=w(p,e.opts);if(L&&"Err"===L.type)return m(e,L);if(T&&"Err"===T.type)return m(e,T);if(L&&(t=o.Subscript(s.joinState(t.span,e),[t,L])),T&&(t=o.Superscript(s.joinState(t.span,e),[t,T])),0<p.nprimes){if(h=s.joinState(t.span,e),!o.isIdentifier(t))return m(e,i.Err(h,i.UnexpectedPrime()));t=o.Prime(h,p.nprimes,[t])}return m(e,t);case",":for(var C=[t];s.isAt(e,",")&&(e=s.advance(e),!s.isAt(e,"..."))&&(!e.opts.trailingComma||!function(e){return s.isAt(e,")")||s.isAt(e,"]")||s.isAt(e,"\\}")}(e));){if(e=(l=y(e,r)).state,"Err"===(u=l.tree).type)return v(u.error)?(h=s.joinState(t.span,e),m(e,i.Err(h,i.BinaryOperatorMissingRight(p.val)))):m(e,u);C.push(u)}return m(e,o.Seq(s.joinState(t.span,e),C));case"...":return e=s.advance(e),s.isAt(e,",")&&(e=s.advance(e)),r>=d(s.peek(e).type)?m(e,o.Ellipsis(s.joinState(t.span,e),[t,o.EmptyRangeEnd(s.emptySpanAtState(e))])):(e=(T=y(e,r)).state,"Err"===(u=T.tree).type?v(u.error)?(h=s.joinState(t.span,e),m(e,i.Err(h,i.BinaryOperatorMissingRight(p.val)))):m(e,u):m(e,o.Ellipsis(s.joinState(t.span,e),[t,u])));case"]":case")":case"\\}":case"|)":case"Differential":return I(e);case"Err":return y(e,r);case"End":return h=s.spanStates(e,e),m(e,i.Err(h,i.UnexpectedEnd()));default:throw"Unexpected token type "+p.type+"."}}(T,a,(c=T,u=a,f=M,s.isAt(c,"=")&&f&&(l.isFunctionSignature(u)||l.isLegalAssignmentLhs(u))?d(",")-1:p(s.peek(T).type)))).state;if("Err"===(a=u.tree).type)return m(T,a);if(!s.didAdvance(L,T))throw new Error("Programming Error: parseSuccessor did not advance state.")}return m(T,a)}function v(e){return"UnexpectedDifferential"===e.type||"UnexpectedCloseDelimiter"===e.type||"UnexpectedEnd"===e.type||"BinaryOperatorMissingLeft"===e.type}function b(e,t){if(e.sub)return e=e.sub,"Err"===(t=g(s.lex(e,t))).type&&"EmptyGroup"===t.error.type?i.Err(t.span,i.EmptySubscript()):t}function x(e){if(e.sub){if(0===(e=e.sub).args.length)return i.Err(e.span,i.EmptySubscript());for(var t=[],r=0,n=e.args;r<n.length;r++){var s=n[r];if("Digit"!==s.type&&"Letter"!==s.type){var c=s.span;return i.Err(c,i.InvalidSubscript(a.slice(c)))}t.push(s.val)}return o.Alphanumeric(e.span,t.join(""))}}function w(e,t){if(e.sup)return"Err"===(t=g(s.lex(e.sup,t))).type?"EmptyGroup"===t.error.type?i.Err(t.span,i.EmptySuperscript()):t:0<e.nprimes?i.Err(e.span,i.SuperscriptWithPrime()):t}function E(e,t,r){if("SupSub"!==e.type){var n=s.spanStates(t,r);return i.Err(n,i.MissingBound())}if(0<e.nprimes)return n=s.spanStates(t,r),i.Err(n,i.UnexpectedPrime());var o=b(e,r.opts);e=w(e,r.opts);return!o||"Err"===o.type&&"EmptySubscript"===o.error.type||!e||"Err"===e.type&&"EmptySuperscript"===e.error.type?(n=s.spanStates(t,r),i.Err(n,i.MissingBound())):"Err"===o.type?o:"Err"===e.type?e:{type:"Bounds",sup:e,sub:o}}function S(e){var t=e,r=s.peek(e),n=h(r.type);if(!s.isAt(e,"("))throw new Error("Programming Error: expected '(' at start of parseParen.");if(e=s.advance(e),s.isAt(e,")")){var i=o.Seq(s.emptySpanAtState(e),[]);return e=s.advance(e),r=s.spanStates(t,e),m(e,o.Paren(r,[i]))}return e=(i=_(t,e=(i=y(e,n)).state,i.tree,"(",")")).state,"Err"===(n=i.tree).type?m(e,n):m(e,o.Paren(s.spanStates(t,e),[n]))}function k(e){var t=e,r=s.peek(e);if("Differential"!==r.type)throw new Error("Programming Error: expected differential");e=s.advance(e);var n=o.Cmd(r.span,r.val),a=s.peek(e);if("SupSub"===a.type){if(e=s.advance(e),r=s.spanStates(t,e),t=x(a)){if("Err"===t.type)return m(e,t);n=o.Subscript(r,[n,t])}if(a.sup)return m(e,i.Err(r,i.DifferentialWithSuperscript()));if(0<a.nprimes)return m(e,i.Err(r,i.UnexpectedPrime()))}return m(e,n)}function _(e,t,r,n,o){return"Err"===r.type&&"UnexpectedEnd"!==r.error.type?m(t,r):"Err"!==r.type&&s.isAt(t,o)?m(t=s.advance(t),r):(e=s.spanStates(e,t),m(t,i.Err(e,i.MissingCloseDelimiter(n,o))))}function I(e){var t=e;switch(s.peek(e).type){case")":e=s.advance(e);var r=s.spanStates(t,e);return m(e,i.Err(r,i.UnexpectedCloseDelimiter("(",")")));case"]":return e=s.advance(e),r=s.spanStates(t,e),m(e,i.Err(r,i.UnexpectedCloseDelimiter("[","]")));case"\\}":return e=s.advance(e),r=s.spanStates(t,e),m(e,i.Err(r,i.UnexpectedCloseDelimiter("\\{","\\}")));case"|)":return e=s.advance(e),r=s.spanStates(t,e),m(e,i.Err(r,i.UnexpectedCloseDelimiter("|","|")));case"Differential":return e=s.advance(e),r=s.spanStates(t,e),m(e,i.Err(r,i.UnexpectedDifferential()));default:return e=s.advance(e),r=s.spanStates(t,e),m(e,i.Err(r,i.UnexpectedParseError()))}}t.parse=function(e,t){return t=t?r.__assign(r.__assign({},f),t):f,"Err"===(t=g(s.lex(e,t),{isToplevel:!0})).type&&"EmptyGroup"===t.error.type?i.Err(t.span,i.EmptyInput()):t}}),define("core/math/baseparser",["require","exports","parsenodes","core/math/errormsg","core/math/parser/latex-parser","core/math/parser/expression-parser","core/math/parser/lower"],function(e,t,r,n,o,i,a){"use strict";function s(){throw n.featureUnavailable()}function c(e,t){return e.setInputSpan(t),e}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=void 0,t.parse=function(e,t){void 0===t&&(t={});var l=typeof e;if("string"!=l)throw new Error("Type Error: parse can only be called with strings, got "+JSON.stringify(e)+" of type "+l);var u=r;if(t.disabledFeatures){u=Object.create(u);for(var d=0,p=t.disabledFeatures;d<p.length;d++){var h=p[d];if(!u[h])throw new Error("Programming Error: "+h+" cannot be disabled because it is not a parsenode.");u[h]=s}}var f=void 0===t.seedPrefix?"":t.seedPrefix,g=0,m={nodes:u,currentIndex:t.index,setInput:c,nextSeed:function(){var e=f+"::vc"+g;return g+=1,e},allowDt:!!t.allowDt,allowIndex:!!t.allowIndex},y={};void 0!==t.trailingComma&&(y.trailingComma=t.trailingComma),t.disallowFrac&&(y.disallowFrac=!0);try{var v=o.parse(e);v=i.parse(v,y);return a.lower(m,v)}catch(e){return e instanceof r.Error?e:"string"==typeof e?r.Error(e):n.parseError()}}}),define("core/math/sliders",["require","exports"],function(e,t){"use strict";function r(e,t){var r=Math.round(1e6*e)/1e6;return Math.abs(r-e)<t?r:e}function n(e){var t=e.target,n=e.hardMin,o=e.hardMax,i=e.step,a=1e-10;return void 0!==n&&void 0!==o&&(a=Math.min(a,Math.abs(o-n)/1e3)),i&&(a=Math.min(a,i/10)),void 0!==n&&(n=r(n,a)),void 0!==o&&(o=r(o,a)),e.forceSliderToMax&&void 0!==o&&(t=o),o<n?n:t<=n?n:o<=t?o:(i&&(e=void 0!==n?n:0,t=i*Math.round((t-e)/i)+e),a=r(t,a),!i&&n!==a&&o!==a||(t=a),t<=n?n:o<=t?o:t)}Object.defineProperty(t,"__esModule",{value:!0}),t.computeSoftMax=t.constrainSliderValueLikeEvaluator=t.determineWhichLimitsAreCompatibleWithValue=t.roundToReasonableDecimal=void 0,t.roundToReasonableDecimal=r,t.determineWhichLimitsAreCompatibleWithValue=function(e){var t=!0,r=!0,o=!0;return void 0!==e.hardMin&&e.target<e.hardMin&&(t=!1),void 0!==e.hardMax&&e.target>e.hardMax&&(r=!1),e.step&&n({target:e.target,step:e.step,hardMin:t?e.hardMin:void 0,hardMax:r?e.hardMax:void 0})!==e.target&&(o=!1),{min:t,max:r,step:o}},t.constrainSliderValueLikeEvaluator=n,t.computeSoftMax=function(e){var t=e.storedMax,r=e.sliderValue,o=e.hardMin,i=e.step;return(e=10)<t&&(e=t),e<r&&(e=r),e<o&&(e=o),i&&(e=e<=(o=n({target:e,hardMin:o,hardMax:void 0,step:i}))?o:o+i),e}}),define("core/math/features/getConcreteTree",["require","parsenodes","core/math/errormsg","core/math/types","core/math/maybe-rational","core/math/sliders"],function(e){"use strict";var t=e("parsenodes"),r=e("core/math/errormsg"),n=e("core/math/types"),o=e("core/math/maybe-rational"),i=(t.List,t.ParenSeq,t.Constant),a=t.Identifier,s=e("core/math/sliders");function c(e,t){return e.isError||-1!==t.indexOf(e.valueType)?e:r.parseError()}function l(e,t,r){if(t){var n=t.getDependencies();if(t.isError)r.errors[e]=!0;else if(0<n.length){r.errors[e]=!0;for(var o=0;o<n.length;o++)n[o]===r.exportedSymbol?r.errors.cycle=!0:r.missingVars.push(n[o])}else r.values[e]=+t.asValue();r.valids[e]=isFinite(r.values[e]),r.valids[e]||(r.values[e]=void 0)}else r.valids[e]=!0}function u(e){return e&&e.valueType===n.ListOfNumber&&1===e.length&&e.args?e.args[0]:e}function d(e,o){if(!o[this._symbol])throw r.functionUnsupported(this._symbol);var i=this.args.map(function(t){return t.getConcreteTree(e,o)});if(0<i.length){if(1===i.length&&i.push(t.Constant(1).getConcreteTree(e,o)),i[1].getDependencies().length)throw r.illegalBinWidth(this._symbol).setDependencies(i[1].getDependencies());if(i[1].valueType!==n.Number)throw r.illegalBinWidth(this._symbol);var a=i[1].asValue();if(!isFinite(a)||a<=0)throw r.illegalBinWidth(this._symbol)}return this.typeCheck(e,i),new this.constructor(i)}function p(e,t){if(!t[this._symbol])throw r.functionUnsupported(this._symbol);var n=this.args.map(function(r){return r.getConcreteTree(e,t)});return this.typeCheck(e,n),new this.constructor(n)}t.Base.prototype.tryGetConcreteTree=function(){var e;try{e=this.getConcreteTree.apply(this,arguments)}catch(n){e=n instanceof t.Base?n:r.parseError()}return e},t.Base.prototype.getConcreteTree=function(e,t){if((t=this.buildIRExpression(e,t)).isError)throw t;return t},t.DoubleInequality.prototype.getConcreteTree=function(e,r){return new this.constructor([t.Piecewise([this._indicator,this._expressions[0],i(NaN)]).getConcreteTree(e,r),this._operators[0],a(this._symbol),this._operators[1],t.Piecewise([this._indicator,this._expressions[1],i(NaN)]).getConcreteTree(e,r)])},t.Error.prototype.getConcreteTree=function(e,t){return this},t.Image.prototype.getConcreteTree=function(e,r){var o=this.center.tryGetConcreteTree(e,r),i=this.radianAngle.tryGetConcreteTree(e,r),a=this.width.tryGetConcreteTree(e,r),s=this.height.tryGetConcreteTree(e,r),l=this.opacity.tryGetConcreteTree(e,r);e=[n.Point,n.ListOfPoint,n.EmptyList],r=[n.Number,n.ListOfNumber,n.EmptyList],o=c(o,e),i=c(i,r),a=c(a,r),s=c(s,r),l=c(l,r);return t.Image({center:o,radianAngle:i,width:a,height:s,opacity:l},this.moveStrategy)},t.Ticker.prototype.getConcreteTree=function(e,o){var i=this.handler.tryGetConcreteTree(e,o);i.isError||i.valueType===n.Action||(i=r.eventHandlerTypeError(n.prettyPrint(i.valueType)));var a=i.getDependencies().filter(function(t){return!e.validActionVariable(t)});return a.length&&(i=r.tooManyVariables(e.sliderVariables(a)).setDependencies(a)),t.Ticker({handler:i,minStep:this.minStep.tryGetConcreteTree(e,o)})},t.Slider.prototype.getConcreteTree=function(e,t){var n,a,c,d=this._expression.getConcreteTree(e,t),p=u(this.sliderMin&&this.sliderMin.tryGetConcreteTree(e,t)),h=u(this.sliderMax&&this.sliderMax.tryGetConcreteTree(e,t)),f=u(this.sliderStep&&this.sliderStep.tryGetConcreteTree(e,t)),g={exportedSymbol:this._symbol,errors:{},values:{},valids:{},missingVars:[],errMsg:void 0};return l("min",p,g),l("max",h,g),l("step",f,g),f&&g.valids.step&&(0===g.values.step?delete g.values.step:g.values.step=Math.abs(g.values.step)),g.errors.cycle?d=r.sliderLimitReferencesExport(g.exportedSymbol):(g.errors.min||!g.valids.min?g.errMsg=r.sliderMinInvalid():g.errors.max||!g.valids.max?g.errMsg=r.sliderMaxInvalid():!g.errors.step&&g.valids.step||(g.errMsg=r.sliderStepInvalid()),g.values.min>g.values.max&&(g.valids.min=!1,g.valids.max=!1,g.errMsg||(g.errMsg=r.sliderMaxLessThanMin()))),d.isConstant&&(c=t.initialEvaluation&&t.initialEvaluation.asValue()&&this.sliderIsPlayingOnce,n=g.values.max,a=+d.asValue(),p=g.values.min,h=g.values.step,!c||isFinite(n)||(f=u(this.sliderSoftMax&&this.sliderSoftMax.tryGetConcreteTree(e,t)))&&(n=s.computeSoftMax({storedMax:+f.asValue(),sliderValue:a,step:h,hardMin:p})),h=s.constrainSliderValueLikeEvaluator({target:a,hardMin:p,hardMax:n,step:h,forceSliderToMax:c}),c=o.fromDecimalString(h.toString()),h=isFinite(o.asFloat(c))?c:h,d=i(h).getConcreteTree(e,t)),d.sliderInfo=g,d},t.Histogram.prototype.getConcreteTree=d,t.DotPlot.prototype.getConcreteTree=d,t.BoxPlot.prototype.getConcreteTree=function(e,t){if(!t[this._symbol])throw r.functionUnsupported(this._symbol);var o=this.args.map(function(r){return r.getConcreteTree(e,t)});return this.typeCheck(e,o),1!==o.length||o[0].valueType!==n.ListOfNumber&&o[0].valueType!==n.EmptyList?r.parseError():new this.constructor(o)},t.TTest.prototype.getConcreteTree=p,t.IndependentTTest.prototype.getConcreteTree=p,t.Stats.prototype.getConcreteTree=p,t.Table.prototype.getConcreteTree=function(e,t){for(var r=[],n=Object.create(t),o=0;o<this.columns.length;o++){var i=this.columns[o].getConcreteTree(e,n);i.isIndependent&&this.columns[o].exportToLocal(i,n),r.push(i)}return new this.constructor(r)},t.TableColumn.prototype.getConcreteTree=function(e,o,i){var a,s,c=this.header.getConcreteTree(e,o);if(this.header instanceof t.Identifier&&!o[this.header._symbol]){a=[];for(var l,u=0;u<this.values.length;u++)this.values[u].tableError()?a.push(r.invalidTableEntry(this.values[u].tableError())):(l=this.values[u].tryGetConcreteTree(e,o)).isError?a.push(l):l.tableError()?a.push(r.invalidTableEntry(l.tableError())):l.valueType===n.Number?a.push(l):a.push(r.tableEntryTypeError([n.prettyPrint(l.valueType)]));return(s=new this.constructor(c,this.length,a)).isIndependent=!0,s}if(c.isConstant){for(var d=[],p=0;p<this.length;p++)d.push(c);a=d}else a=c.isList?c.mapElements(function(e){return e}):[];return c.isError||c.valueType===n.Number||c.valueType===n.ListOfNumber||c.valueType===n.EmptyList||(c=r.tableHeaderTypeError([n.prettyPrint(c.valueType)])),s=new this.constructor(c,this.length,a),void 0!==i&&((i=this.header.tryGetConcreteTree(e,i)).isError||i.valueType!==n.Number||(s.continuousConcreteTree=i)),s}}),define("core/math/builtinconstants",["require","core/math/parsenode/constant","core/math/maybe-rational"],function(e){"use strict";var t=e("core/math/parsenode/constant");e=e("core/math/maybe-rational").maybeRational;return{pi:t(Math.PI),tau:t(2*Math.PI),e:t(Math.E),trigAngleMultiplier:t(e(1,1)),infty:t(1/0)}}),define("core/math/builtinframe",["require","core/math/builtinconstants","core/math/ir/builtin-table"],function(e){"use strict";var t,r=e("core/math/builtinconstants"),n=e("core/math/ir/builtin-table"),o={};for(t in r)r.hasOwnProperty(t)&&(o[t]=r[t]);for(t in n.BuiltInTable)n.BuiltInTable.hasOwnProperty(t)&&(o[t]={isFunction:!0});for(t in n.CompilerFunctionTable)n.CompilerFunctionTable.hasOwnProperty(t)&&(o[t]={isFunction:!0});return o}),define("core/math/ir/scope",["require","exports"],function(e,t){"use strict";function r(e,t){return{symbolMap:e,maxIndex:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.childScope=t.setSymbol=t.getSymbol=t.Scope=void 0,t.Scope=r,t.getSymbol=function(e,t){return e.symbolMap[t]},t.setSymbol=function(e,t,r){e.symbolMap[t]=r,e.maxIndex=Math.max(e.maxIndex,r)},t.childScope=function(e){return r(Object.create(e.symbolMap),e.maxIndex)}}),define("core/vendor/d3-color",["require"],function(e){function t(e,t,r){(e.prototype=t.prototype=r).constructor=e}function r(e,t){var r,n=Object.create(e.prototype);for(r in t)n[r]=t[r];return n}function n(){}var o="\\s*([+-]?\\d+)\\s*",i="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",a="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s=/^#([0-9a-f]{3,8})$/,c=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),l=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),u=new RegExp("^rgba\\("+[o,o,o,i]+"\\)$"),d=new RegExp("^rgba\\("+[a,a,a,i]+"\\)$"),p=new RegExp("^hsl\\("+[i,a,a]+"\\)$"),h=new RegExp("^hsla\\("+[i,a,a,i]+"\\)$"),f={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function g(){return this.rgb().formatHex()}function m(){return this.rgb().formatRgb()}function y(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=s.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?v(t):3===r?new E(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?b(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?b(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=c.exec(e))?new E(t[1],t[2],t[3],1):(t=l.exec(e))?new E(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=u.exec(e))?b(t[1],t[2],t[3],t[4]):(t=d.exec(e))?b(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=p.exec(e))?I(t[1],t[2]/100,t[3]/100,1):(t=h.exec(e))?I(t[1],t[2]/100,t[3]/100,t[4]):f.hasOwnProperty(e)?v(f[e]):"transparent"===e?new E(NaN,NaN,NaN,0):null}function v(e){return new E(e>>16&255,e>>8&255,255&e,1)}function b(e,t,r,n){return n<=0&&(e=t=r=NaN),new E(e,t,r,n)}function x(e){return e instanceof n||(e=y(e)),e?new E((e=e.rgb()).r,e.g,e.b,e.opacity):new E}function w(e,t,r,n){return 1===arguments.length?x(e):new E(e,t,r,null==n?1:n)}function E(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function S(){return"#"+_(this.r)+_(this.g)+_(this.b)}function k(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function _(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function I(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||1<=r?e=t=NaN:t<=0&&(e=NaN),new T(e,t,r,n)}function M(e){if(e instanceof T)return new T(e.h,e.s,e.l,e.opacity);if(e instanceof n||(e=y(e)),!e)return new T;if(e instanceof T)return e;var t=(e=e.rgb()).r/255,r=e.g/255,o=e.b/255,i=Math.min(t,r,o),a=Math.max(t,r,o),s=NaN,c=a-i,l=(a+i)/2;return c?(s=t===a?(r-o)/c+6*(r<o):r===a?(o-t)/c+2:(t-r)/c+4,c/=l<.5?a+i:2-a-i,s*=60):c=0<l&&l<1?0:s,new T(s,c,l,e.opacity)}function L(e,t,r,n){return 1===arguments.length?M(e):new T(e,t,r,null==n?1:n)}function T(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function C(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}return t(n,y,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:g,formatHex:g,formatHsl:function(){return M(this).formatHsl()},formatRgb:m,toString:m}),t(E,w,r(n,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new E(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new E(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:S,formatHex:S,formatRgb:k,toString:k})),t(T,L,r(n,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new T(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new T(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e,t=this.h%360+360*(this.h<0),r=isNaN(t)||isNaN(this.s)?0:this.s;return new E(C(240<=t?t-240:120+t,e=2*(e=this.l)-(r=e+(e<.5?e:1-e)*r),r),C(t,e,r),C(t<120?240+t:t-120,e,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}})),{Color:n,darker:.7,brighter:1/.7,color:y,rgbConvert:x,rgb:w,Rgb:E,hslConvert:M,hsl:L}}),define("core/math/mathshim",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sign=t.sqrtxsqm1=t.sqrtxsqp1=t.log1p=t.expm1=t.atanh=t.asinh=t.acosh=t.tanh=t.sinh=t.cosh=void 0;var r=Math;t.cosh=r.cosh||function(e){return.5*(Math.exp(e)+Math.exp(-e))},t.sinh=r.sinh&&0!==r.sinh(1e-20)?r.sinh:function(e){var r=0<e?1:-1;return e=0<e?e:-e,.5*-r*Math.exp(e)*t.expm1(-2*e)},t.tanh=r.tanh&&0!==r.tanh(1e-20)?r.tanh:function(e){var r=0<e?1:-1;return e=0<e?e:-e,-r*(e=t.expm1(-2*e))/(2+e)},t.acosh=r.acosh||function(e){return e<1?NaN:Math.log(e+t.sqrtxsqm1(e))},t.asinh=r.asinh&&0!==r.asinh(1e-20)?r.asinh:function(e){var r=0<e?1:-1;return 1+(e=0<e?e:-e)*e==1?r*t.log1p(e):r*Math.log(e+t.sqrtxsqp1(e))},t.atanh=r.atanh&&0!==r.atanh(1e-20)?r.atanh:function(e){return.5*(t.log1p(e)-t.log1p(-e))},t.expm1=r.expm1||function(e){return e+.5*e*e===e?e:Math.exp(e)-1},t.log1p=r.log1p||function(e){return e-.5*e*e===e?e:Math.log(1+e)},t.sqrtxsqp1=function(e){var t=e*e;return 1+t==1?1:1+t==t?Math.abs(e):Math.sqrt(1+t)},t.sqrtxsqm1=function(e){var t=e*e;return t<1?NaN:t-1==t?Math.abs(e):Math.sqrt(t-1)},t.sign=r.sign||function(e){return 0===e?0:0<e?1:e<0?-1:NaN}}),define("core/math/poi",["require","exports","core/math/distance"],function(e,t,r){"use strict";function n(e,t){t<e&&(a=e,e=t,t=a);var n=0<e,o=0<t,i=.01<Math.abs(e),a=.01<Math.abs(t);return i||a?r.mean(e,t):0===e?t*Math.abs(t):0===t?e*Math.abs(e):n!=o?0:e<=(n=n?Math.sqrt(e*t):-Math.sqrt(e*t))&&n<=t?n:r.mean(e,t)}function o(e,t,r,o,s,c,l){var u,d;if(isFinite(o))return isFinite(t)||(u=i(e,t,r,o,l))&&(e=u[0],t=u[1]),isFinite(c)||(u=i(r,o,s,c,l))&&(s=u[0],c=u[1]),t=t===o?[e,t]:a(e,t,r,o,l,o),o=c===o?[s,c]:a(r,o,s,c,l,o),t&&o&&(d=n(t[0],o[0])),void 0!==d?[d,l(d)]:void 0}function i(e,t,r,o,i){if(isFinite(t)!==isFinite(o))for(;;){var a=n(e,r),s=i(a);if(a===e||a===r)return isFinite(t)?[e,t]:[r,o];isFinite(s)!==isFinite(t)?(r=a,o=s):(e=a,t=s)}}function a(e,t,r,o,i,a){if(t===a!=(o===a))for(;;){var s=n(e,r),c=i(s);if(s===e||s===r)return t===a?[e,t]:[r,o];c===a!=(t===a)?(r=s,o=c):(e=s,t=c)}}function s(e,t){var r=e[0],n=e[1];return((e=t[0])-r)*(e-r)+((t=t[1])-n)*(t-n)}function c(e,t,r,o,i,a){var c,l=a(e),u=a(t),d=a(r),p=s(l,o),h=s(u,o),f=s(d,o);if(!(t<=e||r<=t)&&isFinite(p)&&isFinite(h)&&isFinite(f)&&!(p<=h||f<=h))for(;;){if(Math.abs(d[0]-l[0])<i&&Math.abs(d[1]-l[1])<i)return[e,r];var g=n(e,t),m=a(g),y=s(m,o),v=n(t,r),b=a(v),x=s(b,o);if(!isFinite(y)||!isFinite(x))return;if(g===e||g===t||v===t||v===r)return y<h&&y<x?[g,g]:x<y&&x<h?[v,v]:[t,t];if(!(y!==h&&x!==h||y!==(h=s(u=a(t=.5*(g+t)),o))&&x!==h))return[e,r];y<h&&y<x?(r=(c=[t,g])[0],t=c[1],d=(c=[u,m])[0],u=c[1],f=(c=[h,y])[0],h=c[1]):x<y&&x<h?(e=(c=[t,v])[0],t=c[1],l=(c=[u,b])[0],u=c[1],p=(c=[h,x])[0],h=c[1]):(e=(v=[g,v])[0],r=v[1],l=(b=[m,b])[0],d=b[1],p=(x=[y,x])[0],f=x[1])}}function l(e,t,r){return void 0===t&&(t=-1/0),void 0===r&&(r=1/0),Math.min(r,Math.max(t,e))}function u(e,t,r,n,o,i){var a,u=void 0!==n&&void 0!==o?r+.01*(r<.5*(n+o)?o-n:n-o):1<Math.abs(r)?1.00001*r:r+1e-5,d=e(r),p=e(u),h=s(d,t),f=s(p,t);if(isFinite(h)&&isFinite(f)){if(h===f)return[r,u];for(h<f&&(r=(a=[u,r])[0],u=a[1],a=[p,d],h=(p=[f,h])[0],f=p[1]);isFinite(r)&&isFinite(u)&&r!==u;){if(void 0!==o&&o<u)return[o,o];if(void 0!==n&&u<n)return[n,n];var g=r+3*(u-r),m=s(e(g),t);if(!isFinite(m))return[r,u];if(m===f)return[r,u];if(f<m){var y=r<u?c(r,u,g,t,i,e):c(g,u,r,t,i,e);return y&&[l(y[0],n,o),l(y[1],n,o)]}r=(m=[u,f,g,m])[0],h=m[1],u=m[2],f=m[3]}return[r,u]}}function d(e,t,r,n){return!r||n&&Math.min(s(e(n[0]),t),s(e(n[1]),t))<Math.min(s(e(r[0]),t),s(e(r[1]),t))}function p(e,t,r,n,o,i,a,s){var c=Math.abs(n-t),l=Math.abs(i-n),u=Math.abs(s-i);return l<c&&u<c?[[e,t],[r,n]]:l<u&&c<u?[[o,i],[a,s]]:[[r,n],[o,i]]}Object.defineProperty(t,"__esModule",{value:!0}),t.bisectJump=t.findLocalClosestPointOnParametric=t.clamp=t.bisectClosestPointOnParametric=t.bisectExtremum=t.bisectFinite=t.flatCenter=t.bisectZero=t.floatMiddle=void 0,t.floatMiddle=n,t.bisectZero=function(e,t,r,i,a){if(!isNaN(t)&&!isNaN(i)&&t<0!=i<0)for(;;){var s=n(e,r),c=a(s);if(!isFinite(c))return;if(s===e||s===r)return Math.abs(t)<=Math.abs(i)?[e,t]:[r,i];if(0===c)return o(e,t,s,c,r,i,a);t<0!=c<0?(r=s,i=c):(e=s,t=c)}},t.flatCenter=o,t.bisectFinite=i,t.bisectExtremum=function(e,t,r,i,a,s,c){if(e<r&&r<a&&isFinite(t)&&isFinite(i)&&isFinite(s)&&t!==i&&i!==s&&t<i==s<i)for(;;){var l=n(e,r),u=c(l),d=n(r,a),p=c(d);if(!isFinite(u)||!isFinite(p))return;if(l===e||l===r||d===r||d===a)return i<u==t<i?[l,u]:i<p==t<i?[d,p]:[r,i];if(u===i||p===i)return o(e,t,r,i,a,s,c);t<u==t<i&&t<u==i<u?(a=r,s=i,r=l,i=u):s<p==s<i&&i<p==s<p?(e=r,t=i,r=d,i=p):(e=l,t=u,a=d,s=p)}},t.bisectClosestPointOnParametric=c,t.clamp=l,t.findLocalClosestPointOnParametric=function(e,t,r,n,o,i){var a=u(e,t,r,n,o,i);return void 0===n||d(e,t,a,r=u(e,t,n,n,o,i))&&(a=r),void 0===o||d(e,t,a,i=u(e,t,o,n,o,i))&&(a=i),a},t.bisectJump=function(e,t,o,a,s,c,l,u){if(u=u||0,!((o-e)*(s-o)<=0)&&isFinite(e)&&isFinite(o)&&isFinite(s)&&isFinite(t)&&isFinite(c)){if(!isFinite(a)){var d=i(e,t,o,a,l),h=i(o,a,s,c,l);return d&&h?[d,h]:void 0}if(!(Math.abs(a-((s-o)*t+(o-e)*c)/(s-e))<u))for(;;){var f=n(e,o),g=l(f),m=n(o,s),y=l(m),v=Math.abs(g-r.mean(t,a)),b=Math.abs(a-r.mean(g,y)),x=Math.abs(y-r.mean(a,c));if(v<=u&&b<=u&&x<=u)return;if(!isFinite(g))return d=i(e,t,f,g,l),h=i(f,g,s,c,l),d&&h?[d,h]:void 0;if(!isFinite(y))return d=i(e,t,m,y,l),h=i(m,y,s,c,l),d&&h?[d,h]:void 0;if(!(f!==e&&f!==o||m!==o&&m!==s))return Math.abs(a-t)>Math.abs(c-a)?[[e,t],[o,a]]:[[o,a],[s,c]];if(f===e||f===o)return p(e,t,o,a,m,y,s,c);if(m===o||m===s)return p(e,t,f,g,o,a,s,c);x<v&&b<=v?(s=o,c=a,o=f,a=g):v<x&&b<=x?(e=o,t=a,o=m,a=y):(e=f,t=g,s=m,c=y)}}}}),define("core/math/quadrature",["require","core/math/mathshim","core/math/poi"],function(e){"use strict";var t=e("core/math/mathshim"),r=(e=e("core/math/poi")).bisectJump,n=e.bisectFinite,o=(e=Math.pow(2,-13))*e,i=o*o,a=o,s=[],c=[];!function(e,r){for(var n=32;0<n;n--){var o=.09856311095410075*n,i=t.sinh(o),a=t.cosh(Math.PI/2*i);i=1/(Math.exp(Math.PI/2*i)*a),a=t.cosh(o)/(a*a);e.push(i),r.push(a)}}(s,c);for(var l=0,u=0;u<c.length;u++)l+=c[u];var d=1/(1+2*l);function p(e,t,r){return.5*(t*(2-r)+e*r)}function h(e,t,r,n,o){return{x1:e,x2:t,value:r,error:n,minerror:o}}function f(e,t,r){var n=Math.abs(e(p(t,r,o))),i=Math.abs(e(p(t,r,2*o)));r=Math.abs(e(p(t,r,4*o)));return!(n<o||i<o)&&1.95*i<n&&1.95*r<i}function g(e,t,r){var o=p(r,t,s[0]),i=p(t,r,s[0]),l=e(o),u=e(i),g=p(t,r,1),m=e(g);if(isFinite(m)&&!isFinite(l)){if(k=n(o,l,g,m,e),Math.abs((k[0]-t)/(r-t))>a)return h(t,r,NaN,NaN,NaN);t=k[0],l=k[1]}if(isFinite(m)&&!isFinite(u)){if(_=n(g,m,i,u,e),Math.abs((_[0]-r)/(r-t))>a)return h(t,r,NaN,NaN,NaN);r=_[0],u=_[1]}if(isFinite(l)&&isFinite(u)&&!isFinite(m)){if(k=n(o,l,g,m,e),_=n(g,m,i,u,e),Math.abs((_[0]-k[0])/(r-t))>a)return h(t,r,NaN,NaN,NaN);m=.5*(k[1]+_[1])}if(f(e,t,r)||f(e,r,t))return h(t,r,NaN,NaN,NaN);u=m;for(var y,v,b=0,x=0,w=0,E=0,S=0;S<32;S+=4)y=e(p(t,r,s[S])),v=e(p(r,t,s[S])),E=Math.max(E,Math.abs(y),Math.abs(v)),b+=c[S]*(y+v),y=e(p(t,r,s[S+1])),v=e(p(r,t,s[S+1])),E=Math.max(E,Math.abs(y),Math.abs(v)),w+=c[S+1]*(y+v),y=e(p(t,r,s[S+2])),v=e(p(r,t,s[S+2])),E=Math.max(E,Math.abs(y),Math.abs(v)),x+=c[S+2]*(y+v),y=e(p(t,r,s[S+3])),v=e(p(r,t,s[S+3])),E=Math.max(E,Math.abs(y),Math.abs(v)),w+=c[S+3]*(y+v);m=(_=(k=u+b)+x)+w,u=Math.abs(x-k);var k=Math.abs(w-_),_=d*(r-t)*m;m=d*Math.abs(r-t)*E*c[0],u=0===u?d*Math.abs(r-t)*k:d*Math.abs(r-t)*k*(k/u)*(k/u);return h(t,r,_,u=Math.max(u,m),m)}function m(e){for(var t=-1/0,r=-1/0,n=-1,o=0,i=0;i<e.length;i++){var a=e[i];o+=a.value,a.error>t&&(t=a.error,n=i),a.minerror>r&&(r=a.minerror)}return{maxerror:t,maxminerror:r,maxindex:n,totalvalue:o}}return{quad:function e(t,n,o,a){if(void 0===a&&(a=32),isNaN(n)||isNaN(o))return NaN;var s,c=1;if(o<n&&(s=n,n=o,o=s,c=-1),n===1/0&&o===1/0)return NaN;if(n===-1/0&&o===-1/0)return NaN;if(n===-1/0&&o===1/0)return c*e(function(e){return t(e/((1+e)*(1-e)))*(1+e*e)/((1+e)*(1+e)*(1-e)*(1-e))},-1,1,a);if(n===-1/0)return c*e(function(e){return-t(o-e/(1-e))/((1-e)*(1-e))},1,0,a);if(o===1/0)return c*e(function(e){return t(n+e/(1-e))/((1-e)*(1-e))},0,1,a);for(var l,u,d,h=[g(t,n,o)],f=m(h),y=1;y<a&&!(Math.abs(f.maxerror/f.totalvalue)<=32*i||f.maxerror<=32*i||f.maxerror<=32*f.maxminerror)&&isFinite(f.maxerror)&&isFinite(f.maxminerror);y++){var v=h[h.length-1];h[h.length-1]=h[f.maxindex],h[f.maxindex]=v;var b=h.pop();v=(l=t,v=void 0,v=.5*((u=p(b.x2,b.x1,.125))+(d=p(b.x1,b.x2,.125))),(l=r(u,l(u),v,l(v),d,l(d),l,0))?.5*(l[0][0]+l[1][0]):v);h.push(g(t,b.x1,v)),h.push(g(t,v,b.x2)),f=m(h)}return isFinite(f.maxerror)&&isFinite(f.maxminerror)?Math.abs(f.totalvalue)<=10*f.maxminerror?0:c*f.totalvalue:NaN}}}),define("core/lib/md5",["require","exports"],function(e,t){"use strict";function r(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function n(e,t,n,o,i,a){return r((a=r(r(t,e),r(o,a)))<<i|a>>>32-i,n)}function o(e,t,r,o,i,a,s){return n(t&r|~t&o,e,t,i,a,s)}function i(e,t,r,o,i,a,s){return n(t&o|r&~o,e,t,i,a,s)}function a(e,t,r,o,i,a,s){return n(t^r^o,e,t,i,a,s)}function s(e,t,r,o,i,a,s){return n(r^(t|~o),e,t,i,a,s)}function c(e,t){var n,c,l,u;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var d=1732584193,p=-271733879,h=-1732584194,f=271733878,g=0;g<e.length;g+=16)d=s(d=a(d=a(d=a(d=a(d=i(d=i(d=i(d=i(d=o(d=o(d=o(d=o(n=d,c=p,l=h,u=f,e[g],7,-680876936),p=o(p,h=o(h,f=o(f,d,p,h,e[g+1],12,-389564586),d,p,e[g+2],17,606105819),f,d,e[g+3],22,-1044525330),h,f,e[g+4],7,-176418897),p=o(p,h=o(h,f=o(f,d,p,h,e[g+5],12,1200080426),d,p,e[g+6],17,-1473231341),f,d,e[g+7],22,-45705983),h,f,e[g+8],7,1770035416),p=o(p,h=o(h,f=o(f,d,p,h,e[g+9],12,-1958414417),d,p,e[g+10],17,-42063),f,d,e[g+11],22,-1990404162),h,f,e[g+12],7,1804603682),p=o(p,h=o(h,f=o(f,d,p,h,e[g+13],12,-40341101),d,p,e[g+14],17,-1502002290),f,d,e[g+15],22,1236535329),h,f,e[g+1],5,-165796510),p=i(p,h=i(h,f=i(f,d,p,h,e[g+6],9,-1069501632),d,p,e[g+11],14,643717713),f,d,e[g],20,-373897302),h,f,e[g+5],5,-701558691),p=i(p,h=i(h,f=i(f,d,p,h,e[g+10],9,38016083),d,p,e[g+15],14,-660478335),f,d,e[g+4],20,-405537848),h,f,e[g+9],5,568446438),p=i(p,h=i(h,f=i(f,d,p,h,e[g+14],9,-1019803690),d,p,e[g+3],14,-187363961),f,d,e[g+8],20,1163531501),h,f,e[g+13],5,-1444681467),p=i(p,h=i(h,f=i(f,d,p,h,e[g+2],9,-51403784),d,p,e[g+7],14,1735328473),f,d,e[g+12],20,-1926607734),h,f,e[g+5],4,-378558),p=a(p,h=a(h,f=a(f,d,p,h,e[g+8],11,-2022574463),d,p,e[g+11],16,1839030562),f,d,e[g+14],23,-35309556),h,f,e[g+1],4,-1530992060),p=a(p,h=a(h,f=a(f,d,p,h,e[g+4],11,1272893353),d,p,e[g+7],16,-155497632),f,d,e[g+10],23,-1094730640),h,f,e[g+13],4,681279174),p=a(p,h=a(h,f=a(f,d,p,h,e[g],11,-358537222),d,p,e[g+3],16,-722521979),f,d,e[g+6],23,76029189),h,f,e[g+9],4,-640364487),p=a(p,h=a(h,f=a(f,d,p,h,e[g+12],11,-421815835),d,p,e[g+15],16,530742520),f,d,e[g+2],23,-995338651),h,f,e[g],6,-198630844),p=s(p=s(p=s(p=s(p,h=s(h,f=s(f,d,p,h,e[g+7],10,1126891415),d,p,e[g+14],15,-1416354905),f,d,e[g+5],21,-57434055),h=s(h,f=s(f,d=s(d,p,h,f,e[g+12],6,1700485571),p,h,e[g+3],10,-1894986606),d,p,e[g+10],15,-1051523),f,d,e[g+1],21,-2054922799),h=s(h,f=s(f,d=s(d,p,h,f,e[g+8],6,1873313359),p,h,e[g+15],10,-30611744),d,p,e[g+6],15,-1560198380),f,d,e[g+13],21,1309151649),h=s(h,f=s(f,d=s(d,p,h,f,e[g+4],6,-145523070),p,h,e[g+11],10,-1120210379),d,p,e[g+2],15,718787259),f,d,e[g+9],21,-343485551),d=r(d,n),p=r(p,c),h=r(h,l),f=r(f,u);return[d,p,h,f]}function l(e){for(var t="",r=32*e.length,n=0;n<r;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}function u(e){var t=[];for(t[(e.length>>2)-1]=void 0,n=0;n<t.length;n+=1)t[n]=0;for(var r=8*e.length,n=0;n<r;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}function d(e){for(var t,r="0123456789abcdef",n="",o=0;o<e.length;o+=1)t=e.charCodeAt(o),n+=r.charAt(t>>>4&15)+r.charAt(15&t);return n}function p(e){return unescape(encodeURIComponent(e))}function h(e){return l(c(u(e=p(e)),8*e.length))}function f(e,t){return function(e,t){var r,n=u(e),o=[],i=[];for(o[15]=i[15]=void 0,16<n.length&&(n=c(n,8*e.length)),r=0;r<16;r+=1)o[r]=909522486^n[r],i[r]=1549556828^n[r];return t=c(o.concat(u(t)),512+8*t.length),l(c(i.concat(t),640))}(p(e),p(t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return t?r?f(t,e):d(f(t,e)):r?h(e):d(h(e))}}),define("core/math/builtin",["require","exports","core/vendor/d3-color","core/math/quadrature","core/lib/md5","core/math/mathshim","core/math/mathshim","core/math/distance","core/math/distance","core/math/tofraction","core/math/poi","./maybe-rational","./builtin-common"],function(e,t,r,n,o,i,a,s,c,l,u,d,p){"use strict";function h(e,t,r){return Math.max(t,Math.min(r,e))}function f(e,r){e=Math.round(e),r=Math.round(r);var n=t.gcd(e,r);return Math.abs(e/n*r)}function g(e){return m(e+1)}function m(e){if(e<0)return Math.PI/(k(Math.PI*e)*m(1-e));if(170<e)return 1/0;var t,r=Math.round(e)===e;e=e<15?y(e):e<120?(t=e-1,Math.pow(t,t)*Math.exp(O(t)-t)*Math.sqrt(2*Math.PI*t)):Math.exp(v(e));return r?Math.round(e):e}function y(e){var t=1+e*(4.077131788261185+e*(7.024675027156382+e*(6.657107767450176+e*(3.766266976716022+e*(1.2792371666711133+e*(.24304596436338005+.020049769312165774*e)))))),r=1+e*(4.154347453162709+e*(7.270007565107539+e*(6.97805297331391+e*(3.989651532924167+e*(1.367176195613119+e*(.26175627691546965+.021742722739397567*e))))));return Math.E*Math.pow((1+e)/Math.E,1+e)/(e*Math.sqrt(1+e))*(t/r)}function v(e){return--e*(Math.log(e)-1)+.5*Math.log(2*Math.PI*e)+O(e)}function b(e,t){if(e!==Math.floor(e))return NaN;if(e<0)return NaN;if(0===e)return 1/I(t);var r=k(t);if(1===e)return-1/(r*r);var n=_(t);if(2===e)return 2*n/(r*r*r);for(var o=[0,2],i=[],a=3;a<=e;a++){i=[];for(var s=0;s<a;s++){var c=0,l=0;0<s&&(c=(a-s+1)*o[s-1]),s+2<a&&(l=(s+1)*o[s+1]),i.push(-(c+l))}o=i}var u=0;for(s=e-1;0<=s;s--)u=i[s]+n*u;return u/Math.pow(r,e+1)}function x(e,t){return 0===t?NaN:(r=t===Math.E?Math.log(e):2===t&&Math.log2?Math.log2(e):10===t&&Math.log10?Math.log10(e):Math.log(e)/Math.log(t),Math.pow(t,Math.round(r))===e?Math.round(r):r);var r}Object.defineProperty(t,"__esModule",{value:!0}),t.uniquePerm=t.elementsAt=t.select=t.polygon=t.hsv=t.rgb=t.distance=t.quad=t.stdevp=t.stdev=t.spearman=t.rank=t.validateSampleCount=t.validateRangeLength=t.corr=t.cov=t.covp=t.variance=t.mad=t.varp=t.argMax=t.argMin=t.median=t.lowerQuartileIndex=t.upperQuartileIndex=t.lowerQuantileIndex=t.upperQuantileIndex=t.quartileIndex=t.sortPerm=t.quartile=t.quantile=t.listMax=t.listMin=t.length=t.stats=t.ittest=t.ttest=t.itscore=t.tscore=t.invUniform=t.invT=t.invBinom=t.invPoisson=t.invNorm=t.erfcx=t.erf=t.uniformcdf=t.uniformpdf=t.poissoncdf=t.poissonpdf=t.binompdf=t.binomcdf=t.poissonSample=t.binomSample=t.tSample=t.normalSample=t.uniformSample=t.randomPerm=t.shuffle=t.random=t.normalpdf=t.normalcdf=t.tcdf=t.tpdf=t.total=t.mean=t.acoth=t.acsch=t.asech=t.coth=t.csch=t.sech=t.asec=t.acsc=t.acot=t.cot=t.csc=t.sec=t.tan=t.cos=t.sin=t.nthroot=t.common_log=t.log_base=t.log=t.polyGamma=t.cotDerivative=t.bernoulliTable=t.lnGamma=t.gamma=t.factorial=t.nPr=t.nCr=t.listLCM=t.listGCD=t.lcm=t.mod=t.pow=t.gcd=t.toFraction=t.hypot=t.sign=t.sqrtxsqm1=t.sqrtxsqp1=t.log1p=t.expm1=t.atanh=t.asinh=t.acosh=t.tanh=t.sinh=t.cosh=t.md5Spyable=void 0,t.md5Spyable=o.default,Object.defineProperty(t,"cosh",{enumerable:!0,get:function(){return a.cosh}}),Object.defineProperty(t,"sinh",{enumerable:!0,get:function(){return a.sinh}}),Object.defineProperty(t,"tanh",{enumerable:!0,get:function(){return a.tanh}}),Object.defineProperty(t,"acosh",{enumerable:!0,get:function(){return a.acosh}}),Object.defineProperty(t,"asinh",{enumerable:!0,get:function(){return a.asinh}}),Object.defineProperty(t,"atanh",{enumerable:!0,get:function(){return a.atanh}}),Object.defineProperty(t,"expm1",{enumerable:!0,get:function(){return a.expm1}}),Object.defineProperty(t,"log1p",{enumerable:!0,get:function(){return a.log1p}}),Object.defineProperty(t,"sqrtxsqp1",{enumerable:!0,get:function(){return a.sqrtxsqp1}}),Object.defineProperty(t,"sqrtxsqm1",{enumerable:!0,get:function(){return a.sqrtxsqm1}}),Object.defineProperty(t,"sign",{enumerable:!0,get:function(){return a.sign}}),Object.defineProperty(t,"hypot",{enumerable:!0,get:function(){return c.hypot}}),t.toFraction=l.default,t.gcd=p.gcd,t.pow=p.pow,t.mod=function(e,t){var r=e%t;return e*t<0&&0!=r?r+t:r},t.lcm=f,t.listGCD=function(e){if(0===e.length)return NaN;for(var r=e[0],n=1;n<e.length;n++)r=t.gcd(r,e[n]);return r},t.listLCM=function(e){if(0===e.length)return NaN;for(var t=e[0],r=1;r<e.length;r++)t=f(t,e[r]);return t},t.nCr=function(e,t){if(e=Math.round(e),(t=Math.round(t))>e||e<0||t<0)return 0;if(t===1/0||e===1/0)return NaN;e-t<t&&(t=e-t);for(var r=1,n=0;n<t;n++)r*=(e-n)/(n+1);return Math.round(r)},t.nPr=function(e,t){if(e=Math.round(e),(t=Math.round(t))>e||e<0||t<0)return 0;if(t===1/0||e===1/0)return NaN;for(var r=1,n=0;n<t;n++)r*=e-n;return r},t.factorial=g,t.gamma=m,t.lnGamma=function(e){return e<0?NaN:e<15?Math.log(y(e)):v(e)},t.bernoulliTable=[1/6,-1/30,1/42,-1/30,5/66,-691/2730,7/6,-3617/510,43867/798,-174611/330,854513/138,-236364091/2730,8553103/6,-23749461029/870],t.cotDerivative=b,t.polyGamma=function e(r,n){if(r<0)return NaN;if(r!==Math.floor(r))return NaN;var o=r%2==0?-1:1;if(n<0)return-o*e(r,1-n)-Math.pow(Math.PI,r+1)*b(r,Math.PI*n);for(var i=g(r),a=0,s=Math.pow(n,-(r+1));n<10;)a+=s,n++,s=Math.pow(n,-(r+1));a+=0===r?-Math.log(n):s*n/r,a+=.5*s;for(var c=t.bernoulliTable,l=r+1,u=2,d=s*n*l/u,p=1/(n*n),h=1;h<=14;h++)a+=(d*=p)*c[h-1],d*=++l/++u,d*=++l/++u;return i*o*a},t.log=function(e){var t=Math.log(e);return Math.exp(Math.round(t))===e?Math.round(t):t},t.log_base=x,t.common_log=function(e){return x(e,10)},t.nthroot=function(e,r){return t.pow(e,1/r)};var w=1/Math.PI;function E(e){return!(1e12<e)&&Math.round(w*e)*Math.PI===e}function S(e){if(!(1e12<e)){var t=Math.round(2*w*e);return t%2==1&&t*Math.PI==2*e}}function k(e){return E(Math.abs(e))?0:Math.sin(e)}function _(e){return S(Math.abs(e))?0:Math.cos(e)}function I(e){var t=Math.abs(e);return E(t)?0:S(t)?1/0:Math.tan(e)}function M(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t/e.length}function L(e){return 50<e?Math.exp(.5*((1-e)*i.log1p(-1/(e-1))-1)+A(.5*(e-1))-A(.5*(e-2)))*Math.sqrt((1-1/e)/(2*Math.PI)):m((e+1)/2)/(m(e/2)*Math.sqrt(e*Math.PI))}function T(e,t,r){if(void 0===r&&(r=e-t),Math.abs(r)<.1*(e+t))for(var n=r/(e+t),o=r*r/(e+t),i=2*e*n,a=1;a<10;a++){var s=o+(i*=n*n)/(2*a+1);if(s==o)return s;o=s}return e*Math.log(e/t)+t-e}t.sin=k,t.cos=_,t.tan=I,t.sec=function(e){return S(Math.abs(e))?1/0:1/Math.cos(e)},t.csc=function(e){return E(Math.abs(e))?1/0:1/Math.sin(e)},t.cot=function(e){var t=Math.abs(e);return E(t)?1/0:S(t)?0:1/Math.tan(e)},t.acot=function(e){return Math.PI/2-Math.atan(e)},t.acsc=function(e){return Math.asin(1/e)},t.asec=function(e){return Math.acos(1/e)},t.sech=function(e){return 1/i.cosh(e)},t.csch=function(e){return 1/i.sinh(e)},t.coth=function(e){return 1/i.tanh(e)},t.asech=function(e){return i.acosh(1/e)},t.acsch=function(e){return i.asinh(1/e)},t.acoth=function(e){return i.atanh(1/e)},t.mean=M,t.total=function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t};var C=[0,.08106146679532726,.0413406959554093,.02767792568499834,.020790672103765093,.016644691189821193,.013876128823070748,.01189670994589177,.010411265261972096,.009255462182712733,.00833056343336287,.007573675487951841,.00694284010720953,.006408994188004207,.0059513701127588475,.005554733551962801];function A(e){return 15<e?O(e):e<0?NaN:e===Math.floor(e)?C[e]:Math.log(g(e)/(Math.pow(e,e)*Math.exp(-e)*Math.sqrt(2*Math.PI*e)))}function O(e){var t=e*e;return(.08333333333333333-(.002777777777777778-(.0007936507936507937-(.0005952380952380953-.0008417508417508417/t)/t)/t)/t)/e}function P(e,t){return t<=0?NaN:L(t)*Math.pow(1+e*e/t,-(t+1)/2)}function D(e,t){if(0<t)return 1-D(e,-t);if(t===-1/0)return 0;if(0===t)return.5;if(40<=e&&-1<t)return.5+L(e)*function(e){for(var r,n=t*t/e,o=r=t,i=1;i<=15;i++)o+=r*=-(2*i-1)/(2*i+1)*(.5*(e+1)+i-1)/i*n;return o}(e);if(t/e<-1e3){var r=t*t;return L(e)*Math.pow(e,.5*(e-1))*Math.pow(Math.abs(t),-e)*(1-e*e*(e+1)*(1/(2+e)+e*(e+3)/(4*(4+e)*r))/(2*r))}return r=Math.sqrt(t*t+e),function(e,t,r){if(e<0||1<e)throw new RangeError("First argument must be between 0 and 1.");if(1==t&&1==r)return e;if(0==e)return 0;if(1==e)return 1;if(0==t)return 1;if(0==r)return 0;var n=A(t+r)-A(t)-A(r)-T(t,(t+r)*e)-T(r,(t+r)*(1-e),(t+r)*e-t);n=Math.exp(n)*Math.sqrt(t*r/(2*Math.PI*(t+r)));return e<(1+t)/(t+r+2)?n*N(e,t,r)/t:1-n*N(1-e,r,t)/r}((t+r)/(2*r),e/2,e/2)}function F(e,t,r){return r<=0?NaN:e===-1/0?D(r,t):0<e&&0<t?D(r,-e)-D(r,-t):D(r,t)-D(r,e)}function N(e,t,r){var n=Math.pow(2,-52),o=1e-300,i=t+r,a=t+1,s=t-1,c=1,l=1-i*e/a;Math.abs(l)<o&&(l=o);for(var u=l=1/l,d=1;d<=100;d++){var p=2*d,h=d*(r-d)*e/((s+p)*(t+p));l=1+h*l;if(Math.abs(l)<o&&(l=o),c=1+h/c,Math.abs(c)<o&&(c=o),u*=(l=1/l)*c,l=1+(h=-(t+d)*(i+d)*e/((t+p)*(a+p)))*l,Math.abs(l)<o&&(l=o),c=1+h/c,Math.abs(c)<o&&(c=o),u*=h=(l=1/l)*c,Math.abs(h-1)<=n)return u}return u}function q(e,t,r){return(e-t)/(Math.SQRT2*Math.abs(r))}function R(e){return e<0?.5*Math.exp(-e*e)*$(-e):1-.5*Math.exp(-e*e)*$(e)}function B(e){return e=t.md5Spyable(e),(4294967296*(2097151&parseInt(e.slice(0,8),16))+parseInt(e.slice(8,16),16))/9007199254740992}function j(e,t){for(var r=t.length-1;0<r;r--){var n=e+"::sc"+r,o=Math.floor(B(n)*(r+1));n=t[r];t[r]=t[o],t[o]=n}}function V(e,t,r){return B(e)*(r-t)+t}function U(e,t,r){return t<=e?1:e<0?0:e<Math.floor((t+1)*r)?G(e,t,r):1-G(t-e-1,t,1-r)}function G(e,t,r){for(var n=(1-r)/r,o=z(e,t,r),i=o;0<e&&i+(o*=e/(t-e+1)*n)!==i;e--)i+=o;return i}function z(e,t,r){return e=Math.round(e),(t=h(Math.round(t),0,1/0))===1/0?NaN:(r=h(r,0,1),e<0||t<e?0:0===r?0===e?1:0:1===r?e===t?1:0:0===e?Math.exp(t*i.log1p(-r)):e===t?Math.pow(r,t):(r=A(t)-A(e)-A(t-e)-T(e,t*r)-T(t-e,t*(1-r),t*r-e),Math.exp(r)*Math.sqrt(t/(2*Math.PI*e*(t-e)))))}function H(e,t){return t<0?NaN:(e=Math.round(e))<0?0:0===t?0===e?1:0:0===e?Math.exp(-t):Math.exp(-A(e)-T(e,t))/Math.sqrt(2*Math.PI*e)}function W(e,t){if(isNaN(e)||isNaN(t))return NaN;if(e===1/0)return 1;if((e=Math.floor(e))<0)return 0;if(0===t)return 1;if(12<e+1&&t<2.35*(e+1)&&.3*(e+1)<t)return function(e,t){for(var r,n=t/e,o=i.sign(t-e)*Math.sqrt(2*T(1,n)),a=[1,-.3333333333333333,.08333333333333333,-.014814814814814815,.0011574074074074073,.0003527336860670194,-.0001787551440329218,3919263178522438e-20,-2185448510679992e-21,-185406221071516e-20,8.296711340953087e-7,-1.7665952736826078e-7,6.707853543401498e-9,1.0261809784240309e-8,-4.382036018453353e-9,9.14769958223679e-10,-2.5514193994946248e-11,-5.830772132550426e-11,2.4361948020667415e-11,-5.0276692801141755e-12,1.1004392031956135e-13,3.371763262400985e-13,-1.392388722418162e-13,2.8534893807047445e-14,-5.139111834242572e-16,-1.9752288294349442e-15,8.099521156704561e-16],s=a.length-2,c=0,l=0,u=0;0<=s;s--)u=o*u+(r=(s+2)*c/e+a[s+1]),c=l,l=r;if(u*=e/(e+c),t<e){var d=Math.exp(-.5*e*o*o)*(.5*$(-o*Math.sqrt(e/2))-u/Math.sqrt(2*Math.PI*e));return isFinite(d)?1-d:1}return d=Math.exp(-.5*e*o*o)*(.5*$(o*Math.sqrt(e/2))+u/Math.sqrt(2*Math.PI*e)),isFinite(d)?d:0}(e+1,t);if(t<=e+1){var r=function(e,t){for(var r,n=Math.pow(2,-52),o=1e-300,i=1/e,a=1/o,s=1/e,c=2,l=e,u=-(e-1),d=0;0===(s=s*--u*t+(l+=1))&&(s=o),0===(a=l+u*t/a)&&(a=o),i*=a*(s=1/s),0===(s=s*(d+=1)*t+(l+=1))&&(s=o),0===(a=l+d*t/a)&&(a=o),i*=r=a*(s=1/s),(c+=2)<100&&Math.abs(r-1)>n;);return i}(e+1,t);return isFinite(r)?1-t*H(e,t)*r:1}return r=function(e,t){var r,n=Math.pow(2,-52),o=1/(t=t+1-e),i=1/1e-300,a=1/t,s=2,c=t;do{var l=-(s-1)*(s-e-1)}while(0===(a=a*l+(c+=2))&&(a=1e-300),0===(i=c+l/i)&&(i=1e-300),o*=r=i*(a=1/a),(s+=1)<100&&Math.abs(r-1)>n);return o}(e+1,t),isFinite(r)?t*H(e,t)*r:0}function K(e,t,r){return r<=t?NaN:e<t?0:r<e?1:(e-t)/(r-t)}function $(e){if(e<0)return e<-6.1?2*Math.exp(e*e):2*Math.exp(e*e)-$(-e);if(50<e){var t=.5641895835477563,r=e*e;return 5e7<e?t/e:t*(r*(4.5+r)+2)/(e*(r*(5+r)+3.75))}return(.9999999999999999+e*(2.224574423459406+e*(2.444115549920689+e*(1.7057986861852539+e*(.8257463703357973+e*(.28647031042892007+e*(.07124513844341643+e*(.012296749268608364+e*(.001347817214557592+7263959403471071e-20*e)))))))))/(1+e*(3.352953590554884+e*(5.227518529742423+e*(5.003720878235473+e*(3.266590890998987+e*(1.5255421920765353+e*(.5185887413188858+e*(.12747319185915415+e*(.02185979575963238+e*(.0023889438122503674+.00012875032817508128*e))))))))))}function Y(e){var t,r;return.5<e?-Y(1-e):.5===e?0:e<0?NaN:0===e?-1/0:(r=e<.02425?(((((-.00778489400243029*(t=Math.sqrt(-2*Math.log(e)))-.322396458041136)*t-2.40075827716184)*t-2.54973253934373)*t+4.37466414146497)*t+2.93816398269878)/((((.00778469570904146*t+.32246712907004)*t+2.445134137143)*t+3.75440866190742)*t+1):(((((-39.6968302866538*(r=(t=e-.5)*t)+220.946098424521)*r-275.928510446969)*r+138.357751867269)*r-30.6647980661472)*r+2.50662827745924)*t/(((((-54.4760987982241*r+161.585836858041)*r-155.698979859887)*r+66.8013118877197)*r-13.2806815528857)*r+1))-Math.sqrt(2*Math.PI)*(.5*$(-r/Math.SQRT2)-Math.exp(.5*r*r)*e)}function X(e,t){if(t<=0||e<0||1<e)return NaN;if(0===e)return 0;if(1===e)return 1/0;for(var r=1,n=1,o=1;Math.exp(-t)*n<e;){if(n+(r*=t/o)===n)return 1/0;n+=r,o+=1}return o-1}function Q(e,t,r){if(t!==Math.round(t))return NaN;if(r<0||1<r)return NaN;if(e<0||1<e)return NaN;if(0===e)return 0;if(1===e)return t;if(0===t)return 0;if(1===r)return t;if(0===r)return 0;for(var n=r/(1-r),o=Math.pow(1-r,t),i=o,a=1;i<e;){if(i+(o*=(t-a+1)/a*n)===i)return t;if(t<a)return t;i+=o,a+=1}return a-1}function J(e,t){var r=4*t*(1-t);switch(e){case 1:return Math.tan(Math.PI*(t-.5));case 2:return 2*(t-.5)*Math.sqrt(2/r);case 4:var n=Math.cos(Math.acos(Math.sqrt(r))/3)/Math.sqrt(r);return 2*i.sign(t-.5)*Math.sqrt(n-1);default:throw new Error("_invTSimple() must be called with 1, 2, or 4 df.")}}function Z(e,t){var r=fe(e);return(M(e)-t)*Math.sqrt(e.length)/r}function ee(e,t){var r=e.length,n=M(e),o=fe(e),i=t.length;e=M(t),t=fe(t);return(n-e)/(Math.sqrt(((r-1)*o*o+(i-1)*t*t)/(r+i-2))*Math.sqrt(1/r+1/i))}function te(e,t,r){return r<0?F(-1/0,e,t):0<r?F(-1/0,-e,t):2*F(-1/0,-Math.abs(e),t)}function re(e){if(e.length<1)return NaN;var t=e[0];if(isNaN(t))return NaN;for(var r=1;r<e.length;r++){if(isNaN(e[r]))return NaN;e[r]<t&&(t=e[r])}return t}function ne(e){if(e.length<1)return NaN;var t=e[0];if(isNaN(t))return NaN;for(var r=1;r<e.length;r++){if(isNaN(e[r]))return NaN;e[r]>=t&&(t=e[r])}return t}function oe(e,t){if(!isFinite(t)||t<0||1<t)return NaN;if(e.some(isNaN))return NaN;if(0===e.length)return NaN;var r=e.length,n=ae(e);r=t*(r-1);return Math.floor(r)===r?e[n[r]]:(Math.ceil(r)-r)*e[n[Math.floor(r)]]+(r-Math.floor(r))*e[n[Math.ceil(r)]]}function ie(e,t){if(!isFinite(t)||t<0||4<t)return NaN;if(e.some(isNaN))return NaN;var r=ae(e),n=se(e,t);t=Math.floor(n),n=Math.ceil(n);return(e[r[t]]+e[r[n]])/2}function ae(e){for(var t=e.length,r=[],n=0;n<t;n++)r.push(n);return r.sort(function(t,r){return d.asFloat(d.sub(e[t],e[r]))}),r}function se(e,t){t=Math.round(t);var r,n=e.length;e=n%2==1;return 1===n?0:(0===t&&(r=0),2===t&&(r=(n-1)/2),4===t&&(r=n-1),1===t&&(r=e?(n+1)/4-1:(n+2)/4-1),3===t&&(r=e?(3*n+3)/4-1:(3*n+2)/4-1),void 0===r?NaN:r)}function ce(e){return oe(e,.5)}function le(e){for(var t=M(e),r=0,n=0;n<e.length;n++){var o=e[n]-t;r+=o*o}return r/e.length}function ue(e){var t=e.length;return le(e)*t/(t-1)}function de(e,t){var r=Math.min(e.length,t.length);e.length!==r&&(e=e.slice(0,r)),t.length!==r&&(t=t.slice(0,r));for(var n=M(e),o=M(t),i=0,a=0;a<r;a++)i+=(e[a]-n)*(t[a]-o);return i/r}function pe(e,t){var r=Math.min(e.length,t.length);e.length!==r&&(e=e.slice(0,r)),t.length!==r&&(t=t.slice(0,r));for(var n=M(e),o=M(t),i=0,a=0,s=0,c=0;c<r;c++){var l=e[c]-n,u=t[c]-o;i+=l*l,a+=u*u,s+=l*u}return s/Math.sqrt(i*a)}function he(e){var t=e.length;if(0===t)return[];for(var r=[],n=[],o=0;o<t;o++)n.push([e[o],o]);n.sort(function(e,t){return e=e[0],t=t[0],e===1/0&&t===1/0||e===-1/0&&t===-1/0?0:e-t});for(var i,a=0,s=1;a<t;){for(var c=a;c<t-1&&n[c][0]===n[c+1][0];)c+=1;i=c-a+1;var l;for(c=0;c<i;c++)r[l=n[a+c][1]]=isNaN(e[l])?NaN:s+.5*(i-1);s+=i,a+=i}return r}function fe(e){return Math.sqrt(ue(e))}function ge(e,t,r){return[h(Math.round(e),0,255),h(Math.round(t),0,255),h(Math.round(r),0,255)]}function me(e){if(Array.isArray(e))return"["+e.map(me).join(",")+"]";switch(typeof e){case"string":return e;case"boolean":case"number":return e.toString();case"object":if("object"==typeof e&&e&&"Action"===e.type){var t,r=[];for(t in e.updateRules)r.push('"'+t+'": '+me(e.updateRules[t].value));return"{"+r.join(",")+"}"}return e.n+"/"+e.d;default:return e}}t.tpdf=P,t.tcdf=F,t.normalcdf=function(e,t,r,n){var o=q(t,r,n);return e===-1/0?R(o):(n=q(e,r,n),0<e&&0<t?R(-n)-R(-o):R(o)-R(n))},t.normalpdf=function(e,t,r){return 1/Math.sqrt(2*Math.PI*r*r)*Math.exp(-(e-t)*(e-t)/(2*r*r))},t.random=B,t.shuffle=function(e,t){return j(e,t=t.slice()),t},t.randomPerm=function(e,t){for(var r=[],n=0;n<t;n++)r.push(n);return j(e,r),r},t.uniformSample=V,t.normalSample=function(e,t,r){for(var n,o,i,a=0;o=e+"::sc"+a,a+=1,n=2*V(o,0,1)-1,o=e+"::sc"+a,a+=1,1<=(i=n*n+(o=2*V(o,0,1)-1)*o)||0===i;);return t+r*n*Math.sqrt(-2*Math.log(i)/i)},t.tSample=function(e,t){if(t<=0)return NaN;for(var r,n,o,i=0;s=e+"::sc"+i,i+=1,r=2*V(s,0,1)-1,s=e+"::sc"+i,i+=1,1<(o=r*r+(n=2*V(s,0,1)-1)*n););var a=r*r/o,s=(t=t*(Math.pow(o,-2/t)-1),e+"::sc"+i);return i+=1,(V(s,0,1)<.5?-1:1)*Math.sqrt(a*t)},t.binomSample=function(e,t,r){return(t=h(Math.round(t),0,1/0))===1/0?NaN:(r=h(r,0,1),Q(V(e,0,1),t,r))},t.poissonSample=function(e,t){return t<=0?NaN:X(V(e,0,1),t)},t.binomcdf=function(e,t,r,n){return(r=h(Math.round(r),0,1/0))===1/0?NaN:(n=h(n,0,1),t<0?0:(e=Math.ceil(e),t=Math.floor(t),e===-1/0?U(t,r,n):U(t,r,n)-U(e-1,r,n)))},t.binompdf=z,t.poissonpdf=H,t.poissoncdf=function(e,t,r){return r<=0?NaN:(e=Math.ceil(e),(t=Math.floor(t))<0?0:e===-1/0?W(t,r):W(t,r)-W(e-1,r))},t.uniformpdf=function(e,t,r){return r<=t?NaN:e<t||r<e?0:1/(r-t)},t.uniformcdf=function(e,t,r,n){return K(t,r,n)-K(e,r,n)},t.erf=function(e){var t=-e*e;return t<-750?0<=e?1:-1:.065<=e?1-Math.exp(t)*$(e):e<=-.065?Math.exp(t)*$(-e)-1:e*(1.1283791670955126+t*(.37612638903183754+t*(.11283791670955126+t*(.026866170645131252+.005223977625442188*t))))},t.erfcx=$,t.invNorm=Y,t.invPoisson=X,t.invBinom=Q,t.invT=function e(t,r){return isNaN(r)||r<=0||t<0||1<t?NaN:0===t?-1/0:1===t?1/0:1===r||2===r||4===r?J(r,t):.5===t?0:.5<t?function(e,t,r,n){if(!isFinite(r)||!isFinite(n))return NaN;for(var o=r,i=n;;){var a=u.floatMiddle(o,i),s=D(e,a);if(a===o||a===i)return t<s?o:i;s<t?o=a:i=a}}(r,t,1<r?Y(t):J(1,t),1<r?J(1,t):Math.pow(P(0,r)*Math.pow(r,(r-1)/2)/(1-t),1/r)):-e(1-t,r)},t.invUniform=function(e,t,r){return e<0||1<e||r<=t?NaN:0===e?t:1===e?r:t+e*(r-t)},t.tscore=Z,t.itscore=ee,t.ttest=function(e,t){return 1===arguments.length&&(t=0),{lessThan:te(t=Z(e,t),e=e.length-1,-1),greaterThan:te(t,e,1),notEqual:te(t,e,0)}},t.ittest=function(e,t){var r=ee(e,t);return{lessThan:te(r,t=e.length+t.length-2,-1),greaterThan:te(r,t,1),notEqual:te(r,t,0)}},t.stats=function(e){return{min:re(e),q1:ie(e,1),median:ce(e),q3:ie(e,3),max:ne(e)}},t.length=function(e){return e.length},t.listMin=re,t.listMax=ne,t.quantile=oe,t.quartile=ie,t.sortPerm=ae,t.quartileIndex=se,t.upperQuantileIndex=function(e,t){return ae(e)[Math.ceil(t*(e.length-1))]+1},t.lowerQuantileIndex=function(e,t){return ae(e)[Math.floor(t*(e.length-1))]+1},t.upperQuartileIndex=function(e,t){return ae(e)[Math.ceil(se(e,t))]+1},t.lowerQuartileIndex=function(e,t){return ae(e)[Math.floor(se(e,t))]+1},t.median=ce,t.argMin=function(e){if(e.length<1)return 0;var t=e[0];if(isNaN(t))return 0;for(var r=0,n=1;n<e.length;n++){if(isNaN(e[n]))return 0;e[n]<t&&(t=e[r=n])}return r+1},t.argMax=function(e){if(e.length<1)return 0;var t=e[0];if(isNaN(t))return 0;for(var r=0,n=1;n<e.length;n++)if(e[n]>=t){if(isNaN(e[n]))return 0;t=e[r=n]}return r+1},t.varp=le,t.mad=function(e){for(var t=M(e),r=0,n=0;n<e.length;n++)r+=Math.abs(e[n]-t);return r/e.length},t.variance=ue,t.covp=de,t.cov=function(e,t){var r=Math.min(e.length,t.length);return de(e,t)*r/(r-1)},t.corr=pe,t.validateRangeLength=function(e,t,r,n){for(var o=e[0],i=2;i<e.length;i++){var a=d.asFloat(d.div(d.sub(e[i],o),r));if(!s.approx(a,i,10))return 0}var c=d.asFloat(n);for(i=0;i<t.length-1;i++)if(a=d.asFloat(d.div(d.sub(t[i],o),r)),!s.approx(a,c-t.length+i,10))return 0;return!isFinite(c)||c<e.length||c<t.length?0:c},t.validateSampleCount=function(e){return e<0||!isFinite(e)?0:e},t.rank=he,t.spearman=function(e,t){var r=Math.min(e.length,t.length);return e.length!==r&&(e=e.slice(0,r)),t.length!==r&&(t=t.slice(0,r)),pe(he(e),he(t))},t.stdev=fe,t.stdevp=function(e){return Math.sqrt(le(e))},t.quad=n.quad,t.distance=function(e,t){return s.hypot(t[0]-e[0],t[1]-e[1])},t.rgb=ge,t.hsv=function(e,t,n){e=h(e,0,360),t=h(t,0,1);var o=(n=h(n,0,1))*(1-t/2);return t=0==o||1==o?0:(n-o)/Math.min(o,1-o),ge((o=r.hsl(e,t,o).rgb()).r,o.g,o.b)},t.polygon=function(e){return e},t.select=function(e,t){for(var r=[],n=0;n<e.length;n++)t[n]&&r.push(e[n]);return r},t.elementsAt=function(e,t){for(var r=[],n=0,o=t;n<o.length;n++){var i=o[n];r.push(e[i])}return r},t.uniquePerm=function(e){for(var t=[],r={},n=0;n<e.length;n++){var o=me(e[n]);r.hasOwnProperty(o)||(r[o]=!0,t.push(n))}return t}}),define("core/math/functions",["require","exports","core/math/builtin","core/math/errormsg"],function(e,t,r,n){"use strict";function o(e){delete e.fn}function i(e){e.fn=a(e.args,e.source,e.constants)}function a(e,t,o){return e=e.join(","),new Function("BuiltIn","ErrorMsg","_C","return (function("+e+'){"use strict"; '+t+"})")(r,n,o)}Object.defineProperty(t,"__esModule",{value:!0}),t.closureFunctionWithBuiltIn=t.rehydrateCompiledFunction=t.dehydrateCompiledFunction=t.rehydrateGraphData=t.dehydrateGraphData=void 0,t.dehydrateGraphData=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t].compiled;n&&o(n)}},t.rehydrateGraphData=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t].compiled;n&&i(n)}},t.dehydrateCompiledFunction=o,t.rehydrateCompiledFunction=i,t.closureFunctionWithBuiltIn=a}),define("core/math/ir/instructions",["require","exports","./opcodes"],function(e,t,r){"use strict";function n(e){return e.type<=r.MAX_LEAF_OPCODE}Object.defineProperty(t,"__esModule",{value:!0}),t.endsBlock=t.beginsBlock=t.isInternalInstruction=t.isLeafInstruction=void 0,t.isLeafInstruction=n,t.isInternalInstruction=function(e){return!n(e)},t.beginsBlock=function(e){switch(e.type){case r.BeginIntegral:case r.BeginBroadcast:case r.BeginLoop:return!0;default:return!1}},t.endsBlock=function(e){switch(e.type){case r.EndLoop:case r.EndIntegral:case r.EndBroadcast:return!0;default:return!1}}}),define("core/math/ir/features/print",["require","exports","../instructions","../opcodes","core/math/types","../../context-types"],function(e,t,r,n,o,i){"use strict";function a(e,t){var r=e.getInstruction(t);switch(r.type===n.Noop&&r.removedInstructionForDebuggingOnly&&(r=r.removedInstructionForDebuggingOnly),r.type){case n.Noop:return s(r.type);case n.LoadArg:return s(r.type)+" "+o.repr(r.valueType)+" "+e.argNames[t];case n.SymbolicVar:return s(r.type)+" "+o.repr(r.valueType);case n.Constant:return s(r.type)+" "+o.repr(r.valueType)+" "+c(r.value);case n.NativeFunction:case n.Distribution:return s(r.type)+" "+o.repr(r.valueType)+" "+r.symbol+" "+r.args.join(" ");case n.ExtendSeed:return s(r.type)+" "+o.repr(r.valueType)+" "+r.tag+" "+r.args.join(" ");case n.BroadcastResult:return s(r.type)+" "+o.repr(r.valueType)+" "+r.args.join(" ")+(r.isConstantBroadcast?" (constant)":"");case n.Add:case n.Subtract:case n.Multiply:case n.Divide:case n.RawExponent:case n.Exponent:case n.Negative:case n.OrderedPair:case n.OrderedPairAccess:case n.BeginLoop:case n.EndLoop:case n.BeginIntegral:case n.EndIntegral:case n.BeginBroadcast:case n.EndBroadcast:case n.Equal:case n.Less:case n.Greater:case n.LessEqual:case n.GreaterEqual:case n.And:case n.Piecewise:case n.List:case n.ListAccess:case n.DeferredListAccess:case n.InboundsListAccess:case n.BlockVar:case n.Action:return s(r.type)+" "+o.repr(r.valueType)+" "+r.args.join(" ");default:throw new Error("Unexpected opcode "+r.type)}}function s(e){switch(e){case n.Noop:return"Noop";case n.Constant:return"Constant";case n.Add:return"Add";case n.Subtract:return"Subtract";case n.Multiply:return"Multiply";case n.Divide:return"Divide";case n.Exponent:return"Exponent";case n.RawExponent:return"RawExponent";case n.Negative:return"Negative";case n.OrderedPair:return"OrderedPair";case n.OrderedPairAccess:return"OrderedPairAccess";case n.BeginLoop:return"BeginLoop";case n.EndLoop:return"EndLoop";case n.BeginIntegral:return"BeginIntegral";case n.EndIntegral:return"EndIntegral";case n.BeginBroadcast:return"BeginBroadcast";case n.EndBroadcast:return"EndBroadcast";case n.Equal:return"Equal";case n.Less:return"Less";case n.Greater:return"Greater";case n.LessEqual:return"LessEqual";case n.GreaterEqual:return"GreaterEqual";case n.And:return"And";case n.Piecewise:return"Piecewise";case n.List:return"List";case n.ListAccess:return"ListAccess";case n.DeferredListAccess:return"DeferredListAccess";case n.InboundsListAccess:return"InboundsListAccess";case n.NativeFunction:return"NativeFunction";case n.Distribution:return"Distribution";case n.LoadArg:return"LoadArg";case n.BlockVar:return"BlockVar";case n.BroadcastResult:return"BroadcastResult";case n.SymbolicVar:return"SymbolicVar";case n.ExtendSeed:return"ExtendSeed";case n.Action:return"Action";default:throw new Error("Unexpected opcode "+e.type)}}function c(e){if(Array.isArray(e))return"["+e.map(c).join(",")+"]";switch(typeof e){case"string":return e;case"boolean":case"number":return e.toString();case"object":if(i.isActionCompilerValue(e)){var t,r=[];for(t in e.updateRules)r.push('"'+t+'": '+c(e.updateRules[t].value));return"{"+r.join(", ")+"}"}return e.n+"/"+e.d;default:throw new Error("Unexpected value: "+e)}}function l(e,t){return u(t-(e=e.toString()).length)+e}function u(e){for(var t="",r=0;r<e;r++)t+=" ";return t}Object.defineProperty(t,"__esModule",{value:!0}),t.printValue=t.printOp=t.printInstruction=t.print=void 0,t.print=function(e){for(var t="",o=(e.instructionsLength()-1).toString().length,i=0,s=!1,c=0;c<e.instructionsLength();c++){var d,p=e.getInstruction(c),h=e.comments[c]||"",f=p.type===n.Noop&&p.removedInstructionForDebuggingOnly;(r.endsBlock(p)||f&&r.endsBlock(f))&&--i,p.type!==n.Noop||f?(s=!1,d=f?" [X]":"    ",t+=l(c,o)+":"+d+" "+u(2*i)+a(e,c)+(h?"\t\t# "+h:"")+"\n"):(s||(t+=l(c,o)+": "+u(2*i)+"...\n"),s=!0),(r.beginsBlock(p)||f&&r.beginsBlock(f))&&(i+=1)}return t},t.printInstruction=a,t.printOp=s,t.printValue=c}),define("core/math/ir/features/is-constant",["require","exports","../opcodes","./print"],function(e,t,r,n){"use strict";function o(e){return e.type===r.Constant}function i(e){return e.type===r.BroadcastResult&&e.isConstantBroadcast}Object.defineProperty(t,"__esModule",{value:!0}),t.isConstantOrConstantBroadcast=t.isConstantBroadcast=t.assertConstant=t.isConstant=void 0,t.isConstant=o,t.assertConstant=function(e){if(!o(e))throw new Error("Programming error: expected constant instruction but found "+n.printOp(e.type)+" instead.")},t.isConstantBroadcast=i,t.isConstantOrConstantBroadcast=function(e){return o(e)||i(e)}}),define("core/math/ir/features/depends-on-outer-variable",["require","exports","../instructions","./is-constant"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dependsOnOuterVariable=void 0,t.dependsOnOuterVariable=function(e,t,o){var i=e.getInstruction(o);if(!r.isLeafInstruction(i))for(var a=0,s=i.args;a<s.length;a++){var c=s[a];if(!n.isConstantOrConstantBroadcast(e.getInstruction(c)))return!0}if(t<o)return!n.isConstantOrConstantBroadcast(e.getInstruction(t));for(var l=[!0],u=o+1;u<=t;u++)l.push(!1);for(var d=[t];d.length;)if(!l[(u=d.pop())-o]){l[u-o]=!0;var p=e.getInstruction(u);if(!r.isLeafInstruction(p))for(var h=0,f=p.args;h<f.length;h++)if((c=f[h])<o){if(!n.isConstantOrConstantBroadcast(e.getInstruction(c)))return!0}else l[c-o]||d.push(c)}return!1}}),define("core/math/ir/features/reconstitute-ir",["require","exports","core/math/types"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reconstituteIR=void 0,t.reconstituteIR=function e(t,n,o){if(r.isList(n)){for(var i=[],a=0;a<o.length;a++)i.push(e(t,r.elementType(n),o[a]));return t.ConstantOfType(n,i)}switch(n){case r.Number:return t.Constant(o);case r.Bool:case r.Point:case r.RGBColor:return t.ConstantOfType(n,o);default:throw new Error("Cannot reconstitute value of a "+r.prettyPrint(n)+".")}}}),define("core/math/ir/features/list-length",["require","exports","../opcodes","core/math/types","./print"],function(e,t,r,n,o){"use strict";function i(e,t){if(!((t=function e(t,i,a){var s,c=a&&a[i];if(c)return c;var l,u=t.getInstruction(i);switch(u.type){case r.List:l=u.args.length;break;case r.Constant:l=u.value.length;break;case r.BroadcastResult:l=null!==(s=u.constantLength)&&void 0!==s?s:-1}return void 0===l&&(l=function(t,i,a){switch(i.type){case r.Piecewise:var s=e(t,i.args[1],a);return s===e(t,i.args[2],a)?s:-1;case r.NativeFunction:switch(i.symbol){case"elementsAt":return e(t,i.args[1],a);case"sortPerm":return e(t,i.args[0],a);case"shuffle":return e(t,i.args[1],a);default:return-1}default:if(n.isList(i.valueType))return-1;throw new Error("Programming Error: cannot find the list length of "+o.printOp(i.type)+" "+n.prettyPrint(i.valueType)+".")}}(t,u,a=a||{})),a&&(a[i]=l),l}(e,t))<0))return t}function a(e,t){var o=e.getInstruction(t);if(!n.isList(o.valueType))throw new Error("Programming Error: cannot find the list length of "+e.printInstruction(t));switch(o.type){case r.List:return e.Constant(o.args.length);case r.Constant:return e.Constant(o.value.length);case r.BroadcastResult:var i=e.getInstruction(o.args[0]);return e.getInstruction(i.args[0]).args[0];case r.NativeFunction:switch(o.symbol){case"elementsAt":return a(e,o.args[1]);case"sortPerm":return a(e,o.args[0]);case"shuffle":return a(e,o.args[1])}}return e.SyntheticNativeFunction("length",[t])}Object.defineProperty(t,"__esModule",{value:!0}),t.minListLengthIndex=t.listLengthIndex=t.getConstantListLength=t.assertConstantListLength=void 0,t.assertConstantListLength=function(e,t,r){var n=i(e,t);if(void 0===n)throw new Error(r+'\nNon-constant instruction: "'+o.printInstruction(e,a(e,t))+'"');return n},t.getConstantListLength=i,t.listLengthIndex=a,t.minListLengthIndex=function(e,t){for(var r=[],o=0,s=t;o<s.length;o++){var c=s[o];n.isList(e.getInstruction(c).valueType)&&r.push(c)}if(0!==r.length){if(1===r.length)return a(e,r[0]);for(var l,u=[],d=0,p=r;d<p.length;d++){var h=p[d];u.push(i(e,h))}for(var f=1/0,g=0;g<u.length;g++){var m=r[g],y=u[g];if(void 0===y)return e.SyntheticNativeFunction("min",[e.List(r.map(function(t){return a(e,t)}))]);y<f&&(l=m,f=y)}return void 0!==l?a(e,l):e.Constant(f)}}}),define("core/math/ir/features/contains-nan-value",["require","exports","core/math/types","core/math/maybe-rational"],function(e,t,r,n){"use strict";function o(e,t){switch(e){case r.Number:return n.isNanFloat(t);case r.Point:var o=t[0],i=t[1];return n.isNanFloat(o)||n.isNanFloat(i);case r.RGBColor:var a=t[0];o=t[1],i=t[2];return n.isNanFloat(a)||n.isNanFloat(o)||n.isNanFloat(i);case r.Action:return 0===Object.keys(t.updateRules).length;case r.Bool:return!1;default:throw new Error("Type cannot contain a NaN value: "+r.prettyPrint(e)+".")}}Object.defineProperty(t,"__esModule",{value:!0}),t.containsNanValue=void 0,t.containsNanValue=function(e,t){if(r.isList(e)){for(var n=r.elementType(e),i=0;i<t.length;i++)if(o(n,t[i]))return!0;return!1}return o(e,t)}}),define("core/math/ir/features/interpret",["require","exports","tslib","core/math/maybe-rational","../opcodes","core/math/types","../instructions","../builtin-table","./as-value","./nan-of-type","../../builtin","../../errormsg"],function(e,t,r,n,o,i,a,s,c,l,u,d){"use strict";function p(e,t){return n.add(e,t)}function h(e,t){return n.sub(e,t)}function f(e,t){return n.mul(e,t)}function g(e,t){return n.div(e,t)}function m(e,t){return n.pow(e,t)}function y(e,t){return m(e,t)}function v(e){return n.neg(e)}function b(e,t){return e[n.asFloat(t)-1]}function x(e,t){return n.asFloat(e)===n.asFloat(t)}function w(e,t){return n.asFloat(e)<n.asFloat(t)}function E(e,t){return n.asFloat(e)>n.asFloat(t)}function S(e,t){return n.asFloat(e)<=n.asFloat(t)}function k(e,t){return n.asFloat(e)>=n.asFloat(t)}function _(e,t,r){return r=Math.floor(n.asFloat(r))-1,!isFinite(r)||r<0||r>=t.length?l.nanOfType(e):t[r]}function I(e,t){return e[Math.floor(n.asFloat(t))-1]}function M(e,t,r){return n.isRational(r)&&(r=n.asFloat(r)),t+"::"+e+r}function L(e,t){switch(e){case"mod":return n.mod(t[0],t[1]);case"abs":return n.abs(t[0]);case"sqrt":return n.sqrt(t[0]);case"nthroot":return n.nthroot(t[0],t[1]);case"total":return n.total(t[0]);case"length":return t[0].length;case"validateRangeLength":var r=t[0],o=t[1],i=t[2],a=t[3];if(0===(i=u.validateRangeLength(r,o,i,a)))throw d.nonArithmeticRange();return i;case"validateSampleCount":if(a=c.compilerValueToRuntimeValue(t[0]),0===(i=u.validateSampleCount(a))&&0!==a)throw d.badSampleSize();return i;case"select":case"elementsAt":case"uniquePerm":case"sortPerm":var l=s.BuiltInTable[e];return u[l.symbol].apply(null,t);default:return("Math"===(l=s.BuiltInTable[e]).module?Math:u)[l.symbol].apply(null,c.compilerValueToRuntimeValue(t))}}function T(e,t,r){return t.constantLength?t.constantLength:(t=t.args[0],t=e.getInstruction(t).args[0],t=e.getInstruction(t),n.asFloat(A(e,t.args[0],r)))}function C(e,t,r,n){var o=T(e,a=e.getInstruction(t),n);if(!isFinite(r)||r<0||o<=r)return l.nanOfType(i.elementType(a.valueType));var a,s=a.args[0];o=t-s,t=(a=e.getInstruction(s)).args[0],o=a.args[o];n[t]=r+1;o=A(e,o,n);for(var c=t;c<=s;c++)n[c]=void 0;return o}function A(e,t,r){var o=r[t];return void 0!==o?o:("number"==typeof(e=O(e,t,r))&&e===Math.floor(e)&&(e=n.maybeRational(e,1)),r[t]=e)}function O(e,t,i){var s=e.getInstruction(t);switch(s.type){case o.Constant:return s.value;case o.Add:return p(A(e,s.args[0],i),A(e,s.args[1],i));case o.Subtract:return h(A(e,s.args[0],i),A(e,s.args[1],i));case o.Multiply:return f(A(e,s.args[0],i),A(e,s.args[1],i));case o.Divide:return g(A(e,s.args[0],i),A(e,s.args[1],i));case o.Exponent:return m(A(e,s.args[0],i),A(e,s.args[1],i));case o.RawExponent:return y(A(e,s.args[0],i),A(e,s.args[1],i));case o.Negative:return v(A(e,s.args[0],i));case o.OrderedPair:return[A(e,s.args[0],i),A(e,s.args[1],i)];case o.OrderedPairAccess:return b(A(e,s.args[0],i),A(e,s.args[1],i));case o.Equal:return x(A(e,s.args[0],i),A(e,s.args[1],i));case o.Less:return w(A(e,s.args[0],i),A(e,s.args[1],i));case o.Greater:return E(A(e,s.args[0],i),A(e,s.args[1],i));case o.LessEqual:return S(A(e,s.args[0],i),A(e,s.args[1],i));case o.GreaterEqual:return k(A(e,s.args[0],i),A(e,s.args[1],i));case o.And:return A(e,s.args[0],i)&&A(e,s.args[1],i);case o.ExtendSeed:return M(s.tag,A(e,s.args[0],i),A(e,s.args[1],i));case o.Piecewise:return A(e,(F=A(e,s.args[0],i))?s.args[1]:s.args[2],i);case o.NativeFunction:for(var c=[],l=0,u=s.args;l<u.length;l++){var d=u[l];c.push(A(e,d,i))}return L(s.symbol,c);case o.List:c=[];for(var I=0,O=s.args;I<O.length;I++)d=O[I],c.push(A(e,d,i));return c;case o.ListAccess:case o.DeferredListAccess:case o.InboundsListAccess:return function e(t,i,a){var s=A(t,i.args[1],a),c=i.args[0],l=t.getInstruction(c);return l.type===o.BroadcastResult?C(t,c,n.asFloat(s)-1,a):l.type===o.Piecewise?(c=A(t,l.args[0],a),e(t,r.__assign(r.__assign({},i),{args:[c?l.args[1]:l.args[2],i.args[1]]}),a)):(a=A(t,i.args[0],a),_(i.valueType,a,s))}(e,s,i);case o.BroadcastResult:return function(e,t,r){for(var n=[],o=T(e,e.getInstruction(t),r)-1;0<=o;o--)n[o]=C(e,t,o,r);return n}(e,t,i);case o.BlockVar:var P=s.args[0],D=e.getInstruction(P).args[0],F=t-P,N=[];N[F=e.getInstruction(P).args[F]]=!0;for(var q=F;D<=q;q--)if(N[q]){var R=e.getInstruction(q);if(!a.isLeafInstruction(R))for(var B=0,j=R.args;B<j.length;B++)(d=j[B])<D?A(e,d,i):N[d]=!0}var V=e.copy();for(V.truncate(D),q=0;q<D;q++){var U=i[q],G=e.getInstruction(q);void 0!==U&&(G=G.valueType,V.replaceInstructionWithConstant(q,{type:o.Constant,valueType:G,value:U}))}var z=[];for(q=D;q<t;q++){var H=e.getInstruction(q);if(a.isLeafInstruction(H))z.push(V.copyInstruction(H));else{for(var W=[],K=0,$=H.args;K<$.length;K++)d=$[K],W.push(d<D?d:z[d-D]);H.type===o.DeferredListAccess?z.push(V.InboundsListAccess(W)):z.push(V.copyInstructionWithArgs(H,W))}}return V.Noop(),V.replaceInstructionWithBlockVar(V.returnIndex,{type:o.BlockVar,valueType:s.valueType,args:[P<D?P:z[P-D]]}),V.close().getCompiledFunction().fn();case o.BeginLoop:case o.EndLoop:case o.BeginIntegral:case o.EndIntegral:case o.BeginBroadcast:case o.EndBroadcast:case o.Distribution:case o.Noop:case o.LoadArg:case o.SymbolicVar:case o.Action:throw new Error("Programming Error: cannot interpret opcode "+s.type);default:throw new Error("Programming Error: unexpected opcode "+s.type)}}Object.defineProperty(t,"__esModule",{value:!0}),t._interpretRecursive=t.interpretBroadcastElements=t.interpretBroadcastElement=t.interpret=t.NativeFunction=t.ExtendSeed=t.InboundsListAccess=t.DeferredListAccess=t.ListAccess=t.List=t.And=t.GreaterEqual=t.LessEqual=t.Greater=t.Less=t.Equal=t.OrderedPairAccess=t.OrderedPair=t.Negative=t.RawExponent=t.Exponent=t.Divide=t.Multiply=t.Subtract=t.Add=void 0,t.Add=p,t.Subtract=h,t.Multiply=f,t.Divide=g,t.Exponent=m,t.RawExponent=y,t.Negative=v,t.OrderedPair=function(e,t){return[e,t]},t.OrderedPairAccess=b,t.Equal=x,t.Less=w,t.Greater=E,t.LessEqual=S,t.GreaterEqual=k,t.And=function(e,t){return e&&t},t.List=function(e){return e},t.ListAccess=_,t.DeferredListAccess=I,t.InboundsListAccess=I,t.ExtendSeed=M,t.NativeFunction=L,t.interpret=function(e,t){return A(e,t,Array(t+1))},t.interpretBroadcastElement=function(e,t,r){return C(e,t,r,Array(t+1))},t.interpretBroadcastElements=function(e,t,r){for(var n=Array(t+1),o=[],i=0,a=r;i<a.length;i++){var s=a[i];o.push(C(e,t,s,n))}return o},t._interpretRecursive=O}),define("core/math/ir/features/find-dependency-symbols",["require","exports","../instructions","../opcodes"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findDependencySymbols=void 0,t.findDependencySymbols=function(e,t){for(var o=[],i=[],a=0;a<t;a++)i.push(!1);for(i.push(!0),a=t;0<=a;a--)if(i[a]){var s=e.getInstruction(a);if(s.type===n.LoadArg)o.push({symbol:e.argNames[a],scope:"free"});else if(r.beginsBlock(s))switch(s.type){case n.BeginIntegral:o.push({symbol:s.callData.indexSymbol,scope:"integral"});break;case n.BeginLoop:o.push({symbol:s.callData.indexSymbol,scope:s.callData.type});break;case n.BeginBroadcast:if(s.listComprehensionCallData)for(var c=0,l=s.listComprehensionCallData.inputListSymbols;c<l.length;c++){var u=l[c];o.push({symbol:u,scope:"comprehension"})}break;default:throw new Error("Programming Error: unexpected loop instruction "+s.type)}else s.type===n.SymbolicVar&&s.symbol&&o.push({symbol:s.symbol,scope:"symbolic-var"});if(!r.isLeafInstruction(s))for(var d=0,p=s.args;d<p.length;d++)i[p[d]]=!0}return o.reverse()}}),define("core/math/ir/features/fuse-broadcast",["require","exports","../opcodes","core/math/types","../instructions","./interpret","./list-length","../../errormsg","./find-dependency-symbols"],function(e,t,r,n,o,i,a,s,c){"use strict";function l(e,t,r){if(r.valueType===n.ListOfDistribution){var o=a.getConstantListLength(e,t);if(null==o)throw s.variableLengthDistributionList(c.findDependencySymbols(e,t));for(var l=[],u=0;u<o;u++){var d=e.InboundsListAccess([t,e.Constant(u+1)]);l.push(d)}return e.List(l)}var p=i.interpret(e,t);return t===e.returnIndex&&e.popInstruction(),e.ConstantOfType(r.valueType,p)}Object.defineProperty(t,"__esModule",{value:!0}),t.fuseBroadcast=void 0,t.fuseBroadcast=function(e,t){var n=e.getInstruction(t);if(n.type!==r.BroadcastResult)return t;if(n.isConstantBroadcast)return l(e,t,n);for(var i=n.args[0],a=e.getInstruction(i),s=a.args[0],c=!1,u=s+1;u<i;u++){var d=e.getInstruction(u);if(d.type===r.DeferredListAccess&&d.args[1]===s){c=!0;break}}if(!c)return t;for(var p=[],h=s;h<=i+a.args.length-1;h++){var f=e.getInstruction(h);if(o.isLeafInstruction(f))p.push(e.copyInstruction(f));else{for(var g=[],m=0,y=f.args;m<y.length;m++){var v=y[m];g.push(s<=v?p[v-s]:v)}f.type===r.DeferredListAccess?p.push(e.InboundsListAccess(g)):p.push(e.copyInstructionWithArgs(f,g))}}return(t=e.getInstruction(e.returnIndex)).type===r.BroadcastResult&&t.isConstantBroadcast?l(e,e.returnIndex,t):e.returnIndex}}),define("core/math/ir/features/element-at",["require","exports","./list-length","./interpret","../opcodes","core/math/types","./nan-of-type"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elementsAt=t.elementAt=void 0,t.elementAt=function(e,t,a){var s=e.getInstruction(t);if(i.isList(s.valueType)){var c=r.getConstantListLength(e,t);if(a=Math.floor(a),isNaN(a)||a<0||void 0!==c&&c<=a){var l=i.elementType(s.valueType);return e.NanOfType(l)}return s.type===o.List?s.args[a]:s.type===o.Constant&&i.isList(s.valueType)?e.ConstantOfType(i.elementType(s.valueType),s.value[a]):s.type===o.BroadcastResult&&s.isConstantBroadcast?e.ConstantOfType(i.elementType(s.valueType),n.interpretBroadcastElement(e,t,a)):void 0!==c?e.InboundsListAccess([t,e.Constant(a+1)]):e.ListAccess([t,e.Constant(a+1)])}if(s.valueType===i.Point)return isNaN(a)||a<0||2<a?e.Constant(NaN):s.type===o.OrderedPair?s.args[a]:s.type===o.Constant?e.Constant(s.value[a]):e.OrderedPairAccess([t,e.Constant(a+1)]);throw new Error("Cannot access elements of "+i.prettyPrint(s.valueType))},t.elementsAt=function(e,t,s){var c=e.getInstruction(t);if(0===s.length)return e.ConstantOfType(c.valueType,[]);if(c.type===o.Constant&&i.isList(c.valueType)){for(var l=[],u=i.elementType(c.valueType),d=0,p=s;d<p.length;d++){var h=p[d],f=Math.floor(h);isNaN(f)||f<0||f>=r.assertConstantListLength(e,t,"Programming error: expected Constant list instruction to have constant length.")?l.push(a.nanOfType(u)):l.push(c.value[f])}return e.ConstantOfType(c.valueType,l)}if(c.type===o.List){l=[];for(var g=0,m=s;g<m.length;g++){var y;h=m[g],f=Math.floor(h);isNaN(f)||f<0||f>=r.assertConstantListLength(e,t,"Programming error: expected List instruction to have constant length.")?(y=i.elementType(c.valueType),l.push(e.NanOfType(y))):l.push(c.args[f])}return e.List(l)}if(c.type===o.BroadcastResult&&c.isConstantBroadcast)return e.ConstantOfType(c.valueType,n.interpretBroadcastElements(e,t,s));for(var v=[],b=!0,x=r.getConstantListLength(e,t),w=0,E=s;w<E.length;w++)h=E[w],f=Math.floor(h),v.push(e.Constant(f+1)),(isNaN(f)||f<0||void 0===x||x<=f)&&(b=!1);return s=[t,e.List(v)],b?e.InboundsListAccess(s):e.ListAccess(s)}}),define("core/math/ir/features/constant-collapse",["require","exports","../opcodes","../instructions","core/math/types","core/math/maybe-rational","./depends-on-outer-variable","./is-constant","./as-value","./reconstitute-ir","./list-length","./contains-nan-value","./interpret","./fuse-broadcast","./element-at","../../builtin"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g){"use strict";function m(e,t){for(var r=[],n=0,o=t;n<o.length;n++){var i=o[n];i=e.getInstruction(i);if(!s.isConstant(i))return;r.push(i.value)}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.constantCollapse=void 0,t.constantCollapse=function(e){if(e.instructionsLength()-1!==e.returnIndex)throw new Error("Programming Error: only the final instruction in a chunk can be constant collapsed");var t,y=e.getInstruction(e.returnIndex);if(n.isLeafInstruction(y))return e.returnIndex;switch(y.type){case r.Add:var v=e.getInstruction(y.args[0]),b=e.getInstruction(y.args[1]);return v.type===r.Constant&&b.type===r.Constant?(e.popInstruction(),e.Constant(p.Add(v.value,b.value))):v.type===r.Constant&&0===i.asFloat(v.value)?(e.popInstruction(),y.args[1]):b.type===r.Constant&&0===i.asFloat(b.value)?(e.popInstruction(),y.args[0]):e.returnIndex;case r.Subtract:return v=e.getInstruction(y.args[0]),b=e.getInstruction(y.args[1]),v.type===r.Constant&&b.type===r.Constant?(e.popInstruction(),e.Constant(p.Subtract(v.value,b.value))):v.type===r.Constant&&0===i.asFloat(v.value)?(e.popInstruction(),e.Negative([y.args[1]])):b.type===r.Constant&&0===i.asFloat(b.value)?(e.popInstruction(),y.args[0]):e.returnIndex;case r.Multiply:return v=e.getInstruction(y.args[0]),b=e.getInstruction(y.args[1]),v.type===r.Constant&&b.type===r.Constant?(e.popInstruction(),e.Constant(p.Multiply(v.value,b.value))):v.type===r.Constant&&1===i.asFloat(v.value)?(e.popInstruction(),y.args[1]):b.type===r.Constant&&1===i.asFloat(b.value)?(e.popInstruction(),y.args[0]):e.returnIndex;case r.Divide:return v=e.getInstruction(y.args[0]),b=e.getInstruction(y.args[1]),v.type===r.Constant&&b.type===r.Constant?(e.popInstruction(),e.Constant(p.Divide(v.value,b.value))):b.type===r.Constant&&1===i.asFloat(b.value)?(e.popInstruction(),y.args[0]):e.returnIndex;case r.Exponent:if(v=e.getInstruction(y.args[0]),b=e.getInstruction(y.args[1]),v.type===r.Constant&&b.type===r.Constant)return e.popInstruction(),e.Constant(p.Exponent(v.value,b.value));if(v.type===r.Constant&&v.valueType===o.Number){if((x=i.asFloat(v.value))===Math.E)return e.popInstruction(),e.SyntheticNativeFunction("exp",[y.args[1]]);if(0<x)return e.popInstruction(),e.RawExponent(y.args)}if(b.type===r.Constant&&b.valueType===o.Number){if(1===(x=i.asFloat(b.value)))return e.popInstruction(),y.args[0];if(x===Math.floor(x))return e.popInstruction(),e.RawExponent(y.args);if(i.isRational(b.value)){var x=b.value,w=x.n;if(x.d%2==1){e.popInstruction();var E=e.RawExponent([e.SyntheticNativeFunction("abs",[y.args[0]]),y.args[1]]);return w%2==0?E:e.Multiply([e.SyntheticNativeFunction("sign",[y.args[0]]),E])}}}return e.returnIndex;case r.RawExponent:return v=e.getInstruction(y.args[0]),b=e.getInstruction(y.args[1]),v.type===r.Constant&&b.type===r.Constant?(e.popInstruction(),e.Constant(p.Exponent(v.value,b.value))):b.type===r.Constant&&1===i.asFloat(b.value)?(e.popInstruction(),y.args[0]):e.returnIndex;case r.Negative:return(v=e.getInstruction(y.args[0])).type===r.Constant?(e.popInstruction(),e.Constant(p.Negative(v.value))):e.returnIndex;case r.Equal:return v=e.getInstruction(y.args[0]),b=e.getInstruction(y.args[1]),v.type===r.Constant&&b.type===r.Constant?(e.popInstruction(),e.ConstantOfType(o.Bool,p.Equal(v.value,b.value))):e.returnIndex;case r.Less:return v=e.getInstruction(y.args[0]),b=e.getInstruction(y.args[1]),v.type===r.Constant&&b.type===r.Constant?(e.popInstruction(),e.ConstantOfType(o.Bool,p.Less(v.value,b.value))):e.returnIndex;case r.Greater:return v=e.getInstruction(y.args[0]),b=e.getInstruction(y.args[1]),v.type===r.Constant&&b.type===r.Constant?(e.popInstruction(),e.ConstantOfType(o.Bool,p.Greater(v.value,b.value))):e.returnIndex;case r.LessEqual:return v=e.getInstruction(y.args[0]),b=e.getInstruction(y.args[1]),v.type===r.Constant&&b.type===r.Constant?(e.popInstruction(),e.ConstantOfType(o.Bool,p.LessEqual(v.value,b.value))):e.returnIndex;case r.GreaterEqual:return v=e.getInstruction(y.args[0]),b=e.getInstruction(y.args[1]),v.type===r.Constant&&b.type===r.Constant?(e.popInstruction(),e.ConstantOfType(o.Bool,p.GreaterEqual(v.value,b.value))):e.returnIndex;case r.And:return v=e.getInstruction(y.args[0]),b=e.getInstruction(y.args[1]),v.type===r.Constant&&b.type===r.Constant?(e.popInstruction(),e.ConstantOfType(o.Bool,p.And(v.value,b.value))):e.returnIndex;case r.Piecewise:return(v=e.getInstruction(y.args[0])).type===r.Constant?(e.popInstruction(),v.value?y.args[1]:y.args[2]):e.returnIndex;case r.OrderedPairAccess:return v=e.getInstruction(y.args[0]),b=e.getInstruction(y.args[1]),v.type===r.OrderedPair&&b.type===r.Constant?(e.popInstruction(),v.args[i.asFloat(b.value)-1]):v.type===r.Constant&&v.valueType===o.Point&&b.type===r.Constant?(e.popInstruction(),e.Constant(v.value[i.asFloat(b.value)-1])):e.returnIndex;case r.List:if(function(e){for(var t=0,r=y.args;t<r.length;t++){var n=r[t];n=e.getInstruction(n);if(!s.isConstant(n))return}return 1}(e)){e.popInstruction();for(var S=[],k=0,_=y.args;k<_.length;k++){var I=_[k];S.push(e.getInstruction(I).value)}return e.ConstantOfType(y.valueType,S)}return e.returnIndex;case r.ListAccess:case r.InboundsListAccess:w=y.args[0];var M=e.getInstruction(w);E=e.getInstruction(y.args[1]);if(M.type===r.Piecewise&&E.type===r.Constant){var L=y.type===r.ListAccess?e.ListAccess([M.args[1],y.args[1]]):e.InboundsListAccess([M.args[1],y.args[1]]),T=y.type===r.ListAccess?e.ListAccess([M.args[2],y.args[1]]):e.InboundsListAccess([M.args[2],y.args[1]]);return e.Piecewise([M.args[0],L,T])}if(M.type===r.BroadcastResult){if(E.type===r.Constant&&M.isConstantBroadcast&&M.valueType!==o.ListOfDistribution)return e.ConstantOfType(y.valueType,p.interpret(e,e.returnIndex));e.popInstruction();var C=w-(L=M.args[0]),A=(H=e.getInstruction(L)).args[0];T=void 0,L=void 0;if(y.type===r.InboundsListAccess)T=y.args[1];else{var O=u.getConstantListLength(e,w);if(E.type===r.Constant&&E.valueType===o.Number&&void 0!==O){w=i.asFloat(E.value);if((F=Math.floor(w))<1||O<F)return e.NanOfType(y.valueType);T=w===F?y.args[1]:e.Constant(F)}else{var P=e.Constant(1),D=e.getInstruction(A).args[0],F=e.SyntheticNativeFunction("floor",[y.args[1]]),N=e.GreaterEqual([F,P]),q=e.LessEqual([F,D]);T=e.Piecewise([N,e.Piecewise([q,F,D]),P]),L={one:P,lengthIndex:D,roundedIndex:F,greaterEqualIndex:N,lessEqualIndex:q}}}if(H.args[C]<A)return H.args[C];for(var R=[T],B=A+1;B<=H.args[C];B++){var j=e.getInstruction(B);if(n.isLeafInstruction(j))R.push(e.copyInstruction(j));else{for(var V=[],U=0,G=j.args;U<G.length;U++)I=G[U],V.push(A<=I?R[I-A]:I);j.type===r.DeferredListAccess?R.push(e.InboundsListAccess(V)):R.push(e.copyInstructionWithArgs(j,V))}}return L?(N=L.greaterEqualIndex,q=L.lessEqualIndex,D=L.lengthIndex,P=L.one,T=o.elementType(M.valueType),L=e.NanOfType(T),T=R[R.length-1],P=e.And([e.And([N,q]),e.GreaterEqual([D,P])]),e.Piecewise([P,T,L])):R[R.length-1]}if(E.type!==r.Constant||E.valueType!==o.Number)return e.returnIndex;if(M.type!==r.List)return M.type===r.Constant?(e.popInstruction(),z=Math.floor(i.asFloat(E.value))-1,isNaN(z)||z<0||z>=M.value.length?e.NanOfType(y.valueType):e.ConstantOfType(o.elementType(M.valueType),M.value[z])):e.returnIndex;e.popInstruction();var z=Math.floor(i.asFloat(E.value))-1;return isNaN(z)||z<0||z>=M.args.length?e.NanOfType(y.valueType):M.args[z];case r.BlockVar:var H=e.getInstruction(y.args[0]);if(!n.endsBlock(H))return e.returnIndex;if(C=e.returnIndex-y.args[0],a.dependsOnOuterVariable(e,H.args[C],H.args[0]))return e.returnIndex;var W=e.copy();return W.close(),S=W.getCompiledFunction().fn(),e.popInstruction(),l.reconstituteIR(e,y.valueType,S);case r.NativeFunction:switch(y.symbol){case"nthroot":if(void 0!==(t=m(e,y.args)))return e.Constant(i.nthroot(t[0],t[1]));var K=e.getInstruction(y.args[1]);return K.type===r.Constant&&K.valueType===o.Number?e.Exponent([y.args[0],e.Constant(i.reciprocal(K.value))]):e.returnIndex;case"length":return void 0!==(O=u.getConstantListLength(e,y.args[0]))?(e.popInstruction(),e.Constant(O)):e.returnIndex;case"select":if(s.isConstant(e.getInstruction(y.args[1]))){e.popInstruction();var $=c.asValue(e,y.args[1]),Y=[];for(B=0;B<$.length;B++)$[B]&&Y.push(B);return f.elementsAt(e,y.args[0],Y)}return e.returnIndex;case"shuffle":var X=y.args[0];M=y.args[1];if(void 0!==(O=u.getConstantListLength(e,M))&&s.isConstant(e.getInstruction(X))){e.popInstruction();var Q=g.randomPerm(c.asValue(e,X),O);return f.elementsAt(e,M,Q)}return e.returnIndex;case"elementsAt":return X=y.args[0],Q=y.args[1],s.isConstant(e.getInstruction(Q))?(e.popInstruction(),Q=c.asValue(e,Q),f.elementsAt(e,X,Q)):e.returnIndex;default:return void 0===(t=m(e,y.args))?e.returnIndex:(e.popInstruction(),e.ConstantOfType(y.valueType,p.NativeFunction(y.symbol,t)))}case r.ExtendSeed:return z=e.getInstruction(y.args[0]),W=e.getInstruction(y.args[1]),s.isConstant(z)&&s.isConstant(W)?e.ConstantOfType(o.SeedType,p.ExtendSeed(y.tag,c.asValue(e,y.args[0]),c.asValue(e,y.args[1]))):e.returnIndex;case r.OrderedPair:return v=e.getInstruction(y.args[0]),b=e.getInstruction(y.args[1]),v.type===r.Constant&&v.valueType===o.Number&&b.type===r.Constant&&b.valueType===o.Number?e.ConstantOfType(o.Point,[v.value,b.value]):e.returnIndex;case r.BroadcastResult:return void 0!==(O=u.getConstantListLength(e,e.returnIndex))&&0===O?(e.popInstruction(),e.ConstantOfType(y.valueType,[])):e.returnIndex;case r.Action:for(var J=0,Z=y.args;J<Z.length;J++)if(I=Z[J],!s.isConstantOrConstantBroadcast(e.getInstruction(I)))return e.returnIndex;e.popInstruction();var ee={};for(B=0;B<y.symbols.length;B++){var te=y.symbols[B],re=e.getInstruction(y.args[B]);if(re.type===r.BroadcastResult&&(re=e.getInstruction(h.fuseBroadcast(e,y.args[B]))),re.type!==r.Constant)throw new Error("Expected instruction to be constant");var ne=re.valueType;S=re.value;d.containsNanValue(ne,S)||(ee[te]={value:S,valueType:ne})}return e.ConstantOfType(o.Action,{type:"Action",updateRules:ee});case r.EndLoop:case r.EndIntegral:case r.BeginBroadcast:case r.EndBroadcast:case r.DeferredListAccess:case r.Distribution:case r.BeginIntegral:case r.BeginLoop:return e.returnIndex;default:throw new Error("Unexpected opcode "+y.type)}}}),define("core/math/ir/features/type-check",["require","exports","core/math/errormsg","../opcodes","core/math/types","../builtin-table","../instructions"],function(e,t,r,n,o,i,a){"use strict";function s(e,t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];r.push(o.prettyPrint(e.getInstruction(a).valueType))}return r}function c(e,t,r){for(var n=0;n<t.length;n++){var i=e.getInstruction(t[n]).valueType,a=r[n];if(!o.isSubType(i,a))return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.typeCheck=t.argIsTypeOrListOfType=t.argTypesMatch=t.extractScalarValueTypes=t.extractValueTypes=void 0,t.extractValueTypes=s,t.extractScalarValueTypes=function(e,t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];a=e.getInstruction(a).valueType,a=o.isList(a)?o.elementType(a):a;r.push(o.prettyPrint(a))}return r},t.argTypesMatch=c,t.argIsTypeOrListOfType=function(e,t,r){return o.isTypeOrListOfType(e.getInstruction(t).valueType,r)},t.typeCheck=function(e,t){var l=e.getInstruction(t);if(!a.isLeafInstruction(l))switch(l.type){case n.Add:var u=[o.Number,o.Number];if(!c(e,l.args,u))throw r.addTypeError(s(e,l.args));return;case n.Subtract:if(u=[o.Number,o.Number],!c(e,l.args,u))throw r.subtractTypeError(s(e,l.args));return;case n.Multiply:if(u=[o.Number,o.Number],!c(e,l.args,u))throw r.multiplyTypeError(s(e,l.args));return;case n.Divide:if(u=[o.Number,o.Number],!c(e,l.args,u))throw r.divideTypeError(s(e,l.args));return;case n.Exponent:case n.RawExponent:if(u=[o.Number,o.Number],!c(e,l.args,u))throw r.exponentTypeError(s(e,l.args));return;case n.Negative:if(u=[o.Number],!c(e,l.args,u))throw r.negativeTypeError(s(e,l.args));return;case n.Equal:case n.Less:case n.Greater:case n.LessEqual:case n.GreaterEqual:if(u=[o.Number,o.Number],!c(e,l.args,u))throw r.comparatorTypeError(s(e,l.args));return;case n.And:if(u=[o.Bool,o.Bool],!c(e,l.args,u))throw r.andTypeError(s(e,l.args));return;case n.Piecewise:if(e.getInstruction(l.args[0]).valueType!==o.Bool)throw r.piecewiseConditionTypeError(s(e,l.args));if(!o.isSubType(e.getInstruction(l.args[1]).valueType,l.valueType)||!o.isSubType(e.getInstruction(l.args[2]).valueType,l.valueType))throw r.piecewiseBranchTypeError([o.prettyPrint(e.getInstruction(l.args[1]).valueType),o.prettyPrint(e.getInstruction(l.args[2]).valueType)]);return;case n.OrderedPair:for(var d=0,p=l.args;d<p.length;d++){var h=p[d];if((b=e.getInstruction(h).valueType)!==o.Number)throw r.pointTypeError(o.prettyPrint(b))}return;case n.OrderedPairAccess:if(u=[o.Point,o.Number],!c(e,l.args,u))throw r.orderedPairAccessTypeError(s(e,l.args));return;case n.BeginIntegral:var f=e.getInstruction(l.args[0]).valueType,g=e.getInstruction(l.args[1]).valueType;if(f!==o.Number)throw r.integralLowerBoundTypeError([o.prettyPrint(f)]);if(g!==o.Number)throw r.integralUpperBoundTypeError([o.prettyPrint(g)]);return;case n.EndIntegral:if((g=e.getInstruction(l.args[1]).valueType)!==o.Number)throw r.integralArgumentTypeError([o.prettyPrint(g)]);return;case n.List:if(0===l.args.length)return;var m=e.getInstruction(l.args[0]).valueType;if(!o.hasListType(m))throw r.listTypeError([o.prettyPrint(m)]);for(var y=0,v=l.args;y<v.length;y++){h=v[y];var b=e.getInstruction(h).valueType;if(!o.hasListType(b))throw r.listTypeError([o.prettyPrint(b)]);if(b!==m)throw r.heterogeneousList()}return;case n.ListAccess:case n.DeferredListAccess:case n.InboundsListAccess:var x=e.getInstruction(l.args[0]).valueType,w=o.isList(x),E=e.getInstruction(l.args[1]).valueType===o.Number;if(!w||!E)throw r.indexTypeError(s(e,l.args));return;case n.NativeFunction:x=l.args;var S=l.symbol;E=(u=(w=i.BuiltInTable[S]).argumentTypes,l.callData.errorSymbol);if(c(e,l.args,u))return;if("doubleReducer"===w.tag){if(!o.isList(e.getInstruction(x[0]).valueType)||!o.isList(e.getInstruction(x[1]).valueType))throw r.nonListDoubleReducer(E)}else if("parameterizedReducer"===w.tag&&!o.isList(e.getInstruction(x[0]).valueType))throw r.nonListParameterizedReducer(E);throw r.functionTypeError(E,s(e,x));case n.ExtendSeed:if(e.getInstruction(l.args[0]).valueType!==o.SeedType||e.getInstruction(l.args[1]).valueType!==o.SeedType&&e.getInstruction(l.args[1]).valueType!==o.Number)throw r.parseError();return;case n.Action:for(var k=0,_=l.args;k<_.length;k++){h=_[k];var I=e.getInstruction(h).valueType;if(!o.isTypeOrListOfType(I,o.Number)&&!o.isTypeOrListOfType(I,o.Point))throw r.updateRuleTypeError(o.prettyPrint(I))}for(var M={},L=0,T=l.symbols;L<T.length;L++){if(M[S=T[L]])throw r.duplicateUpdateRules(S);M[S]=!0}return;case n.BroadcastResult:case n.BlockVar:case n.BeginBroadcast:case n.EndBroadcast:case n.BeginLoop:case n.EndLoop:case n.Distribution:return;default:throw new Error("Unexpected opcode: "+l.type)}}}),define("core/math/ir/features/count-references",["require","exports","../opcodes","../instructions"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.countReferences=void 0,t.countReferences=function(e){for(var t=[],o=0;o<e.instructionsLength();o++){t.push(0);var i=e.getInstruction(o);if(!n.isLeafInstruction(i))if(n.endsBlock(i)&&i.type!==r.EndIntegral)for(var a=0,s=i.args;a<s.length;a++)t[s[a]]=1/0;else for(var c=0,l=i.args;c<l.length;c++)t[l[c]]+=1}return t}}),define("core/math/ir/features/emit-js",["require","exports","../opcodes","./print","../instructions","core/math/maybe-rational","core/math/types","../builtin-table","./count-references","core/math/context-types","./as-value","./nan-of-type","core/math/ir/constants"],function(e,t,r,n,o,i,a,s,c,l,u,d,p){"use strict";function h(e){return"_"+e}function f(e,t){return void 0!==(t=t[e])?t:"_"+e}function g(e,t,o,i,c,l){var v=o+1;switch(t.type){case r.Noop:case r.BlockVar:case r.BroadcastResult:case r.EndIntegral:case r.Action:return{source:"",nextIdx:v};case r.BeginIntegral:return{source:function(e,t,r,n,o,i){var a="BuiltIn.quad(";return a+=function(e,r,n,o,i){var a=t.endIndex,s="function(_"+r+") {\n";s+=m(e,r+1,a-1,n);for(var c=r+1;c<a;){var l;s+=(l=g(e,l=e.getInstruction(c),c,n,o,i)).source,c=l.nextIdx}return s+"return "+f(e.getInstruction(a).args[1],o)+";\n}"}(e,r,n,o,i),a+=","+f(t.args[0],o)+","+f(t.args[1],o)+")",n[(i=t.endIndex)+1]<=1?(o[i+1]=a,""):h(i+1)+"="+a+";"}(e,t,o,i,c,l),nextIdx:t.endIndex};case r.LoadArg:return c[o]=e.argNames[o],{source:"",nextIdx:v};case r.BeginBroadcast:return{source:function(e,t,n,o){n="_"+n;for(var i=e.getInstruction(t.endIndex),a=(o=f(t.args[0],o),""),s=1;s<i.args.length;s++){var c=t.endIndex+s;e.getInstruction(c).type===r.BroadcastResult&&(a+="_"+c+"=[];\n")}return(a+="if("+o+">"+p.MAX_LIST_SIZE+") throw ErrorMsg.maxListSize();\n")+"for("+n+"=1;"+n+"<="+o+";"+n+"++){\n"}(e,t,o,c),nextIdx:v};case r.EndBroadcast:return{source:function(e,t,n,o){for(var i="",a=1;a<t.args.length;a++){var s=n+a;s>=e.instructionsLength()||e.getInstruction(s).type===r.BroadcastResult&&(i+=h(n+a)+".push("+f(t.args[a],o)+");\n")}return i+"}\n"}(e,t,o,c),nextIdx:v};case r.BeginLoop:return{source:function(e,t,n,o){for(var i="_"+n,a=""+f(t.args[0],o),s=""+f(t.args[1],o),c="if(!isFinite("+s+"-"+a+")){\n",l=2;l<t.args.length;l++){var u,p=t.endIndex+l-1;p>=e.instructionsLength()||(u=e.getInstruction(p)).type===r.BlockVar&&(c+="_"+p+"="+y(d.nanOfType(u.valueType))+";\n")}for(c+="}else{\n",l=2;l<t.args.length;l++){var h=n+l-1;e.getInstruction(h).type===r.BlockVar&&(c+="_"+h+"="+f(t.args[l],o)+";\n")}return c+"for("+i+"="+a+";"+i+"<="+s+";"+i+"++){\n"}(e,t,o,c),nextIdx:v};case r.EndLoop:return{source:function(e,t,n,o){for(var i="",a=1;a<t.args.length;a++){var s=t.args[0]+a;e.getInstruction(s).type===r.BlockVar&&(i+="_"+s+"="+f(t.args[a],o)+";\n")}for(i+="}\n",a=1;a<t.args.length;a++){var c=n+a;c>=e.instructionsLength()||e.getInstruction(c).type===r.BlockVar&&(i+="_"+c+"="+f(t.args[0]+a,o)+";\n")}return i+"}\n"}(e,t,o,c),nextIdx:v};default:var b=function(e,t,o){switch(e.type){case r.Constant:return e.valueType===a.Number||e.valueType===a.Bool||e.valueType===a.Point?y(e.value):(o.push(u.compilerValueToRuntimeValue(e.value)),"_C["+(o.length-1)+"]");case r.Add:return f(e.args[0],t)+"+"+f(e.args[1],t);case r.Subtract:return f(e.args[0],t)+"-"+f(e.args[1],t);case r.Multiply:return f(e.args[0],t)+"*"+f(e.args[1],t);case r.Divide:return f(e.args[0],t)+"/"+f(e.args[1],t);case r.Exponent:return"BuiltIn.pow("+f(e.args[0],t)+","+f(e.args[1],t)+")";case r.RawExponent:return"Math.pow("+f(e.args[0],t)+","+f(e.args[1],t)+")";case r.Negative:return"-"+f(e.args[0],t);case r.Equal:return f(e.args[0],t)+"==="+f(e.args[1],t);case r.Less:return f(e.args[0],t)+"<"+f(e.args[1],t);case r.Greater:return f(e.args[0],t)+">"+f(e.args[1],t);case r.LessEqual:return f(e.args[0],t)+"<="+f(e.args[1],t);case r.GreaterEqual:return f(e.args[0],t)+">="+f(e.args[1],t);case r.And:return f(e.args[0],t)+"&&"+f(e.args[1],t);case r.Piecewise:return f(e.args[0],t)+"?"+f(e.args[1],t)+":"+f(e.args[2],t);case r.OrderedPair:return"["+f(e.args[0],t)+","+f(e.args[1],t)+"]";case r.OrderedPairAccess:return f(e.args[0],t)+"["+f(e.args[1],t)+"-1]";case r.List:return"["+e.args.map(function(e){return f(e,t)}).join(",")+"]";case r.DeferredListAccess:case r.Distribution:case r.SymbolicVar:throw new Error("Programming Error: expect "+n.printOp(e.type)+" to be removed before emitting code.");case r.ListAccess:var i=f(e.args[0],t);return"(Math.floor("+(c=f(e.args[1],t))+")>=1&&Math.floor("+c+")<="+i+".length)?"+i+"[Math.floor("+c+")-1]:"+y(d.nanOfType(e.valueType));case r.InboundsListAccess:return(i=f(e.args[0],t))+"["+(c=f(e.args[1],t))+"-1]";case r.NativeFunction:i=s.BuiltInTable[e.symbol];var c=e.args.map(function(e){return f(e,t)}).join(",");return i.module+"."+i.symbol+"("+c+")";case r.ExtendSeed:return f(e.args[0],t)+"+'::"+e.tag+"'+"+f(e.args[1],t);case r.LoadArg:case r.Noop:case r.BeginIntegral:case r.EndIntegral:case r.BeginLoop:case r.EndLoop:case r.BeginBroadcast:case r.EndBroadcast:case r.BlockVar:case r.BroadcastResult:case r.Action:default:throw new Error("Unexpected opcode "+e.type)}}(t,c,l);return i[o]<=1?(c[o]="("+b+")",{source:"",nextIdx:v}):{source:"_"+o+"="+b+";\n",nextIdx:v}}}function m(e,t,n,i){for(var a="",s=!1,c=t;c<=n;c++){var l=e.getInstruction(c);l.type!==r.Noop&&l.type!==r.EndBroadcast&&l.type!==r.EndLoop&&(l.type!==r.BeginIntegral?i[c]<=1&&!o.beginsBlock(l)&&!o.endsBlock(l)&&l.type!==r.BlockVar&&l.type!==r.BroadcastResult||(s?a+=",":(a+="var ",s=!0),a+="_"+c):c=i[(l=l.endIndex)+1]<=1?l+1:l)}return s&&(a+=";\n"),a}function y(e){if(Array.isArray(e))return"["+e.map(y).join(",")+"]";switch(typeof e){case"boolean":case"number":return e.toString();case"string":return""+JSON.stringify(e);case"object":if(l.isActionCompilerValue(e))throw new Error("Action values cannot be compiled");return i.asFloat(e).toString();default:throw new Error("Unexpected value: "+e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.emitJS=void 0,t.emitJS=function(e){for(var t=c.countReferences(e),r=[],n=[],o=m(e,e.argNames.length,e.instructionsLength()-1,t),i=0;i<e.instructionsLength();){var a;o+=(a=g(e,a=e.getInstruction(i),i,t,r,n)).source,i=a.nextIdx}return{source:o+="return "+f(e.returnIndex,r)+";",constants:n}}}),define("core/math/ir/features/get-value-type",["require","exports","../opcodes","core/math/types"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getValueType=void 0,t.getValueType=function(e,t,o){switch(t){case r.Add:case r.Subtract:case r.Multiply:case r.Divide:case r.Exponent:case r.RawExponent:case r.Negative:case r.OrderedPairAccess:case r.BeginIntegral:case r.BeginLoop:case r.BeginBroadcast:return n.Number;case r.Equal:case r.Less:case r.Greater:case r.LessEqual:case r.GreaterEqual:case r.And:return n.Bool;case r.Piecewise:var i=e.getInstruction(o[1]).valueType,a=e.getInstruction(o[2]).valueType;return i===n.EmptyList&&n.isList(a)?a:i;case r.OrderedPair:return n.Point;case r.List:if(0===o.length)return n.EmptyList;var s=e.getInstruction(o[0]).valueType;return n.hasListType(s)?n.listType(s):n.ListOfAny;case r.ListAccess:case r.DeferredListAccess:case r.InboundsListAccess:return s=e.getInstruction(o[0]).valueType,n.isList(s)?n.elementType(s):n.Any;case r.ExtendSeed:return n.SeedType;case r.Action:return n.Action;case r.Constant:case r.LoadArg:case r.NativeFunction:case r.Distribution:case r.BlockVar:case r.BroadcastResult:case r.SymbolicVar:case r.Noop:case r.EndIntegral:case r.EndBroadcast:case r.EndLoop:return n.Any;default:throw new Error("Unexpected opcode "+t)}}}),define("core/math/ir/features/drop-unreferenced-instructions",["require","exports","../instructions"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dropUnreferencedInstructions=void 0,t.dropUnreferencedInstructions=function(e){for(var t=[],n=0;n<e.instructionsLength();n++)t.push(!1);for(t[e.returnIndex]=!0,n=e.instructionsLength()-1;0<=n;n--)if(t[n]){var o=e.getInstruction(n);if(!r.isLeafInstruction(o))for(var i=0,a=o.args;i<a.length;i++)t[a[i]]=!0}else e.replaceInstructionWithNoop(n)}}),define("core/math/ir/features/copy-instruction",["require","exports","../opcodes"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyInstructionWithArgs=t.copyInstruction=void 0,t.copyInstruction=function(e,t){return e.pushLeafInstruction(t)},t.copyInstructionWithArgs=function(e,t,n){switch(t.type){case r.Add:return e.Add(n);case r.Subtract:return e.Subtract(n);case r.Multiply:return e.Multiply(n);case r.Divide:return e.Divide(n);case r.Exponent:return e.Exponent(n);case r.RawExponent:return e.RawExponent(n);case r.Negative:return e.Negative(n);case r.Equal:return e.Equal(n);case r.Less:return e.Less(n);case r.Greater:return e.Greater(n);case r.LessEqual:return e.LessEqual(n);case r.GreaterEqual:return e.GreaterEqual(n);case r.And:return e.And(n);case r.Piecewise:return e.Piecewise(n);case r.BlockVar:return e.BlockVar(t.valueType,n);case r.BroadcastResult:return e.BroadcastResult(t.valueType,n);case r.OrderedPair:return e.OrderedPair(n);case r.OrderedPairAccess:return e.OrderedPairAccess(n);case r.NativeFunction:return e.NativeFunction(t.symbol,t.callData,n);case r.Distribution:return e.Distribution(t.symbol,n);case r.BeginIntegral:return e.BeginIntegral(t.callData,n);case r.EndIntegral:return e.EndIntegral(n);case r.BeginBroadcast:return e.BeginBroadcast(n);case r.EndBroadcast:return e.EndBroadcast(n);case r.BeginLoop:return e.BeginLoop(t.callData,n);case r.EndLoop:return e.EndLoop(n);case r.List:return e.List(n);case r.ListAccess:return e.ListAccess(n);case r.DeferredListAccess:return e.DeferredListAccess(n);case r.InboundsListAccess:return e.InboundsListAccess(n);case r.ExtendSeed:return e.ExtendSeed(t.tag,n);case r.Action:return e.Action(t.symbols,n);default:throw new Error("Unexpected opcode "+t.type)}}}),define("core/math/ir/features/convert-to-broadcast",["require","exports","../opcodes","core/math/types","./list-length","../instructions","../builtin-table","./fuse-broadcast","./is-constant","./as-value","./copy-instruction"],function(e,t,r,n,o,i,a,s,c,l,u){"use strict";function d(e,t,i){for(var a,d=t.args,h=!1,f=[],g=0;g<d.length;g++)i&&!i[g]||(_=d[g],a=e.getInstruction(_).valueType,n.isList(a)&&-1===f.indexOf(_)&&f.push(_),a===n.EmptyList&&(h=!0));if(0===f.length)return e.returnIndex;if(t.type===r.Piecewise&&-1==f.indexOf(t.args[0])&&0<=f.indexOf(t.args[1])&&0<=f.indexOf(t.args[2])){var m=s.fuseBroadcast(e,t.args[1]),y=s.fuseBroadcast(e,t.args[2]);return m!==t.args[1]||y!==t.args[2]?u.copyInstructionWithArgs(e,t,[t.args[0],m,y]):e.returnIndex}if(e.popInstruction(),void 0===(y=o.minListLengthIndex(e,f)))throw new Error("Programming Error: expected minListLength to be defined for "+f.length+" lists");if(c.isConstant(e.getInstruction(y))&&0===l.asValue(e,y)&&h)return e.ConstantOfType(n.EmptyList,[]);for(var v=e.BeginBroadcast([y]),b=[],x=0,w=f;x<w.length;x++){var E=w[x];b.push(p(e,E,v))}var S=[];for(g=0;g<d.length;g++){var k,_=d[g];i&&!i[g]?S.push(_):(k=f.indexOf(_),S.push(-1===k?_:b[k]))}return y=e.copyInstructionWithArgs(t,S),t=e.EndBroadcast([v,y]),e.BroadcastResult(n.listType(e.getInstruction(y).valueType),[t])}function p(e,t,n){return e.getInstruction(t).type==r.BroadcastResult?e.DeferredListAccess([t,n]):e.InboundsListAccess([t,n])}Object.defineProperty(t,"__esModule",{value:!0}),t.deferredOrInboundsAccess=t.convertToBroadcast=void 0,t.convertToBroadcast=function(e){if(e.instructionsLength()-1!==e.returnIndex)throw new Error("Programming Error: only the final instruction in a chunk can be converted to broadcast");var t=e.getInstruction(e.returnIndex);if(i.isLeafInstruction(t))return e.returnIndex;switch(t.type){case r.Add:case r.Subtract:case r.Multiply:case r.Divide:case r.Exponent:case r.RawExponent:case r.Equal:case r.Less:case r.Greater:case r.LessEqual:case r.GreaterEqual:case r.And:case r.OrderedPair:case r.Negative:case r.Piecewise:case r.OrderedPairAccess:return d(e,t);case r.Distribution:return s.fuseBroadcast(e,d(e,t));case r.NativeFunction:var o=a.BuiltInTable[t.symbol];switch(o.tag){case"default":case"trig":case"inverseTrig":case"color":return d(e,t);case"never-broadcast":for(var c=[],l=!1,u=0,p=t.args;u<p.length;u++){var h=p[u],f=s.fuseBroadcast(e,h);f!==h?(l=!0,c.push(f)):c.push(h)}return l?e.copyInstructionWithArgs(t,c):e.returnIndex;case"reducer":if(function(e){for(var r=0,o=t.args;r<o.length;r++){var i=o[r];if(n.isList(e.getInstruction(i).valueType))return 1}}(e)){if(1!==t.args.length)return d(e,t);var g=t.args[0],m=s.fuseBroadcast(e,g);return m!==g?e.copyInstructionWithArgs(t,[m]):e.returnIndex}if(m=function(e,t){var r=e.getInstruction(t[0]).valueType;if(!n.hasListType(r))return n.ListOfAny;for(var o=0,i=t;o<i.length;o++){var a=i[o];if(e.getInstruction(a).valueType!==r)return n.ListOfAny}return n.listType(r)}(e,t.args),n.isSubType(m,o.argumentTypes[0])){e.popInstruction();var y=e.List(t.args);return e.copyInstructionWithArgs(t,[y])}return e.returnIndex;case"doubleReducer":if(2!==t.args.length)throw new Error("Programming error: double reducers must have two arguments");var v=s.fuseBroadcast(e,t.args[0]);y=s.fuseBroadcast(e,t.args[1]);return v!==t.args[0]||y!==t.args[1]?e.copyInstructionWithArgs(t,[v,y]):e.returnIndex;case"parameterizedReducer":if(2!==t.args.length)throw new Error("Programming error: double reducers must have two arguments");return(v=s.fuseBroadcast(e,t.args[0]))===t.args[0]?d(e,t,[!1,!0]):e.copyInstructionWithArgs(t,[v,t.args[1]]);default:throw v=o.tag,new Error("Programming Error: unexpected tag "+v)}case r.ListAccess:case r.DeferredListAccess:case r.InboundsListAccess:return d(e,t,[!1,!0]);case r.BeginIntegral:case r.EndIntegral:case r.BeginLoop:case r.EndLoop:return e.returnIndex;case r.List:case r.BlockVar:case r.BeginBroadcast:case r.EndBroadcast:case r.BroadcastResult:case r.ExtendSeed:case r.Action:return e.returnIndex;default:throw new Error("Unexpected opcode "+t.type)}},t.deferredOrInboundsAccess=p}),define("core/math/ir/features/to-dot",["require","exports","../instructions","./print","../opcodes"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];t.push("digraph {");for(var i=0;i<e.instructionsLength();i++)(a=e.getInstruction(i)).type!==o.Noop&&t.push(i+' [label="'+i+": "+n.printInstruction(e,i)+'"];');for(i=0;i<e.instructionsLength();i++){var a=e.getInstruction(i);if(r.isInternalInstruction(a))for(var s=0,c=a.args;s<c.length;s++){var l=c[s];t.push(i+" -> "+l+";")}}return t.push("}"),t.join("\n")}}),define("core/math/ir/features/get-dependency-mask",["require","exports","../instructions"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDependencyMask=void 0,t.getDependencyMask=function(e,t){for(var n=[],o=0;o<e.instructionsLength();o++)n.push(!1);n[t]=!0;for(var i=0;i<=1;i++){var a=!1;for(o=t+1;o<e.instructionsLength();o++){var s=e.getInstruction(o);if(!r.isLeafInstruction(s)&&!n[o]){for(var c=!1,l=0,u=s.args;l<u.length;l++)if(n[u[l]]){c=!0;break}(n[o]=c)&&r.endsBlock(s)&&!n[s.args[0]]&&(a=n[s.args[0]]=!0)}}if(!a)break}return n}}),define("core/math/ir/features/polynomial-order",["require","exports","../opcodes","core/math/maybe-rational","./get-dependency-mask","../instructions"],function(e,t,r,n,o,i){"use strict";function a(e,t,r){var n=r.allowRestriction;r=r.allowClosedBlockReferences;return{chunk:e,argIndex:t,orderTable:[],mask:o.getDependencyMask(e,t),allowRestriction:n,allowClosedBlockReferences:r}}function s(e,t){var o=e.orderTable[t];return void 0!==o?o:(o=function(e,t){var o=e.chunk,a=e.mask,c=e.argIndex,l=e.allowRestriction;if(!e.allowClosedBlockReferences&&o.isInClosedBlock(t))return 1/0;if(t===c)return 1;var u=o.getInstruction(t);if(i.beginsBlock(u)||i.endsBlock(u))return 1/0;switch(u.type){case r.Add:case r.Subtract:case r.Less:case r.LessEqual:case r.Greater:case r.GreaterEqual:var d=(p=u.args)[0],p=p[1];return Math.max(s(e,d),s(e,p));case r.Multiply:var h=u.args;d=h[0],p=h[1];return s(e,d)+s(e,p);case r.Negative:return s(e,u.args[0]);case r.Divide:return d=(h=u.args)[0],0<s(e,p=h[1])?1/0:s(e,d);case r.Exponent:case r.RawExponent:var f=(d=(f=u.args)[0],p=f[1],o.getInstruction(p));return 0===s(e,d)&&0===s(e,p)?0:f.type!==r.Constant?1/0:(f=n.asFloat(f.value))===Math.round(f)&&0<f?s(e,d)*f:1/0;case r.Piecewise:return a[t]?(f=o.getInstruction(u.args[2]),l&&f.type===r.Constant&&isNaN(n.asFloat(f.value))?s(e,u.args[1]):1/0):0;case r.LoadArg:case r.Noop:case r.Constant:case r.Equal:case r.And:case r.OrderedPair:case r.OrderedPairAccess:case r.List:case r.ListAccess:case r.DeferredListAccess:case r.InboundsListAccess:case r.NativeFunction:case r.Distribution:case r.BroadcastResult:case r.BlockVar:case r.SymbolicVar:case r.ExtendSeed:case r.Action:return a[t]?1/0:0;default:throw new Error("Unexpected opcode "+u.type)}}(e,t),e.orderTable[t]=o)}Object.defineProperty(t,"__esModule",{value:!0}),t.instructionOrder=t.polynomialOrderContext=t.polynomialOrder=void 0,t.polynomialOrder=function(e,t,r){return-1===(t=e.argNames.indexOf(t))?0:s(a(e,t,r),e.returnIndex)},t.polynomialOrderContext=a,t.instructionOrder=s}),define("core/math/ir/features/get-polynomial-coefficients",["require","exports","../chunk","../opcodes","core/math/maybe-rational","./polynomial-order","../instructions","./copy-instruction"],function(e,t,r,n,o,i,a,s){"use strict";function c(e){var t=e.chunk,o=e.argIndex;if(t.isInClosedBlock(o))throw new Error("Programming Error: cannot find polynomial coefficients of an instruction in a closed block");0<=o&&o<t.argNames.length?(m=t.argNames.slice(),y=t.argTypes.slice(),m.splice(o,1),y.splice(o,1)):(m=t.argNames,y=t.argTypes);for(var i=new r.Chunk({argNames:m,argTypes:y}),c=[],l=0;l<t.instructionsLength();l++){var u=t.getInstruction(l);if(u.type===n.LoadArg)l<o||o<0?c.push(l):l===o?c.push(i.SymbolicVar(t.argTypes[l])):c.push(l-1);else if(a.isLeafInstruction(u))c.push(s.copyInstruction(i,u));else{for(var d=[],p=0,h=u.args;p<h.length;p++){var f=h[p];d.push(c[f])}c.push(s.copyInstructionWithArgs(i,u,d))}}var g=i.Constant(0),m=i.Constant(1),y=i.Constant(NaN);return{chunk:t,newChunk:i,orderCtx:e,coefficientTable:[],mask:e.mask,valueMap:c,argIndex:o,zero:g,one:m,nan:y}}function l(e,t){var r,a=e.newChunk,s=e.orderCtx,c=e.coefficientTable,u=e.mask,d=e.valueMap,p=e.argIndex,h=e.zero,f=e.one,g=e.nan,m=c[t];if(void 0!==m)return m;for(r=u[t]?t===p?[h,f]:2<i.instructionOrder(s,t)?[g]:function(e){var r=e.chunk.getInstruction(t),i=e.newChunk;switch(r.type){case n.Add:for(var a=r.args,s=a[0],c=a[1],u=l(e,s),d=l(e,c),p=u.length-1,h=d.length-1,f=[],g=0;g<=Math.max(p,h);g++)g<=p&&g<=h?f.push(i.Add([u[g],d[g]])):f.push((h<p?u:d)[g]);return f;case n.Subtract:case n.Less:case n.LessEqual:case n.Greater:case n.GreaterEqual:s=(a=r.args)[0],c=a[1],r.type!==n.Less&&r.type!=n.LessEqual||(s=(x=[c,s])[0],c=x[1]),u=l(e,s),d=l(e,c),p=u.length-1,h=d.length-1,f=[];for(var m=0;m<=Math.max(p,h);m++)m<=p&&m<=h?f.push(i.Subtract([u[m],d[m]])):f.push(h<p?u[m]:i.Negative([d[m]]));return f;case n.Negative:u=l(e,s=r.args[0]),f=[];for(var y=0;y<u.length;y++)f.push(i.Negative([u[y]]));return f;case n.Multiply:for(var v,b,x=r.args,w=(s=x[0],c=x[1],u=l(e,s),d=l(e,c),p=u.length-1,h=d.length-1,f=[],0);w<=p;w++)for(var E=0;E<=h;E++)2<w+E||(v=i.Multiply([u[w],d[E]]),b=f[w+E],f[w+E]=void 0===b?v:i.Add([b,v]));return f;case n.Divide:for(var S=r.args,k=(s=S[0],c=S[1],u=l(e,s),d=l(e,c),f=[],0);k<u.length;k++)f.push(i.Divide([u[k],d[0]]));return f;case n.Exponent:case n.RawExponent:if(s=(S=r.args)[0],c=S[1],u=l(e,s),d=l(e,c),0==(p=u.length-1))return[i.RawExponent([u[0],d[0]])];switch(c=i.getInstruction(d[0]),o.asFloat(c.value)){case 0:return[i.Constant(0)];case 1:return u;case 2:return[i.Multiply([u[0],u[0]]),i.Multiply([i.Constant(2),i.Multiply([u[0],u[1]])]),i.Multiply([u[1],u[1]])]}case n.Piecewise:return l(e,r.args[1]);case n.Noop:case n.BeginBroadcast:case n.LoadArg:case n.Constant:case n.Equal:case n.And:case n.OrderedPair:case n.OrderedPairAccess:case n.List:case n.ListAccess:case n.DeferredListAccess:case n.InboundsListAccess:case n.NativeFunction:case n.Distribution:case n.BeginIntegral:case n.EndIntegral:case n.BeginLoop:case n.EndLoop:case n.EndBroadcast:case n.BroadcastResult:case n.BlockVar:case n.SymbolicVar:case n.ExtendSeed:case n.Action:throw new Error("Cannot find polynomial coefficients of opcode "+r.type+" that depends on symbol.");default:throw new Error("Unexpected opcode "+r.type)}}(e):[d[t]];1<r.length;){var y=a.getInstruction(r[r.length-1]);if(y.type!==n.Constant||0!==o.asFloat(y.value))break;r.pop()}if(0===r.length)throw new Error("Programming Error: coefficients cannot be empty");return c[t]=r}Object.defineProperty(t,"__esModule",{value:!0}),t.instructionCoefficients=t.polynomialCoefficientContext=t.getPolynomialCoefficients=void 0,t.getPolynomialCoefficients=function(e,t){var r=e.argNames.indexOf(t),o=c(i.polynomialOrderContext(e,r,{allowRestriction:!0,allowClosedBlockReferences:!1}));if(2<i.instructionOrder(o.orderCtx,e.returnIndex))throw new Error("Programming Error: cannot compute polynomial coefficients for polynomials of order greater than 2");t=l(o,e.returnIndex);for(var a=!1,s=0;s<e.instructionsLength();s++)e.getInstruction(s).type===n.Piecewise&&o.mask[s]&&(a=!0);return{chunk:o.newChunk,coefficients:t,mappedArgIndex:o.valueMap[r],mappedReturnIndex:o.valueMap[e.returnIndex],isRestrictedPolynomial:a}},t.polynomialCoefficientContext=c,t.instructionCoefficients=l}),define("core/math/ir/features/lift-point-operations",["require","exports","../opcodes","core/math/types","../instructions"],function(e,t,r,n,o){"use strict";function i(e,t){return e.getInstruction(t).valueType===n.Point}function a(e,t){return e.getInstruction(t).valueType===n.Number}Object.defineProperty(t,"__esModule",{value:!0}),t.liftPointOperations=void 0,t.liftPointOperations=function(e){if(e.instructionsLength()-1!==e.returnIndex)throw new Error("Programming Error: only the final instruction in a chunk can be converted to broadcast");var t=e.getInstruction(e.returnIndex);if(o.isLeafInstruction(t))return e.returnIndex;switch(t.type){case r.Add:if(i(e,t.args[0])&&i(e,t.args[1])){var n=e.Constant(1),s=e.Constant(2);return e.OrderedPair([e.Add([e.OrderedPairAccess([t.args[0],n]),e.OrderedPairAccess([t.args[1],n])]),e.Add([e.OrderedPairAccess([t.args[0],s]),e.OrderedPairAccess([t.args[1],s])])])}return e.returnIndex;case r.Subtract:return i(e,t.args[0])&&i(e,t.args[1])?(n=e.Constant(1),s=e.Constant(2),e.OrderedPair([e.Subtract([e.OrderedPairAccess([t.args[0],n]),e.OrderedPairAccess([t.args[1],n])]),e.Subtract([e.OrderedPairAccess([t.args[0],s]),e.OrderedPairAccess([t.args[1],s])])])):e.returnIndex;case r.Negative:return i(e,t.args[0])?(n=e.Constant(1),s=e.Constant(2),e.OrderedPair([e.Negative([e.OrderedPairAccess([t.args[0],n])]),e.Negative([e.OrderedPairAccess([t.args[0],s])])])):e.returnIndex;case r.Multiply:return i(e,t.args[0])&&a(e,t.args[1])?(n=e.Constant(1),s=e.Constant(2),e.OrderedPair([e.Multiply([e.OrderedPairAccess([t.args[0],n]),t.args[1]]),e.Multiply([e.OrderedPairAccess([t.args[0],s]),t.args[1]])])):a(e,t.args[0])&&i(e,t.args[1])?(n=e.Constant(1),s=e.Constant(2),e.OrderedPair([e.Multiply([t.args[0],e.OrderedPairAccess([t.args[1],n])]),e.Multiply([t.args[0],e.OrderedPairAccess([t.args[1],s])])])):e.returnIndex;case r.Divide:return i(e,t.args[0])&&a(e,t.args[1])?(n=e.Constant(1),s=e.Constant(2),e.OrderedPair([e.Divide([e.OrderedPairAccess([t.args[0],n]),t.args[1]]),e.Divide([e.OrderedPairAccess([t.args[0],s]),t.args[1]])])):e.returnIndex;case r.Exponent:case r.RawExponent:case r.Equal:case r.Less:case r.Greater:case r.LessEqual:case r.GreaterEqual:case r.And:case r.OrderedPair:case r.Piecewise:case r.OrderedPairAccess:case r.NativeFunction:case r.Distribution:case r.ListAccess:case r.DeferredListAccess:case r.InboundsListAccess:case r.BeginIntegral:case r.EndIntegral:case r.BeginLoop:case r.EndLoop:case r.List:case r.BlockVar:case r.BeginBroadcast:case r.EndBroadcast:case r.BroadcastResult:case r.ExtendSeed:case r.Action:return e.returnIndex;default:throw new Error("Unexpected opcode "+t.type)}}}),define("core/math/policy",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultPolicy=void 0;var r=["Sum","Product","Integral","List","Derivative","Piecewise","Exponent","PercentOf","FunctionDefinition","UpdateRule"];t.defaultPolicy={assignmentForbidden:function(e){return!0},graphingEnabled:function(){return!1},isValidSlider:function(e){return!1},sliderVariables:function(e){return[]},ansEnabled:function(){return!1},disabledFeatures:function(){return r},dimensionVarsEnabled:function(){return!1}}}),define("core/math/ir/features/substitute",["require","exports","../instructions","./copy-instruction","../opcodes"],function(e,t,r,n,o){"use strict";function i(e,t){var n=e.chunk,s=e.argMap,c=e.start;if(t<c)return t;if(void 0!==(s=s[t-c]))return s;s=a(e,t),e.argMap[t-c]=s;var l=n.getInstruction(t);if(r.beginsBlock(l))switch(l.type){case o.BeginBroadcast:case o.BeginIntegral:break;case o.BeginLoop:for(var u=l.args.length-2,d=0;d<u;d++)i(e,t+1+d);break;default:throw new Error("Programming Error. Unexpected OpCode: "+l.type)}else if(r.endsBlock(l))for(u=l.args.length-1,d=0;d<u;d++)i(e,t+1+d);return s}function a(e,t){var o=e.chunk,a=e.start,s=o.getInstruction(t);if(r.endsBlock(s))for(var c=s.args[0],l=c;l<=t;l++){var u=o.getInstruction(l);if(!r.isLeafInstruction(u))for(var d=0,p=u.args;d<p.length;d++)(m=p[d])<c&&i(e,m)}if(r.isLeafInstruction(s))return n.copyInstruction(o,s);for(var h=[],f=0,g=s.args;f<g.length;f++){var m=g[f];h.push(i(e,m))}return void 0!==(a=e.argMap[t-a])?a:n.copyInstructionWithArgs(o,s,h)}Object.defineProperty(t,"__esModule",{value:!0}),t._substituteInstruction=t.substitute=void 0,t.substitute=function(e,t,r,n){return i({chunk:e,argMap:[t],start:r},n)},t._substituteInstruction=a}),define("core/math/ir/dependencies",["require","exports","core/math/builtinframe"],function(e,t,r){"use strict";function n(e,t){return"FunctionDefinition"===t.type&&(t=t._expression),o(e,t,{})}function o(e,t,n){if("Slider"===t.type||"Assignment"===t.type)return o(e,t._expression,n);n=(e=function e(t,n,i){for(var a=[],s=[],c=0,l=n.scopes;c<l.length;c++){for(var u=e(t,l[c],i),d=0,p=u.freeDependencies;d<p.length;d++){var h=p[d];-1===a.indexOf(h)&&-1===n.definitions.indexOf(h)&&a.push(h)}for(var f=0,g=u.updateSymbols;f<g.length;f++)h=g[f],-1===s.indexOf(h)&&s.push(h)}for(var m=0,y=n.dependencies;m<y.length;m++){for(var v=function(e,t,n){if(n[t])return n[t];if(r[t])return n[t]={freeDependencies:[],updateSymbols:[]},n[t];var i=e[t];return i?(n[t]={freeDependencies:[t],updateSymbols:[]},n[t]=o(e,i,n)):n[t]={freeDependencies:[t],updateSymbols:[]},n[t]}(t,y[m],i),b=0,x=v.freeDependencies;b<x.length;b++)h=x[b],-1===a.indexOf(h)&&-1===n.definitions.indexOf(h)&&a.push(h);for(var w=0,E=v.updateSymbols;w<E.length;w++)h=E[w],-1===s.indexOf(h)&&s.push(h)}return{freeDependencies:a,updateSymbols:s}}(e,t.getScope(),n)).freeDependencies;var i=e.updateSymbols;if(0<(t=t.getUpdateSymbols()).length){i=i.slice();for(var a=0,s=t;a<s.length;a++){var c=s[a];-1===i.indexOf(c)&&i.push(c)}}return{freeDependencies:n,updateSymbols:i}}Object.defineProperty(t,"__esModule",{value:!0}),t.getCacheKeys=t.analyzeDependencies=t.getFreeDependencies=t.FRAME_SENTINEL=void 0,t.FRAME_SENTINEL={},t.getFreeDependencies=function(e,t){return n(e,t).freeDependencies},t.analyzeDependencies=n,t.getCacheKeys=function(e,r){for(var n={},o=r.getDependencies().slice();o.length;){var i=o.pop();if(!n.hasOwnProperty(i)){var a=e[i];if(a===t.FRAME_SENTINEL)return;(n[i]=a)&&a.getDependencies&&Array.prototype.push.apply(o,a.getDependencies())}}return function(e){var t,r=[];for(t in e)r.push([t,e[t]]);return r}(n)}}),define("core/math/ir/features/take-derivative",["require","exports","core/math/builtinframe","tslib","core/math/errormsg","../scope","../instructions","../opcodes","./get-dependency-mask","core/math/policy","core/math/baseparser","../build-ir","./copy-instruction","core/math/types","./substitute","./list-length","../dependencies","core/math/maybe-rational"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g,m,y){"use strict";function v(e,t){var r=e.chunk,n=e.valueMap,o=e.mustCopy;e=r.getInstruction(t);if(a.isLeafInstruction(e))return o?p.copyInstruction(r,e):t;for(var i=[],s=!1,c=0,l=e.args;c<l.length;c++){var u=l[c];i.push(n[u]),n[u]!==u&&(s=!0)}return s||o?p.copyInstructionWithArgs(r,e,i):t}Object.defineProperty(t,"__esModule",{value:!0}),t.takeDerivative=void 0,t.takeDerivative=function(e,t,u){var b=e.getInstruction(t);if(!h.isTypeOrListOfType(b.valueType,h.Number)&&!h.isTypeOrListOfType(b.valueType,h.Point))throw o.derivativeTypeError([h.prettyPrint(b.valueType)]);var w=e.getInstruction(u);if(!h.isTypeOrListOfType(w.valueType,h.Number)&&w.type!==s.Noop)throw o.parseError();var S=e.Constant(0);if(t<u)return S;for(var k=e.Constant(1),_=e.Constant(NaN),I=(b=c.getDependencyMask(e,u),w=function(e,t){for(var r=[],n=0;n<t;n++)r.push(!1);for(r.push(!0),n=t;0<=n;n--)if(r[n]){var o=e.getInstruction(n);if(!a.isLeafInstruction(o))if(o.type===s.Piecewise)r[o.args[1]]=!0,r[o.args[2]]=!0;else for(var i=0,c=o.args;i<c.length;i++)r[c[i]]=!0}return r}(e,t),[]),M=[],L=0;L<u;L++)M.push(L),I.push(S);return function e(t,o,c){for(var u=t.chunk,b=t.valueMap,w=t.derivativeMap,S=t.backwardMask,k=o;k<=c;k++){var _=u.getInstruction(k);if(S[k]&&a.beginsBlock(_)&&-1!==_.endIndex)switch(_.type){case s.BeginIntegral:k=function(t,r){var o,i=t.chunk,s=t.forwardMask,c=t.valueMap,l=t.derivativeMap,u=t.ZERO,d=i.getInstruction(r),h=d.endIndex,g=i.getInstruction(h),m=u;if(s[d.args[1]]&&(o=c[d.args[1]],m=i.Add([m,i.Multiply([l[d.args[1]],f.substitute(i,o,r,g.args[1])])])),s[d.args[0]]&&(o=c[d.args[0]],m=i.Subtract([m,i.Multiply([l[d.args[0]],f.substitute(i,o,r,g.args[1])])])),function(e,t,r){var n=e.getInstruction(t),o=e.getInstruction(n.endIndex);if(o.args[1]<t+1)return r[o.args[1]];for(var i=t+1;i<=o.args[1];i++){var s=e.getInstruction(i);if(!a.isLeafInstruction(s))for(var c=0,l=s.args;c<l.length;c++){var u=l[c];if(u<t&&r[u])return 1}}}(i,r,s))(s=c.slice()).push(p.copyInstructionWithArgs(i,d,[s[d.args[0]],s[d.args[1]]])),l.push(u),e(n.__assign(n.__assign({},t),{valueMap:s,mustCopy:!0}),r+1,h-1),s=p.copyInstructionWithArgs(i,g,[s[g.args[0]],l[g.args[1]]]),l.push(s),m=i.Add([m,p.copyInstructionWithArgs(i,i.getInstruction(h+1),[s])]);else for(var y=r;y<=h;y++)l.push(u);if(function(e,t,r){for(var n=e.getInstruction(t),o=t;o<=n.endIndex;o++){var i=e.getInstruction(o);if(!a.isLeafInstruction(i))for(var s=0,c=i.args;s<c.length;s++){var l=c[s];if(r[l]!==l)return 1}}}(i,r,c)){var b=n.__assign(n.__assign({},t),{mustCopy:!0});for(y=r;y<=h+1;y++)c.push(v(b,y))}else for(y=r;y<=h+1;y++)c.push(y);return l.push(m),h+g.args.length-1}(t,k);continue;case s.BeginLoop:case s.BeginBroadcast:k=function(t,r){var o=t.chunk,i=t.derivativeMap,a=t.valueMap,c=t.ZERO,l=o.getInstruction(r),u=l.endIndex,d=o.getInstruction(u);if(l.type===s.BeginBroadcast)a.push(p.copyInstructionWithArgs(o,l,l.args)),i.push(c);else{var h=[];h.push(a[l.args[0]],a[l.args[1]]);for(var f=2;f<l.args.length;f++)h.push(a[l.args[f]],i[l.args[f]]);for(a.push(p.copyInstructionWithArgs(o,l,h)),i.push(c),f=2;f<l.args.length;f++)a.push(p.copyInstructionWithArgs(o,o.getInstruction(r+f-1),[a[r]])),i.push(p.copyInstructionWithArgs(o,o.getInstruction(r+f-1),[a[r]]))}e(n.__assign(n.__assign({},t),{mustCopy:!0}),i.length,u-1);var g=[];for(g.push(a[d.args[0]]),f=1;f<d.args.length;f++)g.push(a[d.args[f]],i[d.args[f]]);for(a.push(p.copyInstructionWithArgs(o,d,g)),i.push(c),f=1;f<d.args.length;f++)a.push(p.copyInstructionWithArgs(o,o.getInstruction(u+f),[a[u]])),i.push(p.copyInstructionWithArgs(o,o.getInstruction(u+f),[a[u]]));return u+d.args.length-1}(t,k);continue}b.push(v(t,k)),w.push(function(e,t){var n=e.chunk,o=e.derivativeVarIndex,c=e.forwardMask,u=e.backwardMask,f=e.valueMap,v=e.derivativeMap,b=e.ZERO,w=e.ONE,S=e.NAN,k=n.getInstruction(t);if(!u[t])return b;if(t===o)return h.isList(k.valueType)?(o=g.listLengthIndex(n,t),o=n.BeginBroadcast([o]),o=n.EndBroadcast([o,w]),n.BroadcastResult(h.ListOfNumber,[o])):w;if(a.beginsBlock(k)||a.endsBlock(k)||k.type===s.BlockVar||k.type===s.BroadcastResult||k.type===s.Equal||k.type===s.Greater||k.type===s.Less||k.type===s.GreaterEqual||k.type===s.LessEqual||k.type===s.And||k.type===s.Distribution||k.type===s.ExtendSeed||k.type===s.Action)return b;if(!c[t]||a.isLeafInstruction(k))return k.valueType!==h.Number?n.Multiply([b,f[t]]):k.type!==s.Constant||isFinite(y.asFloat(k.value))?b:S;if(k.type===s.List||k.type===s.OrderedPair){for(var _=[],I=0,M=k.args;I<M.length;I++){var L=M[I];_.push(v[L])}return p.copyInstructionWithArgs(n,k,_)}if(k.type===s.Piecewise)return p.copyInstructionWithArgs(n,k,[f[k.args[0]],v[k.args[1]],v[k.args[2]]]);for(var T=b,C=[],A=0,O=k.args;A<O.length;A++){var P=O[A];C.push(f[P])}for(var D=0;D<k.args.length;D++){var F;c[k.args[D]]&&((F=v[k.args[D]])===b||(F=function(e,t,n,o,a){var c=e.chunk,u=e.ZERO,h=e.ONE,f=e.NAN;switch(t.type){case s.Add:return a;case s.Subtract:return 0!==n?c.Negative([a]):a;case s.Multiply:return 0!==n?c.Multiply([o[0],a]):c.Multiply([a,o[1]]);case s.Divide:return 0!==n?c.Multiply([o[0],c.Divide([c.Negative([a]),c.Multiply([o[1],o[1]])])]):c.Divide([a,o[1]]);case s.Negative:return c.Negative([a]);case s.Exponent:case s.RawExponent:return 0!==n?c.Multiply([c.Piecewise([c.Equal([o[0],u]),c.Piecewise([c.GreaterEqual([o[1],u]),u,f]),c.Multiply([c.SyntheticNativeFunction("ln",[o[0]]),c.Exponent([o[0],o[1]])])]),a]):c.Multiply([c.Multiply([o[1],c.Exponent([o[0],c.Subtract([o[1],h])])]),a]);case s.NativeFunction:return function(e,t,n,o){for(var a=Object.create(r),s=i.Scope({},-1),c=0;c<n.length;c++){var u=x[c];i.setSymbol(s,u,n[c]),a[u]=m.FRAME_SENTINEL}return i.setSymbol(s,"x_1",o),a.x_1=m.FRAME_SENTINEL,d.addToIR(d.Ctx(l.defaultPolicy,a,e,s,void 0),t)}(c,E[t.symbol][n],o,a);case s.ListAccess:case s.DeferredListAccess:case s.InboundsListAccess:case s.OrderedPairAccess:return 0!==n?u:p.copyInstructionWithArgs(c,t,[a,o[1]]);default:throw new Error("Unimplemented derivative for opcode "+t.type)}}(e,k,D,C,F))!==b&&(T=T===b?F:n.Add([F,T])))}return T}(t,k))}return c}({chunk:e,derivativeVarIndex:u,forwardMask:b,backwardMask:w,valueMap:M,derivativeMap:I,mustCopy:!1,ZERO:S,ONE:k,NAN:_},u,t),I[t]};var b,x=["x","y","z","u"],w={exp:["\\exp(x)*x_1"],ln:["\\{x >= 0: x_1/x \\}"],log:["\\{x >= 0: x_1/(x*\\ln(10)) \\}"],sqrt:["x_1/(2*\\sqrt{x})"],rtxsqpone:["x*x_1/\\rtxsqpone(x)"],rtxsqmone:["x*x_1/\\rtxsqmone(x)"],sin:["\\cos(x)*x_1"],cos:["-\\sin(x)*x_1"],tan:["\\sec(x)^2*x_1"],arcsin:["x_1/\\sqrt{1 - x^2}"],arccos:["-x_1/\\sqrt{1 - x^2}"],sinh:["\\cosh(x)*x_1"],cosh:["\\sinh(x)*x_1"],tanh:["(\\sech(x))^2*x_1"],arcsinh:["x_1/\\sqrt{x^2 + 1}"],arccosh:["\\{ x > 0: x_1/\\rtxsqmone(x) \\}"],arctanh:["\\{ \\abs(x) < 1: x_1/(1 - x^2) \\}"],csc:["-\\cot(x)*\\csc(x)*x_1"],sec:["\\tan(x)*\\sec(x)*x_1"],cot:["-\\csc(x)^2*x_1"],arccsc:["-x_1/(\\abs(x)*\\rtxsqmone(x))"],arcsec:["x_1/(\\abs(x)*\\rtxsqmone(x))"],arccot:["-x_1/(1+x^2)"],csch:["-\\coth(x)*\\csch(x)*x_1"],sech:["-\\tanh(x)*\\sech(x)*x_1"],coth:["-(\\csch(x))^2*x_1"],arccsch:["-x_1/(\\abs(x)*\\rtxsqpone(x))"],arcsech:["\\{ x >= 0: -x_1/(x*\\sqrt{1 - x^2}) \\}"],arccoth:["\\{ \\abs(x) > 1 : x_1/(1 - x^2) \\}"],factorial:["(x)!*\\polyGamma(0, x + 1)*x_1"],floor:["\\{ \\mod(x, 1) > 0: 0*x_1 \\}"],ceil:["\\{ \\mod(x, 1) > 0: 0*x_1 \\}"],round:["\\{ \\abs(\\mod(x, 1) - 0.5) > 0: 0*x_1 \\}"],abs:["\\{ \\abs(x) > 0: \\sign(x)*x_1 \\}"],sign:["\\{ \\abs(x) > 0: 0*x_1 \\}"],distance:["-((y.x-x.x)*x_1.x+(y.y-x.y)*x_1.y)/\\distance(x,y)","((y.x-x.x)*x_1.x+(y.y-x.y)*x_1.y)/\\distance(x,y)"],mean:["\\mean(x_1)"],total:["\\total(x_1)"],length:["0"],var:["2*\\cov(x, x_1)"],varp:["2*\\cov(x, x_1)*(\\length(x)-1)/\\length(x)"],stdev:["\\cov(x, x_1)/\\stdev(x)"],stdevp:["\\covp(x, x_1)/\\stdevp(x)"],mad:["\\mean(\\sign(x-\\mean(x))*(x_1 - \\mean(x_1)))"],min:["x_1[\\argmin(x)]"],max:["x_1[\\argmax(x)]"],median:["0.5*(x_1[\\lowerQuantileIndex(x, 0.5)] + x_1[\\upperQuantileIndex(x, 0.5)])"],argmin:["0/0"],argmax:["0/0"],gcd:["0/0"],lcm:["0/0"],erf:["\\frac{2x_1}{\\sqrt{\\pi }}e^{-x^2}"],invNorm:["\\frac{x_1}{\\pdf(\\normaldist(0,1),\\invNorm(x))}"],logbase:["\\{x > 0: \\frac{x_1}{x*\\ln(y)} \\}","\\frac{-\\log_{y}(x)*x_1}{y*\\ln(y)}"],nthroot:["x^{1/y - 1}/y*x_1","-\\frac{x^{1/y}*\\ln(x)*x_1}{y^2}"],hypot:["x_1*x/\\hypot(x,y)","x_1*y/\\hypot(x,y)"],polyGamma:["0/0","\\polyGamma(1 + x, y)*x_1"],mod:["\\{ \\abs(\\mod(x, y)) > 0: x_1 \\}","\\{ \\mod(x/y, 1) > 0: -\\floor(x/y)*x_1 \\}"],cov:["\\cov(x_1, y)","\\cov(x, x_1)"],covp:["\\covp(x_1, y)","\\covp(x, x_1)"],corr:["(\\cov(x_1, y) - (\\cov(x, y)*\\cov(x, x_1)/\\var(x)))/(\\stdevp(x)\\stdevp(y))","(\\cov(x, x_1) - (\\cov(x, y)*\\cov(y, x_1)/\\var(y)))/(\\stdevp(x)\\stdevp(y))"],spearman:["0/0","0/0"],quantile:["\\{ \\floor(y*(\\length(x)-1)) = y*(\\length(x)-1) :   x_1[\\upperQuantileIndex(x, y)],  (\\ceil(y*(\\length(x)-1)) - y*(\\length(x)-1))*x_1[\\lowerQuantileIndex(x, y)] +   (y*(\\length(x)-1) - \\floor(y*(\\length(x)-1)))*x_1[\\upperQuantileIndex(x, y)]\\}","\\{ \\floor(y*(\\length(x)-1)) < y*(\\length(x)-1) :   (x[\\upperQuantileIndex(x, y)] - x[\\lowerQuantileIndex(x, y)])*x_1\\}"],quartile:["0.5*(x_1[\\lowerQuartileIndex(x, y)] + x_1[\\upperQuartileIndex(x, y)])","0/0"],tscore:["\\frac{\\sqrt{\\length(x)}(\\stdev(x)*\\mean(x_1)-(\\mean(x)-y)*\\frac{\\cov(x,x_1)}{\\stdev(x)})}{\\stdev(x)^2}","-x_1*\\sqrt{\\length(x)}/\\stdev(x)"],quartileIndex:["0/0","0/0"],upperQuartileIndex:["0/0","0/0"],lowerQuartileIndex:["0/0","0/0"],upperQuantileIndex:["0/0","0/0"],lowerQuantileIndex:["0/0","0/0"],nCr:["0/0","0/0"],nPr:["0/0","0/0"],arctan:["x_1*y/(y^2+x^2)","-x_1*x/(y^2+x^2)"],poissonpdf:["0/0","x_1\\frac{e^{-y}(\\floor(x)-y)y^{(\\floor(x)-1)}}{(\\floor(x))!}"],invPoisson:["0/0","0/0"],tpdf:["x_1*\\pdf(\\tdist(y),x)*\\frac{-(y+1)*x}{y+x^2}","x_1*\\frac{1}{2}\\pdf(\\tdist(y),x)(  \\frac{x^2-1}{y + x^2} + \\ln(\\frac{y}{y + x^2}) +   \\polyGamma(0, \\frac{1+y}{2}) - \\polyGamma(0, y/2))"],invT:["x_1/\\pdf(\\tdist(y),\\invT(x, y))","0/0"],tcdf:["-x_1*\\pdf(\\tdist(z),x)","x_1*\\pdf(\\tdist(z),y)","0/0"],poissoncdf:["0/0","0/0","x_1\\sum _{n=\\max(0,\\floor(\\min(x,y)))}^{\\floor(\\max(x,y))}\\frac{e^{-z}(n-z)z^{(n-1)}}{n!}"],normalpdf:["-x_1*\\frac{x-y}{z^2} \\pdf(\\normaldist(y,z),x)","x_1*\\frac{x-y}{z^2} \\pdf(\\normaldist(y,z),x)","x_1*(\\frac{(x-y-z)*(x-y+z)}{z^3}) \\pdf(\\normaldist(y,z),x)"],binompdf:["0/0","0/0","\\{0<=z<=1: x_1*\\pdf(\\binomialdist(y,z),x)*(\\frac{\\round(x)}{z}-\\frac{\\round(y)-\\round(x)}{1-z}), 0 \\}"],invBinom:["0/0","0/0","0/0"],uniformpdf:["0","\\{y<=x: \\frac{x_1}{(z-y)^2}, 0\\}","\\{z>=x: -\\frac{x_1}{(z-y)^2}, 0\\}"],invUniform:["\\{y<=x<=z: x_1*(z-y), 0\\}","\\{y<=x<=z: x_1*(1-x), 0\\}","\\{y<=x<=z: x_1*x, 0\\}"],normalcdf:["-x_1\\pdf(\\normaldist(z,u), x)","x_1\\pdf(\\normaldist(z,u), y)","-x_1*(\\pdf(\\normaldist(z,u), y) - \\pdf(\\normaldist(z,u), x))","x_1*(  \\{\\abs(y)=1/0:0,\\frac{z-y}{u}\\pdf(\\normaldist(z,u),y)\\} -   \\{\\abs(x)=1/0:0,\\frac{z-x}{u}\\pdf(\\normaldist(z,u),x)\\})"],binomcdf:["0/0","0/0","0/0","\\{0<=u<=1: x_1*\\sum _{n=\\max(0,\\round(\\min(x,y)))}^{\\round(\\max(x,y))}(  \\pdf(\\binomialdist(z,u),n)*(\\frac{n}{u}-\\frac{\\round(z)-n}{1-u})), 0 \\}"],uniformcdf:["\\{z>u: 0/0, -x_1\\pdf(\\uniformdist(z,u), x)\\}","\\{z>u: 0/0, x_1\\pdf(\\uniformdist(z,u), y)\\}","\\{z>u: 0/0, x_1*(\\frac{\\{z<x<u:u-x,0\\} + \\{z<y<u:y-u,0\\}}{(u-z)^2})\\}","\\{z>u: 0/0, x_1*(\\frac{\\{z<x<u:x-z,0\\} + \\{z<y<u:z-y,0\\}}{(u-z)^2})\\}"],normalSample:["0/0","0/0","0/0"],uniformSample:["0/0","0/0","0/0"],tSample:["0/0","0/0"],poissonSample:["0/0","0/0"],binomSample:["0/0","0/0","0/0"],rgb:["0/0","0/0","0/0"],hsv:["0/0","0/0","0/0"],polygon:["\\polygon(x_1)"],validateRangeLength:["0","0","0","\\{\\validateRangeLength(x,y,z,u) \\ge 1: x_1, 0\\}"],validateSampleCount:["\\{x<0:0,1\\}*x_1"],select:["\\select(x_1, y)","0*\\select(x,y)"],shuffle:["0*y","\\shuffle(x, x_1)"],sortPerm:["0*x"],elementsAt:["\\elementsAt(x_1, y)","0*\\elementsAt(x,y)"],uniquePerm:["0*\\uniquePerm(x)"]},E={};for(b in w){for(var S=b,k=w[S],_=[],I=0;I<k.length;I++){var M=k[I];_.push(u.parse(M,{}))}E[S]=_}}),define("core/math/ir/features/bound-domain",["require","exports","core/math/domaintypes","core/math/types","core/math/maybe-rational","../opcodes","./polynomial-order","./get-polynomial-coefficients","../instructions","./is-constant","./as-value"],function(e,t,r,n,o,i,a,s,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boundDomain=void 0,t.boundDomain=function(e,t,d){return-1!==(t=e.argNames.indexOf(t))?function e(t,d){var p=t.domainTable,h=p[d];return void 0!==h?h:(t=function(t,d){var p=t.chunk,h=t.mask,f=t.orderCtx,g=p.getInstruction(d);if(c.isLeafInstruction(g)){if(g.type===i.Constant)if(g.valueType==n.Number){if(isNaN(o.asFloat(g.value)))return r.emptyDomain()}else if(g.valueType===n.ListOfNumber)for(var m=0,y=g.value;m<y.length;m++){var v=y[m];if(isNaN(o.asFloat(v)))return r.unknownDomain()}return r.allReals()}switch(g.type){case i.And:case i.Add:case i.Subtract:case i.Multiply:case i.Divide:case i.Exponent:case i.RawExponent:case i.Negative:case i.BlockVar:case i.BroadcastResult:case i.OrderedPair:case i.OrderedPairAccess:case i.NativeFunction:case i.Distribution:case i.BeginIntegral:case i.EndIntegral:case i.BeginBroadcast:case i.EndBroadcast:case i.BeginLoop:case i.EndLoop:case i.ListAccess:case i.DeferredListAccess:case i.InboundsListAccess:case i.ExtendSeed:case i.Action:for(var b=r.allReals(),x=0,w=g.args;x<w.length;x++){var E=w[x];b=r.intersectDomains(b,e(t,E))}return b;case i.List:if(!h[d])return r.allReals();var S=e(t,g.args[0]);if("known"!==S.type)return r.unknownDomain();for(var k=1;k<g.args.length;k++){if("known"!==(b=e(t,g.args[k])).type)return r.unknownDomain();if(b.bounds[0]!==S.bounds[0]||b.bounds[1]!==S.bounds[1])return r.unknownDomain()}return S;case i.Equal:return h[d]?r.unknownDomain():r.allReals();case i.Piecewise:return(M=p.getInstruction(g.args[2])).type===i.Constant&&M.valueType===n.Number&&isNaN(o.asFloat(M.value))?r.intersectDomains(e(t,g.args[0]),e(t,g.args[1])):r.unknownDomain();case i.Less:case i.Greater:case i.LessEqual:case i.GreaterEqual:if(!h[d])return r.allReals();if(1<a.instructionOrder(f,d))return r.unknownDomain();void 0===(I=t.coefficientCtx)&&(I=s.polynomialCoefficientContext(f),t.coefficientCtx=I);var _=I.newChunk,I=(M=s.instructionCoefficients(I,d))[0],M=M[1];if(!l.isConstant(_.getInstruction(I)))return r.unknownDomain();if(I=u.asValue(_,I),isNaN(I))return r.emptyDomain();for(var L=r.allReals(),T=0,C=g.args;T<C.length;T++)E=C[T],L=r.intersectDomains(L,e(t,E));return void 0===M?g.type===i.LessEqual||g.type===i.GreaterEqual?0<=I?L:r.emptyDomain():0<I?L:r.emptyDomain():(M=u.asValue(_,M),r.intersectDomains(L,r.linearPositiveDomain(I,M)))}}(t,d),p[d]=t)}({chunk:(t=a.polynomialOrderContext(e,t,{allowRestriction:!0,allowClosedBlockReferences:!1})).chunk,mask:t.mask,orderCtx:t,domainTable:[]},d):(d=e.getInstruction(d)).type===i.Constant&&d.valueType===n.Number&&isNaN(o.asFloat(d.value))?r.emptyDomain():r.allReals()}}),define("core/math/ir/features/find-linear-subset",["require","exports","../opcodes","core/math/types","../instructions"],function(e,t,r,n,o){"use strict";function i(e){for(var t=[],r=0;r<e;r++)t.push(!0);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.findLinearSubset=void 0,t.findLinearSubset=function(e){for(var t=[],a=[],s=0;s<e.argNames.length;s++){for(var c=[],l=[],u=0;u<e.argNames.length;u++)c.push(e.argTypes[u]===n.Number),l.push(s===u);a.push(l),t.push(c)}for(s=e.argNames.length;s<=e.returnIndex;s++)a.push(function(e,t,r){r=e.getInstruction(r);var n=function(e){for(var t=[],r=0;r<e;r++)t.push(!1);return t}(e.argNames.length);if(o.isLeafInstruction(r))return n;for(var i=0,a=r.args;i<a.length;i++)for(var s=t[a[i]],c=0;c<s.length;c++)n[c]=n[c]||s[c];return n}(e,a,s)),t.push(function(e,t,n,a){var s=e.getInstruction(a);if(o.isLeafInstruction(s))return i(e.argNames.length);switch(s.type){case r.Add:case r.Subtract:case r.Negative:case r.List:for(var c=i(e.argNames.length),l=0;l<s.args.length;l++)for(var u=n[s.args[l]],d=0;d<u.length;d++)c[d]=c[d]&&u[d];return c;case r.Divide:for(var p=[],h=n[s.args[0]],f=t[s.args[1]],g=0;g<h.length;g++)p.push(h[g]&&!f[g]);return p;case r.Multiply:for(var m=n[s.args[0]].slice(),y=n[s.args[1]].slice(),v=t[s.args[0]],b=t[s.args[1]],x=0,w=0,E=0;E<m.length;E++){var S=m[E]&&!b[E],k=y[E]&&!v[E];(m[E]=S)&&(x+=1),(y[E]=k)&&(w+=1)}return w<=x?m:y;case r.Piecewise:var _=t[s.args[0]],I=n[s.args[1]],M=n[s.args[2]],L=[];for(a=0;a<_.length;a++)L.push(!_[a]&&I[a]&&M[a]);return L;case r.ListAccess:case r.DeferredListAccess:case r.InboundsListAccess:var T=n[s.args[0]],C=t[s.args[1]],A=[];for(a=0;a<C.length;a++)A.push(T[a]&&!C[a]);return A;case r.BroadcastResult:var O=s.args[0],P=a-O;return n[e.getInstruction(O).args[P]];case r.OrderedPair:case r.OrderedPairAccess:case r.Exponent:case r.RawExponent:case r.Less:case r.LessEqual:case r.Greater:case r.GreaterEqual:case r.Equal:case r.And:case r.NativeFunction:case r.Distribution:case r.BeginIntegral:case r.EndIntegral:case r.BeginLoop:case r.EndLoop:case r.BeginBroadcast:case r.EndBroadcast:case r.BlockVar:case r.ExtendSeed:case r.Action:for(var D=[],F=0,N=t[a];F<N.length;F++){var q=N[F];D.push(!q)}return D;default:throw new Error("Unexpected opcode "+s.type)}}(e,a,t,s));return t[e.returnIndex]}}),define("core/math/ir/features/derive-regression-restrictions",["require","exports","../opcodes","core/math/types","../instructions","./is-constant","./as-value","./polynomial-order","./get-polynomial-coefficients","core/math/domaintypes","./list-length"],function(e,t,r,n,o,i,a,s,c,l,u){"use strict";function d(e){return e.type===r.NativeFunction&&("sin"===e.symbol||"cos"===e.symbol)}function p(e,t,r,n){e=e.getInstruction(n);for(var i=function(e){for(var t=[],r=0;r<e;r++)t.push(!1);return t}(t.length),a=0;a<t.length;a++)if(t[a]===n)return i[a]=!0,i;if(o.isLeafInstruction(e))return i;for(var s=0,c=e.args;s<c.length;s++)for(var l=r[c[s]],u=0;u<l.length;u++)i[u]=i[u]||l[u];return i}Object.defineProperty(t,"__esModule",{value:!0}),t.deriveRegressionRestrictions=void 0,t.deriveRegressionRestrictions=function(e){if((o=e.getInstruction(e.returnIndex)).type!==r.BroadcastResult)return e;var t=o.args[0],o=e.returnIndex-t,h=(t=e.getInstruction(t)).args[0],f=t.args[o],g=[],m=[];g.push(h),o=u.assertConstantListLength(e,e.returnIndex,"Programming error: cannot optimize regression on non-constant-length list"),m.push({min:1,max:o,length:o});for(var y,v=!1,b=!1,x=h+1;x<=f;x++)(q=e.getInstruction(x)).type===r.ListAccess||q.type===r.InboundsListAccess||q.type===r.DeferredListAccess?q.args[1]===h&&(y=q.args[0],e.getInstruction(y).valueType===n.ListOfNumber&&i.isConstant(e.getInstruction(y))&&(y=function(e){for(var t=1/0,r=-1/0,n=e.length,o=0,i=e;o<i.length;o++){var a=i[o];t=Math.min(t,a),r=Math.max(r,a)}return{min:t,max:r,length:n}}(a.asValue(e,y)),isFinite(y.min)&&isFinite(y.max)&&(g.push(x),m.push(y)))):d(q)?v=!0:q.type!==r.Exponent&&q.type!==r.RawExponent||(b=!0);if(0===g.length)return e;if(!b&&!v)return e;var w=[],E=[];for(x=0;x<e.argNames.length;x++)E.push(x),w.push(l.allReals());var S=[],k=[];for(x=0;x<=f;x++)S.push(p(e,E,S,x)),k.push(p(e,g,k,x));for(x=0;x<=f;x++)if((q=e.getInstruction(x)).type===r.Piecewise)for(var _=S[x],I=0;I<_.length;I++)_[I]&&(w[I]=l.unknownDomain());else if(q.type===r.Exponent||q.type===r.RawExponent){var M=!1,L=!1;for(I=0;I<g.length;I++)k[q.args[0]][I]&&(M=!0),k[q.args[1]][I]&&(L=!0);if(!M&&L){_=S[q.args[0]];var T,C,A,O,P=0,D=void 0;for(I=0;I<_.length;I++)_[I]&&(D=I,P+=1);1===P&&void 0!==D&&(T=E[D],C=s.polynomialOrderContext(e.copy().reopenFinalBlock(),T,{allowRestriction:!1,allowClosedBlockReferences:!1}),1===s.instructionOrder(C,q.args[0])&&(T=c.polynomialCoefficientContext(C),G=(C=c.instructionCoefficients(T,q.args[0]))[0],void 0!==(U=C[1])&&(A=a.asValue(T.newChunk,U),O=a.asValue(T.newChunk,G),w[D]=l.intersectDomains(w[D],l.linearPositiveDomain(O,A)))))}}if(v)for(var F=e.copy().reopenFinalBlock(),N=0;N<g.length;N++){var q,R=s.polynomialOrderContext(F,g[N],{allowRestriction:!1,allowClosedBlockReferences:!1}),B=c.polynomialCoefficientContext(R);for(x=h+1;x<=f;x++)if(d(q=F.getInstruction(x))){var j=q.args[0];if(1===s.instructionOrder(R,j)){var V=c.instructionCoefficients(B,j)[1];if(void 0!==V){var U,G,z=function(e,t){for(var r=[],n=0;n<e.argNames.length;n++)r.push(n);var o=[];for(n=0;n<=t;n++)o.push(p(e,r,o,n));return o[t]}(B.newChunk,V),H=(D=void 0,0);for(I=0;I<z.length;I++)z[I]&&(D=I,H+=1);1===H&&void 0!==D&&(j=s.polynomialOrderContext(B.newChunk,D,{allowRestriction:!1,allowClosedBlockReferences:!1}),1===s.instructionOrder(j,V)&&(j=c.polynomialCoefficientContext(j),G=(V=c.instructionCoefficients(j,V))[0],void 0!==(U=V[1])&&i.isConstant(j.newChunk.getInstruction(G))&&i.isConstant(j.newChunk.getInstruction(U))&&(O=a.asValue(j.newChunk,G),A=a.asValue(j.newChunk,U),j=(m[N].max-m[N].min)/Math.min(m[N].length-1,31),j=Math.PI/j,isFinite(j)&&(j<=0||(w[D]=l.intersectDomains(w[D],l.linearPositiveDomain(O,A)),w[D]=l.intersectDomains(w[D],l.linearPositiveDomain(j-O,-A)))))))}}}}for(var W=!1,K=0,$=w;K<$.length;K++){var Y=$[K];if("known"!==Y.type)return e;Y.bounds[0]===-1/0&&Y.bounds[1]===1/0||(W=!0)}if(!W)return e;var X,Q,J,Z,ee,te,re=e.copy(),ne=e.returnIndex,oe=re.Constant(1),ie=re.Constant(NaN);for(I=0;I<re.argNames.length;I++)X=re,J=ne,Z=I,ee=oe,te=ie,ne="known"!==(Q=w[I]).type||Q.bounds[0]===-1/0&&Q.bounds[1]===1/0?J:(Q=X.And([X.LessEqual([X.Constant(Q.bounds[0]),Z]),X.LessEqual([Z,X.Constant(Q.bounds[1])])]),X.Multiply([J,X.Piecewise([Q,ee,te])]));return re.close(),re}}),define("core/math/ir/chunk",["require","exports","core/math/errormsg","core/math/types","core/math/maybe-rational","core/math/functions","./opcodes","./builtin-table","./features/constant-collapse","./features/type-check","./features/emit-js","./features/get-value-type","./features/is-constant","./features/list-length","./features/drop-unreferenced-instructions","./features/convert-to-broadcast","./features/print","./features/to-dot","./features/fuse-broadcast","./features/polynomial-order","./features/get-polynomial-coefficients","./features/copy-instruction","./features/lift-point-operations","./features/element-at","./features/take-derivative","./features/bound-domain","./features/find-linear-subset","./features/derive-regression-restrictions","./features/as-value","./features/depends-on-outer-variable","./features/nan-of-type","./features/find-dependency-symbols","./constants"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g,m,y,v,b,x,w,E,S,k,_,I,M,L,T,C,A,O){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chunk=void 0;var P=(D.prototype.addComments=function(e){for(var t in e){var r=this.comments[t]||"";this.comments[t]=r+e[t]}return this},D.prototype.instructionsLength=function(){return this.instructions.length},D.prototype.getInstruction=function(e){return this.instructions[e]},D.prototype.popInstruction=function(){return this.instructions.pop()},D.prototype.truncate=function(e){this.instructions.length=e,this.blockMask.length=e,this.comments.length=e},D.prototype.pushInstructionChecked=function(e){if(32768<=this.instructions.length)throw r.deeplyNested();this.instructions.push(e),this.returnIndex=this.instructions.length-1},D.prototype.pushLeafInstruction=function(e){return this.pushInstructionChecked(e),this.returnIndex},D.prototype.pushInstruction=function(e){return this.checkInstructionArguments(e),this.pushInstructionChecked(e),this.returnIndex=g.convertToBroadcast(this),this.returnIndex=E.liftPointOperations(this),l.typeCheck(this,this.returnIndex),this.returnIndex=c.constantCollapse(this),this.returnIndex},D.prototype.checkInstructionArguments=function(e){for(var t=0,r=e.args;t<r.length;t++){var n=r[t];if(this.blockMask[n])throw new Error("Programming Error: cannot reference an instruction in a closed block")}},D.prototype.markClosedBlock=function(e,t){for(var r=e;r<t;r++)this.blockMask[r]=!0},D.prototype.LoadArg=function(e){return this.pushLeafInstruction({type:a.LoadArg,valueType:e})},D.prototype.BlockVar=function(e,t){return this.pushInstruction({type:a.BlockVar,valueType:e,args:t})},D.prototype.SymbolicVar=function(e,t){return this.pushLeafInstruction({type:a.SymbolicVar,valueType:e,symbol:t})},D.prototype.BroadcastResult=function(e,t){var r=t[0],n=(o=this.instructions[r]).args[0],o=(r=this.instructions.length-r,o.args[r]);r=!T.dependsOnOuterVariable(this,o,n),o=this.getInstruction(n).args[0],n=this.getInstruction(o);return this.pushInstruction({type:a.BroadcastResult,valueType:e,args:t,isConstantBroadcast:r,constantLength:p.isConstant(n)?L.asValue(this,o):void 0})},D.prototype.Constant=function(e){return this.ConstantOfType(n.Number,e)},D.prototype.ConstantOfType=function(e,t){if("number"==typeof t&&(t=o.maybeRational(t,1)),n.isList(e)&&t.length>O.MAX_LIST_SIZE)throw r.maxListSize();return this.pushLeafInstruction({type:a.Constant,valueType:e,value:t})},D.prototype.NanOfType=function(e){return e!==n.Distribution?this.ConstantOfType(e,C.nanOfType(e)):(e=this.Constant(NaN),this.Distribution("uniformdist",[e,e]))},D.prototype.Add=function(e){var t=a.Add,r=d.getValueType(this,t,e);return this.pushInstruction({type:t,valueType:r,args:e})},D.prototype.Subtract=function(e){var t=a.Subtract,r=d.getValueType(this,t,e);return this.pushInstruction({type:t,valueType:r,args:e})},D.prototype.Multiply=function(e){var t=a.Multiply,r=d.getValueType(this,t,e);return this.pushInstruction({type:t,valueType:r,args:e})},D.prototype.Divide=function(e){var t=a.Divide,r=d.getValueType(this,t,e);return this.pushInstruction({type:t,valueType:r,args:e})},D.prototype.Exponent=function(e){var t=a.Exponent,r=d.getValueType(this,t,e);return this.pushInstruction({type:t,valueType:r,args:e})},D.prototype.RawExponent=function(e){var t=a.RawExponent,r=d.getValueType(this,t,e);return this.pushInstruction({type:t,valueType:r,args:e})},D.prototype.Negative=function(e){var t=a.Negative,r=d.getValueType(this,t,e);return this.pushInstruction({type:t,valueType:r,args:e})},D.prototype.Equal=function(e){var t=a.Equal,r=d.getValueType(this,t,e);return this.pushInstruction({type:t,valueType:r,args:e})},D.prototype.Less=function(e){var t=a.Less,r=d.getValueType(this,t,e);return this.pushInstruction({type:t,valueType:r,args:e})},D.prototype.Greater=function(e){var t=a.Greater,r=d.getValueType(this,t,e);return this.pushInstruction({type:t,valueType:r,args:e})},D.prototype.LessEqual=function(e){var t=a.LessEqual,r=d.getValueType(this,t,e);return this.pushInstruction({type:t,valueType:r,args:e})},D.prototype.GreaterEqual=function(e){var t=a.GreaterEqual,r=d.getValueType(this,t,e);return this.pushInstruction({type:t,valueType:r,args:e})},D.prototype.And=function(e){var t=a.And,r=d.getValueType(this,t,e);return this.pushInstruction({type:t,valueType:r,args:e})},D.prototype.Piecewise=function(e){var t=a.Piecewise,r=d.getValueType(this,t,e);return this.pushInstruction({type:t,valueType:r,args:e})},D.prototype.OrderedPair=function(e){var t=a.OrderedPair,r=d.getValueType(this,t,e);return this.pushInstruction({type:t,valueType:r,args:e})},D.prototype.OrderedPairAccess=function(e){var t=a.OrderedPairAccess,r=d.getValueType(this,t,e);return this.pushInstruction({type:t,valueType:r,args:e})},D.prototype.List=function(e){var t=a.List,n=d.getValueType(this,t,e);if(e.length>O.MAX_LIST_SIZE)throw r.maxListSize();return this.pushInstruction({type:t,valueType:n,args:e})},D.prototype.ListAccess=function(e){var t=a.ListAccess,r=d.getValueType(this,t,e);return this.pushInstruction({type:t,valueType:r,args:e})},D.prototype.DeferredListAccess=function(e){var t=a.DeferredListAccess,r=d.getValueType(this,t,e);return this.pushInstruction({type:t,valueType:r,args:e})},D.prototype.InboundsListAccess=function(e){var t=a.InboundsListAccess,r=d.getValueType(this,t,e);return this.pushInstruction({type:t,valueType:r,args:e})},D.prototype.NativeFunction=function(e,t,r){var n=this,o=a.NativeFunction,i="function"==typeof(i=s.BuiltInTable[e].returnType)?i(r.map(function(e){return n.getInstruction(e).valueType})):i;return this.pushInstruction({type:o,valueType:i,args:r,symbol:e,callData:t})},D.prototype.SyntheticNativeFunction=function(e,t){var r=this,n=a.NativeFunction,o="function"==typeof(i=s.BuiltInTable[e].returnType)?i(t.map(function(e){return r.getInstruction(e).valueType})):i,i={errorSymbol:e,providedArity:t.length,isDotCall:!1};return this.pushInstruction({type:n,valueType:o,args:t,symbol:e,callData:i})},D.prototype.Distribution=function(e,t){var r=a.Distribution,o=n.Distribution;return this.pushInstruction({type:r,valueType:o,args:t,symbol:e})},D.prototype.BeginIntegral=function(e,t){var r=a.BeginIntegral,n=d.getValueType(this,r,[]);return this.pushInstruction({type:r,valueType:n,args:t,endIndex:-1,callData:e})},D.prototype.EndIntegral=function(e){var t=a.EndIntegral,r=d.getValueType(this,t,e),n=e[0],o=this.getInstruction(n);return this.instructions[n]={type:o.type,valueType:o.valueType,args:o.args,endIndex:this.instructionsLength(),callData:o.callData},e=this.pushInstruction({type:t,valueType:r,args:e}),this.markClosedBlock(n,e),e},D.prototype.BeginBroadcast=function(e,t){var n=a.BeginBroadcast,o=d.getValueType(this,n,[]),i=this.getInstruction(e[0]);if(p.isConstant(i)&&L.asValue(this,e[0])>O.MAX_LIST_SIZE)throw r.maxListSize();return this.pushInstruction({type:n,valueType:o,endIndex:-1,args:e,listComprehensionCallData:t})},D.prototype.EndBroadcast=function(e){var t=a.EndBroadcast,r=d.getValueType(this,t,e),n=e[0],o={type:(o=this.getInstruction(n)).type,valueType:o.valueType,args:o.args,endIndex:this.instructionsLength()};return this.instructions[n]=o,e=this.pushInstruction({type:t,valueType:r,args:e}),this.markClosedBlock(n,e),e},D.prototype.BeginLoop=function(e,t){var r=a.BeginLoop,n=d.getValueType(this,r,t);return this.pushInstruction({type:r,valueType:n,args:t,endIndex:-1,callData:e})},D.prototype.EndLoop=function(e){var t=a.EndLoop,r=d.getValueType(this,t,e),n=e[0],o=this.getInstruction(n);return this.instructions[n]={type:o.type,valueType:o.valueType,args:o.args,endIndex:this.instructionsLength(),callData:o.callData},e=this.pushInstruction({type:t,valueType:r,args:e}),this.markClosedBlock(n,e),e},D.prototype.ExtendSeed=function(e,t){var r=a.ExtendSeed,o=n.SeedType;return this.pushInstruction({type:r,valueType:o,args:t,tag:e})},D.prototype.Noop=function(){var e=a.Noop,t=n.Any;return this.pushLeafInstruction({type:e,valueType:t})},D.prototype.Action=function(e,t){return this.pushInstruction({type:a.Action,valueType:n.Action,args:t,symbols:e})},D.prototype.replaceInstructionWithConstant=function(e,t){this.instructions[e]=t,this.blockMask[e]=void 0},D.prototype.replaceInstructionWithBlockVar=function(e,t){this.instructions[e]=t},D.prototype.reopenFinalBlock=function(){var e=this.getInstruction(this.returnIndex);if(e.type!==a.BroadcastResult)return this;for(var t=e.args[0],r=this.getInstruction(t).args[0];r<t;r++)this.blockMask[r]=void 0;return this.truncate(t),this},D.prototype.isInClosedBlock=function(e){return this.blockMask[e]},D.prototype.copy=function(){var e=new D({argNames:this.argNames,argTypes:this.argTypes});return e.instructions=this.instructions.slice(),e.blockMask=this.blockMask.slice(),e.comments=this.comments.slice(),e.returnIndex=this.returnIndex,e},D.prototype.close=function(){return this.returnIndex=v.fuseBroadcast(this,this.returnIndex),f.dropUnreferencedInstructions(this),this},D.prototype.copyInstruction=function(e){return w.copyInstruction(this,e)},D.prototype.copyInstructionWithArgs=function(e,t){return w.copyInstructionWithArgs(this,e,t)},D.prototype.replaceInstructionWithNoop=function(e){this.instructions[e]={type:a.Noop,valueType:n.Any}},D.prototype.getReturnType=function(){return this.instructions[this.returnIndex].valueType},D.prototype.isConstant=function(){return p.isConstant(this.instructions[this.returnIndex])},D.prototype.asValue=function(){return L.asValue(this,this.returnIndex)},D.prototype.asCompilerValue=function(){var e=this.instructions[this.returnIndex];if(e.type!==a.Constant)throw new Error("Unexpected opcode "+e.type+".");return e.value},D.prototype.getConstantListLength=function(){return h.getConstantListLength(this,this.returnIndex)},D.prototype.getListLengthDependencies=function(){var e=this.copy(),t=h.listLengthIndex(e,e.returnIndex);return A.findDependencySymbols(e,t)},D.prototype.elementAt=function(e){var t=this.copy(),r=t.returnIndex;return t.returnIndex=S.elementAt(t,r,e),t.close(),t},D.prototype.getCompiledFunction=function(e){var t,r;if(e){t=e.slice();for(var n=0,o=this.argNames;n<o.length;n++){var a=o[n];-1===t.indexOf(a)&&t.push(a)}}else t=this.argNames;return{args:t,source:e=(r=u.emitJS(this)).source,constants:r=r.constants,fn:i.closureFunctionWithBuiltIn(t,e,r)}},D.prototype.polynomialOrder=function(e,t){return b.polynomialOrder(this,e,t)},D.prototype.getPolynomialCoefficients=function(e){return x.getPolynomialCoefficients(this,e)},D.prototype.takeDerivative=function(e){var t=this.copy();return-1===(e=this.argNames.indexOf(e))?t.Constant(0):t.returnIndex=k.takeDerivative(t,t.returnIndex,e),t.close(),t},D.prototype.deriveRegressionRestrictions=function(){return M.deriveRegressionRestrictions(this)},D.prototype.boundDomain=function(e){return _.boundDomain(this,e,this.returnIndex)},D.prototype.findLinearSubset=function(e){for(var t=I.findLinearSubset(this),r=[],n=0,o=e;n<o.length;n++){var i=o[n];if(-1===(i=this.argNames.indexOf(i)))throw new Error("Programming Error: findLinearSubset called with a non-dependency");r.push(t[i])}return r},D.prototype.print=function(){return m.print(this)},D.prototype.printInstruction=function(e){return m.printInstruction(this,e)},D.prototype.toDot=function(){return y.default(this)},D.prototype.getLiveArgNames=function(){for(var e=[],t=0;t<this.argNames.length;t++)this.instructions[t].type===a.LoadArg&&e.push(this.argNames[t]);return e},D);function D(e){if(this.instructions=[],this.blockMask=[],this.comments=[],e.argNames.length!==e.argTypes.length)throw new Error("Programming Error: length of argNames must match length of argTypes");this.argNames=e.argNames,this.argTypes=e.argTypes;for(var t=0;t<this.argTypes.length;t++){var r=this.argTypes[t];this.LoadArg(r)}this.returnIndex=-1}t.Chunk=P}),define("core/math/ir/distribution-table",["require","exports","./features/list-length"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomSampleFromList=t.DistributionTable=void 0,t.DistributionTable={normaldist:{pdf:function(e,t,r){return t=e.getInstruction(t),e.SyntheticNativeFunction("normalpdf",r.concat(t.args))},cdf:function(e,t,r){return t=e.getInstruction(t),e.SyntheticNativeFunction("normalcdf",r.concat(t.args))},mean:function(e,t,r){return e.getInstruction(t).args[0]},median:function(e,r,n){return t.DistributionTable.normaldist.mean(e,r,n)},stdev:function(e,t,r){return t=e.getInstruction(t),e.SyntheticNativeFunction("abs",[t.args[1]])},var:function(e,t,r){return t=e.getInstruction(t),e.Multiply([t.args[1],t.args[1]])},quantile:function(e,t,r){return t=e.getInstruction(t),e.Add([e.Multiply([e.SyntheticNativeFunction("invNorm",r),e.SyntheticNativeFunction("abs",[t.args[1]])]),t.args[0]])},random:function(e,t,r){return t=e.getInstruction(t),e.SyntheticNativeFunction("normalSample",[r[0],t.args[0],t.args[1]])}},tdist:{pdf:function(e,t,r){return t=e.getInstruction(t),e.SyntheticNativeFunction("tpdf",r.concat(t.args))},cdf:function(e,t,r){return t=e.getInstruction(t),e.SyntheticNativeFunction("tcdf",r.concat(t.args))},mean:function(e,t,r){return e.Constant(0)},median:function(e,t,r){return e.Constant(0)},stdev:function(e,r,n){return e.SyntheticNativeFunction("sqrt",[t.DistributionTable.tdist.var(e,r,n)])},var:function(e,t,r){var n=e.getInstruction(t);t=e.Constant(2),n=n.args[0];return e.Piecewise([e.GreaterEqual([n,t]),e.Divide([n,e.Subtract([n,t])]),e.Constant(NaN)])},quantile:function(e,t,r){return t=e.getInstruction(t),e.SyntheticNativeFunction("invT",[r[0],t.args[0]])},random:function(e,t,r){return t=e.getInstruction(t),e.SyntheticNativeFunction("tSample",[r[0],t.args[0]])}},poissondist:{pdf:function(e,t,r){return t=e.getInstruction(t),e.SyntheticNativeFunction("poissonpdf",r.concat(t.args))},cdf:function(e,t,r){return t=e.getInstruction(t),e.SyntheticNativeFunction("poissoncdf",r.concat(t.args))},mean:function(e,t,r){return e.getInstruction(t).args[0]},median:function(e,t,r){return t=e.getInstruction(t),e.SyntheticNativeFunction("invPoisson",[e.Constant(.5),t.args[0]])},stdev:function(e,t,r){return t=e.getInstruction(t),e.SyntheticNativeFunction("sqrt",[t.args[0]])},var:function(e,r,n){return t.DistributionTable.poissondist.mean(e,r,n)},quantile:function(e,t,r){return t=e.getInstruction(t),e.SyntheticNativeFunction("invPoisson",[r[0],t.args[0]])},random:function(e,t,r){return t=e.getInstruction(t),e.SyntheticNativeFunction("poissonSample",[r[0],t.args[0]])}},binomialdist:{pdf:function(e,t,r){return t=e.getInstruction(t),e.SyntheticNativeFunction("binompdf",r.concat(t.args))},cdf:function(e,t,r){return t=e.getInstruction(t),e.SyntheticNativeFunction("binomcdf",r.concat(t.args))},mean:function(e,t,r){return t=e.getInstruction(t),e.Multiply([t.args[0],t.args[1]])},median:function(e,t,r){return t=e.getInstruction(t),e.SyntheticNativeFunction("invBinom",[e.Constant(.5),t.args[0],t.args[1]])},stdev:function(e,r,n){return e.SyntheticNativeFunction("sqrt",[t.DistributionTable.binomialdist.var(e,r,n)])},var:function(e,t,r){t=(n=e.getInstruction(t).args)[0];var n=n[1];return e.Multiply([t,e.Multiply([n,e.Subtract([e.Constant(1),n])])])},quantile:function(e,t,r){return t=e.getInstruction(t),e.SyntheticNativeFunction("invBinom",[r[0],t.args[0],t.args[1]])},random:function(e,t,r){return t=e.getInstruction(t),e.SyntheticNativeFunction("binomSample",[r[0],t.args[0],t.args[1]])}},uniformdist:{pdf:function(e,t,r){return t=e.getInstruction(t),e.SyntheticNativeFunction("uniformpdf",r.concat(t.args))},cdf:function(e,t,r){return t=e.getInstruction(t),e.SyntheticNativeFunction("uniformcdf",r.concat(t.args))},mean:function(e,t,r){return t=e.getInstruction(t),e.Divide([e.Add([t.args[0],t.args[1]]),e.Constant(2)])},median:function(e,r,n){return t.DistributionTable.uniformdist.mean(e,r,n)},stdev:function(e,r,n){return e.SyntheticNativeFunction("sqrt",[t.DistributionTable.uniformdist.var(e,r,n)])},var:function(e,t,r){return t=e.getInstruction(t),t=e.Subtract([t.args[1],t.args[0]]),e.Divide([e.Multiply([t,t]),e.Constant(12)])},quantile:function(e,t,r){return t=e.getInstruction(t),e.SyntheticNativeFunction("invUniform",[r[0],t.args[0],t.args[1]])},random:function(e,t,r){return t=e.getInstruction(t),e.SyntheticNativeFunction("uniformSample",[r[0],t.args[0],t.args[1]])}}},t.randomSampleFromList=function(e,t,n){var o=n[0],i=e.Constant(0),a=e.Constant(1);return 0===r.getConstantListLength(e,t)?e.Constant(NaN):(n=r.listLengthIndex(e,t),e.InboundsListAccess([t,e.Add([e.SyntheticNativeFunction("floor",[e.Multiply([e.SyntheticNativeFunction("uniformSample",[o,i,a]),n])]),a])]))}}),define("core/math/ir/features/depends-on-instruction",["require","exports","../instructions"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dependsOnInstruction=void 0,t.dependsOnInstruction=function(e,t,n){if(t===n)return!0;if(t<n)return!1;for(var o=[!0],i=n+1;i<=t;i++)o.push(!1);for(var a=[t];a.length;)if(!o[(i=a.pop())-n]){o[i-n]=!0;var s=e.getInstruction(i);if(!r.isLeafInstruction(s))for(var c=0,l=s.args;c<l.length;c++){var u=l[c];if(u===n)return!0;u<n||o[u-n]||a.push(u)}}return!1}}),define("core/math/cache-stats",["require","exports"],function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.markCacheRead=t.markCacheWrite=t.markCacheMiss=t.markCacheHit=t.setCacheStatStore=void 0,t.setCacheStatStore=function(e){r=e},t.markCacheHit=function(){r&&(r.cacheHits+=1)},t.markCacheMiss=function(){r&&(r.cacheMisses+=1)},t.markCacheWrite=function(){r&&(r.cacheWrites+=1)},t.markCacheRead=function(){r&&(r.cacheReads+=1)}}),define("core/math/ir/build-ir",["require","exports","parsenodes","core/math/builtinframe","core/math/errormsg","./scope","./chunk","core/math/types","core/math/maybe-rational","./opcodes","./builtin-table","./features/list-length","./features/is-constant","./features/type-check","./distribution-table","./features/fuse-broadcast","./features/find-dependency-symbols","./features/element-at","./features/take-derivative","./features/substitute","./features/convert-to-broadcast","./features/copy-instruction","./features/depends-on-instruction","./dependencies","../cache-stats","./features/nan-of-type"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g,m,y,v,b,x,w,E,S,k,_){"use strict";function I(e,t,r,n,o){return{policy:e,frame:t,chunk:r,scope:n,parentNode:o}}function M(e){var t=e.policy,r=e.frame,n=e.argNames;e=e.argTypes;return I(t,r,e=new a.Chunk({argNames:n,argTypes:e}),function(e){for(var t=i.Scope({},-1),r=0;r<e.argNames.length;r++)i.setSymbol(t,e.argNames[r],r);return t}(e),void 0)}function L(e,t,r){if("FunctionDefinition"===t.type)for(var n=0,i=r;n<i.length;n++){var a=i[n];if(-1!==t._argSymbols.indexOf(a)||t._symbol===a)throw o.updateRuleLocalLHS(a);if(t._sybmol===a)throw o.updateRuleFunctionLHS(a)}for(var c=[],l=0,u=r;l<u.length;l++)a=u[l],e.frame[a]||c.push(a);if(c.length)throw r=V(e,c[0]).setDependencies(e.chunk.argNames.concat(c)),e.chunk.isConstant()&&e.chunk.getReturnType()===s.Action&&r.setActionValue(e.chunk.asValue()),r}function T(e,t){var a,u,f,m,y,w,M;return k.markCacheRead(),P(e.frame,t)?(k.markCacheHit(),M=e.chunk.copyInstruction(t.__IRCache.instruction)):(k.markCacheMiss(),a=e.chunk.instructionsLength(),u=e.policy,f=e.frame,m=e.chunk,y=e.scope,w=e.parentNode,M=function(e,t){var a,u,f=e.policy,m=e.frame,y=e.chunk,w=e.scope,k=e.parentNode;switch(t.type){case"Constant":var M=t._constantValue,L="boolean"==typeof M?s.Bool:s.Number;return y.ConstantOfType(L,M);case"MixedNumber":return y.Constant(t._constantValue);case"Negative":return y.Negative([T(e,t.args[0])]);case"Add":return y.Add(D(e,t.args));case"Subtract":return y.Subtract(D(e,t.args));case"Multiply":return y.Multiply(D(e,t.args));case"Divide":return y.Divide(D(e,t.args));case"Exponent":return y.Exponent(D(e,t.args));case"Comparator['=']":return y.Equal(D(e,t.args));case"Comparator['>']":return y.Greater(D(e,t.args));case"Comparator['<']":return y.Less(D(e,t.args));case"Comparator['>=']":return y.GreaterEqual(D(e,t.args));case"Comparator['<=']":return y.LessEqual(D(e,t.args));case"And":return y.And(D(e,t.args));case"PercentOf":return y.Divide([y.Multiply(D(e,t.args)),y.Constant(100)]);case"ParenSeq":return function(e){for(var r,n=e.chunk,i=e.policy,a=F(e,t.args),c=!1,l=0;l<a.length;l++){var u=n.getInstruction(a[l]).valueType;if(u===s.Action){if(c=!0,void 0!==r)throw o.combineTypeError([s.prettyPrint(r),s.prettyPrint(s.Action)])}else{if(c)throw o.combineTypeError([s.prettyPrint(s.Action),s.prettyPrint(u)]);r=u}}if(c)return j(e,a);if(2!==(i=null!==(i=null===(e=i.dimensions)||void 0===e?void 0:e.call(i))&&void 0!==i?i:2))throw new Error("3D points not implemented.");if(a.length!==i)throw o.badTupleDimensions(i);return n.OrderedPair(a)}(e);case"BareSeq":return function(e){var r=e.chunk,n=F(e,t.args);if(n.length<2)throw o.unexpectedSymbol(",");for(var i=r.getInstruction(n[0]).valueType,a=1;a<n.length;a++){var c=r.getInstruction(n[a]).valueType;if(i!==c)throw o.combineTypeError([s.prettyPrint(i),s.prettyPrint(c)])}if(i===s.Number)throw 2===n.length?o.malformedPoint():o.malformedList();return i===s.Action?j(e,n):r.List(n)}(e);case"OrderedPairAccess":return y.OrderedPairAccess(D(e,t.args));case"UpdateRule":if(M=m[X=t._symbol]){if(M.isError)throw M;if("Assignment"!==M.type&&"Slider"!==M.type)throw V(e,X)}return y.Action([X],[T(e,t.args[1])]);case"List":if(0<t.getDependencies().length)return y.List(F(e,t.args));if(0===t.args.length)return y.ConstantOfType(s.EmptyList,[]);for(var C=y.instructionsLength(),A=[],O=void 0,P=void 0,q=0,R=t.args;q<R.length;q++){var B=T(e,R[q]);B=y.getInstruction(B);if(void 0===O){if(O=B.valueType,!s.hasListType(O))throw o.listTypeError([s.prettyPrint(O)]);P=s.listType(O)}else if(B.valueType!==O)throw o.heterogeneousList();if(B.type!==l.Constant)throw new Error("Programming error: expected list with no dependencies to constant collapse.");A.push(B.value),y.truncate(C)}return y.ConstantOfType(P,A);case"ListAccess":var G=T(e,t.args[0]),z=y.getInstruction(G);if("Range"===t.args[1].type&&0===t.args[1].args[1].length){if(!s.isList(z.valueType))throw o.indexTypeError([s.prettyPrint(z.valueType),s.prettyPrint(s.Number)]);var H=d.listLengthIndex(y,G),W=U(e,T(e,t.args[1].args[0]),y.List([H]),{stepMustBePositive:!0});return y.ListAccess([G,W])}W=T(e,t.args[1]);var K=y.getInstruction(W);if(!s.isList(z.valueType))throw o.indexTypeError([s.prettyPrint(z.valueType),s.prettyPrint(K.valueType)]);return K.valueType===s.ListOfBool?y.SyntheticNativeFunction("select",[G,W]):y.ListAccess([G,W]);case"Range":var $=D(e,t.args);return U(e,$[0],$[1],{stepMustBePositive:!1});case"ListComprehension":return function(t){for(var r=e.policy,n=e.frame,a=e.chunk,c=e.scope,u=e.parentNode,p=t._body,h=[],f=a.Constant(1),g=Object.create(n),m=0,y=t._inputLists;m<y.length;m++){var v=y[m]._symbol;g[v]=o.badListComprehensionInputDependency(v)}for(var b=i.childScope(c),x=t._inputLists.length-1;0<=x;x--){var w=(k=t._inputLists[x])._symbol,E=T(I(r,g,a,b,u),k.args[1]),k=a.getInstruction(E);if(!s.isList(k.valueType))throw o.listComprehensionInputListTypeError(w,s.prettyPrint(k.valueType));var _=d.listLengthIndex(a,E);h.push({symbol:w,assignedList:E,lengthIndex:_}),f=a.Multiply([f,_])}var M=a.Constant(1),L=a.BeginBroadcast([f],{inputListSymbols:h.map(function(e){return e.symbol})}),C=i.childScope(c);i.setSymbol(C,t._index._symbol,L);var A=M;for(x=h.length-1;0<=x;x--){var O=(w=(O=h[x]).symbol,E=O.assignedList,void(_=O.lengthIndex));1===h.length?O=L:(P=a.SyntheticNativeFunction("floor",[a.Divide([a.Subtract([L,M]),A])]),O=a.Add([a.SyntheticNativeFunction("mod",[P,_]),M]),0<x&&(A=a.Multiply([A,_])));var P=i.getSymbol(C,w);if(void 0!==n[w]||void 0!==P&&a.getInstruction(P).type!==l.LoadArg)throw o.shadowedListComprehensionInput(w);i.setSymbol(C,w,a.ListAccess([E,O]))}for(var D=Object.create(n),F=0,N=h;F<N.length;F++)D[N[F].symbol]=S.FRAME_SENTINEL;if(c=T(I(r,D,a,C,u),p),p=a.getInstruction(c),!s.hasListType(p.valueType))throw o.listTypeError([s.prettyPrint(p.valueType)]);return c=a.EndBroadcast([L,c]),a.BroadcastResult(s.listType(p.valueType),[c])}(t);case"Piecewise":var Y=[T(H=e,(z=t.args)[0]),T(H,z[1]),T(H,z[2])];K=y.getInstruction(Y[0]),G=y.getInstruction(Y[1]),$=y.getInstruction(Y[2]);return K.type===l.Constant&&K.valueType===s.Bool&&s.typesMatch(G.valueType,$.valueType)?(H=Y[K.value?1:2],z=y.getInstruction(H),K=(G.valueType!==s.EmptyList?G:$).valueType,z.valueType===s.EmptyList&&K!==s.EmptyList?y.ConstantOfType(K,[]):H):(!s.typesMatch(G.valueType,$.valueType)&&p.isConstant($)&&$.valueType===s.Number&&c.isNanFloat($.value)&&_.isNanableValueType(G.valueType)&&(G=y.NanOfType(G.valueType),Y=[Y[0],Y[1],G]),y.Piecewise(Y));case"Ans":case"Identifier":var X=t._symbol,Q=t._errorSymbol;if("Ans"===t.type&&-1!==y.argNames.indexOf(X))throw o.ansUndefined();W=i.getSymbol(w,X);var J=m[X];if(void 0!==W){if(w.symbolMap.hasOwnProperty(X))return W;if(void 0===J||J===S.FRAME_SENTINEL)return W}if(void 0===J){if(n[t._symbol])throw n[t._symbol].isFunction?o.functionUnsupported(Q):o.constantUnsupported(Q);throw new Error("Programming Error: reached undefined symbol "+X)}if(J.isError)throw J;if(J.isFunction)throw o.identifierAsFunction(Q);var Z=T(I(f,m,y,w,void 0),J);return i.setSymbol(w,X,Z),Z;case"FunctionCall":case"SeededFunctionCall":return Y=F(e,t.args),N(e,t._symbol,t._errorSymbol,Y);case"FunctionExponent":return m[a=t.args[0]._symbol]&&m[a].isFunction?T(e,r.Exponent([r.FunctionCall(a,[t.args[1]]),t.args[2]])):T(e,r.Multiply([t.args[0],r.Exponent([t.args[1],t.args[2]])]));case"FunctionFactorial":return m[a=t.args[0]._symbol]&&m[a].isFunction?T(e,r.FunctionCall("\\factorial",[r.FunctionCall(a,[t.args[1]])])):T(e,r.Multiply([t.args[0],r.FunctionCall("\\factorial",[t.args[1]])]));case"DotAccess":if(J=t.args[0],("Identifier"===(Z=t.args[1]).type||"FunctionCall"===Z.type)&&m[Z._symbol]&&m[Z._symbol].isFunction)return N(e,X=Z._symbol,Q=Z._errorSymbol,Y=F(e,"Identifier"===Z.type?[J]:[J].concat(Z.args)),{dotLHSIndex:Y[0]});if("SeededFunctionCall"===Z.type)return N(e,X=Z._symbol,Q=Z._errorSymbol,Y=F(e,[Z.seed,J].concat(Z.args.slice(1))),{dotLHSIndex:Y[1]});throw o.unexpectedSymbol(".");case"Seed":return y.ConstantOfType(s.SeedType,t._stringValue);case"ExtendSeed":return y.ExtendSeed(t.tag,D(e,t.args));case"Integral":var ee=t._differential._symbol,te=i.getSymbol(w,ee);if(void 0!==m[ee]||void 0!==te&&y.getInstruction(te).type!==l.LoadArg)throw o.shadowedIntegrationVariable(ee);(pe=Object.create(m))[ee]=o.badIntegralBoundDependency(ee);var re=T(ge=I(f,pe,y,i.childScope(w),k),t.args[1]),ne=T(ge,t.args[2]),oe=y.getInstruction(re),ie=y.getInstruction(ne),ae=y.SymbolicVar(s.Number,ee),se=i.childScope(w);i.setSymbol(se,ee,ae);var ce=Object.create(m);ce[ee]=S.FRAME_SENTINEL;var le=T(I(f,ce,y,se,k),t.args[3]);if(!E.dependsOnInstruction(y,le,ae))return y.Multiply([le,y.Subtract([ne,re])]);var ue=re;void 0!==(ve=void 0!==(me=d.minListLengthIndex(y,[re,ne,le]))?y.BeginBroadcast([me]):void 0)&&s.isList(oe.valueType)&&(ue=x.deferredOrInboundsAccess(y,re,ve));var de=ne;return void 0!==ve&&s.isList(ie.valueType)&&(de=x.deferredOrInboundsAccess(y,ne,ve)),ce=y.BeginIntegral({indexSymbol:ee},[ue,de]),se=b.substitute(y,ce,ae,le),ae=y.getInstruction(se),void 0!==ve&&s.isList(ae.valueType)&&(se=x.deferredOrInboundsAccess(y,se,ve)),le=y.EndIntegral([ce,se]),ae=y.BlockVar(s.Number,[le]),void 0===ve?ae:(se=y.EndBroadcast([ve,ae]),y.BroadcastResult(s.ListOfNumber,[se]));case"Sum":case"Product":if(ee=t._index._symbol,te=i.getSymbol(w,ee),void 0!==m[ee]||void 0!==te&&y.getInstruction(te).type!==l.LoadArg)throw o.shadowedIndex(ee);ae="Sum"===t.type,(pe=Object.create(m))[ee]=ae?o.badSumBoundDependency(ee):o.badProductBoundDependency(ee);te=T(ge=I(f,pe,y,i.childScope(w),k),t.args[1]);var pe=T(ge,t.args[2]);if(!h.argIsTypeOrListOfType(y,te,s.Number)){var he=h.extractScalarValueTypes(y,[te]);throw ae?o.sumLowerBoundTypeError(he):o.productLowerBoundTypeError(he)}if(!h.argIsTypeOrListOfType(y,pe,s.Number))throw he=h.extractScalarValueTypes(y,[pe]),ae?o.sumUpperBoundTypeError(he):o.productUpperBoundTypeError(he);if(re=y.SyntheticNativeFunction("round",[te]),ne=y.SyntheticNativeFunction("round",[pe]),oe=y.getInstruction(re),ie=y.getInstruction(ne),oe.type===l.Constant&&oe.valueType===s.Number&&!isFinite(c.asFloat(oe.value)))throw ae?o.sumInfiniteBoundError():o.productInfiniteBoundError();if(ie.type===l.Constant&&ie.valueType===s.Number&&!isFinite(c.asFloat(ie.value)))throw ae?o.sumInfiniteBoundError():o.productInfiniteBoundError();var fe=y.SymbolicVar(s.Number,ee),ge=i.childScope(w);i.setSymbol(ge,ee,fe),(te=Object.create(m))[ee]=S.FRAME_SENTINEL;var me;pe=T(I(f,te,y,ge,k),t.args[3]);if(!E.dependsOnInstruction(y,pe,fe))return te=y.Add([y.Subtract([ne,re]),y.Constant(1)]),te=y.SyntheticNativeFunction("max",[te,y.Constant(0)]),ge=ae?y.Multiply([pe,te]):y.Exponent([pe,te]),y.Piecewise([y.Less([te,y.Constant(1/0)]),ge,y.Constant(NaN)]);if(!h.argIsTypeOrListOfType(y,pe,s.Number))throw he=h.extractScalarValueTypes(y,[pe]),ae?o.sumArgumentTypeError(he):o.productArgumentTypeError(he);if(void 0!==(me=d.minListLengthIndex(y,[re,ne,pe]))&&E.dependsOnInstruction(y,me,fe))throw ae?o.variableLengthSumBodyDependsOnIndex(ee):o.variableLengthProductBodyDependsOnIndex(ee);return ue=re,void 0!==(ve=void 0!==me?y.BeginBroadcast([me]):void 0)&&s.isList(oe.valueType)&&(ue=x.deferredOrInboundsAccess(y,re,ve)),de=ne,null!=ve&&s.isList(ie.valueType)&&(de=x.deferredOrInboundsAccess(y,ne,ve)),ne=y.Constant(ae?0:1),ce=y.BeginLoop({type:ae?"sum":"product",indexSymbol:ee},[ue,de,ne]),ne=y.BlockVar(s.Number,[ce]),fe=b.substitute(y,ce,fe,pe),pe=y.getInstruction(fe),void 0!==ve&&s.isList(pe.valueType)&&(fe=x.deferredOrInboundsAccess(y,fe,ve)),fe=ae?y.Add([ne,fe]):y.Multiply([ne,fe]),le=y.EndLoop([ce,fe]),fe=y.BlockVar(s.Number,[le]),void 0!==ve?(se=y.EndBroadcast([ve,fe]),y.BroadcastResult(s.ListOfNumber,[se])):fe;case"Derivative":var ye=T(e,r.Identifier(t._symbol));if(!h.argIsTypeOrListOfType(y,ye,s.Number))throw o.derivativeVariableTypeError(t._symbol,h.extractScalarValueTypes(y,[ye]));var ve=void 0,be=void 0;(u=y.getInstruction(ye)).type===l.LoadArg&&u.valueType===s.Number?(ve=e,be=ye):(se=i.childScope(w),be=y.SymbolicVar(u.valueType),i.setSymbol(se,t._symbol,be),(fe=Object.create(m))[t._symbol]=S.FRAME_SENTINEL,ve=I(f,fe,y,se,k));for(var xe=1;"Derivative"===t.args[0].type&&t.args[0]._symbol===t._symbol;)xe+=1,t=t.args[0];for(var we=g.fuseBroadcast(y,T(ve,t.args[0])),Ee=0;Ee<xe;Ee++)we=v.takeDerivative(y,we,be);return be===ye?we:b.substitute(y,ye,be,we);case"Prime":if(!m[(a=t.args[0])._symbol])throw o.functionNotDefined(a._symbol);if(ye=T(e,a.args[0]),be=void 0,be=(u=y.getInstruction(ye)).type===l.LoadArg&&u.valueType===s.Number?ye:y.SymbolicVar(u.valueType),Y=void 0,"logbase"===a._symbol){if(2!==a.args.length)throw o.primedFunctionArity();Y=[be,T(e,a.args[1])]}else{if(1!==a.args.length)throw o.primedFunctionArity();Y=[be]}we=g.fuseBroadcast(y,N(e,a._symbol,a._errorSymbol,Y));for(var Se=0;Se<t.order;Se++)we=v.takeDerivative(y,we,be);return be===ye?we:b.substitute(y,ye,be,we);case"Slider":return e.chunk.Constant(t.getConcreteTree(f,m).asCompilerValue());case"Assignment":return T(e,t._expression);case"FunctionDefinition":for(var ke=0;ke<t._argSymbols.length;ke++){if(m[t._argSymbols[ke]])throw o.parameterAlreadyDefined(t._argSymbols[ke]);if(t._argSymbols[ke]===t._symbol)throw o.parameterAlreadyDefined(t._argSymbols[ke])}return T(e,t._expression);default:throw new Error("Programming error, unimplemented node type "+t.type)}}(I(u,f,m,y,t),t),A(t,w)||(w=m.getInstruction(M)).type===l.BroadcastResult&&w.isConstantBroadcast&&(M=g.fuseBroadcast(m,M)),O(e,t,M=C(e,a,M))),e.chunk.returnIndex=M}function C(e,t,r){var n=e.chunk,o=e.scope;return r<=t?r:(e=n.getInstruction(r),p.isConstant(e)?(n.truncate(Math.max(t,o.maxIndex+1)),w.copyInstruction(n,e)):r)}function A(e,t){if(!t)return!1;if(!e.getScope||!t.getScope)return!1;if(t=t.getScope().dependencies,(e=e.getScope().dependencies).length===t.length)return!0;for(var r=0,o=0,i=e;o<i.length;o++){var a=i[o];n[a]||(r+=1)}for(var s=0,c=0,l=t;c<l.length;c++)a=l[c],n[a]||(s+=1);return r===s}function O(e,t,r){var n=e.frame,o=e.chunk;e=e.parentNode,r=o.getInstruction(r);!p.isConstant(r)||A(t,e)||(n=S.getCacheKeys(n,t))&&(k.markCacheWrite(),t.__IRCache={keys:n,instruction:r})}function P(e,t){if(!t.__IRCache)return!1;for(var r=0,n=t.__IRCache.keys;r<n.length;r++){var o=(i=n[r])[0],i=i[1];if(e[o]!==i)return!1}return!0}function D(e,t){return[T(e,t[0]),T(e,t[1])]}function F(e,t){for(var r=[],n=0,o=t;n<o.length;n++){var i=o[n];r.push(T(e,i))}return r}function N(e,t,a,v,b){var x=e.policy,w=e.frame,E=e.chunk,k=e.scope,_=e.parentNode,M=i.getSymbol(k,t);if(void 0!==M){if(1==v.length)return E.Multiply([M,v[0]]);throw E.getInstruction(M).type===l.LoadArg?o.functionNotDefined(a):E.getInstruction(M).valueType===s.Distribution?o.distributionAsFunction(a):o.variableAsFunction(a)}var L=w[t];if(L&&L.isError)throw L;if(void 0===L||!L.isFunction){if(n[t]&&n[t].isFunction){if("logbase"===t&&w.ln&&w.log)throw o.logbaseUnsupported();throw o.functionUnsupported(a)}if(L&&(M=T(e,L),E.getInstruction(M).valueType===s.Distribution))throw o.distributionAsFunction(a);if(1==v.length)return E.Multiply([T(e,r.Identifier(t)),v[0]]);throw L?o.variableAsFunction(a):new Error("Programming Error: reached undefined symbol "+t)}if("FunctionDefinition"===L.type){if(b&&void 0!==b.dotLHSIndex)throw o.illegalDotCall(a);if(v.length!==L._argSymbols.length)throw o.wrongArity(a,L._argSymbols.length,v.length);for(var C=i.childScope(k),A=Object.create(w),O=0;O<L._argSymbols.length;O++)i.setSymbol(C,L._argSymbols[O],v[O]),A[L._argSymbols[O]]=S.FRAME_SENTINEL;return T(I(x,A,E,C,_),L._expression)}if(u.CompilerFunctionTable.hasOwnProperty(t))return function(e,t,r,n,i){var a=e.chunk,v=!(!i||void 0===i.dotLHSIndex),b=u.CompilerFunctionTable[t];if(b.fallthroughUnlessDistribution&&(0===n.length||a.getInstruction(n[0]).valueType===s.EmptyList||!s.isTypeOrListOfType(a.getInstruction(n[0]).valueType,s.Distribution)))return R(e,t,r,n,i);var x,w=b.minArity,E=b.maxArity,S=b.allowDotCall;if(i&&void 0!==i.dotLHSIndex){if(!S)throw o.illegalDotCall(r);q(a,i.dotLHSIndex,"."+r)}if((i=n.length)<w)throw function(e,t,r,n){var i=v;i&&(--r,--n,t="."+t);var a=u.CompilerFunctionTable[e];a.isSeeded&&(--r,--n);var s=void 0;switch(i&&a.dotMinArityExampleArgs?s=t+a.dotMinArityExampleArgs:a.minArityExampleArgs&&(s=t+a.minArityExampleArgs),e){case"pdf":return i?o.wrongArity(t,r,n,s):o.pdfWrongArity();case"cdf":return i?o.wrongArity(t,r,n,s):o.cdfRequiresArguments();case"tdist":return o.tdistWrongArity();case"random":return o.randomArity();case"round":case"midpoint":case"normaldist":case"poissondist":case"binomialdist":case"uniformdist":case"mean":case"median":case"stdev":case"var":case"quantile":case"sort":case"shuffle":case"join":case"unique":case"polygon":return o.wrongArity(t,r,n,s);case"histogram":case"dotplot":case"boxplot":case"ttest":case"ittest":case"stats":case"det":case"inv":case"transpose":case"rref":case"trace":throw o.parseError();default:throw new Error("Unexpected compiler function "+e)}}(t,r,w,i);if(E<i)throw function(e,t,r,n){var i=v;i&&(--r,--n,t="."+t);var a=u.CompilerFunctionTable[e];a.isSeeded&&(--r,--n);var s=void 0;switch(i&&a.dotMaxArityExampleArgs?s=t+a.dotMaxArityExampleArgs:a.maxArityExampleArgs&&(s=t+a.maxArityExampleArgs),e){case"pdf":return i?o.wrongArity(t,r,n,s):o.pdfWrongArity();case"cdf":return i?o.wrongArity(t,r,n,s):o.cdfTooManyArguments();case"tdist":return o.tdistWrongArity();case"random":return o.randomArity();case"round":case"midpoint":case"normaldist":case"poissondist":case"binomialdist":case"uniformdist":case"mean":case"median":case"stdev":case"var":case"quantile":case"sort":case"shuffle":case"join":case"unique":case"polygon":return o.wrongArity(t,r,n,s);case"histogram":case"dotplot":case"boxplot":case"ttest":case"ittest":case"stats":case"det":case"inv":case"transpose":case"rref":case"trace":throw o.parseError();default:throw new Error("Unexpected compiler function "+e)}}(t,r,E,i);switch(x="cdf"===t?2===i?[n[0],a.Constant(-1/0),n[1]]:n:"random"===t?1===i||i<4&&!s.isList(a.getInstruction(n[1]).valueType)&&a.getInstruction(n[1]).valueType!==s.Distribution?(i=a.Distribution("uniformdist",[a.Constant(0),a.Constant(1)]),[n[0],i].concat(n.slice(1))):n:B(a,n,b),t){case"round":if(1===x.length)return a.SyntheticNativeFunction("round",x);if(!h.argIsTypeOrListOfType(a,x[0],s.Number)||!h.argIsTypeOrListOfType(a,x[1],s.Number))throw o.functionTypeError(r,h.extractScalarValueTypes(a,x));var k=a.SyntheticNativeFunction("round",[x[1]]);k=a.RawExponent([a.Constant(10),k]);return a.Divide([a.SyntheticNativeFunction("round",[a.Multiply([x[0],k])]),k]);case"midpoint":if(!h.argIsTypeOrListOfType(a,x[0],s.Point)||!h.argIsTypeOrListOfType(a,x[1],s.Point))throw o.functionTypeError(r,h.extractScalarValueTypes(a,x));var _=a.Constant(c.maybeRational(1,2));return a.Multiply([_,a.Add(x)]);case"normaldist":case"tdist":case"poissondist":case"binomialdist":case"uniformdist":for(var I=0,M=x;I<M.length;I++){var L=M[I];if(!h.argIsTypeOrListOfType(a,L,s.Number))throw o.functionTypeError(r,h.extractScalarValueTypes(a,n))}return a.Distribution(t,x);case"pdf":case"cdf":case"mean":case"median":case"stdev":case"var":case"quantile":var T=x[0],C=a.getInstruction(T);if(!s.isTypeOrListOfType(C.valueType,s.Distribution))throw o.functionTypeError(r,h.extractScalarValueTypes(a,n));for(var A=0,O=_=x.slice(1);A<O.length;A++)if(L=O[A],!s.isTypeOrListOfType(a.getInstruction(L).valueType,s.Number))throw o.functionTypeError(r,h.extractScalarValueTypes(a,n));if(s.isList(C.valueType)){for(var P=[],D=1/0,F=0,N=x;F<N.length;F++){L=N[F];var j=g.fuseBroadcast(a,L);P.push(j);var V=a.getInstruction(j);if(s.isList(V.valueType)){if(void 0===(Z=d.getConstantListLength(a,j)))throw o.variableLengthDistributionList(m.findDependencySymbols(a,j));D=Math.min(D,Z)}}for(var G=[],z=0;z<D;z++){var H=y.elementAt(a,P[0],z),W=a.getInstruction(H);if(W.type!==l.Distribution)throw o.parseError();for(var K=[],$=0,Y=P.slice(1);$<Y.length;$++)L=Y[$],s.isList(a.getInstruction(L).valueType)?K.push(y.elementAt(a,L,z)):K.push(L);G.push(f.DistributionTable[W.symbol][t](a,H,K))}return a.List(G)}if(C.type!==l.Distribution)throw o.parseError();return f.DistributionTable[C.symbol][t](a,T,_);case"random":var X=x[0],Q=(T=x[1],a.getInstruction(x[0]));C=a.getInstruction(T);if(Q.valueType!==s.SeedType)throw o.parseError();if(C.valueType===s.ListOfDistribution)throw o.randomFromBroadcastDistribution();if(Q=void 0,s.isList(C.valueType))Q=f.randomSampleFromList;else{if(C.valueType!==s.Distribution)throw o.randomArity();if(C.type!==l.Distribution)throw o.parseError();Q=f.DistributionTable[C.symbol][t]}if(2<x.length){if(C=x[2],a.getInstruction(C).valueType!==s.Number)throw o.randomArity();if(4===x.length){if((J=a.getInstruction(x[3])).valueType!==s.Number)throw o.randomArity();if(!p.isConstant(J))throw o.variableSeed(m.findDependencySymbols(a,x[3]));X=a.ExtendSeed("us",[X,x[3]])}var J=a.Constant(1),Z=a.SyntheticNativeFunction("round",[a.SyntheticNativeFunction("validateSampleCount",[C])]),ee=a.BeginBroadcast([Z]);X=a.ExtendSeed("lc",[X,a.Subtract([ee,J])]),C=Q(a,T,[X]),J=a.EndBroadcast([ee,C]);return a.BroadcastResult(s.listType(a.getInstruction(C).valueType),[J])}return Q(a,T,[X]);case"shuffle":if(X=x[0],Q=x[1],T=x[2],!s.isList(a.getInstruction(Q).valueType)||void 0!==T&&a.getInstruction(T).valueType!==s.Number)throw o.functionTypeError(r,h.extractValueTypes(a,n.slice(1)));if(void 0!==T){if(!p.isConstant(a.getInstruction(T)))throw o.variableSeed(m.findDependencySymbols(a,T));X=a.ExtendSeed("us",[X,T])}return a.SyntheticNativeFunction("shuffle",[X,Q]);case"sort":var te=2===x.length?x[1]:x[0],re=a.getInstruction(te);if(!s.isList(a.getInstruction(x[0]).valueType)||re.valueType!==s.ListOfNumber&&re.valueType!==s.EmptyList)throw o.functionTypeError(r,h.extractValueTypes(a,n));return 0===d.getConstantListLength(a,te)?te:(re=a.SyntheticNativeFunction("min",[d.listLengthIndex(a,x[0]),d.listLengthIndex(a,te)]),te=a.ListAccess([te,U(e,a.List([a.Constant(1)]),a.List([re]),{stepMustBePositive:!0})]),a.SyntheticNativeFunction("elementsAt",[x[0],a.SyntheticNativeFunction("sortPerm",[te])]));case"join":for(var ne=[],oe=!0,ie=0,ae=x;ie<ae.length;ie++){L=ae[ie];var se=a.getInstruction(L);if(p.isConstantOrConstantBroadcast(se)||(oe=!1),(se=se.valueType)!==s.EmptyList)if(s.isList(se))ne.push({isList:!0,index:L,elementType:s.elementType(se)});else{if(!s.hasListType(se))throw o.functionTypeError(r,h.extractValueTypes(a,n));ne.push({isList:!1,index:L,elementType:se})}}if(0===ne.length)return a.ConstantOfType(s.EmptyList,[]);for(var ce=0,le=ne;ce<le.length;ce++)if((he=le[ce]).elementType!==ne[0].elementType)throw o.functionTypeError(r,h.extractValueTypes(a,n));if(oe){for(var ue=[],de=0,pe=ne;de<pe.length;de++){var he=pe[de],fe=a.getInstruction(g.fuseBroadcast(a,he.index));p.assertConstant(fe),he.isList?ue.push.apply(ue,fe.value):ue.push(fe.value)}return a.ConstantOfType(s.listType(ne[0].elementType),ue)}re=a.Constant(0);for(var ge=a.Constant(1),me={},ye=0,ve=ne;ye<ve.length;ye++)(he=ve[ye]).isList&&void 0===me[he.index]&&(me[he.index]=d.listLengthIndex(a,he.index));te=a.SyntheticNativeFunction("total",ne.map(function(e){return e.isList?me[e.index]:ge}));for(var be=(ee=a.BeginBroadcast([te]),re),xe=[],we=[],Ee=0,Se=ne;Ee<Se.length;Ee++){var ke=(he=Se[Ee]).isList?a.ListAccess([he.index,a.Subtract([ee,be])]):he.index;we.push(ke),he!==ne[ne.length-1]&&(Z=he.isList?me[he.index]:ge,be=a.Add([be,Z]),xe.push(a.LessEqual([ee,be])))}var _e=we[we.length-1];for(z=we.length-2;0<=z;z--)_e=a.Piecewise([xe[z],we[z],_e]);return J=a.EndBroadcast([ee,_e]),a.BroadcastResult(s.listType(ne[0].elementType),[J]);case"unique":var Ie=x[0];J=a.getInstruction(Ie);if(!s.isList(J.valueType)||J.valueType===s.ListOfDistribution)throw o.functionTypeError("unique",[s.prettyPrint(J.valueType)]);return a.SyntheticNativeFunction("elementsAt",[Ie,a.SyntheticNativeFunction("uniquePerm",[Ie])]);case"polygon":if(0===(Ie=x.map(function(e){return a.getInstruction(e)})).length){var Me=a.ConstantOfType(s.ListOfPoint,[]);return a.SyntheticNativeFunction("polygon",[Me])}if(2===Ie.length&&s.isTypeOrListOfType(Ie[0].valueType,s.Number)&&s.isTypeOrListOfType(Ie[1].valueType,s.Number)){if(Ie[0].valueType===s.Number&&Ie[1].valueType===s.Number)throw o.polygonTwoNumbersError();return Me=a.OrderedPair(x),a.SyntheticNativeFunction("polygon",[Me])}return a.SyntheticNativeFunction("polygon",x);case"histogram":case"dotplot":case"boxplot":case"ttest":case"ittest":case"stats":case"det":case"inv":case"transpose":case"rref":case"trace":throw o.unexpectedSymbol(r);default:throw new Error("Programming Error: unexpected compiler function "+t)}}(e,t,a,v,b);if(u.BuiltInTable.hasOwnProperty(t))return R(e,t,a,v,b);throw o.functionUnsupported(a)}function q(e,t,r){if(t=e.getInstruction(t).valueType,!s.isList(t)&&t!==s.Distribution)throw o.dotLHSTypeError(r,s.prettyPrint(t))}function R(e,t,n,i,a){var s=e.chunk,c=u.BuiltInTable[t],l=!(!a||void 0===a.dotLHSIndex),d=i.length,p=c.minArity,h=c.maxArity,f=c.allowDotCall;if(a&&void 0!==a.dotLHSIndex){if(!f)throw o.illegalDotCall(n);q(s,a.dotLHSIndex,"."+n)}if("logbase"===t&&2!==d)throw o.wrongArity(n,1,d-1);if(h<d)throw l&&(--p,--h,--d,n="."+n),"doubleReducer"===c.tag?o.wrongDoubleReducerArity(n):"parameterizedReducer"===c.tag?o.wrongParameterizedReducerArity(n):"color"===c.tag?o.colorArity(n):o.wrongArity(n,h,d);if(d<p)throw l&&(--p,--h,--d,n="."+n),"reducer"===c.tag&&0===d?o.zeroArgReducer(n):"doubleReducer"===c.tag?o.wrongDoubleReducerArity(n):"parameterizedReducer"===c.tag?o.wrongParameterizedReducerArity(n):"color"===c.tag?o.colorArity(n):o.wrongArity(n,p,d);var g=B(s,i,c),m={errorSymbol:n,providedArity:d,isDotCall:l};switch(c.tag){case"default":case"reducer":case"doubleReducer":case"parameterizedReducer":case"color":case"never-broadcast":return s.NativeFunction(t,m,g);case"trig":var y=T(e,r.Identifier("trigAngleMultiplier")),v=s.Multiply([g[0],y]);return s.NativeFunction(t,m,[v]);case"inverseTrig":return y=T(e,r.Identifier("trigAngleMultiplier")),v=s.NativeFunction(t,m,g),s.Divide([v,y]);default:throw y=c.tag,new Error("Programming Error: unexpected tag "+y)}}function B(e,t,r){var n=r.minArity,o=r.defaultArguments;if(!o)return t;if(!(t.length-n<o.length))return t;for(var i=t.slice();i.length-n<o.length;)i.push(e.copyInstruction(o[i.length-n]));return i}function j(e,t){for(var r=e.chunk,n=[],i=[],a=0,s=t;a<s.length;a++){var c=s[a],u=r.getInstruction(c);switch(u.type){case l.Action:Array.prototype.push.apply(n,u.symbols),Array.prototype.push.apply(i,u.args);break;case l.Constant:var d,p=u.value.updateRules;for(d in p)n.push(d),i.push(r.ConstantOfType(p[d].valueType,p[d].value));break;default:var h=m.findDependencySymbols(r,c);throw 0<h.length?o.actionMergeFreeVariable(h):o.parseError()}}return r.Action(n,i)}function V(e,t){var r=e.frame[t];return e.policy.assignmentForbidden(t)?o.updateRuleIllegalLHS(t):r===S.FRAME_SENTINEL?o.updateRuleLocalLHS(t):r&&"FunctionDefinition"===r.type?o.updateRuleFunctionLHS(t):o.updateRuleUndefinedLHS(t).allowExport()}function U(e,t,r,n){var i=n.stepMustBePositive,a=e.chunk,c=a.getInstruction(t),l=a.getInstruction(r),u=d.assertConstantListLength(a,t,"Programming error: expected range start list to have constant length."),p=d.assertConstantListLength(a,r,"Programming error: expected range start list to have constant length.");if(c.valueType!==s.ListOfNumber||l.valueType!==s.ListOfNumber)throw o.nonArithmeticRange();var h=a.Constant(1);n=a.Constant(0),e=a.ListAccess([t,h]),c=a.ListAccess([t,a.Constant(2)]),l=a.ListAccess([r,a.Constant(p)]),p=a.Subtract([l,e]),u=1<u?a.Subtract([c,e]):a.Piecewise([a.GreaterEqual([p,n]),h,a.Constant(-1)]),p=a.Add([h,a.SyntheticNativeFunction("round",[a.Divide([p,u])])]),r=a.SyntheticNativeFunction("validateRangeLength",[t,r,u,p]);return i&&(r=a.Piecewise([a.GreaterEqual([u,n]),r,n])),n=a.BeginBroadcast([r]),r=a.Add([e,a.Multiply([u,a.Subtract([n,h])])]),h=a.EndBroadcast([n,r]),a.addComments(((n={})[e]="start",n[c]="second",n[l]="last",n[p]="proposedLength",n[u]="step",n[r]="body",n)),a.BroadcastResult(s.listType(a.getInstruction(r).valueType),[h])}Object.defineProperty(t,"__esModule",{value:!0}),t.isCacheValid=t.maybeCacheIR=t.hasSameUserDependenciesAsParent=t.maybeDropIntermediates=t.addToIR=t.checkForUndefinedUpdateSymbols=t.buildIR=t.buildIRContext=t.Ctx=void 0,t.Ctx=I,t.buildIRContext=M,t.buildIR=function(e,t){var r=e.policy,n=e.frame,o=e.argNames,i=e.argTypes,a=(c=S.analyzeDependencies(n,t)).freeDependencies,c=c.updateSymbols;o=o||a;if(!i){i=[];for(var l=0;l<o.length;l++)i.push(s.Number)}return T(n=M({policy:r,frame:n,argNames:o,argTypes:i}),t),e.wrapInList&&!s.isList(n.chunk.getReturnType())&&n.chunk.List([n.chunk.returnIndex]),n.chunk.close(),L(n,t,c),n.chunk},t.checkForUndefinedUpdateSymbols=L,t.addToIR=T,t.maybeDropIntermediates=C,t.hasSameUserDependenciesAsParent=A,t.maybeCacheIR=O,t.isCacheValid=P}),define("core/math/features/buildIRExpression",["require","core/math/ir/build-ir","core/math/parsenode/base","core/math/parsenode/irexpression","core/math/errormsg","core/math/parsenode/error"],function(e){"use strict";var t=e("core/math/ir/build-ir").buildIR,r=e("core/math/parsenode/base"),n=e("core/math/parsenode/irexpression"),o=e("core/math/errormsg");e=e("core/math/parsenode/error");r.prototype.buildIRExpression=function(e,i,a){try{var s=t({policy:e,frame:i,wrapInList:a&&a.wrapInList},this);return new n(s)}catch(e){return e instanceof r?e:o.parseError()}},e.prototype.buildIRExpression=function(){return this}}),define("core/math/features/typeCheck",["require","parsenodes","core/math/types","core/math/errormsg"],function(e){"use strict";var t=e("parsenodes"),r=e("core/math/types"),n=e("core/math/errormsg"),o=r.isOneOf;function i(e){for(var t=[],n=0;n<e.length;n++)t.push(r.prettyPrint(e[n].valueType));return t}function a(e,t){var i=t.length;t=t[0];if(i<2)throw n.methodRequiresList(this._symbol);if(!o(t.valueType,[r.ListOfNumber,r.EmptyList]))throw n.methodRequiresList(this._symbol);if(2<i)throw n.tooManyArguments(this._symbol,2)}var s,c={Object3D:function(e,t){if(t.length<3)throw n.wrongArity(this._symbol,3,t.length)},Histogram:a,DotPlot:a,BoxPlot:function(e,t){var i=t.length;t=t[0];if(0===i)throw n.methodRequiresList(this._symbol);if(!o(t.valueType,[r.ListOfNumber,r.EmptyList]))throw n.methodRequiresList(this._symbol);if(1<i)throw n.methodRequiresList(this._symbol)},TTest:function(e,t){var o=this._symbol;if(0===t.length)throw n.methodRequiresList(o);if(t[0].valueType===r.EmptyList)throw n.ttestListTooShort(o);if(t[0].valueType!==r.ListOfNumber)throw n.methodRequiresList(o);if(2<t.length)throw n.tooManyArguments(o,2);if(t[0].length<2)throw n.ttestListTooShort(o);if(t[1]&&t[1].valueType!==r.Number)throw n.functionTypeError(o,i(t))},IndependentTTest:function(e,t){var o=this._symbol;if(2!==t.length)throw n.wrongDoubleReducerArity(o);if(!r.isList(t[0].valueType)||!r.isList(t[1].valueType))throw n.nonListDoubleReducer(o);if(t[0].valueType===r.EmptyList||t[1].valueType===r.EmptyList)throw n.ttestListTooShort("ittest");if(t[0].valueType!==r.ListOfNumber||t[1].valueType!==r.ListOfNumber)throw n.functionTypeError(o,i(t));if(t[0].length<2||t[1].length<2)throw n.ttestListTooShort("ittest")},Stats:function(e,t){var o=t.length,a=t[0];if(0===o)throw n.methodRequiresList(this._symbol);if(a.valueType===r.EmptyList)throw n.functionTypeError(this._symbol,i(t));if(a.valueType!==r.ListOfNumber)throw n.methodRequiresList(this._symbol);if(1<o)throw n.methodRequiresList(this._symbol)}};for(s in c)t[s].prototype.typeCheck=c[s]}),define("core/math/features/repr",["require","parsenodes"],function(e){"use strict";function t(e,t,r){r=r||0;var n=Array(r+1).join("  "),o=n+"  ";return"[\n"+o+e.map(function(e){return e.repr(t,r+1)}).join(",\n"+o)+"\n"+n+"]"}function r(e,t){return""+(t=t||"")+e}var n=e("parsenodes");n.Expression.prototype.repr=function(e,n){return r(this.type,e)+"("+t(this.args,e,n)+")"},n.IRExpression.prototype.repr=function(e,t){t=t||0;var n=Array(t+1).join("  "),o=n+"  ";return(t=this._chunk.print().split("\n")).pop(),r(this.type,e)+"(`\n"+o+t.join("\n"+o)+"\n"+n+"`)"},n.DoubleInequality.prototype.repr=function(e,t){t=t||0;var n=Array(t+1).join("  "),o=n+"  ";return r(this.type,e)+"([\n"+o+this.args[0].repr(e,t+1)+",\n"+o+"'"+this.args[1]+"',\n"+o+this.args[2].repr(e,t+1)+",\n"+o+"'"+this.args[3]+"',\n"+o+this.args[4].repr(e,t+1)+"\n"+n+"])"},n.Identifier.prototype.repr=function(e){return r(this.type,e)+"('"+this._symbol+"')"},n.Constant.prototype.repr=function(e){return r(this.type,e)+"("+this.asValue()+")"},n.ExtendSeed.prototype.repr=function(e,n){return r(this.type,e)+"('"+this.tag+"', "+t(this.args,e,n)+")"},n.Seed.prototype.repr=function(e){return r(this.type,e)+"("+this.asValue()+")"},n.FunctionCall.prototype.repr=function(e,n){return r(this.type,e)+"('"+this._symbol+"', "+t(this.args,e,n)+")"},n.Assignment.prototype.repr=function(e,t){return r(this.type,e)+"("+n.Identifier(this._symbol).repr(e,t)+", "+this._expression.repr(e,t)+")"},n.Regression.prototype.repr=n.Equation.prototype.repr=function(e,t){return r(this.type,e)+"("+this._lhs.repr(e,t)+", "+this._rhs.repr(e,t)+")"},n.FunctionDefinition.prototype.repr=function(e,o){return r(this.type,e)+"("+n.Identifier(this._symbol).repr(e,o)+", "+t(this._argSymbols.map(function(e){return n.Identifier(e)}),e,o)+", "+this._expression.repr(e,o)+")"},n.Error.prototype.repr=function(e,t){return r(this.type,e)+"('"+this._msg+"')"},n.Derivative.prototype.repr=function(e,n){return r(this.type,e)+"('"+this._symbol+"', "+t(this.args,e,n)+")"},n.SolvedEquation.prototype.repr=function(e,t){return r(this.type,e)+"('"+this._symbol+"', "+this._expression.repr(e,t)+")"},n.OptimizedRegression.prototype.repr=function(e,t){return r(this.type,e)+"("+JSON.stringify(this.parameters)+", "+JSON.stringify(this.residuals)+", "+JSON.stringify(this.statistics)+", "+this.model.repr(e,t+1)+", "+JSON.stringify({isModelValid:this.isModelValid,residualVariable:this.residualVariable,residualSuggestionId:this.residualSuggestionId,shouldSuggestLogMode:this.shouldSuggestLogMode,isLinear:this.isLinear,parameterWarning:this.parameterWarning})+")"},n.Table.prototype.repr=function(e,n){return r(this.type,e)+"("+t(this.columns,e,n)+")"},n.TableColumn.prototype.repr=function(e,n){return r(this.type,e)+"("+this.header.repr(e,n)+", "+this.length+", "+t(this.values,e,n)+")"},n.Image.prototype.repr=function(e,t){var n=Array(t+1).join("  "),o=n+"  ";return r(this.type,e)+"({\n"+o+"center: "+this.center.repr(e,t+1)+",\n"+o+"radianAngle: "+this.radianAngle.repr(e,t+1)+",\n"+o+"width: "+this.width.repr(e,t+1)+",\n"+o+"height: "+this.height.repr(e,t+1)+"},\n"+o+"opacity: "+this.opacity.repr(e,t+1)+",\n"+o+JSON.stringify(this.moveStrategy)+"\n"+n+"})"},n.Ticker.prototype.repr=function(e,t){var n=Array(t+1).join("  "),o=n+"  ";return r(this.type,e)+"({\n"+o+"handler: "+this.handler.repr(e,t+1)+",\n"+o+"minStep: "+this.minStep.repr(e,t+1)+"\n"+n+"})"},n.Slider.prototype.repr=function(e,t){var n=Array(t+1).join("  "),o=n+"  ";return r(this.type,e)+"({\n"+o+"sliderAssignment: "+this.sliderAssignment.repr(e,t+1)+",\n"+o+"sliderMin: "+(this.sliderMin&&this.sliderMin.repr(e,t+1))+",\n"+o+"sliderMax: "+(this.sliderMax&&this.sliderMax.repr(e,t+1))+",\n"+o+"sliderStep: "+(this.sliderStep&&this.sliderStep.repr(e,t+1))+"},\n"+n+")"}}),define("core/math/features/substitute",["require","parsenodes"],function(e){"use strict";function t(e,t){return e.map(function(e){return e.substitute(t)})}var r,n=e("parsenodes"),o={Identifier:function(e){return e[this._symbol]||this},FunctionCall:function(e){var r=e[this._symbol];if(r){if("Identifier"===r.type)return n.FunctionCall(r,t(this.args,e));if("Constant"===r.type)return n.Multiply([r,1===this.args.length?this.args[0].substitute(e):n.Constant(NaN)])}return n.Expression.prototype.substitute.call(this,e)},Constant:function(e){return this},Expression:function(e){return this.copyWithArgs(t(this.args,e))},Derivative:function(e){var r=e[this._symbol];if(r){if("Identifier"===r.type)return n.Derivative(r,t(this.args,e));throw new Error("Cannot substitute for a derivative variable with a non-Identifier")}return n.Derivative(this._symbol,t(this.args,e))}};for(r in o)n[r].prototype.substitute=o[r]}),define("core/math/features/simpleFunctionExpression",["require","parsenodes"],function(e){"use strict";(e=e("parsenodes")).Expression.prototype.simpleFunctionExpression=function(){return this},e.Assignment.prototype.simpleFunctionExpression=function(){return this._expression},e.FunctionDefinition.prototype.simpleFunctionExpression=function(){return this._expression},e.Equation.prototype.simpleFunctionExpression=function(){return this.asComparator().simpleFunctionExpression()}}),define("core/math/distribution-spec",["require","exports","core/math/baseparser","tslib"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionSpecFromTree=t.parseToplevelFunction=t.DistributionParameterDefaultsMap=void 0,t.DistributionParameterDefaultsMap={normaldist:{type:"distribution",symbol:"normaldist",params:["mean","stdev"],defaults:["0","1"],discrete:!1},tdist:{type:"distribution",symbol:"tdist",params:["dof"],defaults:[void 0],discrete:!1},binomialdist:{type:"distribution",symbol:"binomialdist",params:["trials","probsuccess"],defaults:[void 0,"0.5"],discrete:!0},poissondist:{type:"distribution",symbol:"poissondist",params:["mean"],defaults:[void 0],discrete:!0},uniformdist:{type:"distribution",symbol:"uniformdist",params:["min","max"],defaults:["0","1"],discrete:!1}};var o={Histogram:{type:"visualization",symbol:"histogram",params:["data","binwidth"],defaults:[void 0,"1"]},DotPlot:{type:"visualization",symbol:"dotplot",params:["data","binwidth"],defaults:[void 0,"1"]},BoxPlot:{type:"visualization",symbol:"boxplot",params:["data"],defaults:[void 0]}};function i(e){var r=e;if(!(e=o[r.type])){if("FunctionCall"!==("Assignment"===r.type&&(r=r._expression),r.type))return;e=t.DistributionParameterDefaultsMap[r._symbol]}if(e){for(var i={},a=e.params,s=r.args,c=0;c<a.length;c++){var l=s[c];i[a[c]]=l&&l.getInputString()||""}return n.__assign(n.__assign({},e),{span:r.getInputSpan(),values:i})}}t.parseToplevelFunction=function(e){return i(r.parse(e,{trailingComma:!0}))},t.getFunctionSpecFromTree=i}),define("core/lib/number-to-latex",["require","exports"],function(e,t){"use strict";function r(e){var t,r,n,o=e+"";return/\d+\.?\d*e[\+\-]*\d+/i.test(o)&&(r=String(o).toLowerCase().split("e"),t=parseFloat(r[0]),n=parseInt(r[1],10),e=Math.abs(n),r=Math.abs(t).toString().split("."),o=n<0?"0."+new Array(e).join("0")+r.join(""):((n=r[1])&&(e-=n.length),r.join("")+new Array(e+1).join("0")),t<0&&(o="-"+o)),o}Object.defineProperty(t,"__esModule",{value:!0}),t.numberToStatsConfidenceLatex=t.numberToDecimalString=void 0,t.default=function(e){return"string"==typeof e?e:void 0===e?"":isNaN(e)?"\\frac{0}{0}":e===1/0?"\\infty":e===-1/0?"-\\infty":(e=(e+="").replace(/^1e\+?([-\d]+)/,"10^{$1}")).replace(/([-\d\.]+)e\+?([-\d]+)/,"$1\\cdot 10^{$2}")},t.numberToDecimalString=r,t.numberToStatsConfidenceLatex=function(e,t){void 0===t&&(t=2);var n,o=r(e);if(-1===(e=o.indexOf(".")))return o;for(var i=e+1;i<o.length;i++)if(n){if(o[i]!==n)break}else{if("0"!==o[i]&&"9"!==o[i])break;n=o[i]}return o.substr(0,Math.max(e+5,i+t))}}),define("core/math/ir/features/value-to-latex",["require","exports","core/math/types","../../../lib/number-to-latex"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.valueToLatex=void 0,t.valueToLatex=function e(t,o){if(r.isList(t)){for(var i=[],a=0;a<o.length;a++)i.push(e(r.elementType(t),o[a]));return"\\left["+i.join(",")+"\\right]"}switch(t){case r.Number:return n.default(o);case r.Point:var s=o[0],c=o[1];return"\\left("+n.default(s)+","+n.default(c)+"\\right)";default:throw new Error("Cannot serialize a value of type "+r.prettyPrint(t)+".")}}}),define("core/math/ir/features/action-to-latex",["require","exports","../../../lib/label","./value-to-latex"],function(e,t,r,n){"use strict";function o(e,t){e=(o=e.updateRules[t]).valueType;var o=o.value;return r.identifierToLatex(t)+"="+n.valueToLatex(e,o)}Object.defineProperty(t,"__esModule",{value:!0}),t.actionLatexForSymbol=t.actionToLatex=void 0,t.actionToLatex=function(e){var t,r={};for(t in e.updateRules)r[t]=o(e,t);return r},t.actionLatexForSymbol=o}),define("core/math/evaluationstate",["require","exports","core/vendor/d3-color","parsenodes","tslib","core/math/errormsg","core/types/graphmode","core/lib/label","core/math/distribution-spec","./types","./ir/features/action-to-latex"],function(e,t,r,n,o,i,a,s,c,l,u){"use strict";function d(e){return e.isError?e.getError():void 0===e.asValue()?"":+e.asValue()}function p(e,t,r){var n=e.variables;if(n&&n.length){for(var o,i={},a=0,s=n;a<s.length;a++)i[o=s[a]]=!0;for(o in r)i[o]=!0;r=i}e.variables=t.sliderVariables(Object.keys(r))}function h(e,t){if(t.blocksExport)return!1;if(0===(t=t.getDependencies()).length)return!1;for(var r=0,n=t;r<n.length;r++){var o=n[r];if(!e.validActionVariable(o))return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.isErrorExportableActionDefinition=t.addSliderPrompts=t.EvaluationState=t.defaultEvaluationState=void 0,t.defaultEvaluationState=function(){return{operator:"=",variables:[]}},t.EvaluationState=function(e,t,f){if(t.isTable)return function(e,t){for(var r=[],n=0;n<e.columns.length;n++){var o=t.columns[n],i=o.isError?[]:o.values.map(d);i={dependent:!o.isIndependent,discrete:!!o.isIndependent,values:i};o.isError&&(i.error=o.getError()),r.push(i)}return{column_data:r}}(t,f);if(t.isImage)return function(e,t,r){var o={variables:[],errorMap:{},dimensions:{}};if(r.center.isError&&(o.errorMap.center=!0),r.radianAngle.isError&&(o.errorMap.angle=!0),r.width.isError&&(o.errorMap.width=!0),r.height.isError&&(o.errorMap.height=!0),r.opacity.isError&&(o.errorMap.opacity=!0),r.center.isError||r.radianAngle.isError||r.width.isError||r.height.isError||r.opacity.isError)return o.variables=t.getSliderVariables(e,r),o;o.dimensions.x=[],o.dimensions.y=[],o.dimensions.radianAngle=[],o.dimensions.width=[],o.dimensions.height=[],o.dimensions.opacity=[];var i=[r.center,r.radianAngle,r.width,r.height,r.opacity];return i.some(function(e){return e&&e.valueType&&l.isList(e.valueType)})&&(o.is_concrete_list=!0),n.List.eachArgs(i,function(e){var t=e[0].asValue(),r=+e[1].asValue();r=Math.atan2(Math.sin(r),Math.cos(r));o.dimensions.x.push(+t[0]),o.dimensions.y.push(+t[1]),o.dimensions.radianAngle.push(r),o.dimensions.width.push(+e[2].asValue()),o.dimensions.height.push(+e[3].asValue()),o.dimensions.opacity.push(Math.max(0,Math.min(1,+e[4].asValue())))}),(e.graphingEnabled()?t.getGraphMode(e,r):a.NONE)!==a.NONE&&(o.is_graphable=!0),r.moveStrategy&&(o.move_strategy=r.moveStrategy),t.center&&("Identifier"===t.center.type?(o.center_reference_id=t.center.referencedStatementId,o.center_reference_symbol=t.center._symbol):"ParenSeq"===t.center.type&&r.center.valueType===l.Point&&(o.center_is_point_literal=!0)),o}(e,t,f);if(t instanceof n.Ticker)return function(e){for(var t=f.handler,r=f.minStep,n={},a={},s=0,c=t.getDependencies();s<c.length;s++){var l=c[s];e.validActionVariable(l)||(n[l]=!0)}for(var u=0,d=r.getDependencies();u<d.length;u++)a[l=d[u]]=!0;r=r.isError?{status:"error",error:r.getError()}:"number"==typeof(g=r.asValue())&&!isNaN(g)&&0<=g?{status:"valid",value:g}:{status:"error",error:i.tickerMinStepNonNegativeNumber().getError()};var g=Object.keys(n);return 0<g.length&&(t=i.tooManyVariables(g).setDependencies(t.getDependencies())),p(r={handler:t.isError&&!h(e,t)?{status:"error",error:t.getError()}:t.isEmptyAction?{status:"empty"}:{status:"maybe-valid"},minStep:r,variables:[]},e,o.__assign(o.__assign({},n),a)),r}(e);var g={operator:"=",variables:[]};if(f.isError&&(!(t instanceof n.FunctionDefinition)||f.blocksExport))return g.error=f.getError(),g.variables=t.getSliderVariables(e,f),g.is_single_identifier=t instanceof n.Identifier,f.actionValue&&(g.action_value=u.actionToLatex(f.actionValue)),g;f.valueType===l.RGBColor&&0===f.getDependencies().length&&(y=f.asValue(),g.rgb_value=r.rgb(y[0],y[1],y[2]).formatHex()),f.valueType===l.Action&&0===f.getDependencies().length&&(g.action_value=u.actionToLatex(f.asValue())),f.moveStrategy&&(g.move_strategy=f.moveStrategy,g.default_drag_mode=f.defaultDragMode),t.isInequality()&&(g.is_inequality=!0),g.operator=t.getOperator(),f instanceof n.SolvedEquation?!0!==f._expression.asValue()&&!1!==f._expression.asValue()&&(g.assignment=f._symbol):t instanceof n.Assignment&&(g.assignment=t._symbol);var m,y=e.graphingEnabled()?t.getGraphMode(e,f):a.NONE;if(y!==a.NONE&&(g.is_graphable=!0,g.expression_type=t.getExpressionType(y,f.valueType),f.isShadeBetween()&&(g.is_shade_between=!0),(m=t.tableInfo(e,f))&&(g.is_tableable=!0,g.table_info=m)),void 0===f.valueType||!l.isList(f.valueType)||(g.is_concrete_list=!0,f.valueType!==l.ListOfColor||0!==f.getDependencies().length)||(m=f.asValue())&&(g.rgb_value=m.map(function(e){return r.rgb(e[0],e[1],e[2]).formatHex()})),g.variables=g.is_graphable?[]:t.getSliderVariables(e,f),g.is_single_identifier=t instanceof n.Identifier,f.isConstant&&(g.constant_value=f.asValue()),!(e=f.getEvaluationInfo())||"="!==g.operator||t.isConstant||t.isFunction||f.valueType===l.Bool||f.valueType===l.ListOfBool||t instanceof n.Equation||t instanceof n.And||(g.is_evaluable=!0,g.zero_values=e),f instanceof n.OptimizedRegression){var v,b=f,x={};for(v in b.parameters)b.parameters.hasOwnProperty(v)&&(x[s.identifierToLatex(v)]=+b.parameters[v].asValue());g.is_regression=!0,g.regression={parameters:x,residualVariable:s.identifierToLatex(b.residualVariable),residualSuggestionId:b.residualSuggestionId,shouldSuggestLogMode:b.shouldSuggestLogMode,isLinear:b.isLinear,statistics:b.statistics,parameterWarning:b.parameterWarning}}return(t=c.getFunctionSpecFromTree(t))&&t.discrete&&(g.is_discrete_distribution=!0),g},t.addSliderPrompts=p,t.isErrorExportableActionDefinition=h}),define("core/math/workerconfig",[],function(){"use strict";return{pointsOfInterest:!0,plotSingleVariableImplicitEquations:!0,plotImplicits:!0,plotInequalities:!0,sliders:!0}}),define("core/math/statementanalysis",["require","core/math/evaluationstate","pjs","core/types/graphmode","core/math/workerconfig"],function(e){"use strict";var t=e("core/math/evaluationstate").EvaluationState,r=e("pjs"),n=e("core/types/graphmode"),o=e("core/math/workerconfig");return r(function(e){e.init=function(e,r,n){this.policy=e,this.rawTree=r,this.concreteTree=n,this.evaluationState=t(e,r,n)},e.exportTo=function(e,t){this.rawTree.exportTo(e,this.concreteTree,t)},e.graph=function(e){return this.rawTree.tryGraph(this.policy,this.concreteTree,e)},e.getGraphMode=function(){return this.rawTree.getGraphMode(this.policy,this.concreteTree)},e.getGraphInfo=function(){return this.rawTree.getGraphInfo(this.policy,this.concreteTree)},e.shouldIntersect=function(){if(!this.evaluationState.is_graphable)return!1;if(!this.rawTree.userData.shouldGraph)return!1;if(!o.pointsOfInterest)return!1;var e=this.getGraphMode();return e===n.X||e===n.Y}})}),define("core/math/expression-types",["require","exports"],function(e,t){"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.isClickableExpressionType=t.getReconciledExpressionProps=t.EXPRESSION_PROP_DEFAULTS=t.ExpressionType=void 0,(n=r=t.ExpressionType||(t.ExpressionType={})).X_OR_Y="X_OR_Y",n.SINGLE_POINT="SINGLE_POINT",n.POINT_LIST="POINT_LIST",n.PARAMETRIC="PARAMETRIC",n.POLAR="POLAR",n.IMPLICIT="IMPLICIT",n.POLYGON="POLYGON",n.HISTOGRAM="HISTOGRAM",n.DOTPLOT="DOTPLOT",n.BOXPLOT="BOXPLOT",n.TTEST="TTEST",n.STATS="STATS",n.CUBE="CUBE",n.SPHERE="SPHERE",t.EXPRESSION_PROP_DEFAULTS={X_OR_Y:{points:!1,lines:!0,fill:!1},SINGLE_POINT:{points:!0,lines:!1,fill:!1},POINT_LIST:{points:!0,lines:!1,fill:!1},PARAMETRIC:{points:!1,lines:!0,fill:!1},POLAR:{points:!1,lines:!0,fill:!1},IMPLICIT:{points:!1,lines:!0,fill:!1},POLYGON:{points:!1,lines:!0,fill:!0},HISTOGRAM:{points:!1,lines:!0,fill:!0},DOTPLOT:{points:!0,lines:!1,fill:!1},BOXPLOT:{points:!1,lines:!0,fill:!1},TTEST:{points:!1,lines:!1,fill:!1},STATS:{points:!1,lines:!1,fill:!1},CUBE:{points:!1,lines:!1,fill:!0},SPHERE:{points:!1,lines:!1,fill:!0}},t.getReconciledExpressionProps=function(e,n){if(void 0===e)return{points:!1,lines:!1,fill:!1};var o=t.EXPRESSION_PROP_DEFAULTS[e];switch(e){case r.SINGLE_POINT:return{points:!0,lines:!1,fill:!1};case r.POINT_LIST:case r.DOTPLOT:return{points:(void 0===n.points?o:n).points,lines:(void 0===n.lines?o:n).lines,fill:!1};case r.PARAMETRIC:case r.POLYGON:case r.X_OR_Y:case r.POLAR:case r.IMPLICIT:case r.HISTOGRAM:case r.BOXPLOT:case r.TTEST:case r.STATS:case r.CUBE:case r.SPHERE:return{points:!1,lines:(void 0===n.lines?o:n).lines,fill:(void 0===n.fill?o:n).fill};default:return e}},t.isClickableExpressionType=function(e){if(void 0===e)return!1;switch(e){case r.SINGLE_POINT:case r.POINT_LIST:case r.PARAMETRIC:case r.POLYGON:case r.X_OR_Y:case r.POLAR:case r.IMPLICIT:return!0;case r.HISTOGRAM:case r.BOXPLOT:case r.DOTPLOT:case r.TTEST:case r.STATS:case r.CUBE:case r.SPHERE:return!1;default:return e}}}),define("core/math/ir/features/reapply-restrictions",["require","exports","../instructions","../opcodes","./get-dependency-mask"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reapplyRestrictions=void 0,t.reapplyRestrictions=function(e,t){for(var i=[],a=e.returnIndex,s=o.getDependencyMask(e,t.mappedArgIndex),c=function(e,t,o){for(var i=[],a=0;a<o;a++)i.push(!1);for(i[o]=t[o],a=o;0<=a;a--)if(i[a]&&t[a]){var s=e.getInstruction(a);if(s.type===n.Piecewise)i[s.args[1]]=!0;else if(!r.isLeafInstruction(s))for(var c=0,l=s.args;c<l.length;c++)i[l[c]]=!0}return i}(e,s,t.mappedReturnIndex),l=a,u=e.NanOfType(e.getReturnType()),d=0;d<t.mappedReturnIndex;d++){var p,h=e.getInstruction(d);d!==t.mappedArgIndex?s[d]||e.isInClosedBlock(d)?r.isLeafInstruction(h)?i.push(e.copyInstruction(h)):(p=function(e,t){for(var r=[],n=0,o=h.args;n<o.length;n++){var i=o[n];r.push(e[i])}return r}(i),i.push(e.copyInstructionWithArgs(h,p)),h.type===n.Piecewise&&c[d]&&(l=e.Piecewise([p[0],l,u]))):i.push(d):i.push(a)}return l}}),define("core/math/ir/features/solve",["require","exports","parsenodes","core/math/workerconfig","core/math/parsenode/irexpression","core/math/errormsg","../build-ir","../dependencies","core/math/comparators","../opcodes","./fuse-broadcast","./reapply-restrictions","core/math/types","core/math/maybe-rational"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trySolve=void 0,t.trySolve=function(e,t){try{return function(t){for(var f=e.policy,g=e.frame,m=s.getFreeDependencies(g,t),y=[],v=0;v<m.length;v++)y.push(p.Number);var b=a.buildIRContext({policy:f,frame:g,argNames:m,argTypes:y}),x=b.chunk,w=a.addToIR(b,t.args[0]),E=a.addToIR(b,t.args[1]),S=t.getOperator(),k="="!==S;switch(S){case"<":x.Less([w,E]);break;case">":x.Greater([w,E]);break;case"<=":x.LessEqual([w,E]);break;case">=":x.GreaterEqual([w,E]);break;case"=":x.Equal([w,E])}if(x.returnIndex=u.fuseBroadcast(x,x.returnIndex),x.isConstant())return new o(x.close());var _=x.getInstruction(w).type!==l.LoadArg||-1!==s.getFreeDependencies(g,t.args[1]).indexOf(x.argNames[w]);if(!n.plotImplicits&&_)throw i.implicitsDisabled();if(-1===c.table[S].direction?x.Subtract([E,w]):x.Subtract([w,E]),x.close(),0===(g=x.getLiveArgNames()).length)throw i.parseError();if(1===g.length&&!k&&!n.plotSingleVariableImplicitEquations)return i.singleVariableImplicitEquationsDisabled();if(2<g.length)return i.tooManyVariables(f.sliderVariables(g)).setDependencies(g);if(k&&!f.validInequalityVariables(g))return i.invalidInequalityVariables().setDependencies(g);if(t=function(e){var t=b.chunk,r=b.policy,n=t.argNames,o=p.isList(t.getReturnType()),i=[];e:for(var a=0;a<n.length;a++){var s=n[a],c=1<n.length&&!r.validSolvedVariable(s);i[a]={localFrames:[],effectiveOrder:0,variableOfInterest:s};var l=!e;if(c)i[a].effectiveOrder=1/0;else{var u=o?t.getConstantListLength():1;if(null==u)throw new Error("Programming error: cannot solve a variable-length list expression");for(var d=0;d<u;d++){var h=o?t.elementAt(d):t;if(2<h.polynomialOrder(s,{allowRestriction:l,allowClosedBlockReferences:!1})){i[a].effectiveOrder=1/0;continue e}h=h.getPolynomialCoefficients(s),i[a].localFrames.push(h),i[a].effectiveOrder=Math.max(i[a].effectiveOrder,h.coefficients.length-1)}}}return 1===n.length?i[0]:("y"===n[0]&&(i=[i[1],i[0]]),0===i[0].effectiveOrder?i[1]:0===i[1].effectiveOrder?i[0]:i[i[0].effectiveOrder<i[1].effectiveOrder?0:1])}(k),_=t.localFrames,S=t.effectiveOrder,t=t.variableOfInterest,f.complicatedPolarImplicit(t,S))return i.complicatedPolarImplicit().setDependencies(g);if(!f.validImplicitVariables(g))return i.invalidImplicitVariables();if(2<S)return new o(x.close());for(var I=[],M=1,L=0,T=_;L<T.length;L++)for(var C=T[L],A=function(e,t){return(k?function(){var t=e.chunk,r=(m=e.coefficients)[0],n=m[1],o=m[2],i=t.Constant(h.maybeRational(0,1));void 0===o&&(o=i),void 0===n&&(n=i),void 0===r&&(r=i);var a=t.Constant(h.maybeRational(2,1)),s=t.Constant(NaN),c=t.Constant(h.maybeRational(1e305,1)),l=t.Negative([c]),u=t.Multiply([a,o]),d=t.Negative([n]),p=t.Subtract([t.Multiply([n,n]),t.Multiply([a,t.Multiply([u,r])])]),f=t.SyntheticNativeFunction("sqrt",[p]),g=t.Divide([t.Add([d,f]),u]),m=t.Divide([t.Subtract([d,f]),u]);a=t.Negative([t.Divide([r,n])]),d=t.Equal([o,i]),f=t.Greater([o,i]),u=t.Equal([n,i]),o=t.Greater([n,i]),n=t.Less([n,i]),r=t.Greater([r,i]),i=t.Less([p,i]);return[t.Piecewise([d,t.Piecewise([n,a,s]),t.Piecewise([f,m,s])]),t.Piecewise([d,t.Piecewise([u,t.Piecewise([r,l,s]),s]),t.Piecewise([f,t.Piecewise([i,l,s]),g])]),t.Piecewise([d,t.Piecewise([u,t.Piecewise([r,c,s]),s]),t.Piecewise([f,t.Piecewise([i,c,s]),m])]),t.Piecewise([d,t.Piecewise([o,a,s]),t.Piecewise([f,g,s])])]}:function(){var t=e.chunk,r=(f=e.coefficients)[0],n=f[1],o=f[2],i=t.Constant(h.maybeRational(0,1)),a=t.Constant(NaN);if(void 0===o){void 0===n&&(n=i);var s=t.Negative([t.Divide([r,n])]),c=t.Equal([n,i]);return[t.Piecewise([c,a,s])]}var u=t.Constant(h.maybeRational(2,1)),d=t.Multiply([u,o]),p=t.Negative([n]),f=t.Subtract([t.Multiply([n,n]),t.Multiply([u,t.Multiply([d,r])])]);c=t.Equal([o,i]);return(u=t.getInstruction(f)).type===l.Constant&&0===h.asFloat(u.value)?[t.Piecewise([c,a,t.Divide([p,d])])]:(o=t.SyntheticNativeFunction("sqrt",[f]),u=t.Less([n,i]),f=t.Greater([n,i]),i=t.Divide([t.Add([p,o]),d]),d=t.Divide([t.Subtract([p,o]),d]),s=t.Negative([t.Divide([r,n])]),[t.Piecewise([c,t.Piecewise([u,s,a]),d]),t.Piecewise([c,t.Piecewise([f,s,a]),i])])})()}(C),O=(M=A.length,0),P=A;O<P.length;O++){var D=P[O],F=C.chunk.copy();F.returnIndex=D,C.isRestrictedPolynomial&&(F.returnIndex=d.reapplyRestrictions(F,C)),F.close(),I.push(new o(F))}return r.SolvedEquation(t,r.List(I),M)}(t)}catch(e){return e instanceof r.Base?e:i.parseError()}}}),define("numeric",[],function(){"use strict";var e="undefined"==typeof exports?function(){}:exports;return"undefined"!=typeof global&&(global.numeric=e),e.version="1.2.6",e._myIndexOf=function(e){for(var t=this.length,r=0;r<t;++r)if(this[r]===e)return r;return-1},e.myIndexOf=Array.prototype.indexOf||e._myIndexOf,e.precision=4,e.largeArray=50,e.compile=function(){var t=Array.prototype.slice.call(arguments),r=t.pop();r="return function ("+t.join(",")+") {"+r+"}";return new Function(["numeric"],r)(e)},e._dim=function(e){for(var t=[];"object"==typeof e;)t.push(e.length),e=e[0];return t},e.dim=function(t){var r;return"object"==typeof t?"object"==typeof(r=t[0])?"object"==typeof r[0]?e._dim(t):[t.length,r.length]:[t.length]:[]},e.mapreduce=function(t,r){return e.compile("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+r+';\nif(typeof x === "number") { var xi = x; '+t+'; return accum; }\nif(typeof _s === "undefined") _s = numeric.dim(x);\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i,xi;\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) {\n        accum = arguments.callee(x[i],accum,_s,_k+1);\n    }    return accum;\n}\nfor(i=_n-1;i>=1;i-=2) { \n    xi = x[i];\n    '+t+";\n    xi = x[i-1];\n    "+t+";\n}\nif(i === 0) {\n    xi = x[i];\n    "+t+"\n}\nreturn accum;")},e.mapreduce2=function(t,r){return e.compile("x","var n = x.length;\nvar i,xi;\n"+r+"\nfor(i=n-1;i!==-1;--i) { \n    xi = x[i];\n    "+t+"\n}\nreturn accum;")},e.rep=function(t,r,n){void 0===n&&(n=0);var o,i=t[n],a=Array(i);if(n===t.length-1){for(o=i-2;0<=o;o-=2)a[o+1]=r,a[o]=r;return-1===o&&(a[0]=r),a}for(o=i-1;0<=o;o--)a[o]=e.rep(t,r,n+1);return a},e.dotMMsmall=function(e,t){for(var r,n,o,i,a,s,c=e.length,l=t.length,u=t[0].length,d=Array(c),p=c-1;0<=p;p--){for(o=Array(u),i=e[p],n=u-1;0<=n;n--){for(a=i[l-1]*t[l-1][n],r=l-2;1<=r;r-=2)s=r-1,a+=i[r]*t[r][n]+i[s]*t[s][n];0===r&&(a+=i[0]*t[0][n]),o[n]=a}d[p]=o}return d},e._getCol=function(e,t,r){for(var n=e.length-1;0<n;--n)r[n]=e[n][t],r[--n]=e[n][t];0===n&&(r[0]=e[0][t])},e.dotMMbig=function(t,r){var n,o,i,a=e._getCol,s=r.length,c=Array(s),l=t.length,u=r[0].length,d=new Array(l),p=e.dotVV;for(o=--l;-1!==o;--o)d[o]=Array(u);for(o=--u;-1!==o;--o)for(a(r,o,c),i=l;-1!==i;--i)n=t[i],d[i][o]=p(n,c);return d},e.dotMV=function(t,r){for(var n=t.length,o=(r.length,Array(n)),i=e.dotVV,a=n-1;0<=a;a--)o[a]=i(t[a],r);return o},e.dotVM=function(e,t){for(var r,n,o,i=e.length,a=t[0].length,s=Array(a),c=a-1;0<=c;c--){for(n=e[i-1]*t[i-1][c],r=i-2;1<=r;r-=2)o=r-1,n+=e[r]*t[r][c]+e[o]*t[o][c];0===r&&(n+=e[0]*t[0][c]),s[c]=n}return s},e.dotVV=function(e,t){for(var r,n=e.length,o=e[n-1]*t[n-1],i=n-2;1<=i;i-=2)r=i-1,o+=e[i]*t[i]+e[r]*t[r];return 0===i&&(o+=e[0]*t[0]),o},e.dot=function(t,r){var n=e.dim;switch(1e3*n(t).length+n(r).length){case 2002:return r.length<10?e.dotMMsmall(t,r):e.dotMMbig(t,r);case 2001:return e.dotMV(t,r);case 1002:return e.dotVM(t,r);case 1001:return e.dotVV(t,r);case 1e3:return e.mulVS(t,r);case 1:return e.mulSV(t,r);case 0:return t*r;default:throw new Error("numeric.dot only works on vectors and matrices")}},e.diag=function(e){for(var t,r,n,o=e.length,i=Array(o),a=o-1;0<=a;a--){for(n=Array(o),t=a+2,r=o-1;t<=r;r-=2)n[r]=0,n[r-1]=0;for(a<r&&(n[r]=0),n[a]=e[a],r=a-1;1<=r;r-=2)n[r]=0,n[r-1]=0;0===r&&(n[0]=0),i[a]=n}return i},e.getDiag=function(e){for(var t=Math.min(e.length,e[0].length),r=Array(t),n=t-1;1<=n;--n)r[n]=e[n][n],r[--n]=e[n][n];return 0===n&&(r[0]=e[0][0]),r},e.identity=function(t){return e.diag(e.rep([t],1))},e.pointwise=function(t,r,n){void 0===n&&(n="");for(var o,i=[],a=/\[i\]$/,s="",c=!1,l=0;l<t.length;l++)a.test(t[l])?s=o=t[l].substring(0,t[l].length-3):o=t[l],"ret"===o&&(c=!0),i.push(o);return i[t.length]="_s",i[t.length+1]="_k",i[t.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+s+');\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i'+(c?"":", ret = Array(_n)")+";\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+t.join(",")+",_s,_k+1);\n    return ret;\n}\n"+n+"\nfor(i=_n-1;i!==-1;--i) {\n    "+r+"\n}\nreturn ret;",e.compile.apply(null,i)},e.pointwise2=function(t,r,n){void 0===n&&(n="");for(var o,i=[],a=/\[i\]$/,s="",c=!1,l=0;l<t.length;l++)a.test(t[l])?s=o=t[l].substring(0,t[l].length-3):o=t[l],"ret"===o&&(c=!0),i.push(o);return i[t.length]="var _n = "+s+".length;\nvar i"+(c?"":", ret = Array(_n)")+";\n"+n+"\nfor(i=_n-1;i!==-1;--i) {\n"+r+"\n}\nreturn ret;",e.compile.apply(null,i)},e._biforeach=function e(t,r,n,o,i){var a;if(o!==n.length-1)for(a=n[o]-1;0<=a;a--)e("object"==typeof t?t[a]:t,"object"==typeof r?r[a]:r,n,o+1,i);else i(t,r)},e._biforeach2=function e(t,r,n,o,i){if(o===n.length-1)return i(t,r);for(var a=n[o],s=Array(a),c=a-1;0<=c;--c)s[c]=e("object"==typeof t?t[c]:t,"object"==typeof r?r[c]:r,n,o+1,i);return s},e._foreach=function e(t,r,n,o){var i;if(n!==r.length-1)for(i=r[n]-1;0<=i;i--)e(t[i],r,n+1,o);else o(t)},e._foreach2=function e(t,r,n,o){if(n===r.length-1)return o(t);for(var i=r[n],a=Array(i),s=i-1;0<=s;s--)a[s]=e(t[s],r,n+1,o);return a},e.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},e.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},e.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],e.mathfuns2=["atan2","pow","max","min"],e.ops1={neg:"-",not:"!",bnot:"~",clone:""},e.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi);","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){for(var t,r,n,o,i=0;i<e.mathfuns2.length;++i)t=e.mathfuns2[i],e.ops2[t]=t;for(i in e.ops2)e.ops2.hasOwnProperty(i)&&(t=e.ops2[i],n="",o=-1!==e.myIndexOf.call(e.mathfuns2,i)?(n="var "+t+" = Math."+t+";\n",r=function(e,r,n){return e+" = "+t+"("+r+","+n+")"},function(e,r){return e+" = "+t+"("+e+","+r+")"}):(r=function(e,r,n){return e+" = "+r+" "+t+" "+n},e.opseq.hasOwnProperty(i+"eq")?function(e,r){return e+" "+t+"= "+r}:function(e,r){return e+" = "+e+" "+t+" "+r}),e[i+"VV"]=e.pointwise2(["x[i]","y[i]"],r("ret[i]","x[i]","y[i]"),n),e[i+"SV"]=e.pointwise2(["x","y[i]"],r("ret[i]","x","y[i]"),n),e[i+"VS"]=e.pointwise2(["x[i]","y"],r("ret[i]","x[i]","y"),n),e[i]=e.compile("var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric."+i+"VV, VS = numeric."+i+"VS, SV = numeric."+i+'SV;\nvar dim = numeric.dim;\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof x === "object") {\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n  else '+o("x","y")+"\n}\nreturn x;\n"),e[t]=e[i],e[i+"eqV"]=e.pointwise2(["ret[i]","x[i]"],o("ret[i]","x[i]"),n),e[i+"eqS"]=e.pointwise2(["ret[i]","x"],o("ret[i]","x"),n),e[i+"eq"]=e.compile("var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric."+i+"eqV, S = numeric."+i+'eqS\nvar s = numeric.dim(x);\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n  else numeric._biforeach(x,y,s,0,S);\n}\nreturn x;\n'));for(i=0;i<e.mathfuns2.length;++i)t=e.mathfuns2[i],delete e.ops2[t];for(i=0;i<e.mathfuns.length;++i)t=e.mathfuns[i],e.ops1[t]=t;for(i in e.ops1)e.ops1.hasOwnProperty(i)&&(n="",t=e.ops1[i],-1!==e.myIndexOf.call(e.mathfuns,i)&&Math.hasOwnProperty(t)&&(n="var "+t+" = Math."+t+";\n"),e[i+"eqV"]=e.pointwise2(["ret[i]"],"ret[i] = "+t+"(ret[i]);",n),e[i+"eq"]=e.compile("x",'if(typeof x !== "object") return '+t+"x\nvar i;\nvar V = numeric."+i+"eqV;\nvar s = numeric.dim(x);\nnumeric._foreach(x,s,0,V);\nreturn x;\n"),e[i+"V"]=e.pointwise2(["x[i]"],"ret[i] = "+t+"(x[i]);",n),e[i]=e.compile("x",'if(typeof x !== "object") return '+t+"(x)\nvar i;\nvar V = numeric."+i+"V;\nvar s = numeric.dim(x);\nreturn numeric._foreach2(x,s,0,V);\n"));for(i=0;i<e.mathfuns.length;++i)t=e.mathfuns[i],delete e.ops1[t];for(i in e.mapreducers)e.mapreducers.hasOwnProperty(i)&&(t=e.mapreducers[i],e[i+"V"]=e.mapreduce2(t[0],t[1]),e[i]=e.compile("x","s","k",t[1]+'if(typeof x !== "object") {    xi = x;\n'+t[0]+'\n    return accum;\n}if(typeof s === "undefined") s = numeric.dim(x);\nif(typeof k === "undefined") k = 0;\nif(k === s.length-1) return numeric.'+i+"V(x);\nvar xi;\nvar n = x.length, i;\nfor(i=n-1;i!==-1;--i) {\n   xi = arguments.callee(x[i]);\n"+t[0]+"\n}\nreturn accum;\n"))}(),e.inv=function(t){for(var r,n,o,i,a,s=e.dim(t),c=Math.abs,l=s[0],u=s[1],d=e.clone(t),p=e.identity(l),h=0;h<u;++h){for(var f=-1,g=-1,m=h;m!==l;++m)(a=c(d[m][h]))>g&&(f=m,g=a);for(n=d[f],d[f]=d[h],d[h]=n,i=p[f],p[f]=p[h],p[h]=i,t=n[h],a=h;a!==u;++a)n[a]/=t;for(a=u-1;-1!==a;--a)i[a]/=t;for(m=l-1;-1!==m;--m)if(m!==h){for(r=d[m],o=p[m],t=r[h],a=h+1;a!==u;++a)r[a]-=n[a]*t;for(a=u-1;0<a;--a)o[a]-=i[a]*t,o[--a]-=i[a]*t;0===a&&(o[0]-=i[0]*t)}}return p},e.det=function(t){var r=e.dim(t);if(2!==r.length||r[0]!==r[1])throw new Error("numeric: det() only works on square matrices");for(var n,o,i,a,s,c,l,u=r[0],d=1,p=e.clone(t),h=0;h<u-1;h++){for(n=(o=h)+1;n<u;n++)Math.abs(p[n][h])>Math.abs(p[o][h])&&(o=n);for(o!==h&&(c=p[o],p[o]=p[h],p[h]=c,d*=-1),i=p[h],n=h+1;n<u;n++){for(s=(a=p[n])[h]/i[h],o=h+1;o<u-1;o+=2)l=o+1,a[o]-=i[o]*s,a[l]-=i[l]*s;o!==u&&(a[o]-=i[o]*s)}if(0===i[h])return 0;d*=i[h]}return d*p[h][h]},e.transpose=function(e){for(var t,r,n,o,i=e.length,a=e[0].length,s=Array(a),c=0;c<a;c++)s[c]=Array(i);for(t=i-1;1<=t;t-=2){for(n=e[t],r=e[t-1],c=a-1;1<=c;--c)(o=s[c])[t]=n[c],o[t-1]=r[c],(o=s[--c])[t]=n[c],o[t-1]=r[c];0===c&&((o=s[0])[t]=n[0],o[t-1]=r[0])}if(0===t){for(r=e[0],c=a-1;1<=c;--c)s[c][0]=r[c],s[--c][0]=r[c];0===c&&(s[0][0]=r[0])}return s},e.negtranspose=function(e){for(var t,r,n,o,i=e.length,a=e[0].length,s=Array(a),c=0;c<a;c++)s[c]=Array(i);for(t=i-1;1<=t;t-=2){for(n=e[t],r=e[t-1],c=a-1;1<=c;--c)(o=s[c])[t]=-n[c],o[t-1]=-r[c],(o=s[--c])[t]=-n[c],o[t-1]=-r[c];0===c&&((o=s[0])[t]=-n[0],o[t-1]=-r[0])}if(0===t){for(r=e[0],c=a-1;1<=c;--c)s[c][0]=-r[c],s[--c][0]=-r[c];0===c&&(s[0][0]=-r[0])}return s},e.norm2=function(t){return Math.sqrt(e.norm2Squared(t))},e.linspace=function(e,t,r){if(void 0===r&&(r=Math.max(Math.round(t-e)+1,1)),r<2)return 1===r?[e]:[];for(var n=Array(r),o=--r;0<=o;o--)n[o]=(o*t+(r-o)*e)/r;return n},e.getBlock=function(t,r,n){var o=e.dim(t);return function e(t,i){var a,s=r[i],c=n[i]-s,l=Array(c);if(i===o.length-1){for(a=c;0<=a;a--)l[a]=t[a+s];return l}for(a=c;0<=a;a--)l[a]=e(t[a+s],i+1);return l}(t,0)},e.setBlock=function(t,r,n,o){var i=e.dim(t);return function e(t,o,a){var s,c=r[a],l=n[a]-c;if(a===i.length-1)for(s=l;0<=s;s--)t[s+c]=o[s];for(s=l;0<=s;s--)e(t[s+c],o[s],a+1)}(t,o,0),t},e.getRange=function(e,t,r){for(var n,o,i,a=t.length,s=r.length,c=Array(a),l=a-1;-1!==l;--l)for(c[l]=Array(s),o=c[l],i=e[t[l]],n=s-1;-1!==n;--n)o[n]=i[r[n]];return c},e.blockMatrix=function(t){var r=e.dim(t);if(r.length<4)return e.blockMatrix([t]);for(var n,o,i=r[0],a=r[1],s=0,c=0,l=0;l<i;++l)s+=t[l][0].length;for(n=0;n<a;++n)c+=t[0][n][0].length;var u=Array(s);for(l=0;l<s;++l)u[l]=Array(c);var d,p,h,f,g,m=0;for(l=0;l<i;++l){for(d=c,n=a-1;-1!==n;--n)for(d-=(o=t[l][n])[0].length,h=o.length-1;-1!==h;--h)for(g=o[h],p=u[m+h],f=g.length-1;-1!==f;--f)p[d+f]=g[f];m+=t[l][0].length}return u},e.tensor=function(t,r){if("number"==typeof t||"number"==typeof r)return e.mul(t,r);var n=e.dim(t),o=e.dim(r);if(1!==n.length||1!==o.length)throw new Error("numeric: tensor product is only defined for vectors");n=n[0];for(var i,a,s,c=o[0],l=Array(n),u=n-1;0<=u;u--){for(i=Array(c),s=t[u],a=c-1;3<=a;--a)i[a]=s*r[a],i[--a]=s*r[a],i[--a]=s*r[a],i[--a]=s*r[a];for(;0<=a;)i[a]=s*r[a],--a;l[u]=i}return l},e.epsilon=2.220446049250313e-16,e.LU=function(t,r){r=r||!1;var n,o,i,a,s,c,l,u,d,p=Math.abs,h=t.length,f=h-1,g=new Array(h);for(r||(t=e.clone(t)),i=0;i<h;++i){for(d=p((c=t[l=i])[i]),o=i+1;o<h;++o)d<(a=p(t[o][i]))&&(d=a,l=o);for((g[i]=l)!=i&&(t[i]=t[l],t[l]=c,c=t[i]),s=c[i],n=i+1;n<h;++n)t[n][i]/=s;for(n=i+1;n<h;++n){for(u=t[n],o=i+1;o<f;++o)u[o]-=u[i]*c[o],u[++o]-=u[i]*c[o];o===f&&(u[o]-=u[i]*c[o])}}return{LU:t,P:g}},e.LUsolve=function(t,r){for(var n,o,i,a,s=t.LU,c=s.length,l=e.clone(r),u=t.P,d=c-1;-1!==d;--d)l[d]=r[d];for(d=0;d<c;++d)for(o=u[d],u[d]!==d&&(a=l[d],l[d]=l[o],l[o]=a),i=s[d],n=0;n<d;++n)l[d]-=l[n]*i[n];for(d=c-1;0<=d;--d){for(i=s[d],n=d+1;n<c;++n)l[d]-=l[n]*i[n];l[d]/=i[d]}return l},e.solve=function(t,r,n){return e.LUsolve(e.LU(t,n),r)},e}),define("core/math/qr",["require","exports"],function(e,t){"use strict";function r(e,t,r){for(var n=e.reflectors,o=e.r,i=e.p,a=t.slice(),s=0;s<n.length;s++)!function(e,t){for(var r=e.length,n=t.length,o=0,i=0,a=n-r;a<n;a++)o+=e[a+r-n]*t[a],i+=e[a+r-n]*e[a+r-n];var s=o/i;for(a=n-r;a<n;a++)t[a]=2*s*e[a+r-n]-t[a]}(n[s],a);for(s=n.length;s<o[0].length;s++)a[s]=0;a.length=o[0].length;t=Math.pow(2,-52);var c,l=r.regularize?t*Math.abs(o[0][0])*Math.max(o.length,o[0].length):0;for(s=n.length-1;0<=s;s--){var u=o[s];if(Math.abs(u[s])<=l)a[s]=0;else{for(var d=s+1;d<n.length;d++)a[s]-=a[d]*u[d];a[s]/=u[s]}}for(s=i.length-1;0<=s;s--)i[s]!==s&&(c=a[s],a[s]=a[i[s]],a[i[s]]=c);return a}function n(e){var t=e.r,r=Math.min(t.length,t[0].length);e=t[0][0],r=t[r-1][r-1];return 0===e?1/0:Math.abs(e/r)}Object.defineProperty(t,"__esModule",{value:!0}),t.isNumericallyFullRank=t.conditionNumber=t.qrSolve=t.qr=void 0,t.qr=function(e,t){if(!t||!t.mutateInput){var r=e;e=Array(e.length);for(var n=0;n<r.length;n++)e[n]=r[n].slice()}for(var o=Math.min(e.length,e[0].length),i=Array(o),a=[],s=0;s<o;s++){for(var c=-1/0,l=s,u=s;u<e[s].length;u++){var d=function(e,t,r){for(var n=0;t<e.length;t++)n+=e[t][r]*e[t][r];return n}(e,s,u);c<d&&(c=d,l=u)}if((i[s]=l)!==s)for(n=0;n<e.length;n++){var p=e[n][l];e[n][l]=e[n][s],e[n][s]=p}var h=function(e,t,r,n){var o=Array(e.length-t);if(1===o.length)return o[0]=1,o;if(0===n){for(var i=o[0]=1;i<o.length;i++)o[i]=0;return o}var a=e[t][r]<0?-1:1;o[0]=e[t][r]+a*Math.sqrt(n);for(var s=t+1;s<e.length;s++)o[s-t]=e[s][r];return o}(e,s,s,c);for(u=s;u<e[s].length;u++)!function(e,t,r){for(var n=e.length,o=t.length,i=0,a=0,s=o-n;s<o;s++)i+=e[s+n-o]*t[s][r],a+=e[s+n-o]*e[s+n-o];var c=i/a;for(s=o-n;s<o;s++)t[s][r]=2*c*e[s+n-o]-t[s][r]}(h,e,u);a.push(h)}return{reflectors:a,r:e,p:i}},t.qrSolve=function(e,t,n){return(Array.isArray(t[0])?function(e,t,n){for(var o=Array(e.r[0].length),i=0;i<o.length;i++)o[i]=Array(t[0].length);for(var a=Array(t.length),s=0;s<t[0].length;s++){for(i=0;i<t.length;i++)a[i]=t[i][s];var c=r(e,a,n);for(i=0;i<c.length;i++)o[i][s]=c[i]}return o}:r)(e,t,n)},t.conditionNumber=n,t.isNumericallyFullRank=function(e){var t=Math.pow(2,-52);return Math.max(e.r.length,e.r[0].length)*t*n(e)<1}}),define("core/math/least-squares",["require","exports","numeric","core/math/distance","./qr"],function(e,t,r,n,o){"use strict";function i(e,t){for(var r=[],n=0;n<t;n++)r.push(e);return r}function a(e,t){for(var r=0,n=0,o=t=s(e,t);n<o.length;n++){var i=o[n];r+=i*i}return r/t.length}function s(e,t){return e.apply(void 0,t)}function c(e,t){for(var r=[],n=0,o=e;n<o.length;n++){var i=o[n].apply(void 0,t);r.push(i)}return r}function l(e,t){for(var r=[],n=0;n<e.length;n++)t[n]&&r.push(e[n]);return r}function u(e,t,r){for(var n=[],o=0,i=0;o<e.length;o++){var a=0;r[o]&&(a=t[i],i+=1),n.push(e[o]+a)}return n}function d(e,t,n,d){var p,h,f=d.maxIterations,g=d.linearSubset||i(!1,n.length),m=r.not(g),y=l(t,g),v=l(t,m),b=n,x=0,w=.001;r.any(g)&&(p={Jv:_=r.transpose(c(y,b)),F:k=o.qr(_)},h=s(e,b),b=u(b,r.neg(o.qrSolve(k,h,{regularize:!0})),g));for(var E=!1,S=a(e,b);x<f&&!E&&isFinite(S);){h=s(e,b);var k,_,I,M=c(v,b),L=r.transpose(M),T=void 0;I=p?(k=p.F,_=p.Jv,T=r.dot(M,r.sub(h,r.dot(_,o.qrSolve(k,h,{regularize:!0})))),r.dot(M,r.sub(L,r.dot(_,o.qrSolve(k,L,{regularize:!0}))))):(T=r.dot(M,h),r.dot(M,L));for(var C=b,A=!1;x<f&&!E&&!A;){x+=1;var O=r.add(I,r.diag(i(w,v.length)));C=u(b,r.neg(r.solve(O,T,!0)),m),E=r.all(r.eq(C,b)),O=void 0,p&&(O={Jv:_=r.transpose(c(y,C)),F:k=o.qr(_)},P=s(e,C),C=u(C,r.neg(o.qrSolve(k,P,{regularize:!0})),g));var P=a(e,C);(A=P<S)?(b=C,S=P,p=O,w*=.1):(w=Math.max(w,1e-64),w*=2)}}return{solution:b,MSE:S}}function p(e){for(var t=[],r=0;r<f.length;r++){for(var n=[],o=0;o<e;o++)n[o]=0===r&&1!==e?0:1===r&&1!==e?1:f[503*(r*e+o)%f.length];t.push(n)}return t}function h(e,t,r,n,o){for(var i=[],a=0,s=r;a<s.length;a++){var c=s[a];i.push({soln:d(e,t,c,o),initialGuess:c})}i.sort(function(e,t){return isNaN(e.soln.MSE)?1:isNaN(t.soln.MSE)?-1:e.soln.MSE-t.soln.MSE});for(var l=[],u=0;u<n;u++)l.push(i[u].initialGuess);return l}Object.defineProperty(t,"__esModule",{value:!0}),t.testOnlyExports=t.optimizeNonLinear=t.optimizeLinear=t.tryRoundingSmallParametersToZero=t.evaluateMeanSquare=void 0,t.evaluateMeanSquare=a,t.tryRoundingSmallParametersToZero=function(e,t){var r=t.solution.map(function(e){return Math.abs(e)<1e-6?0:e});e=a(e,r);return isFinite(t.MSE)&&!isFinite(t.MSE)||e<t.MSE||t.MSE!==t.MSE+Math.pow(.5,8)*(e-t.MSE)?t:{solution:r,MSE:e}},t.optimizeLinear=function(e,t){for(var n=c(t,h=i(0,t.length)),l=o.qr(r.transpose(n),{mutateInput:!0}),u=0;u<2;u++)var d=s(e,h),p=r.neg(o.qrSolve(l,d,{regularize:!1})),h=r.add(h,p);if(n=a(e,h),o.isNumericallyFullRank(l))return{solution:h,MSE:n};var f=i(0,t.length);for(u=0;u<2;u++)d=s(e,f),p=r.neg(o.qrSolve(l,d,{regularize:!0})),f=r.add(f,p);return.999*(t=a(e,f))<=n?{solution:f,MSE:t}:{solution:h,MSE:n}};var f=[18.9,.105,.0113,.089,4.414,.373,.06,.149,1.84,9.26,5,.7,.2,1.13,2.61,1,.007,30,120,1500,4e-4,7.23,-1,-.0081,-.03,-28.6,-1.71,-.4,-6.94,-.777,-500],g=[3,5,7,11,13,17,19];function m(e,t){for(var r,n,o,i=[],a=0;a<e.length;a++){for(var s=e[a],c=[],l=0;l<s.length;l++){var u=g[l%g.length]*a%e.length;c.push((r=s[l],n=t[l],o=u,u=e.length,!n||"known"!==n.type||(n=n.bounds)[0]===-1/0&&n[1]===1/0?r:n[0]===-1/0?n[1]-Math.exp(-r):n[1]===1/0?n[0]+Math.exp(r):o/(u-1)*n[1]+(u-1-o)/(u-1)*n[0]))}i.push(c)}return i}t.optimizeNonLinear=function(e,t,r){var o=(r=r||{}).linearSubset,i=r.bounds,a=r.preferredInitialGuess;r=p(t.length);return i&&(r=m(r,i)),r=d(e,t,h(e,t,r=h(e,t,r,5,{maxIterations:3,linearSubset:o}),1,{maxIterations:60,linearSubset:o})[0],{maxIterations:250,linearSubset:o}),a?(o=d(e,t,a,{maxIterations:100,linearSubset:o}),isFinite(o.MSE)&&(o.MSE<r.MSE||n.approx(o.MSE,r.MSE,8))?o:r):r},t.testOnlyExports={generateInitialGuesses:p,mapInitialGuesses:m}}),define("core/math/ir/features/reparameterize-regression",["require","exports","core/math/builtin","../opcodes","core/math/types","../instructions","./is-constant","./as-value","./polynomial-order","./get-polynomial-coefficients","./copy-instruction","core/math/maybe-rational","./list-length"],function(e,t,r,n,o,i,a,s,c,l,u,d,p){"use strict";function h(e){return{chunk:e,isLazy:!0}}function f(e){return e.slice()}function g(e){if(!e.isLazy)return e;var t=e.chunk.copy();return t.reopenFinalBlock(),{chunk:t,forwardParameterMap:f,reverseParameterMap:f,isLazy:!1,valueMap:function(e){for(var t=[],r=0;r<e;r++)t.push(r);return t}(e.chunk.instructionsLength()),replacementMask:_(e.chunk.argNames.length)}}function m(e){var t=e.chunk,r=e.forwardParameterMap,n=e.reverseParameterMap,o=e.isLazy,i=e.valueMap,a=e.replacementMask;e=e.didShiftScale;return{chunk:t.copy(),forwardParameterMap:r,reverseParameterMap:n,isLazy:o,valueMap:i.slice(),replacementMask:a.slice(),didShiftScale:e}}function y(e,t,r,n){if(void 0!==r){var o=e.getInstruction(n);if(i.isLeafInstruction(o))for(var a=0,s=r;a<s.length;a++)(d=s[a]).valueMap[n]=n;else for(var c=0,l=r;c<l.length;c++){for(var d,p=(d=l[c]).chunk,h=d.valueMap,f=[],g=0,m=0,y=o.args;m<y.length;m++){var v=y[m];if(h[v]!==v){if(1<(g+=1))return r.length=0}else for(var b=t[v],x=0;x<b.length;x++)if(b[x]&&d.replacementMask[x])return r.length=0;f.push(h[v])}h[n]=0<g?u.copyInstructionWithArgs(p,o,f):n}}}function v(e,t){for(var r,n=e.listAccessDependencyTable,o=e.listAccesses,i=e.listStatisticsTable,a=n[t],s=0;s<a.length;s++)if(a[s]){if(r)return;r={listAccessIndex:o[s],listStatistics:i[s]}}return r}function b(e,t){for(var r=0,n=e.listAccessDependencyTable[t];r<n.length;r++)if(n[r])return 1}function x(e,t){for(var r,o,i=[],a=0;a<=t;a++)e.getInstruction(a).type===n.LoadArg?((o=_(e.argNames.length))[a]=!0,i.push(o)):i.push(k(e,i,e.argNames.length,a));var s=i[t];for(a=0;a<s.length;a++)if(s[a]){if(void 0!==r)return;r=a}return r}function w(e,t,r,o,i){if(void 0!==(i=function(t,r){var i=S(e,t,o);if(void 0!==i){var a=i.chunk,s=i.valueMap;if((d=a.getInstruction(s[t])).type===n.Add){var c=d.args[1];if((u=a.getInstruction(d.args[0])).type===n.Multiply){var l=(d=u.args)[0],u=d[1],d=r.min,p=(r=r.max)-d,h=.5*(r+d);u=a.Divide([a.Subtract([u,a.Constant(h)]),a.Constant(p)]),u=a.Add([a.Multiply([l,u]),c]);return s[t]=u,{chunk:a,forwardParameterMap:function(e){var t=i.forwardParameterMap(e),r=t[l],n=t[c];e=r*p,r=n+h*r;return t[l]=e,t[c]=r,t},reverseParameterMap:function(e){var t=e.slice(),r=e[l];e=(e=e[c])-(r/=p)*h;return t[l]=r,t[c]=e,i.reverseParameterMap(t)},isLazy:!1,valueMap:s,replacementMask:i.replacementMask,didShiftScale:!0}}}}}(r,i)))return i.valueMap[t]=i.chunk.SyntheticNativeFunction("exp",[i.valueMap[r]]),i}function E(e,t,r){var i=e.chunk,a=c.polynomialOrderContext(i,r,{allowRestriction:!1,allowClosedBlockReferences:!1});if(1===c.instructionOrder(a,t)){var s=l.polynomialCoefficientContext(a);a=(i=l.instructionCoefficients(s,t))[0];if(void 0!==(i=i[1])&&(a=s.newChunk.getInstruction(a)).type===n.Constant&&a.valueType===o.Number&&(s=s.newChunk.getInstruction(i)).type===n.Constant&&s.valueType===o.Number){var u=g(e),p=(i=u.chunk,e=u.valueMap,d.asFloat(a.value)),h=d.asFloat(s.value);return e[t]=r,{chunk:i,forwardParameterMap:function(e){var t=u.forwardParameterMap(e);e=t[r],e=p+h*e;return t[r]=e,t},reverseParameterMap:function(e){var t=e.slice();e=(t[r]-p)/h;return t[r]=e,u.reverseParameterMap(t)},isLazy:!((t=u.replacementMask.slice())[r]=!0),valueMap:e,replacementMask:t}}}}function S(e,t,r){var i=e.chunk,a=e.isLazy?t:e.valueMap[t],s=c.polynomialOrderContext(i,r,{allowRestriction:!1,allowClosedBlockReferences:!0});if(1===c.instructionOrder(s,a)){e.isLazy&&(s=c.polynomialOrderContext(i.copy().reopenFinalBlock(),r,{allowRestriction:!1,allowClosedBlockReferences:!1}));var u=l.polynomialCoefficientContext(s),p=(L=l.instructionCoefficients(u,a))[0],h=L[1];if(void 0!==h){for(var f,m,y,v=u.newChunk,b=Math.max(h,p),x=[],w=0;w<=b;w++)v.getInstruction(w).type===n.LoadArg?((y=_(v.argNames.length))[w]=!0,x.push(y)):x.push(k(v,x,v.argNames.length,w));for(w=0;w<i.argNames.length;w++)if(x[h][w]){if(void 0!==f)return;f=w}else if(x[p][w]){if(void 0!==m)return;m=w}if(void 0!==f&&void 0!==m&&(s=c.polynomialOrderContext(v,f,{allowRestriction:!1,allowClosedBlockReferences:!1}),1===c.instructionOrder(s,h)&&(a=c.polynomialOrderContext(v,m,{allowRestriction:!1,allowClosedBlockReferences:!1}),1===c.instructionOrder(a,p)&&(L=l.polynomialCoefficientContext(s),u=l.polynomialCoefficientContext(a),a=(s=l.instructionCoefficients(L,h))[0],s=s[1],(a=L.newChunk.getInstruction(a)).type===n.Constant&&a.valueType===o.Number&&(L=L.newChunk.getInstruction(s)).type===n.Constant&&L.valueType===o.Number)))){var E=g(e);s=E.chunk,e=E.valueMap,r=s.Add([s.Multiply([f,r]),m]);e[t]=r,(r=v.copy()).List([h,p]);var S=r.close().getCompiledFunction().fn,I=d.asFloat(a.value),M=d.asFloat(L.value),L=(a=l.instructionCoefficients(u,p))[0];a=a[1];(u=u.newChunk.copy()).List([L,a]);var T=u.close().getCompiledFunction().fn;return(u=E.replacementMask.slice())[f]=!0,{chunk:s,forwardParameterMap:function(e){var t=E.forwardParameterMap(e),r=(e=(r=S.apply(null,t))[0],r[1]);return t[f]=e,t[m]=r,t},reverseParameterMap:function(e){var t=e.slice(),r=e[f],n=e[m];r=(r-I)/M;return(e=e.slice())[f]=r,e.splice(m,1),e=(n-(e=T.apply(null,e))[0])/e[1],t[f]=r,t[m]=e,E.reverseParameterMap(t)},isLazy:!(u[m]=!0),valueMap:e,replacementMask:u}}}}}function k(e,t,r,n){n=e.getInstruction(n);var o=_(r);if(i.isLeafInstruction(n))return o;for(var a=0,s=n.args;a<s.length;a++)for(var c=t[s[a]],l=0;l<c.length;l++)o[l]=o[l]||c[l];return o}function _(e){for(var t=[],r=0;r<e;r++)t.push(!1);return t}function I(e){return e.type===n.NativeFunction&&("sin"===e.symbol||"cos"===e.symbol)}Object.defineProperty(t,"__esModule",{value:!0}),t.reparameterizeRegression=void 0,t.reparameterizeRegression=function(e){if((c=e.getInstruction(e.returnIndex)).type===n.BroadcastResult){var t=c.args[0],c=e.returnIndex-t;if(2===(t=e.getInstruction(t)).args.length){var l=t.args[0],u=t.args[c],f=[],M=[];f.push(l),M.push({min:1,max:p.assertConstantListLength(e,e.returnIndex,"Programming error: cannot optimize regression on non-constant-length list"),length:p.assertConstantListLength(e,e.returnIndex,"Programming error: cannot optimize regression on non-constant-length list")});for(var L,T=!1,C=!1,A=l+1;A<=u;A++)if((F=e.getInstruction(A)).type===n.ListAccess||F.type===n.InboundsListAccess||F.type===n.DeferredListAccess)F.args[1]===l&&(L=F.args[0],e.getInstruction(L).valueType===o.ListOfNumber&&a.isConstant(e.getInstruction(L))&&(L=function(e){for(var t=1/0,r=-1/0,n=e.length,o=0,i=e;o<i.length;o++){var a=i[o];t=Math.min(t,a),r=Math.max(r,a)}return{min:t,max:r,length:n}}(s.asValue(e,L)),isFinite(L.min)&&isFinite(L.max)&&(f.push(A),M.push(L))));else if(F.type===n.NativeFunction)"exp"===F.symbol?C=!0:I(F)&&(T=!0);else if(F.type===n.Exponent||F.type===n.RawExponent)C=!0;else if(i.beginsBlock(F)||i.endsBlock(F))return;if(0!==f.length&&(C||T)){var O=[];for(A=0;A<=u;A++)-1!==(Q=f.indexOf(A))?((P=_(f.length))[Q]=!0,O.push(P)):O.push(k(e,O,f.length,A));var P,D=[];for(A=0;A<=e.returnIndex;A++)(F=e.getInstruction(A)).type===n.LoadArg?((P=_(e.argNames.length))[A]=!0,D.push(P)):D.push(k(e,D,e.argNames.length,A));var F,N={listAccessDependencyTable:O,listAccesses:f,listStatisticsTable:M},q=void 0;for(A=l+1;A<=e.returnIndex;A++)switch((F=e.getInstruction(A)).type){case n.NativeFunction:if("exp"===F.symbol){var R=F.args[0],B=v(N,R);if(void 0===B){y(e,D,q,A);break}var j=B.listStatistics,V=B.listAccessIndex;(te=w(h(e),A,R,V,j))?q=[te]:y(e,D,q,A)}break;case n.Exponent:case n.RawExponent:if(j=(V=F.args)[0],void 0===(V=v(N,V[1]))||b(N,j)){y(e,D,q,A);break}j=V.listStatistics,V=V.listAccessIndex,(te=function(e,t,r,i){var a=e.chunk,s=(p=a.getInstruction(t).args)[0],c=p[1];if((h=a.getInstruction(s)).type===n.Constant&&h.valueType===o.Number&&0<d.asFloat(h.value)){var l=g(e),u=l.chunk,p=l.valueMap,h=u.Multiply([u.SyntheticNativeFunction("ln",[p[s]]),p[c]]);return p[c]=h,p[t]=u.SyntheticNativeFunction("exp",[h]),w(l,t,c,r,i)||l}var f=x(a,s);if(void 0!==f){var m=E(e,s,f);if(void 0!==m)return a=m.chunk,e=m.valueMap,s=a.Multiply([e[s],e[c]]),e[c]=s,e[t]=a.SyntheticNativeFunction("exp",[s]),w(s={chunk:a,forwardParameterMap:function(e){var t=m.forwardParameterMap(e);e=t[f],e=Math.log(e);return t[f]=e,t},reverseParameterMap:function(e){var t=e.slice();e=t[f],e=Math.exp(e);return t[f]=e,m.reverseParameterMap(t)},isLazy:!((s=m.replacementMask.slice())[f]=!0),valueMap:e,replacementMask:s},t,c,r,i)||s}}(h(e),A,V,j))?q=[te]:y(e,D,q,A);break;case n.Multiply:if(q&&1<q.length){y(e,D,q,A);break}var U=q&&0<q.length?q[0]:h(e),G=(Y=F.args)[0],z=Y[1],H=U.isLazy?G:U.valueMap[G],W=U.isLazy?z:U.valueMap[z],K=U.chunk.getInstruction(H),$=U.chunk.getInstruction(W),Y=void 0;H=void 0,W=void 0;if(K.type===n.NativeFunction)Y=G,W=K,H=z;else{if($.type!==n.NativeFunction){y(e,D,q,A);break}Y=z,W=$,H=G}var X=v(N,Y);if(void 0===X||b(N,H)){y(e,D,q,A);break}var Q=X.listAccessIndex;K=X.listStatistics;if("exp"===W.symbol){if(K=function(e,t,r,n,o,i){if(e.isLazy||!e.didShiftScale){var a=e.isLazy?e:m(e),s=x(e.chunk,r);if(void 0!==s){var c=E(e,r,s);if(void 0!==c){var l=c.chunk,u=c.valueMap;e=l.getInstruction(u[n]).args[0],e=l.Add([e,u[r]]);return u[r]=e,u[t]=l.SyntheticNativeFunction("exp",[e]),(e=c.replacementMask.slice())[s]=!0,(a=g(a)).valueMap[t]=a.chunk.Multiply([a.valueMap[r],a.valueMap[n]]),u={chunk:l,forwardParameterMap:function(e){var t=c.forwardParameterMap(e);e=t[s],e=Math.log(e);return t[s]=e,t},reverseParameterMap:function(e){var t=e.slice();e=t[s],e=Math.exp(e);return t[s]=e,c.reverseParameterMap(t)},isLazy:!1,valueMap:u,replacementMask:e},(e=m(u)).forwardParameterMap=function(e){var t=c.forwardParameterMap(e);e=t[s],e=Math.log(-e);return t[s]=e,t},e.reverseParameterMap=function(e){var t=e.slice();e=t[s],e=-Math.exp(e);return t[s]=e,c.reverseParameterMap(t)},u=w(u,t,r,o,i)||u,(e=w(e,t,r,o,i)||e).valueMap[t]=e.chunk.Negative([e.valueMap[t]]),[a,u,e]}}}}(U,A,H,Y,Q,K)){q=K;break}}else if(I(W)&&(te=function(e,t,o,i,a){var s=x(h=e.chunk,o);if(void 0!==s){var c=E(e,o,s);if(void 0!==c){var l=h.getInstruction(i),u=l.args[0];if(void 0!==(c=S(c,u,a))){var d=c.chunk;e=c.valueMap;if((o=d.getInstruction(e[u])).type===n.Add){var p=o.args[1],h=d.getInstruction(o.args[0]);if(h.type===n.Multiply)return a=(i=h.args)[0],u=i[1],o=s,h=p,i=d.Multiply([a,u]),u=d.SyntheticNativeFunction("cos",[i]),i=d.SyntheticNativeFunction("sin",[i]),i="sin"===l.symbol?d.Add([d.Multiply([o,i]),d.Multiply([h,u])]):d.Subtract([d.Multiply([o,u]),d.Multiply([h,i])]),e[t]=i,(i=c.replacementMask.slice())[s]=!0,i[a]=!0,i[p]=!0,{chunk:d,forwardParameterMap:function(e){var t=c.forwardParameterMap(e),r=t[s],n=t[p];e=r*Math.cos(n),n=r*Math.sin(n);return t[s]=e,t[p]=n,t},reverseParameterMap:function(e){var t=e.slice(),n=e[s],o=e[p];e=r.hypot(n,o),n=Math.atan2(o,n);return t[s]=e,t[p]=n,c.reverseParameterMap(t)},valueMap:e,replacementMask:i,isLazy:!1}}}}}}(U,A,H,Y,Q))){q=[te];break}y(e,D,q,A);break;default:y(e,D,q,A)}if(void 0!==q&&0!==q.length){for(var J=[],Z=0,ee=q;Z<ee.length;Z++){var te=ee[Z];J.push({chunk:te.chunk.close(),forwardParameterMap:te.forwardParameterMap,reverseParameterMap:te.reverseParameterMap})}return J}}}}}}),define("core/math/parsenode-from-value",["require","exports","parsenodes","core/math/types"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNodeFromValue=void 0,t.parseNodeFromValue=function e(t,o){switch(t){case n.Number:case n.Bool:return r.Constant(o);case n.SeedType:return r.Seed(o);case n.Point:return r.ParenSeq([e(n.Number,o[0]),e(n.Number,o[1])]);case n.RGBColor:return r.FunctionCall("rgb",[e(n.Number,o[0]),e(n.Number,o[1]),e(n.Number,o[2])]);case n.EmptyList:case n.ListOfNumber:case n.ListOfBool:case n.ListOfPoint:case n.ListOfColor:case n.ListOfPolygon:case n.ErrorType:for(var i=[],a=n.elementType(t),s=0,c=o;s<c.length;s++){var l=c[s];i.push(e(a,l))}return r.List(i);case n.Polygon:return r.FunctionCall("\\polygon",[e(n.ListOfPoint,o)]);case n.Any:case n.Distribution:case n.ListOfAny:case n.ListOfDistribution:case n.Action:throw new Error("Programming error: cannot create parse node from valueType: "+n.repr(t));default:throw new Error("Programming error: unexpected valueType: "+n.repr(t))}}}),define("core/math/ir/features/optimize-regression",["require","exports","parsenodes","core/math/builtin","core/math/parsenode/irexpression","tslib","core/math/errormsg","core/math/distance","core/lib/label","core/math/types","core/math/least-squares","./reparameterize-regression","core/math/ir/build-ir","../../parsenode-from-value"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h){"use strict";function f(e,t,r){for(var n,o,i=e.policy,a=e.frame,s=0,c=t._rhs.getDependencies();s<c.length;s++){var u=c[s];if(!r.hasOwnProperty(u)){var d=a[u];if(d&&("Assignment"===d.type&&(d=d._expression),d.buildIRExpression)&&!(d=d.buildIRExpression(i,a)).isError&&d.valueType===l.ListOfNumber){if(void 0!==n){o=n=void 0;break}0===d.getDependencies().length&&(n=u,o=d)}}}var p=Object.create(a);void 0!==n&&(p[n]=void 0);e=t._rhs.buildIRExpression(i,p);var h,f=Object.create(p);for(h in r)f[h]=r[h];return t=t._rhs.buildIRExpression(i,f),o?{node:e,substituted:t,listNode:o,isValid:!0}:{node:e,substituted:t,listNode:o,isValid:!1}}function g(e,t){var r=t.getDependencies(),n=t.getCompiledFunction(r).fn;if(r.length){for(var o=t.findLinearSubset(r),a=o.every(function(e){return e}),s=[],c=0,l=r;c<l.length;c++){var d=l[c];s.push(t.takeDerivative(d).getCompiledFunction(r).fn)}if(a)return i.__assign(i.__assign({},u.tryRoundingSmallParametersToZero(n,u.optimizeLinear(n,s))),{isLinear:a});for(var p=[],h=0,f=r;h<f.length;h++)d=f[h],p.push(t.boundDomain(d));return e={linearSubset:o,bounds:p,preferredInitialGuess:e},i.__assign(i.__assign({},u.tryRoundingSmallParametersToZero(n,u.optimizeNonLinear(n,s,e))),{isLinear:a})}return{solution:[],MSE:u.evaluateMeanSquare(n,[]),isLinear:!0}}function m(e,t){for(var n={},o=t.getDependencies(),i=0;i<o.length;i++)n[o[i]]=r.Constant(e[i]);return n}function y(e,t,o,i,c,d){if(i.getDependencies().length)throw a.optimizationError();var p;p=0,(h=i).eachElement(function(e){e=+e.asValue(),p+=e*e}),i=p/h.length;if(!isFinite(i))throw a.optimizationError();if(0<t.getDependencies().length)return{RMSE:Math.sqrt(i)};var h=l.isList(t.valueType)?n.varp(t.asValue()):0;if(t.getDependencies().length||!isFinite(h)||h<=0||!e.isLhsSimple)return{RMSE:Math.sqrt(i)};var f,g;h=1-i/h;if(o.isValid){var m=[],y=[],v=c&&(d===b.LINLOG||d===b.LOGLOG);if(r.List.eachArgs([o.listNode,t],function(e){m.push(v?Math.log(+e[0].asValue()):+e[0].asValue()),y.push(+e[1].asValue())}),o=n.corr(m,y),s.approx((f=m,g=y,t=[function(){return f.map(function(e){return-e})},function(){return f.map(function(){return-1})}],u.optimizeLinear(function(e,t){for(var r=[],n=0;n<f.length;n++)r.push(g[n]-(e*f[n]+t));return r},t)).MSE,i,8))return{r:o,rsquared:o*o}}return{Rsquared:h}}function v(e,t){var r=e.length,n=e[0],o=t[0],i=e[r-1],a=t[r-1];if(isFinite(n)&&isFinite(i)&&isFinite(o)&&isFinite(a)&&a-o!=0){var c=i-n;if(0!=c){for(var l=1;l<r-1;l++){var u=e[l],d=t[l];u=(a*(u-n)+o*(i-u))/c;if(!s.approx(d,u,5))return}return 1}}}Object.defineProperty(t,"__esModule",{value:!0}),t.tryOptimize=void 0,t.tryOptimize=function(e,t){try{return function(t){var n=e.policy,o=e.frame,i=e.exportFrame,s=e.lastExportFrame,u=e.priorAnalysis,d=t._lhs.buildIRExpression(n,o),p=t._rhs.buildIRExpression(n,o);if(d.isError)throw d;if(p.isError)throw p;if(d.valueType!==l.Number&&d.valueType!==l.ListOfNumber||p.valueType!==l.Number&&p.valueType!==l.ListOfNumber)throw a.regressionTypeError([l.prettyPrint(d.valueType),l.prettyPrint(p.valueType)]);if((M=t._difference.buildIRExpression(n,o,{wrapInList:!0})).isError)throw M;for(var h=0,g=M.getDependencies();h<g.length;h++){var m=g[h];if(!n.validRegressionParameter(m))throw a.invalidRegressionParameter(m)}var E,S=function(e,t,r){var n=[];t=t||{},r=r||{};for(var o=0,i=e;o<i.length;o++){var a=i[o],s=c.identifierToLatex(a);r[a]&&isFinite(r[a].asValue())?n.push(+r[a].asValue()):t.hasOwnProperty(s)&&isFinite(+t[s])?n.push(+t[s]):n.push(1)}return n}(M.getDependencies(),t.userData.regressionParameters,s),k=(L=w(S,M)).parameters,_=L.isLinear,I=L.parameterWarning,M=(s=f(p={policy:n,frame:o},t,k),x(p,t._difference,k)),L=function(e,n){if(!t.isLhsSimple)return b.NONE;if(!n.isValid)return b.NONE;if((a=n.substituted).isError)return b.NONE;if(a.valueType!==l.Number)return b.NONE;if(1!==(i=a.getDependencies()).length)return b.NONE;if(isFinite(n.node.polynomialOrder(i[0])))return b.NONE;var o=a.getCompiledFunction(i).fn,i=n.listNode;if(a.valueType!==l.Number)return b.NONE;if((n=i.mapElements(function(e){return+e.asValue()})).length<3)return b.NONE;n.sort(function(e,t){return e-t});i=(a=n.map(o)).map(Math.log),o=n.map(Math.log);var a,s=!0;return r.List.wrap(e).eachElement(function(e){isFinite(Math.log(+e.asValue()))||(s=!1)}),v(n,i)&&s?b.LOGLIN:v(o,i)&&s?b.LOGLOG:v(o,a)?b.LINLOG:b.NONE}(d,s);if(!t.userData.isLogModeRegression||L!==b.LOGLIN&&L!==b.LOGLOG)E=y(t,d,s,M,t.userData.isLogModeRegression,L);else{if((d=t._logDifference.buildIRExpression(n,o,{wrapInList:!0})).isError)throw d;if((o=t._logLhs.buildIRExpression(n,o,{wrapInList:!0})).isError)throw o;k=(d=w(S,d)).parameters,_=d.isLinear,I=d.parameterWarning,s=f(p,t,k),M=x(p,t._difference,k),E=y(t,o,s,x(p,t._logDifference,k),t.userData.isLogModeRegression,L)}return i=function(e,t){if(e.userData&&e.userData.residualVariable){var r=c.latexToIdentifier(e.userData.residualVariable);if(!t[r])return r}for(var n,o=0,i=e.getDependencies();o<i.length;o++){var a=i[o].match(/_(.*)/);if(a&&!t[n="e_"+a[1]])return n}for(var s=1;;){if(!t[n="e_"+s])return n;s++}}(t,i),u=function(e,r){var n,o,i=t._rhs.getDependencies();for(o in r)if(r.hasOwnProperty(o)){var a=r[o].concreteTree;if(a.isTable&&a.columns[0]){var s=r[o].rawTree.columns;if(s&&s.length&&1===(a=s[0].getExports()).length&&-1!==i.indexOf(a[0])){for(var c=1;c<s.length;c++)if(-1!==s[c].getDependencies().indexOf(e))return;n=n||o}}}return n||void 0}(i,u),t.userData.residualVariable=c.identifierToLatex(i),r.OptimizedRegression(k,M,E,s.substituted,{isModelValid:s.isValid,residualVariable:i,residualSuggestionId:u,shouldSuggestLogMode:L!==b.NONE,isLinear:_,parameterWarning:I})}(t)}catch(e){return e instanceof r.Error?e:a.parseError()}};var b={NONE:0,LOGLIN:1,LOGLOG:2,LINLOG:3};function x(e,t,r){var n,o=e.policy,i=(e=e.frame,Object.create(e));for(n in r)r.hasOwnProperty(n)&&(i[n]=r[n]);return t=p.buildIR({policy:o,frame:i,wrapInList:!0},t),h.parseNodeFromValue(t.getReturnType(),t.asCompilerValue())}function w(e,t){var r,n;if((i=t._chunk)&&(n=d.reparameterizeRegression(i)),!n||0===n.length)return{parameters:m((r=g(e,t=t.deriveRegressionRestrictions())).solution,t),isLinear:r.isLinear,parameterWarning:!1};for(var i=t.getDependencies(),a=t.getCompiledFunction(i).fn,s=1/0,c={},l=!1,p=0,h=n;p<h.length;p++){var f=h[p],y=(y=new o(f.chunk)).deriveRegressionRestrictions();(r=g(f.forwardParameterMap(e),y)).MSE<s&&(y=f.reverseParameterMap(r.solution),f=u.evaluateMeanSquare(a,y),c&&(!isFinite(f)||s<=f)?isFinite(f)||(l=!0):(s=r.MSE,c=m(y,t)))}return{parameters:c,isLinear:!1,parameterWarning:l}}}),define("core/math/features/analyze",["require","underscore","parsenodes","core/math/statementanalysis","core/math/builtin","core/math/builtinframe","core/math/errormsg","core/math/comparators","core/math/types","core/types/graphmode","core/math/expression-types","core/math/distribution-spec","core/math/workerconfig","core/math/ir/features/solve","core/math/ir/features/optimize-regression","core/math/ir/dependencies"],function(e){"use strict";var t=e("underscore"),r=e("parsenodes"),n=e("core/math/statementanalysis"),o=e("core/math/builtin"),i=e("core/math/builtinframe"),a=e("core/math/errormsg"),s=e("core/math/comparators"),c=e("core/math/types"),l=e("core/types/graphmode"),u=e("core/math/expression-types").ExpressionType,d=e("core/math/distribution-spec").DistributionParameterDefaultsMap,p=e("core/math/workerconfig"),h=e("core/math/ir/features/solve").trySolve,f=e("core/math/ir/features/optimize-regression").tryOptimize,g=e("core/math/ir/dependencies").getFreeDependencies;function m(e,t,r,o){if(o.isError)return n(e,r,o);var i=o.getDependencies();switch(o.valueType){case c.Distribution:case c.ListOfDistribution:case c.EmptyList:return n(e,r,o);case c.RGBColor:case c.ListOfColor:case c.Action:case c.Polygon:case c.ListOfPolygon:return i.length?n(e,r,a.tooManyVariables(r.getSliderVariables(e,o)).setDependencies(i)):n(e,r,o);case c.Point:case c.ListOfPoint:if(i.length){if(e.validParametricVariables(i))return n(e,r,o);var s=r.getSliderVariables(e,o);return n(e,r,a.tooManyVariables(s).setDependencies(s))}return n(e,r,o);case c.Number:case c.ListOfNumber:return 0===i.length?n(e,r,o):i.length<=e.dimensions()-1?e.validExpressionVariables(i)?n(e,r,o):n(e,r,a.equationRequired(e.implicitDependency(i)).setDependencies(i)):e.validImplicitVariables(i)?n(e,r,a.equationRequired().setDependencies(i)):n(e,r,a.tooManyVariables(r.getSliderVariables(e,o)).setDependencies(i));default:return n(e,r,a.parseError())}}function y(e){return r.FunctionCall("pdf",[e,r.Identifier("x")])}function v(e,t){var r=this.tryGetConcreteTree(e,t),o=r.getDependencies();return o.length?n(e,this,a.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(o)):n(e,this,this.tryGetConcreteTree(e,t))}function b(e){return function(t,r){var o=this.tryGetConcreteTree(t,r),i=o.getDependencies();return i.length?n(t,this,a.tooManyVariables(this.getSliderVariables(t,o)).setDependencies(i)):(r=n(t,this,this.tryGetConcreteTree(t,r)),o.isError||(r.evaluationState.expression_type=u.TTEST,o=o.args.map(function(e){return e.asValue()}),r.evaluationState.ttest_results=e.apply(null,o)),r)}}r.Base.prototype.analyze=function(e,t){return n(e,this,this.tryGetConcreteTree(e,t))},r.FunctionCall.prototype.analyze=function(e,t){return m(e,0,this,(d[this._symbol]&&0===g(t,this).length?y(this):this).tryGetConcreteTree(e,t))},r.Expression.prototype.analyze=function(e,t){return m(e,0,this,this.tryGetConcreteTree(e,t))},r.FunctionDefinition.prototype.analyze=function(e,t){if(i[this._symbol])return this.asEquation().analyze(e,t);var r=this._symbol.split("_")[0];if(i[r]&&i[r].isFunction)return n(e,this,a.cannotRedefine(this._symbol,r));var o=this.tryGetConcreteTree(e,t);if(o.isError)return n(e,this,o);var s=this._argSymbols;return-1!==(r=o.getDependencies()).indexOf(this._symbol)?n(e,this,a.selfReferentialFunction(this._symbol)):(t=r.filter(function(e){return-1===s.indexOf(e)}),e.unplottablePolarFunction(this._symbol,r)?n(e,this,a.unplottablePolarFunction()):t.some(e.assignmentForbidden)?n(e,this,a.addArgumentsToDefinition(t,this._symbol,s).setDependencies(r)):t.length?(t=this.getSliderVariables(e,o),n(e,this,a.tooManyVariables(t).setDependencies(t))):n(e,this,o))},r.Assignment.prototype.analyze=function(e,t,o){var s,l=this._symbol;if(!e.validLHS(l))return n(e,this,a.invalidLHS(l));if(i[l])return this.asEquation().analyze(e,t);if((s=this._expression instanceof r.FunctionCall&&d[this._expression._symbol]&&0===g(t,this).length?y(this._expression).tryGetConcreteTree(e,t):((u=Object.create(t))[l]=e.validSolvedVariable(l)?void 0:a.invalidImplicitVariables(),this.tryGetConcreteTree(e,u))).isError)return n(e,this,s);if(l=s.getDependencies(),this.isEquation(s))return this.asEquation().analyze(e,t);var u=s.valueType===c.RGBColor||s.valueType===c.ListOfColor;return 1<l.length||u&&l.length?(l=this.getSliderVariables(e,s),u||l.length?n(e,this,a.tooManyVariables(l).allowExport().setDependencies(l)):n(e,this,s)):(t=this.getMoveStrategy(e,t,s,o,this.userData))?(o=this.getDefaultDragMode(t),n(e,this,r.MovablePoint([s.elementAt(0),s.elementAt(1)],t,o))):n(e,this,s)},r.Regression.prototype.analyze=function(e,t,r,o,i){return n(e,this,f({policy:e,frame:t,exportFrame:r,lastExportFrame:o,priorAnalysis:i},this))},r.Histogram.prototype.analyze=v,r.Object3D.prototype.analyze=v,r.DotPlot.prototype.analyze=v,r.BoxPlot.prototype.analyze=v,r.TTest.prototype.analyze=b(o.ttest),r.IndependentTTest.prototype.analyze=b(o.ittest),r.Stats.prototype.analyze=function(e,t){var r=this.tryGetConcreteTree(e,t),i=r.getDependencies();return i.length?n(e,this,a.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(i)):(t=n(e,this,this.tryGetConcreteTree(e,t)),r.isError||(t.evaluationState.expression_type=u.STATS,r=r.args.map(function(e){return e.asValue()}),t.evaluationState.stats_results=o.stats.apply(null,r)),t)},r.Equation.prototype.analyze=r.BaseComparator.prototype.analyze=function(e,t){var o="="!==this.getOperator();return!p.plotInequalities&&o?n(e,this,a.inequalitiesDisabled()):(o=h({policy:e,frame:t},this.asComparator())).isError?n(e,this,o):o instanceof r.SolvedEquation&&o.getDependencies().length&&(t=o.getDependencies().concat(o._symbol),!e.validImplicitVariables(t))?n(e,this,a.invalidImplicitVariables().setDependencies(t)):this.getGraphMode(e,o)!==l.IMPLICIT||e.validImplicitVariables(o.getDependencies())?n(e,this,o):n(e,this,a.invalidImplicitVariables().setDependencies(o.getDependencies()))},r.DoubleInequality.prototype.analyze=function(e,t){if(!p.plotInequalities)return n(e,this,a.inequalitiesDisabled());var r=this.tryGetConcreteTree(e,t);return r.isError?n(e,this,r):(t=r.getDependencies(),s.table[this._operators[0]].direction!==s.table[this._operators[1]].direction?n(e,this,a.mismatchedDoubleInequality()):e.validDoubleInequalitySymbol(r._symbol)&&e.validDoubleInequalityVariables(t)?2<t.length?n(e,this,a.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(t)):-1!==r._expressions[0].getDependencies().indexOf(r._symbol)||-1!==r._expressions[1].getDependencies().indexOf(r._symbol)?n(e,this,a.complicatedDoubleInequality().setDependencies(t)):n(e,this,r):n(e,this,a.invalidDoubleInequalityVariables().setDependencies(t)))},r.And.prototype.analyze=function(e,t){var r=this.tryGetConcreteTree(e,t);return r.isError?n(e,this,r):(t=r.getDependencies()).length?e.validDoubleInequalityVariables(t)?n(e,this,a.complicatedDoubleInequality().setDependencies(t)):n(e,this,a.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(t)):n(e,this,r)},r.ParenSeq.prototype.analyze=function(e,t,o){var i=this.tryGetConcreteTree(e,t);if(i.isError)return n(e,this,i);var a=this.getMoveStrategy(e,t,i,o,this.userData);return a?(t=this.getDefaultDragMode(a),o=i.asCompilerValue(),o=[r.Constant(o[0]),r.Constant(o[1])],n(e,this,r.MovablePoint(o,a,t))):m(e,0,this,i)},r.Table.prototype.analyze=function(e,t){for(var o=Object.create(t),i=Object.create(o),s=[],c=function(e){for(var t={},n=0;n<e.length;n++){var o=e[n];o.header instanceof r.Identifier&&(void 0===t[o=o.header._symbol]&&(t[o]=0),t[o]+=1)}return t}(this.columns),l=0;l<this.columns.length;l++){var u,d,p=this.columns[l];p.header instanceof r.Identifier&&(u=o[f=p.header._symbol],d=1<c[f],u&&u.isError&&(u.isTableCycleWithoutGlobalDefinition||u.isMultiplyDefinedByTables&&!d)&&(o[f]=void 0));var h,f=p.analyze(e,o,i);0===l&&(f.concreteTree.isIndependent?(h=f.concreteTree.getDependencies()[0],e.validFirstColumnVariable(h)?i[h]=void 0:f=n(e,p,a.invalidFirstTableColumn())):f=n(e,p,a.invalidDependentFirstTableColumn())),f.concreteTree.isIndependent?f.rawTree.exportToLocal(f.concreteTree,o):f.concreteTree.isError||(h=function(e,t){return e.filter(function(e){return!t[e]})}(f.concreteTree.header.getDependencies(),o)).length&&(f=n(e,p,a.tooManyVariables(h).setDependencies(h))),s.push(f.concreteTree)}return t=r.Table(s),(t=n(e,this,t)).evaluationState.is_graphable=!0,t},r.TableColumn.prototype.analyze=function(e,t,r){var o=this.header.tableError();if(o)return n(e,this,a.invalidTableHeader(o));var i=this.tryGetConcreteTree(e,t,r);if(i.isError)return n(e,this,i);if(i.header.isError)return n(e,this,i.header);if(i.values.isError)return n(e,this,i.values);for(var s,c=0;c<i.values.length;c++)i.values[c].isError||((s=this.values[c]&&this.values[c].tableError())?i.values[c]=a.invalidTableEntry(s):(s=i.values[c].getDependencies()).length&&(i.values[c]=a.tooManyVariables(s).setDependencies(s)));return n(e,this,i)},r.Image.prototype.analyze=function(e,t,o){var i=this.tryGetConcreteTree(e,t);if(i.radianAngle.isError||i.center.isError||i.width.isError||i.height.isError||i.opacity.isError)return n(e,this,i);var s=i.center.getDependencies(),c=i.radianAngle.getDependencies(),l=i.width.getDependencies(),u=i.height.getDependencies(),d=i.opacity.getDependencies();return s.length||c.length||l.length||u.length||d.length?n(e,this,r.Image({center:s.length?a.tooManyVariables(c).setDependencies(s):i.center,radianAngle:c.length?a.tooManyVariables(c).setDependencies(c):i.radianAngle,width:l.length?a.tooManyVariables(l).setDependencies(l):i.width,height:u.length?a.tooManyVariables(u).setDependencies(u):i.height,opacity:d.length?a.tooManyVariables(d).setDependencies(d):i.opacity})):(i.moveStrategy=this.getMoveStrategy(e,t,i,o,this.userData),n(e,this,i))},r.Slider.prototype.analyze=function(e,r){var o,i=this.tryGetConcreteTree(e,r);e=(o=(r=i.sliderInfo).missingVars.length?(o=t.unique(r.missingVars),n(e,this,a.tooManyVariables(e.sliderVariables(o)).setDependencies(o).allowExport())):n(e,this,i)).evaluationState;return p.sliders&&(e.assignment=r.exportedSymbol,e.slider_min_number=r.values.min,e.slider_max_number=r.values.max,e.slider_step_number=r.values.step,e.slider_min_valid=r.valids.min,e.slider_max_valid=r.valids.max,e.slider_step_valid=r.valids.step,i=e.slider_min_valid&&e.slider_max_valid&&e.slider_step_valid,e.is_slider=!0,e.raw_slider_latex=this.getInputString(),e.is_slidable=i,e.is_animatable=e.is_slidable&&!e.is_graphable,r.errMsg&&(e.error=r.errMsg.getError())),delete e.is_evaluable,delete e.zero_values,o}}),define("core/math/features/analyzeFourFunction",["require","parsenodes","core/math/statementanalysis","core/math/errormsg","core/math/builtinframe"],function(e){"use strict";var t=e("parsenodes"),r=e("core/math/statementanalysis"),n=e("core/math/errormsg"),o=e("core/math/builtinframe");function i(e,t){return r(e,this,n.inequalitiesUnsupported())}t.Base.prototype.analyzeFourFunction=function(e,t){return(t=this.tryGetConcreteTree(e,t)).isError?r(e,this,t):r(e,this,n.parseError())},t.Expression.prototype.analyzeFourFunction=function(e,t){var i=this.tryGetConcreteTree(e,t);if(i.isError)return r(e,this,i);if(0<(a=i.getDependencies()).length){var a;t=a[0],t=(a=o[t])?a.isFunction?n.functionUnsupported(t):n.constantUnsupported(t):n.variablesUnsupported(t);return r(e,this,t)}return r(e,this,i)},t.Assignment.prototype.analyzeFourFunction=function(e,t){return r(e,this,n.assignmentsUnsupported())},t.FunctionDefinition.prototype.analyzeFourFunction=function(e,t){return r(e,this,n.functionDefinitionsUnsupported())},t.Equation.prototype.analyzeFourFunction=function(e,t){return r(e,this,n.equationsUnsupported())},t.And.prototype.analyzeFourFunction=i,t.DoubleInequality.prototype.analyzeFourFunction=i,t.BaseComparator.prototype.analyzeFourFunction=i,t.Regression.prototype.analyzeFourFunction=function(e,t){return r(e,this,n.regressionsUnsupported())},t.ParenSeq.prototype.analyzeFourFunction=function(e,t){return r(e,this,n.pointsUnsupported())}}),define("core/math/features/analyzeScientific",["require","parsenodes","core/math/statementanalysis","core/math/errormsg","core/math/builtinframe"],function(e){"use strict";var t=e("parsenodes"),r=e("core/math/statementanalysis"),n=e("core/math/errormsg"),o=e("core/math/builtinframe");function i(e,t){return r(e,this,n.inequalitiesUnsupported())}t.Base.prototype.analyzeScientific=function(e,t){return(t=this.tryGetConcreteTree(e,t)).isError?r(e,this,t):r(e,this,n.parseError())},t.Expression.prototype.analyzeScientific=function(e,t){var o=this.tryGetConcreteTree(e,t);return o.isError?r(e,this,o):0<(t=o.getDependencies()).length?r(e,this,n.tooManyVariables(t)):r(e,this,o)},t.Assignment.prototype.analyzeScientific=function(e,t){var i=this._symbol;return o[i]?r(e,this,n.cannotRedefine(i)):((t=Object.create(t))[i]=n.equationsUnsupported(),(i=this.tryGetConcreteTree(e,t)).isError?r(e,this,i):(t=i.getDependencies(),this.isEquation(i)?r(e,this,n.equationsUnsupported()):0<t.length?r(e,this,n.tooManyVariables(t)):r(e,this,i)))},t.FunctionDefinition.prototype.analyzeScientific=function(e,t){if(o[this._symbol])return r(e,this,n.cannotRedefine(this._symbol));var i=this.tryGetConcreteTree(e,t);if(i.isError)return r(e,this,i);var a=this._argSymbols;return-1!==(t=i.getDependencies()).indexOf(this._symbol)?r(e,this,n.selfReferentialFunction(this._symbol)):(t=t.filter(function(e){return-1===a.indexOf(e)})).length?r(e,this,n.addArgumentsToDefinition(t,this._symbol,a)):r(e,this,i)},t.Equation.prototype.analyzeScientific=function(e,t){return r(e,this,n.equationsUnsupported())},t.And.prototype.analyzeScientific=i,t.DoubleInequality.prototype.analyzeScientific=i,t.BaseComparator.prototype.analyzeScientific=i,t.Regression.prototype.analyzeScientific=function(e,t){return r(e,this,n.regressionsUnsupported())},t.ParenSeq.prototype.analyzeScientific=function(e,t){return r(e,this,n.pointsUnsupported())}}),define("core/math/features/analyzeSingleExpressionScientific",["require","parsenodes","core/math/statementanalysis","core/math/errormsg","core/math/builtinframe"],function(e){"use strict";var t=e("parsenodes"),r=e("core/math/statementanalysis"),n=e("core/math/errormsg"),o=e("core/math/builtinframe");function i(e,t){return r(e,this,n.inequalitiesUnsupported())}t.Base.prototype.analyzeSingleExpressionScientific=function(e,t){return(t=this.tryGetConcreteTree(e,t)).isError?r(e,this,t):r(e,this,n.parseError())},t.Expression.prototype.analyzeSingleExpressionScientific=function(e,t){var i=this.tryGetConcreteTree(e,t);if(i.isError)return r(e,this,i);if(0<(a=i.getDependencies()).length){var a;t=a[0],t=(a=o[t])?a.isFunction?n.functionUnsupported(t):n.constantUnsupported(t):n.variablesUnsupported(t);return r(e,this,t)}return r(e,this,i)},t.Assignment.prototype.analyzeSingleExpressionScientific=function(e,t){return r(e,this,n.assignmentsUnsupported())},t.FunctionDefinition.prototype.analyzeSingleExpressionScientific=function(e,t){return r(e,this,n.functionDefinitionsUnsupported())},t.Equation.prototype.analyzeSingleExpressionScientific=function(e,t){return r(e,this,n.equationsUnsupported())},t.And.prototype.analyzeSingleExpressionScientific=i,t.DoubleInequality.prototype.analyzeSingleExpressionScientific=i,t.BaseComparator.prototype.analyzeSingleExpressionScientific=i,t.Regression.prototype.analyzeSingleExpressionScientific=function(e,t){return r(e,this,n.regressionsUnsupported())},t.ParenSeq.prototype.analyzeSingleExpressionScientific=function(e,t){return r(e,this,n.pointsUnsupported())}}),define("core/lib/dragmode",["require","exports"],function(e,t){"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.reconcileDragMode=t.DragMode=void 0,(n=r=t.DragMode||(t.DragMode={})).NONE="NONE",n.X="X",n.Y="Y",n.XY="XY",n.AUTO="AUTO",t.reconcileDragMode=function(e,t){var n=!t||"none"===t[0].type&&"none"===t[1].type?r.NONE:"none"===t[1].type?r.X:"none"===t[0].type?r.Y:r.XY;switch(e){case r.NONE:return r.NONE;case r.AUTO:case r.XY:return n;case r.X:return n===r.X||n===r.XY?r.X:r.NONE;case r.Y:return n===r.Y||n===r.XY?r.Y:r.NONE;default:return r.NONE}}}),define("core/math/features/getgraphmode",["require","parsenodes","core/types/graphmode","core/lib/dragmode","core/lib/dragmode","core/math/types"],function(e){"use strict";var t=e("parsenodes"),r=e("core/types/graphmode"),n=e("core/lib/dragmode").reconcileDragMode,o=e("core/lib/dragmode").DragMode,i=e("core/math/types");function a(e,t){if(t.isMovablePoint&&function(e,t){return e=e&&e.hasOwnProperty("dragMode")&&e.dragMode!==o.AUTO?e.dragMode:t.defaultDragMode,n(e,t.moveStrategy)}(this.userData,t)!==o.NONE)return r.XYPOINT_MOVABLE;var a=t.getDependencies();switch(t.valueType){case i.Point:case i.ListOfPoint:return 0===a.length?r.XYPOINT:e.validParametricVariables(a)?2===e.dimensions()?r.PARAMETRIC:r.PARAMETRIC_CURVE_3D:r.NONE;case i.Number:case i.ListOfNumber:return 2===e.dimensions()&&1===a.length?r.Y:3===e.dimensions()&&2===a.length?r.Z_3D:r.NONE;case i.Polygon:case i.ListOfPolygon:return r.POLYGON;default:return r.NONE}}function s(e,t){var n=t._expression.getDependencies();return 1<n.length?r.NONE:t._expression.isList&&0===t._expression.length?r.NONE:(t=t._symbol,e.graphMode(t,n))}function c(e,t){return t.isError?r.NONE:r.VISUALIZATION}t.Base.prototype.getGraphMode=function(e,t){return r.NONE},t.Expression.prototype.getGraphMode=a,t.Equation.prototype.getGraphMode=t.BaseComparator.prototype.getGraphMode=function(e,n){var o=n.getDependencies();return n.isConstant?r.NONE:n instanceof t.SolvedEquation?0===o.length?e.graphableAsConstant(n._symbol)?e.constantGraphMode(n._symbol):r.NONE:s(e,n):1===o.length||2===o.length?r.IMPLICIT:r.NONE},t.DoubleInequality.prototype.getGraphMode=function(e,t){return e.constantGraphMode(t._symbol)},t.Assignment.prototype.getGraphMode=function(e,n){if(n instanceof t.SolvedEquation)return s(e,n);if(this.isEquation(n))return this.asEquation().getGraphMode(e,n);var o=n.getDependencies();switch(n.valueType){case i.Number:case i.ListOfNumber:case i.EmptyList:switch(o.length){case 0:return e.graphableAsConstant(this._symbol)?e.constantGraphMode(this._symbol):r.NONE;case 1:return n.valueType===i.ListOfNumber&&!e.graphableListVariables(this._symbol,o[0])||this.isSlider?r.NONE:e.graphMode(this._symbol,o);case 2:return 3===e.dimensions()&&"z"===this._symbol?r.Z_3D:r.NONE;default:return r.NONE}break;default:return a.call(this,e,n)}},t.FunctionDefinition.prototype.getGraphMode=function(e,t){if(1!==this._argSymbols.length)return r.NONE;var n=e.graphMode(this._symbol,this._argSymbols),o=t.getDependencies();switch(t.valueType){case i.Number:case i.ListOfNumber:switch(o.length){case 0:return n;case 1:return o[0]!==this._argSymbols[0]?r.NONE:n;default:return r.NONE}break;default:return r.NONE}},t.Regression.prototype.getGraphMode=function(e,t){return this.isLhsSimple&&t.isModelValid&&1===t.model.getDependencies().length?r.Y:r.NONE},t.Object3D.prototype.getGraphMode=function(e,t){return t.isError?r.NONE:r.OBJECT3D},t.Histogram.prototype.getGraphMode=c,t.DotPlot.prototype.getGraphMode=c,t.BoxPlot.prototype.getGraphMode=c,t.Image.prototype.getGraphMode=function(e,t){return!this.userData.showPoints||this.center.isError||this.radianAngle.isError||this.width.isError||this.height.isError||this.opacity.isError?r.NONE:r.XYPOINT}}),define("core/lib/color-helpers",["require","exports"],function(e,t){"use strict";function r(e){return n(e)?(e.match(/^#([A-Fa-f0-9]{3})$/g)&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),e.toLowerCase()):e}function n(e){return"string"==typeof e&&(e.match(/^#([A-Fa-f0-9]{3})$/g)||e.match(/^#([A-Fa-f0-9]{6})$/g))}Object.defineProperty(t,"__esModule",{value:!0}),t.colors=t.getDisplayColor=t.mutateOpacity=t.parseHex=t.invertColor=t.shadeColor=t.isValidHexColor=t.normalizeColor=void 0,t.normalizeColor=r,t.isValidHexColor=n,t.shadeColor=function(e,t){if(!n(e=r(e)))return e;1<t&&(t=1),t<-1&&(t=-1);var o=t<0?0:255,i=t<0?-1*t:t,a=(e=(a=parseInt(e.slice(1),16))>>16,t=a>>8&255,255&a);return"#"+(16777216+65536*(Math.round((o-e)*i)+e)+256*(Math.round((o-t)*i)+t)+(Math.round((o-a)*i)+a)).toString(16).slice(1)},t.invertColor=function(e){if(!n(e=r(e)))return e;var t="0123456789abcdef";return"#"+e.slice(1).split("").map(function(e){return t[15-t.indexOf(e)]}).join("")},t.parseHex=function(e){var t,r;e=3===(e=e.replace(/#/,"")).length?(t=parseInt(e.slice(0,1)+e.slice(0,1),16),r=parseInt(e.slice(1,2)+e.slice(1,2),16),parseInt(e.slice(2,3)+e.slice(2,3),16)):6===e.length?(t=parseInt(e.slice(0,2),16),r=parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)):r=t=0;return{r:t,g:r,b:e}},t.mutateOpacity=function(e,t){var r=/(rgba\([\d]+\,\ ?[\d]+\,\ ?[\d]+\,\ ?)[\d.]+(\))/;return e.match(r)?e.replace(r,"$1"+t+"$2"):e},t.getDisplayColor=function(e,t){return t&&t.colorLatexValue?(t=t.colorLatexValue,Array.isArray(t)?t[0]:t):e.color},t.colors={RED:"#c74440",BLUE:"#2d70b3",GREEN:"#388c46",PURPLE:"#6042a6",ORANGE:"#fa7e19",BLACK:"#000000",GRAY:"#aaaaaa"}}),define("core/math/features/getgraphinfo",["require","parsenodes","core/math/domaintypes","core/math/types","core/lib/color-helpers"],function(e){"use strict";var t=e("parsenodes"),r=e("core/math/domaintypes"),n=e("core/math/types"),o=e("core/lib/color-helpers").getDisplayColor;function i(e){switch(e.valueType){case n.Number:return a(e);case n.Point:var t=a(e.elementAt(0)),r=a(e.elementAt(1));return t&&r?[t,r]:void 0;default:return}}function a(e){var t=e.getDependencies();switch(t.length){case 0:return[+e.asValue(),0];case 1:if(1<e.polynomialOrder(t[0]))return;var r=e.getPolynomialCoefficients(t[0]);return[r[0]?+r[0].asValue():0,r[1]?+r[1].asValue():0];default:return}}t.Base.prototype.getGraphInfo=function(e,t){var n,a,s=t.getDependencies();switch(s.length){case 0:n=i(t),a=t.boundDomain("x");break;case 1:"known"===(a=t.boundDomain(s[0])).type&&(n=i(t));break;case 2:a=r.unknownDomain()}return{graphMode:this.getGraphMode(e,t),color:o(this.userData,this.metaData),pointStyle:this.userData.pointStyle,lineStyle:this.userData.lineStyle,operator:this.getOperator(),isLinear:!!n,linearCoefficients:n,domainBound:a}}}),define("core/math/features/getMoveStrategy",["require","exports","parsenodes","core/math/types","core/math/maybe-rational","core/math/functions"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r.Constant(o.maybeRational(0,1));function s(e,t,r,n,o,i){for(var s=t.getDependencies(),c=0,l=s;c<l.length;c++)if(o[l[c]])return;for(var u=s.length-1;0<=u;u--){var d=s[u];if(!i[d]){var p=n[d];if(void 0!==p)if(1===(f=r[d]).order){var h,f=(h=f.tree.getPolynomialCoefficients(d))[1]||a;if((h=h[0]||a).isConstant&&f.isConstant&&isFinite(h.asValue())&&isFinite(f.asValue())&&0!==f.asValue())return{symbol:d,id:p,coefficients:[-h.asValue()/f.asValue(),1/f.asValue()]}}}}}function c(e,t){var r,n=function(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}(e),o={};for(r in t){var i=t[r].evaluationState.assignment;t[r].evaluationState.is_slidable&&n[i]&&(o[i]=r)}return o}function l(e,t,r,n){for(var o=[],i=0;i<r.length;i++){var a=r[i],s={};o.push(s);for(var c=0;c<n.length;c++){var l=n[c],u=Object.create(t);u[l]=void 0,(u=a.tryGetConcreteTree(e,u)).isError?s[l]={tree:u,order:1/0}:s[l]={tree:u,order:u.polynomialOrder(l)}}}return o}function u(e,t,r){for(var n=0;n<e.length;n++){var o=e[n];0!==t[o].order&&(r[o]=!0)}}r.Base.prototype.getMoveStrategy=function(){},r.Assignment.prototype.getMoveStrategy=function(e,t,n,o,i){if(this._expression instanceof r.ParenSeq)return this._expression.getMoveStrategy(e,t,n,o,i)},r.ParenSeq.prototype.getMoveStrategy=function(e,t,r,o,a){if(r.valueType===n.Point&&0===r.getDependencies().length){for(var d=c(this.getDependencies(),o),p=Object.keys(d),h=this.args,f=l(e,t,h,p),g=[],m={},y={},v=0;v<2;v++){var b=h[v],x=b.getInputString();b.isConstant?g[v]={type:"updateCoordinate",inputString:x}:((b=s(0,b,f[v],d,m,y))&&(g[v]={type:"updateSlider",inputString:x,id:b.id,coefficients:b.coefficients},m[b.symbol]=!0,u(p,f[v],y)),g[v]||(g[v]={type:"none",inputString:x}))}var w,E,S=g[0],k=g[1];if("none"===S.type&&"updateSlider"===k.type)for(var _=0,I=h[0].getDependencies();_<I.length;_++)d[E=I[_]]===k.id&&(w=E);else if("updateSlider"===S.type&&"none"===k.type)for(var M=0,L=h[1].getDependencies();M<L.length;M++)d[E=L[M]]===S.id&&(w=E);else"none"===S.type&&"none"===k.type&&1===p.length&&(w=p[0]);if(!w)return"none"!==S.type||"none"!==k.type?g:void 0;var T,C=d[w];try{var A=Object.create(t);A[w]=void 0,T=this.getConcreteTree(e,A).getCompiledFunction()}catch(e){return}return i.dehydrateCompiledFunction(T),[(O=h[0].getInputString(),r=o[P=C].evaluationState,o=T,C="updateSlider"===S.type||"updateSlider"===k.type,{type:"updateSliderNonlinear",inputString:O,id:P,initialValue:r.constant_value,min:r.slider_min_number,max:r.slider_max_number,compiled:o,hasLinearComponent:C}),{type:"none",inputString:h[1].getInputString()}]}var O,P},r.Image.prototype.getMoveStrategy=function(e,t,r,o,i){if(r.center.valueType===n.Point&&0===r.center.getDependencies().length&&r.width.isConstant&&r.height.isConstant&&r.radianAngle.isConstant&&r.opacity.isConstant){var a=c(this.getDependencies(),o),d=Object.keys(a),p=[this.width,this.height];"ParenSeq"===this.center.type?p.push(this.center.args[0],this.center.args[1]):"Identifier"===this.center.type&&(this.center.referencedStatementId=function(e,t){for(var r in t)if(t[r].evaluationState.assignment===e)return r}(this.center._symbol,o));for(var h={},f={},g=l(e,t,p,d),m=[],y=[2,3,0,1],v=0;v<y.length;v++){var b,x=y[v],w=p[x];w?(b=w.getInputString(),w.isConstant?m[x]={type:"updateCoordinate",inputString:b}:((w=s(0,w,g[x],a,h,f))&&(m[x]={type:"updateSlider",inputString:b,id:w.id,coefficients:w.coefficients},h[w.symbol]=!0,u(d,g[x],f)),m[x]||(m[x]={type:"none",inputString:b}))):m[x]={type:"none",inputString:""}}if("none"!==m[0].type||"none"!==m[1].type||"none"!==m[2].type||"none"!==m[3].type)return m}}}),define("core/math/features/getDefaultDragMode",["require","parsenodes","core/lib/dragmode"],function(e){"use strict";var t=e("parsenodes"),r=e("core/lib/dragmode").DragMode;t.Base.prototype.getMoveStrategy=function(){return r.NONE},t.Assignment.prototype.getDefaultDragMode=function(e){return"none"!==e[0].type&&"none"!==e[1].type?r.XY:"none"!==e[0].type?r.X:"none"!==e[1].type?r.Y:r.NONE},t.ParenSeq.prototype.getDefaultDragMode=function(e){return"updateSlider"===e[0].type&&"updateSlider"===e[1].type?r.XY:"updateSlider"===e[0].type?r.X:"updateSlider"===e[1].type?r.Y:"updateSliderNonlinear"===e[0].type&&e[0].hasLinearComponent?r.X:r.NONE}}),define("core/math/features/tableinfo",["require","parsenodes","core/math/types","core/lib/label","core/math/distribution-spec"],function(e){"use strict";var t=e("parsenodes"),r=t.List,n=e("core/math/types"),o=e("core/lib/label"),i=e("core/math/distribution-spec").getFunctionSpecFromTree;t.Base.prototype.tableInfo=function(e,t){return!1},t.Identifier.prototype.tableInfo=function(e,t){return!!e.validFirstColumnVariable(this._symbol)&&{independent_variable:this._symbol,dependent_column:this.getInputString(),by_reference:!1}},t.Expression.prototype.tableInfo=function(e,t){var o=t.getDependencies();if(i(this))return!1;switch(t.valueType){case n.Point:case n.ListOfPoint:return 0===o.length&&(!t.isMovablePoint||"updateSlider"!==t.moveStrategy[0].type&&"updateSlider"!==t.moveStrategy[1].type)&&{independent_variable:"x",dependent_column:"y",by_reference:!1,values:r.wrap(t).asValue()};case n.Number:if(1!==o.length)return!1;var a=o[0];return!!e.validFirstColumnVariable(a)&&{independent_variable:a,dependent_column:this.getInputString(),by_reference:!1};default:return!1}},t.Assignment.prototype.tableInfo=function(e,r){if(r instanceof t.SolvedEquation)return!1;if(!this.getInputString().length)return!1;if(i(this))return!1;var n;if(1<(r=r.getDependencies()).length)return!1;if(0===r.length){if(!e.tableableAsConstant(this._symbol))return!1;n=e.implicitIndependent(this._symbol)}else n=r[0];return!!e.validFirstColumnVariable(n)&&{independent_variable:n,dependent_column:e.assignmentForbidden(this._symbol)?o.trimLatex(this.getInputString().replace(/[^=]*=/,"")):o.trimLatex(this.getInputString().split("=")[0]),by_reference:!e.assignmentForbidden(this._symbol)}},t.FunctionDefinition.prototype.tableInfo=function(e,t){return 1===this._argSymbols.length&&(!!this.getInputString().length&&(!(1<t.getDependencies().length)&&(t=this._argSymbols[0],!!e.validFirstColumnVariable(t)&&{independent_variable:t,dependent_column:(e=e.assignmentForbidden(this._symbol))?o.trimLatex(this.getInputString().replace(/[^=]*=/,"")):o.trimLatex(this.getInputString().split("=")[0]),by_reference:!e})))},t.BaseComparator.prototype.tableInfo=function(e,t){return!1},t.DoubleInequality.prototype.tableInfo=function(e,t){return!1},t.Equation.prototype.tableInfo=function(e,t){return!1}}),define("core/math/features/tableerror",["require","parsenodes","core/lib/worker-i18n"],function(e){"use strict";var t=e("parsenodes"),r=e("core/lib/worker-i18n");t.Base.prototype.tableError=function(){return this.isInequality()?r.s("shared-calculator-error-table-inequality-supplement"):!(this instanceof t.Expression||this instanceof t.IRExpression)&&r.s("shared-calculator-error-table-generic-supplement")},t.List.prototype.tableError=function(){return r.s("shared-calculator-error-table-list-supplement")},t.Equation.prototype.tableError=t.Assignment.prototype.tableError=function(){return r.s("shared-calculator-error-table-equation-supplement")},t.FunctionDefinition.prototype.tableError=function(){return r.s("shared-calculator-error-table-function-definition-supplement")},t.Regression.prototype.tableError=function(){return r.s("shared-calculator-error-table-regression-supplement")}}),define("core/math/curve-accumulator",["require","exports","core/math/distance"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Accumulator=void 0;var n=(o.prototype.colinear=function(e,t,n){this.map&&(e=this.map(e),t=this.map(t),n=this.map(n));var o=r.pointToSegmentParameter(n[0],n[1],n[2]||0,e[0],e[1],e[2]||0,t[0],t[1],t[2]||0);return!(o<1)&&(t=[e[0]+o*(t[0]-e[0]),e[1]+o*(t[1]-e[1]),3===e.length?e[2]+o*(t[2]-e[2]):0],Math.abs(n[0]-t[0])<=this.xtolerance&&Math.abs(n[1]-t[1])<=this.ytolerance&&(2===e.length||Math.abs(n[2]-t[2])<=this.ztolerance))},o.prototype.addPoint=function(e){if(this.dimensions=e.length,this.xtolerance<0&&this.ytolerance<0&&(2===this.dimensions||this.ztolerance<0))this.segment.push.apply(this.segment,e);else if(this.segment.length){var t=2===this.dimensions?[this.segment[this.segment.length-2],this.segment[this.segment.length-1]]:[this.segment[this.segment.length-3],this.segment[this.segment.length-2],this.segment[this.segment.length-1]];if(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]){if(!this.pivotPoint||!this.pendingPoint)return this.pivotPoint=e,void(this.pendingPoint=e);(!this.colinear(t,this.pivotPoint,e)||r.hypot(t[0]-e[0],t[1]-e[1],(t[2]||0)-(e[2]||0))<r.hypot(t[0]-this.pendingPoint[0],t[1]-this.pendingPoint[1],(t[2]||0)-(this.pendingPoint[2]||0)))&&(this.flushPending(),this.pivotPoint=e),this.pendingPoint=e}}else this.segment.push.apply(this.segment,e)},o.prototype.flushPending=function(){this.pendingPoint&&(this.segment.push.apply(this.segment,this.pendingPoint),this.pivotPoint=void 0,this.pendingPoint=void 0)},o.prototype.breakSegment=function(){this.flushPending(),this.segment.length>(this.dimensions||2)&&this.segments.push(this.segment),this.segment=[]},o.prototype.getSegments=function(){return this.breakSegment(),this.segments},o.prototype.finish=function(){return{segments:this.getSegments(),resolved:!0}},o);function o(e){e?(this.xtolerance=e.xtolerance||e.tolerance||0,this.ytolerance=e.ytolerance||e.tolerance||0,this.ztolerance=e.ztolerance||e.tolerance||0,this.map=e.map):this.xtolerance=this.ytolerance=this.ztolerance=0,this.segments=[],this.segment=[],this.pivotPoint=void 0,this.pendingPoint=void 0}t.Accumulator=n}),define("core/math/implicit-plotter",["require","exports","core/math/distance","./curve-accumulator"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.displayTriangles=t.traceContours=t.triangulate=t.buildQuadTree=t.sampleImplicitDiagnostic=t.sampleImplicit=void 0;var o=Math.pow(2,14);function i(e,t){var r,n=l(t,r=Math.pow(2,-5)),o=l(t,2*r);return{paddedDomain:n,rootDomain:o,quadTree:t=p(e,n,o),triangles:r=E(t.root,e,n),contours:C(r,e,n)}}function a(e,t,r){return{x:e,y:t,z:r}}function s(e,t,r){return{x:e,y:t,isZero:r}}function c(e,t,r){return{vertices:[e,t,r],visited:!1,next:void 0}}function l(e,t){var r=(1+t)*e.xmin-t*e.xmax,n=(1+t)*e.xmax-t*e.xmin;return{xmin:r,ymin:(1+t)*e.ymin-t*e.ymax,xmax:n,ymax:(1+t)*e.ymax-t*e.ymin,xtolerance:e.xtolerance,ytolerance:e.ytolerance}}function u(e,t){return{depth:e,vertices:t,children:void 0,center:void 0}}function d(e,t,r){e.center=b(e.vertices[0],e.vertices[1],e.vertices[2],e.vertices[3],t,r)}function p(e,t,r){var n,i,a,s=(s=e,n=r.xmin,i=r.xmax,a=r.ymin,u(0,[m(n,r=r.ymax,s),m(i,r,s),m(i,a,s),m(n,a,s)])),c=[];(O=[]).push(s);var l,p,g,x,w,E,S,k,_,I,M,L=1,T=!0;e:for(;O.length;)for(var C,A=c,O=(c=O,A);C=c.pop();)if(function(e,t,r){if(e.depth<5)return!0;if(e.vertices[0].x<r.xmin||e.vertices[0].y>r.ymax||e.vertices[2].x>r.xmax||e.vertices[2].y<r.ymin)return!1;if(e.vertices[1].x-e.vertices[0].x<10*r.xtolerance||e.vertices[0].y-e.vertices[3].y<10*r.ytolerance)return!1;var n=e.vertices[0],o=e.vertices[1],i=e.vertices[2],a=e.vertices[3];if(isNaN(n.z)&&isNaN(o.z)&&isNaN(i.z)&&isNaN(a.z))return!1;if(isNaN(n.z)||isNaN(o.z)||isNaN(i.z)||isNaN(a.z))return!0;var s=b(n,o,i,a,t,r),c=v(n,o,t,r),l=v(o,i,t,r),u=v(i,a,t,r);e=v(a,n,t,r);return f(n,c,t)||f(o,c,t)||f(o,l,t)||f(i,l,t)||f(i,u,t)||f(a,u,t)||f(a,e,t)||f(n,e,t)||h(n,c,s,t,r)||h(c,o,s,t,r)||h(o,l,s,t,r)||h(l,i,s,t,r)||h(i,u,s,t,r)||h(u,a,s,t,r)||h(a,e,s,t,r)||h(e,n,s,t,r)}(C,e,t)){if(p=e,void 0,g=(l=C).depth+1,x=l.vertices[0],w=l.vertices[1],E=l.vertices[2],S=l.vertices[3],k=y(x,w,p),_=y(w,E,p),I=y(E,S,p),M=y(S,x,p),p=y(x,E,p),l.children=[u(g,[x,k,p,M]),u(g,[k,w,_,p]),u(g,[p,_,E,I]),u(g,[M,p,I,S])],!C.children){T=!1;break e}if(O.push(C.children[0]),O.push(C.children[1]),O.push(C.children[2]),O.push(C.children[3]),(L+=3)>=o){T=!1;break e}}else d(C,e,t);for(var P=0;P<c.length;P++)d(c[P],e,t);for(P=0;P<O.length;P++)d(O[P],e,t);return{root:s,resolved:T}}function h(e,t,n,o,i){if(0<e.z==0<t.z&&0<t.z==0<n.z)return!1;var a,s,c,l;if(0<e.z==0<t.z){if(0<(a=y(e,t,o)).z!=0<e.z)return!0;s=w(e,n,o,i),c=w(t,n,o,i),l=w(a,n,o,i)}else if(0<t.z==0<n.z){if(0<(a=y(t,n,o)).z!=0<t.z)return!0;s=w(t,e,o,i),c=w(n,e,o,i),l=w(a,e,o,i)}else{if(0<(a=y(n,e,o)).z!=0<n.z)return!0;s=w(n,t,o,i),c=w(e,t,o,i),l=w(a,t,o,i)}return o=i.xtolerance,i=i.ytolerance,r.pointToSegment(i*l.x,o*l.y,i*s.x,o*s.y,i*c.x,o*c.y)>o*i}function f(e,t,r){if(isNaN(e.z)&&isNaN(t.z))return!1;if(isNaN(e.z)||isNaN(t.z))return 0<e.z||0<t.z;var n=4*y(e,t,r).z-t.z-3*e.z;r=(r(.9999*e.x+1e-4*t.x,.9999*e.y+1e-4*t.y)-e.z)/1e-4,t=Math.max(Math.abs(e.z),Math.abs(t.z));return Math.abs(n-r)>.125*t}function g(e,t){return e.x<t.xmin||e.x>t.xmax||e.y<t.ymin||e.y>t.ymax}function m(e,t,r){return a(e,t,r(e,t))}function y(e,t,r){return m(.5*(e.x+t.x),.5*(e.y+t.y),r)}function v(e,t,r,n){if(g(e,n)||g(t,n))return y(e,t,r);if(isNaN(e.z)||isNaN(t.z))return function(e,t,r,n){if(isNaN(e.z)===isNaN(t.z))return y(e,t,r);var o;isNaN(e.z)&&(o=e,e=t,t=o);for(var i=e.x,s=t.x,c=e.y,l=t.y,u=e.z,d=n.xtolerance,p=n.ytolerance;Math.abs(i-s)>d||Math.abs(c-l)>p;){var h=.5*(i+s),f=.5*(c+l),g=r(h,f);isNaN(g)===isNaN(u)?(i=h,c=f,u=g):(s=h,l=f)}return a(i,c,u)}(e,t,r,n);if(0<e.z!=0<t.z)return y(e,t,r);var o=r(.99*e.x+.01*t.x,.99*e.y+.01*t.y)-e.z;n=t.z-r(.01*e.x+.99*t.x,.01*e.y+.99*t.y);return isNaN(o)||isNaN(n)||0<o==0<n?y(e,t,r):x(a(e.x,e.y,o),a(t.x,t.y,n),r)}function b(e,t,r,n,o,i){var a=v(e,r,o,i);return 0<e.z==0<r.z&&0<a.z!=0<e.z?a:(a=v(t,n,o,i),0<t.z==0<n.z&&0<a.z!=0<t.z?a:y(e,r,o))}function x(e,t,r){if(isNaN(e.z))return t;if(isNaN(t.z))return e;if(isFinite(e.z)||isFinite(t.z)){if(isFinite(e.z)){if(isFinite(t.z)){var n=1-e.z/t.z,o=1-t.z/e.z;return m(e.x/n+t.x/o,e.y/n+t.y/o,r)}return e}return t}return y(e,t,r)}function w(e,t,r,n){var o=e.x,i=t.x,c=e.y,l=t.y,u=e.z,d=t.z,p=n.xtolerance,h=n.ytolerance;if(g(e,n)||g(t,n)){var f=y(e,t,r);return s(f.x,f.y,!1)}for(;Math.abs(o-i)>p||Math.abs(c-l)>h;){var m=.5*(o+i),v=.5*(c+l),b=r(m,v);0<b==0<u?(o=m,c=v,u=b):(i=m,l=v,d=b)}return isNaN(u)?s(i,l,!1):isNaN(d)?s(o,c,!1):(t=x(a(o,c,u),a(i,l,d),r),f=0===u||0===d||0===t.z||t.z>=u==d>=t.z&&Math.abs(t.z)<1e250,s(t.x,t.y,f))}function E(e,t,r){return function e(t,r){t.children&&(e(t.children[0],r),e(t.children[1],r),e(t.children[2],r),e(t.children[3],r),S(t.children[0],t.children[1],r),S(t.children[3],t.children[2],r),k(t.children[1],t.children[2],r),k(t.children[0],t.children[3],r))}(e,t={triangles:[],edgeCache:{},domain:r,fn:t}),t.triangles}function S(e,t,r){e.children&&t.children?(S(e.children[1],t.children[0],r),S(e.children[2],t.children[3],r)):e.children?(S(e.children[1],t,r),S(e.children[2],t,r)):t.children?(S(e,t.children[0],r),S(e,t.children[3],r)):function(e,t,r){if(e.center&&t.center){var n,o=e.depth>=t.depth?(n=v(e.vertices[1],e.vertices[2],r.fn,r.domain),_(e.vertices[1],t.center,e.vertices[2],e.center,n)):(n=v(t.vertices[0],t.vertices[3],r.fn,r.domain),_(t.vertices[0],t.center,t.vertices[3],e.center,n));L(o,r.edgeCache,r.domain);for(var i=0;i<4;i++)r.triangles.push(o[i])}}(e,t,r)}function k(e,t,r){e.children&&t.children?(k(e.children[2],t.children[1],r),k(e.children[3],t.children[0],r)):e.children?(k(e.children[2],t,r),k(e.children[3],t,r)):t.children?(k(e,t.children[1],r),k(e,t.children[0],r)):function(e,t,r){if(e.center&&t.center){var n,o=e.depth>=t.depth?(n=v(e.vertices[3],e.vertices[2],r.fn,r.domain),_(e.vertices[2],t.center,e.vertices[3],e.center,n)):(n=v(t.vertices[1],t.vertices[0],r.fn,r.domain),_(t.vertices[1],t.center,t.vertices[0],e.center,n));L(o,r.edgeCache,r.domain);for(var i=0;i<4;i++)r.triangles.push(o[i])}}(e,t,r)}function _(e,t,r,n,o){return[c(e,o,t),c(t,o,r),c(r,o,n),c(n,o,e)]}function I(e,t,r){return 0<e.z&&!g(e,r)&&(!(0<t.z)||g(t,r))}function M(e,t){return e.x+","+e.y+","+t.x+","+t.y}function L(e,t,r){T(e[0],e[1],e[2],M(e[1].vertices[2],e[1].vertices[0]),t,r),T(e[1],e[2],e[3],M(e[2].vertices[0],e[2].vertices[2]),t,r),T(e[2],e[3],e[0],M(e[3].vertices[2],e[3].vertices[0]),t,r),T(e[3],e[0],e[1],M(e[0].vertices[0],e[0].vertices[2]),t,r)}function T(e,t,r,n,o,i){var a=t.vertices[0],s=t.vertices[1],c=t.vertices[2];I(s,c,i)&&(t.next=r),I(a,s,i)&&(t.next=e),I(c,a,i)&&(r=t,(s=o)[e=n]?r.next=s[e]:s[e]=r),I(a,c,i)&&(t=t,(o=o)[n=n]?o[n].next=t:o[n]=t)}function C(e,t,r){for(var o={fillAccumulator:new n.Accumulator(r),strokeAccumulator:new n.Accumulator(r),fn:t,domain:r},i=0;i<e.length;i++){var a=e[i];a.next&&!a.visited&&function(e,t){for(;;){var r=e.vertices[0],n=e.vertices[1],o=e.vertices[2];if(A(r,n,t),A(n,o,t),A(o,r,t),e.visited)break;if(!e.next)break;e.visited=!0,e=e.next}t.strokeAccumulator.breakSegment(),t.fillAccumulator.breakSegment()}(a,o)}return{strokeSegments:o.strokeAccumulator.finish().segments,fillSegments:o.fillAccumulator.finish().segments}}function A(e,t,r){I(e,t,r.domain)&&(t=w(e,t,r.fn,r.domain),r.fillAccumulator.addPoint([t.x,t.y]),t.isZero?r.strokeAccumulator.addPoint([t.x,t.y]):r.strokeAccumulator.breakSegment())}t.sampleImplicit=function(e,t){return{segments:(t=i(e,t)).contours.strokeSegments,fillSegments:t.contours.fillSegments,resolved:t.quadTree.resolved}},t.sampleImplicitDiagnostic=i,t.buildQuadTree=p,t.triangulate=E,t.traceContours=C,t.displayTriangles=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push([n.vertices[0].x,n.vertices[0].y,n.vertices[1].x,n.vertices[1].y,n.vertices[2].x,n.vertices[2].y,n.vertices[0].x,n.vertices[0].y])}return t}}),define("core/math/poi-finding-accumulator",["require","exports","core/math/workerconfig","tslib","./curve-accumulator","./poi"],function(e,t,r,n,o,i){"use strict";function a(e){return Math.abs(e)<5e-8}Object.defineProperty(t,"__esModule",{value:!0});var s;s=o.Accumulator,n.__extends(c,s),c.prototype.getPOI=function(){return r.pointsOfInterest?(void 0!==this.fn&&(this.poiData.intercept=this.findIntercept(this.fn)),this.poiData):{zeros:{x:[],y:[]},intercept:{x:[],y:[]},extrema:{x:[],y:[]}}},c.prototype.addLinearZero=function(e){e=-e[0]/e[1],this.isOutsideDomain(e)||(this.poiData.zeros={x:[e],y:[0]})},c.prototype.addLinearIntercept=function(e){this.isOutsideDomain(0)||(this.poiData.intercept={x:[0],y:[e[0]]})},c.prototype.isOutsideDomain=function(e){return!this.domain||void 0===this.domain.min||void 0===this.domain.max||e<this.domain.min||e>this.domain.max||isNaN(e)},c.prototype.addPoint=function(e){0===this.segment.length&&a(e[1])&&(this.poiData.zeros.x.push(e[0]),this.poiData.zeros.y.push(e[1])),this.updateZeroBuffer(e),this.updateExtremumBuffer(e),s.prototype.addPoint.call(this,e)},c.prototype.updateZeroBuffer=function(e){if(this.fn)if(isFinite(e[0])&&isFinite(e[1]))switch(this.zeroBuffer.length){case 0:return a(e[1])?void 0:void this.zeroBuffer.push(e);case 1:return 0===e[1]||(0<e[1]!=0<this.zeroBuffer[0][1]&&(t=i.bisectZero(this.zeroBuffer[0][0],this.zeroBuffer[0][1],e[0],e[1],this.fn))&&(this.poiData.zeros.x.push(t[0]),this.poiData.zeros.y.push(t[1])),this.zeroBuffer.length=0),void this.zeroBuffer.push(e);case 2:return 0===e[1]?void 0:(0<e[1]!=0<this.zeroBuffer[0][1]&&(t=i.flatCenter(this.zeroBuffer[0][0],this.zeroBuffer[0][1],this.zeroBuffer[1][0],this.zeroBuffer[1][1],e[0],e[1],this.fn))&&(this.poiData.zeros.x.push(t[0]),this.poiData.zeros.y.push(t[1])),this.zeroBuffer.length=0,void this.zeroBuffer.push(e));var t}else this.zeroBuffer.length=0},c.prototype.updateExtremumBuffer=function(e){if(this.fn)if(isFinite(e[0])&&isFinite(e[1]))switch(this.extremumBuffer.length){case 0:return void this.extremumBuffer.push(e);case 1:return e[1]===this.extremumBuffer[0][1]&&(this.extremumBuffer.length=0),void this.extremumBuffer.push(e);case 2:return e[1]===this.extremumBuffer[1][1]?void this.extremumBuffer.push(e):(e[1]>this.extremumBuffer[1][1]!=this.extremumBuffer[1][1]>this.extremumBuffer[0][1]&&(t=this.bisectExtremumUsingDerivative(this.extremumBuffer[0][0],this.extremumBuffer[0][1],this.extremumBuffer[1][0],this.extremumBuffer[1][1],e[0],e[1]))&&(this.poiData.extrema.x.push(t[0]),this.poiData.extrema.y.push(t[1]),!i.bisectJump(this.extremumBuffer[0][0],this.extremumBuffer[0][1],t[0],t[1],e[0],e[1],this.fn,this.ytolerance)&&t[0]>this.segment[this.segment.length-2]&&(this.pendingPoint=t)),this.extremumBuffer.shift(),void this.extremumBuffer.push(e));case 3:if(e[1]===this.extremumBuffer[1][1])return;if(e[1]>this.extremumBuffer[1][1]==this.extremumBuffer[1][1]>this.extremumBuffer[0][1])return this.extremumBuffer.shift(),this.extremumBuffer.shift(),void this.extremumBuffer.push(e);var t=void 0,r=.5*(this.extremumBuffer[1][0]+this.extremumBuffer[2][0]),n=this.fn(r);return(t=n===this.extremumBuffer[1][1]?i.flatCenter(this.extremumBuffer[0][0],this.extremumBuffer[0][1],this.extremumBuffer[1][0],this.extremumBuffer[1][1],e[0],e[1],this.fn):this.bisectExtremumUsingDerivative(this.extremumBuffer[1][0],this.extremumBuffer[1][1],r,n,this.extremumBuffer[2][0],this.extremumBuffer[2][1]))&&(this.poiData.extrema.x.push(t[0]),this.poiData.extrema.y.push(t[1])),this.extremumBuffer.shift(),this.extremumBuffer.shift(),void this.extremumBuffer.push(e)}else this.zeroBuffer.length=0},c.prototype.bisectExtremumUsingDerivative=function(e,t,r,n,o,a){var s,c,l;if(this.fn)return this.derivative&&(c=this.derivative(e),l=this.derivative(o),isNaN(c)||isNaN(l)||c<0==l<0||(l=i.bisectZero(e,c,o,l,this.derivative))&&(s=[l[0],this.fn(l[0])])),s||i.bisectExtremum(e,t,r,n,o,a,this.fn)},c.prototype.breakSegment=function(){this.zeroBuffer.length=0,this.extremumBuffer.length=0,this.flushPending(),2<this.segment.length&&(this.segments.push(this.segment),a(this.segment[this.segment.length-1])&&(this.poiData.zeros.x.push(this.segment[this.segment.length-2]),this.poiData.zeros.y.push(this.segment[this.segment.length-1]))),this.segment=[]},c.prototype.findIntercept=function(e){if(!e)return{x:[],y:[]};var t=e(0);return isFinite(t)?{x:[0],y:[e(0)]}:{x:[],y:[]}},c.prototype.finish=function(){return{segments:this.getSegments(),resolved:!0,poi:this.getPOI()}},n=c;function c(e,t,r){var n=s.call(this,e)||this;return n.domain=e,n.fn=t,n.derivative=r,n.poiData={zeros:{x:[],y:[]},intercept:{x:[],y:[]},extrema:{x:[],y:[]}},n.zeroBuffer=[],n.extremumBuffer=[],n}t.default=n}),define("core/math/copy-defined-pois",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=[],r=[],n=e.length,o=0;o<n;o++)t.push(e[o][0]),r.push(e[o][1]);return{defined:{x:t,y:r}}}}),define("core/math/plotter",["require","exports","tslib","core/math/distance","./poi","./implicit-plotter","./curve-accumulator","./poi-finding-accumulator","core/types/graphmode","./domaintypes","core/math/copy-defined-pois"],function(e,t,r,n,o,i,a,s,c,l,u){"use strict";function d(e,t){var r=new s.default(t),n=e[0]+t.min*e[1],o=e[0]+t.max*e[1];return isFinite(n)&&isFinite(o)&&(r.addPoint([t.min,n]),r.addPoint([t.max,o]),r.addLinearZero(e),r.addLinearIntercept(e)),r.finish()}function p(e,t){return t=e(t),{segments:[r.__spreadArray(r.__spreadArray([],t),t)],resolved:!0}}function h(e,t,r){var i=r.fn,a=r.jumpTolerance,s=e[0],c=e[1],l=t[0];r=t[1],t=i(e=n.mean(s,l));return o.bisectJump(s,c,e,t,l,r,i,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.dropUndefinedPoints=t.polygonsFromSegments=t.polygonFromSegments=t.computeGraphData=t.computeDiscreteGraphData=t.computeDomain=t.validateViewState=t.subsampleParametricRecursive=t.sampleParametricRecursive=t.samplePolar=t.findPiPeriod=t.sampleXY=t.sampleLinear=t.errorBranch=void 0,t.errorBranch=function(e){return{graphMode:c.ERROR,error:e,segments:[]}},t.sampleLinear=d;var f=function(e,t,r){var n=r.fn,o=r.jumpTolerance,i=r.accumulator;if(!isFinite(o)||o<=0)return t;var a=h(e,t,r);if(!a)return t;for(var s=[-(o=(t[0]-e[0])/10),o],c=t,l=0;l<s.length;l++){var u=e[0]+s[l],d=n(u);isFinite(d)||(u=e[0],d=e[1],u=e[0],d=e[1]);var p=t[0]+s[l],f=n(p);if(isFinite(f)?c=[p,f]:(p=t[0],f=t[1]),h([u,d],[p,f],r))return p=a[0],f=a[1],i.addPoint(p),i.breakSegment(),i.addPoint(f),t}return c},g=function(e,t,r){this.derivative=r,this.accumulator=new s.default(t,e,r),this.fn=e,this.jumpTolerance=t.ytolerance||t.tolerance||0};function m(e,t,r){var n=t,o=e(n);return isFinite(o)||(o=e(n=t+r)),isFinite(o)||(o=e(n=t-r)),[n,o]}function y(e,t,r){var n,i,a,s,c,l=new g(e,t,r),u=t.step/10,d=[c=(r=m(e,t.min,u))[0],s=r[1]];isFinite(s)&&l.accumulator.addPoint([c,s]);for(var p=Math.ceil((t.max-t.min)/t.step),h=1;h<=p;h++)c=(n=m(e,(p-h)/p*t.min+h/p*t.max,u))[0],s=n[1],isFinite(s)&&isFinite(d[1])?(c=(i=f(d,[c,s],l))[0],s=i[1],l.accumulator.addPoint([c,s])):isFinite(s)&&!isFinite(d[1])?(a=o.bisectFinite(d[0],d[1],c,s,e))&&(a[0]!==c&&l.accumulator.addPoint(a),c=(i=f(a,[c,s],l))[0],s=i[1],l.accumulator.addPoint([c,s])):!isFinite(s)&&isFinite(d[1])&&(a=o.bisectFinite(d[0],d[1],c,s,e))&&((a=f(d,a,l))[0]!==d[0]&&l.accumulator.addPoint(a),l.accumulator.breakSegment()),d=[c,s];return l.accumulator.finish()}function v(e,t,r,n){var o,i,a,s=t.min,c=t.max-t.min,l=t.xtolerance&&t.ytolerance?Math.min(t.xtolerance,t.ytolerance):t.tolerance||0,u=Math.floor(c/(Math.PI/r));function d(e,t){var o=t%2==0?1:-1;if(n||-1!=o){for(var i=t*(Math.PI/r),a=[s,s+1,s+2,s+3],c=!1,u=0,d=a.length;u<d;u++){var p=e(a[u]),h=e(a[u]+i);if(isFinite(p)&&isFinite(h)&&(c=!0),isFinite(p)!==isFinite(h)||Math.abs(p-o*h)>l)return}return c}}for(o=1;o<=u;o++)if(d(e,o)){for(a=o,i=2;i*o<=u;i++)d(e,i*o)||(a=void 0);if(a)break}return a?a*(Math.PI/r):null}function b(e){return[e[1]*Math.cos(e[0]),e[1]*Math.sin(e[0])]}function x(e,t){return t.map=b,y(e,t)}function w(e,t){if(t.max<t.min)return{segments:[],resolved:!0};var r,n=new a.Accumulator(t),o=t.min,i=e(o);return isFinite(i[0])&&isFinite(i[1])&&n.addPoint(i),function(e){for(var r=t.min,n=t.max,o=t.step,i=n-r,a=Math.ceil(i/o),s=i/a,c=0;c<a;c++)e(r+c*s);e(n)}(function(t){r=e(t),E(e,o,i,t,r,10,n),o=t,i=r}),n.finish()}function E(e,t,r,o,i,a,s){if(o!==t){var c=s.xtolerance,l=s.ytolerance,u=s.ztolerance,d=n.mean(t,o),p=e(d),h=isFinite(r[0])&&isFinite(r[1])&&(2===r.length||isFinite(r[2])),f=isFinite(i[0])&&isFinite(i[1])&&(2===i.length||isFinite(i[2])),g=isFinite(p[0])&&isFinite(p[1])&&(2===p.length||isFinite(p[2]));if(0===a||d===t||d===o)return s.breakSegment(),void(f&&s.addPoint(i));if(h||f)if(h===f){if(h&&g&&f){var m=n.pointToSegmentParameter(p[0],p[1],p[2]||0,r[0],r[1],r[2]||0,i[0],i[1],i[2]||0);if(.2<m&&m<.8&&Math.abs(p[0]-(r[0]+m*(i[0]-r[0])))<=c&&Math.abs(p[1]-(r[1]+m*(i[1]-r[1])))<=l&&(2===r.length||Math.abs(p[2]-(r[2]+m*(i[2]-r[2])))<=u))return void s.addPoint(i)}r[0]===p[0]&&r[1]===p[1]||E(e,t,r,d,p,a-1,s),i[0]===p[0]&&i[1]===p[1]||E(e,d,p,o,i,a-1,s)}else{for(c=t,l=o,m=r,u=i;t!==d&&d!==o;)g==h?(t=d,r=p,h=g):(o=d,i=p,f=g),p=e(d=t+(o-t)/2),g=isFinite(p[0])&&isFinite(p[1])&&(2===p.length||isFinite(p[2]));h?(E(e,c,m,t,r,a-1,s),s.breakSegment()):(s.breakSegment(),s.addPoint(i),E(e,o,i,l,u,a-1,s))}}}function S(e,t,r){var n=e.viewport.xmin,o=e.viewport.xmax,i=e.viewport.ymin,a=e.viewport.ymax,s=t.lineWidth;3<s&&(n-=p=s*(o-n)/e.screen.width,o+=p,i-=p=s*(a-i)/e.screen.height,a+=p);var u,d=e.trigAngleMultiplier||1,p=e.oversample||4,h=1/p*(o-n)/e.screen.width,f=1/p*(a-i)/e.screen.height,g=t.domainBound;switch(t.graphMode){case c.X:switch((u=l.intersectDomains(l.knownDomain([i,a]),g)).type){case"empty":return!1;case"known":i=u.bounds[0],a=u.bounds[1]}m={min:i,max:a,xtolerance:f,ytolerance:h,step:f};break;case c.Y:switch((u=l.intersectDomains(l.knownDomain([n,o]),g)).type){case"empty":return!1;case"known":n=u.bounds[0],o=u.bounds[1]}m={min:n,max:o,xtolerance:h,ytolerance:f,step:h};break;case c.POLAR:if(!t.domain)throw new Error("Expected polar graph to have domain");var m={min:t.domain.min,max:t.domain.max,step:2*Math.PI/d/1e3,tolerance:Math.min(h,f)};t.domain.isExplicit||(x=v(r,m,d,"="===t.operator))&&(m.max=m.min+x),m.step=Math.max(m.step,(m.max-m.min)/11999);break;case c.PARAMETRIC:case c.PARAMETRIC_CURVE_3D:var y=t.domain?t.domain.min:0,b=t.domain?t.domain.max:1,x=t.domain?t.domain.step:.01;switch((u=l.intersectDomains(l.knownDomain([y,b]),g)).type){case"empty":return!1;case"known":y=u.bounds[0],b=u.bounds[1]}m={min:y,max:b,step:x,xtolerance:h,ytolerance:f,ztolerance:Math.min(h,f)};break;case c.IMPLICIT:m={xmin:n,xmax:o,ymin:i,ymax:a,xtolerance:h,ytolerance:f};break;case c.Z_3D:return{xmin:-10,xmax:10,ymin:-10,ymax:10};default:return!1}return m}function k(e,t,r){var n,o,i,a,s=[],l=null;switch(r){case c.POLAR:l=b;break;case c.X:l=function(e){return[e[1],e[0]]}}for(n=0;n<e.length;n++)for(a=e[n],o=0;o<a.length;o+=2)i=[a[o],a[o+1]],l&&(i=l(i)),s.push(i[0],i[1]);for(n=t.length-1;0<=n;n--)for(o=(a=t[n]).length-2;0<=o;o-=2)i=[a[o],a[o+1]],l&&(i=l(i)),s.push(i[0],i[1]);return s}function _(e){for(var t=[],r={},n=0;n<e.length;n++){var o=e[n],i=o[0],a=o[1];isNaN(i)||isNaN(a)?r[n]=!0:t.push(o)}return{points:t,droppedIndices:r}}t.sampleXY=y,t.findPiPeriod=v,t.samplePolar=x,t.sampleParametricRecursive=w,t.subsampleParametricRecursive=E,t.validateViewState=function(e){if(!e)return!1;var t=e.viewport.xmin,r=e.viewport.xmax,n=e.viewport.ymin,o=e.viewport.ymax;return!(!isFinite(t)||!isFinite(r)||r<=t||!isFinite(n)||!isFinite(o)||o<=n||!isFinite(e.screen.width)||e.screen.width<=0||!isFinite(e.screen.height)||e.screen.height<=0)},t.computeDomain=S,t.computeDiscreteGraphData=function(e){var t,r=e.viewState,n=e.graphInfo,o=e.compiled,i=e.maxOverride,a=e.showPoint,s=o.fn;return(e=S(r,n,s))||(t={segments:[],resolved:!0}),o=e.min,r=e.max,e=e.step,{segments:[(e=_((t=function(e){for(var t=e.fn,r=(e=(r=e.domain).min,r.max),n=(e=Math.floor(e),Math.ceil(r)),o=[],i=e;i<=n;i++){var a=t(i);isFinite(i)&&isFinite(a)&&o.push([i,a])}return{segments:o,resolved:!0}}({fn:s,domain:{min:Math.max(o,0),max:void 0!==i?Math.min(i,r):r,step:e}})).segments)).points],droppedIndices:e.droppedIndices,graphMode:c.XYPOINT,color:n.color,style:n.pointStyle,poi:u.default(t.segments),showPoint:a}},t.computeGraphData=function(e){var t,r,n,o,a,s=e.viewState,l=e.graphInfo,u=e.compiled,h=e.derivative,f=u.fn,g=S(s,l,f),m=l.graphMode;if(g){switch(m){case c.X:case c.Y:var v=h?h.fn:void 0,b=l.isLinear?d(l.linearCoefficients,g):y(f,g,v);break;case c.POLAR:b=x(f,g);break;case c.IMPLICIT:b=i.sampleImplicit(f,g);break;case c.PARAMETRIC:g.step||(g.step=(g.max-g.min)/1e3),b=g.max===g.min?p(f,g.min):l.isLinear?(n=g,v=d((r=l.linearCoefficients)[0],n),n=d(r[1],n),v.segments.length&&n.segments.length&&4===v.segments[0].length&&4===n.segments[0].length?{segments:[[v.segments[0][1],n.segments[0][1],v.segments[0][3],n.segments[0][3]]],resolved:!0}:{segments:[],resolved:!0}):w(f,g);break;case c.PARAMETRIC_CURVE_3D:return g.step||(g.step=(g.max-g.min)/1e3),b=g.max===g.min?p(f,g.min):w(f,g),{graphMode:c.PARAMETRIC_CURVE_3D,segments:b.segments,cacheKey:u.source+":"+JSON.stringify(g),color:l.color,style:"dummy"};case c.Z_3D:return{meshData:function(e,t){for(var r=e.fn,n=t.xmin,o=t.xmax,i=t.ymin,a=(o-n)/30,s=(t.ymax-i)/30,c=[],l=[],u=[],d=a/1e3,p=s/1e3,h=0;h<30;h++)for(var f=0;f<30;f++){var g=r(y=n+h*a,v=i+f*s);c.push(y,v,g);var m=(r(y+d,v)-g)*p,y=(r(y,v+p)-g)*d,v=-d*p;g=Math.sqrt(m*m+y*y+v*v);l.push(m/g,y/g,v/g)}for(h=0;h<29;h++)for(f=0;f<29;f++){var b=30*f+h,x=30*f+h+1,w=30*(f+1)+h,E=30*(f+1)+h+1;u.push(b,w,x),u.push(w,E,x)}return{cacheKey:e.source+":"+JSON.stringify(t),positions:new Float32Array(c),normals:new Float32Array(l),faces:new Int16Array(u)}}(u,g),color:l.color,graphMode:c.Z_3D,poi:{zeros:{x:[],y:[]},extrema:{x:[],y:[]},intercept:{x:[],y:[]}},compiled:u,style:"dummy"};default:throw new Error("Programming Error: unexpected graphmode "+m)}t=b.poi}else b={segments:[],resolved:!0};if((!t||250<t.zeros.x.length+t.extrema.x.length+t.intercept.x.length)&&(t={zeros:{x:[],y:[]},extrema:{x:[],y:[]},intercept:{x:[],y:[]}}),m===c.X)for(var E in t)t.hasOwnProperty(E)&&(a=t[o=E].y,t[o].y=t[o].x,t[o].x=a);return s={segments:b.segments,resolved:b.resolved,graphMode:m,color:l.color,style:l.lineStyle,lineWidth:l.lineWidth,lineOpacity:l.lineOpacity,listIndex:l.listIndex,operator:l.operator,poi:t,compiled:u},m===c.POLAR&&(s.sampledDomain={min:g.min,max:g.max,step:g.step}),b.fillSegments&&(s.fillSegments=b.fillSegments),s},t.polygonFromSegments=k,t.polygonsFromSegments=function(e,t,r){for(var o=function(e){return(e=e[e.length-1])[e.length-2]},i=[],a=0,s=0,c=[],l=[],u=-1/0,d=-1/0;;){if(u<=d){if(a>=t.length)break;l.push(t[a++])}if(d<=u){if(s>=e.length)break;c.push(e[s++])}u=o(l),d=o(c),n.approx(u,d,4)&&(i.push(k(c,l,r)),l=[],c=[],d=u=Math.max(u,d))}return i},t.dropUndefinedPoints=_}),define("core/types/styles",["require","exports"],function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LineStyle=t.PointStyle=void 0,(r=t.PointStyle||(t.PointStyle={})).POINT="POINT",r.OPEN="OPEN",r.CROSS="CROSS",(t=t.LineStyle||(t.LineStyle={})).SOLID="SOLID",t.DASHED="DASHED",t.DOTTED="DOTTED"}),define("core/math/cdf-branches",["require","exports","tslib","core/lib/deepCopy","core/math/plotter","core/math/domaintypes","core/types/styles"],function(e,t,r,n,o,i,a){"use strict";function s(e){var t=e.viewState,r=e.graphInfo,s=e.compiled,c=e.bounds,l=e.included,u=e.showPoint;e=n.default(r);if("known"===(c=i.intersectDomains(r.domainBound,i.knownDomain(c))).type)return e.domainBound=c,e.pointStyle=l?a.PointStyle.POINT:a.PointStyle.OPEN,o.computeDiscreteGraphData({graphInfo:e,viewState:t,compiled:s,showPoint:u,maxOverride:void 0})}Object.defineProperty(t,"__esModule",{value:!0}),t.makeContinuousCDFTopBranches=t.makeDiscreteCDFTopBranches=void 0,t.makeDiscreteCDFTopBranches=function(e){var t,n=e.viewState,o=e.graphInfo,i=e.compiled,a=e.bounds,c=e.maxOverride,l=e.showPoint,u=a[0];e=a[1],a=[],u=Math.ceil(u),e=Math.floor(e),c=void 0!==c?c:1/0;return u===-1/0&&c<=e?(t=s({bounds:[u,c],included:!0,viewState:n,graphInfo:o,compiled:i,showPoint:l}),a.push(t)):u===-1/0&&e<1/0?(t=s({bounds:[u,e],included:!0,viewState:n,graphInfo:o,compiled:i,showPoint:l}),a.push(t),a.push(s({bounds:[e+1,c],included:!1,viewState:n,graphInfo:o,compiled:i,showPoint:l}))):-1/0<u&&c<=e?(t=s({bounds:[u,c],included:!0,viewState:n,graphInfo:o,compiled:i,showPoint:l}),a.push(s({bounds:[-1/0,u-1],included:!1,viewState:n,graphInfo:o,compiled:i,showPoint:l})),a.push(t)):(t=s({bounds:[u,e],included:!0,viewState:n,graphInfo:o,compiled:i,showPoint:l}),u=s({bounds:[-1/0,u-1],included:!1,viewState:n,graphInfo:o,compiled:i,showPoint:l}),o=s({bounds:[e+1,c],included:!1,viewState:n,graphInfo:o,compiled:i,showPoint:l}),a.push(t),i=void 0,u&&o&&(u=(l=u).segments[0],o=o.segments[0],o=[r.__spreadArray(r.__spreadArray([],u),o)],i=r.__assign(r.__assign({},l),{segments:o}),a.push(i))),{cdfTopBranch:t,topBranches:a}},t.makeContinuousCDFTopBranches=function(e){var t=e.viewState,r=e.graphInfo,s=e.compiled,c=e.derivative;return{cdfTopBranch:function(e){var t=e.viewState,r=e.graphInfo,s=e.compiled,c=e.derivative,l=e.bounds;e=n.default(r);if("known"===(l=i.intersectDomains(r.domainBound,i.knownDomain(l))).type)return e.domainBound=l,e.lineStyle=a.LineStyle.SOLID,o.computeGraphData({graphInfo:e,viewState:t,compiled:s,derivative:c})}({bounds:[(e=e.bounds)[0],e[1]],viewState:t,graphInfo:r,compiled:s,derivative:c}),topBranches:[o.computeGraphData({viewState:t,graphInfo:r,compiled:s,derivative:c})]}}}),define("core/types/opacity",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HIGH=t.DEFAULT=t.LOW=void 0,t.LOW=.2,t.DEFAULT=.4,t.HIGH=.8}),define("core/types/slider-loop-modes",["require","exports"],function(e,t){"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.getSliderIcon=t.SliderLoopMode=void 0,(n=r=t.SliderLoopMode||(t.SliderLoopMode={})).LOOP_FORWARD_REVERSE="LOOP_FORWARD_REVERSE",n.LOOP_FORWARD="LOOP_FORWARD",n.PLAY_ONCE="PLAY_ONCE",n.PLAY_INDEFINITELY="PLAY_INDEFINITELY",t.getSliderIcon=function(e){switch(e){case r.LOOP_FORWARD:return"dcg-icon-arrow-one-way";case r.LOOP_FORWARD_REVERSE:return"dcg-icon-arrow-two-way";case r.PLAY_ONCE:return"dcg-icon-arrow-once";case r.PLAY_INDEFINITELY:return"dcg-icon-arrow-infinite"}}}),define("core/types/label-sizes",["require","exports"],function(e,t){"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.maybeMigrateLabelSizeEnumToLatex=t.LabelSize=void 0,(n=r=t.LabelSize||(t.LabelSize={})).SMALL="small",n.MEDIUM="medium",n.LARGE="large",t.maybeMigrateLabelSizeEnumToLatex=function(e){return e===r.SMALL?".85":e===r.MEDIUM?"1":e===r.LARGE?"1.35":void 0}}),define("core/types/label-orientations",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LabelOrientation=void 0,(t=t.LabelOrientation||(t.LabelOrientation={})).DEFAULT="default",t.CENTER="center",t.CENTER_AUTO="center_auto",t.AUTO_CENTER="auto_center",t.ABOVE="above",t.ABOVE_LEFT="above_left",t.ABOVE_RIGHT="above_right",t.ABOVE_AUTO="above_auto",t.BELOW="below",t.BELOW_LEFT="below_left",t.BELOW_RIGHT="below_right",t.BELOW_AUTO="below_auto",t.LEFT="left",t.AUTO_LEFT="auto_left",t.RIGHT="right",t.AUTO_RIGHT="auto_right"}),define("core/lib/default-spec",["require","exports","underscore","core/lib/deepCopy"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.populateDefaults=t.stripDefaultsAndMaybeReturnUndefined=t.stripDefaults=void 0,t.stripDefaults=function(e,t){var n,o={};for(n in t)t.hasOwnProperty(n)&&(r.isEqual(e[n],t[n])||(o[n]=t[n]));return o},t.stripDefaultsAndMaybeReturnUndefined=function(e,t){var n,o=void 0,i={};for(n in t)t.hasOwnProperty(n)&&(r.isEqual(e[n],t[n])||(i[n]=t[n],o=i));return o},t.populateDefaults=function(e,t){t=t||{};var r,o={};for(r in e)e.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(o[r]=n.default(e[r]));for(r in t)t.hasOwnProperty(r)&&(o[r]=t[r]);return o}}),define("core/lib/copy-properties",["require","exports","core/lib/deepCopy"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeTrueMap=t.extractPropertiesLike=t.copyAllProperties=t.copyProperties=void 0,t.copyProperties=function(e){var t,n=e.from,o=e.to,i=e.props;for(t in i)i[t]&&n.hasOwnProperty(t)&&(o[t]=r.default(n[t]))},t.copyAllProperties=function(e,t){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t.extractPropertiesLike=function(e,t){var r,n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=e[r]);return n},t.makeTrueMap=function(e){var t,r={};for(t in e)e.hasOwnProperty(t)&&(r[t]=!0);return r}}),define("core/graphing-calc/json/expression",["require","exports","tslib","core/types/opacity","core/types/styles","core/lib/dragmode","core/types/slider-loop-modes","core/types/label-sizes","core/types/label-orientations","core/lib/default-spec","../../lib/copy-properties"],function(e,t,r,n,o,i,a,s,c,l,u){"use strict";var d,p;function h(e){return u.extractPropertiesLike(e,t.DEFAULTS_DYNAMIC)}Object.defineProperty(t,"__esModule",{value:!0}),t.computeParsableState=t.areDynamicPropertiesStrictEqual=t.extractDynamicProperties=t.stripDefaults=t.inflateDefaults=t.SLIDER_DEFAULTS=t.DEFAULTS=t.DEFAULTS_DYNAMIC=t.DEFAULT_SLIDER_PERIOD=t.EditableLabelMode=t.CLICKABLEINFO_DEFAULTS=t.VIZ_DEFAULTS=t.CDF_DEFAULTS=void 0,t.CDF_DEFAULTS={show:!1,min:"",max:""},t.VIZ_DEFAULTS={breadth:"",axisOffset:"",alignedAxis:"x",showBoxplotOutliers:!0,binAlignment:"center",dotplotXMode:"exact",histogramMode:""},t.CLICKABLEINFO_DEFAULTS={enabled:!1,latex:""},(p=d=t.EditableLabelMode||(t.EditableLabelMode={})).None="NONE",p.Math="MATH",p.Text="TEXT",t.DEFAULT_SLIDER_PERIOD=4e3,t.DEFAULTS_DYNAMIC={polarDomain:{min:"",max:""},parametricDomain:{min:"",max:""},cdf:t.CDF_DEFAULTS,colorLatex:"",description:"",fillOpacity:""+n.DEFAULT,lineOpacity:"",pointOpacity:"",pointSize:"",lineWidth:"",labelAngle:"",vizProps:t.VIZ_DEFAULTS,clickableInfo:t.CLICKABLEINFO_DEFAULTS},t.DEFAULTS=r.__assign(r.__assign({folderId:"",latex:"",color:"",showLabel:!1,label:"",hidden:!1,secret:!1,dragMode:i.DragMode.AUTO,labelSize:"",labelOrientation:c.LabelOrientation.DEFAULT,suppressTextOutline:!1,interactiveLabel:!1,editableLabelMode:d.None,residualVariable:"",isLogModeRegression:!1,pointStyle:o.PointStyle.POINT,lineStyle:o.LineStyle.SOLID,regressionParameters:{},displayEvaluationAsFraction:!1,slider:{}},t.DEFAULTS_DYNAMIC),{points:void 0,lines:void 0,fill:void 0}),t.SLIDER_DEFAULTS={hardMin:!1,hardMax:!1,animationPeriod:t.DEFAULT_SLIDER_PERIOD,loopMode:a.SliderLoopMode.LOOP_FORWARD_REVERSE,playDirection:1,isPlaying:!1,min:"-10",max:"10",step:""},t.inflateDefaults=function(e){return r.__assign(r.__assign(r.__assign({},t.DEFAULTS),e),{slider:r.__assign(r.__assign({},t.SLIDER_DEFAULTS),e.slider),cdf:r.__assign(r.__assign({},t.CDF_DEFAULTS),e.cdf),vizProps:r.__assign(r.__assign({},t.VIZ_DEFAULTS),e.vizProps),clickableInfo:r.__assign(r.__assign({},t.CLICKABLEINFO_DEFAULTS),e.clickableInfo)})},t.stripDefaults=function(e){var n=l.stripDefaults(t.DEFAULTS,r.__assign(r.__assign({},e),{slider:l.stripDefaults(t.SLIDER_DEFAULTS,e.slider)})),o=l.stripDefaultsAndMaybeReturnUndefined(t.CDF_DEFAULTS,e.cdf);return void 0===o?delete n.cdf:n.cdf=o,void 0===(o=l.stripDefaultsAndMaybeReturnUndefined(t.VIZ_DEFAULTS,e.vizProps))?delete n.vizProps:n.vizProps=o,void 0===(e=l.stripDefaultsAndMaybeReturnUndefined(t.CLICKABLEINFO_DEFAULTS,e.clickableInfo))?delete n.clickableInfo:n.clickableInfo=e,n},t.extractDynamicProperties=h,t.areDynamicPropertiesStrictEqual=function(e,r){for(var n in t.DEFAULTS_DYNAMIC)if(t.DEFAULTS_DYNAMIC.hasOwnProperty(n)&&e[n]!==r[n])return!1;return!0},t.computeParsableState=function(e){var t=s.maybeMigrateLabelSizeEnumToLatex(e.labelSize)||e.labelSize;return r.__assign({type:"statement",id:e.id,latex:e.latex,label:e.label,color:e.color,fill:e.fill,points:e.points,lines:e.lines,pointStyle:e.pointStyle,lineStyle:e.lineStyle,dragMode:e.dragMode,labelSize:t,labelOrientation:e.labelOrientation,suppressTextOutline:e.suppressTextOutline,interactiveLabel:e.interactiveLabel,editableLabelMode:e.editableLabelMode,residualVariable:e.residualVariable,regressionParameters:e.regressionParameters,isLogModeRegression:e.isLogModeRegression,showLabel:e.showLabel,shouldGraph:e.hidden,slider:{min:e.slider.hardMin?e.slider.min:"",max:e.slider.hardMax?e.slider.max:"",softMin:e.slider.hardMin?"":e.slider.min,softMax:e.slider.hardMax?"":e.slider.max,step:e.slider.step,isPlayingOnce:e.slider.isPlaying&&e.slider.loopMode===a.SliderLoopMode.PLAY_ONCE}},h(e))}}),define("core/math/features/getListIdx",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getListIdxFromBranchIdx=void 0,t.getListIdxFromBranchIdx=function(e,t){var r;switch(t){case"solvedEquation":r=2;break;case"baseComparator":r=4;break;default:r=1}return Math.floor(e/r)}}),define("core/types/point-size",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MOVABLE_PROJECTOR=t.MOVABLE=t.DOTPLOT_DEFAULT=t.DEFAULT=void 0,t.DEFAULT=9,t.DOTPLOT_DEFAULT=14,t.MOVABLE=22,t.MOVABLE_PROJECTOR=30}),define("core/math/features/graph",["require","exports","parsenodes","core/math/comparators","core/math/parsenode/irexpression","tslib","core/math/errormsg","core/math/builtin","core/math/plotter","core/types/graphmode","core/lib/dragmode","core/math/expression-types","core/math/cdf-branches","core/math/copy-defined-pois","core/math/distribution-spec","core/graphing-calc/json/expression","core/types/opacity","core/lib/color-helpers","core/types/styles","core/math/types","../ir/opcodes","core/math/ir/features/as-value","./getListIdx","core/types/point-size"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g,m,y,v,b,x,w,E,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var k=r.List;function _(e,t,r){for(var n=1/0,o=0,i=t;o<i.length;o++){var a=e[i[o]];Array.isArray(a)&&a.length<n&&(n=a.length)}return t=1,"solvedEquation"===r?t=2:"baseComparator"===r&&(t=4),t*n}function I(e,t,r){return Array.isArray(e)?e[E.getListIdxFromBranchIdx(t,r)]:e}function M(e,t){for(var r=1/0,n=-1/0,o=1/0,i=-1/0,a=0,s=t;a<s.length;a++)for(var c=s[a],l=0;l<c.length;l+=2){var u=c[l],d=c[l+1];u<r&&(r=u),n<u&&(n=u),d<o&&(o=d),i<d&&(i=d)}if(isFinite(r)&&isFinite(o))return{type:e,xmin:r,ymin:o,xmax:n,ymax:i}}function L(e,t){if(void 0!==e&&"binomialdist"===e.symbol&&t instanceof o&&(t=(e=t._chunk).getInstruction(e.returnIndex)).type===x.NativeFunction&&"binompdf"===t.symbol)return w.asValue(e,t.args[1])}function T(e,t,r){var n={};r-=.5*t;for(var o=e.length-1;0<=o;o--){var i=e[o],a=Math.floor((i-r)/t);n[a]?n[a].data.push(i):n[a]={id:a,data:[i],min:a*t+r,max:a*t+r+t,center:a*t+r+t/2}}return n}function C(e){return Array.prototype.concat.apply([],e)}function A(e){for(var t=[],r=[],n=0,o=e;n<o.length;n++){var i=(a=o[n])[0],a=a[1];isNaN(i)||isNaN(a)?(4<=t.length&&r.push(t),t=[]):t.push(i,a)}return 4<=t.length&&r.push(t),r}r.Base.prototype._graph=function(e,t,n,a,u){var m=this;if(t instanceof r.SolvedEquation)return this._graph(e,t._expression,n,a,2===t.branchMultiplier?"solvedEquation":void 0);function v(e){return(e=e.editableLabelMode)===g.EditableLabelMode.Text||e===g.EditableLabelMode.Math}var S=t.getExpressionType(a.graphMode,t.valueType),M=d.getReconciledExpressionProps(S,{points:this.userData.points,lines:this.userData.lines,fill:this.userData.fill});switch(a.graphMode){case l.XYPOINT_MOVABLE:var T=(F=c.dropUndefinedPoints([t.asValue()])).points,C=F.droppedIndices,O=this.userData.shouldGraph&&M.points,P=this.userData.showLabel&&!O;return O?[{segments:[T],graphMode:a.graphMode,droppedIndices:C,color:y.getDisplayColor(this.userData,this.metaData),style:this.userData.pointStyle,showLabel:!!this.userData.showLabel,labelSize:this.metaData.computedLabelSize,labelAngle:this.metaData.computedLabelAngle,labelOrientation:this.userData.labelOrientation,pointOpacity:this.metaData.computedPointOpacity,suppressTextOutline:this.userData.suppressTextOutline,editableLabel:v(this.userData),labels:this.computedLabels||[],poi:h.default(T),movablePointInfo:[]}]:P?[{segments:[T],graphMode:l.XYPOINT,color:y.getDisplayColor(this.userData,this.metaData),style:this.userData.pointStyle,showLabel:!!this.userData.showLabel,nakedLabel:!0,labelSize:this.metaData.computedLabelSize,labelAngle:this.metaData.computedLabelAngle,labelOrientation:this.userData.labelOrientation,pointOpacity:this.metaData.computedPointOpacity,suppressTextOutline:this.userData.suppressTextOutline,editableLabel:v(this.userData),labels:this.computedLabels||[],poi:h.default(T),showPoint:!1}]:[];case l.XYPOINT:var D=[],F=this.userData.shouldGraph&&M.points,N=(O=this.userData.shouldGraph&&M.lines,["colorLatexValue"]);F&&N.push("computedPointOpacity","computedPointSize"),(this.userData.showLabel||F)&&N.push("computedLabelSize","computedLabelAngle");var q=_(this.metaData,N,u);return(C=k.wrap(t).asValue()).length>q&&(C.length=q),P=this.userData.showLabel&&!F&&!O,T=c.dropUndefinedPoints(C),(this.userData.showLabel||F)&&D.push({segments:[T.points],graphMode:a.graphMode,droppedIndices:T.droppedIndices,color:this.metaData.colorLatexValue||this.userData.color,style:this.userData.pointStyle,showLabel:!!this.userData.showLabel,showPoint:F,labelSize:this.metaData.computedLabelSize,labelAngle:this.metaData.computedLabelAngle,labelOrientation:this.userData.labelOrientation,pointSize:this.metaData.computedPointSize,pointOpacity:this.metaData.computedPointOpacity,suppressTextOutline:this.userData.suppressTextOutline,interactiveLabel:!!this.userData.interactiveLabel,editableLabel:v(this.userData),nakedLabel:P,labels:this.computedLabels||[],poi:h.default(C)}),O&&D.push({segments:A(C),graphMode:l.PARAMETRIC,color:y.getDisplayColor(this.userData,this.metaData),style:this.userData.lineStyle,lineWidth:this.metaData.computedLineWidth,lineOpacity:this.metaData.computedLineOpacity,poi:{}}),D;case l.PARAMETRIC:case l.PARAMETRIC_CURVE_3D:var R=this.userData,B=this.metaData,j=[];N=["colorLatexValue"];M.lines&&N.push("computedLineOpacity","computedLineWidth"),M.fill&&N.push("computedFillOpacity");var V=_(this.metaData,N,u);D=k.wrap(t).mapElements(function(t,r){if(V<=r)return{segments:[],poi:{},graphMode:l.X,color:""};var o=E.getListIdxFromBranchIdx(r,u),i=I(m.metaData.computedLineWidth,r,u),s=I(m.metaData.computedLineOpacity,r,u),d=m.metaData.colorLatexValue?I(m.metaData.colorLatexValue,r,u):m.userData.color;if(0===t.getDependencies().length){var p=(r=c.dropUndefinedPoints([t.asValue()])).points;r=r.droppedIndices;return{segments:[p],graphMode:l.XYPOINT,droppedIndices:r,color:y.getDisplayColor(R,B),style:R.lineStyle,lineWidth:i,lineOpacity:s,poi:h.default(p)}}return p=t.getCompiledFunction(),(t=m.getGraphInfo(e,t)).graphMode=a.graphMode,t.domain={min:m.metaData.evaluatedDomainMin,max:m.metaData.evaluatedDomainMax},t.style=m.userData.lineStyle,t.lineWidth=i,t.lineOpacity=s,t.color=d,t.listIndex=o,c.computeGraphData({viewState:n,graphInfo:t,compiled:p})});if(M.fill){if(D.forEach(function(e,t){V<=t||j.push({segments:e.segments,color:m.metaData.colorLatexValue?I(m.metaData.colorLatexValue,t,u):m.userData.color,fillOpacity:I(m.metaData.computedFillOpacity,t,u),listIndex:E.getListIdxFromBranchIdx(t,u),graphMode:l.POLYGONFILL,poi:{}})}),!M.lines)return j;D=D.concat(j)}return D;case l.X:case l.Y:case l.IMPLICIT:case l.POLAR:case l.Z_3D:var U=[],G=t.valueType===b.Number,z=_(this.metaData,["computedLineOpacity","computedLineWidth","colorLatexValue","fillOpacity"],u);return k.wrap(t).eachElement(function(t,r){if(!(z<=r)){var d,h=a.graphMode===l.IMPLICIT||a.graphMode===l.Z_3D?t.getCompiledFunction(["x","y"]):t.getCompiledFunction(),g=f.getFunctionSpecFromTree(m),y=g&&g.discrete,v=function(e,t){if(e&&t instanceof o){var r=t._chunk,n=r.getInstruction(r.returnIndex);if(n.type===x.NativeFunction){if(t=e.discrete?"discreteDistribution":"continuousDistribution","binomialdist"===e.symbol&&"binompdf"===n.symbol){var i=w.asValue(r,n.args[1]),a=w.asValue(r,n.args[2]);return{type:t,xmin:0,xmax:i,ymin:0,ymax:u=s.binompdf(a*i,i,a)}}if("poissondist"===e.symbol&&"poissonpdf"===n.symbol)return{type:t,xmin:0,xmax:2.5*(c=w.asValue(r,n.args[1])),ymin:0,ymax:u=Math.max(s.poissonpdf(Math.floor(c),c),s.poissonpdf(Math.ceil(c),c))};if("normaldist"===e.symbol&&"normalpdf"===n.symbol){var c=w.asValue(r,n.args[1]),l=w.asValue(r,n.args[2]),u=s.normalpdf(c,c,l);return{type:t,xmin:c-2*Math.abs(l),xmax:c+2*Math.abs(l),ymin:0,ymax:u}}if("uniformdist"===e.symbol&&"uniformpdf"===n.symbol)return c=((i=w.asValue(r,n.args[1]))+(a=w.asValue(r,n.args[2])))/2,{type:t,xmin:i-(l=a-i)/3,xmax:a+l/3,ymin:0,ymax:u=s.uniformpdf(c,i,a)};if("tdist"===e.symbol&&"tpdf"===n.symbol)return n=w.asValue(r,n.args[1]),{type:t,xmin:-3,xmax:3,ymin:0,ymax:u=s.tpdf(0,n)}}}}(g,t);try{d=t.getCompiledDerivative()}catch(t){}var b=m.getGraphInfo(e,t);b.listIndex=E.getListIdxFromBranchIdx(r,u),b.graphMode=a.graphMode,b.style=m.userData.lineStyle,b.lineWidth=I(m.metaData.computedLineWidth,r,u),b.lineOpacity=I(m.metaData.computedLineOpacity,r,u);var S=I(m.metaData.computedFillOpacity,r,u);b.fillOpacity=S,a.graphMode===l.POLAR&&(b.domain={min:m.metaData.evaluatedDomainMin,max:m.metaData.evaluatedDomainMax,isExplicit:m.metaData.isExplicitDomain});var k=m.metaData.colorLatexValue?I(m.metaData.colorLatexValue,r,u):m.userData.color;b.color=k;var _,M,T=m.metaData.evaluatedCDFMin,C=m.metaData.evaluatedCDFMax;if(isNaN(T)||isNaN(C)||!G)y?(M=c.computeDiscreteGraphData({viewState:n,graphInfo:b,compiled:h,showPoint:m.userData.shouldGraph,maxOverride:L(g,t)}),v&&(M.boundingBox=v),U.push(M)):(_=void 0===m.userData.lines||m.userData.lines,r={viewState:n,graphInfo:b,compiled:h,derivative:d},M=c.computeGraphData(r),v&&(M.boundingBox=v),M.fillSegments?(M.fillSegments,r=i.__rest(M,["fillSegments"]),_||(r.lineWidth=0),U.push(r)):(_||(M.lineWidth=0),U.push(M)),b.graphMode===l.IMPLICIT&&"="!==b.operator&&U.push({graphMode:l.POLYGONFILL,segments:M.fillSegments,poi:{},listIndex:b.listIndex,color:k,fillOpacity:S}));else if(y){var A,O={viewState:n,graphInfo:b,compiled:h,bounds:[T,C],maxOverride:L(g,t),showPoint:m.userData.shouldGraph},P=(D=p.makeDiscreteCDFTopBranches(O)).cdfTopBranch;(N=D.topBranches).forEach(function(e){e&&v&&(e.boundingBox=v)}),N.every(function(e){return void 0!==e})&&(U=N,P&&P.segments[0].length)&&(A=[],P.segments[0].forEach(function(e){isNaN(e[0])||isNaN(e[1])||A.push([e[0],0,e[0],e[1]])}),U.push({graphMode:l.PARAMETRIC,segments:A,boundingBox:v,poi:{},color:k}))}else{var D;O={viewState:n,graphInfo:b,compiled:h,derivative:d,bounds:[T,C]},P=(D=p.makeContinuousCDFTopBranches(O)).cdfTopBranch;if((N=D.topBranches).forEach(function(e){e&&v&&(e.boundingBox=v)}),U=N,P&&P.segments.length){for(var F,N,q=void 0,R=void 0,B=0;B<P.segments.length;B++)if(4<=(F=P.segments[B]).length){q=F[0];break}for(B=P.segments.length-1;0<=B;B--)if(4<=(F=P.segments[B]).length){R=F[F.length-2];break}void 0!==q&&void 0!==R&&isFinite(q)&&isFinite(R)&&(N=c.polygonsFromSegments(P.segments,[[q,0,R,0]],P.graphMode),U.push({graphMode:l.POLYGONFILL,segments:N,poi:{},color:k}))}}}}),U;case l.POLYGON:D=[];var H=void 0===this.userData.lines||this.userData.lines,W=void 0===this.userData.fill||this.userData.fill;if(!W&&!H)return D;q=_(this.metaData,["computedLineOpacity","computedLineWidth","colorLatexValue","fillOpacity"],u);var K=t.asValue();b.isList(t.valueType)||(K=[K]);for(var $,Y,X,Q,J,Z,ee,te=0;te<K.length;te++)q-1<te||(ee=K[te]).length&&($=this.getGraphInfo(e,t),Y=E.getListIdxFromBranchIdx(te,u),X=I(this.metaData.computedLineWidth,te,u),Q=I(this.metaData.computedLineOpacity,te,u),J=I(this.metaData.computedFillOpacity,te,u),Z=this.metaData.colorLatexValue?I(this.metaData.colorLatexValue,te,u):this.userData.color,(ee=A(ee=i.__spreadArray(i.__spreadArray([],ee),[ee[0]]))).length&&(W&&D.push({segments:ee,graphMode:l.POLYGONFILL,poi:{},color:Z,fillOpacity:J,style:$.style,listIndex:Y}),H&&D.push({segments:ee,graphMode:l.PARAMETRIC,poi:{},color:Z,style:this.userData.lineStyle,lineWidth:X,lineOpacity:Q,listIndex:Y})));return D;case l.POLYGONFILL:case l.VISUALIZATION:case l.OBJECT3D:case l.NONE:case l.ERROR:return!1;default:throw N=a.graphMode,new Error("Unexpected graphMode: "+N)}},r.Base.prototype.tryGraph=function(e,t,n){try{return this.graph(e,t,n)}catch(e){var o=(e instanceof r.Error?e:a.parseError()).getError();return[c.errorBranch(o)]}},r.Base.prototype.graph=function(e,t,r){var n=this.getGraphInfo(e,t);return this._graph(e,t,r,n)},r.BaseComparator.prototype.graph=function(e,t,o){var i=this.getGraphInfo(e,t),a=i.graphMode,s="baseComparator",u=void 0===this.userData.lines||this.userData.lines;if(a===l.IMPLICIT)return this._graph(e,t,o,i);if(a===l.NONE)return!1;if(!(t instanceof r.SolvedEquation))return!1;var d=this.getOperator(),p=[],h=[],f=!0;t._expression.eachElement(function(e){p.push(e.getCompiledFunction());try{h.push(e.getCompiledDerivative())}catch(e){f=!1}}),f||(h=void 0);for(var g=[],m=[-1,0,0,1],y=_(this.metaData,["computedLineWidth","computedLineOpacity","computedFillOpacity","colorLatexValue"],s),v=Math.min(p.length,y),b=0;b<v;b++){var x=this.getGraphInfo(e,t._expression.args[b]);x.graphMode=a,x.listIndex=E.getListIdxFromBranchIdx(b,s),x.style=this.userData.lineStyle,x.color=this.metaData.colorLatexValue?I(this.metaData.colorLatexValue,b,s):this.userData.color,i.graphMode===l.POLAR&&(x.domain={min:this.metaData.evaluatedDomainMin,max:this.metaData.evaluatedDomainMax,isExplicit:this.metaData.isExplicitDomain}),(x=c.computeGraphData({viewState:o,graphInfo:x,compiled:p[b],derivative:h?h[b]:void 0})).lineWidth=I(this.metaData.computedLineWidth,b,s),x.lineOpacity=I(this.metaData.computedLineOpacity,b,s),x.fillOpacity=I(this.metaData.computedFillOpacity,b,s),x.operator=n.get(n.table[d].inclusive,m[b%4]),u||(x.lineWidth=0),g.push(x)}for(b=0;b<v;b+=4){var w=c.polygonsFromSegments(g[b+1].segments,g[b+2].segments,a);g.push({graphMode:l.POLYGONFILL,listIndex:g[b].listIndex,segments:w,poi:{},fillOpacity:g[b].fillOpacity,color:g[b].color})}return g},r.DoubleInequality.prototype.graph=function(e,t,r){var o=this,i=this.getGraphInfo(e,t);if(i.graphMode===l.NONE)return!1;var a=[],s=n.get(n.table[this._operators[0]].inclusive,0),u=n.get(n.table[this._operators[1]].inclusive,0),d=this.userData,p=this.metaData,h=void 0===d.lines||d.lines,f=["colorLatexValue","computedFillOpacity"];h&&f.push("computedLineWidth","computedLineOpacity");var g=_(p,f);return k.eachArgs(t._expressions,function(t,n){var f,m,y,v,b;g<=n||(t[0].userData=t[1].userData=d,t[0].metaData=t[1].metaData=p,f=o.metaData.colorLatexValue?I(p.colorLatexValue,n):d.color,b=I(p.computedLineWidth,n),m=I(p.computedLineOpacity,n),y=I(p.computedFillOpacity,n),(v=o._graph(e,t[0],r,i)[0]).listIndex=n,v.operator=s,v.color=f,v.lineWidth=b,v.lineOpacity=m,a.push(v),(t=o._graph(e,t[1],r,i)[0]).listIndex=n,t.operator=u,t.color=f,t.lineWidth=b,t.lineOpacity=m,a.push(t),b=c.polygonsFromSegments(v.segments,t.segments,v.graphMode),h||(v.lineWidth=0,t.lineWidth=0),a.push({graphMode:l.POLYGONFILL,listIndex:v.listIndex,segments:b,lineOpacity:m,fillOpacity:y,poi:{},color:f}))}),a},r.Regression.prototype.graph=function(e,t,r){var n=this.getGraphInfo(e,t);return this._graph(e,t.model,r,n)},r.Object3D.prototype.graph=function(e,t,r){var n;e=this.getGraphInfo(e,t);return[{segments:[(t=t,n=[],k.wrap(t).eachElement(function(e){n.push(e.args.map(function(e){return e.asValue()}))}),n)],color:e.color,objectName:this._symbol,graphMode:l.OBJECT3D}]},r.Histogram.prototype.graph=function(e,t,r){var n=this.getGraphInfo(e,t),o=T(e=t.args[0].asValue(),t=t.args[1].asValue(),this.userData.vizProps&&"left"===this.userData.vizProps.binAlignment?t/2:0),i=1;this.userData.vizProps&&"density"===this.userData.vizProps.histogramMode?i=1/(e.length*t):this.userData.vizProps&&"relative"===this.userData.vizProps.histogramMode&&(i=1/e.length);var a,s=[],c=[];for(a in o){var u=o[a],d=u.data.length;c.push([u.min,0*i,u.min,d*i,u.max,d*i,u.max,0*i]);var p=0;o[u.id+1]&&(p=o[u.id+1].data.length);var h=[u.min,0*i,u.min,d*i,u.max,d*i];p<d&&h.push(u.max,p*i),s.push(h)}return(e=M("histogram",c))&&t&&(e.binWidth=t),[{segments:c,graphMode:l.POLYGONFILL,boundingBox:e,poi:{},color:n.color,fillOpacity:m.DEFAULT},{segments:s,graphMode:l.Y,poi:{zeros:{x:[],y:[]},extrema:{x:[],y:[]},intercept:{x:[],y:[]}},color:n.color}]},r.DotPlot.prototype.graph=function(e,t,r){var n=this.getGraphInfo(e,t),o=t.args[1].asValue(),i=(e=this.userData.vizProps&&"left"===this.userData.vizProps.binAlignment?o/2:0,T(t.args[0].asValue(),o,e)),a=!1,s=[];for(u in i)for(var c=(p=i[u]).data.length-1;0<=c;c--)p.center!==p.data[c]&&(a=!0);if(this.userData.vizProps&&"exact"===this.userData.vizProps.dotplotXMode)for(var u in i){(f=(p=i[u]).data).reverse();for(var d=0;d<f.length;d++)s.push([f[d],d+1])}else for(var u in i){var p,f=(p=i[u]).data;for(d=0;d<f.length;d++)s.push([p.center,d+1])}return(t=M("dotplot",s))&&o&&(t.ymin=0,t.xmin-=.5*o,t.xmax+=.5*o,t.binWidth=o),o=(e=this.metaData).computedPointOpacity,e=e.computedPointSize,o=I(o,0),e=this.userData.pointSize?I(e,0):S.DOTPLOT_DEFAULT,[{segments:[s],graphMode:l.XYPOINT,boundingBox:t,poi:h.default(s),color:n.color,style:this.userData.pointStyle,pointSize:e,pointOpacity:o,showPoint:!0,needsDotplotXMode:a}]},r.BoxPlot.prototype.graph=function(e,t,r){var n=this.getGraphInfo(e,t),o=this.metaData.evaluatedAxisOffset,i=this.metaData.evaluatedBreadth,a=t.args[0].asValue();if(isNaN(i)||isNaN(o))return!1;var c,u,d=Math.min.apply(null,a),p=Math.max.apply(null,a),f=s.quartile(a,1),g=s.quartile(a,2),m=s.quartile(a,3),y=o,b=(e=y-i/2,t=y+i/2,o=i/10,[]);if(this.userData.vizProps.showBoxplotOutliers&&(c=f-1.5*(i=m-f),u=m+1.5*i,d=1/0,p=-1/0,a.forEach(function(e){c<=e&&e<d&&(d=e),p<e&&e<=u&&(p=e),(e<c||u<e)&&b.push([e,y])})),o=[[f,e,m,e,m,t,f,t,f,e],[g,e,g,t],[f,y,d,y],[m,y,p,y],[d,y-o,d,y+o],[p,y-o,p,y+o]],this.userData.vizProps&&"y"===this.userData.vizProps.alignedAxis){for(var x=0,w=o;x<w.length;x++)for(var E=w[x],S=0;S<E.length;S+=2){var k=E[S];E[S]=E[S+1],E[S+1]=k}for(var _=0,I=b;_<I.length;_++){var L=I[_];k=L[0];L[0]=L[1],L[1]=k}}return o=[{segments:o,graphMode:l.PARAMETRIC,boundingBox:M("boxplot",o.concat(b)),poi:{},color:n.color}],b.length&&o.push({segments:[b],graphMode:l.XYPOINT,color:n.color,style:v.PointStyle.OPEN,showPoint:!0,poi:h.default(b)}),o},r.Table.prototype.isValueDraggable=function(e,t,r){return!!e.columns[t].isIndependent&&!(!(r=(t=this.columns[t].values)&&t[r])||!isFinite(r.asValue())||0!==r.getDependencies().length)},r.Table.prototype.graph=function(e,t,r){var n={};if(t.columns[0].isError)return n;for(var o=t.columns[0],i=o.values,a=1;a<this.columns.length;a++){var s=t.columns[a];if(!s.isError){var c=this.columns[a].header.userData,d=this.columns[a].header.metaData;if(!c.hidden){for(var p=_(d,["colorLatexValue","computedPointSize","computedPointOpacity"]),f=(w=c.dragMode)===u.DragMode.X||w===u.DragMode.XY,g=w===u.DragMode.Y||w===u.DragMode.XY,m=!!c.points,v=!!c.lines,b=s.isDiscrete(o),x=v&&b,w=v&&!b,E=(v=[],[]),S=[],k=[],I=[],M=[],L=1/0,T=-1/0,A=1/0,O=-1/0,P={},D=0;D<i.length;D++){var F=i[D],N=s.values[D];if(F&&N&&isFinite(F.asValue())&&isFinite(N.asValue())){var q=F.asValue(),R=N.asValue();if(m){if(p<=D)continue;F=f&&this.isValueDraggable(t,0,D),N=g&&this.isValueDraggable(t,a,D),F||N?(S.push([q,R]),k.push({index:D,dragX:F,dragY:N})):E.push([q,R])}x&&M.push([q,R]),q<L&&(L=q),T<q&&(T=q),R<A&&(A=R),O<R&&(O=R)}else P[D]=!0,x&&(1<M.length&&I.push(M),M=[])}var B;b={type:"table",xmin:L,xmax:T,ymin:A,ymax:O};S.length&&v.push({graphMode:l.XYPOINT_MOVABLE,segments:[S],color:d.colorLatexValue||c.color,tableId:c.tableId,poi:h.default(S),movablePointInfo:k,boundingBox:b,pointOpacity:d.computedPointOpacity}),E.length&&v.push({segments:[E],droppedIndices:P,graphMode:l.XYPOINT,showPoint:!0,poi:h.default(E),color:d.colorLatexValue||c.color,pointSize:d.computedPointSize,pointOpacity:d.computedPointOpacity,style:c.pointStyle,tableId:c.tableId,boundingBox:b}),(I.length||M.length)&&(I.push(M),v.push({segments:I.map(C),graphMode:l.PARAMETRIC,poi:{},color:y.getDisplayColor(c,d),style:c.lineStyle,lineWidth:Array.isArray(d.computedLineWidth)?d.computedLineWidth[0]:d.computedLineWidth,lineOpacity:Array.isArray(d.computedLineOpacity)?d.computedLineOpacity[0]:d.computedLineOpacity,tableId:c.tableId,boundingBox:b})),w&&(B=this.columns[a].header.graph(e,t.columns[a].continuousConcreteTree,r)).length&&Array.prototype.push.apply(v,B),v.length&&(n[c.id]=v)}}}return n},r.Image.prototype.graph=function(e,t,r){var n=[];if(!(t.center.valueType===b.Point&&0===t.center.getDependencies().length&&t.radianAngle.isConstant&&t.width.isConstant&&t.height.isConstant&&t.opacity.isConstant))return n;for(var o=[],i=[],a=t.width.asValue()/2,s=t.height.asValue()/2,c=t.radianAngle.asValue(),u=-1;u<=1;u++)for(var d=-1;d<=1;d++){var p=t.center.asValue(),f=p[0],g=p[1],m=[f+u*a*Math.cos(c)+d*s*Math.sin(c),g-u*a*Math.sin(c)+d*s*Math.cos(c)];f=u,g=d,(p=t.moveStrategy)&&(0===f&&0===g?"none"!==p[2].type||"none"!==p[3].type:0!==f&&0!==g?"none"!==p[0].type&&"none"!==p[1].type:0!==f?"none"!==p[0].type:0!==g&&"none"!==p[1].type)&&(o.push(m),i.push([u,d]))}return n.push({segments:[o],scaleFactors:[i],graphMode:l.XYPOINT_MOVABLE,color:y.getDisplayColor(this.userData,this.metaData),style:this.userData.style,poi:h.default(o),movablePointInfo:[],pointOpacity:1}),n}}),define("core/math/features/elementAt",["require","parsenodes"],function(e){"use strict";var t=e("parsenodes");t.List.prototype.elementAt=function(e){return 0<=(e=Math.floor(e))&&e<this.args.length?this.args[e]:t.Constant(NaN)},t.List.prototype.eachElement=function(e){for(var t=0;t<this.length;t++)e(this.elementAt(t),t)},t.List.prototype.mapElements=function(e){for(var t=[],r=0;r<this.length;r++)t.push(e(this.elementAt(r),r));return t},t.ParenSeq.prototype.elementAt=function(e){return e<0||e>this.args.length-1?t.Constant(NaN):this.args[e]}}),define("core/math/features/printLatex",["require","parsenodes","core/lib/label","core/lib/number-to-latex"],function(e){"use strict";var t=e("parsenodes"),r=e("core/lib/label"),n=e("core/lib/number-to-latex").default;function o(e){switch(e){case">":return">";case"<":return"<";case">=":return"\\ge ";case"<=":return"\\le ";case"=":return"="}}function i(e){return e.printLatex()}function a(e){return e.isConstant&&!0===e.asValue()}t.Identifier.prototype.printLatex=function(){return r.identifierToLatex(this._symbol)+" "},t.Constant.prototype.printLatex=function(){return n(this.asValue())},t.Ticker.prototype.printLatex=function(){return"\\ticker\\left("+this.args.map(i).join(", ")+"\\right)"},t.Negative.prototype.printLatex=function(){return"-\\left("+this.args[0].printLatex()+"\\right)"},t.Add.prototype.printLatex=function(){return"\\left("+this.args[0].printLatex()+"\\right)+\\left("+this.args[1].printLatex()+"\\right)"},t.PercentOf.prototype.printLatex=function(){return this.args[0].printLatex()+" \\% \\operatorname{of} "+this.args[1].printLatex()},t.Subtract.prototype.printLatex=function(){return"\\left("+this.args[0].printLatex()+"\\right)-\\left("+this.args[1].printLatex()+"\\right)"},t.Multiply.prototype.printLatex=function(){return"\\left("+this.args[0].printLatex()+"\\right)*\\left("+this.args[1].printLatex()+"\\right)"},t.Divide.prototype.printLatex=function(){return"\\frac{"+this.args[0].printLatex()+"}{"+this.args[1].printLatex()+"}"},t.Exponent.prototype.printLatex=function(){return"\\left("+this.args[0].printLatex()+"\\right)^{"+this.args[1].printLatex()+"}"},t.Assignment.prototype.printLatex=function(){return r.identifierToLatex(this._symbol)+"="+this._expression.printLatex()},t.Equation.prototype.printLatex=function(){return this._lhs.printLatex()+"="+this._rhs.printLatex()},t.BaseComparator.prototype.printLatex=function(){return"\\left("+this.args[0].printLatex()+"\\right)"+o(this.operator)+"\\left("+this.args[1].printLatex()+"\\right)"},t.DoubleInequality.prototype.printLatex=function(){return"\\left("+this.args[0].printLatex()+"\\right)"+o(this.args[1])+this.args[2].printLatex()+o(this.args[3])+"\\left("+this.args[4].printLatex()+"\\right)"},t.And.prototype.printLatex=function(){if(!(this.args[0]instanceof t.BaseComparator&&this.args[1]instanceof t.BaseComparator))throw new Error("Not implemented");if(this.args[0].args[1].printLatex()!==this.args[1].args[0].printLatex())throw new Error("Not implemented");return"\\left("+this.args[0].args[0].printLatex()+"\\right)"+o(this.args[0].operator)+"\\left("+this.args[0].args[1].printLatex()+"\\right)"+o(this.args[1].operator)+"\\left("+this.args[1].args[1].printLatex()+"\\right)"},t.FunctionCall.prototype.printLatex=function(){switch(this._symbol){case"sqrt":return"\\sqrt{"+this.args[0].printLatex()+"}";case"nthroot":return"\\sqrt["+this.args[1].printLatex()+"]{"+this.args[0].printLatex()+"}";case"logbase":return"\\log_{"+this.args[1].printLatex()+"}\\left("+this.args[0].printLatex()+"\\right)";default:return r.identifierToLatex(this._symbol)+"\\left("+this.args.map(i).join(", ")+"\\right)"}},t.SeededFunctionCall.prototype.printLatex=function(){return r.identifierToLatex(this._symbol)+"\\left("+this.args.slice(1).map(i).join(", ")+"\\right)"},t.DotAccess.prototype.printLatex=function(){return"("+this.args[0].printLatex()+").("+this.args[1].printLatex()+")"},t.Prime.prototype.printLatex=function(){return"logbase"!==this.args[0]._symbol?r.identifierToLatex(this.args[0]._symbol)+Array(this.order+1).join("'")+"\\left("+this.args[0].args.map(i).join(", ")+"\\right)":"\\log_{"+this.args[0].args[1].printLatex()+"}"+Array(this.order+1).join("'")+"\\left("+this.args[0].args[0].printLatex()+"\\right)"},t.List.prototype.printLatex=function(){return"\\left["+this.args.map(i).join(", ")+"\\right]"},t.Range.prototype.printLatex=function(){return"\\left["+this.args[0].args.map(i).join(", ")+" ... "+this.args[1].args.map(i).join(", ")+"\\right]"},t.UpdateRule.prototype.printLatex=function(){return this.args[0].printLatex()+"\\to("+this.args[1].printLatex()+")"},t.ListAccess.prototype.printLatex=function(){return"\\left("+this.args[0].printLatex()+"\\right)\\left["+this.args[1].printLatex()+"\\right]"},t.ParenSeq.prototype.printLatex=function(){return"\\left("+this.args.map(i).join(", ")+"\\right)"},t.BareSeq.prototype.printLatex=function(){return this.args.map(i).join(", ")},t.Sum.prototype.printLatex=function(){return"\\sum_{"+this.args[0].printLatex()+"="+this.args[1].printLatex()+"}^{"+this.args[2].printLatex()+"}\\left("+this.args[3].printLatex()+"\\right)"},t.Product.prototype.printLatex=function(){return"\\prod_{"+this.args[0].printLatex()+"="+this.args[1].printLatex()+"}^{"+this.args[2].printLatex()+"}\\left("+this.args[3].printLatex()+"\\right)"},t.Integral.prototype.printLatex=function(){return"\\int_{"+this.args[1].printLatex()+"}^{"+this.args[2].printLatex()+"}\\left("+this.args[3].printLatex()+"\\right)d"+this.args[0].printLatex()},t.FunctionExponent.prototype.printLatex=function(){return this.args[0].printLatex()+"\\left("+this.args[1].printLatex()+"\\right)^{"+this.args[2].printLatex()+"}"},t.FunctionFactorial.prototype.printLatex=function(){return this.args[0].printLatex()+"\\left("+this.args[1].printLatex()+"\\right)!"},t.Piecewise.prototype.printLatex=function(){var e=this;if(a(e.args[0]))return e.args[1].printLatex();for(var r,n=["\\left\\{"];;){if(a(e.args[0])){n.push(e.args[1].printLatex());break}if(n.push(e.args[0].printLatex(),": "),(r=e.args[2]).isConstant&&r.isNaN()){n.push(e.args[1].printLatex());break}if(n.push(e.args[1].printLatex(),", "),!(e.args[2]instanceof t.Piecewise)){n.push(e.args[2].printLatex());break}e=e.args[2]}return n.push("\\right\\}"),n.join("")},t.FunctionDefinition.prototype.printLatex=function(){return r.identifierToLatex(this._symbol)+"\\left("+this._argSymbols.map(r.identifierToLatex).join(", ")+"\\right) = "+this._expression.printLatex()},t.Derivative.prototype.printLatex=function(){return"\\frac{d}{d"+r.identifierToLatex(this._symbol)+"}\\left("+this.args[0].printLatex()+"\\right)"},t.Regression.prototype.printLatex=function(){return"\\left("+this._lhs.printLatex()+"\\right)\\sim\\left("+this._rhs.printLatex()+"\\right)"},t.Histogram.prototype.printLatex=function(){return"\\histogram\\left("+this.args.map(i).join(", ")+"\\right)"},t.Object3D.prototype.printLatex=function(){return"\\"+this._symbol+"\\left("+this.args.map(i).join(", ")+"\\right)"},t.DotPlot.prototype.printLatex=function(){return"\\dotplot\\left("+this.args.map(i).join(", ")+"\\right)"},t.BoxPlot.prototype.printLatex=function(){return"\\boxplot\\left("+this.args.map(i).join(", ")+"\\right)"},t.TTest.prototype.printLatex=function(){return"\\TTest\\left("+this.args.map(i).join(", ")+"\\right)"},t.IndependentTTest.prototype.printLatex=function(){return"\\IndependentTTest\\left("+this.args.map(i).join(", ")+"\\right)"},t.Stats.prototype.printLatex=function(){return"\\Stats\\left("+this.args.map(i).join(", ")+"\\right)"},t.AssignmentExpression.prototype.printLatex=function(){return r.identifierToLatex(this._symbol)+"="+this.args[1].printLatex()},t.ListComprehension.prototype.printLatex=function(){return"\\left["+this._body.printLatex()+"\\operatorname{for}"+this._inputLists.map(i).join(", ")+"\\right]"}}),define("core/math/features/getExpressionType",["require","parsenodes","core/types/graphmode","core/math/expression-types","core/math/types"],function(e){"use strict";var t=e("parsenodes"),r=e("core/types/graphmode"),n=e("core/math/expression-types").ExpressionType,o=e("core/math/types");t.Base.prototype.getExpressionType=function(e,t){return e===r.X||e===r.Y?n.X_OR_Y:e===r.XYPOINT||e===r.XYPOINT_MOVABLE?t===o.Point?n.SINGLE_POINT:n.POINT_LIST:e===r.PARAMETRIC||e===r.PARAMETRIC_CURVE_3D?n.PARAMETRIC:e===r.POLAR?n.POLAR:e===r.IMPLICIT?n.IMPLICIT:o.isTypeOrListOfType(t,o.Polygon)?n.POLYGON:n.X_OR_Y},t.Histogram.prototype.getExpressionType=function(e,t){return n.HISTOGRAM},t.Object3D.prototype.getExpressionType=function(e,t){return n.CUBE},t.DotPlot.prototype.getExpressionType=function(e,t){return n.DOTPLOT},t.BoxPlot.prototype.getExpressionType=function(e,t){return n.BOXPLOT}}),define("core/math/parser",["require","exports","tslib","core/math/baseparser","core/math/features/getConcreteTree","core/math/features/buildIRExpression","core/math/features/typeCheck","core/math/features/repr","core/math/features/substitute","core/math/features/simpleFunctionExpression","core/math/features/analyze","core/math/features/analyzeFourFunction","core/math/features/analyzeScientific","core/math/features/analyzeSingleExpressionScientific","core/math/features/getgraphmode","core/math/features/getgraphinfo","core/math/features/getMoveStrategy","core/math/features/getDefaultDragMode","core/math/features/tableinfo","core/math/features/tableerror","core/math/features/graph","core/math/features/elementAt","core/math/features/printLatex","core/math/features/getExpressionType"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.__exportStar(n,t)}),define("lib/named-colors",["require"],function(e){"use strict";return{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}),define("lib/color-distance",["require","underscore","lib/named-colors"],function(e){"use strict";var t=e("underscore"),r=e("lib/named-colors");function n(e){var n,i=[],a=e.toLowerCase();if("rgb"===a.slice(0,3))try{i=a.replace(/[^\d,]/g,"").split(",").slice(0,3),i=t.map(i,function(e){return parseInt(e,10)})}catch(n){o(e)}else if("#"===a[0]){a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/,function(e,t,r,n){return t+t+r+r+n+n});try{i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/.exec(a).slice(1),i=t.map(i,function(e){return parseInt(e,16)})}catch(n){o(e)}}else i=r[a];return n=i,t.isArray(n)&&3===n.length&&t.every(n,function(e){return Number.isInteger(e)&&0<=e&&e<=255})||o(e),{R:i[0],G:i[1],B:i[2]}}function o(e){throw new Error("Invalid color string: "+e)}function i(e){var r=e.R,n=e.G,o=e.B;return(e=[])[0]=.49*r+.31*n+.2*o,e[1]=.17697*r+.8124*n+.01063*o,e[2]=.01*n+.99*o,{X:(e=t.map(e,function(e){return e/.17697}))[0],Y:e[1],Z:e[2]}}function a(e){var t=e.X,r=e.Y,n=e.Z;return(e=[])[0]=116*s(r/100)-16,e[1]=500*(s(t/95.047)-s(r/100)),e[2]=200*(s(r/100)-s(n/108.883)),{L:e[0],a:e[1],b:e[2]}}function s(e){return e>Math.pow(6/29,3)?Math.pow(e,1/3):e/(6/29*3*(6/29))+4/29}function c(e,t){return r=a(i(n(e))),o=a(i(n(t))),s=r.L,c=r.a,l=r.b,e=o.L,t=o.a,r=o.b,o=s-e,e=(s=Math.sqrt(c*c+l*l))-Math.sqrt(t*t+r*r),t=c-t,l-=r,r=o,o=e/(1+.045*s),s=Math.sqrt(t*t+l*l-e*e)/(1+.015*s),Math.sqrt(r*r+o*o+s*s);var r,o,s,c,l}return{str2rgb:n,difference:c,closestColor:function(e,r){var n=t.map(r,function(t){return c(e,t)}),o=t.min(n);return r[n.indexOf(o)]},isLightColor:function(e){if("string"!=typeof e||!e)return!1;try{return c(e,"#fff")<20}catch(e){return!1}}}}),define("expressions/colors",["require","exports","lib/color-distance","core/lib/color-helpers"],function(e,t,r,n){"use strict";function o(e){if(!Array.isArray(e))return[e];for(var t=Array(Math.min(e.length,10)),r=0;r<t.length;r++)t[r]=e[Math.round(r*e.length/t.length)];return t}Object.defineProperty(t,"__esModule",{value:!0}),t.colorValueToBackgroundValue=t.colorValueHasSomeLightColor=t.colorValueHasOnlyLightColor=t.getColorName=t.all=t.BLACK=t.ORANGE=t.PURPLE=t.GREEN=t.BLUE=t.RED=void 0,t.RED=n.colors.RED,t.BLUE=n.colors.BLUE,t.GREEN=n.colors.GREEN,t.PURPLE=n.colors.PURPLE,t.ORANGE=n.colors.ORANGE,t.BLACK=n.colors.BLACK,t.all=[t.RED,t.BLUE,t.GREEN,t.PURPLE,t.ORANGE,t.BLACK],t.getColorName=function(e,t){switch(t){case n.colors.RED:return e.s("graphing-calculator-text-color-red");case n.colors.BLUE:return e.s("graphing-calculator-text-color-blue");case n.colors.GREEN:return e.s("graphing-calculator-text-color-green");case n.colors.PURPLE:return e.s("graphing-calculator-text-color-purple");case n.colors.ORANGE:return e.s("graphing-calculator-text-color-orange");case n.colors.BLACK:return e.s("graphing-calculator-text-color-black");case n.colors.GRAY:return e.s("graphing-calculator-text-color-gray");default:return e.s("graphing-calculator-text-color-unknown")}},t.colorValueHasOnlyLightColor=function(e){return o(e).every(r.isLightColor)},t.colorValueHasSomeLightColor=function(e){return o(e).some(r.isLightColor)},t.colorValueToBackgroundValue=function(e){if(0===(e=o(e)).length)return n.colors.BLACK;if(1===e.length)return e[0];var t=30/e.length;return"linear-gradient(to right"+e.reduce(function(e,r,n){return e+", "+r+" "+n*t+"px, "+r+" "+(n+1)*t+"px"},"")+")"}}),define("graphing-calc/api/sanitize-expression",["require","exports","core/types/styles","core/lib/dragmode","core/types/label-sizes","core/types/label-orientations","core/lib/number-to-latex","lib/console"],function(e,t,r,n,o,i,a,s){"use strict";function c(e,t){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e)return!0;return!1}function l(e){return c(e,t.SanitizedPointStyle)}function u(e){return c(e,t.SanitizedLineStyle)}function d(e){return c(e,t.SanitizedDragMode)}function p(e){return{id:e.id,latex:e.latex,color:e.color,hidden:e.hidden,pointStyle:e.pointStyle,pointSize:e.pointSize,pointOpacity:e.pointOpacity,lineStyle:e.lineStyle,lineWidth:e.lineWidth,lineOpacity:e.lineOpacity,points:e.points,lines:e.lines,dragMode:e.dragMode,values:e.values.slice()}}function h(e,t){return e.hasOwnProperty("id")?e.id+"":t.generateId()}Object.defineProperty(t,"__esModule",{value:!0}),t.validateItem=t.sanitizeItem=t.SanitizedLabelOrientation=t.SanitizedLabelSize=t.SanitizedColumnMode=t.SanitizedDragMode=t.SanitizedLineStyle=t.SanitizedPointStyle=void 0,t.SanitizedPointStyle={OPEN:r.PointStyle.OPEN,CROSS:r.PointStyle.CROSS,POINT:r.PointStyle.POINT},t.SanitizedLineStyle={SOLID:r.LineStyle.SOLID,DASHED:r.LineStyle.DASHED,DOTTED:r.LineStyle.DOTTED},t.SanitizedDragMode={NONE:n.DragMode.NONE,AUTO:n.DragMode.AUTO,X:n.DragMode.X,Y:n.DragMode.Y,XY:n.DragMode.XY},t.SanitizedColumnMode={POINTS:"POINTS",LINES:"LINES",POINTS_AND_LINES:"POINTS_AND_LINES"},t.SanitizedLabelSize={SMALL:o.LabelSize.SMALL,MEDIUM:o.LabelSize.MEDIUM,LARGE:o.LabelSize.LARGE},t.SanitizedLabelOrientation={DEFAULT:i.LabelOrientation.DEFAULT,CENTER:i.LabelOrientation.CENTER,CENTER_AUTO:i.LabelOrientation.CENTER_AUTO,AUTO_CENTER:i.LabelOrientation.AUTO_CENTER,ABOVE:i.LabelOrientation.ABOVE,ABOVE_LEFT:i.LabelOrientation.ABOVE_LEFT,ABOVE_RIGHT:i.LabelOrientation.ABOVE_RIGHT,ABOVE_AUTO:i.LabelOrientation.ABOVE_AUTO,BELOW:i.LabelOrientation.BELOW,BELOW_LEFT:i.LabelOrientation.BELOW_LEFT,BELOW_RIGHT:i.LabelOrientation.BELOW_RIGHT,BELOW_AUTO:i.LabelOrientation.BELOW_AUTO,LEFT:i.LabelOrientation.LEFT,AUTO_LEFT:i.LabelOrientation.AUTO_LEFT,RIGHT:i.LabelOrientation.RIGHT,AUTO_RIGHT:i.LabelOrientation.AUTO_RIGHT},t.sanitizeItem=function(e){switch(e.type){case"expression":return r={id:(t=e).id,type:t.type},["latex","color","lineStyle","lineWidth","lineOpacity","pointStyle","pointSize","pointOpacity","points","lines","fill","fillOpacity","hidden","secret","dragMode","label","showLabel","labelSize","labelOrientation","interactiveLabel"].forEach(function(e){t.hasOwnProperty(e)&&(r[e]=t[e])}),t.hasOwnProperty("parametricDomain")&&(r.parametricDomain={min:t.parametricDomain.min,max:t.parametricDomain.max}),t.hasOwnProperty("polarDomain")&&(r.polarDomain={min:t.polarDomain.min,max:t.polarDomain.max}),t.hasOwnProperty("domain")&&(r.domain={min:t.domain.min,max:t.domain.max}),t.slider&&(t.slider.hardMin&&(r.sliderBounds=r.sliderBounds||{},r.sliderBounds.min=t.slider.min),t.slider.hardMax&&(r.sliderBounds=r.sliderBounds||{},r.sliderBounds.max=t.slider.max),t.slider.step&&(r.sliderBounds=r.sliderBounds||{},r.sliderBounds.step=t.slider.step),r.playing=!!t.slider.isPlaying),r;case"table":return{id:e.id,type:e.type,columns:e.columns.map(p)};case"folder":case"image":return{id:e.id,type:e.type,hidden:e.hidden,secret:e.secret};case"text":return{id:e.id,type:e.type,secret:e.secret};default:return e}var t,r},t.validateItem=function(e,r,o){var i,p,f,g,m,y,v=e.type;if(r&&v&&v!==r)s.warn("Cannot change type of expression from '"+r+"' to '"+v+"'.");else switch(v){case void 0:case"expression":return(y={type:"expression",id:h(g=e,m=o)}).type="expression",y.id=h(g,m),g.hasOwnProperty("latex")&&(y.latex=g.latex+""),g.hasOwnProperty("color")&&(y.color=g.color+""),g.hasOwnProperty("points")&&(y.points=!!g.points),g.hasOwnProperty("lines")&&(y.lines=!!g.lines),g.hasOwnProperty("style")&&(s.warn("As of API v1.1 the 'style' property is deprecated and has been split into 'pointStyle' and 'lineStyle'."),l(g.style)?y.pointStyle=g.style:u(g.style)?y.lineStyle=g.style:s.warn("Invalid style: '"+g.style+"'.")),g.hasOwnProperty("pointStyle")&&(l(g.pointStyle)?y.pointStyle=g.pointStyle:s.warn("Invalid pointStyle: '"+g.pointStyle+"'.")),g.hasOwnProperty("pointSize")&&(y.pointSize=""+g.pointSize),g.hasOwnProperty("pointOpacity")&&(y.pointOpacity=""+g.pointOpacity),g.hasOwnProperty("lineStyle")&&(u(g.lineStyle)?y.lineStyle=g.lineStyle:s.warn("Invalid lineStyle: '"+g.lineStyle+"'.")),g.hasOwnProperty("lineWidth")&&(y.lineWidth=""+g.lineWidth),g.hasOwnProperty("lineOpacity")&&(y.lineOpacity=""+g.lineOpacity),g.hasOwnProperty("hidden")&&(y.hidden=!!g.hidden),g.hasOwnProperty("secret")&&(y.secret=!!g.secret),g.hasOwnProperty("sliderBounds")&&g.sliderBounds&&(y.slider={min:a.default(g.sliderBounds.min),max:a.default(g.sliderBounds.max),step:a.default(g.sliderBounds.step)},y.slider.min&&(y.slider.hardMin=!0),y.slider.max&&(y.slider.hardMax=!0)),g.hasOwnProperty("playing")&&("boolean"!=typeof(m=g.playing)?s.warn("Invalid value for 'playing'. Expected a boolean but got '"+m+"'."):(y.slider||(y.slider={}),y.slider.isPlaying=m)),g.hasOwnProperty("parametricDomain")&&g.parametricDomain?(y.parametricDomain={min:a.default(g.parametricDomain.min),max:a.default(g.parametricDomain.max)},g.hasOwnProperty("domain")&&s.warn("Both 'parametricDomain' and the deprecated 'domain' property were specified. Using 'parametricDomain'.")):g.hasOwnProperty("domain")&&(s.warn("The 'domain' property is deprecated.Use 'parametricDomain' to specify the domain for parametric functions"),y.parametricDomain={min:a.default(g.domain.min),max:a.default(g.domain.max)}),g.hasOwnProperty("polarDomain")&&g.polarDomain&&(y.polarDomain={min:a.default(g.polarDomain.min),max:a.default(g.polarDomain.max)}),g.hasOwnProperty("dragMode")&&(d(g.dragMode)?y.dragMode=g.dragMode:s.warn("Invalid dragMode: '"+g.dragMode+"'.")),g.hasOwnProperty("label")&&(y.label=g.label+""),g.hasOwnProperty("showLabel")&&(y.showLabel=!!g.showLabel),g.hasOwnProperty("labelSize")&&("string"==typeof g.labelSize?y.labelSize=g.labelSize:s.warn("Invalid labelSize: "+g.labelSize)),g.hasOwnProperty("labelOrientation")&&(c(g.labelOrientation,t.SanitizedLabelOrientation)?y.labelOrientation=g.labelOrientation:s.warn("Invalid labelOrientation: "+g.labelOrientation)),g.hasOwnProperty("fill")&&(y.fill=!!g.fill),g.hasOwnProperty("fillOpacity")&&(y.fillOpacity=""+g.fillOpacity),y;case"image":return y={type:"image",id:h(g=e,o)},g.hasOwnProperty("hidden")&&(y.hidden=!!g.hidden),y;case"table":return f={type:"table",id:h(i=e,p=o)},i.hasOwnProperty("columns")&&i.columns&&(f.columns=i.columns.map(function(e){return e={id:h(r=e,e=p)},r.hasOwnProperty("latex")&&(e.latex=r.latex+""),r.hasOwnProperty("color")&&(e.color=r.color+""),r.hasOwnProperty("hidden")&&(e.hidden=!!r.hidden),r.hasOwnProperty("points")&&(e.points=!!r.points),r.hasOwnProperty("lines")&&(e.lines=!!r.lines),r.hasOwnProperty("values")&&r.values&&(e.values=r.values.map(function(e){return e+""})),r.hasOwnProperty("pointStyle")&&(l(r.pointStyle)?e.pointStyle=r.pointStyle:s.warn("Invalid pointStyle: '"+r.pointStyle+"'.")),r.hasOwnProperty("pointSize")&&(e.pointSize=""+r.pointSize),r.hasOwnProperty("pointOpacity")&&(e.pointOpacity=""+r.pointOpacity),r.hasOwnProperty("lineStyle")&&(u(r.lineStyle)?e.lineStyle=r.lineStyle:s.warn("Invalid lineStyle: '"+r.lineStyle+"'.")),r.hasOwnProperty("lineWidth")&&(e.lineWidth=""+r.lineWidth),r.hasOwnProperty("lineOpacity")&&(e.lineOpacity=""+r.lineOpacity),r.hasOwnProperty("columnMode")&&(s.warn("As of API v1.1 the 'columnMode' property is deprecated and has been split into individual 'points' and 'lines' properties."),r.columnMode===t.SanitizedColumnMode.POINTS_AND_LINES?(e.points=!0,e.lines=!0):r.columnMode===t.SanitizedColumnMode.LINES?(e.points=!1,e.lines=!0):(e.points=!0,e.lines=!1),e.lines&&!e.points&&r.hasOwnProperty("dragMode")&&r.dragMode!==n.DragMode.NONE&&(s.warn("A 'lines' value of true and 'points' value of false is only compatible with a dragMode of 'NONE'. Proceeding by setting 'points' to true."),e.points=!0),c(r.columnMode,t.SanitizedColumnMode)&&s.warn("Invalid columnMode: '"+r.columnMode+"'.")),r.hasOwnProperty("dragMode")&&(d(r.dragMode)?e.dragMode=r.dragMode===n.DragMode.AUTO?n.DragMode.NONE:r.dragMode:s.warn("Invalid dragMode: '"+r.dragMode+"'.")),e;var r})),f;case"folder":return f={type:"folder",id:h(i=e,o)},i.hasOwnProperty("hidden")&&(f.hidden=!!i.hidden),f;default:return r?void s.warn("Cannot modify expressions of type: '"+r+"' through the API."):void s.warn("Invalid expression type: '"+v+"'.")}}}),define("core/graphing-calc/json/graph-settings",["require","exports","tslib"],function(e,t,r){"use strict";var n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.isGraphSetting=t.publicGraphSettings=t.DefaultGraphSettings=t.AxisArrowModes=void 0,(o=n=t.AxisArrowModes||(t.AxisArrowModes={})).NONE="NONE",o.POSITIVE="POSITIVE",o.BOTH="BOTH";var i={showGrid:!0,showXAxis:!0,showYAxis:!0,xAxisStep:0,yAxisStep:0,xAxisMinorSubdivisions:0,yAxisMinorSubdivisions:0,xAxisArrowMode:n.NONE,yAxisArrowMode:n.NONE,xAxisLabel:"",yAxisLabel:"",xAxisNumbers:!0,yAxisNumbers:!0,polarMode:!1,polarNumbers:!0,degreeMode:!1,randomSeed:"",restrictGridToFirstQuadrant:!1,userLockedViewport:!1};t.DefaultGraphSettings=r.__assign(r.__assign({},i),{squareAxes:!0}),t.publicGraphSettings=Object.keys(i),t.isGraphSetting=function(e){return e in i}}),define("main/font_sizes",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERY_LARGE=t.LARGE=t.MEDIUM=t.SMALL=t.VERY_SMALL=void 0,t.VERY_SMALL=9,t.SMALL=12,t.MEDIUM=16,t.LARGE=20,t.VERY_LARGE=24}),function(e){"use strict";var t=function(e,r,n){var o,i,a=document.createElement("img");if(a.onerror=r,a.onload=function(){!i||n&&n.noRevoke||t.revokeObjectURL(i),r&&r(t.scale(a,n))},t.isInstanceOf("Blob",e)||t.isInstanceOf("File",e))o=i=t.createObjectURL(e),a._type=e.type;else{if("string"!=typeof e)return!1;o=e,n&&n.crossOrigin&&(a.crossOrigin=n.crossOrigin)}return o?(a.src=o,a):t.readFile(e,function(e){var t=e.target;t&&t.result?a.src=t.result:r&&r(e)})},r=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;t.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},t.transformCoordinates=function(){},t.getTransformedOptions=function(e){return e},t.renderImageToCanvas=function(e,t,r,n,o,i,a,s,c,l){return e.getContext("2d").drawImage(t,r,n,o,i,a,s,c,l),e},t.hasCanvasOption=function(e){return e.canvas||e.crop},t.scale=function(e,r){function n(){var e=Math.max((s||v)/v,(c||b)/b);1<e&&(v=Math.ceil(v*e),b=Math.ceil(b*e))}function o(){var e=Math.min((i||v)/v,(a||b)/b);e<1&&(v=Math.ceil(v*e),b=Math.ceil(b*e))}r=r||{};var i,a,s,c,l,u,d,p,h,f=document.createElement("canvas"),g=e.getContext||t.hasCanvasOption(r)&&f.getContext,m=e.naturalWidth||e.width,y=e.naturalHeight||e.height,v=m,b=y;return g&&(d=(r=t.getTransformedOptions(r)).left||0,p=r.top||0,r.sourceWidth?(l=r.sourceWidth,void 0!==r.right&&void 0===r.left&&(d=m-l-r.right)):l=m-d-(r.right||0),r.sourceHeight?(u=r.sourceHeight,void 0!==r.bottom&&void 0===r.top&&(p=y-u-r.bottom)):u=y-p-(r.bottom||0),v=l,b=u),i=r.maxWidth,a=r.maxHeight,s=r.minWidth,c=r.minHeight,g&&i&&a&&r.crop?(h=l/u-(v=i)/(b=a))<0?(u=a*l/i,void 0===r.top&&void 0===r.bottom&&(p=(y-u)/2)):0<h&&(l=i*u/a,void 0===r.left&&void 0===r.right&&(d=(m-l)/2)):((r.contain||r.cover)&&(s=i=i||s,c=a=a||c),r.cover?(o(),n()):(n(),o())),g?(f.width=v,f.height=b,t.transformCoordinates(f,r),t.renderImageToCanvas(f,e,d,p,l,u,0,0,v,b)):(e.width=v,e.height=b,e)},t.createObjectURL=function(e){return!!r&&r.createObjectURL(e)},t.revokeObjectURL=function(e){return!!r&&r.revokeObjectURL(e)},t.readFile=function(e,t,r){if(window.FileReader){var n=new FileReader;if(n.onload=n.onerror=t,n[r=r||"readAsDataURL"])return n[r](e),n}return!1},"function"==typeof define&&define.amd?define("vendor/load-image/load-image",[],function(){return t}):e.loadImage=t}(this),function(e){"use strict";"function"==typeof define&&define.amd?define("vendor/load-image/load-image-orientation",["./load-image"],e):e(window.loadImage)}(function(e){"use strict";var t=e.hasCanvasOption;e.hasCanvasOption=function(e){return t(e)||e.orientation},e.transformCoordinates=function(e,t){var r=e.getContext("2d"),n=e.width,o=e.height;if(t=t.orientation)switch(4<t&&(e.width=o,e.height=n),t){case 2:r.translate(n,0),r.scale(-1,1);break;case 3:r.translate(n,o),r.rotate(Math.PI);break;case 4:r.translate(0,o),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-o);break;case 7:r.rotate(.5*Math.PI),r.translate(n,-o),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-n,0)}},e.getTransformedOptions=function(e){if(!e.orientation||1===e.orientation)return e;var t,r={};for(t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);switch(e.orientation){case 2:r.left=e.right,r.right=e.left;break;case 3:r.left=e.right,r.top=e.bottom,r.right=e.left,r.bottom=e.top;break;case 4:r.top=e.bottom,r.bottom=e.top;break;case 5:r.left=e.top,r.top=e.left,r.right=e.bottom,r.bottom=e.right;break;case 6:r.left=e.top,r.top=e.right,r.right=e.bottom,r.bottom=e.left;break;case 7:r.left=e.bottom,r.top=e.right,r.right=e.top,r.bottom=e.left;break;case 8:r.left=e.bottom,r.top=e.left,r.right=e.top,r.bottom=e.right}return 4<e.orientation&&(r.maxWidth=e.maxHeight,r.maxHeight=e.maxWidth,r.minWidth=e.minHeight,r.minHeight=e.minWidth,r.sourceWidth=e.sourceHeight,r.sourceHeight=e.sourceWidth),r}}),function(e){"use strict";"function"==typeof define&&define.amd?define("vendor/load-image/load-image-meta",["./load-image"],e):e(window.loadImage)}(function(e){"use strict";var t=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=t&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[]}},e.parseMetaData=function(t,r,n){var o=this,i=(n=n||{}).maxMetaDataSize||262144,a={};window.DataView&&t&&12<=t.size&&"image/jpeg"===t.type&&e.blobSlice&&e.readFile(e.blobSlice.call(t,0,i),function(t){t=t.target.result;var i,s,c,l,u=new DataView(t),d=2,p=u.byteLength-4,h=d;if(65496===u.getUint16(0)){for(;d<p&&(65504<=(i=u.getUint16(d))&&i<=65519||65534===i);){if(d+(s=u.getUint16(d+2)+2)>u.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(c=e.metaDataParsers.jpeg[i])for(l=0;l<c.length;l+=1)c[l].call(o,u,d,s,a,n);h=d+=s}!n.disableImageHead&&6<h&&(t.slice?a.imageHead=t.slice(0,h):a.imageHead=new Uint8Array(t).subarray(0,h))}else console.log("Invalid JPEG file: Missing JPEG marker.");r(a)},"readAsArrayBuffer")||r(a)}}),function(e){"use strict";"function"==typeof define&&define.amd?define("vendor/load-image/load-image-ios",["./load-image"],e):e(window.loadImage)}(function(e){"use strict";var t;window.navigator&&window.navigator.platform&&/iP(hone|od|ad)/.test(window.navigator.platform)&&(t=e.renderImageToCanvas,e.detectSubsampling=function(e){var t;return 1048576<e.width*e.height&&((t=document.createElement("canvas")).width=t.height=1,(t=t.getContext("2d")).drawImage(e,1-e.width,0),0===t.getImageData(0,0,1,1).data[3])},e.detectVerticalSquash=function(e,t){var r,n,o,i,a=e.naturalHeight||e.height,s=document.createElement("canvas"),c=s.getContext("2d");for(t&&(a/=2),s.width=1,s.height=a,c.drawImage(e,0,0),r=c.getImageData(0,0,1,a).data,n=0,i=o=a;n<i;)0===r[4*(i-1)+3]?o=i:n=i,i=o+n>>1;return i/a||1},e.renderImageToCanvas=function(r,n,o,i,a,s,c,l,u,d){if("image/jpeg"===n._type){var p,h,f,g,m=r.getContext("2d"),y=document.createElement("canvas"),v=1024,b=y.getContext("2d");if(y.width=v,y.height=v,m.save(),(p=e.detectSubsampling(n))&&(o/=2,i/=2,a/=2,s/=2),h=e.detectVerticalSquash(n,p),p||1!==h){for(i*=h,u=Math.ceil(v*u/a),d=Math.ceil(v*d/s/h),g=l=0;g<s;){for(f=c=0;f<a;)b.clearRect(0,0,v,v),b.drawImage(n,o,i,a,s,-f,-g,a,s),m.drawImage(y,0,0,v,v,c,l,u,d),f+=v,c+=u;g+=v,l+=d}return m.restore(),r}}return t(r,n,o,i,a,s,c,l,u,d)})}),function(e){"use strict";"function"==typeof define&&define.amd?define("vendor/load-image/load-image-exif",["./load-image","./load-image-meta"],e):e(window.loadImage)}(function(e){"use strict";e.ExifMap=function(){return this},e.ExifMap.prototype.map={Orientation:274},e.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.getExifThumbnail=function(e,t,r){var n,o,i;if(r&&!(t+r>e.byteLength)){for(n=[],o=0;o<r;o+=1)i=e.getUint8(t+o),n.push((i<16?"0":"")+i.toString(16));return"data:image/jpeg,%"+n.join("%")}console.log("Invalid Exif data: Invalid thumbnail data.")},e.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,r){return e.getUint16(t,r)},size:2},4:{getValue:function(e,t,r){return e.getUint32(t,r)},size:4},5:{getValue:function(e,t,r){return e.getUint32(t,r)/e.getUint32(t+4,r)},size:8},9:{getValue:function(e,t,r){return e.getInt32(t,r)},size:4},10:{getValue:function(e,t,r){return e.getInt32(t,r)/e.getInt32(t+4,r)},size:8}},e.exifTagTypes[7]=e.exifTagTypes[1],e.getExifValue=function(t,r,n,o,i,a){var s,c,l,u,d,p=e.exifTagTypes[o];if(p){if(!((s=4<(o=p.size*i)?r+t.getUint32(n+8,a):n+8)+o>t.byteLength)){if(1===i)return p.getValue(t,s,a);for(c=[],l=0;l<i;l+=1)c[l]=p.getValue(t,s+l*p.size,a);if(p.ascii){for(u="",l=0;l<c.length&&"\0"!==(d=c[l]);l+=1)u+=d;return u}return c}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")},e.parseExifTag=function(t,r,n,o,i){var a=t.getUint16(n,o);i.exif[a]=e.getExifValue(t,r,n,t.getUint16(n+2,o),t.getUint32(n+4,o),o)},e.parseExifTags=function(e,t,r,n,o){var i,a,s;if(r+6>e.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((a=r+2+12*(i=e.getUint16(r,n)))+4>e.byteLength)){for(s=0;s<i;s+=1)this.parseExifTag(e,t,r+2+12*s,n,o);return e.getUint32(a,n)}console.log("Invalid Exif data: Invalid directory size.")}},e.parseExifData=function(t,r,n,o,i){if(!i.disableExif){var a,s,c=r+10;if(1165519206===t.getUint32(r+4))if(c+8>t.byteLength)console.log("Invalid Exif data: Invalid segment size.");else if(0===t.getUint16(r+8)){switch(t.getUint16(c)){case 18761:a=!0;break;case 19789:a=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}42===t.getUint16(c+2,a)?(s=t.getUint32(c+4,a),o.exif=new e.ExifMap,(s=e.parseExifTags(t,c,c+s,a,o))&&!i.disableExifThumbnail&&(r={exif:{}},e.parseExifTags(t,c,c+s,a,r),r.exif[513]&&(o.exif.Thumbnail=e.getExifThumbnail(t,c+r.exif[513],r.exif[514]))),o.exif[34665]&&!i.disableExifSub&&e.parseExifTags(t,c,c+o.exif[34665],a,o),o.exif[34853]&&!i.disableExifGps&&e.parseExifTags(t,c,c+o.exif[34853],a,o)):console.log("Invalid Exif data: Missing TIFF marker.")}else console.log("Invalid Exif data: Missing byte alignment offset.")}},e.metaDataParsers.jpeg[65505].push(e.parseExifData)}),function(e){"use strict";"function"==typeof define&&define.amd?define("vendor/load-image/load-image-exif-map",["./load-image","./load-image-exif"],e):e(window.loadImage)}(function(e){"use strict";e.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},e.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},e.ExifMap.prototype.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},function(e){var t,r=e.tags,n=e.map;for(t in r)r.hasOwnProperty(t)&&(n[r[t]]=t)}(e.ExifMap.prototype),e.ExifMap.prototype.getAll=function(){var e,t,r={};for(e in this)this.hasOwnProperty(e)&&(t=this.tags[e])&&(r[t]=this.getText(t));return r}}),define("loadImage",["require","vendor/load-image/load-image-orientation","vendor/load-image/load-image-meta","vendor/load-image/load-image-ios","vendor/load-image/load-image-exif","vendor/load-image/load-image-exif-map","vendor/load-image/load-image"],function(e){"use strict";return e("vendor/load-image/load-image-orientation"),e("vendor/load-image/load-image-meta"),e("vendor/load-image/load-image-ios"),e("vendor/load-image/load-image-exif"),e("vendor/load-image/load-image-exif-map"),e("vendor/load-image/load-image")}),define("expressions/image_file_to_data_url",["require","exports","loadImage"],function(e,t,r){"use strict";function n(e,t){for(var r,n=[.92,.86,.8,.7,.6,.5,.4,.3,.2,.1],o=0;o<n.length;o++)if((r=e.toDataURL("image/jpeg",n[o])).length<t)return r;return r}Object.defineProperty(t,"__esModule",{value:!0}),t.imageFileToDataURL=void 0,t.imageFileToDataURL=function(e,t){r(e,function(r){var o;r.toDataURL?("image/jpeg"===e.type?o=n(r,2e5):2e5<(o=r.toDataURL()).length&&(o=o.length>.75*r.width*r.height&&!function(e){for(var t=e.getContext("2d").getImageData(0,0,e.width,e.height).data,r=3;r<t.length;r+=4)if(255!==t[r])return 1}(r)?n(r,2e5):function(e){for(var t,r=e.toDataURL().length,n=e.width,o=e.height,i=document.createElement("canvas"),a=0;a<2;a++){var s=Math.sqrt(2e5/r);n=Math.round(s*n),o=Math.round(s*o);if(i.height=o,i.width=n,i.getContext("2d").drawImage(e,0,0,n,o),(r=(t=i.toDataURL()).length)<2e5)return t}return t}(r)),t(null,o)):t(!0)},{orientation:!0,canvas:!0,maxWidth:1600,maxHeight:1600})}}),define("main/graph_settings",["require","pjs","underscore","underscore_model","core/graphing-calc/json/graph-settings","console","core/graphing-calc/json/graph-settings","core/lib/color-helpers"],function(e){"use strict";var t=e("pjs"),r=e("underscore"),n=e("underscore_model").UnderscoreModel,o=e("core/graphing-calc/json/graph-settings").AxisArrowModes,i=e("console"),a=e("core/graphing-calc/json/graph-settings").DefaultGraphSettings,s=e("core/lib/color-helpers"),c=t(n,function(e,t,l){e.init=function(){for(var e in t.init.call(this),this.stateProperties=[],this.cloneProperties=[],this.highlightPropertyMultipliers={},this.config=new n,a)a.hasOwnProperty(e)&&this.addStateProperty(e,a[e]);this.labelHangingColor="rgba(150,150,150,1)",this.lastChangedAxis="x";var r=this;function o(e,t,n){function o(){r.setProperty(e,r.config.projectorMode?n:t)}r.cloneProperties.push(e),r.config.observe("projectorMode",o),o()}function i(e,t,n,o,i){function a(){var a=r.config.projectorMode?r.highlight?i:o:r.highlight?n:t;r.setProperty(e,a)}r.cloneProperties.push(e);var s=[t,n,o,i];r.highlightPropertyMultipliers[e]=s.map(function(e){return e/s[0]}),r.observe("highlight",a),r.config.observe("projectorMode",a),a()}o("labelSize",14,19),o("majorAxisOpacity",.4,1),o("minorAxisOpacity",.12,.25),o("axisOpacity",.9,.9),o("axisLineWidth",1.5,2),o("axisLineOffset",.25,0),o("pixelsPerLabel",80,120),i("curveOpacity",.7,1,.7,1),o("globalCurveColor",void 0,void 0),o("disableFill",!1,!1),i("graphLineWidth",2.5,3.5,5,7),i("pointLineWidth",9,11,15,17)},e.getHighlightPropertyMultiplier=function(e,t){return t=t?1:0,this.config.projectorMode?this.highlightPropertyMultipliers[e][2+t]:this.highlightPropertyMultipliers[e][t]},e.addStateProperty=function(e,t){this[e]=t,this.stateProperties.push(e),this.cloneProperties.push(e)},l.fromObject=function(e){var t=c();return t.cloneProperties.forEach(function(r){e.hasOwnProperty(r)&&t.setProperty(r,e[r])}),t},e.registerCallbacks=function(e,t){function r(){e.redrawAllLayers()}var n=this;this.stateProperties.forEach(function(e){n.observe(e,r)}),this.config.observe("backgroundColor",r),this.config.observe("textColor",r),this.config.observe("invertedColors",r),this.observe("squareAxes",function(){e.viewportController.enforceSquareAxes()}),this.observe("backgroundColor",function(){e.redrawAllLayers()}),this.observe("textColor",function(){e.redrawAllLayers()}),this.config.observe("enableTabindex",function(){e.redrawAllLayers()}),this.config.observeAndSync("projectorMode",function(){e.redrawAllLayers()})},e._validateSettings=function(e){var t,n={},a=!1;for(t in e)0<=this.stateProperties.indexOf(t)?n[t]=function(e,t){var n;switch(e){case"xAxisMinorSubdivisions":case"yAxisMinorSubdivisions":t!==(n=Math.round(Math.min(Math.max(0,t),5)))&&i.warn("minorSubdivisions must be an integer between 0 and 5. You provided "+t+", which we changed to "+n+".");break;case"degreeMode":case"projectorMode":case"showGrid":case"showXAxis":case"showYAxis":case"xAxisNumbers":case"yAxisNumbers":case"polarNumbers":case"enableTabindex":case"invertedColors":t!==(n="false"!==t&&!!t)&&i.warn(e+" must be a Boolean. You provided "+t+" ("+typeof t+"), which we changed to "+n+" ("+typeof n+").");break;case"xAxisStep":case"yAxisStep":n=parseFloat(t),isFinite(t)||(n=0,i.warn(e+" must be a number. You provided "+t+", which we changed to "+n+"."));break;case"xAxisArrowMode":case"yAxisArrowMode":(n=o[t])!==t&&(n=o.NONE,i.warn("unknown AxisArrowMode. Allowed values are: \n"+r.keys(o).join("\n")));break;case"xAxisLabel":case"yAxisLabel":"string"!=typeof(n=t)&&(n="",i.warn(e+" must be a string. you provided a "+typeof t+"."));break;case"randomSeed":"string"!=typeof(n=t)&&(n=""+t,i.warn("randomSeed must be a string. you provided a "+typeof t+"."));break;case"backgroundColor":"string"!=typeof(n=t)&&(n="",i.warn(e+" must be a string. you provided a "+typeof t+".")),"#"!==(n=n||"#fff")[0]&&(n="#"+n);break;case"textColor":"string"!=typeof(n=t)&&(n="",i.warn(e+" must be a string. you provided a "+typeof t+".")),"#"!==(n=n||"#000")[0]&&(n="#"+n);break;case"fontSize":"number"!=typeof(n=t)&&(n=parseInt(n,10),i.warn("fontSize must be a number. Attempted to convert "+t+" to "+n+"."));break;case"language":"string"!=typeof(n=t)&&(n="",i.warn(e+" must be a string. you provided a "+typeof t+".")),"undefined"!=typeof Desmos&&Desmos.supportedLanguages.indexOf(t)<0&&"en"!==t&&(n="en",i.warn(t+" is not currently an available language."));break;default:n=t}return n}(t,e[t]):(i.warn('Invalid graph setting "'+t+'".'),a=!0);return a&&i.warn("Available graph settings are: \n"+this.stateProperties.join("\n")),n},e.getBackgroundColor=function(){var e=s.normalizeColor(this.config.backgroundColor||"#fff");return this.config.invertedColors&&"#ffffff"!==e?s.invertColor(e):e},e.getTextColor=function(){var e=s.normalizeColor(this.config.textColor||"#000");return this.config.invertedColors&&"#000000"!==e?s.invertColor(e):e},e.setGraphSettings=function(e){var t,r=this._validateSettings(e);for(t in r)r.hasOwnProperty(t)&&("projectorMode"===t||"invertedColors"===t||"fontSize"===t||"language"===t||"backgroundColor"===t||"textColor"===t?this.config:this).setProperty(t,r[t])}});return c}),define("scroll_helpers",["require"],function(e){return{scrollVisible:function(e,t,r){var n=t.height(),o=e.outerHeight(),i=e.offset(),a=t.offset();if(!i||!a)return!1;e=t[0].scrollTop;return(n=(n=o+(i=i.top+e-a.top)+r-n)<=(a=i-r)?Math.min(Math.max(e,n),a):.5*(a+n))!==e&&(t[0].scrollTop=n,t[0].scrollTop!=e)}}}),define("bugsnag",["require","exports","tslib"],function(e,t,r){"use strict";var n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.setBeforeSendCB=t.leaveBreadcrumb=t.notify=t.init=void 0;var i=["UnhandledRejection","lnrAppboy","socratic","MyAppGet","SymBrowser_","mobincube_","_avast_submit","Cannot redefine property: googletag","jcarousel","SyntaxError: Unexpected identifier 'script'","__gCrWeb.autofill.extractForms","BrowseITEXT","Can't find variable: removeAllHighlights","aAttribruteValue.parentNode.getAttribute","vid_mate_check","GetImageTagSrcFromPoint","Can't find variable: didEnterViewPort","tinyMCE is not defined"];t.init=function(e){var t,r,a,s;n||(t=0,r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n=e({apiKey:"7f7807097671acbc4557e64bbf5eb529",maxBreadcrumbs:40,appVersion:window.Desmos&&window.Desmos.commit,releaseStage:(s="production",location&&location.hostname&&(e=(a=location.hostname.split(".")).slice(0,a.length-2).join("."),"desmos.com"===a.slice(a.length-2).join(".")&&(s=e&&"www"!==e?e:"production")),s),consoleBreadcrumbsEnabled:!1,beforeSend:function(e){if(e.errorClass)for(var n=0,a=i;n<a.length;n++){var s=a[n];if(-1!==e.errorClass.indexOf(s))return void e.ignore()}if(e.errorMessage)for(var c=0,l=i;c<l.length;c++)if(s=l[c],-1!==e.errorMessage.indexOf(s))return void e.ignore();o&&o(e),e.isIgnored()||(t+=1,e.metaData.errorNumber=t,e.metaData.pageLoadId=r)}}))},t.notify=function(e,t){n&&n.notify(e,t)},t.leaveBreadcrumb=function(e,t,o,i){if(t)for(var a in t=r.__assign({},t))try{t[a]=JSON.stringify(t[a],null,2)}catch(e){t[a]="[[could not stringify]]"}n&&n.leaveBreadcrumb(e,t,o,i)},t.setBeforeSendCB=function(e){o=e}}),define("tours/trip",["require","jquery","pjs","mathquill","scroll_helpers","bugsnag"],function(e){"use strict";var t=e("jquery"),r=e("pjs"),n=e("mathquill"),o=e("scroll_helpers"),i=e("bugsnag");return r({init:function(e){this.settings=e,this.__cachedStepName=null},ensureTripBlock:function(){var e,r;this.$tripBlock||(r=['<div class="trip-block">','<div class="trip-interior">','<a class="trip-close">&times;</a>','<div class="trip-content"></div>',"</div>",'<div class="trip-arrow"></div>',"</div>"].join(""),(r=(e=this).$tripBlock=t(r)).css({top:"-100px"}),t("body").append(r),r.find(".trip-close").on("dcg-tap",function(t){t.preventDefault(),e.stop()}),this.bindKeyEvents())},cleanup:function(){return this.unbindKeyEvents(),this.hideTripBlock(),!1},bindKeyEvents:function(){var e=this;t(document).on({"keydown.Trip":function(t){e.keyEvent.call(e,t)}})},unbindKeyEvents:function(){t(document).off("keydown.Trip")},keyEvent:function(e){27===e.which&&this.stop()},stop:function(){this.hideTripBlock(),this.settings.onTripStop()},exitTourBecauseOfError:function(e,t){for(var r="",n=t;r=n.selector+r,n=n.prevObject;);this.stop(),i.notify("TourError: could not find $sel.offset()",{metaData:{message:e,selector:r}})},showTripBlock:function(e){this.ensureTripBlock(),"string"==typeof e.sel&&(e.sel=t(e.sel)),e.sel=e.sel.filter(":visible"),e.scrollContainer&&o.scrollVisible(e.sel,e.scrollContainer,0);var r=this.$tripBlock;r.find(".trip-content").html(e.content),r.toggleClass("trip-hidden",!!e.hidden);var i=e.sel,a=i.outerWidth(),s=i.outerHeight(),c=r.outerWidth(),l=r.outerHeight();if(i.offset()){this.__cachedMissingSelTime=void 0,r.removeClass("trip-e trip-s trip-w trip-n");var u=0;switch(e.position){case"e":r.addClass("trip-e"),r.css({left:i.offset().left+a+10,top:i.offset().top-(l-s)/2});break;case"s":r.addClass("trip-s");var d=i.offset().left+(a-c)/2;r.css({left:d,top:i.offset().top+s+10}),d+c>t(window).width()-1&&(u=t(window).width()-1-d-c),d<1&&(u=1-d);break;case"w":r.addClass("trip-w"),r.css({left:i.offset().left-(10+c),top:i.offset().top-(l-s)/2});break;default:r.addClass("trip-n"),r.css({left:i.offset().left+(a-c)/2,top:i.offset().top-10-l})}r.find(".trip-interior").css("transform","translate("+u+"px, 0)"),r.css({display:"inline-block"}),r.find(".trip-math:not(.dcg-mq-math-mode)").each(function(){n.StaticMath(this)})}else this.__cachedMissingSelTime?1e3<Date.now()-this.__cachedMissingSelTime&&(e.final?this.stop():this.exitTourBecauseOfError(e.content,i)):this.__cachedMissingSelTime=Date.now()},fadeInTripBlock:function(){this.ensureTripBlock();var e=this.$tripBlock;setTimeout(function(){e.addClass("trip-is-loaded")},0)},hideTripBlock:function(){this.$tripBlock&&this.$tripBlock.removeClass("trip-is-loaded")}})}),define("tours/tour_manager",["require","pjs","./trip"],function(e){"use strict";var t=e("pjs"),r=e("./trip");return t(function(e,t){e.init=function(){this.tripManager=new r({onTripStop:this.stopTour.bind(this)}),this.currentStep=void 0,this.currentTour=void 0},e._tripLoop=function(){clearTimeout(this.__tripLoopTimeout),this.running&&(this._advanceTrip(),this.__tripLoopTimeout=setTimeout(this._tripLoop.bind(this),200))},e._advanceTrip=function(){var e=this.currentTour.update(),t=(new Date).getTime();if(e&&this.currentStep&&e.content!==this.currentStep.content){if(this.currentStep.delayBeforeExit){if(this.throttleTimer&&t-this.throttleTimer<this.currentStep.delayBeforeExit)return;if(!this.throttleTimer)return void(this.throttleTimer=t)}e.delayBeforeEnter&&(this.currentStep=e,this.throttleTimer=t)}e&&this.currentStep&&e.content===this.currentStep.content&&this.throttleTimer&&t-this.throttleTimer<this.currentStep.delayBeforeEnter||(this.throttleTimer=null,!e||e.doNotUpdate)||((this.currentStep=e).final?this.finishTour(e,5):this.tripManager.showTripBlock(e))},e.updateNow=e._advanceTrip,e.startTour=function(e){this.running||(this.currentTour=e,this.running=!0,this._tripLoop(),this.tripManager.fadeInTripBlock())},e.closingMsg=function(e,t){return"<b>"+e+"</b><br>This message will self-destruct in "+t+"..."},e.finishTour=function(e,t){clearTimeout(this.__tripLoopTimeout),this.running=!1;var r=this;t<0?r.tripManager.stop():(e.endingMsg&&(e.content=r.closingMsg(e.endingMsg,t)),r.tripManager.showTripBlock(e),setTimeout(function(){r.finishTour(e,t-1)},1e3))},e.stopTour=function(){this.running=!1,this.currentStep=void 0,this.currentTour=void 0}})}),define("core/math/rational-arithmetic-sequence",["require","core/math/distance","core/math/builtin"],function(e){"use strict";var t=e("core/math/distance"),r=e("core/math/builtin");return function(e,n){var o=r.toFraction(e),i=r.toFraction(n);if(t.approx(o.n/o.d,e)&&t.approx(i.n/i.d,n))return n=r.lcm(o.d,i.d),{nstart:o=o.n*(n/o.d),nstep:i.n*(n/i.d)-o,lcm:n}}}),define("core/math/evaluate-single-expression",["require","exports","core/math/builtinframe","core/math/parsenode/constant","core/math/policy","core/math/parser"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(/^\s*(\-|\+)?([0-9]+(\.[0-9]+)?)\s*$/.test(e))return parseFloat(e);var a=Object.create(r);return a.trigAngleMultiplier=n(t?Math.PI/180:1),+i.parse(e).tryGetConcreteTree(o.defaultPolicy,a).asValue()}}),define("lib/rounding",["require","exports","core/math/distance"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shortestDecimalBetween=void 0,t.shortestDecimalBetween=function(e,t){if(!isFinite(e))return e;if(!isFinite(t))return t;var n=r.mean(e,t);if(0<e!=0<t)return 0;if(0===e||0===t)return 0;var o=0<e?1:-1,i=(e=Math.abs(e).toExponential().split("e"),t=Math.abs(t).toExponential().split("e"),e[0]),a=t[0];e=e[1];if((t=t[1])!==e)return o*Math.pow(10,Math.max(parseFloat(e),parseFloat(t)));if(i[0]!==a[0])return parseFloat(n.toPrecision(1));for(var s=1,c=2;c<Math.min(i.length,a.length)&&(s++,i[c]===a[c]);c++);return parseFloat(n.toPrecision(s))}}),define("core/lib/validate-color",["require","exports","core/vendor/d3-color"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r.color;t.default=function(e){return null!==n(e)}}),define("core/math/policyGraphing",["require","exports","./builtinframe","core/types/graphmode"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PolicyGraphing3D=t.PolicyGraphing=void 0;var o=(s.prototype.dimensions=function(){return 2},s.prototype.assignmentForbidden=function(e){return"x"===e||"y"===e||"theta"===e||"index"===e||"dt"===e||"tmp"===e.slice(0,3)||r.hasOwnProperty(e)},s.prototype.isValidSlider=function(e){return"x"===e||"y"===e||"ans"!==e.slice(0,3)&&!this.assignmentForbidden(e)},s.prototype.sliderVariables=function(e){var t=this;return-1!==e.indexOf("theta")&&(e=e.filter(function(e){return"r"!==e})),e.filter(function(e){return!t.assignmentForbidden(e)&&"ans"!==e.slice(0,3)&&"_"!==e[0]})},s.prototype.graphingEnabled=function(){return!0},s.prototype.ansEnabled=function(){return!1},s.prototype.dimensionVarsEnabled=function(){return!0},s.prototype.validRegressionParameter=function(e){return"x"!==e&&"y"!==e},s.prototype.validLHS=function(e){return"theta"!==e},s.prototype.unplottablePolarFunction=function(e,t){return"theta"===e&&-1!==t.indexOf("r")},s.prototype.validDoubleInequalitySymbol=function(e){return"x"===e||"y"===e},s.prototype.validDoubleInequalityVariables=function(e){return!(2<e.length)&&e.every(this.validDoubleInequalitySymbol)},s.prototype.validExpressionVariables=function(e){return 1===e.length&&"x"===e[0]},s.prototype.validSolvedVariable=function(e){return"x"===e||"y"===e||"r"===e},s.prototype.validImplicitVariables=function(e){switch(e.length){case 0:return!0;case 1:return"x"===e[0]||"y"===e[0]||"r"===e[0];case 2:return"x"===e[0]&&"y"===e[1]||"y"===e[0]&&"x"===e[1]||"r"===e[0]&&"theta"===e[1]||"theta"===e[0]&&"r"===e[1];default:return!1}},s.prototype.graphableListVariables=function(e,t){return"x"===e||"y"===e||"r"===e||"x"===t||"y"===t},s.prototype.validParametricVariable=function(e){return"t"===e},s.prototype.validParametricVariables=function(e){return 1===e.length&&this.validParametricVariable(e[0])},s.prototype.validInequalityVariables=function(e){switch(e.length){case 1:return"x"===e[0]||"y"===e[0]||"r"===e[0];case 2:return this.validImplicitVariables(e);default:return!1}},s.prototype.validFirstColumnVariable=function(e){return"y"!==e&&"r"!==e&&"theta"!==e&&!e.match(/y_(\d+)/)},s.prototype.validActionVariable=function(e){return"dt"===e||"index"===e},s.prototype.complicatedPolarImplicit=function(e,t){return"theta"===e||"r"===e&&1!==t},s.prototype.constantGraphMode=function(e){return"x"===e?n.X:"r"===e?n.POLAR:n.Y},s.prototype.graphMode=function(e,t){return"y"===(t=t[0])||"x"===e?n.X:"r"===e&&"theta"===t?n.POLAR:n.Y},s.prototype.tableableAsConstant=function(e){return"x"!==e&&"r"!==e&&"theta"!==e},s.prototype.implicitIndependent=function(e){return"x"},s.prototype.implicitDependency=function(e){return 1!==e.length?"y":"y"===e[0]?"x":"theta"===e[0]?"r":"y"},s.prototype.graphableAsConstant=function(e){return"y"===e||"x"===e||"r"===e},s.prototype.disabledFeatures=function(){return[]},s),i=(a.prototype.dimensions=function(){return 3},a.prototype.assignmentForbidden=function(e){return"x"===e||"y"===e||"z"===e||"tmp"===e.slice(0,3)||r.hasOwnProperty(e)},a.prototype.isValidSlider=function(e){return"x"===e||"y"===e||"z"===e||"ans"!==e.slice(0,3)&&!this.assignmentForbidden(e)},a.prototype.sliderVariables=function(e){var t=this;return e.filter(function(e){return!t.assignmentForbidden(e)&&"ans"!==e.slice(0,3)})},a.prototype.graphingEnabled=function(){return!0},a.prototype.ansEnabled=function(){return!1},a.prototype.dimensionVarsEnabled=function(){return!0},a.prototype.validRegressionParameter=function(e){return!1},a.prototype.validLHS=function(e){return!0},a.prototype.unplottablePolarFunction=function(e,t){return!1},a.prototype.validDoubleInequalitySymbol=function(e){return!1},a.prototype.validDoubleInequalityVariables=function(e){return!1},a.prototype.validExpressionVariables=function(e){return"x"===(e=e.join(""))||"y"===e||"xy"===e||"yx"===e},a.prototype.validSolvedVariable=function(e){return"x"===e||"y"===e||"z"===e},a.prototype.validImplicitVariables=function(e){return!1},a.prototype.graphableListVariables=function(e,t){return"x"===e||"y"===e||"x"===t||"y"===t},a.prototype.validParametricVariable=function(e){return"t"===e},a.prototype.validParametricVariables=function(e){return 1===e.length&&this.validParametricVariable(e[0])},a.prototype.validInequalityVariables=function(e){return!1},a.prototype.validFirstColumnVariable=function(e){return!1},a.prototype.validActionVariable=function(e){return"dt"===e||"index"===e},a.prototype.complicatedPolarImplicit=function(e,t){return!1},a.prototype.constantGraphMode=function(e){return n.Z_3D},a.prototype.graphMode=function(e,t){return"z"===e&&this.validExpressionVariables(t)?n.Z_3D:n.NONE},a.prototype.tableableAsConstant=function(e){return"x"!==e&&"r"!==e},a.prototype.implicitIndependent=function(e){return"x"},a.prototype.implicitDependency=function(e){return 2!==e.length?"z":"xy"===(e=e[0]<e[1]?e[0]+e[1]:e[1]+e[0])?"z":"xz"===e?"y":"yz"===e?"x":"z"},a.prototype.graphableAsConstant=function(e){return"z"===e},a.prototype.disabledFeatures=function(){return[]},a);function a(){}function s(){}t.PolicyGraphing=new o,t.PolicyGraphing3D=new i}),define("core/graphing-calc/extract-slider-value-from-latex",["require","exports","core/math/builtinframe","core/math/parser","core/math/policyGraphing"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractSliderValueFromLatex=void 0,t.extractSliderValueFromLatex=function(e){return"Assignment"!==(e=n.parse(e)).type?NaN:"Constant"!==e._expression.type?NaN:o.PolicyGraphing.validLHS(e._symbol)?r[e._symbol]?NaN:"number"==typeof(e=e._expression.asValue())?e:NaN:NaN}}),define("graphing-calc/models/expression",["require","exports","tslib","core/lib/dragmode","core/types/slider-loop-modes","core/types/styles","core/types/label-sizes","core/types/label-orientations","core/math/evaluate-single-expression","lib/rounding","core/lib/deepCopy","core/lib/copy-properties","./abstract-item","./list","underscore","core/math/expression-types","core/lib/label","core/lib/number-to-latex","core/math/sliders","core/lib/number-to-latex","core/lib/validate-color","core/graphing-calc/json/expression","core/math/distribution-spec","core/graphing-calc/extract-slider-value-from-latex"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g,m,y,v,b,x,w,E,S){"use strict";function k(e){return void 0===e?NaN:+e}function _(e){var t=e.formula;return!!t&&e.controller.isDecimalToFractionEnabled()&&t.hasOwnProperty("constant_value")&&m.canDisplayAsFraction(k(t.constant_value))}function I(e){var t=e.formula;if(!t)return!1;var r=t.is_evaluable&&t.zero_values&&0<t.zero_values.length&&"boolean"!=typeof t.zero_values[0].val,n=_(e)&&K(e);e=!!t.rgb_value&&e.formula.assignment;return r||n||e}function M(e,t){if(!isFinite(t))return e;var r=e.indexOf("=")+1;return c.default(e.slice(r),!1)===t?e:e.slice(0,r)+b.numberToDecimalString(t)}function L(e){var t=e.dragMode===n.DragMode.AUTO&&void 0!==e.formula.default_drag_mode?e.formula.default_drag_mode:e.dragMode;e.dragMode===n.DragMode.AUTO&&e.hidden&&(t=n.DragMode.NONE),e.reconciledDragMode=n.reconcileDragMode(t,e.formula.move_strategy),e.interactiveLabel&&e.reconciledDragMode!==n.DragMode.NONE&&$(e,!1)}function T(e,t,r){if(!e.sliderExists)return NaN;var n=D(e),o=F(e),i=N(e);if(r&&void 0!==r.overwriteStep&&(i=r.overwriteStep),t=v.constrainSliderValueLikeEvaluator({target:t,hardMin:e.slider.hardMin?n:void 0,hardMax:e.slider.hardMax?o:void 0,step:i}),!r||!r.ignoreSoftLimits){if(!e.slider.hardMin&&t<n)return n;if(!e.slider.hardMax&&o<t)return o}return t}function C(e,t,r){if(void 0===r&&(r={}),!e.sliderExists)return NaN;var n=R(e),o=D(e),i=F(e),a=N(e);void 0===r.overwriteStep&&(r.overwriteStep=a||(i-o)/20);var s=0;switch(t){case"min":return T(e,o);case"max":return T(e,i);case"up":s=1;break;case"down":s=-1;break;case"bigup":s=5;break;case"bigdown":s=-5;break;default:return t}for(var c=n,l=0;l<20;l++){var u=l/3*r.overwriteStep,d=n;if(0<s)(n=T(e,c+u,r))>d&&--s;else{if(!(s<0))break;(n=T(e,c-u,r))<d&&(s+=1)}}return n}function A(e){var t=h.getParentFolderModel(e);t&&t.hidden||e.formula.expression_type&&Y(e)?e.shouldGraph=!1:e.shouldGraph=!e.hidden}function O(e){var t,r=e.formula&&e.formula.raw_slider_latex;e.sliderExists&&e.latex===r?(t=e.latex,e.cachedDisplayLatex.storedLatex===t?(r=q(e),isFinite(r)&&((t=e.controller.getFocusLocation())&&"expression"===t.type&&t.id===e.id||(e.cachedDisplayLatex.valueLatex=M(e.latex,r)))):e.cachedDisplayLatex={storedLatex:e.latex,valueLatex:e.latex}):e.cachedDisplayLatex={storedLatex:e.latex,valueLatex:e.latex}}function P(e){return m.value(e).latex}function D(e){if(e.slider.hardMin){var t=e.formula.slider_min_number;return isFinite(t)?t:NaN}var r=e.controller.isDegreeMode(),n=c.default(e.slider.min,r),o=R(e);t=N(e),r=e.slider.hardMax?e.formula.slider_max_number:void 0;return n<(e=-10)&&(e=n),o<e&&(e=o),r<e&&(e=r),t&&(e=(r=v.constrainSliderValueLikeEvaluator({target:e,hardMin:void 0,hardMax:r,step:t}))<=e?r:r-t),e}function F(e){if(e.slider.hardMax){var t=e.formula.slider_max_number;return isFinite(t)?t:NaN}var r=e.controller.isDegreeMode(),n=c.default(e.slider.max,r);t=R(e),r=N(e),e=e.slider.hardMin?e.formula.slider_min_number:void 0;return v.computeSoftMax({storedMax:n,sliderValue:t,step:r,hardMin:e})}function N(e){return e.formula.slider_step_number}function q(e){if(e.formula&&e.formula.is_slider&&void 0!==(e=e.formula.constant_value))return+e}function R(e){var t=e.formula&&e.formula.raw_slider_latex;return e.latex!==t?S.extractSliderValueFromLatex(e.latex):(e=q(e),isFinite(e)?e:NaN)}function B(e){var t=e.cachedViewState;t&&w.areDynamicPropertiesStrictEqual(t,e)&&t.folderId===e.folderId&&t.color===e.color&&t.latex===e.latex&&t.showLabel===e.showLabel&&t.label===e.label&&t.hidden===e.hidden&&t.secret===e.secret&&t.fill===e.fill&&t.points===e.points&&t.lines===e.lines&&t.lineStyle===e.lineStyle&&t.pointStyle===e.pointStyle&&t.dragMode===e.dragMode&&t.labelSize===e.labelSize&&t.labelOrientation===e.labelOrientation&&t.suppressTextOutline===e.suppressTextOutline&&t.interactiveLabel===e.interactiveLabel&&t.editableLabelMode===e.editableLabelMode&&t.residualVariable===e.residualVariable&&t.regressionParameters===e.regressionParameters&&t.isLogModeRegression===e.isLogModeRegression&&t.displayEvaluationAsFraction===e.displayEvaluationAsFraction&&t.slider===e.slider||(e.cachedViewState=r.__assign({type:e.type,id:e.id,folderId:e.folderId,color:e.color,latex:e.latex,showLabel:e.showLabel,label:e.label,hidden:e.hidden,secret:e.secret,points:e.points,lines:e.lines,lineStyle:e.lineStyle,pointStyle:e.pointStyle,fill:e.fill,dragMode:e.dragMode,labelSize:e.labelSize,labelOrientation:e.labelOrientation,suppressTextOutline:e.suppressTextOutline,interactiveLabel:e.interactiveLabel,editableLabelMode:e.editableLabelMode,residualVariable:e.residualVariable,regressionParameters:e.regressionParameters,isLogModeRegression:e.isLogModeRegression,displayEvaluationAsFraction:e.displayEvaluationAsFraction,slider:e.slider},w.extractDynamicProperties(e)))}function j(e){var t=e.memoizedUndoRedoStateParams,n=e.cachedViewState,o=e.preTransientState;e.cachedUndoRedoFullState=n,t&&t.viewState===n&&t.preTransientState===o||(e.memoizedUndoRedoStateParams={viewState:n,preTransientState:o},delete(n=o?r.__assign(r.__assign({},n),{latex:o.latex,slider:r.__assign(r.__assign({},n.slider),o.slider)}):r.__assign({},n)).regressionParameters,delete n.residualVariable,e.cachedUndoRedoDiffState=n)}function V(e){var t=!(!(i=h.getParentFolderModel(e))||!i.hidden),r=e.cachedViewState,n=e.index,o=e.showLabel&&!t,i=e.shouldGraph;(t=e.memoizedParsableStateParams)&&t.viewState===r&&t.index===n&&t.showLabel===o&&t.shouldGraph===i||(e.memoizedParsableStateParams={viewState:r,index:n,showLabel:o,shouldGraph:i},(r=w.computeParsableState(r)).index=n,r.showLabel=o,r.shouldGraph=i,e.cachedParsableState=r)}function U(e){return!(!e.sliderExists||!e.slider.isPlaying&&!e.sliderDragging)||!!e.draggingOnGraphpaper}Object.defineProperty(t,"__esModule",{value:!0}),t.isPotentiallyMovable=t.blankOutExpressionAfterClearingLatex=t.isClickableAllowed=t.getCDFEvaluation=t.getLabelAngleValue=t.getColorLatexValue=t.isColorLatexValid=t.isLineWidthValid=t.isPointSizeValid=t.isLabelAngleValid=t.isLabelSizeValid=t.isPointOpacityValid=t.isLineOpacityValid=t.isFillOpacityValid=t.isCDFMaxValid=t.isCDFMinValid=t.setCDFMax=t.setCDFMin=t.setShowCDF=t.getCDFMaxPlaceholder=t.getCDFMinPlaceholder=t.getCDFMax=t.getCDFMin=t.shouldShowCDFFooter=t.isListValuedDistribution=t.isPrimaryLatexValid=t.shouldShowCDFCheckbox=t.parseToplevelFunction=t.isDiscreteDistribution=t.isToplevelDistribution=t.isToplevelFunction=t.isStats=t.isTTest=t.isVisualization=t.isHistogram=t.isDotPlot=t.isBoxPlot=t.isPointOrPointList=t.isPointList=t.isSinglePoint=t.isPolar=t.isParametric=t.isRegression=t.isInequality=t.isPolygon=t.hasSlider=t.isNonemptyAction=t.getParametricDomainMax=t.getParametricDomainMin=t.getPolarDomainMax=t.getPolarDomainMin=t.hasDomain=t.areAllVisibilityPropsOff=t.setHidden=t.isDraggableAndHidden=t.hasEditableLabel=t.getEditableLabelMode=t.setEditableLabelMode=t.setInteractiveLabel=t.setSuppressTextOutline=t.setLabelOrientation=t.setLabelAngle=t.setLabelSize=t.setLineStyle=t.setLines=t.setPointStyle=t.setPoints=t.setDragMode=t.setLabelDropdownOpen=t.setColorLatex=t.setLineWidth=t.setPointSize=t.setPointOpacity=t.setLineOpacity=t.setFillOpacity=t.setFill=t.setColor=t.setLogMode=t.setParametricDomainMax=t.setPolarDomainMax=t.setParametricDomainMin=t.setPolarDomainMin=t.setDescription=t.setShowLabel=t.setLabel=t.setEvaluationAsFraction=t.shouldEvaluationDisplayAsFraction=t.setSliderAnimationPeriod=t.setSliderStep=t.setSliderDragging=t.setSliderLoopMode=t.setLatex=t.commitSliderSoftLimits=t.setSliderIsPlaying=t.setSliderMax=t.setSliderMin=t.restoreState=t.onControllerUpdate=t.shouldBlockActionUpdate=t.isTransient=t.getAssignment=t.eachLatex=t.updateCachedParsableState=t.initModel=t.updateCachedUndoRedoState=t.setIsDraggingOnGrapher=t.updateCachedViewState=t.getState=t.isDomainMaxValid=t.isDomainMinValid=t.getDomainMax=t.getDomainMin=t.isSliderStepValid=t.isSliderMaxValid=t.isSliderMinValid=t.needsDotplotXMode=t.isClickableObject=t.setClickableInfoRuleLatex=t.setClickableInfoProp=t.setVizProp=t.getVizProp=t.isVizPropValid=t.isSliderAtEndOfPlayOnce=t.getSliderValue=t.getRawSliderValue=t.getSliderStep=t.getSliderMax=t.getSliderMin=t.getDisplaySliderMax=t.getDisplaySliderMin=t.getDisplayLatex=t.updateDisplayLatex=t.computeShouldGraph=t.onFormulaUpdate=t.getMissingVariables=t.tickSliderStep=t.adjustSliderByDraggingThumb=t.adjustSliderByKeyboard=t.adjustSliderByMovablePoint=t.getSliderSnappedValue=t.computeSliderKeyboardAdjustment=t.computeSliderSnappedValue=t.updateReconciledDragMode=t.isEmpty=t.computeNewSliderLatex=t.getStatsResults=t.getTTestResults=t.getEvaluationValue=t.shouldShowEvaluation=t.isGraphable=t.isRationalizableConstant=t.EvaluationLabelOptions=void 0,t.EvaluationLabelOptions={smallCutoff:1e-6,bigCutoff:1e9,digits:12},t.isRationalizableConstant=_,t.isGraphable=function(e){return!(!e.formula||!e.formula.is_graphable)},t.shouldShowEvaluation=I,t.getEvaluationValue=function(e){var t=e.formula;return I(e)?t.zero_values&&t.zero_values.length?t.zero_values[0].val:t.rgb_value||t.constant_value:_(e)?e.formula.constant_value:NaN},t.getTTestResults=function(e){if((e=e.formula.ttest_results)&&isFinite(e.lessThan))return{lessThan:e.lessThan,greaterThan:e.greaterThan,notEqual:e.notEqual}},t.getStatsResults=function(e){if((e=e.formula.stats_results)&&isFinite(e.min))return{min:e.min,q1:e.q1,median:e.median,q3:e.q3,max:e.max}},t.computeNewSliderLatex=M,t.isEmpty=function(e){return""===((e.latex||"")+(e.label||"")).split(" ").join("")},t.updateReconciledDragMode=L,t.computeSliderSnappedValue=T,t.computeSliderKeyboardAdjustment=C,t.getSliderSnappedValue=function(e,t){var r=R(e),n=N(e);e=t-r;return void 0===n?t:(n=Math.ceil(Math.abs(e)/n)*n,0<e?r+n:r-n)},t.adjustSliderByMovablePoint=function(e,t){e.sliderExists&&(e.slider.isPlaying&&H(e,!1),t=T(e,t,{ignoreSoftLimits:!0}),e.latex=M(e.latex,t))},t.adjustSliderByKeyboard=function(e,t,r){e.sliderExists&&(e.slider.isPlaying&&H(e,!1),W(e),r=C(e,t,r),e.latex=M(e.latex,r))},t.adjustSliderByDraggingThumb=function(e,t){e.sliderExists&&(e.slider.isPlaying&&H(e,!1),t=T(e,t),e.latex=M(e.latex,t))},t.tickSliderStep=function(e,t){if(e.sliderExists&&!e.resetSliderAnimationTargetValue){var r=e.sliderLastTickTime;if(e.sliderLastTickTime=t,void 0!==r){var n=t-r,i=D(e),a=F(e),s=N(e);t=e.slider.animationPeriod,r=e.slider.loopMode;isNaN(e.sliderAnimationTargetValue)&&(d=R(e),isNaN(d)||(e.sliderAnimationTargetValue=d));var c,u,d=s?s/2:0;if(r===o.SliderLoopMode.LOOP_FORWARD_REVERSE)e.sliderAnimationTargetValue>=a?z(e,{playDirection:-1}):e.sliderAnimationTargetValue<=i&&z(e,{playDirection:1});else if(r===o.SliderLoopMode.LOOP_FORWARD)z(e,{playDirection:1}),e.sliderAnimationTargetValue>=a+d&&(e.sliderAnimationTargetValue=i-d);else if(r===o.SliderLoopMode.PLAY_ONCE)z(e,{playDirection:1});else{if(r!==o.SliderLoopMode.PLAY_INDEFINITELY)throw new Error("Unexpected slider loop mode: "+r);z(e,{playDirection:1})}isFinite(n)||(n=0),c=r===o.SliderLoopMode.PLAY_INDEFINITELY?(u=n/(t/4),s&&(u*=s),e.sliderAnimationTargetValue+=u,c=e.sliderAnimationTargetValue,s||(c=l.shortestDecimalBetween(c-.1*u,c+.1*u)),T(e,c,{ignoreSoftLimits:!0})):(u=(a-i)*(n=Math.min(n,t/10))/t,e.sliderAnimationTargetValue+=u*e.slider.playDirection,e.sliderAnimationTargetValue=Math.max(i-d,Math.min(a+d,e.sliderAnimationTargetValue)),c=e.sliderAnimationTargetValue,s||(n=u/n*(1e3/60),c=l.shortestDecimalBetween(c-.1*n,c+.1*n)),T(e,c)),e.latex=M(e.latex,c)}}},t.getMissingVariables=function(e){return(e=e.formula)&&!e.is_single_identifier&&e.variables||[]},t.onFormulaUpdate=function(e,t){e.formula=t,e.error=t.error,e.unresolved=!1,t.is_slider?e.sliderExists&&!e.resetSliderAnimationTargetValue||(e.sliderAnimationTargetValue=R(e),e.sliderDragging=!1,e.sliderExists=!0):e.sliderExists=!1,e.resetSliderAnimationTargetValue=!1;var r={};t.is_regression&&(r=t.regression.parameters,e.residualVariable=t.regression.residualVariable,e.controller.areLogModeRegressionsForced()&&(e.isLogModeRegression=!0)),f.isEqual(e.regressionParameters,r)||(e.regressionParameters=r)},t.computeShouldGraph=A,t.updateDisplayLatex=O,t.getDisplayLatex=function(e){return e.cachedDisplayLatex.valueLatex},t.getDisplaySliderMin=function(e){return e.slider.hardMin?e.slider.min:P(D(e))},t.getDisplaySliderMax=function(e){return e.slider.hardMax?e.slider.max:P(F(e))},t.getSliderMin=D,t.getSliderMax=F,t.getSliderStep=N,t.getRawSliderValue=q,t.getSliderValue=R,t.isSliderAtEndOfPlayOnce=function(e){return e.slider.loopMode===o.SliderLoopMode.PLAY_ONCE&&R(e)>=F(e)},t.isVizPropValid=function(e,t){return!!e.formula.viz_valids&&!!e.formula.viz_valids[t]},t.getVizProp=function(e,t){return e.vizProps[t]},t.setVizProp=function(e,t,n){e.vizProps=r.__assign(r.__assign({},e.vizProps),((e={})[t]=n,e))},t.setClickableInfoProp=function(e,t,n){e.clickableInfo=r.__assign(r.__assign({},e.clickableInfo),((e={})[t]=n,e))},t.setClickableInfoRuleLatex=function(e,t){e.clickableInfo=r.__assign(r.__assign({},e.clickableInfo),{latex:t})},t.isClickableObject=function(e){return!!(e.clickableInfo.enabled&&se(e)&&e.formula.click_handler&&"maybe-valid"===e.formula.click_handler.status)},t.needsDotplotXMode=function(e){return!!e.__workerNeedsDotplotXMode},t.isSliderMinValid=function(e){return!(!e.formula||!e.formula.slider_min_valid)},t.isSliderMaxValid=function(e){return!(!e.formula||!e.formula.slider_max_valid)},t.isSliderStepValid=function(e){return!(!e.formula||!e.formula.slider_step_valid)},t.getDomainMin=function(e){return e.formula?isFinite(e.__workerSampledDomainMin)?e.__workerSampledDomainMin:(e=e.formula.domain_min_number,isFinite(e)?e:NaN):NaN},t.getDomainMax=function(e){return e.formula?isFinite(e.__workerSampledDomainMax)?e.__workerSampledDomainMax:(e=e.formula.domain_max_number,isFinite(e)?e:NaN):NaN},t.isDomainMinValid=function(e){return!(!e.formula||!e.formula.domain_min_valid)},t.isDomainMaxValid=function(e){return!(!e.formula||!e.formula.domain_max_valid)},t.getState=function(e,t){var n=e.cachedViewState;return t.stripDefaults&&""===e.parametricDomain.min&&""===e.parametricDomain.max||(n=r.__assign(r.__assign({},n),{domain:{min:""===e.parametricDomain.min?"0":e.parametricDomain.min,max:""===e.parametricDomain.max?"1":e.parametricDomain.max}})),t.stripDefaults?w.stripDefaults(n):void 0!==n.points&&void 0!==n.lines&&void 0!==n.fill?n:(void 0===(n=u.default(n)).points&&delete n.points,void 0===n.lines&&delete n.lines,void 0===n.fill&&delete n.fill,n)},t.updateCachedViewState=B,t.setIsDraggingOnGrapher=function(e,t){t&&W(e),e.draggingOnGraphpaper=t},t.updateCachedUndoRedoState=j,t.initModel=function(e,t){var n=u.default(w.inflateDefaults(e));return(e=n.color)&&x.default(e)||(e=t.getNextColor()),r.__assign(r.__assign(r.__assign({},n),p.DEFAULTS(t)),{labelDropdownOpen:!1,formula:{error:void 0,operator:"=",variables:[]},error:void 0,unresolved:!1,color:e,pointStyle:n.pointStyle,lineStyle:n.lineStyle,displayEvaluationAsFraction:n.displayEvaluationAsFraction,shouldGraph:void 0,sliderDragging:void 0,sliderAnimationTargetValue:void 0,resetSliderAnimationTargetValue:!1,sliderLastTickTime:void 0,draggingOnGraphpaper:!1,cachedUndoRedoDiffState:void 0,cachedUndoRedoFullState:void 0,cachedParsableState:void 0,cachedViewState:void 0,cachedDisplayLatex:{storedLatex:"",valueLatex:""}})},t.updateCachedParsableState=V,t.eachLatex=function(e,t){t(e.latex,"latex",e),t(e.clickableInfo.latex,"clickableInfoLatex",e),t(e.lineWidth,"lineWidth",e),t(e.fillOpacity,"fillOpacity",e),t(e.lineOpacity,"lineOpacity",e),t(e.pointOpacity,"pointOpacity",e),t(e.pointSize,"pointSize",e),t(e.labelAngle,"labelAngle",e),e.labelSize!==a.LabelSize.MEDIUM&&e.labelSize!==a.LabelSize.SMALL&&e.labelSize!==a.LabelSize.LARGE&&t(e.labelSize,"labelSize",e),Q(e)&&(t(e.parametricDomain.min,"parametricDomainMin",e),t(e.parametricDomain.max,"parametricDomainMax",e)),J(e)&&(t(e.polarDomain.min,"polarDomainMin",e),t(e.polarDomain.max,"polarDomainMax",e)),e.sliderExists&&(t(e.slider.min,"sliderMin",e),t(e.slider.max,"sliderMax",e),t(e.slider.step,"sliderStep",e)),e.residualVariable&&t(e.residualVariable,"residualVariable",e)},t.getAssignment=function(e){return e.formula&&e.formula.assignment},t.isTransient=U,t.shouldBlockActionUpdate=function(e){return!(!e.sliderExists||!e.sliderDragging)||!!e.draggingOnGraphpaper},t.onControllerUpdate=function(e){U(e)?e.preTransientState||(e.preTransientState={latex:e.latex,slider:{min:e.slider.min,max:e.slider.max,playDirection:e.slider.playDirection}}):delete e.preTransientState,e.sliderExists&&e.slider.isPlaying||(e.sliderLastTickTime=void 0),p.updateIsHiddenFromUI(e),A(e),L(e),B(e),j(e),V(e),O(e)};var G=r.__assign({id:!1,type:!1,color:!0,folderId:!0,latex:!0,showLabel:!0,label:!0,hidden:!0,secret:!0,points:!0,lines:!0,lineStyle:!0,pointStyle:!0,fill:!0,dragMode:!0,labelSize:!0,labelOrientation:!0,suppressTextOutline:!0,interactiveLabel:!0,editableLabelMode:!0,residualVariable:!0,regressionParameters:!0,isLogModeRegression:!0,displayEvaluationAsFraction:!0,slider:!0},d.makeTrueMap(w.DEFAULTS_DYNAMIC));function z(e,t){e.slider=r.__assign(r.__assign({},e.slider),t)}function H(e,t){e&&e.slider.isPlaying!==t&&(z(e,{isPlaying:t}),t&&(W(e),e.sliderAnimationTargetValue=R(e)))}function W(e){var t;e.slider.hardMin||(t=y.default(D(e)))!==e.slider.min&&z(e,{min:t}),e.slider.hardMax||(t=y.default(F(e)))!==e.slider.max&&z(e,{max:t})}function K(e){return e.displayEvaluationAsFraction}function $(e,t){e.interactiveLabel=t}function Y(e){if(X(e))return!1;var t=e.points,r=e.lines,n=e.fill;return!(n=g.getReconciledExpressionProps(e.formula.expression_type,{points:t,lines:r,fill:n})).points&&!n.lines&&!n.fill}function X(e){return!!e.formula.is_inequality}function Q(e){return e.formula.expression_type===g.ExpressionType.PARAMETRIC}function J(e){return e.formula.expression_type===g.ExpressionType.POLAR}function Z(e){return!(!(e=ne(e))||"visualization"!==e.type||"boxplot"!==e.symbol)}function ee(e){return!(!(e=ne(e))||"visualization"!==e.type||"dotplot"!==e.symbol)}function te(e){return!(!(e=ne(e))||"visualization"!==e.type||"histogram"!==e.symbol)}function re(e){return!(!(e=ne(e))||"distribution"!==e.type)}function ne(e){if(e.controller.areDistributionsEnabled()&&e.latex)return e.cachedParseToplevelFunction&&e.cachedParseToplevelFunction.latex===e.latex||(e.cachedParseToplevelFunction={latex:e.latex,spec:E.parseToplevelFunction(e.latex)}),e.cachedParseToplevelFunction.spec}function oe(e){return ie(e)&&re(e)}function ie(e){return!!e.formula.expression_type}function ae(e){return!!e.formula.is_concrete_list}function se(e){return!(!g.isClickableExpressionType(e.formula.expression_type)||e.reconciledDragMode&&e.reconciledDragMode!==n.DragMode.NONE)}t.restoreState=function(e,t){d.copyProperties({from:t,to:e,props:G}),e.resetSliderAnimationTargetValue=!0,e.sliderAnimationTargetValue=void 0},t.setSliderMin=function(e,t){z(e,t?{hardMin:!0,min:t}:{hardMin:!1,min:"-10"})},t.setSliderMax=function(e,t){z(e,t?{hardMax:!0,max:t}:{hardMax:!1,max:"10"})},t.setSliderIsPlaying=H,t.commitSliderSoftLimits=W,t.setLatex=function(e,t){var r=S.extractSliderValueFromLatex(t);isFinite(r)&&((r=v.determineWhichLimitsAreCompatibleWithValue({target:r,step:N(e),hardMin:e.slider.hardMin?D(e):void 0,hardMax:e.slider.hardMax?F(e):void 0})).min||z(e,{hardMin:!1,min:"-10"}),r.max||z(e,{hardMax:!1,max:"10"}),r.step||z(e,{step:""})),e.latex=t},t.setSliderLoopMode=function(e,t){z(e,{loopMode:t,playDirection:1}),t===o.SliderLoopMode.PLAY_INDEFINITELY&&z(e,{hardMin:!1,hardMax:!1,min:"",max:""}),e.sliderAnimationTargetValue=D(e)},t.setSliderDragging=function(e,t){t&&W(e),e.sliderDragging=t},t.setSliderStep=function(e,t){z(e,{step:t})},t.setSliderAnimationPeriod=function(e,t){z(e,{animationPeriod:t})},t.shouldEvaluationDisplayAsFraction=K,t.setEvaluationAsFraction=function(e,t){e.displayEvaluationAsFraction=t},t.setLabel=function(e,t){e.label=t},t.setShowLabel=function(e,t){e.showLabel=t},t.setDescription=function(e,t){e.description=t},t.setPolarDomainMin=function(e,t){e.polarDomain=r.__assign(r.__assign({},e.polarDomain),{min:t})},t.setParametricDomainMin=function(e,t){e.parametricDomain=r.__assign(r.__assign({},e.parametricDomain),{min:t})},t.setPolarDomainMax=function(e,t){e.polarDomain=r.__assign(r.__assign({},e.polarDomain),{max:t})},t.setParametricDomainMax=function(e,t){e.parametricDomain=r.__assign(r.__assign({},e.parametricDomain),{max:t})},t.setLogMode=function(e,t){e.isLogModeRegression=t},t.setColor=function(e,t){x.default(t)&&(e.color=t,e.colorLatex="")},t.setFill=function(e,t){e.fill=t},t.setFillOpacity=function(e,t){e.fillOpacity!==t&&(e.fillOpacity=t)},t.setLineOpacity=function(e,t){e.lineOpacity!==t&&(e.lineOpacity=t)},t.setPointOpacity=function(e,t){e.pointOpacity!==t&&(e.pointOpacity=t)},t.setPointSize=function(e,t){e.pointSize!==t&&(e.pointSize=t)},t.setLineWidth=function(e,t){e.lineWidth!==t&&(e.lineWidth=t)},t.setColorLatex=function(e,t){e.colorLatex!==t&&(e.colorLatex=t)},t.setLabelDropdownOpen=function(e,t){e.labelDropdownOpen=t},t.setDragMode=function(e,t){e.dragMode!==t&&(e.dragMode=t)},t.setPoints=function(e,t){e.points=t},t.setPointStyle=function(e,t){e.pointStyle!==t&&(e.pointStyle=t)!==i.PointStyle.POINT&&(e.dragMode=n.DragMode.NONE)},t.setLines=function(e,t){e.lines=t},t.setLineStyle=function(e,t){e.lineStyle!==t&&(e.lineStyle=t)},t.setLabelSize=function(e,t){e.labelSize=t},t.setLabelAngle=function(e,t){e.labelAngle=t},t.setLabelOrientation=function(e,t){e.labelOrientation=t},t.setSuppressTextOutline=function(e,t){e.suppressTextOutline=t},t.setInteractiveLabel=$,t.setEditableLabelMode=function(e,t){e.editableLabelMode=t},t.getEditableLabelMode=function(e){return e.editableLabelMode},t.hasEditableLabel=function(e){return(e=e.editableLabelMode)===w.EditableLabelMode.Math||e===w.EditableLabelMode.Text},t.isDraggableAndHidden=function(e){return!(e.reconciledDragMode===n.DragMode.NONE||!e.hidden)},t.setHidden=function(e,t){!(e.hidden=t)&&Y(e)&&(e.lines=e.points=e.fill=void 0)},t.areAllVisibilityPropsOff=Y,t.hasDomain=function(e){return Q(e)||J(e)},t.getPolarDomainMin=function(e){return e.polarDomain.min},t.getPolarDomainMax=function(e){return e.polarDomain.max},t.getParametricDomainMin=function(e){return e.parametricDomain.min},t.getParametricDomainMax=function(e){return e.parametricDomain.max},t.isNonemptyAction=function(e){return!!e.formula.action_value&&0<Object.keys(e.formula.action_value).length},t.hasSlider=function(e){return!!e.sliderExists},t.isPolygon=function(e){return e.formula.expression_type===g.ExpressionType.POLYGON},t.isInequality=X,t.isRegression=function(e){return!!e.formula.is_regression},t.isParametric=Q,t.isPolar=J,t.isSinglePoint=function(e){return e.formula.expression_type===g.ExpressionType.SINGLE_POINT},t.isPointList=function(e){return e.formula.expression_type===g.ExpressionType.POINT_LIST},t.isPointOrPointList=function(e){return e.formula.expression_type===g.ExpressionType.POINT_LIST||e.formula.expression_type===g.ExpressionType.SINGLE_POINT},t.isBoxPlot=Z,t.isDotPlot=ee,t.isHistogram=te,t.isVisualization=function(e){return Z(e)||ee(e)||te(e)},t.isTTest=function(e){return e.formula.expression_type===g.ExpressionType.TTEST},t.isStats=function(e){return e.formula.expression_type===g.ExpressionType.STATS},t.isToplevelFunction=function(e){return!!ne(e)},t.isToplevelDistribution=re,t.isDiscreteDistribution=function(e){return!!(e=e.formula)&&!!e.is_discrete_distribution},t.parseToplevelFunction=ne,t.shouldShowCDFCheckbox=oe,t.isPrimaryLatexValid=ie,t.isListValuedDistribution=ae,t.shouldShowCDFFooter=function(e){return!!oe(e)&&!ae(e)&&e.cdf.show},t.getCDFMin=function(e){return e.cdf.min},t.getCDFMax=function(e){return e.cdf.max},t.getCDFMinPlaceholder=function(e){return(e=k(e.formula.cdf_min_default))!==-1/0&&isFinite(e)?e+"":"-\\infty"},t.getCDFMaxPlaceholder=function(e){return(e=k(e.formula.cdf_max_default))!==1/0&&isFinite(e)?e+"":"\\infty"},t.setShowCDF=function(e,t){e.cdf=r.__assign(r.__assign({},e.cdf),{show:t})},t.setCDFMin=function(e,t){e.cdf=r.__assign(r.__assign({},e.cdf),{min:t})},t.setCDFMax=function(e,t){e.cdf=r.__assign(r.__assign({},e.cdf),{max:t})},t.isCDFMinValid=function(e){return!!e.formula&&!1!==e.formula.cdf_min_valid},t.isCDFMaxValid=function(e){return!!e.formula&&!1!==e.formula.cdf_max_valid},t.isFillOpacityValid=function(e){return!!e.formula&&!1!==e.formula.fill_opacity_valid},t.isLineOpacityValid=function(e){return!!e.formula&&!1!==e.formula.line_opacity_valid},t.isPointOpacityValid=function(e){return!!e.formula&&!1!==e.formula.point_opacity_valid},t.isLabelSizeValid=function(e){return!!e.formula&&!1!==e.formula.label_size_valid},t.isLabelAngleValid=function(e){return!!e.formula&&!1!==e.formula.label_angle_valid},t.isPointSizeValid=function(e){return!!e.formula&&!1!==e.formula.point_size_valid},t.isLineWidthValid=function(e){return!!e.formula&&!1!==e.formula.line_width_valid},t.isColorLatexValid=function(e){return!!e.formula&&!1!==e.formula.color_latex_valid},t.getColorLatexValue=function(e){return e.formula&&e.formula.color_latex_value},t.getLabelAngleValue=function(e){return e.formula&&e.formula.label_angle_value},t.getCDFEvaluation=function(e){return e=e.formula&&e.formula.cdf_evaluation,isFinite(e)?e:0},t.isClickableAllowed=se,t.blankOutExpressionAfterClearingLatex=function(e){e.showLabel=w.DEFAULTS.showLabel,e.label=w.DEFAULTS.label,e.hidden=w.DEFAULTS.hidden,e.dragMode=w.DEFAULTS.dragMode,e.fill=w.DEFAULTS.fill,e.points=w.DEFAULTS.points,e.pointStyle=w.DEFAULTS.pointStyle,e.lines=w.DEFAULTS.lines,e.lineStyle=w.DEFAULTS.lineStyle,e.slider=w.SLIDER_DEFAULTS,e.latex="",e.labelSize=a.LabelSize.MEDIUM,e.labelOrientation=s.LabelOrientation.DEFAULT,e.displayEvaluationAsFraction=w.DEFAULTS.displayEvaluationAsFraction,e.suppressTextOutline=!1,e.interactiveLabel=!1,e.editableLabelMode=w.DEFAULTS.editableLabelMode,d.copyAllProperties(w.DEFAULTS_DYNAMIC,e)},t.isPotentiallyMovable=function(e){return!!e.formula.move_strategy}}),define("core/graphing-calc/json/folder",["require","exports","tslib","core/lib/default-spec"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stripDefaults=t.inflateDefaults=t.DEFAULTS=void 0,t.DEFAULTS={collapsed:!1,hidden:!1,secret:!1,title:""},t.inflateDefaults=function(e){return r.__assign(r.__assign({},t.DEFAULTS),e)},t.stripDefaults=function(e){return n.stripDefaults(t.DEFAULTS,e)}}),define("graphing-calc/models/folder",["require","exports","tslib","core/lib/deepCopy","core/lib/copy-properties","./abstract-item","./list","core/graphing-calc/json/folder"],function(e,t,r,n,o,i,a,s){"use strict";function c(e){e.cachedViewState={type:e.type,id:e.id,title:e.title,hidden:e.hidden,collapsed:e.collapsed,secret:e.secret}}function l(e){e.cachedUndoRedoDiffState=e.cachedViewState,e.cachedUndoRedoFullState=e.cachedViewState}Object.defineProperty(t,"__esModule",{value:!0}),t.setHidden=t.setTitle=t.setCollapsed=t.updateSelectedHiddenChild=t.restoreState=t.onControllerUpdate=t.initModel=t.updateCachedUndoRedoState=t.updateCachedViewState=t.getState=void 0,t.getState=function(e,t){return e=e.cachedViewState,t.stripDefaults?s.stripDefaults(e):e},t.updateCachedViewState=c,t.updateCachedUndoRedoState=l,t.initModel=function(e,t){return e=n.default(s.inflateDefaults(e)),r.__assign(r.__assign(r.__assign({},e),i.DEFAULTS(t)),{cachedUndoRedoDiffState:{},cachedUndoRedoFullState:{},cachedViewState:{}})};var u={id:!(t.onControllerUpdate=function(e){d(e),i.updateIsHiddenFromUI(e),c(e),l(e)}),type:!1,hidden:!0,secret:!0,collapsed:!0,title:!0};function d(e){var t=e.controller,r=t.getSelectedItem();e.collapsed?r&&"folder"!==r.type&&r.folderId===e.id&&"none"===i.getDisplayState(r)?(e.selectedHiddenChild=r,a.setSelected(t.getListModel(),e)):r!==e&&(e.selectedHiddenChild=void 0):(r===e&&e.selectedHiddenChild&&a.setSelected(t.getListModel(),e.selectedHiddenChild),e.selectedHiddenChild=void 0)}t.restoreState=function(e,t){o.copyProperties({from:t,to:e,props:u})},t.updateSelectedHiddenChild=d,t.setCollapsed=function(e,t){e.collapsed=t},t.setTitle=function(e,t){e.title=t},t.setHidden=function(e,t){e.hidden=t}}),define("core/graphing-calc/json/text",["require","exports","tslib","core/lib/default-spec"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stripDefaults=t.inflateDefaults=t.DEFAULTS=void 0,t.DEFAULTS={folderId:"",text:"",secret:!1},t.inflateDefaults=function(e){return r.__assign(r.__assign({},t.DEFAULTS),e)},t.stripDefaults=function(e){return n.stripDefaults(t.DEFAULTS,e)}}),define("graphing-calc/models/text",["require","exports","tslib","./abstract-item","core/lib/deepCopy","core/lib/copy-properties","core/graphing-calc/json/text"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateCachedUndoRedoState=t.updateCachedViewState=t.getState=t.restoreState=t.onControllerUpdate=t.initModel=t.setText=void 0,t.setText=function(e,t){e.text=t},t.initModel=function(e,t){return e=o.default(a.inflateDefaults(e)),r.__assign(r.__assign(r.__assign({},e),n.DEFAULTS(t)),{cachedUndoRedoDiffState:{},cachedUndoRedoFullState:{},cachedViewState:{}})};var s={id:!(t.onControllerUpdate=function(e){n.updateIsHiddenFromUI(e),c(e),l(e)}),type:!1,folderId:!0,text:!0,secret:!0};function c(e){e.cachedViewState={type:e.type,id:e.id,folderId:e.folderId,text:e.text,secret:e.secret}}function l(e){e.cachedUndoRedoDiffState=e.cachedViewState,e.cachedUndoRedoFullState=e.cachedViewState}t.restoreState=function(e,t){i.copyProperties({from:t,to:e,props:s})},t.getState=function(e,t){return e=e.cachedViewState,t.stripDefaults?a.stripDefaults(e):e},t.updateCachedViewState=c,t.updateCachedUndoRedoState=l}),define("graphing-calc/models/helper-expression",["require","exports","core/math/evaluationstate","tslib","underscore","core/math/evaluationstate"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onFormulaUpdate=t.init=t.getGUID=void 0;var a=0;function s(){return"helper_item_"+a++}t.getGUID=s,t.init=function(e){return n.__assign(n.__assign({},e),{formula:i.defaultEvaluationState(),guid:s(),cachedParsableState:{type:"statement",id:e.id,latex:e.latex,shouldGraph:!1}})},t.onFormulaUpdate=function(e,t,r){t.formula=r;var n,i=t.proxy;t={numericValue:i.numericValue,listValue:i.listValue};r.zero_values&&1===r.zero_values.length&&(n=r.zero_values[0].val),i.numericValue=o.isNumber(n)?n:NaN,i.listValue=o.isArray(n)?n.slice(0):void 0,o.isEqual(i.numericValue,t.numericValue)||e.runAfterDispatch(function(){i.notifyPropertyChange("numericValue")}),o.isEqual(i.listValue,t.listValue)||e.runAfterDispatch(function(){i.notifyPropertyChange("listValue")})}}),define("core/graphing-calc/json/image",["require","exports","tslib","core/lib/default-spec","../../lib/copy-properties"],function(e,t,r,n,o){"use strict";function i(e){return o.extractPropertiesLike(e,t.DEFAULTS_DYNAMIC)}Object.defineProperty(t,"__esModule",{value:!0}),t.computeParsableState=t.extractDynamicProperties=t.stripDefaults=t.inflateDefaults=t.DEFAULTS=t.DEFAULTS_DYNAMIC=t.CLICKABLEINFO_DEFAULTS=void 0,t.CLICKABLEINFO_DEFAULTS={enabled:!1,latex:"",hoveredImage:"",depressedImage:""},t.DEFAULTS_DYNAMIC={center:"\\left(0,0\\right)",angle:"0",width:"10",height:"10",opacity:"1",clickableInfo:t.CLICKABLEINFO_DEFAULTS,description:"",draggable:!1},t.DEFAULTS=r.__assign({folderId:"",hidden:!1,secret:!1,foreground:!1,name:""},t.DEFAULTS_DYNAMIC),t.inflateDefaults=function(e){return r.__assign(r.__assign(r.__assign({},t.DEFAULTS),e),{clickableInfo:r.__assign(r.__assign({},t.CLICKABLEINFO_DEFAULTS),e.clickableInfo)})},t.stripDefaults=function(e){var r=n.stripDefaults(t.DEFAULTS,e);return void 0===(e=n.stripDefaultsAndMaybeReturnUndefined(t.CLICKABLEINFO_DEFAULTS,e.clickableInfo))?delete r.clickableInfo:r.clickableInfo=e,r},t.extractDynamicProperties=i,t.computeParsableState=function(e){return r.__assign(r.__assign({type:"image",id:e.id},i(e)),{guid:"",index:0,color:"",shouldGraph:e.hidden,showPoints:!1})}}),define("graphing-calc/models/image",["require","exports","tslib","core/lib/color-helpers","./abstract-item","core/lib/deepCopy","core/lib/copy-properties","./list","jquery","core/graphing-calc/json/image","core/lib/dragmode","./expression"],function(e,t,r,n,o,i,a,s,c,l,u,d){"use strict";function p(e){if(e.formula){var t=e.formula.center_reference_id,r=e.formula.center_reference_symbol;if(t&&r&&(t=e.controller.getItemModel(t))&&"expression"===t.type&&t.formula.assignment===r&&d.isSinglePoint(t))return t}}function h(e){return!!(e=p(e))&&!(!(e=e.reconciledDragMode)||e===u.DragMode.NONE)}function f(e){return!!e.draggable&&h(e)}function g(e){var t=l.computeParsableState(e);t.color=e.color,t.index=e.index,t.guid=e.guid,t.shouldGraph=e.shouldGraph,t.showPoints=e.showPoints,e.cachedParsableState=t}function m(e){var t,n,o=e.cachedViewState.clickableInfo,i=!0,a=!0;o&&(o.depressedImage===e.clickableInfo.depressedImage&&(a=!1),o.hoveredImage===e.clickableInfo.hoveredImage&&(i=!1)),i&&(e.hoveredImageObj&&(c(e.hoveredImageObj).off("load"),delete e.hoveredImageObj),e.clickableInfo.hoveredImage)&&(e.hoveredImageObj=new Image,t=function(){var t=e.controller.getGrapher();t&&t.redrawAllLayers()},n=function(){},v(e.hoveredImageObj,e.clickableInfo.hoveredImage,t,n)),a&&(e.depressedImageObj&&(c(e.depressedImageObj).off("load"),delete e.depressedImageObj),e.clickableInfo.depressedImage)&&(e.depressedImageObj=new Image,t=function(){var t=e.controller.getGrapher();t&&t.redrawAllLayers()},n=function(){},v(e.depressedImageObj,e.clickableInfo.depressedImage,t,n)),e.cachedViewState.image_url!==e.image_url&&(c(e.imageObj).off("load"),e.imageObj=new Image,v(e.imageObj,e.image_url,function(){e.controller.dispatch({type:"image-load-success",id:e.id})},function(){e.controller.dispatch({type:"image-load-error",id:e.id})})),e.cachedViewState=r.__assign({type:e.type,id:e.id,folderId:e.folderId,image_url:e.image_url,name:e.name,hidden:e.hidden,foreground:e.foreground,secret:e.secret},l.extractDynamicProperties(e))}function y(e){var t=e.cachedViewState;e.cachedUndoRedoFullState=e.cachedViewState,e.preTransientState&&(t=r.__assign(r.__assign({},t),e.preTransientState)),e.cachedUndoRedoDiffState=t}function v(e,t,r,n){c(e).on("load.initial-image-load",function(){var t=e.width,n=e.height;1===t&&1===n?(c(e).off(".initial-image-load"),c(e).on("load",r),e.src=(t=e,(n=document.createElement("canvas")).width=2,n.height=2,n.getContext("2d").drawImage(t,0,0,2,2),n.toDataURL())):r()}).on("error",n),/^data:/.test(t)||(e.crossOrigin="anonymous"),e.src=t}Object.defineProperty(t,"__esModule",{value:!0}),t.isClickableObject=t.setClickableInfoRuleLatex=t.setClickableInfoProp=t.retryLoading=t.setLoadStatus=t.uploadImageAndGenerateToken=t.uploadImages=t.restoreState=t.initModel=t.updateCachedUndoRedoState=t.setIsDraggingOnGrapher=t.updateCachedViewState=t.getState=t.hasInputError=t.getMissingVariables=t.onFormulaUpdate=t.onControllerUpdate=t.updateCachedParsableState=t.eachLatex=t.setImageURL=t.setForeground=t.setOpacity=t.canConvertToDraggableImage=t.isActuallyDraggable=t.doesImageCenterReferenceDraggablePoint=t.doesImageCenterReferenceExternalPoint=t.getCenterExternalReferencedModel=t.setDraggable=t.setName=t.setDescription=t.getMQAttribute=t.setMQAttribute=t.setSecret=t.setHidden=void 0,t.setHidden=function(e,t){e.hidden=t},t.setSecret=function(e,t){e.secret=t},t.setMQAttribute=function(e,t,r){e[t]=r},t.getMQAttribute=function(e,t){return e[t]},t.setDescription=function(e,t){e.description=t},t.setName=function(e,t){e.name=t},t.setDraggable=function(e,t){e.draggable=t},t.getCenterExternalReferencedModel=p,t.doesImageCenterReferenceExternalPoint=function(e){return!!p(e)},t.doesImageCenterReferenceDraggablePoint=h,t.isActuallyDraggable=f,t.canConvertToDraggableImage=function(e){if(!e.formula)return!1;if(!e.formula.center_is_point_literal)return!1;var t=e.formula.move_strategy;return!!t&&(e=t[2],t=t[3],e=e&&"none"!==e.type,t=t&&"none"!==t.type,!(!e&&!t))},t.setOpacity=function(e,t){e.opacity=t},t.setForeground=function(e,t){e.foreground=t},t.setImageURL=function(e,t){e.image_url=t},t.eachLatex=function(e,t){t(e.opacity,"imageOpacity",e),t(e.center,"imageCenter",e),t(e.height,"imageHeight",e),t(e.width,"imageWidth",e),t(e.angle,"imageAngle",e)},t.updateCachedParsableState=g,t.onControllerUpdate=function(e){e.draggingOnGraphpaper?e.preTransientState||(e.preTransientState={center:e.center,width:e.width,height:e.height}):delete e.preTransientState,o.updateIsHiddenFromUI(e);var t=s.getParentFolderModel(e);e.shouldGraph=!(t&&t.hidden||e.hidden),e.showPoints=e.shouldGraph&&s.isItemSelected(e)&&"loaded"===e.loadStatus&&!f(e)&&e.controller.isTraceEnabled(),m(e),y(e),g(e)},t.onFormulaUpdate=function(e,t){e.formula=t,e.error=function(e){var t,r={center:e.controller.s("graphing-calculator-error-image-invalid-center"),angle:e.controller.s("graphing-calculator-error-image-invalid-angle"),width:e.controller.s("graphing-calculator-error-image-invalid-width"),height:e.controller.s("graphing-calculator-error-image-invalid-height"),opacity:e.controller.s("graphing-calculator-error-image-invalid-opacity")};for(t in e.formula.errorMap)if(e.formula.errorMap[t])return r[t]}(e)},t.getMissingVariables=function(e){return e.formula&&e.formula.variables||[]},t.hasInputError=function(e,t){return!(!e.formula||!e.formula.errorMap||!e.formula.errorMap[t])},t.getState=function(e,t){return e=e.cachedViewState,t.stripDefaults?l.stripDefaults(e):e},t.updateCachedViewState=m,t.setIsDraggingOnGrapher=function(e,t){e.draggingOnGraphpaper=t},t.updateCachedUndoRedoState=y,t.initModel=function(e,t){return e=i.default(l.inflateDefaults(e)),r.__assign(r.__assign(r.__assign({},e),o.DEFAULTS(t)),{color:n.colors.BLUE,loadStatus:"loading",failures:0,imageObj:new Image,hoveredImageObj:void 0,depressedImageObj:void 0,shouldGraph:void 0,showPoints:void 0,error:void 0,formula:void 0,draggingOnGraphpaper:!1,cachedViewState:{},cachedParsableState:{},cachedUndoRedoDiffState:{},cachedUndoRedoFullState:{}})};var b=r.__assign({id:!1,type:!1,image_url:!0,name:!0,folderId:!0,hidden:!0,secret:!0,foreground:!0},a.makeTrueMap(l.DEFAULTS_DYNAMIC));t.restoreState=function(e,t){a.copyProperties({from:t,to:e,props:b})},t.uploadImages=function(e){for(var t=e.controller,r=e.files,n=e.id,o={errors:[],tokens:[]},i=0;i<r.length;i++){var a=r[i];a.type.match("image/*")?o.tokens.push(w({controller:t,file:a,id:n})):o.errors.push(t.s("graphing-calculator-error-image-invalid-file",{file:a.name}))}return o};var x=0;function w(e){var t=e.controller,r=e.file,n=e.id,o=""+x++;return t.getGraphSettings().config.imageUploadCallback(r,function(e,i){setTimeout(function(){var a;e?t.dispatch({type:"image-upload-error",token:o,error:e}):v(a=new Image,i,function(){var e=a.width,s=a.height,c=Math.max(e,s)/Math.min(e,s);e<s?(s=10,e=Math.round(10*s/c)/10):(e=10,s=Math.round(10*e/c)/10),t.dispatch({type:"image-upload-success",token:o,url:i,width:e+"",height:s+"",name:r.name,id:n})},function(){t.dispatch({type:"image-upload-error",token:o,error:""})})})}),o}function E(e,t){"loaded"===(e.loadStatus=t)&&(e.failures=0),"failed"===t&&(e.failures+=1)}t.uploadImageAndGenerateToken=w,t.setLoadStatus=E,t.retryLoading=function(e){e.imageObj.src=e.imageObj.src,E(e,"loading")},t.setClickableInfoProp=function(e,t,n){e.clickableInfo=r.__assign(r.__assign({},e.clickableInfo),((e={})[t]=n,e))},t.setClickableInfoRuleLatex=function(e,t){e.clickableInfo=r.__assign(r.__assign({},e.clickableInfo),{latex:t})},t.isClickableObject=function(e){return!!(e.clickableInfo.enabled&&e.formula&&e.formula.click_handler&&"maybe-valid"===e.formula.click_handler.status)}}),define("core/graphing-calc/json/ticker",["require","exports","tslib","core/lib/default-spec"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inflateDefaults=t.stripDefaults=t.DEFAULTS=void 0,t.DEFAULTS={handlerLatex:"",minStepLatex:"",open:!1,playing:!1},t.stripDefaults=function(e){return n.stripDefaultsAndMaybeReturnUndefined(t.DEFAULTS,e)},t.inflateDefaults=function(e){return r.__assign(r.__assign({},t.DEFAULTS),e)}}),define("graphing-calc/models/ticker",["require","exports","tslib","../../core/graphing-calc/json/ticker","../../core/lib/copy-properties"],function(e,t,r,n,o){"use strict";function i(e){e.cachedViewState={handlerLatex:e.handlerLatex,minStepLatex:e.minStepLatex,playing:e.playing,open:e.open}}function a(e){var t=e.cachedViewState;e.cachedUndoRedoDiffState=t,e.cachedUndoRedoFullState=t}function s(e){return e=n.inflateDefaults(e),r.__assign(r.__assign({},e),{type:"ticker",guid:"dcg_ticker_guid_internal",id:"dcg_ticker_guid_internal",avgDelta:0,lastTickTime:void 0,cachedViewState:{},cachedParsableState:{},cachedUndoRedoDiffState:{},cachedUndoRedoFullState:{},filteredBySearch:!1})}Object.defineProperty(t,"__esModule",{value:!0}),t.eachLatex=t.getMissingVariables=t.getMinStepPackedError=t.getHandlerPackedError=t.updateLastTickTime=t.shouldTick=t.onControllerUpdate=t.onFormulaUpdate=t.restoreState=t.initModel=t.updateCachedUndoRedoState=t.updateCachedViewState=t.getUndoRedoFullState=t.getUndoRedoDiffState=t.getState=t.defaultTicker=void 0,t.defaultTicker=function(){return s(n.DEFAULTS)},t.getState=function(e,t){return t.stripDefaults?n.stripDefaults(e.cachedViewState):e.cachedViewState},t.getUndoRedoDiffState=function(e){return e.cachedUndoRedoDiffState},t.getUndoRedoFullState=function(e){return e.cachedUndoRedoFullState},t.updateCachedViewState=i,t.updateCachedUndoRedoState=a,t.initModel=s,t.restoreState=function(e,t){o.copyAllProperties(t,e)},t.onFormulaUpdate=function(e,t){e.formula=t},t.onControllerUpdate=function(e){i(e),a(e),e.cachedParsableState={type:"ticker",id:e.id,handlerLatex:e.handlerLatex,minStepLatex:e.minStepLatex,shouldGraph:!1}},t.shouldTick=function(e,t){var r=t.currentFrameTime;t=t.previousFrameTime;if(!e.playing||"maybe-valid"!==(null===(n=e.formula)||void 0===n?void 0:n.handler.status))return!1;if(null==e.lastTickTime||null==t)return!0;if("valid"!==(null===(n=e.formula)||void 0===n?void 0:n.minStep.status))return!1;var n=e.formula.minStep.value;return(n=e.lastTickTime+n)<=r||n-r<(r-t)/2},t.updateLastTickTime=function(e,t){e.lastTickTime=t},t.getHandlerPackedError=function(e){if(e.formula)return"error"===e.formula.handler.status?e.formula.handler.error:void 0},t.getMinStepPackedError=function(e){if(e.formula)return"error"===e.formula.minStep.status?e.formula.minStep.error:void 0},t.getMissingVariables=function(e){return(null===(e=e.formula)||void 0===e?void 0:e.variables)||[]},t.eachLatex=function(e,t){t(e.handlerLatex,"tickerHandler",e),t(e.minStepLatex,"tickerMinStep",e)}}),define("core/lib/latex-search-helpers",["require","exports","core/math/parser/latex-parser","core/math/parser/expression-token-tables"],function(e,t,r,n){"use strict";function o(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}function i(e){return e.replace(/\\\\right\\(\\*[})\]|])/g,".*\\\\right\\$1").replace(/ ?\\([}\]])/g,".*\\$1")}function a(e){var t;try{t=r.parse(e)}catch(e){return}if(0!==t.args.length&&!(2<t.args.length)){var o=t.args[0];if(function(e){switch(e.type){case"Letter":return 1;case"OperatorName":for(var t=0,r=e.arg.args;t<r.length;t++)if("Letter"!==r[t].type)return;return 1;case"Cmd":var o=n.commandTable[e.val];return void 0===o||"Ln"===o||"Log"===o||"Trig"===o;default:return}}(o)){var i=void 0;if(1<t.args.length){if("SupSub"!==(s=t.args[1]).type)return;var a=s.sup,s=s.sub;if(void 0!==a)return;if(void 0===s)return;for(var c=0,l=s.args;c<l.length;c++){var u=l[c];if("Letter"!==u.type&&"Digit"!==u.type)return}i=s}return{base:o,subscript:i}}}}function s(e,t){var n=a(t);if(void 0===n)return[];var o;t=[];try{o=r.parse(e)}catch(e){return t}return function e(t,r,n,o){for(var i=o.wrapInBraces,a=r.base,s=r.subscript,c=0;c<t.args.length;c++){var u,d=t.args[c],p=void 0;switch(c+1<t.args.length&&"SupSub"===(u=t.args[c+1]).type&&void 0!==u.sub&&(p=u.sub),d.type){case"Letter":case"Cmd":if(a.type!==d.type)break;if(a.val!==d.val)break;s&&p&&l(s,p)?n.push({base:d.span,subscript:p.span,wrapInBraces:i}):s||p||n.push({base:d.span,wrapInBraces:i});break;case"OperatorName":if(a.type!==d.type)break;if(a.arg.args.length!==d.arg.args.length)break;for(var h=!0,f=0;f<a.arg.args.length;f++){var g=a.arg.args[f],m=d.arg.args[f];if("Letter"!==g.type||"Letter"!==m.type||g.val!==m.val){h=!1;break}}if(!h)break;s&&p&&l(s,p)?n.push({base:d.span,subscript:p.span,wrapInBraces:i}):s||p||n.push({base:d.span,wrapInBraces:i});break;case"Digit":case"Symbol":case"EscapedSymbol":break;case"LeftRight":case"Sqrt":e(d.arg,r,n,{wrapInBraces:!1});break;case"Frac":e(d.num,r,n,{wrapInBraces:!1}),e(d.den,r,n,{wrapInBraces:!1});break;case"SupSub":if(d.sup){for(var y=!1,v=d.sup.span.start;0<=v;v--){var b=d.sup.span.input[v];if("^"===b)break;"{"===b&&(y=!0)}e(d.sup,r,n,{wrapInBraces:!y})}break;default:throw new Error("Unexpected token type: "+d.type)}}}(o,n,t,{wrapInBraces:!1}),t}function c(e,t,r){if(0===(t=s(e,t)).length)return e;for(var n="",o=0,i=0,a=t;i<a.length;i++){var c=a[i];if(n+=e.slice(o,c.base.start),c.wrapInBraces&&(n+="{"),n+=r,o=c.base.end,c.subscript){for(var l=0,u=0,d=c.subscript.start;0<=d;d--)if("{"===e[d]&&(l+=1),"_"===e[d]){u=d;break}for(n+=e.slice(o,u),o=c.subscript.end,d=c.subscript.end;d<e.length&&!(l<=0);d++)"}"===e[d]&&(--l,o=d+1)}c.wrapInBraces&&(n+="}")}return n+e.slice(o,e.length)}function l(e,t){if(e.args.length===t.args.length){for(var r=0;r<e.args.length;r++){var n=e.args[r],o=t.args[r];if(!("Letter"===n.type&&"Letter"===o.type&&n.val===o.val||"Digit"===n.type&&"Digit"===o.type&&n.val===o.val))return}return 1}}Object.defineProperty(t,"__esModule",{value:!0}),t.replaceIdentifierWithLatex=t.replaceIdentifierWithIdentifier=t.containsIdentifier=t.isSingleIdentifier=t.getFuzzyLatexRegExp=t.addFuzzyMatches=t.escapeForRegex=void 0,t.escapeForRegex=o,t.addFuzzyMatches=i,t.getFuzzyLatexRegExp=function(e){return e=i(o(e)),new RegExp(e)},t.isSingleIdentifier=function(e){return void 0!==a(e)},t.containsIdentifier=function(e,t){return 0!==s(e,t).length},t.replaceIdentifierWithIdentifier=function(e,t,r){return void 0===a(r)?e:c(e,t,r)},t.replaceIdentifierWithLatex=c}),define("graphing-calc/models/list",["require","exports","lib/color-distance","tslib","./expression","./folder","./table","./text","./helper-expression","./image","./ticker","core/types/graphmode","core/lib/color-helpers","underscore","core/lib/deepCopy","core/lib/latex-search-helpers"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g){"use strict";function m(e,t){return e.__itemModelArray[t]}function y(e,t){var r;do{if(-1==--t)return}while((r=m(e,t))&&!w(r));return r}function v(e,t){var r,n=P(e);do{if(++t===n)return}while((r=m(e,t))&&!w(r));return r}function b(e){if("folder"!==e.type&&e.folderId&&(e=M(e.controller.getListModel(),e.folderId))&&"folder"===e.type)return e}function x(e){return!!e&&(!!e.secret||!(!(e=b(e))||!e.secret))}function w(e){return!E(e)}function E(e){if(!e)return!0;if(e.filteredBySearch)return!0;if(e.controller.isItemBeingDragged(e.id))return!1;if(!e.controller.canAdministerSecretFolders()&&x(e))return!0;var t=b(e);return!(!t||!t.collapsed||e.controller.getExpressionSearchStr())}function S(e){return e.__itemModelArray}function k(e,t){for(var r=0;r<e.__itemModelArray.length;r++)_(e.__itemModelArray[r],t);e.ticker.open&&(t(e.ticker.handlerLatex,"tickerHandler",e.ticker),t(e.ticker.minStepLatex,"tickerMinStep",e.ticker))}function _(e,t){switch(e.type){case"expression":o.eachLatex(e,t);break;case"table":a.eachLatex(e,t);break;case"image":l.eachLatex(e,t);break;case"ticker":u.eachLatex(e,t);break;case"folder":case"text":break;default:return e}}function I(e,t){return e.replace(/([_^])([a-z0-9])/gi,"$1{$2}").match(t)}function M(e,t){return e.__itemIdToModel[t]}function L(e,t){return e.__helperIdToModel[t]}function T(e){e.__anyDependsOnRandomSeed=!1;for(var t=0;t<e.__itemModelArray.length;t++){var r=e.__itemModelArray[t];if(r&&"formula"in r&&r.formula&&r.formula.depends_on_random_seed)return void(e.__anyDependsOnRandomSeed=!0)}}function C(e){if(!e.__anyIsAction)if(e.ticker.open)e.__anyIsAction=!0;else for(var t=0;t<e.__itemModelArray.length;t++){var r=e.__itemModelArray[t];if(r&&"formula"in r&&r.formula&&("expression"===r.type||"image"===r.type)&&((r=r.formula).hasOwnProperty("action_value")||r.hasOwnProperty("click_handler")))return void(e.__anyIsAction=!0)}}function A(e){for(var t=!e.controller.canAdministerSecretFolders(),r=1,n=1,o=0;o<e.__itemModelArray.length;o++){var i=e.__itemModelArray[o];i.index=o,i.displayIndex=r,x(i)&&(i.secretIndex=n,n+=1),t&&x(i)||(r+=1)}e.nextDisplayIndex=r}function O(e){e.__itemModelArray=[],e.__itemIdToModel={},e.__helperIdToModel={},e.__anyDependsOnRandomSeed=!1}function P(e){return e.__itemModelArray.length}function D(e){return e.selectedItem}function F(e,t){switch(t.type){case"expression":return o.initModel(t,e.controller);case"table":return a.initModel(t,e.controller);case"image":return l.initModel(t,e.controller);case"folder":return i.initModel(t,e.controller);case"text":return s.initModel(t,e.controller);default:return t}}function N(e,t){e.selectedItem=t}function q(e,t,r){var n=String(t.id);if(e.__itemIdToModel.hasOwnProperty(n))throw Error("Item with id '"+n+"' is already in list");e.__itemIdToModel[n]=t,e.__itemModelArray.splice(r,0,t),A(e)}function R(e,t){var r=e.__itemModelArray[t];if("folder"===r.type){for(var n=0,o=r.index+1;o<e.__itemModelArray.length;o++){var i=e.__itemModelArray[o];if("folder"===i.type||i.folderId!==r.id)break;n+=1,B(i)&&N(e,void 0),delete e.__itemIdToModel[i.id],delete e.expressionAnalysis[r.id]}e.__itemModelArray.splice(t,1+n)}else e.__itemModelArray.splice(t,1);B(r)&&N(e,void 0),delete e.__itemIdToModel[r.id],delete e.expressionAnalysis[r.id],T(e),A(e)}function B(e){return e.controller.getListModel().selectedItem===e}Object.defineProperty(t,"__esModule",{value:!0}),t.collapseAllFolders=t.getMissingVariablesForItem=t.setDragState=t.isItemSelected=t.selectNextItem=t.selectPrevItem=t.removeItemById=t.anyItemIsAction=t.anyItemDependsOnRandomSeed=t.removeItemAtIndex=t.insertItemAtEnd=t.insertItemAtIndex=t.moveItemsTo=t.setSelected=t.onEvaluatorFormulaUpdates=t.onGraphComputed=t.restoreListState=t.modelFromSpec=t.setListState=t.getLargestIntegerId=t.getState=t.getUndoRedoFullState=t.getUndoRedoDiffState=t.getSelected=t.getAllModelsWithSliders=t.hasNoVisibleExpressions=t.getItemCount=t.removeAllItems=t.reindex=t.recomputeAnyItemIsAction=t.clearAnyItemIsAction=t.recomputeAnyItemDependsOnRandomSeed=t.addHelperExpression=t.getHelperExpressionById=t.getItemsByIdentifier=t.getItemById=t.updateDrawOrder=t.findAvailableColumnSubscript=t.renameIdentifierGlobal=t.filterItemsBySearch=t.filterItemsByIdentifierSearch=t.eachLatexForItem=t.eachLatex=t.getAllHelperItemModels=t.getAllItemModels=t.isItemHiddenFromUI=t.isItemSelectable=t.isItemSecret=t.getNumberOfItemsInFolder=t.getParentFolderModel=t.findNextSelectableItem=t.findPrevSelectableItem=t.getLastSelectableItem=t.getFirstSelectableItem=t.getItemByIndex=t.getNextColor=t.areAnyImagesLoading=t.init=void 0,t.init=function(e){return{controller:e,__itemModelArray:[],__itemIdToModel:{},__helperIdToModel:{},__anyDependsOnRandomSeed:!1,__anyIsAction:!1,drawOrder:[],colorIdx:0,expressionAnalysis:{},nextDisplayIndex:1,ticker:u.defaultTicker()}},t.areAnyImagesLoading=function(e){for(var t=0;t<e.__itemModelArray.length;t++){var r=e.__itemModelArray[t];if("image"===r.type&&"loading"===r.loadStatus)return!0}return!1},t.getNextColor=function(e){var t=h.filter(h.values(e.controller.getColors()),function(e){return e!=p.colors.ORANGE}),r=t[e.colorIdx];return e.colorIdx=(e.colorIdx+1)%t.length,r},t.getItemByIndex=m,t.getFirstSelectableItem=function(e){for(var t=0;t<e.__itemModelArray.length;t++){var r=e.__itemModelArray[t];if(w(r))return r}},t.getLastSelectableItem=function(e){for(var t=e.__itemModelArray.length-1;0<=t;t--){var r=e.__itemModelArray[t];if(w(r))return r}},t.findPrevSelectableItem=y,t.findNextSelectableItem=v,t.getParentFolderModel=b,t.getNumberOfItemsInFolder=function(e,t){var r=M(e,t);if(!r||"folder"!==r.type)return 0;for(var n=0,o=e.__itemModelArray.length,i=r.index+1;i<o;i++){var a=e.__itemModelArray[i];if("folder"===a.type||a.folderId!==t)break;n+=1}return n},t.isItemSecret=x,t.isItemSelectable=w,t.isItemHiddenFromUI=E,t.getAllItemModels=S,t.getAllHelperItemModels=function(e){return h.values(e.__helperIdToModel)},t.eachLatex=k,t.eachLatexForItem=_,t.filterItemsByIdentifierSearch=function(e,t){var r=0,n=g.isSingleIdentifier(t);e.ticker.filteredBySearch=e.ticker.open&&!g.containsIdentifier(e.ticker.handlerLatex,t)&&!g.containsIdentifier(e.ticker.minStepLatex,t);for(var i=0,s=e.__itemModelArray;i<s.length;i++){var c=function(i){if(!n)return i.filteredBySearch=!1,r++,"continue";switch(i.filteredBySearch=!0,i.type){case"expression":var s;o.eachLatex(i,function(e){g.containsIdentifier(e,t)&&(i.filteredBySearch=!1,r++)}),i.label&&i.showLabel&&(s=new RegExp("\\$\\{"+t.replace("{","\\{?").replace("}","\\}?")+"\\}"),i.label.match(s)&&(i.filteredBySearch=!1,r++));break;case"table":a.eachLatex(i,function(e){g.containsIdentifier(e,t)&&(i.filteredBySearch=!1,r++)});break;case"image":l.eachLatex(i,function(e){g.containsIdentifier(e,t)&&(i.filteredBySearch=!1,r++)});break;case"folder":case"text":break;default:return{value:i}}!i.filteredBySearch&&"folder"!==i.type&&i.folderId&&(e.__itemIdToModel[i.folderId].filteredBySearch=!1,r++)}(s[i]);if("object"==typeof c)return c.value}return r},t.filterItemsBySearch=function(e,t){var r=0,n=g.getFuzzyLatexRegExp(t);e.ticker.filteredBySearch=e.ticker.open&&!I(e.ticker.handlerLatex,n)&&!I(e.ticker.minStepLatex,n);for(var i=0;i<e.__itemModelArray.length;i++)if(t){var s=e.__itemModelArray[i];switch(s.filteredBySearch=!0,s.type){case"expression":o.eachLatex(s,function(e){I(e,n)&&(s.filteredBySearch=!1,r++)}),s.label&&s.showLabel&&("\\operatorname{label}"===t||1<t.length&&0==="label".indexOf(t)||I(s.label,n))&&(s.filteredBySearch=!1,r++);break;case"table":a.eachLatex(s,function(e){I(e,n)&&(s.filteredBySearch=!1,r++)});break;case"image":l.eachLatex(s,function(e){I(e,n)&&(s.filteredBySearch=!1,r++)});break;case"folder":s.title&&0<=s.title.indexOf(t)&&(s.filteredBySearch=!1,r++);break;case"text":0<=s.text.indexOf(t)&&(s.filteredBySearch=!1,r++);break;default:return s}!s.filteredBySearch&&"folder"!==s.type&&s.folderId&&(e.__itemIdToModel[s.folderId].filteredBySearch=!1,r++)}else e.__itemModelArray[i].filteredBySearch=!1;return r},t.renameIdentifierGlobal=function(e,t,r,n){r=r.trim().replace(/_\{([a-zA-Z0-9])\}/g,"_$1");for(var i=0;i<e.__itemModelArray.length;i++){var s,c=e.__itemModelArray[i];"expression"===c.type&&c.showLabel&&c.label&&(s=new RegExp("\\$\\{"+t.replace("{","\\{?").replace("}","\\}?")+"\\}","g"),c.label.match(s)&&o.setLabel(c,c.label.replace(s,"${"+r.trim()+"}")))}k(e,function(e,i,s,c){if(!(n&&void 0!==n.limitToItem&&n.limitToItem!==s.id||n&&void 0!==n.limitToFolder&&("ticker"===s.type||"folder"===s.type||n.limitToFolder!==s.folderId))){var u=g.replaceIdentifierWithIdentifier(e,t,r);if(u!==e)switch(i){case"latex":o.setLatex(s,u);break;case"lineWidth":o.setLineWidth(s,u);break;case"clickableInfoLatex":o.setClickableInfoRuleLatex(s,u);break;case"fillOpacity":o.setFillOpacity(s,u);break;case"lineOpacity":o.setLineOpacity(s,u);break;case"pointOpacity":o.setPointOpacity(s,u);break;case"pointSize":o.setPointSize(s,u);break;case"labelAngle":o.setLabelAngle(s,u);break;case"labelSize":o.setLabelSize(s,u);break;case"polarDomainMin":o.setPolarDomainMin(s,u);break;case"polarDomainMax":o.setPolarDomainMax(s,u);break;case"parametricDomainMin":o.setParametricDomainMin(s,u);break;case"parametricDomainMax":o.setParametricDomainMax(s,u);break;case"sliderMin":o.setSliderMin(s,u);break;case"sliderMax":o.setSliderMax(s,u);break;case"sliderStep":o.setSliderStep(s,u);break;case"imageOpacity":l.setMQAttribute(s,"opacity",u);break;case"imageCenter":l.setMQAttribute(s,"center",u);break;case"imageHeight":l.setMQAttribute(s,"height",u);break;case"imageWidth":l.setMQAttribute(s,"width",u);break;case"imageAngle":l.setMQAttribute(s,"angle",u);break;case"tickerHandler":s.handlerLatex=u;break;case"tickerMinStep":s.minStepLatex=u;break;case"tableHeader":case"tableCellValue":if(!c||"table"!==s.type)break;a.setCellLatex(s,c.cellLocation,u);break;case"residualVariable":break;default:throw new Error("Unexpected latex location "+i)}}})},t.findAvailableColumnSubscript=function(e){var t=[];k(e,function(e){if(-1===e.indexOf("~")&&-1===e.indexOf("\\sim"))for(var r=/_(\d)|_\{(?:\s|\\space)*(\d+)(?:\s|\\space)*\}/g;;){var n=r.exec(e);if(!n)break;t.push(parseInt(n[1]||n[2],10))}}),t.sort(function(e,t){return e-t});for(var r=1,n=0;n<t.length;n++)t[n]===r&&r++;return r},t.updateDrawOrder=function(e){var t=[];h.each(e.__itemModelArray,function(e){"table"===e.type?h.each(e.columnModels,function(e){t.push(e.id)}):t.push(e.id)}),e.drawOrder=t},t.getItemById=M,t.getItemsByIdentifier=function(e,t){for(var r=[],n=0;n<e.__itemModelArray.length;n++){var i=e.__itemModelArray[n];"expression"===i.type&&o.getAssignment(i)===t&&r.push(i)}return r},t.getHelperExpressionById=L,t.addHelperExpression=function(e,t){t=c.init(t),e.__helperIdToModel[t.id]=t},t.recomputeAnyItemDependsOnRandomSeed=T,t.clearAnyItemIsAction=function(e){e.__anyIsAction=!1},t.recomputeAnyItemIsAction=C,t.reindex=A,t.removeAllItems=O,t.getItemCount=P,t.hasNoVisibleExpressions=function(e){return 1===e.nextDisplayIndex},t.getAllModelsWithSliders=function(e){for(var t=[],r=0;r<e.__itemModelArray.length;r++){var n=e.__itemModelArray[r];"expression"===n.type&&n.sliderExists&&t.push(n)}return t},t.getSelected=D,t.getUndoRedoDiffState=function(e){return{list:e.__itemModelArray.map(function(e){return e.cachedUndoRedoDiffState}),ticker:u.getUndoRedoDiffState(e.ticker)}},t.getUndoRedoFullState=function(e){return{list:e.__itemModelArray.map(function(e){return e.cachedUndoRedoFullState}),ticker:u.getUndoRedoFullState(e.ticker)}},t.getState=function(e,t){var r={list:e.__itemModelArray.map(function(e){switch(e.type){case"expression":return o.getState(e,t);case"image":return l.getState(e,t);case"table":return a.getState(e,t);case"folder":return i.getState(e,t);case"text":return s.getState(e,t);default:return e}})};return(e=u.getState(e.ticker,t))&&(r.ticker=e),r},t.getLargestIntegerId=function(e){for(var t=0,r=/^[0-9]+$/,n=e.list.length-1;0<=n;n--){var o=e.list[n],i=o.id;if(r.test(i)&&(s=parseInt(i,10))>t&&(t=s),"table"===o.type&&o.columns)for(var a=o.columns.length-1;0<=a;a--){var s;i=o.columns[a].id;!r.test(i)||(s=parseInt(i,10))>t&&(t=s)}}return t},t.setListState=function(e,t,n){var o;for(n=n||{},e.colorIdx=0,O(e),e.expressionAnalysis={},o=0;o<t.list.length;o++){var i,a=F(e,t.list[o]);n.remapColors&&"color"in a&&a.color&&(i=h.values(e.controller.getColors()),h.contains(i,a.color)||(a.color=r.closestColor(a.color,i))),e.__itemModelArray.push(a),e.__itemIdToModel[a.id]=a}e.ticker=u.initModel(t.ticker),A(e),1===e.nextDisplayIndex&&q(e,F(e,{type:"expression",id:e.controller.generateId(),color:e.controller.getNextColor()}),e.__itemModelArray.length)},t.modelFromSpec=F,t.restoreListState=function(e,t){var r,n,c=e.__itemIdToModel;for(e.__itemModelArray=[],e.__itemIdToModel={},r=0;r<t.list.length;r++){var d=t.list[r];if((n=c[d.id])&&n.type===d.type)switch(n.type){case"expression":if(d.type!==n.type)throw new Error("invalid restoration");o.restoreState(n,d);break;case"table":if(d.type!==n.type)throw new Error("invalid restoration");a.restoreState(n,d);break;case"image":if(d.type!==n.type)throw new Error("invalid restoration");l.restoreState(n,d);break;case"folder":if(d.type!==n.type)throw new Error("invalid restoration");i.restoreState(n,d);break;case"text":if(d.type!==n.type)throw new Error("invalid restoration");s.restoreState(n,d);break;default:return n}else n=F(e,d);e.__itemModelArray.push(n),e.__itemIdToModel[n.id]=n}t.ticker&&u.restoreState(e.ticker,t.ticker),T(e),C(e),A(e)},t.onGraphComputed=function(e,t,r){var n,o,i=M(e,r[0]&&r[0].tableId||t);if(i)switch(i.type){case"expression":var s=!1;i.__workerNeedsDotplotXMode=!1;for(var c=0;c<r.length;c++)(o=r[c]).graphMode!==d.Z_3D&&o.graphMode!==d.OBJECT3D&&o.graphMode!==d.PARAMETRIC_CURVE_3D&&(o.graphMode!==d.ERROR?("resolved"in o&&!o.resolved&&(s=!0),o.boundingBox&&(n=n||[]).push(o.boundingBox),o.needsDotplotXMode&&(i.__workerNeedsDotplotXMode=!0)):i.error=o.error);i.unresolved=s,i.boundingBoxes=n;for(var l,u=1/0,p=-1/0,h=0,f=r;h<f.length;h++)(o=f[h]).graphMode!==d.POLAR||(l=o.sampledDomain)&&(u=Math.min(u,l.min),p=Math.max(p,l.max));return isFinite(u)&&(i.__workerSampledDomainMin=u),void(isFinite(p)&&(i.__workerSampledDomainMax=p));case"table":for(c=0;c<r.length;c++)(o=r[c]).graphMode!==d.Z_3D&&o.graphMode!==d.OBJECT3D&&o.graphMode!==d.PARAMETRIC_CURVE_3D&&o.boundingBox&&(n=n||[]).push(o.boundingBox);return void(n&&a.setColumnBoundingBoxes(i,t,n));default:return}},t.onEvaluatorFormulaUpdates=function(e,t){var r,n,i,s=f.default(e.expressionAnalysis);for(r in t)if(t.hasOwnProperty(r)){i=t[r],n=M(e,r);var d,p={isGraphable:!!i.is_graphable,isError:!!i.error,errorMessage:i.error?e.controller.unpack(i.error):void 0};if(n)switch(n.type){case"expression":o.onFormulaUpdate(n,i),i.zero_values&&1===i.zero_values.length?(d=i.zero_values[0].val,h.isNumber(d)&&(p.evaluation={type:"Number",value:d},p.evaluationDisplayed=!0),h.isArray(d)&&d.every(h.isNumber)&&(p.evaluation={type:"ListOfNumber",value:d.slice()},p.evaluationDisplayed=!0)):i.hasOwnProperty("constant_value")&&h.isNumber(i.constant_value)&&(p.evaluation={type:"Number",value:i.constant_value},p.evaluationDisplayed=!1);break;case"image":l.onFormulaUpdate(n,i);break;case"table":a.onFormulaUpdate(n,i);break;case"folder":case"text":break;default:return n}else if(r===e.ticker.id)u.onFormulaUpdate(e.ticker,i);else{var g=L(e,r);if(!g)continue;c.onFormulaUpdate(e.controller,g,i)}r!==e.ticker.id&&(s[r]=p)}T(e),C(e),e.expressionAnalysis=s},t.setSelected=N,t.moveItemsTo=function(e,t,r,o){var i;t!==r&&(i=e.__itemModelArray.splice(t,o),t<r&&(r=r-o+1),e.__itemModelArray.splice.apply(e.__itemModelArray,n.__spreadArray([r,0],i)),A(e))},t.insertItemAtIndex=q,t.insertItemAtEnd=function(e,t){q(e,t,P(e))},t.removeItemAtIndex=R,t.anyItemDependsOnRandomSeed=function(e){return e.__anyDependsOnRandomSeed},t.anyItemIsAction=function(e){return e.__anyIsAction},t.removeItemById=function(e,t){(t=M(e,t))&&R(e,t.index)},t.selectPrevItem=function(e){var t=D(e);if(!t)return!1;var r=y(e,t.index);return!!r&&(N(e,r),r.index===P(e)-1&&"expression"===t.type&&o.isEmpty(t)&&R(e,r.index),!0)},t.selectNextItem=function(e){var t=D(e);return!!t&&(!!(t=v(e,t.index))&&(N(e,t),!0))},t.isItemSelected=B,t.setDragState=function(e,t){e.dragState=t},t.getMissingVariablesForItem=function(e){switch(e.type){case"expression":return o.getMissingVariables(e);case"image":return l.getMissingVariables(e);case"table":case"text":case"folder":return[];default:return e}},t.collapseAllFolders=function(e,t){for(var r=0,n=S(e);r<n.length;r++){var o=n[r];"folder"===o.type&&i.setCollapsed(o,t)}}}),define("graphing-calc/models/abstract-item",["require","exports","./list","graphing-calc/models/expression","graphing-calc/models/table"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMaybeGradientDisplayColor=t.getDisplayColor=t.getDisplayState=t.updateIsHiddenFromUI=t.setFolderId=t.setSecret=t.DEFAULTS=t.getGUID=void 0;var i=0;function a(){return"abstract_item_"+i++}function s(e){return e.colorLatex?("expression"===e.type?(t=n.getColorLatexValue(e),r=n.isColorLatexValid(e)):"header"===e.type&&(t=o.getColorLatexValue(e),r=o.isColorLatexValid(e)),r&&t?t:e.color):e.color;var t,r}t.getGUID=a,t.DEFAULTS=function(e){return{guid:a(),controller:e,index:-1,displayIndex:-1,secretIndex:-1,isHiddenFromUI:!0,renderShell:!0}},t.setSecret=function(e,t){e.secret=t},t.setFolderId=function(e,t){"folder"!==e.type&&(e.folderId=t)},t.updateIsHiddenFromUI=function(e){e.isHiddenFromUI=r.isItemHiddenFromUI(e)},t.getDisplayState=function(e){return e.isHiddenFromUI||e.filteredBySearch?"none":e.renderShell?"shell":"render"},t.getDisplayColor=function(e){return e=s(e),Array.isArray(e)?e[0]:e},t.getMaybeGradientDisplayColor=s}),define("core/graphing-calc/json/table",["require","exports","tslib","core/lib/default-spec","core/types/styles","core/lib/dragmode"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computeParsableState=t.stripDefaults=t.inflateDefaults=t.COLUMN_DEFAULTS=t.DEFAULTS=void 0,t.DEFAULTS={folderId:"",secret:!1,columns:[]},t.COLUMN_DEFAULTS={latex:"",color:"",hidden:!1,values:[],points:!0,lines:!1,dragMode:i.DragMode.NONE,pointStyle:o.PointStyle.POINT,lineStyle:o.LineStyle.SOLID,colorLatex:"",lineOpacity:"",lineWidth:"",pointOpacity:"",pointSize:""},t.inflateDefaults=function(e){return(e=r.__assign(r.__assign({},t.DEFAULTS),e)).columns=e.columns.map(function(e){return r.__assign(r.__assign({},t.COLUMN_DEFAULTS),e)}),e},t.stripDefaults=function(e){return e=r.__assign(r.__assign({},e),{columns:e.columns.map(function(e){return n.stripDefaults(t.COLUMN_DEFAULTS,e)})}),n.stripDefaults(t.DEFAULTS,e)},t.computeParsableState=function(e){return{type:"table",id:e.id,columns:e.columns.map(function(t){return r.__assign(r.__assign({},t),{tableId:e.id})})}}}),define("graphing-calc/models/table",["require","exports","core/math/rational-arithmetic-sequence","tslib","core/types/styles","core/lib/dragmode","./abstract-item","underscore","core/lib/label","core/math/evaluate-single-expression","core/math/distance","core/lib/deepCopy","core/lib/copy-properties","graphing-calc/models/list","core/graphing-calc/json/table","core/graphing-calc/json/table","core/graphing-calc/json/table","core/lib/validate-color"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g,m,y){"use strict";function v(e,t,r,n){n.row=e.rowModels[t],n.row.cells.splice(r,0,n)}function b(e,t,r){e.rowModels[t].cells.splice(r,1)}function x(e){return isFinite(e)?c.truncatedLatexLabel(e,{digits:8,bigCutoff:1e6,smallCutoff:.001}):"\\mathrm{undefined}"}function w(e,t,r){var n=e.columnModels[t];n.error=r.error,n.discrete=r.discrete,n.disabled=r.dependent,n.draggable=!r.error&&!r.dependent,n.packedErrors=[],n.computedValues=[];for(var o=r.values,i=o.length-1;0<=i;i--){var a=o[i];n.computedValues[i]="number"==typeof a?x(a):"",n.packedErrors[i]=a&&a.key?a:void 0}}function E(e){if(!(e.isExpanded||(e=e.rowModels.length)<30))return{min:8,max:e-5}}function S(e,t){var r=e.columnModels[t];return{values:e.columns[t].values.slice(),dragMode:r.dragMode,hidden:r.hidden,id:r.id,color:r.color,points:r.points,lines:r.lines,pointStyle:r.pointStyle,lineStyle:r.lineStyle,latex:r.latex,colorLatex:r.colorLatex,lineOpacity:r.lineOpacity,lineWidth:r.lineWidth,pointSize:r.pointSize,pointOpacity:r.pointOpacity}}Object.defineProperty(t,"__esModule",{value:!0}),t.isColumnEmpty=t.doesCellExist=t.setCellLatex=t.shouldHideColumn=t.mergeBoundingBoxes=t.setColumnBoundingBoxes=t.setColumnHidden=t.setExpanded=t.setColumnColorLatex=t.setColumnColor=t.setColumnDragMode=t.setColumnPointOpacity=t.setColumnPointSize=t.setColumnLineOpacity=t.setColumnLineWidth=t.setColumnLineStyle=t.setColumnLines=t.setColumnPointStyle=t.setColumnPoints=t.getColumnModel=t.getSelectedCell=t.cloneTableAndExtendWithProperties=t.makeTableState=t.buildEntireColumnStructure=t.initModel=t.restoreState=t.computeTableStructureMutation=t.updateCachedUndoRedoState=t.setIsDraggingOnGrapher=t.updateCachedViewState=t.getState=t.stripBlankRowAndColumn=t.addBlankRowAndColumn=t.updateCachedParsableState=t.eachLatex=t.getRowAutoFillValues=t.removeColumn=t.insertBlankColumn=t.removeRow=t.insertBlankRow=t.onFormulaUpdate=t.onControllerUpdate=t.getColorLatexValue=t.isPointOpacityValid=t.isPointSizeValid=t.isLineWidthValid=t.isLineOpacityValid=t.isColorLatexValid=t.isDynamicPropValid=t.makeColumn=t.removeCellFromColumn=t.insertCellToColumn=t.makeRow=t.makeCell=t.getGUID=t.getColumnState=t.getCollapsedRange=t.updateIsCollapsedByFocusLocation=t.setColumnComputedValues=t.formatValueForDisplay=t.removeCellFromRow=t.insertCellToRow=void 0,t.insertCellToRow=v,t.removeCellFromRow=b,t.formatValueForDisplay=x,t.setColumnComputedValues=w,t.updateIsCollapsedByFocusLocation=function(e){var t,r=H(e);r&&((t=E(e))?r.row>=t.min&&r.row<t.max&&K(e,!0):e.isExpanded||K(e,!0))},t.getCollapsedRange=E,t.getColumnState=S;var k=0;function _(){return"table_guid_"+k++}function I(){return{guid:_(),type:"cell",row:void 0,column:void 0}}function M(e){return{type:"row",index:e,guid:_(),cells:[]}}function L(e,t,r,n){(t=e.columnModels[t]).cells.splice(r,0,n),n.column=t,e.columns[t.index].values.splice(r,0,"")}function T(e,t,r){(t=e.columnModels[t]).cells.splice(r,1),e.columns[t.index].values.splice(r,1)}function C(e,t,r){var o=r.color;o&&y.default(o)||(o=e.controller.getNextColor());var i=n.__assign(n.__assign({},r),{type:"header",guid:_(),index:t,error:void 0,table:e,color:o,packedErrors:[],computedValues:[],cells:void 0,row:void 0,discrete:void 0,shouldGraph:void 0,disabled:void 0,draggable:void 0});return i.cells=i.values.map(function(){var e=I();return e.column=i,e}),delete i.values,0===t&&(i.hidden=!0),i}function A(e,t){var r=e.table.formula;return!!r&&(!!(e=r.column_data[e.index])&&!!e[t])}function O(e,t){var r=M(t+1);e.rowModels.splice(t+1,0,r);for(var n=t+1;n<e.rowModels.length;n++)e.rowModels[n].index=n;for(n=0;n<e.columnModels.length;n++){var o=I();L(e,n,t,o),v(e,t+1,n,o)}}function P(e,t,r){var o=C(e,t,r=n.__assign(n.__assign(n.__assign({},f.COLUMN_DEFAULTS),r),{values:e.columns[0].values.map(function(){return""})}));e.columnModels.splice(t,0,o),e.columns.splice(t,0,r);for(var i=t+1;i<e.columnModels.length;i++)e.columnModels[i].index=i;for(v(e,0,t,o),i=1;i<e.rowModels.length;i++)v(e,i,t,o.cells[i-1])}function D(e){for(var t=m.computeParsableState({type:"table",id:e.id,secret:e.secret,folderId:e.folderId,columns:e.columnModels.map(function(t){return S(e,t.index)})}),r=0;r<t.columns.length;r++)t.columns[r].hidden=!e.columnModels[r].shouldGraph;e.cachedParsableState=t}function F(e,t){return(e=d.default(e)).push(n.__assign(n.__assign({},f.COLUMN_DEFAULTS),{id:t,values:e[0].values.map(function(){return""})})),e.forEach(function(e){e.values.push("")}),e}function N(e){return(e=d.default(e)).pop(),e.forEach(function(e){e.values.pop()}),e}function q(e,t){return e=n.__assign(n.__assign({},e.cachedViewState),{columns:N(e.cachedViewState.columns)}),t.stripDefaults?g.stripDefaults(e):e}function R(e){var t=e.columnModels.map(function(t,r){return S(e,r)});e.cachedViewState={id:e.id,type:e.type,folderId:e.folderId,columns:t,secret:e.secret}}function B(e){var t=n.__assign(n.__assign({},e.cachedViewState),{columns:N(e.cachedViewState.columns)});e.cachedUndoRedoFullState=t,e.preTransientState&&(t=n.__assign(n.__assign({},t),e.preTransientState)),e.cachedUndoRedoDiffState=t}function j(e,t){if(e.columnModels.length-1!==t.length)return{type:"start-fresh"};if(e.columnModels[0].cells.length-1!==t[0].values.length)return{type:"start-fresh"};for(var r=-1,n=t.length-1;0<=n;n--){var o=e.columns[n],i=t[n];if(o.id!==i.id)return{type:"start-fresh"};for(var a=o.values,s=i.values,c=s.length-1;0<=c;c--)if(a[c]!==s[c]&&(-1===r&&(r=c),r!==c))return{type:"start-fresh"}}return-1===r?{type:"none"}:{type:"edit-row",rowIndex:r}}t.getGUID=_,t.makeCell=I,t.makeRow=M,t.insertCellToColumn=L,t.removeCellFromColumn=T,t.makeColumn=C,t.isDynamicPropValid=A,t.isColorLatexValid=function(e){return A(e,"color_latex_valid")},t.isLineOpacityValid=function(e){return A(e,"line_opacity_valid")},t.isLineWidthValid=function(e){return A(e,"line_width_valid")},t.isPointSizeValid=function(e){return A(e,"point_size_valid")},t.isPointOpacityValid=function(e){return A(e,"point_opacity_valid")},t.getColorLatexValue=function(e){var t=e.table.formula;if(t&&(e=t.column_data[e.index]))return e.color_latex_value},t.onControllerUpdate=function(e){e.draggingOnGraphpaper?e.preTransientState||(e.preTransientState={columns:q(e,{stripDefaults:!1}).columns}):delete e.preTransientState,a.updateIsHiddenFromUI(e);var t=h.getParentFolderModel(e),r=t&&t.hidden;s.each(e.columnModels,function(e){e.shouldGraph=!r&&!e.hidden}),R(e),B(e),D(e)},t.onFormulaUpdate=function(e,t){e.formula=t;for(var r=e.formula.column_data,n=e.columnModels[0].cells.length,o=e.columnModels.length,i=0,a=0;a<r.length;a++){var s=r[a].values.length;i<s&&(i=s)}for(a=i-n;0<a;a--)O(e,n),n++;for(a=0;a<r.length&&a<o;a++)w(e,a,r[a]);(t=e.columnModels[e.columnModels.length-1]).disabled=!0,t.error=void 0},t.insertBlankRow=O,t.removeRow=function(e,t){var r=E(e);r&&t===r.max-1&&K(e,!0);for(var n=0;n<e.columnModels.length;n++)T(e,n,t);for(e.rowModels.splice(t+1,1),n=t+1;n<e.rowModels.length;n++)e.rowModels[n].index=n},t.insertBlankColumn=P,t.removeColumn=function(e,t){e.columns.splice(t,1),e.columnModels.splice(t,1);for(var r=t;r<e.columnModels.length;r++)e.columnModels[r].index=r;for(r=0;r<e.rowModels.length;r++)b(e,r,t)},t.getRowAutoFillValues=function(e,t){var n=e.columnModels.length,o=[];for(h=0;h<n;h++)o.push("");var i=e.columns[0].values;if(1<t){var a=e.controller.isDegreeMode(),s=l.default(i[0],a);e=l.default(i[1],a);if(isFinite(s)&&isFinite(e)){var c=r(s,e);if(c){for(var d=c.nstart,p=d/c.lcm,h=0;h<t;h++){var f=l.default(i[h],a);if(!u.approx(f,p))return o;p=(d+=c.nstep)/c.lcm}o[0]=(""+s).length<8&&(""+e).length<8?""+p:"\\frac{"+d+"}{"+c.lcm+"}"}}}return o},t.eachLatex=function(e,t){for(var r=0;r<e.columnModels.length;r++){t(e.columnModels[r].latex,"tableHeader",e,{cellLocation:{column:r,row:0}});for(var n=e.columns[r],o=0;o<n.values.length;o++)n.values[o]&&t(n.values[o],"tableCellValue",e,{cellLocation:{column:r,row:o+1}})}},t.updateCachedParsableState=D,t.addBlankRowAndColumn=F,t.stripBlankRowAndColumn=N,t.getState=q,t.updateCachedViewState=R,t.setIsDraggingOnGrapher=function(e,t){e.draggingOnGraphpaper=t},t.updateCachedUndoRedoState=B,t.computeTableStructureMutation=j;var V={id:!1,type:!1,columns:!1,folderId:!0,secret:!0},U={id:!1,values:!1,color:!0,latex:!0,hidden:!0,points:!0,lines:!0,dragMode:!0,lineStyle:!0,pointStyle:!0,colorLatex:!0,lineOpacity:!0,lineWidth:!0,pointSize:!0,pointOpacity:!0};function G(e){e.columnModels=e.columns.map(function(t,r){return C(e,r,t)}),e.rowModels=[M(0)];for(var t=0;t<e.columnModels.length;t++)v(e,0,t,e.columnModels[t]);for(t=0;t<e.columnModels[0].cells.length;t++){var r=M(t+1);e.rowModels.push(r);for(var n=0;n<e.columnModels.length;n++)v(e,t+1,n,e.columnModels[n].cells[t])}}t.restoreState=function(e,t){var r=j(e,t.columns);if(p.copyProperties({from:t,to:e,props:V}),"start-fresh"===r.type)e.columns=F(t.columns,e.controller.generateId()),G(e);else{switch(r.type){case"none":break;case"edit-row":for(var n=t.columns.length-1;0<=n;n--)Y(e,{column:n,row:r.rowIndex+1},t.columns[n].values[r.rowIndex]);break;default:return r}for(var o=0;o<t.columns.length;o++)p.copyProperties({from:t.columns[o],to:e.columnModels[o],props:U})}},t.initModel=function(e,t){e=d.default(g.inflateDefaults(e));var r=n.__assign(n.__assign(n.__assign({},e),a.DEFAULTS(t)),{columnModels:void 0,rowModels:void 0,formula:void 0,draggingOnGraphpaper:!1,cachedViewState:{},cachedParsableState:{},cachedUndoRedoDiffState:{},cachedUndoRedoFullState:{},isExpanded:!1});r.columns=F(r.columns,t.generateId());for(var o=0,i=0;i<r.columns.length;i++)r.columns[i].values||(r.columns[i].values=[]),r.columns[i].values.length>o&&(o=r.columns[i].values.length);for(i=0;i<r.columns.length;i++)for(var s=o-r.columns[i].values.length;0<s;s--)r.columns[i].values.push("");return G(r),r},t.buildEntireColumnStructure=G;var z=["x","y","z","u","v","w"];function H(e){var t=e.controller.getFocusLocation();return t&&"table"===t.type&&t.id===e.id?t.location:void 0}function W(e,t){for(var r=0;r<e.columnModels.length;r++){var n=e.columnModels[r];if(n.id===t)return n}}function K(e,t){e.isExpanded=t}function $(e){var t=[];e.columnModels.forEach(function(e){e.boundingBoxes&&!e.hidden&&(t=t.concat(e.boundingBoxes))}),e.boundingBoxes=t}function Y(e,t,r){if(0===t.row){var n=W(e,e.columnModels[t.column].id);return n?(n.latex=r,void(t.column>=e.columnModels.length-1&&P(e,t.column+1,{id:e.controller.generateId(),latex:"",color:e.controller.getNextColor()}))):void 0}n=e.columnModels[t.column],""!==(e.columns[n.index].values[t.row-1]=r)&&t.row>=e.columnModels[0].cells.length&&O(e,t.row)}t.makeTableState=function(e,t,r){for(var n=[],a=Math.min(t.length,z.length),s=0;s<a;s++)n.push({id:r.generateId(),latex:c.identifierToLatex(z[s]+"_"+e),values:t[s],color:r.getNextColor(),hidden:!1,points:!0,lines:!1,dragMode:i.DragMode.NONE,pointStyle:o.PointStyle.POINT,lineStyle:o.LineStyle.SOLID,colorLatex:"",lineWidth:"",lineOpacity:"",pointOpacity:"",pointSize:""});return{id:r.generateId(),type:"table",folderId:"",secret:!1,columns:n}},t.cloneTableAndExtendWithProperties=function(e,t){var r=q(e,{stripDefaults:!1});if(!r.columns||!t.columns)return t;for(var n=0;n<t.columns.length;n++){var o=r.columns[n],i=t.columns[n];if(o)for(var a in o)o.hasOwnProperty(a)&&(i.hasOwnProperty(a)||(i[a]=o[a]))}return t},t.getSelectedCell=H,t.getColumnModel=W,t.setColumnPoints=function(e,t,r){(t=W(e,t))&&((t.points=r)||(t.dragMode=i.DragMode.NONE))},t.setColumnPointStyle=function(e,t,r){(t=W(e,t))&&(t.pointStyle=r)},t.setColumnLines=function(e,t,r){(t=W(e,t))&&(t.lines=r)},t.setColumnLineStyle=function(e,t,r){(t=W(e,t))&&(t.lineStyle=r)},t.setColumnLineWidth=function(e,t,r){(t=W(e,t))&&(t.lineWidth=r)},t.setColumnLineOpacity=function(e,t,r){(t=W(e,t))&&(t.lineOpacity=r)},t.setColumnPointSize=function(e,t,r){(t=W(e,t))&&(t.pointSize=r)},t.setColumnPointOpacity=function(e,t,r){(t=W(e,t))&&(t.pointOpacity=r)},t.setColumnDragMode=function(e,t,r){(t=W(e,t))&&((t.dragMode=r)===i.DragMode.NONE||t.points||(t.points=!0))},t.setColumnColor=function(e,t,r){(t=W(e,t))&&y.default(r)&&(t.color=r,t.colorLatex="")},t.setColumnColorLatex=function(e,t,r){(t=W(e,t))&&(t.colorLatex=r)},t.setExpanded=K,t.setColumnHidden=function(e,t,r){!(t=W(e,t))||(t.hidden=r)&&$(e)},t.setColumnBoundingBoxes=function(e,t,r){(t=W(e,t))&&(t.boundingBoxes=r,$(e))},t.mergeBoundingBoxes=$,t.shouldHideColumn=function(e,t){return!(t=W(e,t))||!t.points&&!t.lines},t.setCellLatex=Y,t.doesCellExist=function(e,t){return t.row<e.rowModels.length&&t.column<e.columnModels.length},t.isColumnEmpty=function(e){if(e.values)for(var t=0,r=e.values;t<r.length;t++)if(""!==r[t])return!1;if(e.computedValues)for(var n=0,o=e.computedValues;n<o.length;n++)if(""!==o[n])return!1;return!0}}),define("main/propagate_selection",["require","graphing-calc/models/table"],function(e){"use strict";var t=e("graphing-calc/models/table");function r(e){var r,n,o=e&&e.id;return e&&"table"===e.type&&(o=(r=t.getSelectedCell(e))&&(n=e.columnModels[r.column])?n.id:void 0),e&&"folder"===e.type&&(o=(e=e.selectedHiddenChild)?e.id:void 0),o}return{getSelectedId:r,propagateSelection:function(e,t,n,o){return(e=r(e.getSelectedItem()))!==o&&t.select(e),e}}}),define("graphing/canvaslayer",["require","jquery","pjs","browser"],function(e){"use strict";var t=e("jquery"),r=e("pjs"),n=e("browser");return r(function(e){e.init=function(e){this.grapher=e,this.$=t("<div class='dcg-graph-outer' role='img'></div>").attr("aria-roledescription",this.s("graphing-calculator-narration-graphpaper-label")),this.canvas_node=t("<canvas class='dcg-graph-inner'></canvas>").css("position","relative").css("display","block"),this.devicePixelRatio=window.devicePixelRatio||1,this.ctx=this.canvas_node[0].getContext("2d"),this.resize(0,0),n.IS_IOS&&n.IS_IN_IFRAME&&(this.$.css("-webkit-transform","translate3d(0,-.25px,0)"),this.$.append('<div style="width:1px; height:.5px; pointer-events:none; opacity: 0;" aria-hidden="true">text</div>')),this.$.append(this.canvas_node)},e.resize=function(e,t,r){r=r||this.devicePixelRatio,e===this.width&&t===this.height||(this.width=e,this.height=t,this.canvas_node.css("width",e+"px").css("height",t+"px").attr("width",e*r).attr("height",t*r),this.ctx=this.canvas_node[0].getContext("2d"),this.ctx.scale(r,r))},e.s=function(e,t){return this.grapher.controller.s(e,t)},e.getAriaLabel=function(e){var t=this.grapher.getAudioTrace();if(!t)return"";var r=this.s("graphing-calculator-narration-graphpaper-label")+". "+t.getAxesDescription();return 0===e||t.getAudioTraceActive()||void 0!==t.agNavigator.getFirstTraceableSketch({selectAssociatedExpression:!1})&&(n.IS_APPLE?r+=" "+this.s("graphing-calculator-narration-audio-instructions-enter-audio-trace-mac"):r+=" "+this.s("graphing-calculator-narration-audio-instructions-enter-audio-trace-windows")),r},e.updateAria=function(e,t){this.$.attr("aria-hidden",!e||!this.grapher.settings.config.graphpaper).attr("tabindex",e&&this.grapher.settings.config.graphpaper&&this.grapher.settings.config.enableTabindex&&0<t?0:-1).attr("aria-label",this.getAriaLabel(t))},e.redraw=function(){}})}),define("loadcss!poi",function(){}),define("graphing/constants",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LINE_WIDTH=t.OFFSCREEN_RENDER_MARGIN=t.POI_ALPHA=t.POLAR_ALPHA=t.HIGHLIGHTED_POINT_ALPHA=t.POINT_ALPHA=t.FILL_ALPHA=t.MAX_DOTTED_SEGMENTS=t.ZOOM_FACTOR=t.DOUBLETAP_ZOOM=t.ANIMATE_ZOOM_DURATION=void 0,t.ANIMATE_ZOOM_DURATION=500,t.DOUBLETAP_ZOOM=2,t.ZOOM_FACTOR=1.0625,t.MAX_DOTTED_SEGMENTS=1e3,t.FILL_ALPHA=.4,t.POINT_ALPHA=.9,t.HIGHLIGHTED_POINT_ALPHA=.6,t.POLAR_ALPHA=.2,t.POI_ALPHA=.01,t.OFFSCREEN_RENDER_MARGIN=20,t.LINE_WIDTH=2.5}),define("graphing/dasheddrawer",["require","exports","./constants","core/math/distance"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DashedDrawer=void 0;var o=(i.getDashedPattern=function(e,t){return[t=11*e.lineWidth/(t?3.5:2.5),7*t/11]},i.getDottedPattern=function(e,t,r){return r=8*(e=.5*e.lineWidth*.1/(r?3.5:2.5))/.1,t&&(r*=2),[e,r]},i.getTotalSegmentLength=function(e){if(e.length<4)return 0;for(var t,r,o=0,i=0,a=e[0],s=e[1];isNaN(a)||isNaN(s);){if((i+=2)>=e.length)return 0;a=e[i],s=e[i+1]}for(i+=2;i<e.length;i+=2)t=e[i],r=e[i+1],isNaN(t)||isNaN(r)||(o+=n.hypot(t-a,r-s),a=t,s=r);return o},i.prototype.start=function(e,t){this.ctx.desmos_batching||this.ctx.beginPath(),this.px=e,this.py=t},i.prototype.next=function(e,t){if(null===this.px||null===this.py)throw new Error("Must call start before calling next");var r=this.pattern[this.pstate],n=Math.sqrt(Math.pow(e-this.px,2)+Math.pow(t-this.py,2));if(1e-5<n){for(;n+this.dstaccum>=r;){var o=e-this.px,i=t-this.py,a=r-this.dstaccum;o*=a/n,i*=a/n,0===this.pstate&&(this.ctx.moveTo(this.px,this.py),this.ctx.lineTo(this.px+o,this.py+i)),this.dstaccum=0,this.px+=o,this.py+=i,this.pstate=0===this.pstate?1:0,r=this.pattern[this.pstate],n-=a}0===this.pstate&&(this.ctx.moveTo(this.px,this.py),this.ctx.lineTo(e,t))}this.px=e,this.py=t,this.dstaccum+=n},i.prototype.close=function(){this.ctx.desmos_batching||this.ctx.stroke(),this.pstate=0,this.dstaccum=0,this.px=null,this.py=null},i.prototype.drawSegment=function(e){for(var t,r,n=0,o=e[0],i=e[1];isNaN(o)||isNaN(i);){if((n+=2)>=e.length)return;o=e[n],i=e[n+1]}for(this.start(o,i),n+=2;n<e.length;n+=2)t=e[n],r=e[n+1],isNaN(t)||isNaN(r)||this.next(t,r);this.close()},i);function i(e,t,n){this.pattern=n,this.replen=this.pattern[0]+this.pattern[1],t/this.replen>r.MAX_DOTTED_SEGMENTS&&(this.pattern[0]=t*this.pattern[0]/this.replen/r.MAX_DOTTED_SEGMENTS,this.pattern[1]=t*this.pattern[1]/this.replen/r.MAX_DOTTED_SEGMENTS),this.pstate=0,this.dstaccum=0,this.px=null,this.py=null,this.ctx=e}t.DashedDrawer=o}),define("graphing/viewport",["require","exports"],function(e,t){"use strict";function r(e,t){return e<e+1e-8*(t-e)&&1e-300<t-e&&t-e<1e300}Object.defineProperty(t,"__esModule",{value:!0}),t.Viewport=void 0;var n=(o.fromObject=function(e){return new o(e.xmin,e.xmax,e.ymin,e.ymax)},o.prototype.toObject=function(){return{xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax}},o.prototype.equals=function(e){return this.xmin===e.xmin&&this.ymin===e.ymin&&this.xmax===e.xmax&&this.ymax===e.ymax},o.prototype.isXValid=function(){return r(this.xmin,this.xmax)},o.prototype.isYValid=function(){return r(this.ymin,this.ymax)},o.prototype.isValid=function(){return this.isXValid()&&this.isYValid()},o.prototype.isSquare=function(e){return Math.abs(e.height-e.width*this.aspectRatio())<1},o.prototype.aspectRatio=function(){return(this.ymax-this.ymin)/(this.xmax-this.xmin)},o.prototype.squareXAxis=function(e){var t=this.xmax-this.xmin,r=this.ymax-this.ymin;return new o((t=this.xmin+t/2)-(e=r/e.height*e.width)/2,t+e/2,this.ymin,this.ymax)},o.prototype.squareYAxis=function(e){var t=this.xmax-this.xmin,r=this.ymax-this.ymin;r=this.ymin+r/2,e=t/e.width*e.height;return new o(this.xmin,this.xmax,r-e/2,r+e/2)},o.prototype.squareCrop=function(e){return this.aspectRatio()>e.height/e.width?this.squareYAxis(e):this.squareXAxis(e)},o.prototype.polarDiameter=function(){var e=Math.abs(this.xmax),t=Math.abs(this.xmin),r=Math.abs(this.ymax),n=Math.abs(this.ymin);return 1.5*Math.max(e,t,r,n)},o.prototype.largestR=function(){return Math.sqrt(Math.pow(Math.max(-this.xmin,this.xmax),2)+Math.pow(Math.max(-this.ymin,this.ymax),2))},o.prototype.smallestR=function(){return this.xmin<=0&&0<=this.xmax&&this.ymin<=0&&0<=this.ymax?0:this.xmin<=0&&0<=this.xmax?Math.min(Math.abs(this.ymin),Math.abs(this.ymax)):this.ymin<=0&&0<=this.ymax?Math.min(Math.abs(this.xmin),Math.abs(this.xmax)):Math.sqrt(Math.pow(Math.max(this.xmin,-this.xmax),2)+Math.pow(Math.max(this.ymin,-this.ymax),2))},o);function o(e,t,r,n){void 0===e&&(e=-10),void 0===t&&(t=10),void 0===r&&(r=-10),void 0===n&&(n=10),this.xmin=e,this.xmax=t,this.ymin=r,this.ymax=n}t.Viewport=n}),define("core/types/line-opacity",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT=void 0,t.DEFAULT=.9}),define("core/types/point-opacity",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT=void 0,t.DEFAULT=.9}),define("graphing/draw-image-to-ctx",["require","exports","graphing-calc/models/list","./svg-classes"],function(e,t,r,n){"use strict";var o;function i(e,t){if(o&&o.color===t&&o.img===e)return o.canvas;o?(o.color=t,o.img=e):o={color:t,img:e,canvas:document.createElement("canvas")};var r=o.canvas;r.width=0,r.width=e.width,r.height=e.height;var n=r.getContext("2d");return n.drawImage(e,0,0),n.fillStyle=t,n.globalCompositeOperation="source-atop",n.fillRect(0,0,e.width,e.height),r}Object.defineProperty(t,"__esModule",{value:!0}),t.drawImageToCtx=void 0,t.drawImageToCtx=function(e,t,o){var a=e.formula;if(a&&a.dimensions.x)for(var s=a.dimensions,c=0;c<s.x.length;c++){var l,u,d,p,h,f,g,m=s.x[c],y=s.y[c],v=s.width[c],b=s.height[c],x=s.radianAngle[c];isFinite(m)&&isFinite(y)&&isFinite(v)&&isFinite(b)&&isFinite(x)&&(n.save(t,"dcg-svg-image"),t.save(),n.restore(t),t.globalAlpha=s.opacity[c],d=o.mapy(b)-o.mapy(0),u=o.mapx(v)-o.mapx(0),l=0===x?1:Math.abs(u/v*(b/d)),m=((f=o.mapx(m))-u/2)*(g=v<0?-1:1),b=((v=o.mapy(y))+d*l/2)*(y=b<0?-1:1),u=Math.abs(u),d=Math.abs(d),0!==x&&(t.translate(f,v),t.scale(1,1/l),t.rotate(x),t.translate(-f,-v)),t.scale(g,y),v=f=!1,(g=e.controller.getGrapher())&&"2d"===g.type&&(f=g.clickableObjectsLayer.shouldDrawHovered(e.id),p=g.clickableObjectsLayer.getHoveredObject(),v=g.clickableObjectsLayer.shouldDrawPressed(e.id),h=g.clickableObjectsLayer.getPressedObject()),g=y=e.imageObj,v&&h&&h.listIndex==c?g=e.depressedImageObj||i(y,"rgba(50,50,50,0.2)"):f&&p&&p.listIndex===c&&(g=e.hoveredImageObj||i(y,"rgba(200,200,200,0.2)")),t.drawImage(g,m,b,u,d*l),r.isItemSelected(e)&&e.controller.isTraceEnabled()&&(t.beginPath(),t.rect(m,b,u,d*l),t.restore(),t.save(),t.strokeStyle="#6993C7",t.lineWidth=2,t.stroke()),t.restore())}}}),define("graphing/svg-groups",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.restore=t.setTitle=t.save=void 0,t.save=function(e,t){e._dcgStartNamedGroup&&e._dcgStartNamedGroup(t)},t.setTitle=function(e,t){e._dcgSetTitle&&e._dcgSetTitle(t)},t.restore=function(e){e._dcgEndNamedGroup&&e._dcgEndNamedGroup()}}),define("graphing/graphslayer",["require","exports","./clipping","./dasheddrawer","./constants","./viewport","core/types/graphmode","core/lib/color-helpers","core/types/styles","core/types/line-opacity","core/types/point-opacity","core/types/point-size","./draw-image-to-ctx","./svg-groups","./svg-classes","core/math/distance"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphsLayer=void 0;var m={};function y(e){return void 0===e&&(e={}),Object.keys(e).length}function v(e,t){return void 0===t&&(t={}),0===y(t)?e:e.filter(function(e,r){return!t[r]})}function b(e,t){for(var r=[],n=0;n<e;n++)r.push(t);return r}function x(e,t){var r=3;return t&&(r+=t),new i.Viewport(-r,e.width+r,-r,e.height+r)}var w=(E.prototype.redrawToCtx=function(e,t,r,n,o,i,a,s){var c=this;h.save(e,"expressions"),o.forEach(function(o){var l=r[o],u=n[o];void 0!==l&&(h.save(e,"sketch"),t.settings.takingScreenshot&&h.setTitle(e,c.getExpressionAriaLabel(o)),E.drawSketchToCtx(r[o],e,t,i,a,s),h.restore(e)),u&&u.shouldGraph&&u.foreground&&p.drawImageToCtx(u,e,t)}),h.restore(e)},E.eachSegment=function(e,t){for(var r=0,n=e.branches;r<n.length;r++){var o=n[r];if(o.graphMode!==a.ERROR)for(var i=0,s=o.segments;i<s.length;i++)t(o,s[i])}},E.drawSketchToCtx=function(e,t,r,n,i,s){if(s=s||{},e.branches&&e.branches.length){var p=t.lineWidth,h=t.globalAlpha,f=r.settings.globalCurveColor||e.color,g=m[f];g&&g.complete&&0<g.naturalWidth?(g=t.createPattern(g,"repeat"),t.fillStyle=g):t.fillStyle=f,t.strokeStyle=f,t.lineJoin="round",t.lineCap="round";for(var v=!!r.settings.takingScreenshot,x=!!s.showMovablePoints,w=i.getHoveredObject(),S=i.getPressedObject(),k=0,_=e.branches;k<_.length;k++){var I=_[k];if(I.graphMode!==a.XYPOINT&&I.graphMode!==a.XYPOINT_MOVABLE&&I.graphMode!==a.ERROR){var M=1;i.shouldDrawHovered(e.id)&&w&&w.listIndex===I.listIndex&&(M=1.2),i.shouldDrawPressed(e.id)&&S&&S.listIndex===I.listIndex&&(M=1.4),!I.color||r.settings.globalCurveColor||Object.keys(m).length||(t.fillStyle=I.color),I.graphMode!==a.POLAR&&(t.desmos_batching=!0,t.beginPath());for(var L=0,T=I.segments;L<T.length;L++){var C,A,O=T[L],P=null!==(A=I.graphMode)&&void 0!==A?A:a.Y;P!==a.POLYGONFILL||r.settings.disableFill?P!==a.IMPLICIT&&(A="<="==(C=I.operator)||"<"==C,r.settings.disableFill||"<"!=C&&">"!=C&&"<="!=C&&">="!=C||E.fillGraphStrokeToCtx(t,r,O,A,P)):E.fillPolygonToCtx(t,r,O,void 0===I.fillOpacity?NaN:I.fillOpacity*M)}t.globalAlpha=E._clampedOpacity(void 0===I.fillOpacity?NaN:I.fillOpacity*M,o.FILL_ALPHA),I.graphMode!==a.POLAR&&(t.fill(),t.desmos_batching=!1),t.globalAlpha=1}}E.eachSegment(e,function(n,s){var u,d,p,h,f;n.graphMode!==a.XYPOINT&&n.graphMode!==a.XYPOINT_MOVABLE&&n.graphMode!==a.ERROR&&(u=a.Y,n.graphMode&&(u=n.graphMode),d=s,f=void 0!==n.lineWidth,h=n.lineWidth,p=o.LINE_WIDTH,t.strokeStyle=n.color,t.fillStyle=n.color,f&&(h<=0||!isFinite(h))||(t.lineWidth=f?h:p,s=r.settings.graphLineWidth/p,t.lineWidth*=s,t.globalAlpha*=r.settings.curveOpacity,t.globalAlpha=E._clampedOpacity(1===r.settings.curveOpacity?1:n.lineOpacity,l.DEFAULT),h="default","<"===(p=n.operator)||">"===p||"!="===p?h=c.LineStyle.DASHED:"<="===p||">="===p?h=c.LineStyle.SOLID:e.style===c.LineStyle.DASHED||n.style===c.LineStyle.DASHED?h=c.LineStyle.DASHED:e.style!==c.LineStyle.DOTTED&&n.style!==c.LineStyle.DOTTED||(h=c.LineStyle.DOTTED,f&&(t.lineWidth*=2)),s=i.getHoveredObject(),f=i.shouldDrawHovered(e.id)&&s&&s.listIndex===n.listIndex,s=i.getPressedObject(),((n=i.shouldDrawPressed(e.id)&&s&&s.listIndex===n.listIndex)||f)&&(t.save(),t.lineWidth+=4.5,t.globalAlpha*=n?.5:.3,E.drawGraphStrokeToCtx(t,r,d,h,u,p),t.restore()),E.drawGraphStrokeToCtx(t,r,d,h,u,p)))}.bind(this)),t.lineWidth=p,t.globalAlpha=h,E.eachSegment(e,function(o,s){if(o.graphMode===a.XYPOINT&&o.showPoint||o.graphMode===a.XYPOINT_MOVABLE&&v){var c=s,l=[],p=void 0;if(o.interactiveLabel&&e.labels)for(var h=0,f=e.labels.length;h<f;h++){var g=e.labels[h],m=n.isOpenPOI(g);g=n.getHoveredPOI()===g;l.push(m||g),!m&&g&&(p=h)}var w=o.graphMode===a.XYPOINT_MOVABLE&&v&&!x&&1===o.pointOpacity,S=1;"number"==typeof o.pointSize?S=o.pointSize/d.DEFAULT:Array.isArray(o.pointSize)&&(S=o.pointSize.map(function(e){return e/d.DEFAULT}));var k=void 0;Array.isArray(o.color)&&(k=o.color);var _,I=i.getHoveredObject(),M=i.shouldDrawHovered(e.id),L=i.getPressedObject(),T=i.shouldDrawPressed(e.id),C=o.droppedIndices;(M||T)&&(_=c.length,C&&(_+=y(C)),s=b(_,0),_=Array.isArray(S)?S.slice():b(_,S),T&&L?(s[L.listIndex]=.5,_[L.listIndex]*=1.5):M&&I&&(s[I.listIndex]=.3,_[I.listIndex]*=1.5),E.drawPointsToCtx({ctx:t,projection:r,segment:c,style:o.style,sizeOverrideIdxs:l,opacityOverrideIdx:p,sizeFactor:_,opacityFactor:s,colorOverrides:k,baseOpacity:o.pointOpacity,droppedIndices:C}),t.restore()),E.drawPointsToCtx({ctx:t,projection:r,segment:c,style:o.style,sizeOverrideIdxs:l,opacityOverrideIdx:p,sizeFactor:S,opacityFactor:1,colorOverrides:k,baseOpacity:w?u.DEFAULT:o.pointOpacity,droppedIndices:C})}}.bind(this))}},E.drawGraphStrokeToCtx=function(e,t,o,i,a,s){s=r.getClippingGraphType(a,"="!==s,t.settings),s=r.mapSegmentToCanvas(o,t.viewport,t.screen,s);var l=r.clipStrokeEdges(s,x(t.screen,e.lineWidth));if(0!==l.length){if(e.save(),f.save(e,"dcg-svg-curve"),i==c.LineStyle.DASHED)new n.DashedDrawer(e,n.DashedDrawer.getTotalSegmentLength(l),n.DashedDrawer.getDashedPattern(e,!!t.settings.highlight)).drawSegment(l);else if(i==c.LineStyle.DOTTED)new n.DashedDrawer(e,n.DashedDrawer.getTotalSegmentLength(l),n.DashedDrawer.getDottedPattern(e,!!t.settings.config.projectorMode,!!t.settings.highlight)).drawSegment(l);else if(i!==c.LineStyle.SOLID&&"default"!==i||1!==e.lineWidth){for(e.desmos_batching||e.beginPath(),e.moveTo(l[0],l[1]),u=0;u<l.length;u+=2)e.lineTo(l[u],l[u+1]);e.desmos_batching||e.stroke()}else{if(e.desmos_batching||e.beginPath(),4<l.length||l[0]!==l[2]&&l[1]!==l[3]){e.moveTo(l[0],l[1]);for(var u=0;u<l.length;u+=2)e.lineTo(l[u],l[u+1])}else for(e.moveTo(g.halfRound(l[0]),g.halfRound(l[1])),u=0;u<l.length;u+=2)e.lineTo(g.halfRound(l[u]),g.halfRound(l[u+1]));e.desmos_batching||e.stroke()}f.restore(e),e.restore()}},E.mapPointToScreen=function(e,t,r){return(t=e.mapx(t))<-20||t>e.screen.width+20?null:(r=e.mapy(r))<-20||r>e.screen.height+20?null:{x:t,y:r}},E.drawPointToCtx=function(e,t,r,n,i,a,s,l,u,d){var p=e.lineWidth,h=e.fillStyle,g=e.strokeStyle;if(!(n=E.mapPointToScreen(t,r,n)))return!1;if(void 0!==l&&(l<=0||!isFinite(l)))return!1;f.save(e,"dcg-svg-point"),e.globalAlpha=void 0!==i?i:o.POINT_ALPHA,void 0!==u&&(e.globalAlpha*=u),e.desmos_batching||e.beginPath();var m;u=t.settings.pointLineWidth;return s&&(u=t.settings.config.projectorMode?17:11,e.lineWidth=u),void 0!==l&&(u*=l,e.lineWidth=u),d&&(e.fillStyle=d,e.strokeStyle=d),a===c.PointStyle.CROSS?(m=.4*u,e.moveTo(n.x-m,n.y-m),e.lineTo(n.x+m,n.y+m),e.moveTo(n.x+m,n.y-m),e.lineTo(n.x-m,n.y+m),e.lineWidth=.3*u):a===c.PointStyle.OPEN?(m=.42*u,e.moveTo(n.x+m,n.y),e.arc(n.x,n.y,m,0,2*Math.PI,!0),e.closePath(),e.fillStyle="white",e.lineWidth=.25*u,e.fill()):(e.moveTo(n.x-.1,n.y-.1),e.lineTo(n.x-.1,n.y+.1),e.lineTo(n.x+.1,n.y+.1),e.lineTo(n.x+.1,n.y-.1)),e.desmos_batching||e.stroke(),e.globalAlpha=1,e.lineWidth=p,e.fillStyle=h,e.strokeStyle=g,f.restore(e),!0},E.drawPointsToCtx=function(e){var t,r=e.ctx,n=e.projection,i=e.segment,a=e.style,s=e.sizeOverrideIdxs,c=e.opacityOverrideIdx,l=e.sizeFactor,u=e.opacityFactor,d=e.colorOverrides,p=e.baseOpacity,h=e.droppedIndices;e=r.lineWidth;r.lineWidth=n.settings.pointLineWidth,t=Array.isArray(p)?v(t=p.map(function(e){return E._clampedOpacity(e,o.POINT_ALPHA)}.bind(this)),h):E._clampedOpacity(p,o.POINT_ALPHA),Array.isArray(l)&&(l=v(l,h)),Array.isArray(u)&&(u=v(u,h)),d=d&&v(d,h);for(var f=0;f<i.length;f++)E.drawPointToCtx(r,n,i[f][0],i[f][1],c===f?o.HIGHLIGHTED_POINT_ALPHA:Array.isArray(t)?t[f]:t,a,s[f],Array.isArray(l)?l[f]:l,Array.isArray(u)?u[f]:u,d&&d[f]);r.lineWidth=e},E.fillGraphStrokeToCtx=function(e,t,n,i,s){e.globalAlpha=s===a.POLAR?o.POLAR_ALPHA:o.FILL_ALPHA;var c,l,u,d=null,p=null;if(s===a.POLAR?(p=r.ALL,l=i?0:t.viewport.polarDiameter(),u=t.settings.degreeMode?180:2*Math.PI,d=r.computePolarFill(n,l,u)):s===a.Y?(p=r.Y,c=i?t.viewport.ymin:t.viewport.ymax,d=r.computeCartesianFill(n,c)):s===a.X&&(p=r.X,c=i?t.viewport.xmin:t.viewport.xmax,d=r.computeCartesianFill(n,c)),null!==d&&null!==p){for(var h=x(t.screen),g=0,m=d;g<m.length;g++){var y=m[g],v=r.getClippingGraphType(s,!0,t.settings),b=(v=r.mapSegmentToCanvas(y,t.viewport,t.screen,v),r.clipFillEdges(v,h,p,!1));if(6<=b.length){f.save(e,"dcg-svg-region"),e.desmos_batching||e.beginPath(),e.moveTo(b[0],b[1]);for(var w=2;w<b.length;w+=2)e.lineTo(b[w],b[w+1]);e.lineTo(b[0],b[1]),e.desmos_batching||e.fill(),f.restore(e)}}e.globalAlpha=1}},E._clampedOpacity=function(e,t){return"number"!=typeof e?t:e<0?0:1<e?1:isFinite(e)?e:t},E.fillPolygonToCtx=function(e,t,n,i){var a=x(t.screen);e.globalAlpha=E._clampedOpacity(i,o.FILL_ALPHA);t=r.mapSegmentToCanvas(n,t.viewport,t.screen,r.Y_EQUALS);var s=r.clipFillEdges(t,a,r.ALL,!1);if(6<=s.length){f.save(e,"dcg-svg-region"),e.desmos_batching||e.beginPath(),e.moveTo(s[0],s[1]);for(var c=2;c<s.length;c+=2)e.lineTo(s[c],s[c+1]);e.desmos_batching||e.fill(),f.restore(e)}e.globalAlpha=1},E);function E(e,t){if(this.getExpressionAriaLabel=t,e.config.plaidMode)for(var r=0,n=["RED","BLUE","GREEN","PURPLE","ORANGE","BLACK"];r<n.length;r++){var o=n[r];m[s.colors[o]]=document.createElement("img"),m[s.colors[o]].setAttribute("src","/assets/img/april-fools/"+o.toLowerCase()+".png")}}t.GraphsLayer=w}),define("graphing/poidotslayer",["require","loadcss!poi","pjs","./graphslayer","./constants"],function(e){"use strict";e("loadcss!poi");var t=e("pjs"),r=e("./graphslayer").GraphsLayer,n=e("./constants"),o=t(function(e){e.init=function(){this.savedPOI=[]},e.redrawToCtx=function(e,t,r,n,i){var a,s=[];for(a in r){var c=r[a];c.showHighlight&&o.drawSketchHighlight(c,e,t,n,i);var l=c.getPOI();(c.showPOI||l.length&&l[0].isAttachedToPlottedPoint())&&s.push.apply(s,o.drawPOIs(l,e,"#AAAAAA",t))}this.savedPOI=s},e.getDrawnPOI=function(){return this.savedPOI}});return o.drawSketchHighlight=function(e,t,n,o,i){n.settings.setProperty("highlight",!0),r.drawSketchToCtx(e,t,n,o,i),n.settings.setProperty("highlight",!1)},o.drawPOIs=function(e,t,o,i){t.lineWidth=i.settings.pointLineWidth,t.strokeStyle=o||"#AAAAAA",t.fillStyle=o||"#AAAAAA",t.lineJoin="round",t.lineCap="round",o=t.globalAlpha,t.globalAlpha=n.POI_ALPHA;var a,s,c=[],l=e.length;if(l&&e[0].isAttachedToPlottedPoint())for(a=0;a<l;a++)s=e[a],r.mapPointToScreen(i,s.x,s.y)&&c.push(s);else for(a=0;a<l;a++)s=e[a],r.drawPointToCtx(t,i,s.x,s.y)&&c.push(s);return t.globalAlpha=o,c},o}),define("vendor/canvas2svg",[],function(){"use strict";var e,t,r,n,o;function i(e,t){for(var r=Object.keys(t),n=0;n<r.length;n++)e=e.replace(new RegExp("\\{"+r[n]+"\\}","gi"),t[r[n]]);return e}function a(e){var t,r,n;if(!e)throw new Error("cannot create a random attribute name for an undefined object");t="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",r="";do{for(r="",n=0;n<12;n++)r+=t[Math.floor(Math.random()*t.length)]}while(e[r]);return r}function s(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return[e[0]/t,e[1]/t]}return o=function(e){var t,r,n,o={};for(e="50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro".split(","),t=0;t<e.length;t+=2)r="&"+e[t+1]+";",n=parseInt(e[t],32),o[r]="&#"+n+";";return o["\\xa0"]="&#160;",o}(),e={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},(r=function(e,t){this.__root=e,this.__ctx=t}).prototype.addColorStop=function(e,t){var r=this.__ctx.__createElement("stop");r.setAttribute("offset",e),-1!==t.indexOf("rgba")?(e=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(t),r.setAttribute("stop-color",i("rgb({r},{g},{b})",{r:e[1],g:e[2],b:e[3]})),r.setAttribute("stop-opacity",e[4])):r.setAttribute("stop-color",t),this.__root.appendChild(r)},n=function(e,t){this.__root=e,this.__ctx=t},(t=function(e){var r,n={width:500,height:500,enableMirroring:!1};if(1<arguments.length?((r=n).width=e,r.height=arguments[1]):r=e||n,!(this instanceof t))return new t(r);this._randomPostfix="-"+"xxxxxxxx".replace(/x/g,function(e){return(16*Math.random()|0).toString(16)}),this._svgClassNames=[],this.width=r.width||n.width,this.height=r.height||n.height,this.enableMirroring=(void 0!==r.enableMirroring?r:n).enableMirroring,(this.canvas=this).__document=r.document||document,r.ctx?this.__ctx=r.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)}).prototype.__createElement=function(e,t,r){void 0===t&&(t={});var n,o,i=this.__document.createElementNS("http://www.w3.org/2000/svg",e),a=Object.keys(t);for(r&&(i.setAttribute("fill","none"),i.setAttribute("stroke","none")),n=0;n<a.length;n++)o=a[n],i.setAttribute(o,t[o]);return(r=this._svgClassNames&&this._svgClassNames[this._svgClassNames.length-1])&&i.setAttribute("class",r),i},t.prototype.__setDefaultStyles=function(){for(var t,r=Object.keys(e),n=0;n<r.length;n++)this[t=r[n]]=e[t].canvas},t.prototype.__applyStyleState=function(e){for(var t,r=Object.keys(e),n=0;n<r.length;n++)this[t=r[n]]=e[t]},t.prototype.__getStyleState=function(){for(var t,r={},n=Object.keys(e),o=0;o<n.length;o++)r[t=n[o]]=this[t];return r},t.prototype.__applyStyleToCurrentElement=function(t){var o=this.__currentElement,a=this.__currentElementsToStyle;a&&(o.setAttribute(t,""),o=a.element,a.children.forEach(function(e){e.setAttribute(t,"")}));for(var s,c,l,u=Object.keys(e),d=0;d<u.length;d++)if(s=e[u[d]],c=this[u[d]],s.apply)if(c instanceof n){if(c.__ctx)for(;c.__ctx.__defs.childNodes.length;)l=c.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[l]=l,this.__defs.appendChild(c.__ctx.__defs.childNodes[0]);o.setAttribute(s.apply,i("url(#{id})",{id:c.__root.getAttribute("id")}))}else if(c instanceof r)o.setAttribute(s.apply,i("url(#{id})",{id:c.__root.getAttribute("id")}));else if(-1!==s.apply.indexOf(t)&&s.svg!==c)if("stroke"!==s.svgAttr&&"fill"!==s.svgAttr||-1===c.indexOf("rgba")){var p=s.svgAttr;if("globalAlpha"===u[d]&&(p=t+"-"+s.svgAttr,o.getAttribute(p)))continue;o.setAttribute(p,c)}else{h=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(c),o.setAttribute(s.svgAttr,i("rgb({r},{g},{b})",{r:h[1],g:h[2],b:h[3]}));p=h[4];var h=this.globalAlpha;null!=h&&(p*=h),o.setAttribute(s.svgAttr+"-opacity",p)}},t.prototype.__closestGroupOrSvg=function(e){return"g"===(e=e||this.__currentElement).nodeName||"svg"===e.nodeName?e:this.__closestGroupOrSvg(e.parentNode)},t.prototype.getSerializedSvg=function(e){var t,r,n,i,a=(new XMLSerializer).serializeToString(this.__root);if(/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi.test(a)&&(a=a.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),e)for(t=Object.keys(o),r=0;r<t.length;r++)i=t[r],n=o[i],(i=new RegExp(i,"gi")).test(a)&&(a=a.replace(i,n));return a},t.prototype.getSvg=function(){return this.__root},t.prototype._dcgStartNamedGroup=function(e){var t=this.__createElement("g");t.setAttribute("id",e+this._randomPostfix),e=this.__closestGroupOrSvg(),this.__groupStack.push(e),e.appendChild(t),this.__currentElement=t},t.prototype._dcgEndNamedGroup=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElement||(this.__currentElement=this.__root.childNodes[1])},t.prototype._dcgSaveClassName=function(e){this._svgClassNames.push(e),this.__currentElement&&"path"===this.__currentElement.tagName&&!this.__currentDefaultPath&&(this.__currentElement.getAttribute("class")||this.__currentElement.setAttribute("class",e))},t.prototype._dcgRestoreClassName=function(){this._svgClassNames.pop()},t.prototype.save=function(){var e=this.__createElement("g"),t=this.__closestGroupOrSvg();this.__groupStack.push(t),t.appendChild(e),this.__currentElement=e,this.__stack.push(this.__getStyleState())},t.prototype.restore=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var e=this.__stack.pop();this.__applyStyleState(e)},t.prototype.__addTransform=function(e){var t=this.__closestGroupOrSvg();0<t.childNodes.length&&("path"===this.__currentElement.nodeName&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:t,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath()),r=this.__createElement("g"),t.appendChild(r),this.__currentElement=r);var r=this.__currentElement.getAttribute("transform");r?r+=" ":r="",r+=e,this.__currentElement.setAttribute("transform",r)},t.prototype.scale=function(e,t){void 0===t&&(t=e),this.__addTransform(i("scale({x},{y})",{x:e,y:t}))},t.prototype.rotate=function(e){e=180*e/Math.PI,this.__addTransform(i("rotate({angle},{cx},{cy})",{angle:e,cx:0,cy:0}))},t.prototype.translate=function(e,t){this.__addTransform(i("translate({x},{y})",{x:e,y:t}))},t.prototype.transform=function(e,t,r,n,o,a){this.__addTransform(i("matrix({a},{b},{c},{d},{e},{f})",{a:e,b:t,c:r,d:n,e:o,f:a}))},t.prototype.beginPath=function(){var e;this.__currentDefaultPath="",this.__currentPosition={},e=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(e),this.__currentElement=e},t.prototype.__applyCurrentDefaultPath=function(){var e=this.__currentElement;"path"===e.nodeName?e.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",e.nodeName)},t.prototype.__addPathCommand=function(e){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=e},t.prototype.moveTo=function(e,t){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.__currentPosition={x:e,y:t},this.__addPathCommand(i("M {x} {y}",{x:e,y:t}))},t.prototype.closePath=function(){this.__currentDefaultPath&&this.__addPathCommand("Z")},t.prototype.lineTo=function(e,t){this.__currentPosition={x:e,y:t},-1<this.__currentDefaultPath.indexOf("M")?this.__addPathCommand(i("L {x} {y}",{x:e,y:t})):this.__addPathCommand(i("M {x} {y}",{x:e,y:t}))},t.prototype.bezierCurveTo=function(e,t,r,n,o,a){this.__currentPosition={x:o,y:a},this.__addPathCommand(i("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:e,cp1y:t,cp2x:r,cp2y:n,x:o,y:a}))},t.prototype.quadraticCurveTo=function(e,t,r,n){this.__currentPosition={x:r,y:n},this.__addPathCommand(i("Q {cpx} {cpy} {x} {y}",{cpx:e,cpy:t,x:r,y:n}))},t.prototype.arcTo=function(e,t,r,n,o){var i,a,c=this.__currentPosition&&this.__currentPosition.x,l=this.__currentPosition&&this.__currentPosition.y;if(void 0!==c&&void 0!==l){if(o<0)throw new Error("IndexSizeError: The radius provided ("+o+") is negative.");c===e&&l===t||e===r&&t===n||0===o?this.lineTo(e,t):(i=s([c-e,l-t]),a=s([r-e,n-t]),i[0]*a[1]!=i[1]*a[0]?(c=i[0]*a[0]+i[1]*a[1],l=Math.acos(Math.abs(c)),r=s([i[0]+a[0],i[1]+a[1]]),c=e+(n=o/Math.sin(l/2))*r[0],l=t+n*r[1],n=[-i[1],i[0]],r=[a[1],-a[0]],a=(i=function(e){var t=e[0];return 0<=e[1]?Math.acos(t):-Math.acos(t)})(n),r=i(r),this.lineTo(c+n[0]*o,l+n[1]*o),this.arc(c,l,o,a,r)):this.lineTo(e,t))}},t.prototype.stroke=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},t.prototype.fill=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},t.prototype.rect=function(e,t,r,n){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.moveTo(e,t),this.lineTo(e+r,t),this.lineTo(e+r,t+n),this.lineTo(e,t+n),this.lineTo(e,t),this.closePath()},t.prototype.fillRect=function(e,t,r,n){n=this.__createElement("rect",{x:e,y:t,width:r,height:n},!0),this.__closestGroupOrSvg().appendChild(n),this.__currentElement=n,this.__applyStyleToCurrentElement("fill")},t.prototype.strokeRect=function(e,t,r,n){n=this.__createElement("rect",{x:e,y:t,width:r,height:n},!0),this.__closestGroupOrSvg().appendChild(n),this.__currentElement=n,this.__applyStyleToCurrentElement("stroke")},t.prototype.__clearCanvas=function(){for(var e=this.__closestGroupOrSvg().getAttribute("transform"),t=this.__root.childNodes[1],r=t.childNodes,n=r.length-1;0<=n;n--)r[n]&&t.removeChild(r[n]);this.__currentElement=t,this.__groupStack=[],e&&this.__addTransform(e)},t.prototype.clearRect=function(e,t,r,n){var o;0!==e||0!==t||r!==this.width||n!==this.height?(o=this.__closestGroupOrSvg(),n=this.__createElement("rect",{x:e,y:t,width:r,height:n,fill:"#FFFFFF"},!0),o.appendChild(n)):this.__clearCanvas()},t.prototype.createLinearGradient=function(e,t,n,o){return o=this.__createElement("linearGradient",{id:a(this.__ids),x1:e+"px",x2:n+"px",y1:t+"px",y2:o+"px",gradientUnits:"userSpaceOnUse"},!1),this.__defs.appendChild(o),new r(o,this)},t.prototype.createRadialGradient=function(e,t,n,o,i,s){return t=this.__createElement("radialGradient",{id:a(this.__ids),cx:o+"px",cy:i+"px",r:s+"px",fx:e+"px",fy:t+"px",gradientUnits:"userSpaceOnUse"},!1),this.__defs.appendChild(t),new r(t,this)},t.prototype.__parseFont=function(){var e={style:(e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i.exec(this.font))[1]||"normal",size:e[4]||"10px",family:e[6]||"sans-serif",weight:e[3]||"normal",decoration:e[2]||"normal",href:null};return"underline"===this.__fontUnderline&&(e.decoration="underline"),this.__fontHref&&(e.href=this.__fontHref),e},t.prototype.__wrapTextLink=function(e,t){if(e.href){var r=this.__createElement("a");return r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.href),r.appendChild(t),r}return t},t.prototype.__applyText=function(e,t,r,n){var o=this.__parseFont(),i=this.__closestGroupOrSvg();(r=this.__createElement("text",{"font-family":o.family,"font-size":o.size,"font-style":o.style,"font-weight":o.weight,"text-decoration":o.decoration,x:t,y:r,"text-anchor":(r={left:"start",right:"end",center:"middle",start:"start",end:"end"})[this.textAlign]||r.start},!0)).appendChild(this.__document.createTextNode(e)),this.__currentElement=r,this.__applyStyleToCurrentElement(n),i.appendChild(this.__wrapTextLink(o,r))},t.prototype.fillText=function(e,t,r){this.__applyText(e,t,r,"fill")},t.prototype.strokeText=function(e,t,r){this.__applyText(e,t,r,"stroke")},t.prototype.measureText=function(e){return this.__ctx.font=this.font,this.__ctx.measureText(e)},t.prototype.arc=function(e,t,r,n,o,a){var s,c,l;n!==o&&((n%=2*Math.PI)==(o%=2*Math.PI)&&(o=(o+2*Math.PI-.001*(a?-1:1))%(2*Math.PI)),s=e+r*Math.cos(o),c=t+r*Math.sin(o),l=e+r*Math.cos(n),e=t+r*Math.sin(n),t=a?0:1,(o-=n)<(n=0)&&(o+=2*Math.PI),n=a?o>Math.PI?0:1:o>Math.PI?1:0,this.lineTo(l,e),this.__addPathCommand(i("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:r,ry:r,xAxisRotation:0,largeArcFlag:n,sweepFlag:t,endX:s,endY:c})),this.__currentPosition={x:s,y:c})},t.prototype.clip=function(){var e=this.__closestGroupOrSvg(),t=this.__createElement("clipPath"),r=a(this.__ids),n=this.__createElement("g");this.__applyCurrentDefaultPath(),e.removeChild(this.__currentElement),t.setAttribute("id",r),t.appendChild(this.__currentElement),this.__defs.appendChild(t),e.setAttribute("clip-path",i("url(#{id})",{id:r})),e.appendChild(n),this.__currentElement=n},t.prototype.drawImage=function(){var e,r,n,o,i,a,s,c,l=Array.prototype.slice.call(arguments),u=l[0],d=0,p=0;if(3===l.length)f=l[1],i=l[2],e=n=u.width,r=o=u.height;else if(5===l.length)f=l[1],i=l[2],e=l[3],r=l[4],n=u.width,o=u.height;else{if(9!==l.length)throw new Error("Invalid number of arguments passed to drawImage: "+arguments.length);d=l[1],p=l[2],n=l[3],o=l[4],f=l[5],i=l[6],e=l[7],r=l[8]}l=this.__closestGroupOrSvg(),this.__currentElement;var h,f="translate("+f+", "+i+")";if(u instanceof t){if((i=u.getSvg().cloneNode(!0)).childNodes&&1<i.childNodes.length){for(a=i.childNodes[0];a.childNodes.length;)c=a.childNodes[0].getAttribute("id"),this.__ids[c]=c,this.__defs.appendChild(a.childNodes[0]);(s=i.childNodes[1])&&(h=(h=s.getAttribute("transform"))?h+" "+f:f,s.setAttribute("transform",h),l.appendChild(s))}}else"CANVAS"!==u.nodeName&&"IMG"!==u.nodeName||((h=this.__createElement("image")).setAttribute("width",e),h.setAttribute("height",r),h.setAttribute("opacity",this.globalAlpha),h.setAttribute("preserveAspectRatio","none"),(d||p||n!==u.width||o!==u.height)&&((s=this.__document.createElement("canvas")).width=e,s.height=r,s.getContext("2d").drawImage(u,d,p,n,o,0,0,e,r),u=s),h.setAttribute("transform",f),h.setAttribute("xlink:href","CANVAS"===u.nodeName?u.toDataURL():u.getAttribute("src")),l.appendChild(h))},t.prototype.createPattern=function(e,r){var o=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),i=a(this.__ids);return o.setAttribute("id",i),o.setAttribute("width",e.width),o.setAttribute("height",e.height),"CANVAS"===e.nodeName||"IMG"===e.nodeName?((i=this.__document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("width",e.width),i.setAttribute("height",e.height),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===e.nodeName?e.toDataURL():e.getAttribute("src")),o.appendChild(i),this.__defs.appendChild(o)):e instanceof t&&(o.appendChild(e.__root.childNodes[1]),this.__defs.appendChild(o)),new n(o,this)},t.prototype.setLineDash=function(e){e&&0<e.length?this.lineDash=e.join(","):this.lineDash=null},t.prototype.ellipse=function(e,t,r,n,o,a,s,c){var l,u,d;a!==s&&((a%=2*Math.PI)==(s%=2*Math.PI)&&(s=(s+2*Math.PI-.001*(c?-1:1))%(2*Math.PI)),l=e+Math.cos(-o)*r*Math.cos(s)+Math.sin(-o)*n*Math.sin(s),u=t-Math.sin(-o)*r*Math.cos(s)+Math.cos(-o)*n*Math.sin(s),d=e+Math.cos(-o)*r*Math.cos(a)+Math.sin(-o)*n*Math.sin(a),e=t-Math.sin(-o)*r*Math.cos(a)+Math.cos(-o)*n*Math.sin(a),t=c?0:1,(s-=a)<(a=0)&&(s+=2*Math.PI),a=c?s>Math.PI?0:1:s>Math.PI?1:0,this.lineTo(d,e),this.__addPathCommand(i("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:r,ry:n,xAxisRotation:o*(180/Math.PI),largeArcFlag:a,sweepFlag:t,endX:l,endY:u})),this.__currentPosition={x:l,y:u})},t.prototype._dcgSetTitle=function(e){var t,r=this.__currentElement,n=!1,o=r.getElementsByTagName("title");0<o.length?t=o[0]:(t=this.__document.createElementNS("http://www.w3.org/2000/svg","title"),n=!0),t.textContent=e,n&&r.appendChild(t)},t.prototype.drawFocusRing=function(){},t.prototype.createImageData=function(){},t.prototype.getImageData=function(){},t.prototype.putImageData=function(){},t.prototype.globalCompositeOperation=function(){},t.prototype.setTransform=function(){},t}),define("lib/conditional_blur",["require","exports","touchtracking","jquery"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e;document.activeElement&&(e=n(document.activeElement),r.elIsFocusable(e)&&n(document.activeElement).trigger("blur"))}}),define("lib/aria",["require","exports","browser","jquery"],function(e,t,r,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.alert=t.queue=t.clear=void 0;var i=[],a="";function s(e){i.push(e)}t.clear=function(){void 0!==o&&o.empty()},t.queue=s,t.alert=function(e){void 0!==e&&s(e),void 0!==o&&0<i.length&&(e=i.join(" ").replace(/ +(?= )/g,""),o.attr("aria-relevant",a===e&&r.IS_APPLE?"all":"additions text"),o.empty().text(e),a=e),i.length=0},n(function(){var e=".dcg-aria-alert";0===n(e).length&&n("body").append("<p aria-live='assertive' aria-atomic='true' class='dcg-aria-alert'></p>"),o=n(e)})}),define("vendor/mathquill",["require","exports","mathquill"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MQ=void 0,t.MQ=r}),define("lib/mathspeak",["require","exports","vendor/mathquill","jquery"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMathspeakFromLatex=t.getMathspeakFromText=void 0;var o=/`[^`]*`/g,i=/^[\+\-]?[\d]*(\.\d+)?$/,a=r.MQ.StaticMath(n("<span/>")[0]);function s(e){var t="";return i.test(e)?(/^\+/.test(e)?(t="positive ",e=e.slice(1)):/^\-/.test(e)&&(t="negative ",e=e.slice(1)),t+=e.replace(/(\.)([0-9]+)/g,function(e,t,r){return t+r.split("").join(" ").trim()})):(a.latex(e),t=a.mathspeak().trim()),t}t.getMathspeakFromText=function(e){for(var t="",r=0,n=function(){if(null==e)return 1;var t=e.match(/`/g);return(null!=t&&t.length||0)%2==0}()?function(e){var t=[];if(null==e||0==e.length)return t;for(var r,n=0;r=o.exec(e);){var i=e.slice(n,r.index);0<i.length&&t.push({from:n,to:r.index,type:"text",text:i}),n=r.index+r[0].length,t.push({from:r.index,to:n,type:"math",text:r[0].slice(1,-1)})}var a=e.slice(n);return 0<a.length&&t.push({from:n,to:e.length,type:"text",text:a}),t}(e):[{from:0,to:e.length,type:"text",text:e}];r<n.length;r++){var i=n[r];t+="text"===i.type?i.text:s(i.text)}return t},t.getMathspeakFromLatex=s}),define("geometry/math/hypot",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Math.hypot&&Math.hypot(1/0,NaN)===1/0;function n(e){return e===1/0||e===-1/0}t.default=r?Math.hypot:function(e,t){if(n(e)||n(t))return 1/0;if(isNaN(e)||isNaN(t))return NaN;if(0===e&&0===t)return 0;if(Math.abs(e)>Math.abs(t)){var r=t/e;return Math.abs(e)*Math.sqrt(r*r+1)}return r=e/t,Math.abs(t)*Math.sqrt(r*r+1)}}),define("lib/priority-queue",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(n.prototype.size=function(){return this._data.length},n.prototype.queue=function(e){var t=this._data.length;for(this._data.push(e);0<t;){var r=t-1>>>1;if(!(this.comparator(this._data[t],this._data[r])<0))break;var n=this._data[r];this._data[r]=this._data[t],this._data[t]=n,t=r}},n.prototype.dequeue=function(){var e=this._data[0],t=this._data.pop();if(0<this._data.length&&void 0!==t){this._data[0]=t;for(var r=0,n=this._data.length-1;;){var o=1+(r<<1),i=1+o,a=r;if(o<=n&&this.comparator(this._data[o],this._data[a])<0&&(a=o),i<=n&&this.comparator(this._data[i],this._data[a])<0&&(a=i),a===r)break;i=this._data[a],this._data[a]=this._data[r],this._data[r]=i,r=a}}return e},n.prototype.peek=function(){return this._data[0]},n.prototype.clear=function(){this._data.length=0},n);function n(e){this.comparator=e,this._data=[]}t.default=r}),define("geometry/math/polygon-area-support",["require","exports","lib/priority-queue","bugsnag"],function(e,t,r,n){"use strict";function o(e,t){var r=e.pt2.y-e.pt1.y,n=e.pt1.x-e.pt2.x,o=t.pt2.y-t.pt1.y,i=t.pt1.x-t.pt2.x;e=r*e.pt1.x+n*e.pt1.y,t=o*t.pt1.x+i*t.pt1.y;if(0!=(n=r*i-o*n))return(r*t-o*e)/n}function i(e,t,r){if(r.scanlineX<t.scanlineX&&n.notify("PolygonArea: rightEdge should not be left of leftEdge!",{metaData:{scanlineY:e,leftEdge:t,rightEdge:r}}),!(r.xSlope>=t.xSlope)){if(t.scanlineX===r.scanlineX)return e;var i=t.pt2.y>t.pt1.y?t.pt2:t.pt1,a=r.pt2.y>r.pt1.y?r.pt2:r.pt1,c=i.y;if(a.y<i.y){if(s(c=a.y,t)<a.x)return}else if(i.y<a.y){var l=s(c,r);if(i.x<l)return}else if(i.x<a.x)return;return void 0!==(r=o(t,r))?Math.max(Math.min(r,c),e):void 0}}function a(e,t,r,n){if(r&&n){if(r.id<n.id){if(r.skipIntersectionWith[n.id])return}else if(n.skipIntersectionWith[r.id])return;void 0!==(e=i(e,r,n))&&(r.id<n.id?r.skipIntersectionWith[n.id]=!0:n.skipIntersectionWith[r.id]=!0,t.queue({type:"x",y:e,edge1:r,edge2:n}))}}function s(e,t){var r=t.pt1.x,n=t.pt2.x,o=t.pt1.y;t=t.pt2.y;if(o===e)return r;if(t===e)return n;if(o=(1-(o=(e-o)/(t-o)))*r+o*n,r<n){if(o<=r)return r;if(n<=o)return n}else{if(o<=n)return n;if(r<=o)return r}return o}Object.defineProperty(t,"__esModule",{value:!0}),t.processEvent=t.setupEventQueueAndActiveEdges=t.measureUpwardNonZeroLength=t.measureUpwardEvenOddLength=t.measureDownwardNonZeroLength=t.measureDownwardEvenOddLength=t.computeScanlineX=t.checkForEdgeIntersection=t._stableYIntersectEdges=t._unstableYIntersectEdges=void 0,t._unstableYIntersectEdges=o,t._stableYIntersectEdges=i,t.checkForEdgeIntersection=a,t.computeScanlineX=s,t.measureDownwardEvenOddLength=function(e){for(var t=0,r=0,n=!1,o=0,i=e;o<i.length;o++){var a=i[o].scanlineX;n?(n=!1,t+=a-r):(n=!0,r=a)}return t},t.measureDownwardNonZeroLength=function(e){for(var t=0,r=0,n=!1,o=0,i=0,a=e;i<a.length;i++){var s=a[i],c=s.scanlineX;s.isClockwise?o+=1:--o,0===o||n?0===o&&n&&(n=!1,t+=c-r):(n=!0,r=c)}return t},t.measureUpwardEvenOddLength=function(e,t){for(var r=0,o=0,i=!1,a=-1/0,c=0,l=t;c<l.length;c++){var u=l[c],d=s(e,u);d<a?(d-a<-1e-4&&n.notify("PolygonArea: scanlineX reversed!",{metaData:{scanlineY:e,edge:u,minScanlineX:a,scanlineX:d}}),d=a):a=d,u.scanlineX=d,i?(i=!1,r+=d-o):(i=!0,o=d)}return r},t.measureUpwardNonZeroLength=function(e,t){for(var r=0,o=0,i=!1,a=0,c=-1/0,l=0,u=t;l<u.length;l++){var d=u[l],p=s(e,d);p<c?(p-c<-1e-4&&n.notify("PolygonArea: scanlineX reversed!",{metaData:{scanlineY:e,edge:d,minScanlineX:c,scanlineX:p}}),p=c):c=p,d.scanlineX=p,d.isClockwise?a+=1:--a,0===a||i?0===a&&i&&(i=!1,r+=p-o):(i=!0,o=p)}return r},t.setupEventQueueAndActiveEdges=function(e){for(var t=1,n=new r.default(function(e,t){return e.y-t.y}),o=e.length-1;1<=o;o--){var i=e[o],a=e[o-1],s={id:t++,pt1:i,pt2:a,scanlineX:0,xSlope:1/0,isClockwise:a.y>i.y,skipIntersectionWith:{}};a.y>i.y?(n.queue({type:"+",y:i.y,edge:s}),n.queue({type:"-",y:a.y,edge:s}),s.xSlope=(a.x-i.x)/(a.y-i.y),s.scanlineX=i.x):i.y>a.y&&(n.queue({type:"+",y:a.y,edge:s}),n.queue({type:"-",y:i.y,edge:s}),s.xSlope=(i.x-a.x)/(i.y-a.y),s.scanlineX=a.x)}return{activeEdges:[],events:n}},t.processEvent=function(e,t,r){var n,o,i,s,c,l,u;"x"===e.type?(n=t,o=r,i=e.edge1,s=e.edge2,c=e.y,u=(l=o.indexOf(i))+1,-1===l||o[u]!==s?i.id<s.id?delete i.skipIntersectionWith[s.id]:delete s.skipIntersectionWith[i.id]:(o[l]=s,o[u]=i,a(c,n,o[l-1],s),a(c,n,i,o[u+1]))):"+"===e.type?function(t,r){for(var n=e.edge,o=e.y,i=n.xSlope,s=n.scanlineX,c=0;c<r.length;c++){var l=r[c];if(s<l.scanlineX)break;if(s===l.scanlineX&&i<=l.xSlope)break}r.splice(c,0,n),a(o,t,r[c-1],n),a(o,t,n,r[c+1])}(t,r):"-"===e.type&&(o=t,u=r,t=e.edge,r=e.y,t=u.indexOf(t),u.splice(t,1),a(r,o,u[t-1],u[t]))}}),define("geometry/math/polygon",["require","exports","tslib","./hypot","bugsnag","./polygon-area-support"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculatePaintedNonZeroArea=t.calculatePaintedEvenOddArea=t.calculateSimpleArea=t.calculatePerimeter=t.pointIsWithinNonZeroFill=t.pointIsWithinEvenOddFill=void 0,t.pointIsWithinEvenOddFill=function(e,t){if(!e)return!1;for(var r=t.x,n=t.y,o=!1,i=e.length-1;3<=i;i-=2){var a=e[i-3],s=e[i-2],c=e[i-1],l=e[i];n<s!=n<l&&r<(c-a)*(n-s)/(l-s)+a&&(o=!o)}return o},t.pointIsWithinNonZeroFill=function(e,t){if(!e)return!1;for(var n,o,i=(o=(n=e).slice(0,2),e=n.slice(-2),o[0]!==e[0]||o[1]!==e[1]?r.__spreadArray(r.__spreadArray([],n),o):n),a=t.x,s=t.y,c=0,l=i.length-1;3<=l;l-=2){var u=i[l-3],d=i[l-2],p=i[l-1],h=i[l];s<d!=s<h&&a<(p-u)*(s-d)/(h-d)+u&&(h<d?c+=1:d<h&&--c)}return 0!==c},t.calculatePerimeter=function(e){for(var t=0,r=0;r<e.length-1;r++)t+=n.default(e[r].x-e[r+1].x,e[r].y-e[r+1].y);return t},t.calculateSimpleArea=function(e){for(var t=0,r=0;r<e.length-1;r++)t+=e[r].x*e[r+1].y-e[r].y*e[r+1].x;return Math.abs(t)/2},t.calculatePaintedEvenOddArea=function(e){if(e.length<4)return 0;if(e[0].x!==e[e.length-1].x||e[0].y!==e[e.length-1].y)return 0;var t,r=(t=i.setupEventQueueAndActiveEdges(e)).events,n=t.activeEdges;if(!(t=r.peek()))return 0;for(var a,s=0,c=t.y,l=0;a=r.dequeue();){var u=a.y;u<c&&o.notify("PolygonArea: scanlineY jumped up vertically",{metaData:{points:e,scanlineY:u,lastScanlineY:c}}),l+=.5*(u-c)*(i.measureUpwardEvenOddLength(u,n)+s),i.processEvent(a,r,n),c=u,s=i.measureDownwardEvenOddLength(n)}return l},t.calculatePaintedNonZeroArea=function(e){if(e.length<4)return 0;if(e[0].x!==e[e.length-1].x||e[0].y!==e[e.length-1].y)return 0;var t,r=(t=i.setupEventQueueAndActiveEdges(e)).events,n=t.activeEdges;if(!(t=r.peek()))return 0;for(var a,s=0,c=t.y,l=0;a=r.dequeue();){var u=a.y;u<c&&o.notify("PolygonArea: scanlineY jumped up vertically",{metaData:{points:e,scanlineY:u,lastScanlineY:c}}),l+=.5*(u-c)*(i.measureUpwardNonZeroLength(u,n)+s),i.processEvent(a,r,n),c=u,s=i.measureDownwardNonZeroLength(n)}return l}}),define("graphing/poicontroller",["require","exports","jquery","core/math/distance","lib/rounding","core/types/graphmode","core/lib/dragmode","lib/conditional_blur","keys","lib/aria","core/lib/label","expressions/colors","lib/mathspeak","graphing-calc/models/image","graphing-calc/models/expression","../geometry/math/polygon","../graphing-calc/models/list","core/types/point-size"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g,m,y){"use strict";function v(e){if(!e)return 0;if("image"===e.type&&e.listIndex)return e.listIndex;if("poi"in e)return e.poi.pointIdxOnBranch;if("branchInfo"in e&&e.branchInfo.sketch){var t=e.branchInfo.branch;return"listIndex"in(t=e.branchInfo.sketch.branches[t])&&t.listIndex||0}return 0}Object.defineProperty(t,"__esModule",{value:!0}),t.POIController=void 0;var b=0,x=(w.prototype.remove=function(){this.removeAllGlobalMouseListeners(),this.removeManualUnhoverListener()},w.prototype.addGlobalMouseListener=function(e,t){for(var n=e.split(" "),o=0;o<n.length;o++){var i=n[o]+".dcg-poiController-"+this.id;r(document).on(i,t)}},w.prototype.removeAllGlobalMouseListeners=function(){r(document).off(".dcg-poiController-"+this.id)},w.prototype.getToleranceByDevice=function(e){return"touch"===e?20:10},w.prototype.addHoverEventHandler=function(){var e=this;this.$.on("dcg-tapmove",function(t){var n,o,i,a,s,c,l,u,d;"touch"!==t.device&&(i=!!(a=document.elementFromPoint(t.clientX,t.clientY))&&!!r(a).closest(".dcg-grapher").length,l=e.manager.poiLabelsLayer,a=e.getMouseRelativeToGrapher(t),t=e.getToleranceByDevice(t.device),i&&(n=e.getFeatureUnderPoint(a,t)),n&&"movable-point"===n.type&&(s=(c=(s=n.poi)&&s.getMovablePoint())&&c.id),c=0,n&&n.isClickable&&(e.manager.movablePointsLayer.isMovingPoint()||e.manager.traceLayer.isTracing()||(o=n.model,c=v(n))),e.manager.clickableObjectsLayer.setHoveredObject(o&&{id:o.id,listIndex:c}),n&&"poi"===n.type&&(n.poi.isAttachedToPlottedPoint()&&!n.poi.hasInteractiveLabel()||(u=n.poi)),u!==l.getHoveredPOI()&&(e.controller.isTraceEnabled()?l.setHoveredPOI(u):l.setHoveredPOI(void 0),e.manager.redrawAllLayers()),u=!1,n&&"image"===n.type&&(l=h.isActuallyDraggable(n.model),d=n.isClickable,u=l&&!d),d=!1,n&&"draggable-label"===n.type&&(d=!0),u||d?e.manager.setLayerClass("extraMoveCursor","dcg-mouse-over-movable-point"):e.manager.setLayerClass("extraMoveCursor",""),e.manager.movablePointsLayer.setHoveredPointId(s))})},w.prototype.addManualUnhoverListener=function(){function e(){var e=t.manager;e.poiLabelsLayer.setHoveredPOI(void 0),e.clickableObjectsLayer.setHoveredObject(void 0),e.redrawAllLayers()}var t=this;r(window).on("blur.dcg-poiController-"+this.id,e),this.$.on("mouseleave",e)},w.prototype.removeManualUnhoverListener=function(){r(window).off(".dcg-poiController-"+this.id)},w.prototype.addTouchEventHandlers=function(){var e=this;this.$.on("touchstart",function(t){var n,o;e.isViewportLocked()?(n=e.getMouseRelativeToGrapher(t),o=e.getToleranceByDevice(t.device),(o=e.getFeatureUnderPoint(n,o))&&("image"!==o.type||m.isItemSelected(o.model)||h.isActuallyDraggable(o.model))&&("sketch-branch"===o.type&&e.graphSettings.config.onlyTraceSelected&&!o.sketch.selected||r(t.target).is(":not(input, textarea)")&&t.preventDefault())):r(t.target).is(":not(input, textarea)")&&t.preventDefault()}),this.$.on("dcg-tapstart",function(t){var r=e.getMouseRelativeToGrapher(t),n=e.getToleranceByDevice(t.device),o=e.getFeatureUnderPoint(r,n);if(o&&o.isClickable&&(a="model"in o&&o.model)?e.manager.clickableObjectsLayer.setPressedObject({id:a.id,listIndex:v(o)}):e.manager.clickableObjectsLayer.setPressedObject(void 0),o&&"editable-label"===o.type)t.handle();else{if(s.default(),o&&"draggable-label"===o.type)return e.startMovingPoint({type:"draggable-label",label:o.label,startScreenPt:r}),void t.handle();if(o&&"clickable-label"===o.type&&t.handle(),o&&"image"===o.type&&h.isActuallyDraggable(o.model)){var i=!1;if(o.isClickable&&(i=!0),e.startMovingPoint({type:"image",image:o.model,startScreenPt:r,shouldDelayUntilRealMove:i}),!i)return void t.handle()}if(o&&"movable-point"===o.type)return e.startMovingPoint({type:"poi",poi:o.poi,startScreenPt:r}),t.handle(),void t.handle("do-not-clear-poi-labels");if(e._togglePOIUnderPoint(r,n))return t.handle(),void t.handle("do-not-clear-poi-labels");if(o&&"sketch-branch"===o.type&&!o.isClickable){if(!e.graphSettings.config.onlyTraceSelected){var a=!e.controller.isTraceEnabled();i=!e.controller.isListEnabled();return a&&i?void 0:(e.selectItemIfNotSecret(o.sketch.id),a?void 0:(e.startTracingBranch(o.branchInfo,r),t.handle(),void t.handle("do-not-clear-poi-labels")))}if(o.sketch.selected)return e.startTracingBranch(o.branchInfo,r),t.handle(),void t.handle("do-not-clear-poi-labels")}o&&"image"===o.type||e.controller.dispatch({type:"set-none-selected"});var c=e;e.addGlobalMouseListener("dcg-tapmove",function(t){e.manager.clickableObjectsLayer.isAnObjectPressed()?r=e.getMouseRelativeToGrapher(t):c.removeAllGlobalMouseListeners()}),e.addGlobalMouseListener("dcg-tapend dcg-tapcancel",function(t){c.removeAllGlobalMouseListeners();var o=e.manager.clickableObjectsLayer.getPressedObject(),i=o&&o.id;e.manager.clickableObjectsLayer.setPressedObject(void 0);var a=e.getFeatureUnderPoint(r,n);a&&a.isClickable?(o="model"in a&&a.model)&&o.id===i&&!t.wasHandled("dragged-clickable-object")&&e.controller.dispatch({type:"clickable-item-clicked",id:o.id,listIndex:v(a)}):(a&&"sketch-branch"===a.type&&!a.sketch.selected||a&&"image"===a.type)&&e.selectItemIfNotSecret(a.model.id)})}})},w.prototype.isViewportLocked=function(){return this.graphSettings.config.lockViewport||this.graphSettings.userLockedViewport},w.prototype.addKeydownEventHandler=function(){var e=this;this.$.on("keydown",function(t){var r,n,o=e.manager.movablePointsLayer.getFocusedPoint();o&&(r=c.lookup(t),n=c.lookupChar(t),"Up"===r||"Down"===r||"Left"===r||"Right"===r?(t.stopPropagation(),t.preventDefault(),e.movePointFromKeyboard(o,t)):"X"!==n&&"Y"!==n&&"L"!==n&&"C"!==n||e.speakPoint(o,n))})},w.prototype.getMouseRelativeToGrapher=function(e){var t=this.$[0].getBoundingClientRect();return{x:(e=e.touches?e.touches[0]:e).clientX-t.left,y:e.clientY-t.top}},w.prototype._getClosestPoint=function(e,t,r){for(var o,i=1/0,a=this.manager.getProjection(),s=this.graphSettings.getHighlightPropertyMultiplier("pointLineWidth",!1),c=this.graphSettings.getHighlightPropertyMultiplier("pointLineWidth",!0),l=this.graphSettings.config.projectorMode?y.MOVABLE_PROJECTOR/2:y.MOVABLE/2,u=0;u<e.length;u++){var d,p=e[u];p.isMovable()?d=l:(d=p.getPointSize()/2,d*=p.isSelected()?c:s);var h=Math.max(0,r-d),f=a.map_pt(p);f=n.hypot(f.x-t.x,f.y-t.y);(f=Math.max(0,f-d))<=h&&f<i&&(i=f,o=p)}return o},w.prototype.getFeatureUnderPoint=function(e,t){var r=this.manager.poiLabelsLayer,n=this.manager.getProjection(),o=n.reverse_map_pt(e);if(!this.manager.scaleAxis){var i=r.getInteractiveLabelUnderPoint(e);if(i)switch(i.type){case"editable":return{type:"editable-label",model:i.model,isClickable:void 0};case"draggable":return{type:"draggable-label",label:i.label,isClickable:void 0};case"clickable":return{type:"clickable-label",model:i.model,poi:i.poi,isClickable:!0}}for(var a,s=this.manager.getSketchOrder(),c={},l=1,u=this.graphSettings.getHighlightPropertyMultiplier("graphLineWidth",!1),d=this.graphSettings.getHighlightPropertyMultiplier("graphLineWidth",!0),p=s.length-1;0<=p;p--){var g,m,y=s[p],v=this.controller.getItemModel(y),b=l;if(c[y]=b,v)if("expression"===v.type){var x=this.manager.getGraphSketch(y);if(x){var E=x.branches;if(E&&E.length&&(x.showHighlight&&(b=-1/0,c[y]=b),!a||a.stackingContext>=b))for(var S=f.isClickableObject(v),k=0;k<E.length;k++){var _=E[k],I=Math.max(0,"lineWidth"in _&&_.lineWidth||0)/2;I*=x.showHighlight?d:u,_=w.calculateDistanceFromBranch(_,o,n,S),(_=Math.max(0,_-I))<=Math.max(0,t-I)&&(I=!1,(!a||b<a.stackingContext||b===a.stackingContext&&_<a.distance)&&(I=!0),I&&(a={type:"sketch-branch",model:v,sketch:x,distance:_,stackingContext:b,branchInfo:{id:x.id,branch:k,sketch:x}}))}}}else"image"===v.type&&(!(g=this.manager.getGraphImage(y))||(m=this.getImageInfoUnderMouse(g,o,t))&&(g.foreground?(b=l+=1,c[y]=b,l+=1):(b=1/0,c[y]=b),(!a||a.stackingContext>b)&&(a={type:"image",model:g,distance:0,stackingContext:b,listIndex:m.listIndex})))}var M=[],L=[],T=[],C=a?a.stackingContext:1/0;return this.manager.poiDotsLayer.getDrawnPOI().forEach(function(e){e.isBareLabel()||(e.isMovable()?M.push(e):e.isAttachedToPlottedPoint()?c[e.sketch.id]<=C&&L.push(e):T.push(e))}),(r=this._getClosestPoint(M,e,t))?{type:"movable-point",poi:r,isClickable:void 0}:(r=this._getClosestPoint(T,e,t))?{type:"poi",poi:r,isClickable:!1,model:void 0}:(r=this._getClosestPoint(L,e,t))?(e=this.controller.getItemModel(r.sketch.id))&&"expression"===e.type&&f.isClickableObject(e)?{type:"poi",poi:r,isClickable:!0,model:e}:{type:"poi",poi:r,isClickable:!1,model:void 0}:a?"sketch-branch"===a.type?{type:"sketch-branch",branchInfo:a.branchInfo,sketch:a.sketch,model:a.model,isClickable:f.isClickableObject(a.model)}:"image"===a.type?{type:"image",model:a.model,isClickable:h.isClickableObject(a.model),listIndex:a.listIndex}:void 0:void 0}},w.prototype._togglePOIUnderPoint=function(e,t){if(this.controller.isTraceEnabled())return!!(t=this.getFeatureUnderPoint(e,t))&&(!t.isClickable&&(!!(t="poi"in t&&t.poi)&&!t.isBareLabel()&&(this.manager.poiLabelsLayer.isOpenPOI(t)?(this.manager.poiLabelsLayer.closePOI(t),this.manager.poiLabelsLayer.setHoveredPOI(void 0)):(this.manager.poiLabelsLayer.openPOI(t),this.speakPoint(t)),this.manager.redrawAllLayers(),!0)))},w.prototype.getImageInfoUnderMouse=function(e,t,r){if(e){var n=e.formula;if(n){var o=n.dimensions;if(o.x&&o.y&&o.width&&o.height&&o.radianAngle&&e.shouldGraph)for(var i=o.x.length-1;0<=i;i--){var a=o.x[i],s=o.y[i],c=o.radianAngle[i],l=a+Math.cos(c)*(t.x-a)-Math.sin(c)*(t.y-s),u=s+Math.sin(c)*(t.x-a)+Math.cos(c)*(t.y-s),d=.5*Math.abs(o.width[i]);c=.5*Math.abs(o.height[i]);if(a-d<l&&l<a+d&&s-c<u&&u<s+c)return{listIndex:i}}}}},w.calculateDistanceFromBranch=function(e,t,r,n){if(e&&e.graphMode===i.POLYGONFILL&&n){for(var o=e.segments,a=0;a<o.length;a++)if(g.pointIsWithinNonZeroFill(o[a],t))return 0;return 1/0}return(n=w.getBranchesDistanceInfo(e,t,r,n))?n.minDistance:1/0},w.getBranchesDistanceInfo=function(e,t,r,o){var a=r.screen.width/(r.viewport.xmax-r.viewport.xmin),s=r.screen.height/(r.viewport.ymax-r.viewport.ymin),c=t.x,l=t.y,u=!1,d=!1;switch(e.graphMode){case i.PARAMETRIC:case i.IMPLICIT:if(!o)return;break;case i.POLAR:if(!o)return;d=!0;break;case i.Y:break;case i.X:u=!0;var p=c;c=l,l=p,p=a,a=s,s=p;break;default:return}for(var h,f,g=1/0,m=1/0,y=0;y<e.segments.length;y++)for(var v=e.segments[y],b=0;b<v.length-3;b+=2){var x,w,E=v[b],S=v[b+1],k=v[b+2],_=v[b+3];d&&(x=E,E=(w=S)*Math.cos(x),S=w*Math.sin(x),w=k,k=(x=_)*Math.cos(w),_=x*Math.sin(w)),k=n.closestPointOnSegment(0,0,(E-c)*a,(S-l)*s,(k-c)*a,(_-l)*s),_=n.hypot(k[0],k[1]),k[0]<0?_<g&&(g=_,h=k):_<m&&(m=_,f=k)}if(r=g<m?h:f)return t=r[0]/a+c,r=r[1]/s+l,{closestPoint:{x:u?r:t,y:u?t:r},minDistance:Math.min(g,m),secondDistance:Math.max(g,m)}},w.getBranchesTracePoint=function(e,t,r){if(e){var n=(l="compiled"in e&&e.compiled)&&l.fn;if(n){var a=r.screen.width/(r.viewport.xmax-r.viewport.xmin),s=r.screen.height/(r.viewport.ymax-r.viewport.ymin);if(p=this.getBranchesDistanceInfo(e,t,r,!1)){var c=p.minDistance/p.secondDistance;c*=c;var l,u=e.graphMode===i.Y?"x":"y",d=p.closestPoint[u]*(1-c)+t[u]*c,p=(r=1/(2*s),n(d-(l=1/(2*a))));u=n(d),c=n(d+l),p=l*Math.min(1,r/Math.abs(p-u)),u=l*Math.min(1,r/Math.abs(c-u));return isFinite(p)||(p=l),isFinite(u)||(u=l),d=o.shortestDecimalBetween(d-p,d+u),t=w.fillHole(n,d,a,s,t.x,t.y),{x:e.graphMode===i.Y?d:t,y:e.graphMode===i.Y?t:d}}}}},w.prototype.startMovingPoint=function(e){var t=this,r=!1,n=!1;function o(){switch(e.type){case"poi":return e.poi.getMovablePoint();case"image":return{sketch:{id:e.image.formula.center_reference_id}};case"draggable-label":return{sketch:{id:e.label.model.id}};default:return e}}var i=o(),a=this.controller;function s(){n=!0,a.dispatch({type:"start-moving-point",pointInfo:i})}e.shouldDelayUntilRealMove||s(),"poi"===e.type?c=e.poi:"image"===e.type?c={x:e.image.formula.dimensions.x[0],y:e.image.formula.dimensions.y[0]}:"draggable-label"===e.type&&(c={x:e.label.x,y:e.label.y});var c=this.manager.getProjection().map_pt(c),l=e.startScreenPt.x-c.x,u=e.startScreenPt.y-c.y;function d(){var i,a;p&&(n||s(),r=!0,i=t.manager.getProjection(),a=t.getMouseRelativeToGrapher(p),p=void 0,t.controller.dispatch({type:"on-move-point",pointInfo:o(),screenPt:{x:a.x-l,y:a.y-u},previousScreenPt:e.startScreenPt,projection:i}))}"poi"===e.type&&(c=(c=e.poi).isMovable()?c.getMovablePoint():void 0,this.manager.movablePointsLayer.setPressedPointId(c?c.id:void 0));var p=void 0;this.manager.registerMovablePointListener(d),this.addGlobalMouseListener("dcg-tapmove",function(e){p=e}),this.addGlobalMouseListener("dcg-tapend dcg-tapcancel",function(i){var a,s;d(),t.manager.deregisterMovablePointListener(),t.removeAllGlobalMouseListeners(),t.manager.movablePointsLayer.setPressedPointId(void 0),n&&(i.handle("dragged-clickable-object"),t.controller.dispatch({type:"stop-moving-point",pointInfo:o()})),"poi"!==e.type||r||(s=e.poi,a=t.manager.getProjection(),i=t.getToleranceByDevice(i.device),s=a.map_pt(s),t._togglePOIUnderPoint(s,i))})},w.prototype.startTracingBranch=function(e,t){this.manager.markLabelsDirty(),this.lastScreenPt=t;var r,n=(r=this.manager.getProjection()).reverse_map_pt(t);t=e.sketch.branches[e.branch];(r=w.getBranchesTracePoint(t,n,r))&&this.speakPoint(r),this.manager.traceLayer.setTraceInfo({pt:r,branchInfo:e}),this.manager.redrawAllLayers(),this.addGlobalMouseListener("dcg-tapmove",this.handleTraceUpdate.bind(this)),this.addGlobalMouseListener("dcg-tapend dcg-tapcancel",this.stopTracingBranch.bind(this))},w.prototype.stopTracingBranch=function(e){this.manager.markLabelsDirty();var t=this.manager.poiLabelsLayer.getHoveredPOI();t&&!this.manager.poiLabelsLayer.isOpenPOI(t)&&(this.manager.poiLabelsLayer.openPOI(t),this.speakPoint(t),this.manager.redrawAllLayers()),this.lastScreenPt=void 0,this.manager.traceLayer.setTraceInfo(void 0),this.manager.redrawAllLayers(),this.removeAllGlobalMouseListeners()},w.prototype.handleTraceUpdate=function(e){if(this.manager.traceLayer.traceInfo){var t=this.manager.getProjection();if(e)i=this.getMouseRelativeToGrapher(e),this.lastScreenPt=i,this.manager.markLabelsDirty();else{if(!this.lastScreenPt)return;i=this.lastScreenPt}var r=t.reverse_map_pt(i),n=1/0,o=-1,i=(e=this.manager.traceLayer.traceInfo,this.manager.graphSketches[e.branchInfo.sketch.id]);if(i){e.branchInfo.sketch=i;for(var a=e.branchInfo.sketch.branches,s=0;s<a.length;s++){var c=w.calculateDistanceFromBranch(a[s],r,t,!1);c<n&&(o=s,n=c)}(e=(e=a[o])?w.getBranchesTracePoint(e,r,t):void 0)&&this.speakPoint(e),this.manager.traceLayer.traceInfo.branchInfo.branch=o,this.manager.traceLayer.traceInfo.pt=e,this.manager.redrawAllLayers()}}},w.fillHole=function(e,t,r,o,i,a){var s=e(t);if(isFinite(s))return s;var c=t-1e-11;s=t+1e-11,t=e(c),e=e(s);return isNaN(t)&&isNaN(e)?NaN:isNaN(t)?e:isNaN(e)?t:(c=(i-c)*r,s=(i-s)*r,r=(a-t)*o,o*=a-e,n.hypot(c,r)<n.hypot(s,o)?t:e)},w.prototype.hasNonlinearMoveStrategy=function(e){return!(!e||!e.sketch)&&(!(!(e=this.controller.getItemModel(e.sketch.id))||"expression"!==e.type||!e.formula)&&(!(!(e=e.formula.move_strategy)||!e[0])&&"updateSliderNonlinear"===e[0].type))},w.prototype.movePointFromKeyboard=function(e,t){var r,n,o,i,s,l,u,d,p,h;t&&e&&e.sketch&&(u=this.controller.getItemModel(e.sketch.id))&&"expression"===u.type&&("movable-point"===e.type||void 0!==u.label&&u.showLabel&&u.reconciledDragMode!==a.DragMode.NONE)&&(i=(o=this.manager.getProjection()).map_pt({x:e.x,y:e.y}),p=s=0,l=c.lookup(t),h=(o.pixelCoordinates.right-o.pixelCoordinates.left)/40,u=(o.pixelCoordinates.bottom-o.pixelCoordinates.top)/40,h="Up"===l||"Down"===l?u:h,h=t.shiftKey?5*h:h,"Up"===l?(n="y",p-=h,r=t.shiftKey?"bigup":"up"):"Down"===l?(n="y",p+=h,r=t.shiftKey?"bigdown":"down"):"Left"===l?(n="x",s-=h,r=t.shiftKey?"bigdown":"down"):"Right"===l&&(n="x",s+=h,r=t.shiftKey?"bigup":"up"),r&&(p={x:i.x+s,y:i.y+p},"x"===n||this.hasNonlinearMoveStrategy(e)?d={x:r}:"y"===n&&(d={y:r}),this.controller.dispatch({type:"on-move-point",pointInfo:e,screenPt:p,previousScreenPt:i,projection:o,keyboardDirection:d})))},w.prototype.speakPoint=function(e,t){if(e&&this.manager.getAudioTrace()){var r=this.manager.getProjection();if(r){var n=r.viewport;switch(t){case"X":l.alert("X: "+p.getMathspeakFromLatex(u.value(e.x,n.xmax-n.xmin).latex));break;case"Y":l.alert("Y: "+p.getMathspeakFromLatex(u.value(e.y,n.ymax-n.ymin).latex));break;case"L":"ariaLabel"in e&&e.ariaLabel?l.alert(e.ariaLabel):l.alert(this.controller.s("graphing-calculator-narration-poi-graph-point"));break;case"C":"sketch"in e&&l.alert(d.getColorName(this.controller,e.sketch.color))}}}},w.prototype.selectItemIfNotSecret=function(e){this.controller.isItemSecret(e)||this.controller.dispatch({type:"set-selected-id",id:e})},w);function w(e,t){this.manager=e,this.controller=e.controller,this.graphSettings=t,this.$=this.manager.$,this.id=b++,this.graphSettings.config.graphpaper&&!this.graphSettings.config.disableMouseInteractions&&(this.addTouchEventHandlers(),this.addHoverEventHandler(),this.addKeydownEventHandler(),this.addManualUnhoverListener())}t.POIController=x}),define("core/math/recttransformation",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RT=void 0;var r=(n.prototype.toJSON=function(){return{tx:this.tx,ty:this.ty,sx:this.sx,sy:this.sy}},n.prototype.compose=function(e){return new n(this.sx*e.tx+this.tx,this.sy*e.ty+this.ty,this.sx*e.sx,this.sy*e.sy)},n.prototype.translate=function(e,t){var r=void 0===t?e.x:t.x-e.x;e=void 0===t?e.y:t.y-e.y;return new n(this.tx+r,this.ty+e,this.sx,this.sy)},n.prototype.scale=function(e,t){return n.scale(e,t).compose(this)},n.prototype.scaleAtPoint=function(e,t,r){return void 0===r&&(r=t),n.scaleAtPoint(e,t,r).compose(this)},n.prototype.inverse=function(){return new n(-this.tx/this.sx,-this.ty/this.sy,1/this.sx,1/this.sy)},n.prototype.div=function(e){return new n((this.tx*e.sx-this.sx*e.tx)/e.sx,(this.ty*e.sy-this.sy*e.ty)/e.sy,this.sx/e.sx,this.sy/e.sy)},n.prototype.conjugate=function(e){return new n(this.tx*e.sx+e.tx*(1-this.sx),this.ty*e.sy+e.ty*(1-this.sy),this.sx,this.sy)},n.prototype.pow=function(e){return new n(this.tx*o(this.sx,e),this.ty*o(this.sy,e),Math.pow(this.sx,e),Math.pow(this.sy,e))},n.prototype.mapX=function(e){return this.sx*e+this.tx},n.prototype.mapY=function(e){return this.sy*e+this.ty},n.prototype.mapPoint=function(e){return{x:this.mapX(e.x),y:this.mapY(e.y)}},n.prototype.mapRect=function(e){return{left:this.mapX(e.left),right:this.mapX(e.right),bottom:this.mapY(e.bottom),top:this.mapY(e.top)}},n.scale=function(e,t){return void 0===t&&(t=e),new n(0,0,e,t)},n.translate=function(e,t){return(new n).translate(e,t)},n.scaleAtPoint=function(e,t,r){return void 0===r&&(r=t),void 0===r&&(r=t),new n(e.x*(1-t),e.y*(1-r),t,r)},n.fromRects=function(e,t){var r=(t.right-t.left)/(e.right-e.left),o=(t.top-t.bottom)/(e.top-e.bottom);return new n(t.left-r*e.left,t.bottom-o*e.bottom,r,o)},n.fromJSON=function(e){return new n(e.tx,e.ty,e.sx,e.sy)},n);function n(e,t,r,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=r),this.tx=e,this.ty=t,this.sx=r,this.sy=n}function o(e,t){var r=e-1;return 1+r*r*r==1?t*(1+r*(t-1)*(.5+1/6*r*(t-2))):(Math.pow(e,t)-1)/r}t.RT=r}),define("graphing/projection",["require","exports","core/math/recttransformation"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Projection=void 0;var n=(o.prototype.mapx=function(e){return this.mathToPixels.mapX(e)},o.prototype.mapy=function(e){return this.mathToPixels.mapY(e)},o.prototype.map_pt=function(e){return this.mathToPixels.mapPoint(e)},o.prototype.reverse_mapx=function(e){return this.pixelsToMath.mapX(e)},o.prototype.reverse_mapy=function(e){return this.pixelsToMath.mapY(e)},o.prototype.reverse_map_pt=function(e){return this.pixelsToMath.mapPoint(e)},o.prototype.coordsAreOnscreen=function(e,t,r){return void 0===r&&(r=0),-r<e&&-r<t&&e<this.screen.width+r&&t<this.screen.height+r},o.prototype.closestPointOnScreen=function(e){var t=this.pixelCoordinates;return{x:Math.min(Math.max(e.x,t.left),t.right),y:Math.min(Math.max(e.y,t.top),t.bottom)}},o);function o(e,t,n){this.screen=e,this.viewport=t,this.settings=n,this.mathCoordinates={left:t.xmin,right:t.xmax,bottom:t.ymin,top:t.ymax},this.pixelCoordinates={left:0,right:e.width,top:0,bottom:e.height},this.mathToPixels=r.RT.fromRects(this.mathCoordinates,this.pixelCoordinates),this.pixelsToMath=r.RT.fromRects(this.pixelCoordinates,this.mathCoordinates)}t.Projection=n}),define("jquery.handleevent",["require","jquery"],function(e){var t=e("jquery");t.Event.prototype.wasHandled=function(e){var r;return e=e||"_*_",!(!(r=(r=this.originalEvent)&&r.handledBy)||!r[e])||"_*_"===e&&(!(!(e=t(this.target).closest("[handleEvent]")).length||e[0]===this.currentTarget)&&"false"!==e.attr("handleEvent"))},t.Event.prototype.handle=function(e){e=e||"_*_";var t=this.originalEvent;t&&((t.handledBy||(t.handledBy={}))[e]=!0)}}),function(e){"function"==typeof define&&define.amd?define("vendor/jquery.mousewheel",["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){var t,r,n=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(e.event.fixHooks)for(var a=n.length;a;)e.event.fixHooks[n[--a]]=e.event.mouseHooks;var s=e.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var t=o.length;t;)this.addEventListener(o[--t],c,!1);else this.onmousewheel=c;e.data(this,"mousewheel-line-height",s.getLineHeight(this)),e.data(this,"mousewheel-page-height",s.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=o.length;e;)this.removeEventListener(o[--e],c,!1);else this.onmousewheel=null},getLineHeight:function(t){return parseInt(e(t)["offsetParent"in e.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0}};function c(n){var o,a,s=n||window.event,c=i.call(arguments,1),d=0,p=0,h=0;if((n=e.event.fix(s)).type="mousewheel","detail"in s&&(h=-1*s.detail),"wheelDelta"in s&&(h=s.wheelDelta),"wheelDeltaY"in s&&(h=s.wheelDeltaY),"wheelDeltaX"in s&&(p=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(p=-1*h,h=0),d=0===h?p:h,"deltaY"in s&&(d=h=-1*s.deltaY),"deltaX"in s&&(p=s.deltaX,0===h&&(d=-1*p)),0!==h||0!==p)return 1===s.deltaMode?(d*=a=e.data(this,"mousewheel-line-height"),h*=a,p*=a):2===s.deltaMode&&(d*=a=e.data(this,"mousewheel-page-height"),h*=a,p*=a),o=Math.max(Math.abs(h),Math.abs(p)),(!r||o<r)&&u(s,r=o)&&(r/=40),u(s,o)&&(d/=40,p/=40,h/=40),d=Math[1<=d?"floor":"ceil"](d/r),p=Math[1<=p?"floor":"ceil"](p/r),h=Math[1<=h?"floor":"ceil"](h/r),n.deltaX=p,n.deltaY=h,n.deltaFactor=r,n.deltaMode=0,c.unshift(n,d,p,h),t&&clearTimeout(t),t=setTimeout(l,200),(e.event.dispatch||e.event.handle).apply(this,c)}function l(){r=null}function u(e,t){return s.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),define("graphing/viewportcontroller",["require","exports","jquery","lib/aria","lib/i18n","core/math/recttransformation","./viewport","core/math/distance","./constants","./projection","keys","jquery.handleevent","vendor/jquery.mousewheel"],function(e,t,r,n,o,i,a,s,c,l,u){"use strict";function d(e,t){var r=t.x-e.x,n=t.y-e.y,o=.5*(e.x+t.x);t=.5*(e.y+t.y),n=.5*s.hypot(r,n);return{center:f(o,t),radius:n}}function p(e,t){return d(t,{x:2*e.x-t.x,y:2*e.y-t.y})}function h(e,t){for(var r=[],n=0;n<e.length;n++)r.push(f(e[n].pageX-t.left,e[n].pageY-t.top));return r}function f(e,t){return{x:e,y:t}}function g(e){return f(.5*(e.left+e.right),.5*(e.bottom+e.top))}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewportController=void 0;var m=0,y=(v.prototype.remove=function(){r(window).off(".viewportcontroller-"+this.id)},v.prototype.getViewport=function(){return this.grapher.getProjection().viewport},v.prototype.getProjection=function(){return this.grapher.getProjection()},v.prototype.isViewportLocked=function(){var e=this.getProjection().settings;return e.config.lockViewport||e.userLockedViewport},v.prototype.updateMouse=function(e){var t=this.$[0].getBoundingClientRect();this.mousePt=f(e.clientX-t.left,e.clientY-t.top)},v.prototype.updateScaleAxis=function(){this.isMouseInViewport()&&(this.isMouseNearYAxis()?this.grapher.scaleAxis="y":this.isMouseNearXAxis()?this.grapher.scaleAxis="x":this.grapher.scaleAxis="both"),this.updateCursor(),this.grapher.redrawAllLayers()},v.prototype.updateCursor=function(){this.$.toggleClass("dcg-scale-horizontal","x"===this.grapher.scaleAxis),this.$.toggleClass("dcg-scale-vertical","y"===this.grapher.scaleAxis),this.$.toggleClass("dcg-scale-both","both"===this.grapher.scaleAxis)},v.prototype.isMouseNearOrigin=function(){var e=this.getProjection().mathToPixels.mapPoint(f(0,0));return Math.abs(this.mousePt.x-e.x)<50&&Math.abs(this.mousePt.y-e.y)<50},v.prototype.isMouseNearXAxis=function(){var e=this.getProjection(),t=e.pixelCoordinates,r=e.mathToPixels.mapY(0);r=Math.min(Math.max(t.top,r),t.bottom);return Math.abs(this.mousePt.y-r)<40&&e.settings.showXAxis},v.prototype.isMouseNearYAxis=function(){var e=this.getProjection(),t=e.pixelCoordinates,r=e.mathToPixels.mapX(0);r=Math.min(Math.max(t.left,r),t.right);return Math.abs(this.mousePt.x-r)<40&&e.settings.showYAxis},v.prototype.isMouseInViewport=function(){var e,t=(e=this.getProjection()).mathCoordinates;return(e=e.pixelsToMath.mapPoint(this.mousePt)).x>=t.left&&e.x<=t.right&&e.y>=t.bottom&&e.y<=t.top},v.prototype.getDefaultViewport=function(){return this.controller.getDefaultStateViewport()||this.grapher.getDefaultViewport()},v.prototype._setViewportWithoutCancellingAnimation=function(e){var t;e.isValid()&&!e.equals(this.getViewport())&&(t=this.getProjection(),this.grapher._setProjection(new l.Projection(t.screen,e,t.settings)))},v.prototype.setViewport=function(e){this.cancelAnimation(),this._setViewportWithoutCancellingAnimation(e)},v.prototype.setScreen=function(e){var t=(r=this.getProjection()).settings.squareAxes,r=new l.Projection(e,this.getViewportForScreen(r.viewport,e,t),r.settings);this.grapher._setProjection(r)},v.prototype.getTransformedViewport=function(e){var t=(t=this.getProjection()).pixelsToMath.div(e).mapRect(t.pixelCoordinates);return new a.Viewport(t.left,t.right,t.bottom,t.top)},v.prototype.transformViewport=function(e){this.setViewport(this.getTransformedViewport(e))},v.prototype.animateTransformation=function(e){var t=this;this.cancelAnimation();var r,n=this.getTransformedViewport(e),o=0,i=function(a){a=(a-(r=r||a))/c.ANIMATE_ZOOM_DURATION,(o+=a)<1?(t.__animationTimeout=requestAnimationFrame(i),t._setViewportWithoutCancellingAnimation(t.getTransformedViewport(e.pow(a)))):t.setViewport(n),t.grapher.debounceUserRequestedViewportChange()};this.__animationTimeout=requestAnimationFrame(i)},v.prototype.cancelAnimation=function(){cancelAnimationFrame(this.__animationTimeout)},v.prototype.addMouseWheelEventHandler=function(){var e,t,n=this,o=!1;r(window).on("scroll.viewportcontroller-"+this.id,function(e){o=!0}),r(window).on("mousewheel.viewportcontroller-"+this.id,function(r){e=r.clientX,t=r.clientY}),r(window).on("mousemove.viewportcontroller-"+this.id,function(r){var n;o&&((n=r.clientX-e)*n+(r=r.clientY-t)*r<100||(o=!1))});var a=0;this.$.mousewheel(function(e,t){var r,s=Date.now();n.preventScrollZoom&&50<s-n.lastScrollZoom&&(n.preventScrollZoom=!1),n.lastScrollZoom=s,n.preventScrollZoom||(r=n.getProjection(),n.isViewportLocked()||(s=r.mathToPixels,o||(e.preventDefault(),n.updateMouse(e),r=s.mapPoint(f(0,0)),e=n.isMouseNearOrigin()&&0<t?r:n.mousePt,0<a||(a+=1,requestAnimationFrame(function(){a--}),s=0<(t=0<t?1:-1)?c.ZOOM_FACTOR:1/c.ZOOM_FACTOR,t="x"!==(r=n.grapher.scaleAxis)&&"both"!==r&&r?1:s,s="y"!==r&&"both"!==r&&r?1:s,n.transformViewport(i.RT.scaleAtPoint(e,t,s)),n.grapher.debounceUserRequestedViewportChange()))))})},v.prototype.applyPanTouchChanges=function(e,t){this.isViewportLocked()||this.isScalingEnabled||(e=f(t[0].x-e[0].x,t[0].y-e[0].y),this.transformViewport(i.RT.translate(e)),this.grapher.debounceUserRequestedViewportChange())},v.prototype.chooseDragScaleCenter=function(){var e=(r=this.getProjection()).pixelCoordinates,t=r.mathToPixels.mapX(0),r=r.mathToPixels.mapY(0);return f(Math.min(Math.max(e.left,t),e.right),r=Math.min(Math.max(e.top,r),e.bottom))},v.prototype.applyScaleTouchChanges=function(e,t){if(!this.isViewportLocked()){var r=this.grapher.scaleAxis;if(2===e.length&&2===t.length)o=d(e[0],e[1]),a=d(t[0],t[1]);else{if(1!==t.length)return;var n=this.chooseDragScaleCenter(),o=p(n,e[0]),a=p(n,t[0])}n=a.radius/o.radius,t="y"===r?1:n,n="x"===r?1:n,a=i.RT.scaleAtPoint(o.center,t,n).translate(o.center,a.center),this.transformViewport(a),this.grapher.debounceUserRequestedViewportChange()}},v.prototype.addTouchEventHandler=function(){var e=this,t=[],n=!1,o=!0,i=!0;function a(){e.grapher.scaleAxis&&(e.grapher.scaleAxis=void 0,e.grapher.redrawAllLayers(),e.updateCursor())}function s(){e.isScalingEnabled=!1,e.preventScrollZoom=!0,a()}function c(r){if(n&&!e.isViewportLocked()&&e.grapher&&e.grapher.clickableObjectsLayer&&!e.grapher.clickableObjectsLayer.isAnObjectPressed()){var s=h(r.touches,e.$.offset());if(2===t.length&&2===s.length)p=s,e.grapher.scaleAxis||(e.grapher.scaleAxis=function(t){if(!(t.length<2)){var r=e.grapher.getProjection(),n=r.pixelCoordinates,o=r.mathToPixels.mapX(0),i=r.mathToPixels.mapY(0),a=(o=Math.min(Math.max(n.left,o),n.right),i=Math.min(Math.max(n.top,i),n.bottom),t[1].x-t[0].x);n=t[1].y-t[0].y;return Math.abs(t[0].x-o)<40&&Math.abs(t[1].x-o)<40&&Math.abs(n)>3*Math.abs(a)&&r.settings.showYAxis?"y":Math.abs(t[0].y-i)<40&&Math.abs(t[1].y-i)<40&&Math.abs(a)>3*Math.abs(n)&&r.settings.showXAxis?"x":"both"}}(p)),e.grapher.scaleAxis,e.applyScaleTouchChanges(t,s);else if(1===t.length&&e.isScalingEnabled){e.updateMouse(r);var c,l,u=e.grapher.scaleAxis,d=e.getProjection().mathToPixels.mapPoint(f(0,0)),p=o?1:-1;r=i?1:-1;if("x"!==u&&"both"!==u||(c=e.mousePt.x>d.x+5*p),"y"!==u&&"both"!==u||(l=e.mousePt.y>d.y+5*r),"x"===u&&o!==c)return;if("y"===u&&i!==l)return;if("both"===u&&o!==c&&i!==l)return;e.applyScaleTouchChanges(t,s)}else a();1===t.length&&e.applyPanTouchChanges(t,s),e.controller.dispatch({type:"grapher/drag-move"}),t=s}}function l(o){n&&(e.cancelAnimation(),t=h(o.touches,e.$.offset()),0===o.touches.length&&(n=!1,e.grapher.isDragging=!1,r(document).off(".graphdrag"),e.grapher.debounceUserRequestedViewportChange(),e.controller.dispatch({type:"grapher/drag-end"})),0!==o.touches.length&&(1!==o.touches.length||e.isScalingEnabled)||a())}r(window).on("mousemove.viewportcontroller-"+this.id,function(t){n||e.isViewportLocked()||(e.updateMouse(t),e.isScalingEnabled&&e.updateScaleAxis())}),this.$.on("dcg-tapstart",function(t){var a=e.getProjection();e.isViewportLocked()||t.wasHandled()||n||t.touches.length!==t.changedTouches.length||(n=!0,e.grapher.isDragging=!0,e.updateMouse(t),t=a.mathToPixels.mapPoint(f(0,0)),"x"!==(a=e.grapher.scaleAxis)&&"both"!==a||(o=e.mousePt.x>t.x),"y"!==a&&"both"!==a||(i=e.mousePt.y>t.y),e.controller.dispatch({type:"grapher/drag-start"}),r(document).on("dcg-tapmove.graphdrag",c),r(document).on("dcg-tapstart.graphdrag dcg-tapend.graphdrag dcg-tapcancel.graphdrag",l))}),r(window).on("keydown.viewportcontroller-"+this.id,function(t){e.isViewportLocked()||(u.lookup(t)!==u.SHIFT||t.altKey||t.ctrlKey||t.metaKey?s():(e.isScalingEnabled=!0,e.grapher.scaleAxis||e.updateScaleAxis()))}),r(window).on("keyup.viewportcontroller-"+this.id+" blur.viewportcontroller-"+this.id,s)},v.prototype.zoom=function(e){var t=this.getProjection().pixelCoordinates;"in"===e?(this.animateTransformation(i.RT.scaleAtPoint(g(t),2)),n.alert(this.s("graphing-calculator-narration-viewport-zoom-in"))):"out"===e?(this.animateTransformation(i.RT.scaleAtPoint(g(t),.5)),n.alert(this.s("graphing-calculator-narration-viewport-zoom-out"))):"default"===e?(t=this.getDefaultViewport(),this.animateTransformation(this.getCustomZoomTransformation(t)),n.alert(this.s("graphing-calculator-narration-viewport-zoom-default"))):"square"===e&&(e=this.getSquareViewport(),this.animateTransformation(this.getCustomZoomTransformation(e)),n.alert(this.s("graphing-calculator-narration-viewport-zoom-square")))},v.prototype.zoomCustom=function(e){this.animateTransformation(this.getCustomZoomTransformation(e)),n.alert(this.s("graphing-calculator-narration-viewport-updated"))},v.prototype.getCustomZoomTransformation=function(e){var t=this.getProjection().viewport,r=this.getProjection().pixelCoordinates,n=this.getProjection().mathCoordinates,o=(t.xmax-t.xmin)/(e.xmax-e.xmin);t=(t.ymax-t.ymin)/(e.ymax-e.ymin),n=i.RT.fromRects(n,r),n=i.RT.translate(n.mapPoint({x:0,y:0}),{x:0,y:0}),t=i.RT.scale(o,t),r=i.RT.fromRects({left:e.xmin,right:e.xmax,bottom:e.ymin,top:e.ymax},r);return i.RT.translate({x:0,y:0},r.mapPoint({x:0,y:0})).compose(t.compose(n))},v.prototype.isZoomRestored=function(){var e=this.getProjection(),t=e.viewport,r=this.getDefaultViewport();return e.settings.squareAxes&&Math.abs((t.xmin-r.xmin)/t.xmin)<.05&&Math.abs((t.xmax-r.xmax)/t.xmax)<.05&&Math.abs((t.ymin-r.ymin)/t.ymin)<.05&&Math.abs((t.ymax-r.ymax)/t.ymax)<.05},v.prototype.getViewportForScreen=function(e,t,r){return r?"y"==this.getProjection().settings.lastChangedAxis?e.squareXAxis(t):e.squareYAxis(t):e},v.prototype.getSquareViewport=function(){var e=this.getProjection();return this.getViewportForScreen(e.viewport,e.screen,!0)},v.prototype.enforceSquareAxes=function(){var e=this.getProjection();e.settings.squareAxes&&(e.viewport.isSquare(e.screen)||this.setViewport(this.getViewportForScreen(e.viewport,e.screen,!0)))},v);function v(e,t){var r=this;this.s=o.createDictionaryLookupFunction(function(){return r.grapher.settings.config.language}),this.grapher=e,this.$=e.$,this.id=m++,this.controller=t,this.isScalingEnabled=!1,this.mousePt=f(0,0),this.lastScrollZoom=Date.now(),this.preventScrollZoom=!1,this.addMouseWheelEventHandler(),this.addTouchEventHandler()}t.ViewportController=y}),define("submodules/dcgview/build-amd/attr-event-handler",[],function(){"use strict";return function(e,t){if(null!=t){if("string"!=typeof e)throw new Error("Must pass a string for an EventHandler name");if("function"!=typeof t)throw new Error("Must pass a function for an EventHandler callback");return{bindings:{onMount:function(r){r[e.toLowerCase()]=function(e){e&&t.apply(this,arguments)}}}}}}}),define("submodules/dcgview/build-amd/const",[],function(){"use strict";return{isConst:function(e){return!("function"!=typeof e||!e.isDCGViewConst)},makeConst:function(e){function t(){return e}return t.isDCGViewConst=!0,t}}}),define("submodules/dcgview/build-amd/attr",[],function(){"use strict";return{update:function(e,t,r){void 0===r?e.removeAttribute(t):e.setAttribute(t,r+"")}}}),define("submodules/dcgview/build-amd/attr-generic",["./const","./attr"],function(e,t){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=r(e),o=r(t);return function(e,t){var r,i=t();return n.default.isConst(t)||(r={onUpdate:function(r){var n=t();n!==i&&(i=n,o.default.update(r,e,n))}}),{value:i,bindings:r}}}),define("submodules/dcgview/build-amd/is-event-handler",[],function(){"use strict";return function(e){return"o"===e[0]&&"n"===e[1]&&e[2].toUpperCase()===e[2]}}),define("submodules/dcgview/build-amd/custom-attributes",[],function(){"use strict";var e={};return{isCustomAttribute:function(t){return e.hasOwnProperty(t)},add:function(t,r){e[t]=r},parse:function(t,r){return(0,e[t])(r)}}}),define("submodules/dcgview/build-amd/bindings",[],function(){"use strict";return{add:function(e,t,r){var n=e._bindings[t];n?n.push(r):e._bindings[t]=[r]},invoke:function(e,t){var r=e._bindings[t];if(r)for(var n=r.length,o=0;o<n;o++)r[o]()}}}),define("submodules/dcgview/build-amd/warnings",[],function(){"use strict";var e=[];return{warn:function(t,r){try{var n;throw r&&r._isDCGView&&(t+=" ["+r._viewName+"]",0<(n=r.traceViewHierarchy()).ancestors.length&&(t+="\nView Hierarchy:\n"+n.formatted)),new Error(t)}catch(t){console.warn(t);for(var o=0;o<e.length;o++)e[o](t)}},addWarningHandler:function(t){e.push(t)},removeWarningHandler:function(t){var r=e;e=[];for(var n=0;n<r.length;n++){var o=r[n];o!==t&&e.push(o)}}}}),define("submodules/dcgview/build-amd/bind-attrs",["./attr-event-handler","./attr-generic","./is-event-handler","./custom-attributes","./bindings","./warnings"],function(e,t,r,n,o,i){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=a(e),c=a(t),l=a(r),u=a(n),d=a(o),p=a(i),h={onMount:!0,didMount:!0,willUnmount:!0,willUpdate:!0,onUpdate:!0,didUpdate:!0},f={willMount:!0,onMount:!0,didMount:!0,willUnmount:!0,onUnmount:!0,didUnmount:!0};function g(e,t,r){var n=r.bindings;if(n)for(var o in n){var i=n[o];o in h&&(i=i.bind(null,t)),o in f&&(i=function(e,t,r){var n=!1;return function(){n?p.default.warn(e+" is a one-time binding but was called multiple times",r):(n=!0,t.apply(this,arguments))}}(o,i,e)),d.default.add(e,o,i)}}return function(e,t,r){if(t)for(var n in t){var o,i=function(e,t){if("function"!=typeof t)throw new Error('The "'+e+'" attr must be a function. It is: '+JSON.stringify(t));return u.default.isCustomAttribute(e)?u.default.parse(e,t):(l.default(e)?s:c).default(e,t)}(n,t[n]);i&&(void 0!==(o=i.value)&&r.setAttribute(n,o),i.bindings&&g(e,r,i))}}}),define("submodules/dcgview/build-amd/bind-text",["./bindings"],function(e){"use strict";var t,r=(t=e)&&"object"==typeof t&&"default"in t?t:{default:t},n=!1;return{bindText:function(e,t,o){if("function"!=typeof o)throw new Error("bindText expects a function");var i=o();null==i&&(i="");var a,s=document.createTextNode(i);n?((a=document.createElement("span")).appendChild(s),t.appendChild(a)):t.appendChild(s),r.default.add(e,"onUpdate",function(){var e=o();null==e&&(e=""),i!==e&&(s.nodeValue=e,i=e)})},enableSpanWrapping:function(){n=!0}}}),define("submodules/dcgview/build-amd/dcg-element",["./bind-attrs","./bind-text","./const","./warnings"],function(e,t,r,n){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=o(e),a=(t=o(t),o(r)),s=o(n),c=t.default.bindText;function l(e,t){t=document.createTextNode(t),e.appendChild(t)}function u(e,t,r){if(this.tagName=e,this.attrs=t,this.children=r,Array.isArray(this.children))for(var n=0;n<this.children.length;n++){var o=typeof this.children[n];"object"!=o&&"function"!=o||(this.children[n]._parentElement=this)}}return u.prototype._isDCGElement=!0,u.prototype.renderToDocFrag=function(e,t){if(this._domNode)throw new Error("Cannot remount a DCGElement");var r=this.children,n=document.createElement(this.tagName);this._domNode=n,i.default(t,this.attrs,n),e.appendChild(n);for(var o=r.length,u=0;u<o;u++){var d=r[u];d._isDCGElement?d.renderToDocFrag(n,t):a.default.isConst(d)?l(n,d()):"function"==typeof d?c(t,n,d):(s.default.warn("Text should be a const or a getter: "+JSON.stringify(d),t),l(n,d))}},u}),define("submodules/dcgview/build-amd/create-element",["./dcg-element"],function(e){"use strict";var t,r=(t=e)&&"object"==typeof t&&"default"in t?t:{default:t};return function(e,t){for(var n=[],o=arguments.length-1,i=2;i<=o;i++)!function e(t,r){if(null!=t)if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n],r);else r.push(t)}(arguments[i],n);if("string"==typeof e)return new r.default(e,t,n);if(e&&e._isDCGViewClass)return new e(t,n);throw new Error("createElement expects a String or DCGViewClass")}}),define("submodules/dcgview/build-amd/mounting",["./bindings"],function(e){"use strict";var t,r=(t=e)&&"object"==typeof t&&"default"in t?t:{default:t};function n(e){e.willMount&&e.willMount(),r.default.invoke(e,"willMount"),e._childViews.forEach(n)}function o(e){e._isMounted=!0,e.onMount&&e.onMount(),r.default.invoke(e,"onMount"),e._childViews.forEach(o)}function i(e){e.didMount&&e.didMount(),r.default.invoke(e,"didMount"),e._childViews.forEach(i)}function a(e){e.willUnmount&&e.willUnmount(),r.default.invoke(e,"willUnmount"),e._childViews.forEach(a)}function s(e){e._isMounted=!1,e._childViews.forEach(s),r.default.invoke(e,"onUnmount"),e.onUnmount&&e.onUnmount()}function c(e){e._childViews.forEach(c),r.default.invoke(e,"didUnmount"),e.didUnmount&&e.didUnmount()}return{renderToDocFrag:function(e,t){if(t&&t._childViews.push(this),this.__generatedHTMLBefore)throw new Error("Cannot remount a DCGView");if(this.__generatedHTMLBefore=!0,this._element.renderToDocFrag(e,this),Array.isArray(this._siblingElements))for(var r=0;r<this._siblingElements.length;r++)this._siblingElements[r].renderToDocFrag(e,this)},findRootNode:function(){for(var e=this._element;e._isDCGView;)e=e._element;return e._domNode},createNodeForView:function(e,t){var r=document.createDocumentFragment();return e.renderToDocFrag(r,t),r.firstChild},willMount:n,onMount:o,didMount:i,willUnmount:a,onUnmount:s,didUnmount:c,mountToNode:function(e,t,r){if(!e||!e._isDCGViewClass)throw new Error("Must pass a DCGView class to be mounted");if(!t||1!==t.nodeType)throw new Error("Must pass an HTMLElement for the node");if(t._mountedDCGView)throw new Error("This node is already mounted by a view");return e=new e(r),r=document.createDocumentFragment(),e.renderToDocFrag(r),t.innerHTML="",n(e),t._mountedDCGView=e,t.appendChild(r),o(e),i(e),e},unmountFromNode:function(e){var t=e._mountedDCGView;if(!t)throw new Error("This node is not mounted by a DCGView");a(t),e.innerHTML="",delete e._mountedDCGView,s(t),c(t)}}}),define("submodules/dcgview/build-amd/update",["./bindings","./warnings"],function(e,t){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=r(e),o=r(t);return{update:function(){if(!this._isMounted)return o.default.warn("Trying to update view that is not mounted. Ignoring update.",this);if(!this.shouldUpdate||this.shouldUpdate()){if(this.willUpdate&&this.willUpdate(),n.default.invoke(this,"willUpdate"),n.default.invoke(this,"onUpdate"),this.onUpdate&&this.onUpdate(),this.overrideChildUpdates)this.overrideChildUpdates();else for(var e=this._childViews,t=e.length,r=0;r<t;r++)e[r].update();n.default.invoke(this,"didUpdate"),this.didUpdate&&this.didUpdate()}}}}),define("submodules/dcgview/build-amd/spread",[],function(){"use strict";return function(e){var t=arguments.length;if(t<2)return e;for(var r=1;r<t;r++)for(var n=arguments[r],o=Object.keys(n),i=o.length,a=0;a<i;a++){var s=o[a];e[s]=n[s]}return e}}),define("submodules/dcgview/build-amd/create-class",["./create-element","./mounting","./update","./const","./spread"],function(e,t,r,n,o){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=i(e),s=i(t),c=i(r),l=i(n),u=i(o);return function(e){if(!e)throw new Error("must pass a spec to DCGView.createClass");if("function"!=typeof e.template)throw new Error("must pass a template function to DCGView.createClass");function t(t,r){this._viewName=e.viewName||(this.constructor?this.constructor.name:"Anonymous DCGView"),this._setupProps(t,r),this.init&&this.init(),this._callTemplate()}for(var r in t.prototype._setupProps=function(e,t){if(e){for(var r in e){var n=e[r];if("function"!=typeof n&&void 0!==n)throw new Error('The "'+r+'" prop must be a function. It is: '+JSON.stringify(n))}this.props=e}else this.props={};this.children=t,this._childViews=[],this._bindings={}},t.prototype._callTemplate=function(){if(this._element=this.template(),!this._element||!this._element._isDCGElement)throw new Error("template() must return a DCGElement");this._element._parentElement=this},t.prototype.bindFn=function(e){return e.bind(this)},t.prototype.findRootNode=s.default.findRootNode,t.prototype.renderToDocFrag=s.default.renderToDocFrag,t.prototype.const=l.default.makeConst,t.prototype.spread=u.default,t.prototype.createElement=a.default,t.prototype.update=c.default.update,t.prototype.traceViewHierarchy=function(){for(var e=[],t=this._parentElement;t;t=t._parentElement)e.unshift(t);return{ancestors:e,formatted:e.concat([this]).filter(function(e){return!(!e._isDCGView||e._isDCGSwitch&&e._parentElement&&e._parentElement._isDCGIf||e._isDCGIfDefinedWrapper||e._isDCGSwitchWrapper||e._isDCGSwitchUnionWrapper)}).map(function(e,t){for(var r="";0<t--;)r+="  ";return r+"<"+e._viewName+">"}).join("\n")}},e)if(e.hasOwnProperty(r)){if(t.prototype.hasOwnProperty(r))throw new Error("Cannot override the "+r+"() method");t.prototype[r]=e[r]}return t._isDCGViewClass=!0,t.prototype._isDCGView=!0,t.prototype._isDCGElement=!0,t}}),define("submodules/dcgview/build-amd/attr-style",["./const","./attr"],function(e,t){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=r(e),o=r(t);function i(e){var t=e();if("string"==(e=typeof t))return t;if(!e||"object"!=e)throw new Error("Unsupported type returned from style getter: "+e);var r,n="";for(r in t){var o=t[r];t.hasOwnProperty(r)&&null!=o&&(n?n+=";"+r+":"+o:n=r+":"+o)}return n}return function(e){var t,r=i(e);return n.default.isConst(e)||(t={onUpdate:function(t){var n=i(e);r!==n&&(o.default.update(t,"style",n),r=n)}}),{value:r,bindings:t}}}),define("submodules/dcgview/build-amd/attr-class",["./const"],function(e){"use strict";var t,r=(t=e)&&"object"==typeof t&&"default"in t?t:{default:t};function n(e){var t=e();if("string"==(e=typeof t))return t;if(!e||"object"!=e)throw new Error("Unsupported type returned from class getter: "+e);var r,n="";for(r in t)t.hasOwnProperty(r)&&t[r]&&(n?n+=" "+r:n=r);return n}var o=/^\s+|\s+$/g,i=/\s+/;return function(e){var t,a=n(e);return r.default.isConst(e)||(t={onUpdate:function(t){var r=n(e);a!==r&&(t.className===a?t.className=r:t.className=function(e,r){for(var n=[],a=t.className.replace(o,"").split(i),s=e.replace(o,"").split(i),c={},l=s.length-1;0<=l;l--)c[s[l]]=!0;var u=a.length;for(l=0;l<u;l++){var d=a[l];c.hasOwnProperty(d)||n.push(d)}return r?n.length?r+" "+n.join(" "):r:n.join(" ")}(a,r),a=r)}}),{value:a,bindings:t}}}),define("submodules/dcgview/build-amd/attr-lifecycle",["./const"],function(e){"use strict";var t,r=(t=e)&&"object"==typeof t&&"default"in t?t:{default:t};return function(e){return function(t){if("function"!=typeof t)throw new Error("The "+e+" attribute expects a function for the value");if(r.default.isConst(t))throw new Error("The "+e+" attribute does not expect a const for the value");var n={bindings:{}};return n.bindings[e]=t,n}}}),define("submodules/dcgview/build-amd/longest-subsequence",[],function(){"use strict";return function(e){for(var t,r=e.length,n=new Array(r),o=new Array(r+1),i=0,a=0;a<r;a++){if(e[o[i]]<e[a])t=i+1;else{for(var s=1,c=i-1;s<=c;){var l=Math.ceil((s+c)/2);e[o[l]]<e[a]?s=l+1:c=l-1}t=s}n[a]=o[t-1],o[t]=a,i<t&&(i=t)}var u=new Array(i),d=o[i];for(a=i-1;0<=a;a--)u[a]=e[d],d=n[d];return u}}),define("submodules/dcgview/build-amd/compute-key-mutations",["./longest-subsequence"],function(e){"use strict";var t,r=(t=e)&&"object"==typeof t&&"default"in t?t:{default:t};return function(e,t){for(var n,o={},i=[],a=[],s=0;s<t.length;s++)o[n=t[s]]=s;for(s=0;s<e.length;s++)void 0===o[n=e[s]]&&i.push(n);var c=[];for(s=0;s<e.length;s++){var l=o[n=e[s]];void 0!==l&&c.push(l)}var u=r.default(c),d={};for(s=0;s<u.length;s++)d[n=t[u[s]]]=!0;for(s=t.length-1;0<=s;s--)d[n=t[s]]||a.push({key:n,beforeKey:t[s+1]});return{removes:i,inserts:a}}}),define("submodules/dcgview/build-amd/each",["./create-class","./compute-key-mutations","./create-element","./mounting"],function(e,t,r,n){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}e=o(e);var i=o(t),a=o(r),s=o(n),c=e.default({viewName:"EachPlaceholder",_isDCGEachPlaceholder:!0,template:function(){return this.createElement("div",{style:this.const("display: none")})}}),l=e.default({viewName:"EachWrapper",_isDCGEachWrapper:!0,template:function(){return this.children[0]}}),u=e.default({viewName:"Each",_isDCGEach:!0,getKeys:function(){this._keyToItem={};var e=this.props.items(),t=this.props.keyFunction?e.map(this.props.keyFunction):e.slice(0);if(!this._chosenKeyType&&t.length&&(this._chosenKeyType=typeof t[0],"string"!==this._chosenKeyType&&"number"!==this._chosenKeyType))throw new Error("The key: "+JSON.stringify(t[0])+" is not a string or number");for(var r=0;r<t.length;r++){var n=t[r];if(typeof n!==this._chosenKeyType)throw new Error("Keys must be the same type. "+JSON.stringify(n)+" is not a "+this._chosenKeyType);if(n in this._keyToItem)throw new Error("The key: "+JSON.stringify(n)+" is not unique");this._keyToItem[n]=e[r]}return t},createViewForKey:function(e){var t=this._keyToItem[e],r=this.props.viewFunction.call(this,t,e);return(t=r)._isDCGView||(t=this.createElement(l,null,r)),this._keyToView[e]=t},template:function(){this._keyToView={},this._keys=this.getKeys(),this._element=this.createElement(c,null),this._siblingElements=[];for(var e=0;e<this._keys.length;e++){var t=this._keys[e];(t=this.createViewForKey(t))._parentElement=this._element._parentElement,this._siblingElements.push(t)}return this._element},detachAllRemovedViews:function(){for(var e,t=this._childViews,r=0,n=t.length,o=0;o<n;o++)(e=t[o])._will_be_unmounted_?r++:t[o-r]=e;t.splice(n-r,r)},overrideChildUpdates:function(){var e=this._keys,t=this.getKeys();this._keys=t;for(var r,n,o,a,c=this._element.findRootNode().parentNode,l=i.default(e,t),u=[],d=l.removes.length-1;0<=d;d--)a=l.removes[d],u.push(this._keyToView[a]);for(u.forEach(s.default.willUnmount),d=0;d<l.removes.length;d++)a=l.removes[d],r=this._keyToView[a],delete this._keyToView[a],r._will_be_unmounted_=!0,c.removeChild(r.findRootNode());0<u.length&&this.detachAllRemovedViews(),u.forEach(s.default.onUnmount),u.forEach(s.default.didUnmount);var p=[];for(d=l.inserts.length-1;0<=d;d--)(a=l.inserts[d].key)in this._keyToView||(r=this.createViewForKey(a),p.push(r),s.default.createNodeForView(r,this));for(p.forEach(s.default.willMount),d=0;d<l.inserts.length;d++)o=l.inserts[d],n=this._keyToView[o.key].findRootNode(),o=void 0!==o.beforeKey?this._keyToView[o.beforeKey].findRootNode():null,c.insertBefore(n,o);p.forEach(s.default.onMount),p.forEach(s.default.didMount);var h=this._childViews,f=h.length-p.length;for(d=0;d<f;d++)h[d].update()}});return function(e,t){return a.default(u,{items:e,keyFunction:t.key,viewFunction:t.item})}}),define("submodules/dcgview/build-amd/for",["./create-class","./compute-key-mutations","./const","./mounting"],function(e,t,r,n){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}e=o(e);var i=o(t),a=o(r),s=o(n),c=e.default({viewName:"ForWrapper",template:function(){return this.children[0]}});return e.default({viewName:"For",_isDCGFor:!0,getKeys:function(){this._keyToItem={};var e=this.props.each();if(!Array.isArray(e))throw new Error("<For each={}> must return an array");var t=this.props.key?e.map(this.props.key):e.slice(0);if(!this._chosenKeyType&&t.length&&(this._chosenKeyType=typeof t[0],"string"!==this._chosenKeyType&&"number"!==this._chosenKeyType))throw new Error("The key: "+JSON.stringify(t[0])+" is not a string or number");for(var r=0;r<t.length;r++){var n=t[r];if(typeof n!==this._chosenKeyType)throw new Error("Keys must be the same type. "+JSON.stringify(n)+" is not a "+this._chosenKeyType);if(n in this._keyToItem)throw new Error("The key: "+JSON.stringify(n)+" is not unique");this._keyToItem[n]=e[r]}return t},createViewForKey:function(e){var t=this._keyToItem[e],r=this._viewFunction.call(this,t,e);return(t=r)._isDCGView||(t=this.createElement(c,null,r)),this._keyToView[e]=t},template:function(){if(this._keyToView={},"function"!=typeof this.props.each)throw new Error("<For each={}> must be a function");if(1!==this.children.length)throw new Error("<For> expects a single child. You passed "+this.children.length);var e=this.children[0];if(!e||!e._isDCGElement)throw new Error("<For> expects the root node to be a DCGElement. You passed "+JSON.stringify(e));if(e._isDCGView)throw new Error("<For> expects the root node to not be a DCGView. Pass in something like <div> or <span>");if(1!==e.children.length)throw new Error("<For> expects a root node with a single child. You passed "+e.children.length);if(this._viewFunction=e.children[0],this._viewFunction&&this._viewFunction._isDCGElement)throw new Error("<For> expects a function that constructs a DCGElement. You passed a DCGElement directly");if("function"!=typeof this._viewFunction){var t=JSON.stringify(this._viewFunction);throw new Error("<For> expects a function that constructs a DCGElement. You passed "+t)}if(a.default.isConst(this._viewFunction))throw new Error("<For> expects a function that constructs a DCGElement. You passed a constant");this._keys=this.getKeys();for(var r=[],n=0;n<this._keys.length;n++){var o=this._keys[n];(o=this.createViewForKey(o))._parentElement=this,r.push(o)}return e.children=r,e},detachAllRemovedViews:function(){for(var e,t=this._childViews,r=0,n=t.length,o=0;o<n;o++)(e=t[o])._will_be_unmounted_?r++:t[o-r]=e;t.splice(n-r,r)},overrideChildUpdates:function(){var e=this._keys,t=this.getKeys();this._keys=t;for(var r,n,o,a,c=this.findRootNode(),l=i.default(e,t),u=[],d=l.removes.length-1;0<=d;d--)a=l.removes[d],u.push(this._keyToView[a]);for(u.forEach(s.default.willUnmount),d=0;d<l.removes.length;d++)a=l.removes[d],r=this._keyToView[a],delete this._keyToView[a],r._will_be_unmounted_=!0,c.removeChild(r.findRootNode());0<u.length&&this.detachAllRemovedViews(),u.forEach(s.default.onUnmount),u.forEach(s.default.didUnmount);var p=[];for(d=l.inserts.length-1;0<=d;d--)(a=l.inserts[d].key)in this._keyToView||(r=this.createViewForKey(a),p.push(r),s.default.createNodeForView(r,this));for(p.forEach(s.default.willMount),d=0;d<l.inserts.length;d++)o=l.inserts[d],n=this._keyToView[o.key].findRootNode(),o=void 0!==o.beforeKey?this._keyToView[o.beforeKey].findRootNode():null,c.insertBefore(n,o);p.forEach(s.default.onMount),p.forEach(s.default.didMount);var h=this._childViews,f=h.length-p.length;for(d=0;d<f;d++)h[d].update()}})}),define("submodules/dcgview/build-amd/switch",["./create-class","./const","./mounting"],function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}e=n(e);var o=n(t),i=n(r),a=e.default({viewName:"SwitchWrapper",_isDCGSwitchWrapper:!0,template:function(){return this.children[0]}});return e.default({viewName:"Switch",_isDCGSwitch:!0,updateKey:function(){this._key=this.props.key()},createView:function(){var e=this._viewFunction(this._key);return null==e&&(e=this.createElement("div",{style:this.const("display: none")})),(e=this.createElement(a,null,e))._parentElement=this,e},template:function(){if(this._key=void 0,"function"!=typeof this.props.key)throw new Error("<Switch key={}> must be a function");if(1!==this.children.length)throw new Error("<Switch> expects a single child. You passed "+this.children.length);if(this._viewFunction=this.children[0],this._viewFunction&&this._viewFunction._isDCGElement)throw new Error("<Switch> expects a function that constructs a DCGElement. You passed a DCGElement directly");if("function"!=typeof this._viewFunction){var e=JSON.stringify(this._viewFunction);throw new Error("<Switch> expects a function that constructs a DCGElement. You passed "+e)}if(o.default.isConst(this._viewFunction))throw new Error("<Switch> expects a function that constructs a DCGElement. You passed a constant");return this.updateKey(),this.createView()},overrideChildUpdates:function(){var e,t=this._key;this.updateKey(),t===this._key?this._element.update():(e=this.findRootNode(),t=document.createTextNode(""),e.parentNode.insertBefore(t,e),i.default.willUnmount(this._element),this._childViews=[],e.parentNode.removeChild(e),i.default.onUnmount(this._element),i.default.didUnmount(this._element),this._element=this.createView(),e=i.default.createNodeForView(this._element,this),i.default.willMount(this._element),t.parentNode.insertBefore(e,t),t.parentNode.removeChild(t),i.default.onMount(this._element),i.default.didMount(this._element))}})}),define("submodules/dcgview/build-amd/switch-union",["./create-class","./mounting","./create-element"],function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}e=n(e);var o=n(t),i=n(r),a=e.default({viewName:"SwitchUnionWrapper",_isDCGSwitchUnionWrapper:!0,template:function(){return this.children[0]}}),s=e.default({viewName:"SwitchUnion",_isDCGSwitchUnion:!0,updateCase:function(){this._case=this.props.getCase()},createView:function(){var e=this.props.buildChildView(this._case);return null==e&&(e=this.createElement("div",{style:this.const("display: none")})),(e=this.createElement(a,null,e))._parentElement=this,e},template:function(){return this._case=void 0,this.updateCase(),this.createView()},overrideChildUpdates:function(){var e,t=this._case;this.updateCase(),t===this._case?this._element.update():(e=this.findRootNode(),t=document.createTextNode(""),e.parentNode.insertBefore(t,e),o.default.willUnmount(this._element),this._childViews=[],e.parentNode.removeChild(e),o.default.onUnmount(this._element),o.default.didUnmount(this._element),this._element=this.createView(),e=o.default.createNodeForView(this._element,this),o.default.willMount(this._element),t.parentNode.insertBefore(e,t),t.parentNode.removeChild(t),o.default.onMount(this._element),o.default.didMount(this._element))}});function c(e,t,r){return i.default(s,{getCase:function(){var r=t();return e?r&&r[e]:r},buildChildView:function(e){if(e=r[e])return e(t)}})}return function(e,t){return"string"==typeof e?c.bind(this,e,t):c(void 0,e,t)}}),define("submodules/dcgview/build-amd/if",["./create-class","./const","./switch"],function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}e=n(e);var o=n(t),i=n(r);return e.default({viewName:"If",_isDCGIf:!0,template:function(){if("function"!=typeof this.props.predicate)throw new Error("<If predicate={}> must be a function");if(1!==this.children.length)throw new Error("<If> expects a single child. You passed "+this.children.length);if(this._viewFunction=this.children[0],this._viewFunction&&this._viewFunction._isDCGElement)throw new Error("<If> expects a function that constructs a DCGElement. You passed a DCGElement directly");if("function"!=typeof this._viewFunction){var e=JSON.stringify(this._viewFunction);throw new Error("<If> expects a function that constructs a DCGElement. You passed "+e)}if(o.default.isConst(this._viewFunction))throw new Error("<If> expects a function that constructs a DCGElement. You passed a constant");var t=function(){return!!this.props.predicate()}.bind(this);e=function(e){if(e)return this._viewFunction()}.bind(this);return this.createElement(i.default,{key:t},e)}})}),define("submodules/dcgview/build-amd/if-defined",["./create-class","./mounting","./create-element"],function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}e=n(e);var o=n(t),i=n(r),a=e.default({viewName:"IfDefinedWrapper",_isDCGIfDefinedWrapper:!0,template:function(){return this.children[0]}}),s=e.default({viewName:"IfDefined",_isDCGIfDefined:!0,updateIsDefined:function(){this._isDefined=this.props.isDefined()},createView:function(){this._isDefined&&(e=this.props.buildChildView()),null==e&&(e=this.createElement("div",{style:this.const("display: none")}));var e=this.createElement(a,null,e);return e._parentElement=this,e},template:function(){return this._isDefined=void 0,this.updateIsDefined(),this.createView()},overrideChildUpdates:function(){var e,t=this._isDefined;this.updateIsDefined(),t===this._isDefined?this._element.update():(e=this.findRootNode(),t=document.createTextNode(""),e.parentNode.insertBefore(t,e),o.default.willUnmount(this._element),this._childViews=[],e.parentNode.removeChild(e),o.default.onUnmount(this._element),o.default.didUnmount(this._element),this._element=this.createView(),e=o.default.createNodeForView(this._element,this),o.default.willMount(this._element),t.parentNode.insertBefore(e,t),t.parentNode.removeChild(t),o.default.onMount(this._element),o.default.didMount(this._element))}});return function(e,t){return i.default(s,{isDefined:function(){return null!=e()},buildChildView:function(){return t(e)}})}}),define("submodules/dcgview/build-amd/if-else",["./switch-union"],function(e){"use strict";var t,r=(t=e)&&"object"==typeof t&&"default"in t?t:{default:t};return function(e,t){return(t=r.default(function(){return e()?"true":"false"},t))._viewName="IfElse",t}}),define("submodules/dcgview/build-amd/textarea",["./create-class","./spread"],function(e,t){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}e=r(e);var n=r(t);return e.default({viewName:"Textarea",computeValue:function(){var e=this.props.value();return null==e?"":e+""},template:function(){if(!this.props.value)throw new Error('<Textarea> expects a "value={}" prop');if(!this.props.onInput)throw new Error('<Textarea> expects an "onInput={}" prop');var e=n.default({},this.props,{onInput:function(e){this.props.onInput(e.target.value),this._isMounted&&this.update()}.bind(this)});return this.props.disabled&&(e.disabled=function(){return!!this.props.disabled()||void 0}.bind(this)),delete e.value,this.createElement("textarea",e,this.const(this.computeValue()))},didUpdate:function(){this.rootDOM||(this.rootDOM=this.findRootNode());var e=this.computeValue();this.rootDOM.value!==e&&(this.rootDOM.value=e)}})}),define("submodules/dcgview/build-amd/input",["./create-class","./spread"],function(e,t){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}e=r(e);var n=r(t);return e.default({viewName:"Input",computeValue:function(){var e=this.props.value();return null==e?"":e+""},template:function(){if(!this.props.value)throw new Error('<Input> expects a "value={}" prop');if(!this.props.onInput)throw new Error('<Input> expects an "onInput={}" prop');var e=n.default({},this.props,{value:this.const(this.computeValue()),onInput:function(e){this.props.onInput(e.target.value),this._isMounted&&this.update()}.bind(this)});return this.props.onEnterPressed&&(e.onKeypress=function(e){13===e.which&&this.props.onEnterPressed()}.bind(this)),this.props.disabled&&(e.disabled=function(){return!!this.props.disabled()||void 0}.bind(this)),e.hasOwnProperty("tabindex")||(e.tabindex=function(){return this.props.disabled&&this.props.disabled()?"-1":"0"}.bind(this)),this.createElement("input",e)},didUpdate:function(){this.rootDOM||(this.rootDOM=this.findRootNode());var e=this.computeValue();this.rootDOM.value!==e&&(this.rootDOM.value=e)}})}),define("submodules/dcgview/build-amd/checkbox",["./create-class","./spread"],function(e,t){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}e=r(e);var n=r(t);return e.default({viewName:"Checkbox",computeChecked:function(){return!!this.props.checked()},template:function(){if(!this.props.checked)throw new Error('<Checkbox> expects a "checked={}" prop');if(!this.props.onChange)throw new Error('<Checkbox> expects an "onChange={}" prop');var e=n.default({},this.props,{type:this.const("checkbox"),checked:this.const(this.computeChecked()?"checked":void 0),onChange:function(e){this.props.onChange(e.target.checked),this._isMounted&&this.update()}.bind(this)});return this.createElement("input",e)},didUpdate:function(){this.rootDOM||(this.rootDOM=this.findRootNode());var e=this.computeChecked();this.rootDOM.checked!==e&&(this.rootDOM.checked=e)}})}),define("submodules/dcgview/build-amd/components",["./each","./for","./switch","./switch-union","./if","./if-defined","./if-else","./textarea","./input","./checkbox"],function(e,t,r,n,o,i,a,s,c,l){"use strict";function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}return e=u(e),t=u(t),r=u(r),n=u(n),o=u(o),i=u(i),a=u(a),s=u(s),c=u(c),l=u(l),{Each:e.default,For:t.default,Switch:r.default,SwitchUnion:n.default,If:o.default,IfDefined:i.default,IfElse:a.default,Textarea:s.default,Input:c.default,Checkbox:l.default}}),define("submodules/dcgview/build-amd/class",["./create-class"],function(e){"use strict";return((t=e)&&"object"==typeof t&&"default"in t?t:{default:t}).default({template:function(){}});var t}),define("submodules/dcgview/build-amd/dcg-view",["./create-element","./create-class","./mounting","./spread","./const","./custom-attributes","./attr-style","./attr-class","./attr-lifecycle","./components","./warnings","./bind-text","./class"],function(e,t,r,n,o,i,a,s,c,l,u,d,p){"use strict";function h(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}return e=h(e),t=h(t),r=h(r),n=h(n),o=h(o),i=h(i),a=h(a),s=h(s),c=h(c),l=h(l),u=h(u),d=h(d),p=h(p),d=d.default.enableSpanWrapping,(p={createElement:e.default,createClass:t.default,mountToNode:r.default.mountToNode,unmountFromNode:r.default.unmountFromNode,spread:n.default,const:o.default.makeConst,isConst:o.default.isConst,addCustomAttribute:i.default.add,Components:l.default,addWarningHandler:u.default.addWarningHandler,removeWarningHandler:u.default.removeWarningHandler,_warn:u.default.warn,enableSpanWrapping:d,Class:p.default}).addCustomAttribute("style",a.default),p.addCustomAttribute("class",s.default),p.addCustomAttribute("willMount",c.default("willMount")),p.addCustomAttribute("onMount",c.default("onMount")),p.addCustomAttribute("didMount",c.default("didMount")),p.addCustomAttribute("willUnmount",c.default("willUnmount")),p.addCustomAttribute("onUnmount",c.default("onUnmount")),p.addCustomAttribute("didUnmount",c.default("didUnmount")),p.addCustomAttribute("willUpdate",c.default("willUpdate")),p.addCustomAttribute("onUpdate",c.default("onUpdate")),p.addCustomAttribute("didUpdate",c.default("didUpdate")),p}),define("submodules/dcgview/dcgview",["require","./build-amd/dcg-view"],function(e){return e("./build-amd/dcg-view")}),define("lib/urlparser",["require","exports"],function(e,t){"use strict";function r(e,t){return new RegExp("[?|&]"+t+"(=|&|;|$)").test(e)}function n(e,t,r){if(t!==encodeURIComponent(t))throw new Error("Programming error: parameter name should be URL-safe without encoding.");var n=encodeURIComponent(r);return e.length?(r=e.split("#"),e=/\?/.test(e)?r[0]+"&"+t+"="+n:r[0]+"?"+t+"="+n,void 0!==r[1]?e+"#"+r[1]:e):"?"+t+"="+n}function o(e,t,r){if(!(o=new RegExp("([?|&])"+t+"=([^&;]+?)(&|#|;|$)").exec(e)))return e;var n=o[1],o=""+n+t+"="+o[2];r=""+n+t+"="+encodeURIComponent(r);return e.replace(o,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.setParameter=t.deleteParameter=t.replaceParameter=t.pushParameter=t.hasParameter=t.getParameter=void 0,t.getParameter=function(e,t){return(e=new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(e))?decodeURIComponent(e[1].replace(/\+/g,"%20")):null},t.hasParameter=r,t.pushParameter=n,t.replaceParameter=o,t.deleteParameter=function(e,t){var r=new RegExp("([?|&])"+t+"=([^&;]+?)(&|#|;|$)").exec(e);return r?(r=""+r[1]+t+"="+r[2],"&"===(r=e.replace(r,""))[0]?r.replace("&","?"):r):e},t.setParameter=function(e,t,i){return(r(e,t)?o:n)(e,t,i)}}),define("lib/retain-lang",["require","exports","./parse-query-params","./urlparser"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retainLang=t.domainNotDesmos=void 0;var o=/lang=[A-Za-z]+/,i=/(cl|learn|help).desmos.com/,a=/^(?:https?:)?(?:\/\/)?([^\s\/\?]+)/i,s=/(^desmos\.com$)|(\.desmos.com$)/;function c(e){return!!(e=a.exec(e))&&(e=e[1],!s.test(e))}t.domainNotDesmos=c,t.retainLang=function(e,t){var a=r.getQueryParams(),s=void 0!==t?t:a.lang?""+a.lang:"";return""===e||""===s||o.test(e)||i.test(e)||c(e)?e:n.setParameter(e,"lang",s)}}),define("loadcss!dcgview-shim",function(){}),define("dcgview",["require","exports","submodules/dcgview/dcgview","jquery","bugsnag","lib/retain-lang","loadcss!dcgview-shim"],function(e,t,r,n,o,i){"use strict";return r.addWarningHandler(function(e){return o.notify(e)}),r.addCustomAttribute("href",function(e){var t=i.retainLang(e()),r={value:""+i.retainLang(e()),bindings:{onMount:function(e){if(!n(e).is("a")&&!n(e).is("use"))throw new Error("Cannot have an href on a non-link element.")}}};return r.bindings.onUpdate=function(r){var n=i.retainLang(e());t!==n&&(t=n,r.setAttribute("href",n))},r}),r.addCustomAttribute("onTap",function(e){return{value:"",bindings:{onMount:function(t){n(t).on("dcg-tap",e)}}}}),r.addCustomAttribute("ignoreRealClick",function(e){return{bindings:{onMount:function(t){n(t).on("click",function(t){e()&&t.preventDefault()})}}}}),r.addCustomAttribute("onTapStart",function(e){return{bindings:{onMount:function(t){n(t).on("dcg-tapstart",e)}}}}),r.addCustomAttribute("onTapMove",function(e){return{bindings:{onMount:function(t){n(t).on("dcg-tapmove",e)}}}}),r.addCustomAttribute("onTapEnd",function(e){return{bindings:{onMount:function(t){n(t).on("dcg-tapend",e)}}}}),r.addCustomAttribute("onLongHold",function(e){return{bindings:{onMount:function(t){n(t).on("dcg-longhold",e)}}}}),r.addCustomAttribute("manageFocus",function(e){return void 0===e()?{}:{bindings:{onMount:function(t){e().shouldBeFocused()&&t.focus(),t.onfocus=function(t){e().shouldBeFocused()||e().onFocusedChanged(!0,t)},t.onblur=function(t){e().shouldBeFocused()&&e().onFocusedChanged(!1,t)}},onUpdate:function(t){var r=e().shouldBeFocused(),n=document.activeElement===t;r&&!n?t.focus():n&&!r&&t.blur()},willUnmount:function(e){e.onfocus=null,e.onblur=null}}}}),r}),define("graphing/screen",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Screen=void 0,t.Screen=function(e,t){this.width=e,this.height=t}}),define("core/math/poi-type",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LABEL=t.TRACE=t.DEFINITION=t.EXTREMUM=t.INTERCEPT=t.ZERO=t.INTERSECTION=void 0,t.INTERSECTION=1001,t.ZERO=1002,t.INTERCEPT=1003,t.EXTREMUM=1004,t.DEFINITION=1006,t.TRACE=1007,t.LABEL=1008}),define("graphing/poi",["require","exports","core/math/poi-type","core/types/graphmode","core/types/point-opacity","core/types/point-size"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.POI=void 0;var a=1,s=(c.prototype.getLabel=function(){var e=this.sketch&&this.sketch.branches[this.branch];return e&&"labels"in e&&e.labels&&e.labels[this.pointIdxOnBranch]||""},c.prototype.getGraphMode=function(){return this.sketch.branches[this.branch].graphMode},c.prototype.getCompiledFunction=function(){var e=this.sketch.branches[this.branch];if("compiled"in e&&e.compiled)return e.compiled.fn},c.prototype.isAttachedToPlottedPoint=function(){return this.type===r.DEFINITION||this.type===r.LABEL},c.prototype.isMovable=function(){return this.getGraphMode()===n.XYPOINT_MOVABLE},c.prototype.isPersistent=function(){return this.type===r.LABEL},c.prototype.getLabelSize=function(){var e=this.sketch&&this.sketch.branches[this.branch];return this.type===r.LABEL&&e&&"labelSize"in e&&void 0!==e.labelSize?e.labelSize:1},c.prototype.getLabelRotation=function(){var e=this.sketch&&this.sketch.branches[this.branch];return this.type===r.LABEL&&e&&"labelAngle"in e&&void 0!==e.labelAngle?e.labelAngle:0},c.prototype.getPointOpacity=function(){var e=this.sketch&&this.sketch.branches[this.branch];if(e&&"pointOpacity"in e){var t=e.pointOpacity;if(void 0!==t)return e=Array.isArray(t)?t[this.pointIdxOnBranch]:t,isFinite(e)?Math.max(0,Math.min(1,e)):o.DEFAULT}return this.isMovable()?1:o.DEFAULT},c.prototype.getPointSize=function(){var e=this.sketch&&this.sketch.branches[this.branch];if(this.isMovable())return i.MOVABLE;if(e&&"pointSize"in e){var t=e.pointSize;if(void 0!==t)return e=Array.isArray(t)?t[this.pointIdxOnBranch]:t,isFinite(e)?Math.max(0,e):i.DEFAULT}return i.DEFAULT},c.prototype.getTextOutline=function(){if(this.hasEditableLabel())return!1;var e=this.sketch&&this.sketch.branches[this.branch];return!(this.type===r.LABEL&&e&&"suppressTextOutline"in e&&e.suppressTextOutline)},c.prototype.hasInteractiveLabel=function(){var e=this.sketch&&this.sketch.branches[this.branch];return!!(e&&"interactiveLabel"in e)&&!!e.interactiveLabel},c.prototype.hasEditableLabel=function(){var e=this.sketch&&this.sketch.branches[this.branch];return!!(e&&"editableLabel"in e)&&!!e.editableLabel},c.prototype.isBareLabel=function(){return this.bareLabel},c.prototype.getMovablePoint=function(){return this.sketch.getMovablePointByIndex(this.pointIdxOnBranch)},c.prototype.isSelected=function(){return this.sketch.showHighlight},c);function c(e,t,r,n,o,i,s){this.x=e,this.y=t,this.type=r,this.sketch=n,this.branch=o,this.pointIdxOnBranch=i,this.bareLabel=void 0!==s&&s,this.id=a++}t.POI=s}),define("graphing/graphsketch",["require","exports","core/math/poi-type","core/types/graphmode","./poi","core/math/poi-type","lib/mathspeak"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphSketch=void 0;var s=(c.prototype.getPOI=function(){if(this.__cachedPOI)return this.__cachedPOI;this.__cachedPOI=[],this.__cachedPOIIds={};for(var e=0;e<this.branches.length;e++){var t,o,i=this.branches[e];i.graphMode===n.X||i.graphMode===n.Y?((t=i.poi).zeros&&this._pushPOI(t.zeros,e,r.ZERO),t.intercept&&this._pushPOI(t.intercept,e,r.INTERCEPT),t.extrema&&this._pushPOI(t.extrema,e,r.EXTREMUM),t.intersections&&this._pushPOI(t.intersections,e,r.INTERSECTION)):i.graphMode!==n.XYPOINT&&i.graphMode!==n.XYPOINT_MOVABLE||(t=i.poi,o=i.graphMode===n.XYPOINT&&!0===i.interactiveLabel,!0===i.showLabel||o?(i=i.nakedLabel,t.defined&&this._pushPOI(t.defined,e,r.LABEL,i)):t.defined&&this._pushPOI(t.defined,e,r.DEFINITION))}return this.__cachedPOI},c.prototype.getBranchPOI=function(e){return this.getPOI().filter(function(t){return t.branch===e})},c.prototype.getMovablePoints=function(){if(this.__cachedMovablePoints)return this.__cachedMovablePoints;this.__cachedMovablePoints=[];var e=this.branches[0];if(e&&1===e.segments.length&&e.graphMode===n.XYPOINT_MOVABLE)for(var t=e.segments[0],r=0;r<t.length;r++){var o=void 0;e.tableId&&(o={tableId:e.tableId,columnId:this.id,rowIndex:e.movablePointInfo[r].index,dragX:e.movablePointInfo[r].dragX,dragY:e.movablePointInfo[r].dragY});var i=e.scaleFactors?e.scaleFactors[0][r]:void 0,s=o?o.rowIndex:r,c=1===e.segments.length&&e.labels&&e.labels[r]?e.labels[r]:void 0,l=e.hasOwnProperty("pointOpacity")?e.pointOpacity:1;this.__cachedMovablePoints.push({type:"movable-point",id:"movable:["+this.id+","+s+"]",sketch:this,color:this.color,pointOpacity:l,tableInfo:o,scaleFactor:i,x:t[r][0],y:t[r][1],label:c,ariaLabel:c&&a.getMathspeakFromText(c)})}return this.__cachedMovablePoints},c.prototype.getMovablePointByIndex=function(e){return this.getMovablePoints()[e]},c.prototype.getStaticLabeledPoints=function(){var e=this;if(this.__cachedStaticLabeledPoints)return this.__cachedStaticLabeledPoints;var t=this.branches[0];return this.__cachedStaticLabeledPoints=[],this.getPOI().forEach(function(r){var o,s;r.type!==i.DEFINITION&&r.type!==i.LABEL||t.graphMode!==n.XYPOINT||(o=t.showLabel,s=r.getLabel(),!o&&""===s||e.__cachedStaticLabeledPoints.push({type:"static-labeled-point",id:"static["+e.id+","+r.id+"]",x:r.x,y:r.y,sketch:r.sketch,label:s,ariaLabel:""!==s?a.getMathspeakFromText(s):void 0}))}),this.__cachedStaticLabeledPoints},c.prototype._pushPOI=function(e,t,r,n){void 0===n&&(n=!1);for(var i=0,a=e.x.length;i<a;i++){var s=new o.POI(e.x[i],e.y[i],r,this,t,i,n);e.intersects&&(s.intersects=e.intersects[i]),this.__cachedPOI.push(s),this.__cachedPOIIds[s.id]=s}},c.prototype.updateIntersections=function(e){for(var t=this,o=0,i=this.branches.length;o<i;o++)(a=this.branches[o]).graphMode!==n.ERROR&&(a.poi.intersections=e[o]);var a,s,c=this.__cachedPOI;for(this.__cachedPOI=[],c.forEach(function(e){e.type!==r.INTERSECTION?t.__cachedPOI.push(e):delete t.__cachedPOIIds[e.id]}),o=0;o<this.branches.length;o++)(a=this.branches[o]).graphMode!==n.X&&a.graphMode!==n.Y||(s=a.poi).intersections&&this._pushPOI(s.intersections,o,r.INTERSECTION)},c.prototype.getPOIById=function(e){return this.__cachedPOIIds[e]},c.prototype.updateFrom=function(e){if(e){this.showPOI=e.showPOI,this.showHighlight=e.showHighlight,this.selected=e.selected;var t=this.branches[0].graphMode;if(t===n.XYPOINT||t===n.XYPOINT_MOVABLE){for(var r=!0,o=0;o<this.__cachedPOI.length;o++){var i=e.__cachedPOI[o],a=this.__cachedPOI[o];if(!i||i.type!==a.type){r=!1;break}}if(r)for(o=0;o<this.__cachedPOI.length;o++)i=e.__cachedPOI[o],a=this.__cachedPOI[o],delete this.__cachedPOIIds[a.id],(this.__cachedPOIIds[i.id]=a).id=i.id}}},c);function c(e,t){var n=this;this.color="#000000",this.style="normal",this.showPOI=!1,this.showHighlight=!1,this.selected=!1,this.labels=[],this.id=e,this.branches=void 0!==t?t:[],this.getPOI().forEach(function(e){e.type===r.LABEL&&n.labels.push(e)})}t.GraphSketch=s}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("base64",[],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).base64js=e()}(function(){return function e(t,r,n){function o(a,s){if(!r[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);throw(c=new Error("Cannot find module '"+a+"'")).code="MODULE_NOT_FOUND",c}c=r[a]={exports:{}},t[a][0].call(c.exports,function(e){return o(t[a][1][e]||e)},c,c.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({"/":[function(e,t,r){"use strict";r.byteLength=function(e){return 3*e.length/4-l(e)},r.toByteArray=function(e){for(var t,r=e.length,n=l(e),a=new i(3*r/4-n),s=0<n?r-4:r,c=0,u=0;u<s;u+=4,0)t=o[e.charCodeAt(u)]<<18|o[e.charCodeAt(u+1)]<<12|o[e.charCodeAt(u+2)]<<6|o[e.charCodeAt(u+3)],a[c++]=t>>16&255,a[c++]=t>>8&255,a[c++]=255&t;return 2===n?(t=o[e.charCodeAt(u)]<<2|o[e.charCodeAt(u+1)]>>4,a[c++]=255&t):1===n&&(t=o[e.charCodeAt(u)]<<10|o[e.charCodeAt(u+1)]<<4|o[e.charCodeAt(u+2)]>>2,a[c++]=t>>8&255,a[c++]=255&t),a},r.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i="",a=[],s=0,c=r-o;s<c;s+=16383)a.push(function(e,t,r){for(var o,i=[],a=s;a<r;a+=3)o=(e[a]<<16)+(e[a+1]<<8)+e[a+2],i.push(n[o>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return i.join("")}(e,0,c<s+16383?c:s+16383));return 1==o?(t=e[r-1],i+=n[t>>2],i+=n[t<<4&63],i+="=="):2==o&&(t=(e[r-2]<<8)+e[r-1],i+=n[t>>10],i+=n[t>>4&63],i+=n[t<<2&63],i+="="),a.push(i),a.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)n[s]=a[s],o[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}]},{},[])("/")}),define("bin",["base64"],function(e){"use strict";var t={};return{load:function(e,r,n,o){var i;r=r.toUrl(e);o.isBuild?(o=require.nodeRequire("fs"),t[e]=o.readFileSync(r).toString("base64"),n()):((i=new XMLHttpRequest).open("GET",r,!0),i.responseType="arraybuffer",i.onload=function(){n(i.response)},i.send())},write:function(e,r,n,o){r in t?n("define('"+e+"!"+r+"', ['base64'], function (base64) {  return base64.toByteArray('"+t[r]+"').buffer;});"):console.log("ERROR - failed to find file "+r+" in buildMap")}}}),define("bin!graphing/poi.mp3",["base64"],function(e){return e.toByteArray("//tQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAIAAAHVwAgICAgICAgICAgICBAQEBAQEBAQEBAQEBgYGBgYGBgYGBgYGBggICAgICAgICAgICAoKCgoKCgoKCgoKCgoMDAwMDAwMDAwMDAwODg4ODg4ODg4ODg4OD///////////////8AAAA5TEFNRTMuOThyAaUAAAAALmcAABRAJAiwQgAAQAAAB1cctrbdAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/7UMQAAAjsKyK0YYABp52xtx8wAgAgBd34IAhAgnsECEe7QIAAgsPxACDgcBAEHQfD/g+D4PggCAIf///ghLny4Pg+D5+sHz/wf+XPwfB8H3iMHwfwffUCYPvz/Y7Hg/H4/H4/H4HAwADcoDwAP7XfuAFtXrhzjsjOXP8iCYM4IBVoH2DGAhQR2hm5vikA2IVEPX9nQaITi6IiLCKX/fxcg/DdGmS5BP7fIGQ0hw7DQi5Q//8midImXygdJ0tlz/1NAgXIANV6MA2Vy2y27jv/+1LEBIALOHOTvGGAMXWhbnTxGZ+LOa2FNMsDtj9/jUmPqqqARrNvlVjDDoGZqq0T11A0DVqeEnlQk8q4sVEp0FcqdxLoEJ0RPYWvIlQkbGA0Anw6VJJgqRKw1NJaAXkR4ag0/FwCCABbbdbJA0fzVgdvgvu5Px6Rwiv3VllZVDREqmWntLyBDka3sz951iTve+ddHP0/M3P/+ydU4zbqOZOeop5jfu1kwk8VezPeGc1hRMbWrJNv6SO/fH0Mc15KYvKqAAAAdrdsrbBDuBpp4v/7UsQGgguVE2ekjNP5aSBo6YSNgKAQUoCZEBJK8q73G/nhJFFmLY5dNc4b7gjBRyEs5yjJokY9TBoU/pXQBglyNjeiA87V8vkzaw019YTu2fxY0t6gteLMI37f9fYw7UVnWoE4NJOSpQBu3GfVAIVACgw+IikZZAnB7UKlLGnha4PDbIhsBhk4RYmlE2hYZ8NrQ5HnyEUvZxDyVG1hM33ZZH0OlrJV5///3/51qTGtJgxhREVLEfoO1w6686eRAAAAUicksbA1qegZCe2AuEgJ//tSxAkCDF0XSaw8ailyn+l1h4w1BvVY04S56fYY5nGkBZHMGLBjHDUMlORG4wcCT9R6RB+3vM8jVMU1hmlOoXIOMKqotE2HxWYNJq/7EZ2l63NJ+Z2aTA4Yq+7t0PhOxCz9WP1mA3DJZZGDkRfq+qFAGwhwHUAVqBfDiMUlypaMWApR1VoWLChfUpJzkBDMCTf85UZr6jyHa1psZnTS5iKatTVKcX/Ker9zMvM1T0okGyiQcreJbU1tc+Yj/ms3395FBIADkjlkjbAZNdiwgRD/+1LEBwAL8Tdbp6Rh+XmT6XWHjCx5U4sTCtlUidNtS9I7oUx7oxdIZlOghkIQYzB0vxtMs6QgCg4WMVakQMM5HRfrsdIEftM0yfOHnNGkiPRMoWCKSsxsChat8/vYw4c4t+CMMB5AAAAXZrftWiEVdbSgnURZoWvK2KhK9GfCkIGnQKxIqbYJ0JCNFJ3St1wuUNRLW4Kw5VhLVGrmgYKhhRe1qzzC7SqFFyjJlIqXcPD6gw//epZ9bwQFw+s+rdVAFtzl0AAAA3I3JK0QJxtCHv/7UsQGAApAM0WssGFpSCKqNYMMvgZph6CwIhKEt0yEiMwFKpnDBBajVc5jbTM7KayRt3I43h8Ag05kd9AtqO0bItmf/+Aevzf7dx28sK0hvP//3/izNwf1pfEAgANutuOJACSqWvuW+SKNLQSpOQKsrX3XxnZxy2Rus0Q1irPy9Mkg4kZGJFRQUax4R+jsACwavqYd2bmRX/6VnKrLk2Z2VGYwQNCIEasJh7/oBScAAMtBNgBWssKw0uCAgKkVpJirpZyBklUCwqaSIkW6BgIY//tSxBIDSYw3Km0kSoEzi9KAliSw9QNAydBqoFQVEQNBwiJYiBWdDqxiwVBUGqg6JgaBoGj3//////huVcFQsIRoPjBXLBGA8AkCwOhcD4KAmFAtEYcR6E8gD2OAXJ2N//uSJVZVJNRdh0gkLCwuKioqz4sLC3//////4sLC31ioqKpAoqKirOgFqkxBTUUzLjk4LjKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+1LEIwPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==").buffer}),define("graphing/tonegenerator",["require","exports","bin!./poi.mp3","bugsnag","core/types/graphmode","graphing/clipping"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getReportedBranch=t.getFirstPlayableBranchIndex=t.canPlayBranch=t.canPlaySketch=void 0;var a=.0015,s=(u.prototype.suspend=function(){var e=this;return new Promise(function(t,r){e.audioContext?e.audioContext.suspend().then(function(){t()}).catch(function(e){n.notify(e),r(e)}):t()})},u.prototype.getResumedAudioContext=function(){var e=this;return new Promise(function(t,r){if(!e.audioContext){var o=window.AudioContext||window.webkitAudioContext;if(!o)return void r();try{e.audioContext=new o({latencyHint:"interactive",sampleRate:44100})}catch(t){n.notify(t),r(t)}}e.audioContext&&("running"===e.audioContext.state?e.loadPOI().then(function(){t({audioContext:e.audioContext,poiBuffer:e.poiBuffer})}):e.audioContext.resume().then(function(){return e.loadPOI()}).then(function(){t({audioContext:e.audioContext,poiBuffer:e.poiBuffer})}).catch(function(e){n.notify(e),r(e)}))})},u.prototype.loadPOI=function(){var e=this;return new Promise(function(t,o){e.audioContext?e.poiBuffer?t():e.audioContext.decodeAudioData(r.slice(0)).then(function(r){e.poiBuffer=r,t()}).catch(function(e){n.notify(e),o()}):o()})},u),c=(l.prototype.releaseAudio=function(){this.playbackSupported&&(this.stop(),this.audioContextManager.suspend())},l.prototype.prepareAudio=function(){var e=this;this.audioContextManager.getResumedAudioContext().then(function(){e.playbackSupported=!0}).catch(function(){e.playbackSupported=!1})},l.prototype.stop=function(){this.playTimeout&&(cancelAnimationFrame(this.playTimeout),this.playTimeout=void 0),this.bufferSource&&(this.bufferSource.stop(),this.bufferSource.disconnect(),this.bufferSource=void 0),this.animationFinished()},l.prototype.isAnimating=function(){return void 0!==this.playTimeout},l.prototype.getAudioSpeed=function(){return this.audioSpeed},l.prototype.setAudioSpeed=function(e){this.audioSpeed=e},l.prototype.getAudioVolume=function(){return this.audioVolume},l.prototype.setAudioVolume=function(e){this.audioVolume=e,void 0!==this.gainMaster&&(this.gainMaster.gain.value=this.audioVolume)},l.prototype.getPlaybackSupported=function(){return this.playbackSupported},l.prototype.playBranchByIndex=function(e,t,r){var n=this;!this.audioEnabled()||t<0||t>=e.branches.length||this.isAnimating()||y(e.branches[t])&&this.playBranch(e.branches[t],t,r).then(function(){n.stop()})},l.prototype.playSketch=function(e,t){var r,n,o,i=this;!this.audioEnabled()||0!==(r=e.branches).length&&(n=-1,(o=function(){for(n+=1;n<r.length&&!y(r[n]);)n+=1;n<r.length?i.playBranch(r[n],n,t).then(function(){o()}):i.stop()})())},l.prototype.playPoint=function(e,t){var r=this;this.audioEnabled()&&function(){switch(e.graphMode){case o.X:case o.Y:case o.XYPOINT:case o.XYPOINT_MOVABLE:return 1;default:return}}()&&this.audioContextManager.getResumedAudioContext().then(function(n){var i,a=n.audioContext,s=n.poiBuffer;n=.075*(i=a.sampleRate);!function(e,t,r,n){for(var i=e.sampleRate,a=e.getChannelData(0),s=e.getChannelData(1),c=t.graphMode,l=v(r,c),u=a.length-1,h={amplitude:0,phase:0,noiseVal:0,lowerOctaveGain:0,upperOctaveGain:0},f=(r=function(e){switch(e.graphMode){case o.Y:case o.XYPOINT:case o.XYPOINT_MOVABLE:return{independent:e.x,dependent:e.y};case o.X:return{independent:e.y,dependent:e.x};default:throw x(e.graphMode)}}(t)).independent,g=r.dependent,y=d(c,f,l),b=0;b<a.length;b++)h=p(h,{independent:f,dependent:g},l,i,(u-b)/i),a[b]+=h.amplitude*y.left,s[b]+=h.amplitude*y.right;n&&void 0!==t.intersects&&m(n,e,0,y)}(i=a.createBuffer(2,n,i),e,t,s),r.connectBuffer(i,a)})},l.prototype.connectBuffer=function(e,t){this.audioEnabled()&&t&&(this.gainMaster=t.createGain(),this.gainMaster.connect(t.destination),this.gainMaster.gain.value=this.audioVolume,t=t.createBufferSource(),(this.bufferSource=t).buffer=e,t.connect(this.gainMaster),t.start())},l.prototype.playBranch=function(e,t,r){var n=this;return new Promise(function(a,s){n.audioEnabled()?n.audioContextManager.getResumedAudioContext().then(function(c){var l,u,h,f,g,y=c.audioContext,E=c.poiBuffer,S=n.audioSpeed/10,k=(r.xmax-r.xmin)*(.075/S),_=function(e,t,r){switch(e.graphMode){case o.Y:for(var n=[],a=0,s=e.segments;a<s.length;a++){var c=s[a];2<(f=i.clipStrokeEdges(c,t)).length&&n.push(f)}return{graphMode:e.graphMode,segments:n,poi:e.poi};case o.X:n=[];for(var l={xmin:t.ymin,xmax:t.ymax,ymin:t.xmin,ymax:t.ymax},u=0,d=e.segments;u<d.length;u++)c=d[u],2<(f=i.clipStrokeEdges(c,l)).length&&n.push(f);return{graphMode:e.graphMode,segments:n,poi:e.poi};case o.XYPOINT:case o.XYPOINT_MOVABLE:var p=e.segments[0].slice();p.sort(w),n=[];for(var h=0;h<p.length;h++){var f,g=p[h],m=0<h?p[h-1][0]:-1/0,y=h<p.length-1?p[p.length-1][0]:1/0;m=Math.max(g[0]-.5*r,.5*(g[0]+m)),y=Math.min(g[0]+.5*r,.5*(g[0]+y)),c=[m,g[1],y,g[1]];2<(f=i.clipStrokeEdges(c,t)).length&&n.push(f)}return{graphMode:o.Y,segments:n};default:throw new Error("Unimplemented graph mode: "+e.graphMode)}}(e,r,k);_.segments.length?(c=v(r,_.graphMode),k=b(_),l=k.independentMin,u=k.independentMax,k=y.sampleRate,h=S*(u-l)/(c.independentMax-c.independentMin),c=Math.floor(k*h),function(e,t,r,n){for(var i=e.sampleRate,a=e.getChannelData(0),s=e.getChannelData(1),c=t.graphMode,l=v(r,c),u=(r=b(t)).independentMin,h=r.independentMax,f=h-u,g=0,y=0,w=a.length-1,E=w/i,S={amplitude:0,phase:0,noiseVal:0,lowerOctaveGain:0,upperOctaveGain:0},k=0;k<a.length;k++){for(var _=d(c,D=(w-k)/w*u+k/w*h,l);g<t.segments.length&&t.segments[g][y]<D;)(y+=2)>=t.segments[g].length&&(g+=1,y=0);var I,M,L,T=t.segments[g],C=NaN,A=NaN;T&&2<T.length&&0<=y-2&&y+1<T.length&&(A=(T[T.length-2]-D)*(E/f),I=T[y-2],M=T[y-1],C=((L=T[y])-D)/(L-=I)*M+(D-I)/L*T[y+1]),S=p(S,{independent:D,dependent:C},l,i,A),a[k]+=S.amplitude*_.left,s[k]+=S.amplitude*_.right}if(n&&t.poi&&t.poi.intersections)for(var O=0,P=function(e){if(c===o.X)return e.y;if(c===o.Y)return e.x;throw x(c)}(t.poi.intersections);O<P.length;O++){var D=P[O];m(n,e,k=Math.round((D-u)/(h-u)*w),d(c,D,l))}}(k=y.createBuffer(2,c,k),_,r,E),n.connectBuffer(k,y),f=y.currentTime,(g=function(){var e,r;void 0!==n.playTimeout&&cancelAnimationFrame(n.playTimeout),"running"===y.state?(e=y.currentTime-f,r=(h-e)/h*l+e/h*u,n.audioPointMove(t,r),e<h?n.playTimeout=requestAnimationFrame(g):a()):s()})(),n.controller.dispatch({type:"render"})):s()}).catch(function(){s()}):s()})},l);function l(e){var t=e.controller,r=e.audioPointMove,n=e.animationFinished;e=e.audioEnabled;this.controller=t,this.audioSpeed=50,this.audioVolume=.5,this.audioPointMove=r,this.animationFinished=n,this.audioEnabled=e,this.audioContextManager=new s}function u(){}function d(e,t,r){return e===o.X?{left:1,right:1}:(e=r.independentMin,r=r.independentMax,e=Math.abs((t-e)/(r-e)),isFinite(e)||(e=.5),e=Math.max(Math.min(e,1),0),{left:Math.cos(Math.PI/2*e),right:Math.sin(Math.PI/2*e)})}function p(e,t,r,n,o){var i=t.independent,s=t.dependent,c=e.phase,l=e.noiseVal,u=e.lowerOctaveGain,d=e.upperOctaveGain,p=r.dependentMin,f=r.dependentMax;t=0,e=0,r=0;return!isNaN(s)&&p<=s&&s<=f?(c+=(p=(s-p)/(f-p),Math.min(Math.max(330*Math.pow(2,p),125),2e3)/n),r=o<.006?e=0:(e=.5,0<=i?.15:0),s<0&&(t+=.1*(l=g(l)))):t+=.04*(l=g(l)),d+=(r-d)/(n*a),{amplitude:t+=(u+=(e-u)/(n*a))*h(c)+d*h(2*c),phase:c,noiseVal:l,lowerOctaveGain:u,upperOctaveGain:d}}function h(e){return.8782*(f(e)+.25*f(2*e)+.25*f(3*e))}function f(e){return Math.sin(2*Math.PI*e)}function g(e){return(e+.2*(2*Math.random()-1))/1.02}function m(e,t,r,n){for(var o=e.getChannelData(0),i=t.getChannelData(0),a=t.getChannelData(1),s=0;s<o.length&&s+r<i.length;s++)i[s+r]+=o[s]*n.left,a[s+r]+=o[s]*n.right}function y(e){switch(e.graphMode){case o.X:case o.Y:case o.XYPOINT:case o.XYPOINT_MOVABLE:return 0<e.segments.length;default:return!1}}function v(e,t){switch(t){case o.Y:case o.XYPOINT:case o.XYPOINT_MOVABLE:return{independentMin:e.xmin,independentMax:e.xmax,dependentMin:e.ymin,dependentMax:e.ymax};case o.X:return{independentMin:e.ymin,independentMax:e.ymax,dependentMin:e.xmin,dependentMax:e.xmax};default:throw x(t)}}function b(e){var t=e.segments[0];e=e.segments[e.segments.length-1];return{independentMin:t[0],independentMax:e[e.length-2]}}function x(e){return"Unexpected graph mode. Received "+e}function w(e,t){return e[0]-t[0]}t.default=c,t.canPlaySketch=function(e){for(var t=0,r=e.branches;t<r.length;t++)if(y(r[t]))return!0;return!1},t.canPlayBranch=y,t.getFirstPlayableBranchIndex=function(e){for(var t=0;t<e.branches.length;t++)if(y(e.branches[t]))return t;return 0},t.getReportedBranch=function(e,t){for(var r=0,n=0;n<=t;n++)y(e.branches[n])&&(r+=1);return r}}),define("graphing/audiographnavigator",["require","exports","main/propagate_selection","tslib","underscore","core/types/graphmode","core/lib/label","core/math/poi-type","graphing/tonegenerator","underscore","lib/aria"],function(e,t,r,n,o,i,a,s,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=(p.prototype.reset=function(){this.currentPoint=void 0,this.resetToFirstBranch(),this.sampledPoints=[],this.pois=[],this.independent=0,this.xstep=0,this.ystep=0},p.prototype.resetToFirstBranch=function(){var e=this.getCurrentSketch();this.branch=e?c.getFirstPlayableBranchIndex(e):0},p.prototype.getBranchPoints=function(e){var t=[];if(0<=e)for(var r=0,n=this.getSampledPoints();r<n.length;r++){var o=n[r];o.branch===e&&t.push(o)}return t},p.prototype.resetTracePoint=function(){this.drawTrace(this.getCurrentPoint())},p.prototype.drawTrace=function(e){var t,r=this.getCurrentSketch();e&&r&&(t=r.branches[this.branch])&&t.graphMode!==i.XYPOINT&&(t={x:e.x,y:e.y},t={branchInfo:{branch:e.branch,id:r.id,sketch:r},pt:t},l.isEqual(t,this.grapher.traceLayer.getTraceInfo())||(this.grapher.traceLayer.setTraceInfo(t),this.grapher.redrawAllLayers()))},p.prototype.moveToOrigin=function(){var e=this.getCurrentSketch();e&&c.canPlaySketch(e)&&(e=e.branches[this.branch],c.canPlayBranch(e)&&((e=e.graphMode)===i.Y?this.setIndependent("x",0):e===i.X?this.setIndependent("y",0):e===i.XYPOINT&&(e=this.getSortedPOI()[0],this.setIndependent("x",e?e.x:0))))},p.prototype.getCurrentSketch=function(){var e,t=this.getSelectedItem();if(t){var r=this.audiograph.getFocusedCell();if("table"===t.type){if(r&&(e=this.getGraphSketchForTableCell(t,r)),!e)for(var n=0,o=t.columnModels;n<o.length;n++){var i=o[n];if(void 0!==(e=this.grapher.getGraphSketch(i.id)))break}}else e=this.grapher.getGraphSketch(t.id)}return e},p.prototype.getFirstTraceableSketch=function(e){for(var t=this.controller.getItemCount(),r=this.controller.shouldAudioTraceReverseExpressions(),n=0;n<t;n++){var o=r?t-1-n:n,i=this.controller.getItemModelByIndex(o);if(i&&this.canTrace(i)){var a,s=r?this.prevTableColumn(i):this.nextTableColumn(i);if(a=s?(this.audiograph.setFocusedCell(s),this.getGraphSketchForTableCell(i,s)):this.grapher.getGraphSketch(i.id)){e&&e.selectAssociatedExpression&&this.controller.dispatch({type:"set-selected-index",index:o});break}}}return a},p.prototype.canTrace=function(e){return"image"!==e.type&&("shouldGraph"in e&&(!!(e=this.grapher.getGraphSketch(e.id))&&c.canPlaySketch(e)))},p.prototype.getTraceableExpressionCount=function(){for(var e=0,t=this.controller.getItemCount(),r=0;r<t;r++){var n=this.controller.getItemModelByIndex(r);n&&this.canTrace(n)&&e++}return e},p.prototype.computeStepSizes=function(){var e,t,r,n,o=this.grapher.getProjection().viewport;o&&(e=(this.viewport=o).xmin,t=o.xmax,this.xstep=Math.abs(t-e)/100,this.xscale=t-e,r=o.ymin,n=o.ymax,this.ystep=Math.abs(n-r)/100,this.yscale=n-r,(o=this.getCurrentSketch())&&c.canPlaySketch(o)&&(o=o.branches[this.branch],c.canPlayBranch(o)&&((o=o.graphMode)===i.Y?this.independent<e?this.independent=e:this.independent>t&&(this.independent=t):o===i.X?this.independent<r?this.independent=r:this.independent>n&&(this.independent=n):o===i.XYPOINT&&(o=n=void 0,this.independent<e?(o=this.getSortedPOI()[0],this.independent=o&&void 0!==o.x?o.x:0):this.independent>t&&(o=(n=this.getSortedPOI())[n.length-1],this.independent=o&&void 0!==o.x?o.x:0)))))},p.prototype.getPoint=function(e,t){var r,n,o,a=this.getCurrentSketch();if(!a||!c.canPlaySketch(a))return r;var s=0,l=a.branches[e];return l?(a=c.getReportedBranch(a,e),"compiled"in l&&l.compiled&&(o=l.compiled.fn),(l=l.graphMode)===i.Y?((n=this.getInterveningPOIs(t,t+this.xstep,e,l)[0])&&n.x===t&&n.branch===e||(n=void 0,s=o?o(t):0),n?r={x:n.x,y:n.y,type:n.type,typeChain:n.typeChain,branch:n.branch,reportedBranch:a,graphMode:l,intersects:n.intersects}:o&&(r={x:t,y:s,branch:e,reportedBranch:a,graphMode:l})):l===i.X?((n=this.getInterveningPOIs(t,t+this.ystep,e,l)[0])&&n.y===t&&n.branch===e||(n=void 0,s=o?o(t):0),n?r={x:n.x,y:n.y,type:n.type,typeChain:n.typeChain,branch:n.branch,reportedBranch:a,graphMode:l,intersects:n.intersects}:o&&(r={y:t,x:s,branch:e,reportedBranch:a,graphMode:l})):l===i.XYPOINT&&(r=(n=this.getInterveningPOIs(t,t+this.xstep,e,l)[0])&&n.x===t&&n.branch===e?{x:n.x,y:n.y,type:n.type,typeChain:n.typeChain,branch:n.branch,reportedBranch:a,graphMode:l,intersects:n.intersects}:{x:t,y:NaN,branch:e,reportedBranch:a,graphMode:l}),r):void 0},p.prototype.getSampledPoints=function(){return 0===this.sampledPoints.length&&this.updateSampledPoints(),this.sampledPoints},p.prototype.updateSampledPoints=function(){var e=this.getCurrentSketch();if(e&&c.canPlaySketch(e)){for(var t=[],r=0;r<e.branches.length;r++){var n=e.branches[r];if(c.canPlayBranch(n)){var o=n.graphMode,s=0,l=0,u=0,d=[];if(o===i.Y||o===i.XYPOINT?(s=this.viewport.xmin,l=this.viewport.xmax,u=this.xstep):o===i.X&&(s=this.viewport.ymin,l=this.viewport.ymax,u=this.ystep),0!==s||0!==l||0!==u){for(var p=0;a.value(s+p*u).value<=l;p++){var h=a.value(s+p*u).value,f=this.getInterveningPOIs(h,h+u,r,o);0<f.length?d.push.apply(d,f):(h=this.getPoint(r,h))&&d.push(h)}t.push.apply(t,this.removeDuplicates(d,o))}}}this.sampledPoints=t}},p.prototype.getCurrentPoint=function(){return this.currentPoint||this.updateCurrentPoint(),this.currentPoint},p.prototype.updateCurrentPoint=function(e){var t;e?((t=(this.currentPoint=e).graphMode)===i.Y||t===i.XYPOINT?this.independent=void 0!==e.x?e.x:0:t===i.X&&(this.independent=void 0!==e.y?e.y:0),this.branch=e.branch):this.currentPoint=this.getPoint(this.branch,this.independent)},p.prototype.prevPoint=function(){this.moveToPoint(-1)},p.prototype.nextPoint=function(){this.moveToPoint(1)},p.prototype.firstPoint=function(){var e=this.getSampledPoints();0<e.length&&this.updateCurrentPoint(e[0])},p.prototype.lastPoint=function(){var e=this.getSampledPoints();0<e.length&&this.updateCurrentPoint(e[e.length-1])},p.prototype.moveToPoint=function(e){var t,r=this.getCurrentPoint();r&&(r.graphMode!==i.XYPOINT?(t=this.getSampledPoints(),-1!==(r=this.getPointIndex(t,r))&&((r+=e)<=0?(r=0,u.queue(this.controller.s("graphing-calculator-narration-audio-trace-first-point"))):r>=t.length-1&&(r=t.length-1,u.queue(this.controller.s("graphing-calculator-narration-audio-trace-last-point"))),r=t[r],this.updateCurrentPoint(r))):this.moveToPOI(e))},p.prototype.canMoveToPrevPoint=function(){var e=this.getCurrentPoint();if(!e)return!1;if(e.graphMode===i.XYPOINT)return this.canMoveToPrevPOI();var t=this.getSampledPoints();return 0<this.getPointIndex(t,e)},p.prototype.canMoveToNextPoint=function(){var e=this.getCurrentPoint();if(!e)return!1;if(e.graphMode===i.XYPOINT)return this.canMoveToNextPOI();var t=this.getSampledPoints();return this.getPointIndex(t,e)<t.length-1},p.prototype.prevPOI=function(){this.moveToPOI(-1)},p.prototype.nextPOI=function(){this.moveToPOI(1)},p.prototype.getSortedPOI=function(){return this.pois&&0!==this.pois.length||this.updatePOI(),this.pois},p.prototype.updatePOI=function(){var e,t,r=[],n=[],a=this.getCurrentSketch();if(a&&c.canPlaySketch(a)){for(var s=0;s<a.branches.length;s++){var l=a.branches[s];if(l){var u=c.getReportedBranch(a,s),d=l.graphMode;n=[];if(0<(l=a.getBranchPOI(s)).length){d===i.Y||d===i.XYPOINT?n=o.sortBy(l,"x"):d===i.X&&(n=o.sortBy(l,"y"));for(var p=[],h=0,f=n;h<f.length;h++){var g=f[h];p.push((e=d,t=u,{x:(g=g).x,y:g.y,branch:g.branch,reportedBranch:t,type:g.type,graphMode:e,intersects:g.intersects}))}r.push.apply(r,this.removeDuplicates(p,d))}}}this.pois=r}},p.prototype.removeDuplicates=function(e,t){for(var r=[],o=0,i=e;o<i.length;o++){var c,l=i[o];(l=n.__assign({},l)).graphMode=t,0!==r.length?(c=r[r.length-1],a.value(c.x).value===a.value(l.x).value&&a.value(c.y).value===a.value(l.y).value&&c.branch===l.branch?(c.typeChain||(c.typeChain=void 0!==c.type?[c.type]:[]),void 0!==l.type&&-1===c.typeChain.indexOf(l.type)&&c.typeChain.push(l.type),l.type===s.INTERSECTION&&l.intersects&&void 0===c.intersects&&(c.intersects=l.intersects)):r.push(l)):r.push(l)}return r},p.prototype.getInterveningPOIs=function(e,t,r,n){for(var o=[],a=NaN,s=0,c=this.getSortedPOI();s<c.length;s++){var l=c[s];l&&(n!==i.Y&&n!==i.XYPOINT||isNaN(l.x)?n!==i.X||isNaN(l.y)||(a=l.y):a=l.x,l.branch===r&&!isNaN(a)&&(e<=a&&a<t||t<=a&&a<e)&&o.push(l))}return t<e?o.reverse():o},p.prototype.setIndependent=function(e,t){for(var r=this.getSampledPoints(),n=0,o=r;n<o.length;n++){var i=o[n];if(i&&i.hasOwnProperty(e)&&i[e]===t){if("x"===e)return this.independent=void 0!==i.x?i.x:0,void this.updateCurrentPoint();if("y"===e)return this.independent=void 0!==i.y?i.y:0,void this.updateCurrentPoint()}}var a=!0;0<r.length&&(r=r[Math.floor((r.length-1)/2)])&&("x"===e?(this.independent=void 0!==r.x?r.x:0,a=!1):"y"===e&&(this.independent=void 0!==r.y?r.y:0,a=!1)),a&&(this.independent=0),this.resetToFirstBranch(),this.updateCurrentPoint()},p.prototype.moveToPOI=function(e){var t;this.getCurrentPoint()&&(t=this.getSampledPoints(),-1===(e=this.getPOIIndexByDirection(e))?u.queue(this.controller.s("graphing-calculator-narration-audio-trace-no-more-pois")):this.updateCurrentPoint(t[e]))},p.prototype.getPOIIndexByDirection=function(e){var t=this.getCurrentPoint();if(!t)return-1;var r=this.getSampledPoints(),n=this.getPointIndex(r,t),o=-1;if(-1!==n)for(var a=t.graphMode,s=1===e?r.length-1:0,c=n;c!==s+e;c+=e){var l=r[c];if(((a===i.Y||a===i.XYPOINT)&&t.x!==l.x||a===i.X&&t.y!==l.y)&&void 0!==l.type){o=c;break}}return o},p.prototype.canMoveToPrevPOI=function(){return-1!==this.getPOIIndexByDirection(-1)},p.prototype.canMoveToNextPOI=function(){return-1!==this.getPOIIndexByDirection(1)},p.prototype.getPointIndex=function(e,t){var r=-1;if(0<e.length&&t)for(var n=t.graphMode,o=0;o<e.length;o++){var a=e[o];if(((n===i.Y||n===i.XYPOINT)&&a.x===t.x||n===i.X&&a.y===t.y)&&a.branch===t.branch){r=o;break}}return r},p.prototype.prevCurve=function(){this.controller.shouldAudioTraceReverseExpressions()?this.curveDown():this.curveUp()},p.prototype.nextCurve=function(){this.controller.shouldAudioTraceReverseExpressions()?this.curveUp():this.curveDown()},p.prototype.curveUp=function(){var e,t,r=this.getSelectedItem();r&&((e=this.prevTableColumn(r))?this.audiograph.setFocusedCell(e):(t=r.index,-1===(t=this.findPrevTraceableIndex({index:t,focusTableCell:!0}))||(t=this.controller.getItemModelByIndex(t))&&this.controller.dispatch({type:"set-selected-id",id:t.id})),!e&&this.getSelectedItem()===r||this.audiograph.enterAudioTrace())},p.prototype.curveDown=function(){var e,t,r=this.getSelectedItem();r&&((e=this.nextTableColumn(r))?this.audiograph.setFocusedCell(e):(t=r.index,-1===(t=this.findNextTraceableIndex({index:t,focusTableCell:!0}))||(t=this.controller.getItemModelByIndex(t))&&this.controller.dispatch({type:"set-selected-id",id:t.id})),!e&&this.getSelectedItem()===r||this.audiograph.enterAudioTrace())},p.prototype.canMoveToPrevCurve=function(){var e=this.getSelectedItem();return!!e&&(this.controller.shouldAudioTraceReverseExpressions()?-1!==this.findNextTraceableIndex({index:e.index,focusTableCell:!1}):-1!==this.findPrevTraceableIndex({index:e.index,focusTableCell:!1}))},p.prototype.canMoveToNextCurve=function(){var e=this.getSelectedItem();return!!e&&(this.controller.shouldAudioTraceReverseExpressions()?-1!==this.findPrevTraceableIndex({index:e.index,focusTableCell:!1}):-1!==this.findNextTraceableIndex({index:e.index,focusTableCell:!1}))},p.prototype.findPrevTraceableIndex=function(e){var t,r=e.index;do{r--;var n=(t=this.controller.getItemModelByIndex(r))&&this.prevTableColumn(t);if(n)return e.focusTableCell&&this.audiograph.setFocusedCell(n),r}while(t&&!this.canTrace(t));return t?r:-1},p.prototype.findNextTraceableIndex=function(e){var t,r=e.index;do{r++;var n=(t=this.controller.getItemModelByIndex(r))&&this.nextTableColumn(t);if(n)return e.focusTableCell&&this.audiograph.setFocusedCell(n),r}while(t&&!this.canTrace(t));return t?r:-1},p.prototype.prevTableColumn=function(e){return this.tableColumn(e,-1)},p.prototype.nextTableColumn=function(e){return this.tableColumn(e,1)},p.prototype.tableColumn=function(e,t){var r;if(e&&"table"===e.type){var n,o=this.audiograph.getFocusedCell(),i=void 0,a=void 0;i=((n=-1===t?(i=o?Math.max(o.location.column-1,0):NaN,a=o&&o.tableId===e.id&&!isNaN(i)?i:e.columnModels.length-1,0):(i=o?Math.min(o.location.column+1,e.columnModels.length-1):NaN,a=o&&o.tableId===e.id&&!isNaN(i)?i:0,e.columnModels.length-1))-a)/t;if(isFinite(i)&&0<=i)for(var s=a;s!==n;s+=t){var c=e.columnModels[s];if(c&&this.grapher.getGraphSketch(c.id)){r={tableId:e.id,location:{column:s,row:0}};break}}}return r},p.prototype.getGraphSketchForTableCell=function(e,t){if(e&&"table"===e.type&&t)return(t=e.columnModels[t.location.column])?this.grapher.getGraphSketch(t.id):void 0},p.prototype.getXScale=function(){return this.xscale},p.prototype.getYScale=function(){return this.yscale},p.prototype.getSelectedItem=function(){var e=this.controller.getSelectedItem();return e&&"folder"===e.type?this.controller.getItemModel(r.getSelectedId(e)):e},p);function p(e,t,r){this.grapher=r,this.controller=e,this.audiograph=t,this.reset()}t.default=d}),define("graphing/audiograph",["require","exports","tslib","browser","keys","lib/aria","graphing/audiographnavigator","graphing/tonegenerator","core/types/graphmode","core/lib/label","core/math/poi-type","graphing-calc/models/expression","graphing-calc/models/table","expressions/colors","lib/mathspeak","../lib/fluent-bundle-sequence"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.audioSpeedOptions=void 0,t.audioSpeedOptions=[{speed:200,displayedSpeed:"1/4 x"},{speed:100,displayedSpeed:"1/2 x"},{speed:50,displayedSpeed:"1 x"},{speed:25,displayedSpeed:"2 x"},{speed:12.5,displayedSpeed:"4 x"}];var m=(y.prototype.remove=function(){},y.prototype.handleKeydown=function(e){var t=e.altKey||e.metaKey,r=e.altKey&&!e.metaKey&&!e.ctrlKey&&!e.shiftKey,i=e.ctrlKey&&!e.metaKey&&!e.altKey,a=(i=(a=n.IS_APPLE?i:t)&&(61===e.which||187===e.which),t=a&&!e.shiftKey&&(173===e.which||189===e.which),a&&!e.shiftKey&&"0"===o.lookupChar(e));r&&"S"===o.lookupChar(e)?this.agNavigator.getSelectedItem()&&(this.audioTraceActive||this.isFocusInExpressionsView())&&(e.preventDefault(),e.stopPropagation(),this.describeCurve()):r&&"G"===o.lookupChar(e)?(this.audioTraceActive||this.isFocusInExpressionsView())&&(e.preventDefault(),e.stopPropagation(),this.describeAxes()):r&&"T"===o.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),this.toggleAudioTrace()):i?(e.preventDefault(),e.stopPropagation(),this.zoom("in")):t?(e.preventDefault(),e.stopPropagation(),this.zoom("out")):a?(e.preventDefault(),e.stopPropagation(),this.zoom("default")):this.audioTraceActive&&(this.sliderTraceActive?this.sliderTraceKeydown(e):this.audioTraceKeydown(e))},y.prototype.sliderTraceKeydown=function(e){var t=e.altKey||e.metaKey,r=!t&&!e.ctrlKey&&!e.shiftKey;r&&o.lookup(e)===o.LEFT||"J"===o.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),this.decrementSliderValue()):r&&o.lookup(e)===o.RIGHT||"L"===o.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),this.incrementSliderValue()):r&&o.lookup(e)===o.PAGEDOWN?(e.preventDefault(),e.stopPropagation(),this.decrementBigSliderValue()):r&&o.lookup(e)===o.PAGEUP?(e.preventDefault(),e.stopPropagation(),this.incrementBigSliderValue()):t||o.lookup(e)!==o.DOWN&&(e.shiftKey||o.lookup(e)!==o.TAB)&&"K"!==o.lookupChar(e)?!t&&(o.lookup(e)===o.UP||e.shiftKey&&o.lookup(e)===o.TAB||"I"===o.lookupChar(e))?(e.preventDefault(),e.stopPropagation(),this.prevSlider()):r&&o.lookup(e)===o.HOME||"U"===o.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),this.sliderMin()):r&&o.lookup(e)===o.END||"N"===o.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),this.sliderMax()):(this.stopAnimations(),this.audioTraceKeydown(e)):(e.preventDefault(),e.stopPropagation(),this.nextSlider())},y.prototype.audioTraceKeydown=function(e){var t=e.altKey||e.metaKey,r=t&&!e.ctrlKey&&!e.shiftKey,n=!t&&!e.ctrlKey&&!e.shiftKey,a=o.lookupChar(e);if(o.lookup(e)===o.UP&&r)e.preventDefault(),e.stopPropagation(),i.clear(),this.agNavigator.prevCurve();else if(o.lookup(e)===o.DOWN&&r)e.preventDefault(),e.stopPropagation(),i.clear(),this.agNavigator.nextCurve();else if(n&&o.lookup(e)===o.LEFT||o.lookup(e)===o.UP||"J"===a)e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"keypad/audio-trace",command:"previous-point"});else if(n&&o.lookup(e)===o.RIGHT||o.lookup(e)===o.DOWN||"L"===a)e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"keypad/audio-trace",command:"next-point"});else if(t||o.lookup(e)!==o.PAGEDOWN&&(e.shiftKey||o.lookup(e)!==o.TAB)&&"I"!==a)if(!t&&(o.lookup(e)===o.PAGEUP||e.shiftKey&&o.lookup(e)===o.TAB||"K"===a))e.preventDefault(),e.stopPropagation(),this.reportAndMoveToPrevPOI();else if(n&&o.lookup(e)===o.HOME||"U"===a)e.preventDefault(),e.stopPropagation(),this.reportAndMoveToFirstPoint();else if(n&&o.lookup(e)===o.END||"N"===a)e.preventDefault(),e.stopPropagation(),this.reportAndMoveToLastPoint();else if(n&&"X"===a)e.preventDefault(),e.stopPropagation(),this.reportX();else if(n&&"P"===a)e.preventDefault(),e.stopPropagation(),this.reportPOICount();else if(n&&"Y"===a)e.preventDefault(),e.stopPropagation(),this.reportY();else if(n&&"T"===a)e.preventDefault(),e.stopPropagation(),this.reportType();else if(n&&"B"===a)e.preventDefault(),e.stopPropagation(),this.reportBranch();else if(n&&"O"===a)e.preventDefault(),e.stopPropagation(),this.reportAndMoveToOrigin();else if(n&&"H"===a)e.preventDefault(),e.stopPropagation(),this.hearGraph();else if(n&&"string"==typeof a&&"0"<=a&&a<="9"){if(e.preventDefault(),e.stopPropagation(),i.clear(),!this.controller.getAudio())return void i.alert(this.controller.s("graphing-calculator-narration-audio-trace-sound-effects-disabled"));this.tonegen.stop();var c=this.agNavigator.getCurrentSketch();if(c){for(var l=r=48===e.which?9:e.which-49,u=-1,d=0;d<c.branches.length;d++)if(s.canPlayBranch(c.branches[d])&&--l,l<0){u=d;break}0<=u?this.tonegen.getPlaybackSupported()?this.tonegen.playBranchByIndex(c,u,this.grapher.getCurrentViewport()):i.alert(this.controller.s("graphing-calculator-narration-audio-trace-unable-to-play")):i.alert(this.controller.s("graphing-calculator-narration-audio-trace-branch-not-found",{branch:1+r}))}else i.alert(this.controller.s("graphing-calculator-narration-audio-trace-description-no-curve-selected"))}else t&&"string"==typeof a&&"1"<=a&&a<="5"?(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-audio-trace-speed",speed:parseInt(a,10)-1})):e.altKey||e.ctrlKey||e.metaKey||"V"!==a?n&&"A"===a?(e.preventDefault(),e.stopPropagation(),i.clear(),this.queueAnimatingPoints(!0),i.alert()):n&&"S"===a&&this.controller.isListEnabled()?(e.preventDefault(),e.stopPropagation(),this.toggleSliderTrace()):n&&"C"===a?(e.preventDefault(),e.stopPropagation(),this.reportColor()):n&&this.exitAudioTrace():(e.preventDefault(),e.stopPropagation(),this.controller.getAudio()?e.shiftKey?this.controller.dispatch({type:"keypad/audio-trace",command:"volume-down"}):this.controller.dispatch({type:"keypad/audio-trace",command:"volume-up"}):i.alert(this.controller.s("graphing-calculator-narration-audio-trace-unable-to-play")));else e.preventDefault(),e.stopPropagation(),this.reportAndMoveToNextPOI();this.controller.dispatch({type:"render"})},y.prototype.describeCurve=function(){var e=this;i.clear();var t=this.agNavigator.getCurrentSketch();if(t){i.queue(this.controller.s("graphing-calculator-narration-audio-trace-description-color",{color:h.getColorName(this.controller,t.color)}));var r=s.getReportedBranch(t,t.branches.length-1);1<r&&i.queue(this.controller.s("graphing-calculator-narration-audio-trace-description-branch-count",{branches:r}));for(var n=!1,o=!1,a=0,l=t.branches;a<l.length;a++){var d=l[a];if(1===r&&0<d.segments.length&&d.hasOwnProperty("operator")){if(d.graphMode===c.Y){if(">"===d.operator||">="===d.operator){i.queue(this.controller.s("graphing-calculator-narration-audio-trace-description-shading-above"));break}if("<"===d.operator||"<="===d.operator){i.queue(this.controller.s("graphing-calculator-narration-audio-trace-description-shading-below"));break}}else if(d.graphMode===c.X){if(">"===d.operator||">="===d.operator){i.queue(this.controller.s("graphing-calculator-narration-audio-trace-description-shading-right"));break}if("<"===d.operator||"<="===d.operator){i.queue(this.controller.s("graphing-calculator-narration-audio-trace-description-shading-left"));break}}}else 1<r&&(d.graphMode===c.Y||d.graphMode===c.X?"<"!==d.operator&&"<="!==d.operator&&">"!==d.operator&&">="!==d.operator||(n=!0):d.graphMode===c.POLYGONFILL&&(o=!0))}if(n&&o&&i.queue(this.controller.s("graphing-calculator-narration-audio-trace-description-shading-in-regions")),0<(t=t.getPOI()).length){for(var p=[],f=0,g=t;f<g.length;f++){var m=g[f];void 0===p[m.type]?p[m.type]=1:p[m.type]+=1}p.forEach(function(t,r){r===u.INTERSECTION?i.queue(1===t?e.controller.s("graphing-calculator-narration-audio-trace-description-one-intersection"):e.controller.s("graphing-calculator-narration-audio-trace-description-multiple-intersections",{count:t})):r===u.ZERO?i.queue(1===t?e.controller.s("graphing-calculator-narration-audio-trace-description-one-root"):e.controller.s("graphing-calculator-narration-audio-trace-description-multiple-roots",{count:t})):r===u.INTERCEPT?i.queue(1===t?e.controller.s("graphing-calculator-narration-audio-trace-description-one-intercept"):e.controller.s("graphing-calculator-narration-audio-trace-description-multiple-intercepts",{count:t})):r===u.EXTREMUM?i.queue(1===t?e.controller.s("graphing-calculator-narration-audio-trace-description-one-extremum"):e.controller.s("graphing-calculator-narration-audio-trace-description-multiple-extrema",{count:t})):r===u.LABEL&&i.queue(1===t?e.controller.s("graphing-calculator-narration-audio-trace-description-one-label"):e.controller.s("graphing-calculator-narration-audio-trace-description-multiple-labels",{count:t}))})}i.alert()}else i.alert(this.controller.s("graphing-calculator-narration-audio-trace-description-no-curve-selected"))},y.prototype.describeAxes=function(){i.clear(),i.alert(this.getAxesDescription())},y.prototype.getAxesDescription=function(){var e=(u=this.grapher.settings).showGrid,t=u.showXAxis,r=u.xAxisNumbers,n=u.showYAxis,o=u.yAxisNumbers,i=u.xAxisLabel,a=u.yAxisLabel,c=this.grapher.getCurrentViewport(),u=[];t&&(r&&""!==i?u.push(this.controller.s("graphing-calculator-narration-audio-trace-description-visible-x-axis-range-and-label",{xmin:f.getMathspeakFromLatex(l.value(c.xmin,this.agNavigator.getXScale()).latex),xmax:f.getMathspeakFromLatex(l.value(c.xmax,this.agNavigator.getXScale()).latex),label:i})):r&&""===i?u.push(this.controller.s("graphing-calculator-narration-audio-trace-description-visible-x-axis-range",{xmin:f.getMathspeakFromLatex(l.value(c.xmin,this.agNavigator.getXScale()).latex),xmax:f.getMathspeakFromLatex(l.value(c.xmax,this.agNavigator.getXScale()).latex)})):r||""===i?r||""!==i||u.push(this.controller.s("graphing-calculator-narration-audio-trace-description-visible-x-axis")):u.push(this.controller.s("graphing-calculator-narration-audio-trace-description-visible-x-axis-and-label",{label:i}))),n&&(o&&""!==a?u.push(this.controller.s("graphing-calculator-narration-audio-trace-description-visible-y-axis-range-and-label",{ymin:f.getMathspeakFromLatex(l.value(c.ymin,this.agNavigator.getYScale()).latex),ymax:f.getMathspeakFromLatex(l.value(c.ymax,this.agNavigator.getYScale()).latex),label:a})):o&&""===a?u.push(this.controller.s("graphing-calculator-narration-audio-trace-description-visible-y-axis-range",{ymin:f.getMathspeakFromLatex(l.value(c.ymin,this.agNavigator.getYScale()).latex),ymax:f.getMathspeakFromLatex(l.value(c.ymax,this.agNavigator.getYScale()).latex)})):o||""===a?o||""!==a||u.push(this.controller.s("graphing-calculator-narration-audio-trace-description-visible-y-axis")):u.push(this.controller.s("graphing-calculator-narration-audio-trace-description-visible-y-axis-and-label",{label:a}))),t||n||u.push(this.controller.s("graphing-calculator-narration-audio-trace-description-no-visible-axes")),e&&u.push(this.controller.s("graphing-calculator-narration-audio-trace-description-visible-grid"));var d,p=this.grapher.graphSketches,h=0;for(d in p)s.canPlaySketch(p[d])&&(h+=1);return u.push(this.controller.s("graphing-calculator-narration-audio-trace-traceable-curves",{sketchCount:new g.LocalizableNumericValue(h)})),u.join(" ")},y.prototype.queueCoordinates=function(e,t,r){var n;void 0===r&&(r=!1),e&&(n=this.agNavigator.getCurrentSketch(),(e.hasOwnProperty("branch")&&n&&1<n.branches.length&&this.lastSpokenBranch!==e.reportedBranch||"branch"===t)&&"number"==typeof e.reportedBranch&&i.queue(this.controller.s("graphing-calculator-narration-audio-trace-property-branch-number",{branch:e.reportedBranch})),this.lastSpokenBranch=e.reportedBranch||e.branch+1,e.hasOwnProperty("type")&&!t?i.queue(this.controller.s("graphing-calculator-narration-audio-trace-property-type-before-coordinates",{type:this.describePOI(e)})):"type"===t&&i.queue(this.describePOI(e)),t&&"x"!==t||i.queue(this.controller.s("graphing-calculator-narration-audio-trace-property-x",{x:f.getMathspeakFromLatex(l.value(e.x,this.agNavigator.getXScale()).latex)})),t&&"y"!==t||i.queue(this.controller.s("graphing-calculator-narration-audio-trace-property-y",{y:f.getMathspeakFromLatex(l.value(e.y,this.agNavigator.getYScale()).latex)})),r&&i.alert())},y.prototype.describePOI=function(e){if(e.typeChain){for(var t=[],r=0;r<e.typeChain.length;r++)t.push(this.poiTypeToText(e,r));return t.join(", ")}return this.poiTypeToText(e)},y.prototype.poiTypeToText=function(e,t){switch(t&&e.typeChain?e.typeChain[t]:e.type){case u.INTERSECTION:var r=this.getIntersectingCurves(e);return""!==r?this.controller.s("graphing-calculator-narration-audio-trace-point-type-intersection-with-curves",{curves:r}):this.controller.s("graphing-calculator-narration-audio-trace-point-type-intersection");case u.ZERO:return this.controller.s("graphing-calculator-narration-audio-trace-point-type-root");case u.INTERCEPT:return this.controller.s("graphing-calculator-narration-audio-trace-point-type-intercept");case u.EXTREMUM:return this.controller.s("graphing-calculator-narration-audio-trace-point-type-extremum");case u.DEFINITION:return this.controller.s("graphing-calculator-narration-audio-trace-point-type-definition");case u.TRACE:return this.controller.s("graphing-calculator-narration-audio-trace-point-type-trace");case u.LABEL:return this.controller.s("graphing-calculator-narration-audio-trace-point-type-label");default:return this.controller.s("graphing-calculator-narration-audio-trace-point-type-not-a-poi")}},y.prototype.getIntersectingCurves=function(e){return e&&e.intersects?this.getExpressionAriaLabel(e.intersects):""},y.prototype.getExpressionAriaLabel=function(e){return(e=this.controller.getItemModel(e))?"expression"===e.type&&e.label?f.getMathspeakFromLatex(e.label):this.controller.isItemSecret(e.id)?this.controller.s("graphing-calculator-narration-audio-trace-secret-expression",{index:e.secretIndex}):"table"===e.type&&this.focusedCell?this.controller.s("graphing-calculator-narration-audio-trace-expression-with-column",{index:e.displayIndex,column:this.focusedCell.location.column+1}):this.controller.s("shared-calculator-narration-expression-index",{index:e.displayIndex}):""},y.prototype.exitAudioTrace=function(e){var t;this.audioTraceActive&&(this.audioTraceActive=!1,this.controller.isKeypadEnabled()&&this.controller.dispatch({type:"keypad/123"}),e=e||this.controller.s("graphing-calculator-text-audio-trace-off"),this.controller.dispatch({type:"toast/close"}),this.wasFocusInExpressionsView&&((t=this.agNavigator.getSelectedItem())&&this.controller.isItemSelectable(t.id)||(t=this.controller.getFirstFullyVisibleItem()),t&&this.controller.isItemSelectable(t.id)&&this.controller.dispatch({type:"move-focus-to-item",id:t.id,where:"table"===t.type&&void 0!==this.focusedCell?r.__assign({location:"cell"},this.focusedCell.location):"end"})),this.wasFocusInExpressionsView=!1,this.focusedCell=void 0,this.stopAnimations(),this.sliderTraceActive=!1,this.sliderIndex=0,this.tonegen.stop(),this.tonegen.releaseAudio(),this.agNavigator.reset(),this.lastSpokenBranch=1,this.grapher.traceLayer.setTraceInfo(void 0),this.grapher.redrawAllLayers(),i.alert(e),this.resumeAnimations())},y.prototype.isFocusInExpressionsView=function(){return!!this.controller.getFocusedItem()},y.prototype.canAudioTraceCurrentExp=function(){var e=this.agNavigator.getSelectedItem();return!!e&&("table"===e.type?!!this.agNavigator.getCurrentSketch():this.agNavigator.canTrace(e))},y.prototype.enterAudioTrace=function(e){var t,r=this,o=this.agNavigator.getSelectedItem(),a=o&&"table"!==o.type&&!this.agNavigator.canTrace(o)?this.getExpressionAriaLabel(o.id):void 0,s=!1;if(this.audioTraceActive||(this.wasFocusInExpressionsView=this.isFocusInExpressionsView(),o&&a&&i.queue(this.controller.s("graphing-calculator-narration-audio-trace-unsupported-expression",{expression:a})),s=!!a||!this.wasFocusInExpressionsView),s)t=this.agNavigator.getFirstTraceableSketch({selectAssociatedExpression:!0});else if(!a){if(o&&"expression"===o.type&&o.formula&&o.formula.error)return this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.s("graphing-calculator-narration-audio-trace-description-no-curve-selected")}});o&&"table"===o.type?(l=p.getSelectedCell(o),this.focusedCell&&this.focusedCell.tableId===o.id&&(!l||l.column===this.focusedCell.location.column&&l.row===this.focusedCell.location.row)||(this.focusedCell=void 0!==l?{tableId:o.id,location:l}:void 0)):this.focusedCell=void 0,t=this.agNavigator.getCurrentSketch()}if(!t)return this.agNavigator.reset(),this.lastSpokenBranch=1,this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.s("graphing-calculator-narration-audio-trace-description-no-curve-selected")}});var l=t.branches[0].graphMode;return l===c.IMPLICIT?(this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.s("graphing-calculator-text-audio-trace-no-implicit-support")}})):l===c.PARAMETRIC?(this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.s("graphing-calculator-text-audio-trace-no-parametric-support")}})):l===c.POLAR?(this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.s("graphing-calculator-text-audio-trace-no-polar-support")}})):(this.agNavigator.reset(),this.agNavigator.computeStepSizes(),this.lastSpokenBranch=1,this.grapher.traceLayer.clearOpenedPOI(),this.grapher.redrawAllLayers(),this.audioTraceActive||(this.controller.isKeypadEnabled()||this.controller.dispatch({type:"toast/show",toast:{message:this.controller.s("graphing-calculator-text-audio-trace-on"),noAria:!0,onHide:function(){return r.exitAudioTrace()},hideAfter:0}}),a&&t&&i.queue(this.controller.s("graphing-calculator-narration-audio-trace-tracing-different-expression",{expression:this.getExpressionAriaLabel(t.id)})),i.queue(this.controller.s("graphing-calculator-text-audio-trace-on")),this.controller.getAudio()||i.queue(this.controller.s("graphing-calculator-narration-audio-trace-sound-effects-disabled")),this.pauseAnimations(),this.queueAnimatingPoints(!1),this.tonegen.prepareAudio(),e&&e.fromKeypad||(i.queue(this.controller.s("graphing-calculator-narration-audio-trace-instructions-use-arrow-keys")),this.controller.getAudio()&&i.queue(this.controller.s("graphing-calculator-narration-audio-trace-instructions-hear-graph")),1<this.agNavigator.getTraceableExpressionCount()&&(n.IS_APPLE?i.queue(this.controller.s("graphing-calculator-narration-audio-trace-instructions-expression-navigation-mac")):i.queue(this.controller.s("graphing-calculator-narration-audio-trace-instructions-expression-navigation-windows"))),n.IS_APPLE?i.queue(this.controller.s("graphing-calculator-narration-audio-trace-instructions-disable-mac")):i.queue(this.controller.s("graphing-calculator-narration-audio-trace-instructions-disable-windows"))),this.wasFocusInExpressionsView&&(this.controller.find$(".dcg-graph-outer").one("focusin",function(){setTimeout(function(){i.alert()},0)}),this.controller.focusGraphPaper())),this.agNavigator.moveToOrigin(),i.queue(this.getExpressionAriaLabel(t.id)),this.reportAudioTrace({playSound:!1}),this.wasFocusInExpressionsView||i.alert(),this.audioTraceActive=!0,void(this.controller.isKeypadEnabled()&&this.controller.dispatch({type:"keypad/audio"})))},y.prototype.checkIfSelectedItemChanged=function(e){this.lastSelectedId!==e&&(this.lastSelectedId=e,this.audioTraceActive&&(e?(i.queue(this.getExpressionAriaLabel(e)),this.exitSliderTrace(),this.agNavigator.updatePOI(),this.agNavigator.moveToOrigin(),this.reportAudioTrace(),i.alert()):this.exitAudioTrace()))},y.prototype.pauseAnimations=function(){var e=this;this.sliderArray.length=0,this.controller.getAllModelsWithSliders().forEach(function(t){t.slider.isPlaying&&(e.controller.dispatch({type:"set-slider-isplaying",id:t.id,isPlaying:!1}),e.sliderArray.push(t))})},y.prototype.resumeAnimations=function(){if(0!==this.sliderArray.length){for(var e=0;e<this.sliderArray.length;e++){var t=this.sliderArray[e];!0!==t.slider.isPlaying&&this.controller.dispatch({type:"set-slider-isplaying",id:t.id,isPlaying:!0})}this.sliderArray.length=0}},y.prototype.stopAnimations=function(){var e=this;this.controller.getAllModelsWithSliders().forEach(function(t){t.slider.isPlaying&&e.controller.dispatch({type:"set-slider-isplaying",id:t.id,isPlaying:!1})})},y.prototype.getAnimatingVars=function(){for(var e=[],t=0;t<this.sliderArray.length;t++)e.push('"'+d.getAssignment(this.sliderArray[t])+'"');return e},y.prototype.hasActiveSliders=function(){for(var e=this.controller.getAllModelsWithSliders(),t=0;t<e.length;t++)if(e[t].slider.isPlaying)return!0;return!1},y.prototype.queueAnimatingPoints=function(e){1===this.sliderArray.length?i.queue(this.controller.s("graphing-calculator-narration-audio-trace-one-slider-paused")):1<this.sliderArray.length?i.queue(this.controller.s("graphing-calculator-narration-audio-trace-multiple-sliders-paused",{sliders:this.sliderArray.length})):e&&i.queue(this.controller.s("graphing-calculator-narration-audio-trace-no-sliders-paused"))},y.prototype.queueSliderLatex=function(){this.hasActiveSliders()||this.tonegen.stop();var e=this.getSelectedSlider();e?i.queue(e.latex):i.queue(this.controller.s("graphing-calculator-narration-audio-trace-slider-value-unknown"))},y.prototype.getSelectedSlider=function(){var e=this.controller.getAllModelsWithSliders();return this.sliderIndex<=e.length-1?e[this.sliderIndex]:null},y.prototype.incrementSliderValue=function(){this.adjustSlider("up")},y.prototype.decrementSliderValue=function(){this.adjustSlider("down")},y.prototype.incrementBigSliderValue=function(){this.adjustSlider("bigup")},y.prototype.decrementBigSliderValue=function(){this.adjustSlider("bigdown")},y.prototype.nextSlider=function(){this.adjustSlider("next")},y.prototype.prevSlider=function(){this.adjustSlider("prev")},y.prototype.sliderMin=function(){this.adjustSlider("min")},y.prototype.sliderMax=function(){this.adjustSlider("max")},y.prototype.adjustSlider=function(e){var t=this.getSelectedSlider();if(t){var r=t.latex,n=this.controller.getAllModelsWithSliders().length;switch(e){case"up":case"down":case"bigup":case"bigdown":case"min":case"max":this.controller.dispatch({type:"adjust-slider-by-keyboard",id:t.id,adjustment:e}),this.queueSliderLatex(),i.alert();break;case"next":return this.sliderIndex++,this.sliderIndex>=n&&(i.queue(this.controller.s("graphing-calculator-narration-audio-trace-last-slider")),this.sliderIndex=n-1),this.queueSliderLatex(),void i.alert();case"prev":return this.sliderIndex--,this.sliderIndex<0&&(i.queue(this.controller.s("graphing-calculator-narration-audio-trace-first-slider")),this.sliderIndex=0),this.queueSliderLatex(),void i.alert()}t.slider.isPlaying||r===t.latex||(this.queueSliderLatex(),i.alert())}else i.queue(this.controller.s("graphing-calculator-narration-audio-trace-cannot-change-slider-value"))},y.prototype.toggleAudioTrace=function(){this.audioTraceActive?this.exitAudioTrace():this.enterAudioTrace()},y.prototype.toggleSliderTrace=function(){this.sliderTraceActive?this.exitSliderTrace():this.enterSliderTrace()},y.prototype.enterSliderTrace=function(){this.sliderTraceActive||((this.sliderIndex=0)!==this.controller.getAllModelsWithSliders().length?(i.queue(this.controller.s("graphing-calculator-narration-slider-trace-on")),this.queueSliderLatex(),this.sliderTraceActive=!0):(i.queue(this.controller.s("graphing-calculator-narration-slider-trace-no-sliders")),this.sliderTraceActive=!1),i.alert())},y.prototype.exitSliderTrace=function(){this.sliderTraceActive&&(i.queue(this.controller.s("graphing-calculator-narration-slider-trace-off")),this.sliderTraceActive=!1,this.sliderIndex=0,i.alert())},y.prototype.recomputePoints=function(){this.audioTraceActive&&(this.tonegen.isAnimating()||(this.agNavigator.updatePOI(),this.agNavigator.updateSampledPoints(),this.agNavigator.updateCurrentPoint(),this.agNavigator.resetTracePoint(),this.agNavigator.computeStepSizes()))},y.prototype.reportAndMoveToPrevPoint=function(){i.clear(),this.agNavigator.prevPoint(),this.reportAudioTrace(),this.controller.dispatch({type:"render"})},y.prototype.reportAndMoveToNextPoint=function(){i.clear(),this.agNavigator.nextPoint(),this.reportAudioTrace(),this.controller.dispatch({type:"render"})},y.prototype.reportAndMoveToOrigin=function(){i.clear(),this.agNavigator.moveToOrigin(),this.reportAudioTrace(),this.controller.dispatch({type:"render"})},y.prototype.reportAndMoveToPrevPOI=function(){i.clear(),this.agNavigator.prevPOI(),this.reportAudioTrace(),this.controller.dispatch({type:"render"})},y.prototype.reportAndMoveToNextPOI=function(){i.clear(),this.agNavigator.nextPOI(),this.reportAudioTrace(),this.controller.dispatch({type:"render"})},y.prototype.reportAndMoveToFirstPoint=function(){i.clear(),this.agNavigator.firstPoint(),this.reportAudioTrace(),this.controller.dispatch({type:"render"})},y.prototype.reportAndMoveToLastPoint=function(){i.clear(),this.agNavigator.lastPoint(),this.reportAudioTrace(),this.controller.dispatch({type:"render"})},y.prototype.reportX=function(){i.clear(),this.reportAudioTrace({propToSpeak:"x",playSound:!1})},y.prototype.reportY=function(){i.clear(),this.reportAudioTrace({propToSpeak:"y",playSound:!1})},y.prototype.reportColor=function(){i.clear();var e=this.agNavigator.getCurrentSketch();e?i.queue(h.getColorName(this.controller,e.color)):i.queue(this.controller.s("graphing-calculator-narration-color-unknown")),i.alert()},y.prototype.reportPOICount=function(){i.clear();var e=(e=this.agNavigator.getCurrentSketch())?e.getPOI().length:0;i.alert(this.controller.s("graphing-calculator-narration-audio-trace-poi-count",{x:e}))},y.prototype.reportType=function(){i.clear(),this.reportAudioTrace({propToSpeak:"type",playSound:!1})},y.prototype.reportBranch=function(){i.clear(),this.reportAudioTrace({propToSpeak:"branch",playSound:!1})},y.prototype.describePoint=function(){i.clear(),this.reportAudioTrace({playSound:!1}),i.alert()},y.prototype.playCurrentPoint=function(){var e=this.agNavigator.getCurrentPoint();e&&this.tonegen.playPoint(e,this.grapher.getCurrentViewport())},y.prototype.reportAudioTrace=function(e){var t,r,n=this.agNavigator.getCurrentPoint();n&&(t=e&&e.propToSpeak,r=this.controller.getAudio()&&this.tonegen.getPlaybackSupported()&&(!e||void 0===e.playSound||e.playSound),e=!e||void 0===e.speakCoordinates||e.speakCoordinates,this.tonegen.stop(),r&&this.playCurrentPoint(),e&&(this.queueCoordinates(n,t),setTimeout(function(){i.alert()},t?0:100)))},y.prototype.adjustPlaybackSpeed=function(e){if(this.controller.getAudio()){if(!(e<0||e>=t.audioSpeedOptions.length))return this.audioSpeedIndex=e,e=t.audioSpeedOptions[e],this.tonegen.setAudioSpeed(e.speed),i.alert(this.controller.s("graphing-calculator-narration-audio-trace-playback-speed",{speed:e.displayedSpeed}))}else i.alert(this.controller.s("graphing-calculator-narration-audio-trace-sound-effects-disabled"))},y.prototype.speedUp=function(){this.adjustPlaybackSpeed(this.audioSpeedIndex+1)},y.prototype.speedDown=function(){this.adjustPlaybackSpeed(this.audioSpeedIndex-1)},y.prototype.adjustVolume=function(e){var t;i.clear(),this.controller.getAudio()?(t=this.tonegen.getAudioVolume(),t="up"===e?Math.min(100,Math.round(100*(t+.1))):Math.max(0,Math.round(100*(t-.1))),this.tonegen.setAudioVolume(t/100),this.playCurrentPoint(),i.alert(this.controller.s("graphing-calculator-narration-audio-trace-volume",{volume:t}))):i.alert(this.controller.s("graphing-calculator-narration-audio-trace-sound-effects-disabled"))},y.prototype.zoom=function(e){this.grapher.viewportController.zoom(e)},y.prototype.getFocusedCell=function(){return this.focusedCell},y.prototype.setFocusedCell=function(e){this.focusedCell=e},y.prototype.getAudioTraceActive=function(){return this.audioTraceActive},y.prototype.hearGraph=function(){var e;i.clear(),this.controller.getAudio()?this.tonegen.getPlaybackSupported()?(this.tonegen.stop(),(e=this.agNavigator.getCurrentSketch())&&s.canPlaySketch(e)?this.tonegen.playSketch(e,this.grapher.getCurrentViewport()):i.alert(this.controller.s("graphing-calculator-narration-audio-trace-unable-to-trace-this-expression"))):i.alert(this.controller.s("graphing-calculator-narration-audio-trace-unable-to-play")):i.alert(this.controller.s("graphing-calculator-narration-audio-trace-sound-effects-disabled"))},y.prototype.stopGraph=function(){this.tonegen.getPlaybackSupported()&&this.tonegen.stop()},y.prototype.getAudioSpeedIndex=function(){return this.audioSpeedIndex},y);function y(e,t){var r=this;this.grapher=t,this.controller=e,this.audioTraceActive=!1,this.wasFocusInExpressionsView=!1,this.focusedCell=void 0,this.sliderTraceActive=!1,this.sliderIndex=0,this.sliderArray=[],this.lastSpokenBranch=1,this.agNavigator=new a.default(e,this,this.grapher),this.tonegen=new s.default({controller:e,audioPointMove:function(e,t){r.agNavigator.drawTrace(r.agNavigator.getPoint(e,t))},animationFinished:function(){r.recomputePoints(),r.controller.runAfterDispatch(function(){r.controller.dispatch({type:"render"})})},audioEnabled:function(){return r.controller.getAudio()}}),this.audioSpeedIndex=2,this.tonegen.releaseAudio()}t.default=m}),function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define("abraham",[],t);else{var r,n=t();for(r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,function(){return r={},e.m=t=[function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(22);t.map=function(e,t){return t=n.map(e,t),e.warnings&&(t.warnings=e.warnings),t}},function(e,t){var r,n;e=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var s,c=[],l=!1,u=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):u=-1,c.length&&p())}function p(){if(!l){var e=a(d);l=!0;for(var t=c.length;t;){for(s=c,c=[];++u<t;)s&&s[u].run();u=-1,t=c.length}s=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function f(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||l||a(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=f,e.addListener=f,e.once=f,e.off=f,e.removeListener=f,e.removeAllListeners=f,e.emit=f,e.prependListener=f,e.prependOnceListener=f,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=["abs","ans","arccosh","arccot","arccoth","arccsc","arccsch","arcsec","arcsech","arcsinh","arctanh","binomialdist","boxplot","cdf","ceil","corr","cov","csch","distance","dotplot","erf","floor","gcf","histogram","IndependentTTest","iTTest","ittest","lcm","length","mad","mcd","mcm","mean","median","midpoint","mod","nCr","normaldist","nPr","pdf","poissondist","polygon","quantile","quartile","random","round","sech","sign","signum","sgn","stdDev","stddev","stdDevP","stddevp","stdev","stdevp","tdist","total","TScore","TScore","Tscore","tscore","tscore","TTest","ttest","var","variance","varp"],i=o,a=s(o);function s(e){return e=e.sort(function(e,t){return t.length-e.length||t.localeCompare(e)}).join("|"),new RegExp("("+e+")","g")}t.getAutoOperator=function(e){for(var t=0,r="",o=0,i=e;o<i.length;o++){var a=i[o];if("terminal"!==a.type||!/[A-Za-z]/.test(a.value))break;r+=a.value,t++}return e=r.replace(n,"\\operatorname{$1}"),{modified:0<t&&e!==r,terminalCount:t,value:e}},t.containsValue=function(e){return-1!==i.indexOf(e.toLowerCase())},t.setOperatorNames=function(e){if(!Array.isArray(e))throw new Error("Operator names must be an array, got "+typeof e);for(var t=0,r=e;t<r.length;t++){var o=r[t];if("string"!=typeof o)throw new Error("Operator names must be strings, found "+typeof o)}n=s(i=e)},t.resetOperatorNames=function(){i=o,n=a}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(14),i=r(15),a=r(16),s=r(0),c=r(23),l=r(25);function u(e){if(!l.isSixDotCells(e))throw new Error("EncodingError: Expected input to be six-dot unicode braille characters.")}t.nemethToLatex=function(e,r){return u(e),a.default(t.UnicodeBraille.toBrailleAscii(e),r)},t.latexToNemeth=function(e,r){return r&&r.operatorNames?n.setOperatorNames(r.operatorNames):n.resetOperatorNames(),s.map(o.default(e),t.UnicodeBraille.coerceToSixDotCells)},t.uebToLatex=function(e,r){return u(e),c.default(t.UnicodeBraille.toBrailleAscii(e),r)},t.latexToUeb=function(e,r){return r&&r.operatorNames?n.setOperatorNames(r.operatorNames):n.resetOperatorNames(),s.map(i.default(e),t.UnicodeBraille.coerceToSixDotCells)},t.UnicodeBraille={coerceToSixDotCells:l.coerceToSixDotCells,toBrailleAscii:l.toBrailleAscii,toExpandedBrailleAscii:l.toExpandedBrailleAscii},t.version="1.0.3"},function(e,t){},function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;0<=n;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;)e.unshift("..");return e}function n(e){return o.exec(e).slice(1)}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function i(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t="",n=!1,o=arguments.length-1;-1<=o&&!n;o--){var a=0<=o?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,n="/"===a.charAt(0))}return(n?"/":"")+(t=r(i(t.split("/"),function(e){return!!e}),!n).join("/"))||"."},t.normalize=function(e){var n=t.isAbsolute(e),o="/"===a(e,-1);return(e=r(i(e.split("/"),function(e){return!!e}),!n).join("/"))||n||(e="."),e&&o&&(e+="/"),(n?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;0<=r&&""===e[r];r--);return r<t?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var o=n(e.split("/")),i=n(r.split("/")),a=Math.min(o.length,i.length),s=a,c=0;c<a;c++)if(o[c]!==i[c]){s=c;break}var l=[];for(c=s;c<o.length;c++)l.push("..");return(l=l.concat(i.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){e=(t=n(e))[0];var t=t[1];return e||t?e+(t=t&&t.substr(0,t.length-1)):"."},t.basename=function(e,t){return e=n(e)[2],t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e},t.extname=function(e){return n(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(t,r(1))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.hash)throw e;return{_diagnostic:{expected:e.hash.expected,message:e.message,text:e.hash.text,token:e.hash.token},location:e.hash.loc}}},function(e,t,r){"use strict";function n(e){return{type:"command",value:e}}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Array.prototype.concat.apply([],e)}Object.defineProperty(t,"__esModule",{value:!0}),t.terminal=function(e){return{type:"terminal",value:e}},t.command=n,t.greek=function(e){return{type:"greek",value:e}},t.level=function(e){return{subscript:e._,superscript:e["^"],type:"level"}},t.processPrimes=function(e,t){var r=[];if(null!==(e=e.match(/'+/)))for(var i=e[0].length,a=0;a<i;a++)r.push(n("\\prime"));return o(r,t)},t.fraction=function(e,t){return{type:"fraction",numerator:e,denominator:t}},t.typeform=function(e,t){return{name:e,type:"typeform",value:t}},t.radical=function(e,t){return{type:"radical",index:t,radicand:e}},t.group=o},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){(function(e,n){var o,i,a,s,c,l,u,d,p,h,f,g,m,y,v,b,x,w,E,S,k,_,I,M,L,T,C,A,O,P,D,F,N,q,R,B,j,V,U,G,z,H,W,K,$,Y,X,Q,J=($=[5,11,12,13,14,15,17,18,20,21,23,24,25,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,82],Y=[1,75],X=[5,11,12,13,14,15,17,18,20,21,23,24,25,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,77,78,79,80,82],Q=[5,11,12,13,14,15,17,18,20,21,23,24,25,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82],o={trace:function(){},yy:{},symbols_:{error:2,sentence:3,group:4,EOF:5,element:6,index_element:7,modified_expression:8,radical:9,primes:10,OPEN_MODEXP:11,MODEXP_UNDER:12,MODEXP_OVER:13,CLOSE_MODEXP:14,RADICAL_INDEX:15,index_group:16,OPEN_RADICAL:17,CLOSE_RADICAL:18,level:19,LEVEL:20,BASELINE:21,frac:22,OPEN_FRAC:23,SLASH:24,CLOSE_FRAC:25,subscript_head:26,number:27,atom:28,command:29,greek:30,letter:31,comma:32,period:33,space:34,operation:35,comparison:36,level_with_comparison:37,ellipsis:38,colon:39,infinity:40,integral:41,factorial:42,ampersand:43,question_mark:44,bracket:45,",":46,".":47,"[":48,"{":49,"(":50,"]":51,"}":52,")":53,LANGLE:54,RANGLE:55,PIPE:56,DOUBLE_PIPE:57,SPACE:58,COMMAND:59,GREEK:60,LETTER:61,CAPITAL_LETTER:62,"+":63,"-":64,CDOT:65,TIMES:66,"*":67,"/":68,DIV:69,PERCENT:70,TO:71,COMPARISON:72,LEVEL_WITH_COMPARISON:73,ELLIPSIS:74,COLON:75,NUMBER:76,INFINITY:77,INTEGRAL:78,FACTORIAL:79,"&":80,PRIMES:81,"?":82,unknown:83,UNKNOWN:84,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",11:"OPEN_MODEXP",12:"MODEXP_UNDER",13:"MODEXP_OVER",14:"CLOSE_MODEXP",15:"RADICAL_INDEX",17:"OPEN_RADICAL",18:"CLOSE_RADICAL",20:"LEVEL",21:"BASELINE",23:"OPEN_FRAC",24:"SLASH",25:"CLOSE_FRAC",46:",",47:".",48:"[",49:"{",50:"(",51:"]",52:"}",53:")",54:"LANGLE",55:"RANGLE",56:"PIPE",57:"DOUBLE_PIPE",58:"SPACE",59:"COMMAND",60:"GREEK",61:"LETTER",62:"CAPITAL_LETTER",63:"+",64:"-",65:"CDOT",66:"TIMES",67:"*",68:"/",69:"DIV",70:"PERCENT",71:"TO",72:"COMPARISON",73:"LEVEL_WITH_COMPARISON",74:"ELLIPSIS",75:"COLON",76:"NUMBER",77:"INFINITY",78:"INTEGRAL",79:"FACTORIAL",80:"&",81:"PRIMES",82:"?",84:"UNKNOWN"},productions_:[0,[3,2],[3,1],[4,2],[4,1],[6,1],[6,1],[6,2],[6,1],[8,7],[8,6],[8,5],[8,6],[8,5],[8,5],[8,4],[8,4],[8,3],[8,4],[8,4],[8,4],[8,4],[8,3],[8,3],[8,2],[9,5],[9,4],[9,4],[9,3],[9,3],[9,2],[19,1],[19,1],[22,5],[22,4],[22,4],[22,3],[16,2],[16,1],[7,3],[7,2],[7,2],[7,3],[7,2],[7,2],[7,1],[7,1],[7,1],[26,1],[26,1],[26,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[32,1],[33,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[34,1],[29,1],[30,1],[31,1],[31,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[36,1],[37,1],[38,1],[39,1],[27,1],[40,1],[41,1],[42,1],[43,1],[10,1],[44,1],[83,1]],performAction:function(e,t,r,n,o,i,a){var s=i.length-1;switch(o){case 1:return i[s-1];case 2:return n.group();case 3:case 37:case 41:case 43:case 44:this.$=n.group(i[s-1],i[s]);break;case 4:case 38:this.$=n.group(i[s]);break;case 7:this.$=n.group(i[s-1],i[s]);break;case 9:this.$=n.modified_expression(i[s-5],i[s-3],i[s-1]);break;case 10:this.$=n.modified_expression(i[s-4],i[s-2]);break;case 11:this.$=n.modified_expression(i[s-3],i[s-1]);break;case 12:this.$=n.modified_expression(i[s-4],n.group(),i[s-1]);break;case 13:this.$=n.modified_expression(i[s-3],n.group(),i[s-1]);break;case 14:this.$=n.modified_expression(i[s-3],n.group(),n.group());break;case 15:case 16:this.$=n.modified_expression(i[s-2],n.group());break;case 17:this.$=n.modified_expression(i[s-1]);break;case 18:case 19:case 22:case 23:case 24:this.$=n.modified_expression(n.group());break;case 20:case 21:n.warnOrError("Multi-level modified expressions are not supported."),this.$=n.modified_expression(n.group());break;case 25:this.$=n.radical(i[s-1],i[s-3]);break;case 26:this.$=n.radical(i[s-1],n.group());break;case 27:this.$=n.radical(n.group(),i[s-2]);break;case 28:this.$=n.radical(n.group(),n.group());break;case 29:this.$=n.radical(i[s-1]);break;case 30:this.$=n.radical(n.group());break;case 31:this.$=n.level(i[s]);break;case 32:this.$=n.baseline();break;case 33:this.$=n.fraction(i[s-3],i[s-1]);break;case 34:this.$=n.fraction(i[s-2],n.group());break;case 35:this.$=n.fraction(n.group(),i[s-1]);break;case 36:this.$=n.fraction(n.group(),n.group());break;case 39:this.$=n.group(n.simple_subscript(i[s-2],i[s]),i[s-1]);break;case 40:this.$=n.simple_subscript(i[s-1],i[s]);break;case 42:n.warnOrError("Illegal use of Nemeth primes"),this.$=n.group(n.simple_subscript(i[s-2],i[s-1]),i[s]);break;case 67:this.$=n.terminal(",");break;case 68:this.$=n.terminal(".");break;case 69:this.$=n.terminal("[");break;case 70:this.$=n.terminal("\\{");break;case 71:this.$=n.terminal("(");break;case 72:this.$=n.terminal("]");break;case 73:this.$=n.terminal("\\}");break;case 74:this.$=n.terminal(")");break;case 75:this.$=n.terminal("\\langle ");break;case 76:this.$=n.terminal("\\rangle ");break;case 77:this.$=n.terminal("|");break;case 78:this.$=n.terminal("\\|");break;case 79:this.$=n.terminal(" ");break;case 80:this.$=n.command(i[s].toLowerCase());break;case 81:this.$=n.terminal(n.greek(i[s]));break;case 82:this.$=n.terminal(i[s].toLowerCase());break;case 83:this.$=n.terminal(i[s].toUpperCase());break;case 84:this.$=n.terminal("+");break;case 85:this.$=n.terminal("-");break;case 86:this.$=n.terminal("\\cdot ");break;case 87:this.$=n.terminal("\\times ");break;case 88:this.$=n.terminal("*");break;case 89:this.$=n.terminal("/");break;case 90:this.$=n.terminal("\\div ");break;case 91:this.$=n.terminal("\\%");break;case 92:this.$=n.terminal("\\to ");break;case 93:this.$=n.comparison(i[s].trim());break;case 94:this.$=n.level_with_comparison(i[s].trim());break;case 95:this.$=n.terminal("\\ldots ");break;case 96:this.$=n.terminal(":");break;case 97:this.$=n.terminal(i[s]);break;case 98:this.$=n.terminal("\\infty ");break;case 99:this.$=n.terminal("\\int ");break;case 100:this.$=n.terminal("!");break;case 101:this.$=n.terminal("\\&");break;case 102:this.$=n.primes(i[s]);break;case 103:this.$=n.terminal("?")}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:6,9:7,11:i=[1,11],15:a=[1,12],17:s=[1,13],19:33,20:c=[1,70],21:l=[1,71],22:32,23:u=[1,69],26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:d=[1,38],47:p=[1,39],48:h=[1,59],49:f=[1,60],50:g=[1,61],51:m=[1,62],52:y=[1,63],53:v=[1,64],54:b=[1,65],55:x=[1,66],56:w=[1,67],57:E=[1,68],58:S=[1,40],59:k=[1,34],60:_=[1,35],61:I=[1,36],62:M=[1,37],63:L=[1,41],64:T=[1,42],65:C=[1,43],66:A=[1,44],67:O=[1,45],68:P=[1,46],69:D=[1,47],70:F=[1,48],71:N=[1,49],72:q=[1,50],73:R=[1,51],74:B=[1,52],75:j=[1,53],76:V=[1,17],77:U=[1,54],78:G=[1,55],79:z=[1,56],80:H=[1,57],82:W=[1,58]},{1:[3]},{5:[1,72]},{1:[2,2]},(o=function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r})(K=[5,12,13,14,18,24,25],[2,4],{6:4,7:5,8:6,9:7,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,22:32,19:33,4:73,11:i,15:a,17:s,20:c,21:l,23:u,46:d,47:p,48:h,49:f,50:g,51:m,52:y,53:v,54:b,55:x,56:w,57:E,58:S,59:k,60:_,61:I,62:M,63:L,64:T,65:C,66:A,67:O,68:P,69:D,70:F,71:N,72:q,73:R,74:B,75:j,76:V,77:U,78:G,79:z,80:H,82:W}),o($,[2,5]),o($,[2,6]),o($,[2,8],{10:74,81:Y}),o(X,[2,45],{10:76,27:77,76:V,81:Y}),o($,[2,46],{10:78,81:Y}),o($,[2,47],{10:79,81:Y}),{4:80,6:4,7:5,8:6,9:7,11:i,12:[1,82],13:[1,81],14:[1,83],15:a,17:s,19:33,20:c,21:l,22:32,23:u,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:d,47:p,48:h,49:f,50:g,51:m,52:y,53:v,54:b,55:x,56:w,57:E,58:S,59:k,60:_,61:I,62:M,63:L,64:T,65:C,66:A,67:O,68:P,69:D,70:F,71:N,72:q,73:R,74:B,75:j,76:V,77:U,78:G,79:z,80:H,82:W},{7:86,16:84,17:[1,85],19:33,20:c,21:l,22:32,23:u,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:d,47:p,48:h,49:f,50:g,51:m,52:y,53:v,54:b,55:x,56:w,57:E,58:S,59:k,60:_,61:I,62:M,63:L,64:T,65:C,66:A,67:O,68:P,69:D,70:F,71:N,72:q,73:R,74:B,75:j,76:V,77:U,78:G,79:z,80:H,82:W},{4:87,6:4,7:5,8:6,9:7,11:i,15:a,17:s,18:[1,88],19:33,20:c,21:l,22:32,23:u,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:d,47:p,48:h,49:f,50:g,51:m,52:y,53:v,54:b,55:x,56:w,57:E,58:S,59:k,60:_,61:I,62:M,63:L,64:T,65:C,66:A,67:O,68:P,69:D,70:F,71:N,72:q,73:R,74:B,75:j,76:V,77:U,78:G,79:z,80:H,82:W},o(Q,[2,48]),o(Q,[2,49]),o(Q,[2,50]),o(Q,[2,97]),o(Q,[2,51]),o(Q,[2,52]),o(Q,[2,53]),o(Q,[2,54]),o(Q,[2,55]),o(Q,[2,56]),o(Q,[2,57]),o(Q,[2,58]),o(Q,[2,59]),o(Q,[2,60]),o(Q,[2,61]),o(Q,[2,62]),o(Q,[2,63]),o(Q,[2,64]),o(Q,[2,65]),o(Q,[2,66]),o(Q,[2,80]),o(Q,[2,81]),o(Q,[2,82]),o(Q,[2,83]),o(Q,[2,67]),o(Q,[2,68]),o(Q,[2,79]),o(Q,[2,84]),o(Q,[2,85]),o(Q,[2,86]),o(Q,[2,87]),o(Q,[2,88]),o(Q,[2,89]),o(Q,[2,90]),o(Q,[2,91]),o(Q,[2,92]),o(Q,[2,93]),o(Q,[2,94]),o(Q,[2,95]),o(Q,[2,96]),o(Q,[2,98]),o(Q,[2,99]),o(Q,[2,100]),o(Q,[2,101]),o(Q,[2,103]),o(Q,[2,69]),o(Q,[2,70]),o(Q,[2,71]),o(Q,[2,72]),o(Q,[2,73]),o(Q,[2,74]),o(Q,[2,75]),o(Q,[2,76]),o(Q,[2,77]),o(Q,[2,78]),{4:89,6:4,7:5,8:6,9:7,11:i,15:a,17:s,19:33,20:c,21:l,22:32,23:u,24:[1,90],26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:d,47:p,48:h,49:f,50:g,51:m,52:y,53:v,54:b,55:x,56:w,57:E,58:S,59:k,60:_,61:I,62:M,63:L,64:T,65:C,66:A,67:O,68:P,69:D,70:F,71:N,72:q,73:R,74:B,75:j,76:V,77:U,78:G,79:z,80:H,82:W},o(Q,[2,31]),o(Q,[2,32]),{1:[2,1]},o(K,[2,3]),o($,[2,7]),o($,[2,102]),o(X,[2,41],{27:91,76:V}),o($,[2,40],{10:92,81:Y}),o($,[2,43]),o($,[2,44]),{12:[1,93],13:[1,94],14:[1,95]},{12:[1,96],13:[1,97],14:[1,98]},{12:[1,100],13:[1,99],14:[1,101]},o($,[2,24]),{17:[1,102]},{4:103,6:4,7:5,8:6,9:7,11:i,15:a,17:s,18:[1,104],19:33,20:c,21:l,22:32,23:u,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:d,47:p,48:h,49:f,50:g,51:m,52:y,53:v,54:b,55:x,56:w,57:E,58:S,59:k,60:_,61:I,62:M,63:L,64:T,65:C,66:A,67:O,68:P,69:D,70:F,71:N,72:q,73:R,74:B,75:j,76:V,77:U,78:G,79:z,80:H,82:W},{7:86,16:105,17:[2,38],19:33,20:c,21:l,22:32,23:u,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:d,47:p,48:h,49:f,50:g,51:m,52:y,53:v,54:b,55:x,56:w,57:E,58:S,59:k,60:_,61:I,62:M,63:L,64:T,65:C,66:A,67:O,68:P,69:D,70:F,71:N,72:q,73:R,74:B,75:j,76:V,77:U,78:G,79:z,80:H,82:W},{18:[1,106]},o(Q,[2,30]),{24:[1,107]},{4:108,6:4,7:5,8:6,9:7,11:i,15:a,17:s,19:33,20:c,21:l,22:32,23:u,25:[1,109],26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:d,47:p,48:h,49:f,50:g,51:m,52:y,53:v,54:b,55:x,56:w,57:E,58:S,59:k,60:_,61:I,62:M,63:L,64:T,65:C,66:A,67:O,68:P,69:D,70:F,71:N,72:q,73:R,74:B,75:j,76:V,77:U,78:G,79:z,80:H,82:W},o($,[2,39]),o($,[2,42]),{4:110,6:4,7:5,8:6,9:7,11:i,13:[1,111],14:[1,112],15:a,17:s,19:33,20:c,21:l,22:32,23:u,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:d,47:p,48:h,49:f,50:g,51:m,52:y,53:v,54:b,55:x,56:w,57:E,58:S,59:k,60:_,61:I,62:M,63:L,64:T,65:C,66:A,67:O,68:P,69:D,70:F,71:N,72:q,73:R,74:B,75:j,76:V,77:U,78:G,79:z,80:H,82:W},{4:113,6:4,7:5,8:6,9:7,11:i,14:[1,114],15:a,17:s,19:33,20:c,21:l,22:32,23:u,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:d,47:p,48:h,49:f,50:g,51:m,52:y,53:v,54:b,55:x,56:w,57:E,58:S,59:k,60:_,61:I,62:M,63:L,64:T,65:C,66:A,67:O,68:P,69:D,70:F,71:N,72:q,73:R,74:B,75:j,76:V,77:U,78:G,79:z,80:H,82:W},o($,[2,17]),{14:[1,115]},{14:[1,116]},o($,[2,22]),{14:[1,117]},{14:[1,118]},o($,[2,23]),{4:119,6:4,7:5,8:6,9:7,11:i,15:a,17:s,18:[1,120],19:33,20:c,21:l,22:32,23:u,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:d,47:p,48:h,49:f,50:g,51:m,52:y,53:v,54:b,55:x,56:w,57:E,58:S,59:k,60:_,61:I,62:M,63:L,64:T,65:C,66:A,67:O,68:P,69:D,70:F,71:N,72:q,73:R,74:B,75:j,76:V,77:U,78:G,79:z,80:H,82:W},{18:[1,121]},o(Q,[2,28]),{17:[2,37]},o(Q,[2,29]),{4:122,6:4,7:5,8:6,9:7,11:i,15:a,17:s,19:33,20:c,21:l,22:32,23:u,25:[1,123],26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:d,47:p,48:h,49:f,50:g,51:m,52:y,53:v,54:b,55:x,56:w,57:E,58:S,59:k,60:_,61:I,62:M,63:L,64:T,65:C,66:A,67:O,68:P,69:D,70:F,71:N,72:q,73:R,74:B,75:j,76:V,77:U,78:G,79:z,80:H,82:W},{25:[1,124]},o(Q,[2,36]),{13:[1,125],14:[1,126]},{4:127,6:4,7:5,8:6,9:7,11:i,14:[1,128],15:a,17:s,19:33,20:c,21:l,22:32,23:u,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:d,47:p,48:h,49:f,50:g,51:m,52:y,53:v,54:b,55:x,56:w,57:E,58:S,59:k,60:_,61:I,62:M,63:L,64:T,65:C,66:A,67:O,68:P,69:D,70:F,71:N,72:q,73:R,74:B,75:j,76:V,77:U,78:G,79:z,80:H,82:W},o($,[2,16]),{14:[1,129]},o($,[2,15]),o($,[2,18]),o($,[2,20]),o($,[2,19]),o($,[2,21]),{18:[1,130]},o(Q,[2,27]),o(Q,[2,26]),{25:[1,131]},o(Q,[2,34]),o(Q,[2,35]),{4:132,6:4,7:5,8:6,9:7,11:i,14:[1,133],15:a,17:s,19:33,20:c,21:l,22:32,23:u,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:d,47:p,48:h,49:f,50:g,51:m,52:y,53:v,54:b,55:x,56:w,57:E,58:S,59:k,60:_,61:I,62:M,63:L,64:T,65:C,66:A,67:O,68:P,69:D,70:F,71:N,72:q,73:R,74:B,75:j,76:V,77:U,78:G,79:z,80:H,82:W},o($,[2,11]),{14:[1,134]},o($,[2,14]),o($,[2,13]),o(Q,[2,25]),o(Q,[2,33]),{14:[1,135]},o($,[2,10]),o($,[2,12]),o($,[2,9])],defaultActions:{3:[2,2],72:[2,1],105:[2,37]},parseError:function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)},parse:function(e){var t,r=[0],n=[null],o=[],i=this.table,a="",s=0,c=0,l=0,u=o.slice.call(arguments,1),d=Object.create(this.lexer),p={yy:{}};for(t in this.yy)Object.prototype.hasOwnProperty.call(this.yy,t)&&(p.yy[t]=this.yy[t]);d.setInput(e,p.yy),p.yy.lexer=d,p.yy.parser=this,void 0===d.yylloc&&(d.yylloc={});var h=d.yylloc;o.push(h);var f=d.options&&d.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var g,m,y,v,b,x,w,E,S={};;){if(y=r[r.length-1],void 0===(v=this.defaultActions[y]||(null==g&&(E=void 0,"number"!=typeof(E=d.lex()||1)&&(E=this.symbols_[E]||E),g=E),i[y]&&i[y][g]))||!v.length||!v[0]){var k,_=[];for(x in i[y])this.terminals_[x]&&2<x&&_.push("'"+this.terminals_[x]+"'");k=d.showPosition?"Parse error on line "+(s+1)+":\n"+d.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==g?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(k,{text:d.match,token:this.terminals_[g]||g,line:d.yylineno,loc:h,expected:_})}if(v[0]instanceof Array&&1<v.length)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+g);switch(v[0]){case 1:r.push(g),n.push(d.yytext),o.push(d.yylloc),r.push(v[1]),g=null,m?(g=m,m=null):(c=d.yyleng,a=d.yytext,s=d.yylineno,h=d.yylloc,0<l&&l--);break;case 2:if(w=this.productions_[v[1]][1],S.$=n[n.length-w],S._$={first_line:o[o.length-(w||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(w||1)].first_column,last_column:o[o.length-1].last_column},f&&(S._$.range=[o[o.length-(w||1)].range[0],o[o.length-1].range[1]]),void 0!==(b=this.performAction.apply(S,[a,c,s,p.yy,v[1],n,o].concat(u))))return b;w&&(r=r.slice(0,-1*w*2),n=n.slice(0,-1*w),o=o.slice(0,-1*w)),r.push(this.productions_[v[1]][0]),n.push(S.$),o.push(S._$),w=i[r[r.length-2]][r[r.length-1]],r.push(w);break;case 3:return!0}}return!0}},$={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);return this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1),e=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(20<e.length?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(20<e.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,n;if(this.options.backtrack_lexer&&(n={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(n.yylloc.range=this.yylloc.range.slice(0))),(r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t)return t;if(this._backtrack){for(var o in n)this[o]=n[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),i=0;i<o.length;i++)if((r=this._input.match(this.rules[o[i]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=i,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,o[i])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,o[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL).rules},topState:function(e){return 0<=(e=this.conditionStack.length-1-Math.abs(e||0))?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,r,n){switch(r){case 0:return this.begin("modexp"),11;case 1:return 21;case 2:return this.begin("modexp"),11;case 3:return 12;case 4:return 13;case 5:return this.popState(),14;case 6:return 63;case 7:return 64;case 8:return 65;case 9:return 66;case 10:return 67;case 11:return 68;case 12:return 69;case 13:return 54;case 14:return 48;case 15:return 49;case 16:return 50;case 17:return 55;case 18:return 51;case 19:return 52;case 20:return 53;case 21:return 57;case 22:return 56;case 23:return 75;case 24:return 70;case 25:return 71;case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:return 73;case 35:return 72;case 36:case 37:return 73;case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:return 72;case 48:return 74;case 49:return 20;case 50:return 47;case 51:return 21;case 52:return 81;case 53:return 60;case 54:return 15;case 55:return this.begin("radical"),17;case 56:return this.popState(),18;case 57:return 18;case 58:return 78;case 59:return 80;case 60:return 79;case 61:case 62:return 59;case 63:return t.yytext=this.matches[1],76;case 64:return 23;case 65:return 24;case 66:return 25;case 67:return t.yytext=this.matches[1],62;case 68:return 61;case 69:return 77;case 70:return 82;case 71:return 46;case 72:return 47;case 73:return 58;case 74:return 5;case 75:return 84}},rules:[/^(?:"(?=[^>\]]+%))/,/^(?:")/,/^(?:"(?=[^>\]]+\]|[^>\]]+%))/,/^(?:%)/,/^(?:<)/,/^(?:\])/,/^(?:[+])/,/^(?:[-])/,/^(?:[*])/,/^(?:[@][*])/,/^(?:[@][\#])/,/^(?:[_][/])/,/^(?:[.][/])/,/^(?:[.][.][(])/,/^(?:[@][(])/,/^(?:[.][(])/,/^(?:[(])/,/^(?:[.][.][)])/,/^(?:[@][)])/,/^(?:[.][)])/,/^(?:[)])/,/^(?:[\\][\\])/,/^(?:[\\])/,/^(?:[_][3])/,/^(?:[@][0])/,/^(?:[ ][$]O[ ])/,/^(?:[ ][\^;]+[.]K[ ])/,/^(?:[\^;]+[=])/,/^(?:[ ][\^;]+[/][.]K[ ])/,/^(?:[ ][\^;]+[@][:][@][:][ ])/,/^(?:[ ][\^;]+["]K[:][ ])/,/^(?:[ ][\^;]+[.]1[:][ ])/,/^(?:[ ][\^;]+["]K[ ])/,/^(?:[ ][\^;]+[.]1[ ])/,/^(?:[ ][\^;]+[/][$][L][ ])/,/^(?:[ ][.]K[ ])/,/^(?:[ ][\^;]+[/]?[$][L][ ])/,/^(?:[ ][\^;]+[$]P[ ])/,/^(?:[=])/,/^(?:[ ][/][.]K[ ])/,/^(?:[ ][@][:][@][:][ ])/,/^(?:[ ]["]K[:][ ])/,/^(?:[ ][.]1[:][ ])/,/^(?:[ ]["]K[ ])/,/^(?:[ ][.]1[ ])/,/^(?:[@][:])/,/^(?:[ ][/]?[$][L][ ])/,/^(?:[ ][$]P[ ])/,/^(?:[ ]['][']['][ ])/,/^(?:[\^;]+)/,/^(?:[.]["])/,/^(?:["])/,/^(?:[']+)/,/^(?:[.][,]?[ABGDEZ\?\:IKLMNXOPRSTUYF\&W])/,/^(?:[.]*[<])/,/^(?:[.]*[>])/,/^(?:[.]*\])/,/^(?:[.]*\])/,/^(?:!)/,/^(?:[_]&)/,/^(?:&)/,/^(?:(ARC)?(SIN|COS|TAN|CSC|SEC|COT)(H)?)/,/^(?:(ARG|DET|EXP|IM|INF|LIM|LN|LOG|MAX|MIN|MOD|RE|SUP))/,/^(?:#?(\d*\.?\d+))/,/^(?:[,]*[?])/,/^(?:[,]*[/])/,/^(?:[,]*#)/,/^(?:[,]([A-Z]))/,/^(?:[A-Z])/,/^(?:[,][=])/,/^(?:[_][8])/,/^(?:[,][ ]?)/,/^(?:[.])/,/^(?:[ ])/,/^(?:$)/,/^(?:.)/],conditions:{radical:{rules:[0,1,2,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75],inclusive:!0},modexp:{rules:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75],inclusive:!0},INITIAL:{rules:[2,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75],inclusive:!0}}},o.lexer=$,new((Z.prototype=o).Parser=Z));function Z(){this.yy={}}t.parser=J,t.Parser=J.Parser,t.parse=function(){return J.parse.apply(J,arguments)},t.main=function(n){return n[1]||(console.log("Usage: "+n[0]+" FILE"),e.exit(1)),n=r(4).readFileSync(r(5).normalize(n[1]),"utf8"),t.parser.parse(n)},void 0!==n&&r.c[r.s]===n&&t.main(e.argv.slice(1))}).call(t,r(1),r(8)(e))},function(e,t,r){(function(e,n){var o,i,a,s,c,l,u,d,p,h,f,g,m,y,v,b,x,w,E,S,k,_,I,M,L,T,C,A,O,P,D,F,N,q,R,B,j,V,U,G,z,H,W,K,$,Y,X,Q,J,Z,ee,te,re,ne,oe,ie=(Z=[5,10,13,14,15,18,19,29,52,53,54],ee=[5,10,13,14,15,17,18,19,21,23,24,28,29,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88],te=[1,85],re=[1,86],ne=[1,87],oe=[10,13,15,17,21,23,24,28,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88],o={trace:function(){},yy:{},symbols_:{error:2,sentence:3,group:4,EOF:5,expression_group:6,delimited_expression:7,level:8,radical:9,LEVEL:10,basic_token:11,bracketed_expression:12,RADICAL_WITH_INDEX:13,CLOSE_RADICAL:14,RADICAL:15,frac:16,OPEN_FRAC:17,OVER:18,CLOSE_FRAC:19,simple_frac:20,NUMBER:21,NUMBER_FRAC_DENOMINATOR:22,NUMBER_FRAC_NUMERATOR_BAD:23,NUMBER_FRAC_DENOMINATOR_BAD:24,atom:25,lbracket:26,rbracket:27,OPEN_GROUP:28,CLOSE_GROUP:29,command:30,greek:31,letter:32,comma:33,period:34,colon:35,infinity:36,integral:37,factorial:38,ampersand:39,question_mark:40,bracket:41,space:42,operation:43,comparison:44,ellipsis:45,primes:46,",":47,".":48,"[":49,"{":50,"(":51,"]":52,"}":53,")":54,SPACE:55,COMMAND:56,GREEK:57,CAPITAL_LETTER:58,LETTER:59,PIPE:60,DOUBLE_PIPE:61,"+":62,"-":63,CDOT:64,TIMES:65,"*":66,DIV:67,SLASH:68,PERCENT:69,TO:70,"=":71,NEQ:72,"<":73,">":74,LEQ:75,APPROX:76,GEQ:77,TILDE:78,PARALLEL:79,PERPENDICULAR:80,ELLIPSIS:81,COLON:82,INFINITY:83,INTEGRAL:84,FACTORIAL:85,"&":86,PRIMES:87,"?":88,unknown:89,UNKNOWN:90,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",10:"LEVEL",13:"RADICAL_WITH_INDEX",14:"CLOSE_RADICAL",15:"RADICAL",17:"OPEN_FRAC",18:"OVER",19:"CLOSE_FRAC",21:"NUMBER",22:"NUMBER_FRAC_DENOMINATOR",23:"NUMBER_FRAC_NUMERATOR_BAD",24:"NUMBER_FRAC_DENOMINATOR_BAD",28:"OPEN_GROUP",29:"CLOSE_GROUP",47:",",48:".",49:"[",50:"{",51:"(",52:"]",53:"}",54:")",55:"SPACE",56:"COMMAND",57:"GREEK",58:"CAPITAL_LETTER",59:"LETTER",60:"PIPE",61:"DOUBLE_PIPE",62:"+",63:"-",64:"CDOT",65:"TIMES",66:"*",67:"DIV",68:"SLASH",69:"PERCENT",70:"TO",71:"=",72:"NEQ",73:"<",74:">",75:"LEQ",76:"APPROX",77:"GEQ",78:"TILDE",79:"PARALLEL",80:"PERPENDICULAR",81:"ELLIPSIS",82:"COLON",83:"INFINITY",84:"INTEGRAL",85:"FACTORIAL",86:"&",87:"PRIMES",88:"?",90:"UNKNOWN"},productions_:[0,[3,2],[3,1],[4,3],[4,2],[4,1],[4,2],[4,1],[7,1],[7,1],[8,2],[8,2],[8,2],[9,4],[9,3],[9,3],[9,2],[9,4],[9,3],[9,2],[16,5],[16,4],[16,4],[16,3],[16,2],[20,2],[20,1],[20,1],[11,1],[11,1],[11,1],[6,2],[6,2],[6,1],[6,1],[12,3],[12,2],[12,3],[12,2],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[33,1],[34,1],[26,1],[26,1],[26,1],[27,1],[27,1],[27,1],[42,1],[30,1],[31,1],[32,1],[32,1],[41,1],[41,1],[43,1],[43,1],[43,1],[43,1],[43,1],[43,1],[43,1],[43,1],[43,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[45,1],[35,1],[36,1],[37,1],[38,1],[39,1],[46,1],[40,1],[89,1]],performAction:function(e,t,r,n,o,i,a){var s=i.length-1;switch(o){case 1:return i[s-1];case 2:return n.group();case 3:case 35:this.$=n.group(i[s-2],i[s-1],i[s]);break;case 4:case 6:case 31:case 32:case 36:this.$=n.group(i[s-1],i[s]);break;case 5:case 7:case 33:case 34:this.$=n.group(i[s]);break;case 10:case 11:case 12:this.$=n.basic_level(i[s-1],n.group(i[s]));break;case 13:case 17:this.$=n.radical(i[s-1],n.group(i[s-2]));break;case 14:case 15:this.$=n.radical(n.group(),n.group(i[s-1]));break;case 16:this.$=n.radical(n.group(),n.group());break;case 18:this.$=n.radical(i[s-1]);break;case 19:this.$=n.radical(n.group());break;case 20:this.$=n.fraction(i[s-3],i[s-1]);break;case 21:this.$=n.fraction(i[s-2],n.group());break;case 22:this.$=n.fraction(n.group(),i[s-1]);break;case 23:case 24:this.$=n.fraction(n.group(),n.group());break;case 25:this.$=n.fraction(n.group(n.terminal(n.to_number(i[s-1]))),n.group(n.terminal(n.to_number(i[s]))));break;case 26:this.$=n.fraction(n.group(n.terminal(n.to_number(i[s]))),n.group());break;case 27:this.$=n.fraction(n.group(),n.group(n.terminal(n.to_number(i[$01]))));break;case 37:this.$=n.group(i[s-1]);break;case 38:this.$=n.group();break;case 39:this.$=n.terminal(n.to_number(i[s]));break;case 57:this.$=n.terminal(",");break;case 58:this.$=n.terminal(".");break;case 59:this.$=n.terminal("[");break;case 60:this.$=n.terminal("\\{");break;case 61:this.$=n.terminal("(");break;case 62:this.$=n.terminal("]");break;case 63:this.$=n.terminal("\\}");break;case 64:this.$=n.terminal(")");break;case 65:this.$=n.terminal(" ");break;case 66:this.$=n.command("\\"+i[s].trim().toLowerCase());break;case 67:this.$=n.terminal(n.greek(i[s]));break;case 68:this.$=n.terminal(i[s].toUpperCase());break;case 69:this.$=n.terminal(i[s].toLowerCase());break;case 70:this.$=n.terminal("|");break;case 71:this.$=n.terminal("\\|");break;case 72:this.$=n.terminal("+");break;case 73:this.$=n.terminal("-");break;case 74:this.$=n.terminal("\\cdot ");break;case 75:this.$=n.terminal("\\times ");break;case 76:this.$=n.terminal("*");break;case 77:this.$=n.terminal("\\div ");break;case 78:this.$=n.terminal("/");break;case 79:this.$=n.terminal("\\%");break;case 80:this.$=n.terminal("\\to ");break;case 81:this.$=n.terminal("=");break;case 82:this.$=n.terminal("\\neq ");break;case 83:this.$=n.terminal("<");break;case 84:this.$=n.terminal(">");break;case 85:this.$=n.terminal("\\leq ");break;case 86:this.$=n.terminal("\\approx ");break;case 87:this.$=n.terminal("\\geq ");break;case 88:this.$=n.terminal("\\sim ");break;case 89:this.$=n.terminal("\\parallel ");break;case 90:this.$=n.terminal("\\perp ");break;case 91:this.$=n.terminal("\\ldots ");break;case 92:this.$=n.terminal(":");break;case 93:this.$=n.terminal("\\infty ");break;case 94:this.$=n.terminal("\\int ");break;case 95:this.$=n.terminal("!");break;case 96:this.$=n.terminal("\\&");break;case 97:this.$=n.primes(i[s]);break;case 98:this.$=n.terminal("?")}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:8,9:9,10:i=[1,15],11:6,12:7,13:a=[1,16],15:s=[1,17],16:11,17:c=[1,36],20:12,21:l=[1,18],23:u=[1,37],24:d=[1,38],25:10,26:13,28:p=[1,14],30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:h=[1,46],48:f=[1,47],49:g=[1,39],50:m=[1,40],51:y=[1,41],55:v=[1,56],56:b=[1,42],57:x=[1,43],58:w=[1,44],59:E=[1,45],60:S=[1,54],61:k=[1,55],62:_=[1,57],63:I=[1,58],64:M=[1,59],65:L=[1,60],66:T=[1,61],67:C=[1,62],68:A=[1,63],69:O=[1,64],70:P=[1,65],71:D=[1,66],72:F=[1,67],73:N=[1,68],74:q=[1,69],75:R=[1,70],76:B=[1,71],77:j=[1,72],78:V=[1,73],79:U=[1,74],80:G=[1,75],81:z=[1,76],82:H=[1,48],83:W=[1,49],84:K=[1,50],85:$=[1,51],86:Y=[1,52],87:X=[1,77],88:Q=[1,53]},{1:[3]},{5:[1,78]},{1:[2,2]},(o=function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r})(J=[5,14,18,19,29,52,53,54],[2,5],{8:8,9:9,7:79,10:i,13:a,15:s}),o(J,[2,7],{6:4,7:5,11:6,12:7,8:8,9:9,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,4:80,10:i,13:a,15:s,17:c,21:l,23:u,24:d,28:p,47:h,48:f,49:g,50:m,51:y,55:v,56:b,57:x,58:w,59:E,60:S,61:k,62:_,63:I,64:M,65:L,66:T,67:C,68:A,69:O,70:P,71:D,72:F,73:N,74:q,75:R,76:B,77:j,78:V,79:U,80:G,81:z,82:H,83:W,84:K,85:$,86:Y,87:X,88:Q}),o(Z,[2,33],{11:6,12:7,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,6:81,17:c,21:l,23:u,24:d,28:p,47:h,48:f,49:g,50:m,51:y,55:v,56:b,57:x,58:w,59:E,60:S,61:k,62:_,63:I,64:M,65:L,66:T,67:C,68:A,69:O,70:P,71:D,72:F,73:N,74:q,75:R,76:B,77:j,78:V,79:U,80:G,81:z,82:H,83:W,84:K,85:$,86:Y,87:X,88:Q}),o(Z,[2,34],{11:6,12:7,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,6:82,17:c,21:l,23:u,24:d,28:p,47:h,48:f,49:g,50:m,51:y,55:v,56:b,57:x,58:w,59:E,60:S,61:k,62:_,63:I,64:M,65:L,66:T,67:C,68:A,69:O,70:P,71:D,72:F,73:N,74:q,75:R,76:B,77:j,78:V,79:U,80:G,81:z,82:H,83:W,84:K,85:$,86:Y,87:X,88:Q}),o(ee,[2,8]),o(ee,[2,9]),o(ee,[2,28]),o(ee,[2,29]),o(ee,[2,30]),{4:83,6:4,7:5,8:8,9:9,10:i,11:6,12:7,13:a,15:s,16:11,17:c,20:12,21:l,23:u,24:d,25:10,26:13,27:84,28:p,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:h,48:f,49:g,50:m,51:y,52:te,53:re,54:ne,55:v,56:b,57:x,58:w,59:E,60:S,61:k,62:_,63:I,64:M,65:L,66:T,67:C,68:A,69:O,70:P,71:D,72:F,73:N,74:q,75:R,76:B,77:j,78:V,79:U,80:G,81:z,82:H,83:W,84:K,85:$,86:Y,87:X,88:Q},{4:88,6:4,7:5,8:8,9:9,10:i,11:6,12:7,13:a,15:s,16:11,17:c,20:12,21:l,23:u,24:d,25:10,26:13,28:p,29:[1,89],30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:h,48:f,49:g,50:m,51:y,55:v,56:b,57:x,58:w,59:E,60:S,61:k,62:_,63:I,64:M,65:L,66:T,67:C,68:A,69:O,70:P,71:D,72:F,73:N,74:q,75:R,76:B,77:j,78:V,79:U,80:G,81:z,82:H,83:W,84:K,85:$,86:Y,87:X,88:Q},{9:92,11:90,12:91,13:a,15:s,16:11,17:c,20:12,21:l,23:u,24:d,25:10,26:13,28:p,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:h,48:f,49:g,50:m,51:y,55:v,56:b,57:x,58:w,59:E,60:S,61:k,62:_,63:I,64:M,65:L,66:T,67:C,68:A,69:O,70:P,71:D,72:F,73:N,74:q,75:R,76:B,77:j,78:V,79:U,80:G,81:z,82:H,83:W,84:K,85:$,86:Y,87:X,88:Q},{11:93,12:94,14:[1,95],16:11,17:c,20:12,21:l,23:u,24:d,25:10,26:13,28:p,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:h,48:f,49:g,50:m,51:y,55:v,56:b,57:x,58:w,59:E,60:S,61:k,62:_,63:I,64:M,65:L,66:T,67:C,68:A,69:O,70:P,71:D,72:F,73:N,74:q,75:R,76:B,77:j,78:V,79:U,80:G,81:z,82:H,83:W,84:K,85:$,86:Y,87:X,88:Q},{4:96,6:4,7:5,8:8,9:9,10:i,11:6,12:7,13:a,14:[1,97],15:s,16:11,17:c,20:12,21:l,23:u,24:d,25:10,26:13,28:p,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:h,48:f,49:g,50:m,51:y,55:v,56:b,57:x,58:w,59:E,60:S,61:k,62:_,63:I,64:M,65:L,66:T,67:C,68:A,69:O,70:P,71:D,72:F,73:N,74:q,75:R,76:B,77:j,78:V,79:U,80:G,81:z,82:H,83:W,84:K,85:$,86:Y,87:X,88:Q},o(ee,[2,39],{22:[1,98]}),o(ee,[2,40]),o(ee,[2,41]),o(ee,[2,42]),o(ee,[2,43]),o(ee,[2,44]),o(ee,[2,45]),o(ee,[2,46]),o(ee,[2,47]),o(ee,[2,48]),o(ee,[2,49]),o(ee,[2,50]),o(ee,[2,51]),o(ee,[2,52]),o(ee,[2,53]),o(ee,[2,54]),o(ee,[2,55]),o(ee,[2,56]),{4:99,6:4,7:5,8:8,9:9,10:i,11:6,12:7,13:a,15:s,16:11,17:c,18:[1,100],19:[1,101],20:12,21:l,23:u,24:d,25:10,26:13,28:p,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:h,48:f,49:g,50:m,51:y,55:v,56:b,57:x,58:w,59:E,60:S,61:k,62:_,63:I,64:M,65:L,66:T,67:C,68:A,69:O,70:P,71:D,72:F,73:N,74:q,75:R,76:B,77:j,78:V,79:U,80:G,81:z,82:H,83:W,84:K,85:$,86:Y,87:X,88:Q},o(ee,[2,26]),o(ee,[2,27]),o(oe,[2,59]),o(oe,[2,60]),o(oe,[2,61]),o(ee,[2,66]),o(ee,[2,67]),o(ee,[2,68]),o(ee,[2,69]),o(ee,[2,57]),o(ee,[2,58]),o(ee,[2,92]),o(ee,[2,93]),o(ee,[2,94]),o(ee,[2,95]),o(ee,[2,96]),o(ee,[2,98]),o(ee,[2,70]),o(ee,[2,71]),o(ee,[2,65]),o(ee,[2,72]),o(ee,[2,73]),o(ee,[2,74]),o(ee,[2,75]),o(ee,[2,76]),o(ee,[2,77]),o(ee,[2,78]),o(ee,[2,79]),o(ee,[2,80]),o(ee,[2,81]),o(ee,[2,82]),o(ee,[2,83]),o(ee,[2,84]),o(ee,[2,85]),o(ee,[2,86]),o(ee,[2,87]),o(ee,[2,88]),o(ee,[2,89]),o(ee,[2,90]),o(ee,[2,91]),o(ee,[2,97]),{1:[2,1]},o(J,[2,4],{6:4,7:5,11:6,12:7,8:8,9:9,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,4:102,10:i,13:a,15:s,17:c,21:l,23:u,24:d,28:p,47:h,48:f,49:g,50:m,51:y,55:v,56:b,57:x,58:w,59:E,60:S,61:k,62:_,63:I,64:M,65:L,66:T,67:C,68:A,69:O,70:P,71:D,72:F,73:N,74:q,75:R,76:B,77:j,78:V,79:U,80:G,81:z,82:H,83:W,84:K,85:$,86:Y,87:X,88:Q}),o(J,[2,6]),o(Z,[2,31]),o(Z,[2,32]),{27:103,52:te,53:re,54:ne},o(ee,[2,36]),o(ee,[2,62]),o(ee,[2,63]),o(ee,[2,64]),{29:[1,104]},o(ee,[2,38]),o(ee,[2,10]),o(ee,[2,11]),o(ee,[2,12]),{4:105,6:4,7:5,8:8,9:9,10:i,11:6,12:7,13:a,14:[1,106],15:s,16:11,17:c,20:12,21:l,23:u,24:d,25:10,26:13,28:p,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:h,48:f,49:g,50:m,51:y,55:v,56:b,57:x,58:w,59:E,60:S,61:k,62:_,63:I,64:M,65:L,66:T,67:C,68:A,69:O,70:P,71:D,72:F,73:N,74:q,75:R,76:B,77:j,78:V,79:U,80:G,81:z,82:H,83:W,84:K,85:$,86:Y,87:X,88:Q},{4:108,6:4,7:5,8:8,9:9,10:i,11:6,12:7,13:a,14:[1,107],15:s,16:11,17:c,20:12,21:l,23:u,24:d,25:10,26:13,28:p,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:h,48:f,49:g,50:m,51:y,55:v,56:b,57:x,58:w,59:E,60:S,61:k,62:_,63:I,64:M,65:L,66:T,67:C,68:A,69:O,70:P,71:D,72:F,73:N,74:q,75:R,76:B,77:j,78:V,79:U,80:G,81:z,82:H,83:W,84:K,85:$,86:Y,87:X,88:Q},o(ee,[2,16]),{14:[1,109]},o(ee,[2,19]),o(ee,[2,25]),{18:[1,110]},{4:111,6:4,7:5,8:8,9:9,10:i,11:6,12:7,13:a,15:s,16:11,17:c,19:[1,112],20:12,21:l,23:u,24:d,25:10,26:13,28:p,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:h,48:f,49:g,50:m,51:y,55:v,56:b,57:x,58:w,59:E,60:S,61:k,62:_,63:I,64:M,65:L,66:T,67:C,68:A,69:O,70:P,71:D,72:F,73:N,74:q,75:R,76:B,77:j,78:V,79:U,80:G,81:z,82:H,83:W,84:K,85:$,86:Y,87:X,88:Q},o(ee,[2,24]),o(J,[2,3]),o(ee,[2,35]),o(ee,[2,37]),{14:[1,113]},o(ee,[2,15]),o(ee,[2,14]),{14:[1,114]},o(ee,[2,18]),{4:115,6:4,7:5,8:8,9:9,10:i,11:6,12:7,13:a,15:s,16:11,17:c,19:[1,116],20:12,21:l,23:u,24:d,25:10,26:13,28:p,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:h,48:f,49:g,50:m,51:y,55:v,56:b,57:x,58:w,59:E,60:S,61:k,62:_,63:I,64:M,65:L,66:T,67:C,68:A,69:O,70:P,71:D,72:F,73:N,74:q,75:R,76:B,77:j,78:V,79:U,80:G,81:z,82:H,83:W,84:K,85:$,86:Y,87:X,88:Q},{19:[1,117]},o(ee,[2,23]),o(ee,[2,13]),o(ee,[2,17]),{19:[1,118]},o(ee,[2,21]),o(ee,[2,22]),o(ee,[2,20])],defaultActions:{3:[2,2],78:[2,1]},parseError:function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)},parse:function(e){var t,r=[0],n=[null],o=[],i=this.table,a="",s=0,c=0,l=0,u=o.slice.call(arguments,1),d=Object.create(this.lexer),p={yy:{}};for(t in this.yy)Object.prototype.hasOwnProperty.call(this.yy,t)&&(p.yy[t]=this.yy[t]);d.setInput(e,p.yy),p.yy.lexer=d,p.yy.parser=this,void 0===d.yylloc&&(d.yylloc={});var h=d.yylloc;o.push(h);var f=d.options&&d.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var g,m,y,v,b,x,w,E,S={};;){if(y=r[r.length-1],void 0===(v=this.defaultActions[y]||(null==g&&(E=void 0,"number"!=typeof(E=d.lex()||1)&&(E=this.symbols_[E]||E),g=E),i[y]&&i[y][g]))||!v.length||!v[0]){var k,_=[];for(x in i[y])this.terminals_[x]&&2<x&&_.push("'"+this.terminals_[x]+"'");k=d.showPosition?"Parse error on line "+(s+1)+":\n"+d.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==g?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(k,{text:d.match,token:this.terminals_[g]||g,line:d.yylineno,loc:h,expected:_})}if(v[0]instanceof Array&&1<v.length)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+g);switch(v[0]){case 1:r.push(g),n.push(d.yytext),o.push(d.yylloc),r.push(v[1]),g=null,m?(g=m,m=null):(c=d.yyleng,a=d.yytext,s=d.yylineno,h=d.yylloc,0<l&&l--);break;case 2:if(w=this.productions_[v[1]][1],S.$=n[n.length-w],S._$={first_line:o[o.length-(w||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(w||1)].first_column,last_column:o[o.length-1].last_column},f&&(S._$.range=[o[o.length-(w||1)].range[0],o[o.length-1].range[1]]),void 0!==(b=this.performAction.apply(S,[a,c,s,p.yy,v[1],n,o].concat(u))))return b;w&&(r=r.slice(0,-1*w*2),n=n.slice(0,-1*w),o=o.slice(0,-1*w)),r.push(this.productions_[v[1]][0]),n.push(S.$),o.push(S._$),w=i[r[r.length-2]][r[r.length-1]],r.push(w);break;case 3:return!0}}return!0}},ee={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);return this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1),e=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(20<e.length?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(20<e.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,n;if(this.options.backtrack_lexer&&(n={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(n.yylloc.range=this.yylloc.range.slice(0))),(r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t)return t;if(this._backtrack){for(var o in n)this[o]=n[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),i=0;i<o.length;i++)if((r=this._input.match(this.rules[o[i]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=i,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,o[i])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,o[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL).rules},topState:function(e){return 0<=(e=this.conditionStack.length-1-Math.abs(e||0))?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,r,n){switch(r){case 0:return void this.begin("captext");case 1:return 58;case 2:return this.popState(),58;case 3:return 62;case 4:return 63;case 5:return 64;case 6:return 65;case 7:return 66;case 8:return 67;case 9:return 49;case 10:return 50;case 11:return 51;case 12:return 52;case 13:return 53;case 14:return 54;case 15:return 72;case 16:return 75;case 17:return 76;case 18:return 77;case 19:return 71;case 20:return 73;case 21:return 74;case 22:return 78;case 23:return 69;case 24:return 70;case 25:return 81;case 26:return 13;case 27:return 15;case 28:return 14;case 29:return 10;case 30:return 28;case 31:return 29;case 32:return 84;case 33:return 85;case 34:return 86;case 35:return 17;case 36:return 18;case 37:return 19;case 38:return 79;case 39:return 80;case 40:return 83;case 41:return t.yytext=this.matches[1],21;case 42:return t.yytext=this.matches[1],22;case 43:return t.yytext=this.matches[1],24;case 44:return 68;case 45:return 47;case 46:return 48;case 47:return 87;case 48:return 61;case 49:return 60;case 50:return 82;case 51:case 52:return 56;case 53:return 57;case 54:return t.yytext=this.matches[1],58;case 55:return 59;case 56:return;case 57:return 88;case 58:return;case 59:return 55;case 60:return 5;case 61:return 90}},rules:[/^(?:([,][,])(?=[A-Z]))/,/^(?:[A-Z](?=[A-Z]))/,/^(?:[A-Z])/,/^(?:["][6])/,/^(?:["][-])/,/^(?:["][4])/,/^(?:["][8])/,/^(?:["][9])/,/^(?:["][/])/,/^(?:[.][<])/,/^(?:[_][<])/,/^(?:["][<])/,/^(?:[.][>])/,/^(?:[_][>])/,/^(?:["][>])/,/^(?:["][7][@][:])/,/^(?:[_][@][<])/,/^(?:[\^][9])/,/^(?:[_][@][>])/,/^(?:["][7])/,/^(?:[@][<])/,/^(?:[@][>])/,/^(?:[@][9])/,/^(?:[.][0])/,/^(?:[:][O])/,/^(?:[4][4][4])/,/^(?:[%][9])/,/^(?:[%])/,/^(?:[\+])/,/^(?:[95]+(?=.))/,/^(?:[<])/,/^(?:[>])/,/^(?:!)/,/^(?:[6])/,/^(?:[@]&)/,/^(?:[(])/,/^(?:[.][/])/,/^(?:[)])/,/^(?:#[L])/,/^(?:#-)/,/^(?:#=)/,/^(?:#([A-J4]+))/,/^(?:[/]([A-J4]+))/,/^(?:[#][/]([A-J4]+))/,/^(?:[_]?[/])/,/^(?:[1])/,/^(?:[4])/,/^(?:[7]+)/,/^(?:[_][\\][_][\\])/,/^(?:[_][\\])/,/^(?:[3])/,/^(?:(ARC)?(SIN|COS|TAN|CSC|SEC|COT)(H)?)/,/^(?:(ARG|DET|EXP|IM|INF|LIM|LN|LOG|MAX|MIN|MOD|RE|SUP))/,/^(?:[,]?[.][ABGDEZ\?\:IKLMNXOPRSTUYF\&W])/,/^(?:[,]([A-Z]))/,/^(?:[A-Z])/,/^(?:[,]['])/,/^(?:[8])/,/^(?:[;])/,/^(?:[ ])/,/^(?:$)/,/^(?:.)/],conditions:{captext:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61],inclusive:!0},INITIAL:{rules:[0,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61],inclusive:!0}}},o.lexer=ee,new((ae.prototype=o).Parser=ae));function ae(){this.yy={}}t.parser=ie,t.Parser=ie.Parser,t.parse=function(){return ie.parse.apply(ie,arguments)},t.main=function(n){return n[1]||(console.log("Usage: "+n[0]+" FILE"),e.exit(1)),n=r(4).readFileSync(r(5).normalize(n[1]),"utf8"),t.parser.parse(n)},void 0!==n&&r.c[r.s]===n&&t.main(e.argv.slice(1))}).call(t,r(1),r(8)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(7),i={"~":"\\ ","\\,":"\\ ","\\:":"\\ ","\\;":"\\ ","\\!":"\\ "},a={"\\Vert":"\\|","\\ge":"\\geq","\\le":"\\leq","\\vert":"|"},s={"\\space":!0};t.default=function e(t){for(var r=[],c=0;c<t.length;c++){var l=t[c];switch(l.type){case"command":var u=l.value.slice(1).trim();a.hasOwnProperty(l.value)?r.push(o.command(a[l.value])):n.containsValue(u)?r.push(o.typeform("operator_name",function(e){for(var t=[],r=0,n=u;r<n.length;r++){var i=n[r];t.push(o.terminal(i))}return t}())):s[l.value]||r.push(l);break;case"level":((u={subscript:l.subscript&&0<l.subscript.length?e(l.subscript):void 0,superscript:l.superscript&&0<l.superscript.length?e(l.superscript):void 0,type:l.type}).subscript||u.superscript)&&r.push(u);break;case"fraction":r.push({denominator:e(l.denominator),numerator:e(l.numerator),type:l.type});break;case"radical":r.push({index:l.index?e(l.index):void 0,radicand:e(l.radicand),type:l.type});break;case"terminal":!function(e){for(var t=0,r=0;r<Math.min(3,e.length);r++){var n=e[r];"terminal"===n.type&&"."===n.value&&t++}return 3===t}(t.slice(c))?r.push({type:l.type,value:i.hasOwnProperty(l.value)?i[l.value]:l.value}):(r.push({type:"command",value:"\\ldots"}),c+=2);break;case"typeform":r.push(l);break;case"greek":r.push({type:l.type,value:i.hasOwnProperty(l.value)?i[l.value]:l.value});break;default:throw new Error("Unexpected item:\n"+JSON.stringify({group:t,item:l}))}}return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),o=r(13);r=r(7);o.parser.yy=r,t.default=function(e){try{return{isError:!1,value:o.parser.parse(e)}}catch(e){return{isError:!0,error:n.default(e)}}}},function(e,t,r){(function(e,n){var o,i,a,s,c,l,u,d,p,h,f,g,m,y,v,b,x,w,E,S,k,_,I=(S=[5,19,21,22,23,24,25,26,27,28,32,33,34,35,36,37,38],k=[5,10,12,13,14,19,21,22,23,24,25,26,27,28,32,33,34,35,36,37,38],_=[5,10,19,21,22,23,24,25,26,27,28,32,33,34,35,36,37,38],o={trace:function(){},yy:{},symbols_:{error:2,sentence:3,group:4,EOF:5,level:6,expression:7,subscript:8,superscript:9,_:10,atom:11,"^":12,"PRIMES^":13,PRIMES:14,delimited_group:15,typeform:16,frac:17,radical:18,LEFT:19,delimiter:20,RIGHT:21,FRAC:22,OPERATOR_NAME:23,MATHRM:24,TEXT:25,RADICAL_OPTARG:26,CLOSE_OPTARG:27,RADICAL:28,curly_group:29,greek:30,command:31,SYMBOL:32,DELIMITER:33,DELIMITER_COMMAND:34,GREEK:35,COMMAND:36,"{":37,"}":38,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",10:"_",12:"^",13:"PRIMES^",14:"PRIMES",19:"LEFT",21:"RIGHT",22:"FRAC",23:"OPERATOR_NAME",24:"MATHRM",25:"TEXT",26:"RADICAL_OPTARG",27:"CLOSE_OPTARG",28:"RADICAL",32:"SYMBOL",33:"DELIMITER",34:"DELIMITER_COMMAND",35:"GREEK",36:"COMMAND",37:"{",38:"}"},productions_:[0,[3,2],[3,1],[4,3],[4,2],[4,1],[4,2],[4,1],[6,2],[6,2],[6,1],[6,1],[8,2],[9,2],[9,2],[9,1],[7,1],[7,1],[7,1],[7,1],[7,1],[15,5],[15,4],[17,3],[16,2],[16,2],[16,2],[18,4],[18,3],[18,2],[18,2],[11,1],[11,1],[11,1],[11,1],[11,1],[20,1],[20,1],[30,1],[31,1],[29,3],[29,2]],performAction:function(e,t,r,n,o,i,a){var s=i.length-1;switch(o){case 1:return i[s-1];case 2:return n.group();case 3:this.$=n.group(i[s-2],i[s-1],i[s]);break;case 4:case 6:this.$=n.group(i[s-1],i[s]);break;case 5:case 7:this.$=n.group(i[s]);break;case 8:this.$=n.level({_:n.group(i[s-1]),"^":n.group(i[s])});break;case 9:this.$=n.level({_:n.group(i[s]),"^":n.group(i[s-1])});break;case 10:this.$=n.level({"^":n.group(i[s])});break;case 11:this.$=n.level({_:n.group(i[s])});break;case 12:case 13:this.$=i[s];break;case 14:this.$=n.processPrimes(i[s-1],i[s]);break;case 15:this.$=n.processPrimes(i[s],n.group());break;case 21:this.$=n.group(i[s-3],i[s-2],i[s]);break;case 22:this.$=n.group(i[s-2],i[s]);break;case 23:this.$=n.fraction(n.group(i[s-1]),n.group(i[s]));break;case 24:this.$=n.typeform("operator_name",n.group(i[s]));break;case 25:this.$=n.typeform("mathrm",n.group(i[s]));break;case 26:this.$=n.typeform("text",n.group(i[s]));break;case 27:this.$=n.radical(i[s],n.group(i[s-2]));break;case 28:this.$=n.radical(n.group(i[s]),n.group());break;case 29:case 30:this.$=n.radical(n.group(i[s]));break;case 35:case 36:this.$=n.terminal(i[s]);break;case 37:case 39:this.$=n.command(i[s]);break;case 38:this.$=n.greek(i[s]);break;case 40:this.$=i[s-1];break;case 41:this.$=n.group()}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:6,9:7,10:i=[1,13],11:12,12:a=[1,14],13:s=[1,15],14:c=[1,16],15:8,16:9,17:10,18:11,19:l=[1,17],20:25,22:u=[1,21],23:d=[1,18],24:p=[1,19],25:h=[1,20],26:f=[1,22],28:g=[1,23],29:24,30:26,31:27,32:m=[1,28],33:y=[1,30],34:v=[1,31],35:b=[1,32],36:x=[1,33],37:w=[1,29]},{1:[3]},{5:[1,34]},{1:[2,2]},(o=function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r})(E=[5,21,27,38],[2,5],{15:8,16:9,17:10,18:11,11:12,29:24,20:25,30:26,31:27,7:35,19:l,22:u,23:d,24:p,25:h,26:f,28:g,32:m,33:y,34:v,35:b,36:x,37:w}),o(E,[2,7],{6:4,7:5,8:6,9:7,15:8,16:9,17:10,18:11,11:12,29:24,20:25,30:26,31:27,4:36,10:i,12:a,13:s,14:c,19:l,22:u,23:d,24:p,25:h,26:f,28:g,32:m,33:y,34:v,35:b,36:x,37:w}),o(S,[2,11],{9:37,12:a,13:s,14:c}),o(S,[2,10],{8:38,10:i}),o(k,[2,16]),o(k,[2,17]),o(k,[2,18]),o(k,[2,19]),o(k,[2,20]),{11:39,20:25,29:24,30:26,31:27,32:m,33:y,34:v,35:b,36:x,37:w},{11:40,20:25,29:24,30:26,31:27,32:m,33:y,34:v,35:b,36:x,37:w},{11:41,20:25,29:24,30:26,31:27,32:m,33:y,34:v,35:b,36:x,37:w},o(_,[2,15]),{20:42,33:y,34:v},{11:43,20:25,29:24,30:26,31:27,32:m,33:y,34:v,35:b,36:x,37:w},{11:44,20:25,29:24,30:26,31:27,32:m,33:y,34:v,35:b,36:x,37:w},{11:45,20:25,29:24,30:26,31:27,32:m,33:y,34:v,35:b,36:x,37:w},{11:46,20:25,29:24,30:26,31:27,32:m,33:y,34:v,35:b,36:x,37:w},{4:47,6:4,7:5,8:6,9:7,10:i,11:12,12:a,13:s,14:c,15:8,16:9,17:10,18:11,19:l,20:25,22:u,23:d,24:p,25:h,26:f,27:[1,48],28:g,29:24,30:26,31:27,32:m,33:y,34:v,35:b,36:x,37:w},{11:49,17:50,20:25,22:u,29:24,30:26,31:27,32:m,33:y,34:v,35:b,36:x,37:w},o(k,[2,31]),o(k,[2,32]),o(k,[2,33]),o(k,[2,34]),o(k,[2,35]),{4:51,6:4,7:5,8:6,9:7,10:i,11:12,12:a,13:s,14:c,15:8,16:9,17:10,18:11,19:l,20:25,22:u,23:d,24:p,25:h,26:f,28:g,29:24,30:26,31:27,32:m,33:y,34:v,35:b,36:x,37:w,38:[1,52]},o(k,[2,36]),o(k,[2,37]),o(k,[2,38]),o(k,[2,39]),{1:[2,1]},o(E,[2,4],{6:4,7:5,8:6,9:7,15:8,16:9,17:10,18:11,11:12,29:24,20:25,30:26,31:27,4:53,10:i,12:a,13:s,14:c,19:l,22:u,23:d,24:p,25:h,26:f,28:g,32:m,33:y,34:v,35:b,36:x,37:w}),o(E,[2,6]),o(S,[2,8]),o(S,[2,9]),o([5,12,13,14,19,21,22,23,24,25,26,27,28,32,33,34,35,36,37,38],[2,12]),o(_,[2,13]),o(_,[2,14]),{4:54,6:4,7:5,8:6,9:7,10:i,11:12,12:a,13:s,14:c,15:8,16:9,17:10,18:11,19:l,20:25,21:[1,55],22:u,23:d,24:p,25:h,26:f,28:g,29:24,30:26,31:27,32:m,33:y,34:v,35:b,36:x,37:w},o(k,[2,24]),o(k,[2,25]),o(k,[2,26]),{11:56,20:25,29:24,30:26,31:27,32:m,33:y,34:v,35:b,36:x,37:w},{27:[1,57]},{11:58,20:25,29:24,30:26,31:27,32:m,33:y,34:v,35:b,36:x,37:w},o(k,[2,29]),o(k,[2,30]),{38:[1,59]},o(k,[2,41]),o(E,[2,3]),{21:[1,60]},{20:61,33:y,34:v},o(k,[2,23]),{11:62,20:25,29:24,30:26,31:27,32:m,33:y,34:v,35:b,36:x,37:w},o(k,[2,28]),o(k,[2,40]),{20:63,33:y,34:v},o(k,[2,22]),o(k,[2,27]),o(k,[2,21])],defaultActions:{3:[2,2],34:[2,1]},parseError:function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)},parse:function(e){var t,r=[0],n=[null],o=[],i=this.table,a="",s=0,c=0,l=0,u=o.slice.call(arguments,1),d=Object.create(this.lexer),p={yy:{}};for(t in this.yy)Object.prototype.hasOwnProperty.call(this.yy,t)&&(p.yy[t]=this.yy[t]);d.setInput(e,p.yy),p.yy.lexer=d,p.yy.parser=this,void 0===d.yylloc&&(d.yylloc={});var h=d.yylloc;o.push(h);var f=d.options&&d.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var g,m,y,v,b,x,w,E,S={};;){if(y=r[r.length-1],void 0===(v=this.defaultActions[y]||(null==g&&(E=void 0,"number"!=typeof(E=d.lex()||1)&&(E=this.symbols_[E]||E),g=E),i[y]&&i[y][g]))||!v.length||!v[0]){var k,_=[];for(x in i[y])this.terminals_[x]&&2<x&&_.push("'"+this.terminals_[x]+"'");k=d.showPosition?"Parse error on line "+(s+1)+":\n"+d.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==g?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(k,{text:d.match,token:this.terminals_[g]||g,line:d.yylineno,loc:h,expected:_})}if(v[0]instanceof Array&&1<v.length)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+g);switch(v[0]){case 1:r.push(g),n.push(d.yytext),o.push(d.yylloc),r.push(v[1]),g=null,m?(g=m,m=null):(c=d.yyleng,a=d.yytext,s=d.yylineno,h=d.yylloc,0<l&&l--);break;case 2:if(w=this.productions_[v[1]][1],S.$=n[n.length-w],S._$={first_line:o[o.length-(w||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(w||1)].first_column,last_column:o[o.length-1].last_column},f&&(S._$.range=[o[o.length-(w||1)].range[0],o[o.length-1].range[1]]),void 0!==(b=this.performAction.apply(S,[a,c,s,p.yy,v[1],n,o].concat(u))))return b;w&&(r=r.slice(0,-1*w*2),n=n.slice(0,-1*w),o=o.slice(0,-1*w)),r.push(this.productions_[v[1]][0]),n.push(S.$),o.push(S._$),w=i[r[r.length-2]][r[r.length-1]],r.push(w);break;case 3:return!0}}return!0}},k={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);return this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1),e=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(20<e.length?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(20<e.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,n;if(this.options.backtrack_lexer&&(n={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(n.yylloc.range=this.yylloc.range.slice(0))),(r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t)return t;if(this._backtrack){for(var o in n)this[o]=n[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),i=0;i<o.length;i++)if((r=this._input.match(this.rules[o[i]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=i,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,o[i])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,o[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL).rules},topState:function(e){return 0<=(e=this.conditionStack.length-1-Math.abs(e||0))?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,r,n){switch(r){case 0:break;case 1:return this.begin("optarg"),26;case 2:return this.popState(),27;case 3:return 23;case 4:return 24;case 5:return 25;case 6:return 28;case 7:return 22;case 8:return 13;case 9:return 14;case 10:return 12;case 11:return 10;case 12:return 19;case 13:return 21;case 14:return 34;case 15:return 33;case 16:return 37;case 17:return 38;case 18:case 19:case 20:return 32;case 21:case 22:return 35;case 23:return 36;case 24:return 32;case 25:return 5}},rules:[/^(?:\s+)/,/^(?:(\\sqrt)\s*\[)/,/^(?:\])/,/^(?:(\\operatorname))/,/^(?:(\\mathrm))/,/^(?:(\\text))/,/^(?:(\\sqrt))/,/^(?:(\\frac))/,/^(?:'+\^)/,/^(?:'+)/,/^(?:\^)/,/^(?:[_])/,/^(?:(\\left))/,/^(?:(\\right))/,/^(?:(\\langle|\\rangle|\\vert|\\Vert))/,/^(?:\[|\]|\\\{|\\\}|\(|\)|\||\\\|)/,/^(?:\{)/,/^(?:\})/,/^(?:\\(infty))/,/^(?:\\(int))/,/^(?:!)/,/^(?:\\(alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|omicron|pi|rho|sigma|tau|xi|upsilon|phi|chi|psi|omega))/,/^(?:\\(Alpha|Beta|Gamma|Delta|Epsilon|Zeta|Eta|Theta|Iota|Kappa|Lambda|Mu|Nu|Omicron|Pi|Rho|Sigma|Tau|Xi|Upsilon|Phi|Chi|Psi|Omega))/,/^(?:\\[A-Za-z]+)/,/^(?:\\.|.)/,/^(?:$)/],conditions:{optarg:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25],inclusive:!0},INITIAL:{rules:[0,1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25],inclusive:!0}}},o.lexer=k,new((M.prototype=o).Parser=M));function M(){this.yy={}}t.parser=I,t.Parser=I.Parser,t.parse=function(){return I.parse.apply(I,arguments)},t.main=function(n){return n[1]||(console.log("Usage: "+n[0]+" FILE"),e.exit(1)),n=r(4).readFileSync(r(5).normalize(n[1]),"utf8"),t.parser.parse(n)},void 0!==n&&r.c[r.s]===n&&t.main(e.argv.slice(1))}).call(t,r(1),r(8)(e))},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(11),i=r(12),a=r(0);t.default=function(e){return a.map(i.default(e),function(e){return function e(t,r){for(var n,o,i="",a=t.levelIndicator,s=0,l=!1,g=0;g<r.length;g++){!function(e,t){if(!(t>=e.length)){var r=e[t];if("terminal"===r.type){if(/^[0-9]$/.test(r.value))return 1;if("."!==r.value)return;if(t+1>=e.length)return;if("terminal"===(r=e[t+1]).type)return/^[0-9]$/.test(r.value)}}}(r,g)||(""===a&&/[A-Z]$/.test(i)?i+=a||'"':(o=i,((n=t).isStartOfLine&&/^-?$/.test(o)||/\s-?$/.test(o)||n.wasFraction)&&(i+="#")));var m,y=r[g],v=g<r.length-1?r[g+1]:null;switch("level"!==y.type&&a!==t.levelIndicator&&(a=f(y)?"":(t.wasModifiedExpression&&""===t.levelIndicator?t=h(t,{wasModifiedExpression:!1}):i+=p(t.levelIndicator),t.levelIndicator)),y.type){case"terminal":!t.wasModifiedExpression&&""!==a&&f(y)?i+=" "+(a||'"')+c(y).trim()+" ":i+=c(y),"."===y.value&&v&&("terminal"===v.type&&/^[^_\d,]/.test(c(v))||"greek"===v.type)&&(i+='"'),t=h(t,{wasFraction:!1,wasRomanCommand:!1});break;case"command":"\\space"!==y.value&&((m="\\sum"===(m=y).value||"\\prod"===m.value)&&(i+='"'),!m&&""!==a&&f(y)?i+=" "+(a||'"')+d(y).trim()+" ":i+=d(y),t=h(t,{wasFraction:!1,wasModifiedExpression:m,wasRomanCommand:!0}));break;case"greek":i+=(b=y,u.hasOwnProperty(b.value)?u[b.value]:b.value.slice(1).toUpperCase()+" "),t=h(t,{wasFraction:!1});break;case"fraction":var b=function(t,r){for(var n=e(t=h(t,{isStartOfLine:!1}),r.numerator),o=e(t,r.denominator),i=Math.max(n.fractionLevel,o.fractionLevel),a="",s=0;s<i;s++)a+=",";return r=a+"?"+n.value,n.levelIndicator!==t.levelIndicator&&(r+=p(t.levelIndicator)),/\.$/.test(n.value)&&(r+='"'),r+=a+"/"+o.value,o.levelIndicator!==t.levelIndicator&&(r+=p(t.levelIndicator)),/\.$/.test(o.value)&&(r+='"'),{fractionLevel:i+1,value:r+=a+"#"}}(t,y);i+=b.value,s=Math.max(s,b.fractionLevel),t=h(t,{wasFraction:!0,wasRomanCommand:!1});break;case"radical":var x=function(t,r){for(var n=t.radicalLevel,o="",i="",a=0;a<n;a++)i+=".";var s;return r.index?(o+=i+"<",s=e(h(t,{isStartOfLine:!1}),r.index),o+=s.value,/\.$/.test(s.value)&&(o+='"'),s.levelIndicator!==t.levelIndicator&&(o+=p(t.levelIndicator)),o+=">"):o+=i+">",r=e(h(t,{isStartOfLine:!1,radicalLevel:n+1}),r.radicand),o+=r.value,/\.$/.test(r.value)&&(o+='"'),r.levelIndicator!==t.levelIndicator&&(o+=p(t.levelIndicator)),o+=i+"]",{fractionLevel:r.fractionLevel,value:o}}(t,y);i+=x.value,s=Math.max(s,x.fractionLevel),t=h(t,{wasFraction:!1,wasRomanCommand:!1});break;case"level":!t.wasModifiedExpression&&t.wasRomanCommand?(l=/\s$/.test(i))&&(i=i.replace(/\s$/,"")):l=!1,x=function(t,r,n,o){var i,a=t.levelIndicator,s="",c=function(e){var t="";if(e)for(var r=0,n=e;r<n.length;r++){var o=n[r];if("command"!==o.type||"\\prime"!==o.value)break;t+="'"}return t}(o.superscript);return s+=c,o.subscript&&(t.wasModifiedExpression&&(s+="%"),i=e(h(t,{isStartOfLine:!1,levelIndicator:a=t.levelIndicator+";"}),o.subscript),r&&/^[0-9]*(\.|\,)?[0-9]+$/.test(i.value)&&a.length<=1?a=t.levelIndicator:!t.wasModifiedExpression&&o.subscript[0]&&"level"!==o.subscript[0].type&&(s+=a||'"'),s+=i.value,/\.$/.test(i.value)&&(s+='"')),o.superscript&&(t.wasModifiedExpression&&(s+="<"),c=e(h(t,{isStartOfLine:!1,levelIndicator:a=t.levelIndicator+"^"}),o.superscript.slice(c.length)),!t.wasModifiedExpression&&o.superscript[0]&&"level"!==o.superscript[0].type&&""!==c.value&&(s+=a||'"'),s+=c.value,/\.$/.test(c.value)&&(s+='"')),t.wasModifiedExpression?s+="]":t.wasRomanCommand&&n&&(s+=" ",a=a.slice(0,a.length-1)),{levelIndicator:a,value:s}}(t,0<i.length&&!0===/[A-Za-z]/.test(i[i.length-1]),l,y),i+=x.value,a=x.levelIndicator,t=h(t,{wasFraction:!1,wasRomanCommand:!1});break;case"typeform":i+=e(t,y.value).value,"operator_name"===y.name&&(i+=" "),t=h(t,{wasFraction:!1,wasModifiedExpression:!1,wasRomanCommand:!1})}}return{fractionLevel:s,levelIndicator:a,value:i}}({isStartOfLine:!0,levelIndicator:"",radicalLevel:0,wasFraction:!1,wasModifiedExpression:!1,wasRomanCommand:!1},o.default(e)).value})};var s={"!":"&","*":"@#",",":", ","/":"_/",":":"_3","<":' "K ',"=":" .K ",">":" .1 ","?":"_8","[":"@(","\\ ":" ","\\%":"@0","\\&":"_&","\\,":" ","\\infty":",=","\\int":"!","\\{":".(","\\|":"\\\\","\\}":".)","]":"@)","|":"\\"};function c(e){return/^[a-z]$/.test(e.value)?e.value.toUpperCase():/^[A-Z]$/.test(e.value)?","+e.value:/^[0-9.]$/.test(e.value)||/^[+\-()]$/.test(e.value)?e.value:s.hasOwnProperty(e.value)?s[e.value]:"[terminal: "+e.value+"]"}var l={"\\Vert":"\\\\","\\cdot":"*","\\div":"./","\\ge":" .1: ","\\geq":" .1: ","\\langle":"..(","\\ldots":" ''' ","\\le":' "K: ',"\\leq":' "K: ',"\\ne":" /.K ","\\neq":" /.K ","\\approx":" @:@: ","\\nparallel":" /$L ","\\parallel":" $L ","\\perp":" $P ","\\prime":"'","\\prod":".,P","\\rangle":"..)","\\sim":"@:","\\sum":".,S","\\times":"@*","\\to":" $O ","\\vert":"\\"},u={"\\Alpha":".,A","\\Beta":".,B","\\Chi":".,&","\\Delta":".,D","\\Epsilon":".,E","\\Eta":".,:","\\Gamma":".,G","\\Iota":".,I","\\Kappa":".,K","\\Lambda":".,L","\\Mu":".,M","\\Nu":".,N","\\Omega":".,W","\\Omicron":".,O","\\Phi":".,F","\\Pi":".,P","\\Psi":".,Y","\\Rho":".,R","\\Sigma":".,S","\\Tau":".,T","\\Theta":".,?","\\Upsilon":".,U","\\Xi":".,X","\\Zeta":".,Z","\\alpha":".A","\\beta":".B","\\chi":".&","\\delta":".D","\\epsilon":".E","\\eta":".:","\\gamma":".G","\\iota":".I","\\kappa":".K","\\lambda":".L","\\mu":".M","\\nu":".N","\\omega":".W","\\omicron":".O","\\phi":".F","\\pi":".P","\\psi":".Y","\\rho":".R","\\sigma":".S","\\tau":".T","\\theta":".?","\\upsilon":".U","\\xi":".X","\\zeta":".Z"};function d(e){return l.hasOwnProperty(e.value)?l[e.value]:e.value.slice(1).toUpperCase()+" "}function p(e){return e||'"'}function h(e,t){return n(n({},e),t)}function f(e){return("terminal"===e.type||"command"===e.type)&&/^<|>|\=|\\leq?|\\geq?|\\neq?$/.test(e.value)}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(7),i=r(11),a=r(12),s=r(0);t.default=function(e){return s.map(a.default(e),function(e){return function e(t,r){for(var n,i,a,s,m,y,v="",b=!0,x=0;x<r.length;x++){!function(e,t){if(t<e.length){var r=e[t];if("terminal"===r.type){if(/^\d$/.test(r.value))return 1;if("."!==r.value)return;if(t+1>=e.length)return;if("terminal"===(r=e[t+1]).type)return/^\d$/.test(r.value)}}}(r,x)?b=!0:(t=g(t,{wasNumber:!0}),b&&(v+="#",b=!1));var w=r[x];switch(w.type){case"terminal":a=t,s=w,m=x<r.length-1?r[x+1]:void 0,y=void 0,y="",s=s.value,m=m&&"terminal"===m.type?m.value:"",d(s,a)&&(y+=";"),/^[\D]/.test(s)&&(a=g(a,{wasNumber:!1})),/^[a-z]$/.test(s)?a.capsLock?(a=g(a,{capsLock:!1}),y+=",'"+s.toUpperCase()):y+=s.toUpperCase():/^[A-Z]$/.test(s)?a.capsLock?y+=s:/[A-Z]/.test(m)?(a=g(a,{capsLock:!0}),y+=",,"+s):y+=","+s:(a=g(a,{capsLock:!1}),/^[0-9.]$/.test(s)?y+=function(e){for(var t="",r="A".charCodeAt(0)-1,n=0,o=e;n<o.length;n++){var i=o[n];t+=","===i?"1":"."===i?"4":"0"===i?"J":String.fromCharCode(r+Number(i))}return t}(s):c.hasOwnProperty(s)?y+=c[s]:y+="[terminal: "+s+"]"),t=(a={value:y,ctx:a}).ctx," "===(v+=a.value)[v.length-1]&&(b=!0);break;case"command":"\\space"!==w.value&&(n=w,i=t,d(n=l.hasOwnProperty(n.value)?l[n.value]:n.value.slice(1).toUpperCase()+" ",i)&&(n=";"+n),/^[\D]/.test(n)&&(i=g(i,{wasNumber:!1})),t=(n={value:n,ctx:i}).ctx," "===(v+=n.value)[v.length-1]&&(b=!0));break;case"greek":" "===(v+=(E=w,u.hasOwnProperty(E.value)?u[E.value]:E.value.slice(1).toUpperCase()+" "))[v.length-1]&&(b=!0);break;case"fraction":var E=(i=void 0,i=e(n=t,(E=w).numerator),E=e(n,E.denominator),E=p(i.value)&&p(E.value)?(n=g(n,{wasNumber:!0}),i.value+"/"+E.value.slice(1)):(n=g(n,{wasNumber:!1}),"("+i.value+"./"+E.value+")"),{ctx:n,value:E});v+=E.value,t=E.ctx,b=!1;break;case"radical":v+=function(t,r){var n="%",i=e(t,r.radicand);return r.index&&(r=e(t,o.group(o.level({"^":r.index}))),n+=r.value,/\#[A-J]$/.test(r.value)&&/^[A-J]/.test(i.value)&&(n+=";")),{ctx:t,value:n+=i.value+"+"}}(t,w).value,b=!0;break;case"level":var S=function(t,r){var n,o,i="",a=function(e){var t="";if(e)for(var r=0,n=e;r<n.length;r++){var o=n[r];if("command"!==o.type||"\\prime"!==o.value)break;t+="7"}return t}(r.superscript);return i+=a,r.subscript&&(o=e(t,r.subscript),n=f(r.subscript,o.value,0)?"<"+h(o.value)+">":o.value,t=g(t,{wasNumber:o.ctx.wasNumber}),""!==n&&(i+="5"+n)),r.superscript&&(o=e(t,r.superscript.slice(a.length)),n=f(r.superscript,o.value,a.length)?"<"+h(o.value)+">":o.value,t=g(t,{wasNumber:o.ctx.wasNumber}),""!==a&&""===n||(i+="9"+n)),{ctx:t,value:i}}(t,w);v+=S.value,t=S.ctx,b=!0;break;case"typeform":S=e(t,w.value).value,v+=S,/(ARC)?(SIN|COS|TAN|CSC|SEC|COT)(H)?/.test(S)&&(v+=" ")}}return{ctx:t,value:v}}({capsLock:!1,wasNumber:!1},i.default(e)).value})};var c={"!":"6","(":'"<',")":'">',"*":'"9',"+":'"6',",":"1","-":'"-',".":"4","/":"_/",":":"3","<":"@<","=":'"7',">":"@>","?":"8","[":".<","\\ ":" ","\\%":".0","\\&":"@&","\\,":" ","\\infty":"#=","\\int":"!","\\{":"_<","\\|":"_\\_\\","\\}":"_>","]":".>","|":"_\\"},l={"\\Vert":"_\\_\\","\\cdot":'"4',"\\div":'"/',"\\ge":"_@>","\\geq":"_@>","\\langle":"@<","\\ldots":"444","\\le":"_@<","\\leq":"_@<","\\ne":'"7@:',"\\neq":'"7@:',"\\approx":"^9","\\parallel":"#L","\\perp":"#-","\\prime":"7","\\prod":",.P","\\rangle":"@>","\\sim":"@9","\\sum":",.S","\\times":'"8',"\\to":":O","\\vert":"_\\"},u={"\\Alpha":",.A","\\Beta":",.B","\\Chi":",.&","\\Delta":",.D","\\Epsilon":",.E","\\Eta":",.:","\\Gamma":",.G","\\Iota":",.I","\\Kappa":",.K","\\Lambda":",.L","\\Mu":",.M","\\Nu":",.N","\\Omega":",.W","\\Omicron":",.O","\\Phi":",.F","\\Pi":",.P","\\Psi":",.Y","\\Rho":",.R","\\Sigma":",.S","\\Tau":",.T","\\Theta":",.?","\\Upsilon":",.U","\\Xi":",.X","\\Zeta":",.Z","\\alpha":".A","\\beta":".B","\\chi":".&","\\delta":".D","\\epsilon":".E","\\eta":".:","\\gamma":".G","\\iota":".I","\\kappa":".K","\\lambda":".L","\\mu":".M","\\nu":".N","\\omega":".W","\\omicron":".O","\\phi":".F","\\pi":".P","\\psi":".Y","\\rho":".R","\\sigma":".S","\\tau":".T","\\theta":".?","\\upsilon":".U","\\xi":".X","\\zeta":".Z"};function d(e,t){return t.wasNumber&&/^[A-Ja-j]/.test(e)}function p(e){return/^\#[A-J41]+$/.test(e)}function h(e){return/^;/.test(e)?e.slice(1):e}function f(e,t,r){var n=e[0],o=(t.match(/\</g)||[]).length,i=/^["|\.|_]?\</.test(t),a=(t.match(/\>/g)||[]).length,s=/["|\.|_]?\>$/.test(t);return!p(t)&&1<e.length-r&&0===o&&0===a||0<o&&0<a&&(!i||!s)||1<o||1<a||n&&"typeform"===n.type}function g(e,t){return n(n({},e),t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(18),i=r(0);var a=1,s=-1;function c(e,t,r){for(var n,o,i="",a=Math.max(e.length,t.length),s=0;s<a&&e[s]===t[s];s++);for(n=e.length-1;s<=n;n--)i+="}";for(o=s;o<t.length;o++)"^"===t[o]&&(r&&(i+=r),i+="^{"),";"===t[o]&&(i+="_{");return i}function l(e){return function e(t,r){for(var o="",i=r,l="",u=!1,d="",p="",h=function(e){for(var t,r=[],n=[],o=0;o<e.length;o++){var i,c=e[o];if("terminal"===(t=c).type&&/^(\\langle |\[|\(|\\{)$/.test(t.value))r.push({direction:a,index:o}),n.push(0);else if("terminal"===(t=c).type&&/^(\\rangle |\]|\)|\\})$/.test(t.value)){for(;r.length&&2===r[r.length-1].direction;)r.pop();r.length?(i=r.pop())&&(n[i.index]=a,n.push(s)):n.push(0)}else"terminal"===(c=c).type&&/^(\\\||\|)$/.test(c.value)?r.length&&2===r[r.length-1].direction?(i=r.pop())&&(n[i.index]=a,n.push(s)):(r.push({direction:2,index:o}),n.push(0)):n.push(0)}return n}(t),f=0;f<t.length;f++){var g=t[f],m=f+1<t.length?t[f+1]:null;switch(g.type){case"terminal":var y=n.getAutoOperator(t.slice(f));""!==y.value?(o+=y.value,f+=y.terminalCount-1,u=u||y.modified):" "===g.value?(u?(o+=c(i,l=d),i=l):o+="\\ ",u=!1):(h[f]===a?o+="\\left":h[f]===s&&(o+="\\right"),o+=g.value);break;case"comparison":o+=c(i,l=""),i=l,u=!1,o+=g.value;break;case"level_with_comparison":o+=c(i,g.level),i=g.level,u=!1,o+=g.value;break;case"command":var v=g.value.slice(1).trim();u=m&&"terminal"===m.type&&/[a-z]/.test(m.value)?(o+=v,!1):(n.containsValue(v)?o+="\\operatorname{"+v+"}":o+=g.value,!0),d=i;break;case"expression":o+=g.value;break;case"fraction":o+=(y=g.numerator,v=g.denominator,"\\frac{"+e(y,y=i)+"}{"+e(v,y)+"}");break;case"modified_expression":o+=e(g.expression,i)+" ",g.under&&(o+="_{"+e(g.under,i)+"}"),g.over&&(o+="^{"+e(g.over,i)+"}");break;case"radical":o+="\\sqrt",g.index&&(o+="["+e(g.index,i)+"]"),o+="{"+e(g.value,i)+"}";break;case"simple_subscript":""===i?(o+=g.base.value+"_{"+g.subscript.value+"}","command"===g.base.type&&(u=!0,d=i)):o+=g.base.value+g.subscript.value;break;case"level":o+=c(i,g.value,p),i=g.value,"^"===g.value&&""!==p&&(p="");break;case"primes":p=m&&"level"===m.type&&";"===m.value?g.value:(o+=""!==i?Array(g.value.length+1).join("\\prime "):g.value,"")}}return(o+=c(i,r)+p).replace(/([^\\])( )$/,"$1")}(e,"")}t.default=function(e,t){return t&&t.operatorNames?n.setOperatorNames(t.operatorNames):n.resetOperatorNames(),i.map(o.default(e,t),l)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.terminal=function(e){return{type:"terminal",value:e}},t.command=function(e){return{type:"command",value:"\\"+e.trim()+" "}};var n={'"K':"<",'"K:':"\\leq ",$L:"\\parallel ",$O:"\\to ",$P:"\\perp ",".1":">",".1:":"\\geq ",".K":"=","@:@:":"\\approx","/$L":"\\nparallel ","/.K":"\\neq ","=":"=","@:":"\\sim "};function o(e){return{type:"level",value:e}}t.level_with_comparison=function(e){var t=(t=/[\^;]+/.exec(e))?t.toString():"";e=e.slice(o.length);return{type:"level_with_comparison",level:t,value:n[e]}},t.comparison=function(e){return{type:"comparison",value:n[e]}},t.level=o,t.baseline=function(){return o("")},t.primes=function(e){return{type:"primes",value:e}},t.fraction=function(e,t){return{type:"fraction",numerator:e,denominator:t}},t.modified_expression=function(e,t,r){return{type:"modified_expression",expression:e,under:t,over:r}},t.radical=function(e,t){return{type:"radical",value:e,index:t}},t.expression=function(e){return{type:"expression",value:e}},t.simple_subscript=function(e,t){return{type:"simple_subscript",base:e,subscript:t}};var i={".&":"\\chi",".,&":"\\Chi",".,:":"\\Eta",".,?":"\\Theta",".,A":"\\Alpha",".,B":"\\Beta",".,D":"\\Delta",".,E":"\\Epsilon",".,F":"\\Phi",".,G":"\\Gamma",".,I":"\\Iota",".,K":"\\Kappa",".,L":"\\Lambda",".,M":"\\Mu",".,N":"\\Nu",".,O":"\\Omicron",".,P":"\\prod",".,R":"\\Rho",".,S":"\\sum",".,T":"\\Tau",".,U":"\\Upsilon",".,W":"\\Omega",".,X":"\\Xi",".,Y":"\\Psi",".,Z":"\\Zeta",".:":"\\eta",".?":"\\theta",".A":"\\alpha",".B":"\\beta",".D":"\\delta",".E":"\\epsilon",".F":"\\phi",".G":"\\gamma",".I":"\\iota",".K":"\\kappa",".L":"\\lambda",".M":"\\mu",".N":"\\nu",".O":"\\omicron",".P":"\\pi",".R":"\\rho",".S":"\\sigma",".T":"\\tau",".U":"\\upsilon",".W":"\\omega",".X":"\\xi",".Y":"\\psi",".Z":"\\zeta"};t.greek=function(e){if(i.hasOwnProperty(e))return i[e]+" ";throw new Error("Unknown Greek letter")},t.group=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Array.prototype.concat.apply([],e)}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=r(9),a=r(17),s=r(20);t.default=function(e,t){t=t||{};var r=i.parser,c=Object.create(r);c.yy=a,c.yy.warnOrError=function(e){c.parseError(e,{recoverable:!1})};var l=Object.create(r);l.yy=n({warnings:[]},a),l.yy.warnOrError=function(e){l.yy.warnings.push(e)},l.lexer=s.default,r=t.strict?c:l;try{return{isError:!1,value:r.parse(e),warnings:r.yy.warnings||[]}}catch(e){return{error:o.default(e),isError:!0}}}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=r(21),a=r(10),s=r(24);t.default=function(e,t){t=t||{};var r=a.parser,c=Object.create(r);c.yy=s;var l=Object.create(r);l.yy=n({warnings:[]},s),l.lexer=i.default,r=t.strict?c:l;try{return{isError:!1,value:r.parse(e),warnings:r.yy.warnings||[]}}catch(e){return{error:o.default(e),isError:!0}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),o=n.parser.lexer;r=Object.create(o);t.default=r;var i=n.parser.terminals_,a=n.parser.symbols_;r.setInput=function(e,t){this.delimiterStack=[],this.outputQueue=[],this.canAcceptPrimes=!1,o.setInput.call(this,e,t)},r.lex=function(){if(!this)return-1;if(this.outputQueue.length)return this.outputQueue.shift();for(var e,t,r=o.lex.call(this);"UNKNOWN"===i[r]||!this.canAcceptPrimes&&"PRIMES"===i[r];)this.warn(),r=o.lex.call(this);this.canAcceptPrimes=!0;var n=this.delimiterStack?this.delimiterStack[this.delimiterStack.length-1]:-1;switch(i[r]){case"OPEN_FRAC":case"OPEN_MODEXP":this.delimiterStack.push(r),this.canAcceptPrimes=!1;break;case"RADICAL_INDEX":n===a.RADICAL_INDEX&&(this.delimiterStack.pop(),this.pushCloseTokens(n)),this.delimiterStack.push(r),this.canAcceptPrimes=!1;break;case"OPEN_RADICAL":n===a.RADICAL_INDEX&&this.delimiterStack.pop(),this.delimiterStack.push(r),this.canAcceptPrimes=!1;break;case"SLASH":for(e=!1;this.delimiterStack.length;){if((t=this.delimiterStack.pop()||-1)===a.OPEN_FRAC){e=!0;break}this.pushCloseTokens(t)}e||this.pushOpenTokens(r),this.delimiterStack.push(r),this.canAcceptPrimes=!1;break;case"CLOSE_FRAC":for(e=!1;this.delimiterStack.length;){if((t=this.delimiterStack.pop()||-1)===a.SLASH){e=!0;break}if(t===a.OPEN_FRAC){this.addMissingToken(a.SLASH),e=!0;break}this.pushCloseTokens(t)}if(!e)return this.warn(),this.canAcceptPrimes=!1,this.lex();break;case"CLOSE_RADICAL":for(e=!1;this.delimiterStack.length;){if((t=this.delimiterStack.pop()||-1)===a.OPEN_RADICAL){e=!0;break}if(t===a.RADICAL_INDEX){e=!0,this.addMissingToken(a.OPEN_RADICAL);break}this.pushCloseTokens(t)}e||this.pushOpenTokens(r);break;case"CLOSE_MODEXP":for(e=!1;this.delimiterStack.length;){if((t=this.delimiterStack.pop()||-1)===a.OPEN_MODEXP){e=!0;break}this.pushCloseTokens(t)}e||this.pushOpenTokens(r);break;case"EOF":for(;this.delimiterStack.length;)t=this.delimiterStack.pop()||-1,this.pushCloseTokens(t)}return this.outputQueue.push(r),this.outputQueue.shift()||-1},r.warn=function(){this.yylloc&&this.yy.warnings.push({location:this.yylloc})},r.addMissingToken=function(e){this.outputQueue.push(e),this.warn()},r.pushCloseTokens=function(e){switch(i[e]){case"OPEN_FRAC":this.addMissingToken(a.SLASH),this.addMissingToken(a.CLOSE_FRAC);break;case"SLASH":this.addMissingToken(a.CLOSE_FRAC);break;case"RADICAL_INDEX":this.addMissingToken(a.OPEN_RADICAL),this.addMissingToken(a.CLOSE_RADICAL);break;case"OPEN_RADICAL":this.addMissingToken(a.CLOSE_RADICAL);break;case"OPEN_MODEXP":this.addMissingToken(a.CLOSE_MODEXP)}},r.pushOpenTokens=function(e){switch(i[e]){case"SLASH":this.addMissingToken(a.OPEN_FRAC);break;case"CLOSE_FRAC":this.addMissingToken(a.OPEN_FRAC),this.addMissingToken(a.SLASH);break;case"CLOSE_RADICAL":this.addMissingToken(a.OPEN_RADICAL);break;case"CLOSE_MODEXP":this.addMissingToken(a.OPEN_MODEXP)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),o=n.parser.lexer;r=Object.create(o);t.default=r;var i=n.parser.terminals_,a=n.parser.symbols_;r.setInput=function(e,t){this.delimiterStack=[],this.outputQueue=[],o.setInput.call(this,e,t)},r.lex=function(){if(this.outputQueue.length)return this.outputQueue.shift();for(var e,t,r=o.lex.call(this);"UNKNOWN"===i[r];)this.warn(),r=o.lex.call(this);var n=this.delimiterStack?this.delimiterStack[this.delimiterStack.length-1]:-1;switch(i[r]){case"OPEN_FRAC":case"OPEN_GROUP":this.delimiterStack.push(r);break;case"RADICAL_WITH_INDEX":n===a.RADICAL_WITH_INDEX&&(this.delimiterStack.pop(),this.pushCloseTokens(n)),this.delimiterStack.push(r);break;case"RADICAL":n===a.RADICAL_WITH_INDEX&&this.delimiterStack.pop(),this.delimiterStack.push(r);break;case"OVER":for(e=!1;this.delimiterStack.length;){if((t=this.delimiterStack.pop()||-1)===a.OPEN_FRAC){e=!0;break}this.pushCloseTokens(t)}e||this.pushOpenTokens(r),this.delimiterStack.push(r);break;case"CLOSE_FRAC":for(e=!1;this.delimiterStack.length;){if((t=this.delimiterStack.pop()||-1)===a.OVER){e=!0;break}if(t===a.OPEN_FRAC){this.outputQueue.push(a.OVER),e=!0;break}this.pushCloseTokens(t)}e||this.pushOpenTokens(r);break;case"CLOSE_GROUP":for(e=!1;this.delimiterStack.length;){if((t=this.delimiterStack.pop()||-1)===a.OPEN_GROUP){e=!0;break}this.pushCloseTokens(t)}e||this.pushOpenTokens(r);break;case"CLOSE_RADICAL":for(e=!1;this.delimiterStack.length;){if((t=this.delimiterStack.pop()||-1)===a.RADICAL||t===a.RADICAL_WITH_INDEX){e=!0;break}this.pushCloseTokens(t)}e||this.pushOpenTokens(r);break;case"EOF":for(;this.delimiterStack.length;)t=this.delimiterStack.pop()||-1,this.pushCloseTokens(t)}return this.outputQueue.push(r),this.outputQueue.shift()||-1},r.warn=function(){this.yylloc&&this.yy.warnings.push({location:this.yylloc})},r.addMissingToken=function(e){this.outputQueue.push(e),this.warn()},r.pushCloseTokens=function(e){switch(i[e]){case"OPEN_FRAC":this.addMissingToken(a.OVER),this.addMissingToken(a.CLOSE_FRAC);break;case"OVER":this.addMissingToken(a.CLOSE_FRAC);break;case"OPEN_GROUP":this.addMissingToken(a.CLOSE_GROUP);break;case"RADICAL_WITH_INDEX":case"RADICAL":this.addMissingToken(a.CLOSE_RADICAL)}},r.pushOpenTokens=function(e){switch(i[e]){case"OVER":this.addMissingToken(a.OPEN_FRAC);break;case"CLOSE_FRAC":this.addMissingToken(a.OPEN_FRAC),this.addMissingToken(a.OVER);break;case"CLOSE_GROUP":this.addMissingToken(a.OPEN_GROUP);break;case"CLOSE_RADICAL":this.addMissingToken(a.RADICAL)}}},function(e,t,r){"use strict";function n(e){return e.isError}Object.defineProperty(t,"__esModule",{value:!0}),t.isErr=n,t.isOk=function(e){return!e.isError},t.map=function(e,t){return n(e)?e:{isError:!1,value:t(e.value)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(19),i=r(0);var a=1,s=-1,c=function e(t,r){for(var o,i,c,l,u,d,p="",h=!1,f="",g=function(e){for(var t,r=[],n=[],o=0;o<e.length;o++){var i,c=e[o];if("terminal"===(t=c).type&&/^(\\langle |\[|\(|\\{)$/.test(t.value))r.push({direction:a,index:o}),n.push(0);else if("terminal"===(t=c).type&&/^(\\rangle |\]|\)|\\})$/.test(t.value)){for(;r.length&&2===r[r.length-1].direction;)r.pop();r.length?(i=r.pop())&&(n[i.index]=a,n.push(s)):n.push(0)}else"terminal"===(c=c).type&&/^(\\\||\|)$/.test(c.value)?r.length&&2===r[r.length-1].direction?(i=r.pop())&&(n[i.index]=a,n.push(s)):(r.push({direction:2,index:o}),n.push(0)):n.push(0)}return n}(t),m=0;m<t.length;m++){var y=t[m],v=m+1<t.length?t[m+1]:null;switch(y.type){case"terminal":var b=n.getAutoOperator(t.slice(m));""!==b.value?(p+=b.value,m+=b.terminalCount-1):" "!==y.value||h?(g[m]===a?p+="\\left":g[m]===s&&(p+="\\right"),p+=y.value):p+="\\ ",h=!1;break;case"command":b=y.value.slice(1).trim(),h=v&&"terminal"===v.type&&/[a-z]/.test(v.value)?(p+=b,!1):(n.containsValue(b)?p+="\\operatorname{"+b+"}":p+=y.value,!0);break;case"expression":p+=y.value;break;case"fraction":p+=(o=y.numerator,i=y.denominator,"\\frac{"+e(o)+"}{"+e(i)+"}");break;case"radical":p+="\\sqrt",y.index&&(p+="["+e(y.index)+"]"),p+="{"+e(y.value)+"}";break;case"basic_level":p+=(c=y.level,u=f,d=void 0,d="",l="{"+e(l=y.value,c)+"}","9"===c?d+=u+"^"+l:"5"===c&&(d+="_"+l),d),"9"===y.level&&(f="");break;case"bracketed_level":p+=(o=y.level,i=y.lbrack,u=y.value,c=y.rbrack,l=f,d=void 0,d="",c="{"+i+e(u,o)+c+"}","9"===o?d+=l+"^"+c:"5"===o&&(d+="_"+c),d),"9"===y.level&&(f="");break;case"primes":f=!v||"basic_level"!==v.type&&"bracketed_level"!==v.type||"5"!==v.level?(p+=r&&""!==r?Array(y.value.length+1).join("\\prime "):y.value,""):y.value}}return(p+=f).replace(/([^\\])( )$/,"$1")};t.default=function(e,t){return t&&t.operatorNames?n.setOperatorNames(t.operatorNames):n.resetOperatorNames(),i.map(o.default(e,t),function(e){return c(e,"")})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.terminal=function(e){return{type:"terminal",value:e}},t.command=function(e){return{type:"command",value:e}},t.basic_level=function(e,t){return{type:"basic_level",level:e,value:t}},t.bracketed_level=function(e,t,r,n){return{type:"bracketed_level",level:e,lbrack:t,value:r,rbrack:n}},t.primes=function(e){return{type:"primes",value:0<e.length?Array(e.length+1).join("'"):""}},t.fraction=function(e,t){return{type:"fraction",numerator:e,denominator:t}},t.radical=function(e,t){return{type:"radical",value:e,index:t}},t.expression=function(e){return{type:"expression",value:e}},t.group=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Array.prototype.concat.apply([],e)};var n={",.&":"\\Chi",",.:":"\\Eta",",.?":"\\Theta",",.A":"\\Alpha",",.B":"\\Beta",",.D":"\\Delta",",.E":"\\Epsilon",",.F":"\\Phi",",.G":"\\Gamma",",.I":"\\Iota",",.K":"\\Kappa",",.L":"\\Lambda",",.M":"\\Mu",",.N":"\\Nu",",.O":"\\Omicron",",.P":"\\prod",",.R":"\\Rho",",.S":"\\sum",",.T":"\\Tau",",.U":"\\Upsilon",",.W":"\\Omega",",.X":"\\Xi",",.Y":"\\Psi",",.Z":"\\Zeta",".&":"\\chi",".:":"\\eta",".?":"\\theta",".A":"\\alpha",".B":"\\beta",".D":"\\delta",".E":"\\epsilon",".F":"\\phi",".G":"\\gamma",".I":"\\iota",".K":"\\kappa",".L":"\\lambda",".M":"\\mu",".N":"\\nu",".O":"\\omicron",".P":"\\pi",".R":"\\rho",".S":"\\sigma",".T":"\\tau",".U":"\\upsilon",".W":"\\omega",".X":"\\xi",".Y":"\\psi",".Z":"\\zeta"};t.greek=function(e){if(n.hasOwnProperty(e))return n[e]+" ";throw new Error("Unknown Greek letter")},t.to_number=function(e){for(var t="",r="A".charCodeAt(0)-1,n=0,o=e;n<o.length;n++){var i=o[n];t+="4"===i?".":"J"===i?"0":i.charCodeAt(0)-r}return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=" A1B'K2L@CIF/MSP\"E3H9O6R^DJG>NTQ,*5<-U8V.%[$+X!&;:4\\0Z7(_?W]#Y)=";function o(e){for(var t,r="",o=0,i=e;o<i.length;o++)r+=(t=i[o].charCodeAt(0)-10240,n[t]);return r}t.toBrailleAscii=o,t.toExpandedBrailleAscii=function(e){return o(e).replace(/[@-^]/g,function(e){return String.fromCharCode(e.charCodeAt(0)+32)})},t.coerceToSixDotCells=function(e){var t="";if(e)for(var r=0,o=e;r<o.length;r++){var i=o[r],a=i.charCodeAt(0);96<=a&&a<=127&&(a-=32,i=String.fromCharCode(a)),32<=a&&a<=95&&(a=(i=function(e){for(var t="",r=0,o=e;r<o.length;r++){var i=o[r];t+=(i=n.indexOf(i),String.fromCharCode(10240+i))}return t}(i)).charCodeAt(0)),10305<=a&&a<=10495&&(a=10240+(a-1024)%64,i=String.fromCharCode(a)),t+=10240<=a&&a<=10304?i:String.fromCharCode(10240)}return t},t.isSixDotCells=function(e){for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(r<10240||10304<r)return!1}return!0}},function(e,t,r){r(3),e.exports=r(3)}],e.c=r,e.i=function(e){return e},e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=26);function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var t,r}),define("graphing/canvas-braille",["require","exports","tslib","./projection","./screen","core/graphing-calc/json/graph-settings","abraham"],function(e,t,r,n,o,i,a){"use strict";function s(e,t){for(var r=t.x,n=t.y,o=t.width,i=(t=t.height,e.getImageData(r,n,o,t).data),a=3;a<i.length;a+=4)if(0!==i[a])return!1;return!0}function c(e,t,r,n,o){return s(t,d(e,r,n,o))}function l(e,t){return(2+(e=e.dotSpacing))*t.length+(1+e)*(t.length-1)}function u(e){return 3+2*e.dotSpacing}function d(e,t,r,n){var o=e.cellPadding;return{x:t-o,y:r-o,width:l(e,n)+2*o,height:u(e)+2*o}}function p(e,t){if(!e)return t;var r=Math.min(e.x,t.x),n=Math.min(e.y,t.y);return{x:r,y:n,width:Math.max(e.x+e.width,t.x+t.width)-r,height:Math.max(e.y+e.height,t.y+t.height)-n}}function h(e,t,r){return Math.min(Math.max(e,t),r)}function f(e,t,r,n,o){return{x:h(r,0,t.canvas.width-l(e,o)),y:h(n,0,t.canvas.height-u(e))}}function g(e,t,r,n,o){var i=t.fillStyle;t.fillStyle="white";var a=d(e,r,n,o);t.fillRect(a.x,a.y,a.width,a.height),t.fillStyle="black",function(e,t,r,n,o){for(var i,a,s,c,l,u=3+2*e.dotSpacing,d=0;d<o.length;d++)i=e,a=t,s=r+u*d,c=n,l=o[d],i=1+i.dotSpacing,1&(l=l.charCodeAt(0)-10240)&&a.fillRect(s,c,1,1),2&l&&a.fillRect(s,c+i,1,1),4&l&&a.fillRect(s,c+2*i,1,1),8&l&&a.fillRect(s+i,c,1,1),16&l&&a.fillRect(s+i,c+i,1,1),32&l&&a.fillRect(s+i,c+2*i,1,1)}(e,t,r,n,o),t.fillStyle=i}function m(e,t,r,n){var o=e.cellPadding;return{x:Math.round(t-(l(e,n)+o)),y:r}}function y(e,t){return(e="nemeth"===t?a.latexToNemeth(e):a.latexToUeb(e)).isError?"":e.value.replace(/\u283C(?!$)/g,"")}function v(e,t){return 0<=t?e*Math.pow(10,t):e/Math.pow(10,-t)}function b(e,t,r,n){var o=r[0],i=r[1],a=Math.ceil(Math.log(i-o)/Math.LN10)-1,s=a,c=5;e:for(var u=a;a-u<4;u--)for(var d=0,p=[5,2,1];d<p.length;d++){var h=p[d],f=v(h,u),g=Math.floor(o/f)+1,m=Math.ceil(i/f)-1,b=Math.abs(n(f)-n(0)),x=y(String(v(g*h,u)),t);f=y(String(v(m*h,u)),t);if(b<l(e,x)+l(e," ")||b<l(e,f)+l(e," "))break e;if(15<=m-g)break e;s=u,c=h}return{int:c,exp:s}}function x(e,t,r){return b(e,t,[r.viewport.xmin,r.viewport.xmax],function(e){return r.mapx(e)})}function w(e,t){for(var r=e.int,n=e.exp,o=(e=t[0],t=t[1],e=Math.ceil(e/v(r,n)),Math.floor(t/v(r,n))),i=[],a=e;a<=o;a++)i.push(v(a*r,n));return i}function E(e){switch(e){case"vpmax8":case"vpmax11":return"rgb(145, 145, 145)";case"etc8":case"etc11":return"rgb(0, 0, 0)";default:throw new Error("Unexpected embosser model: "+e)}}function S(e){switch(e){case"vpmax8":case"vpmax11":return"rgb(219, 219, 219)";case"etc8":case"etc11":return"rgb(0, 0, 0)";default:throw new Error("Unexpected embosser model: "+e)}}function k(e,t,r,n,o,i){void 0===i&&(i=1);var a=e.fillStyle;e.fillStyle=t,e.fillRect(r-1,n,i,o-n),e.fillStyle=a}function _(e,t,r,n,o,i){void 0===i&&(i=1);var a=e.fillStyle;e.fillStyle=t,e.fillRect(n,r-1,o-n,i),e.fillStyle=a}Object.defineProperty(t,"__esModule",{value:!0}),t.createBrailleImage=void 0,t.createBrailleImage=function(e,t,a,h,v){var I,M,L,T,C;if(void 0!==a.margins&&void 0!==t){var A=function(){if("etc8"===h||"etc11"===h)return{dotSpacing:0,cellPadding:1,graphLineWidth:1.75,embossPatternInequalities:!0};if("vpmax8"===h||"vpmax11"===h)return{dotSpacing:1,cellPadding:2,graphLineWidth:1,embossPatternInequalities:!1};throw new Error("Unexpected embosser model "+h)}(),O=a.margins,P=r.__assign({},t.settings),D=P.showGrid&&function(){if("etc8"===h||"etc11"===h)return!1;if("vpmax8"===h||"vpmax11"===h)return!0;throw new Error("Unexpected embosser model "+h)}(),F=!!P.showXAxis,N=!!P.showYAxis,q=!!P.xAxisNumbers,R=P.xAxisArrowMode,B=!!P.yAxisNumbers,j=P.yAxisArrowMode,V=A.graphLineWidth,U={showGrid:!1,xAxisNumbers:!1,xAxisArrowMode:i.AxisArrowModes.NONE,yAxisNumbers:!1,yAxisArrowMode:i.AxisArrowModes.NONE,showXAxis:!1,showYAxis:!1,graphLineWidth:V,pointLineWidth:2.5,curveOpacity:1,globalCurveColor:"#000",disableFill:!0};for(te in U)t.settings[te]=U[te];var G=e.width-O.right-O.left,z=e.height-O.top-O.bottom,H=new o.Screen(G,z),W=t.getProjection().viewport;t.settings.squareAxes&&(W=W.squareCrop(H));var K=new n.Projection(H,W,t.settings),$=e.getContext("2d"),Y=document.createElement("canvas");Y.width=G,Y.height=z;var X=Y.getContext("2d"),Q=document.createElement("canvas");Q.width=G,Q.height=z;var J=Q.getContext("2d");(a=document.createElement("canvas")).width=G,a.height=z;var Z=a.getContext("2d");(V=document.createElement("canvas")).width=G,V.height=z;var ee=V.getContext("2d");(H=document.createElement("canvas")).width=G,H.height=z;var te,re=H.getContext("2d");if(null!==$&&null!==ee&&null!==X&&null!==Z&&null!==re&&null!==J){t.settings.disableFill=!0,t.screenshotToCanvas(V,{width:G,height:z,targetPixelRatio:1,transparentBackground:!0}),t.settings.disableFill=!1,t.screenshotToCanvas(Y,{width:G,height:z,targetPixelRatio:1,transparentBackground:!0}),$.fillStyle="white",$.fillRect(0,0,e.width,e.height);var ne=Math.round(K.mapx(0)),oe=Math.round(K.mapy(0));W=""!==P.xAxisLabel?P.xAxisLabel.replace(/ /g,"\\ "):"x",e=""!==P.yAxisLabel?P.yAxisLabel.replace(/ /g,"\\ "):"y";F&&K.coordsAreOnscreen(G-6,oe-8,0)&&g(ie=r.__assign(r.__assign({},A),{cellPadding:A.cellPadding+1}),re,Me=(W=f(ie,X,Me=(W=m(ie,Me=G-2,Le=oe-(pe=2+2*u(ie)),de=y(W,v))).x,Le=W.y,de)).x,Le=W.y,de),N&&K.coordsAreOnscreen(ne+4,1,0)&&g(ie=r.__assign(r.__assign({},A),{cellPadding:A.cellPadding+1}),re,Me=(ae=f(ie,X,Me=ne+4,Le=1,de=y(e,v))).x,Le=ae.y,de);var ie={x:w(x(ie=A,e=v,ae=K),[ae.viewport.xmin,ae.viewport.xmax]),y:w((ie=ie,e=e,(C=ae).viewport.isSquare(C.screen)?x(ie,e,C):b(ie,e,[C.viewport.ymin,C.viewport.ymax],function(e){return C.mapy(e)})),[ae.viewport.ymin,ae.viewport.ymax])},ae=(e=ie.x,ie.y);if(F){for(var se,ce=void 0,le=0,ue=e;le<ue.length;le++)0===(ye=ue[le])&&N||(Se=Math.round(K.mapx(ye)))<2||Se>K.screen.width-2||!q||(se=l(A,y("-1",v))-l(A,y("1",v)),c(A,ee,Me=(se=f(A,re,Me=Se-(ye<0?1+se:1),Le=oe+4,de=y(""+ye,v))).x,Le=se.y,de)&&(g(A,re,Me,Le,de),ce=p(ce,d(A,Me,Le,de))));A.embossPatternInequalities&&ce&&(ce=p(ce,{x:0,y:oe,width:G,height:0}),Z.fillStyle="white",Z.fillRect(ce.x,ce.y,ce.width,ce.height))}if(N){ce=void 0;for(var de,pe,he=0,fe=ae;he<fe.length;he++)0===(xe=fe[he])&&F||(Ie=Math.round(K.mapy(xe)))<2||Ie>K.screen.height-2||(pe=-Math.ceil(u(A)/2),B&&c(A,ee,Me=(I=f(A,re,Me=(I=m(A,Me=ne-4,Le=Ie+pe,de=y(""+xe,v))).x,Le=I.y,de)).x,Le=I.y,de)&&(g(A,re,Me,Le,de),ce=p(ce,d(A,Me,Le,de))));A.embossPatternInequalities&&ce&&(ce=p(ce,{x:ne,y:0,width:0,height:z}),Z.fillStyle="white",Z.fillRect(ce.x,ce.y,ce.width,ce.height))}F&&N&&(Me=(ie=m(A,Me=ne-2,Le=oe+2,de=y(q||B?"0":"o",v))).x,Le=ie.y,K.coordsAreOnscreen(Me,Le,0)&&c(A,ee,Me=(ie=f(A,re,Me,Le,de)).x,Le=ie.y,de)&&g(A,re,Me,Le,de));for(var ge=0,me=e;ge<me.length;ge++){var ye=me[ge];(Se=Math.round(K.mapx(ye)))<2||Se>K.screen.width-2||N&&0===ye||D&&k(Z,"white",Se-1,0,z,3)}for(var ve=0,be=ae;ve<be.length;ve++){var xe=be[ve];(Ie=Math.round(K.mapy(xe)))<2||Ie>K.screen.height-2||F&&0===xe||D&&_(Z,"white",Ie-1,0,G,3)}F&&_(Z,"white",oe-3,0,G,7),N&&k(Z,"white",ne-3,0,z,7);for(var we=0,Ee=e;we<Ee.length;we++){var Se;ye=Ee[we];(Se=Math.round(K.mapx(ye)))<2||Se>K.screen.width-2||N&&0===ye||(D?k(Z,S(h),Se,0,z):F&&k(Z,S(h),Se,oe-3,oe+2))}for(var ke=0,_e=ae;ke<_e.length;ke++){var Ie;xe=_e[ke];(Ie=Math.round(K.mapy(xe)))<2||Ie>K.screen.height-2||F&&0===xe||(D?_(Z,S(h),Ie,0,G):N&&_(Z,S(h),Ie,ne-3,ne+2))}if(F&&_(Z,E(h),oe,0,G),N&&k(Z,E(h),ne,0,z),j!==i.AxisArrowModes.NONE&&(function(e,t,r){var n=e.fillStyle;e.fillStyle=t;for(var o=-2;o<=2;o++)e.fillRect(r-1+o,0+Math.abs(o),1,1);e.fillStyle=n}(Z,E(h),ne),j===i.AxisArrowModes.BOTH&&function(e,t,r,n){var o=e.fillStyle;e.fillStyle=t;for(var i=-2;i<=2;i++)e.fillRect(r-1+i,n-Math.abs(i),1,1);e.fillStyle=o}(Z,E(h),ne,z-1)),R!==i.AxisArrowModes.NONE&&(function(e,t,r,n){var o=e.fillStyle;e.fillStyle=t;for(var i=-2;i<=2;i++)e.fillRect(r-Math.abs(i),n-1+i,1,1);e.fillStyle=o}(Z,E(h),G-1,oe),R===i.AxisArrowModes.BOTH&&function(e,t,r){var n=e.fillStyle;e.fillStyle=t;for(var o=-2;o<=2;o++)e.fillRect(0+Math.abs(o),r-1+o,1,1);e.fillStyle=n}(Z,E(h),oe)),A.embossPatternInequalities)for(var Me=0;Me<G;Me+=6)for(var Le=0;Le<z;Le+=6){var Te={x:Me,y:Le,width:3,height:3};(function(e,t){for(var r=t.x,n=t.y,o=t.width,i=(t=t.height,e.getImageData(r,n,o,t).data),a=3;a<i.length;a+=4)if(0===i[a])return;return 1})(X,Te)&&s(Z,Te)&&s(ee,Te)&&s(re,Te)&&("black",M=Me,L=Le,void 0,T=(Te=J).fillStyle,Te.fillStyle="black",Te.fillRect(M+1,L,1,1),Te.fillRect(M,L+1,1,1),Te.fillRect(M+1,L+1,1,1),Te.fillRect(M+2,L+1,1,1),Te.fillRect(M+1,L+2,1,1),Te.fillStyle=T)}A.embossPatternInequalities||$.drawImage(Y,O.left,O.top),$.drawImage(a,O.left,O.top),$.drawImage(V,O.left,O.top),$.drawImage(H,O.left,O.top),A.embossPatternInequalities&&$.drawImage(Q,O.left,O.top)}for(te in U)t.settings[te]=P[te]}}}),define("graphing/braille-size-options",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.brailleSizes=void 0,t.brailleSizes={},t.brailleSizes.vpmax8={width:170,height:220,margins:{left:5,top:15,right:5,bottom:50},name:function(e){return e.s("graphing-calculator-label-braille-size-vpmax8")}},t.brailleSizes.vpmax11={width:230,height:220,margins:{left:15,top:15,right:5,bottom:5},name:function(e){return e.s("graphing-calculator-label-braille-size-vpmax11")}},t.brailleSizes.etc8={width:96,height:96,margins:{left:5,top:15,right:0,bottom:0},name:function(e){return e.s("graphing-calculator-label-braille-size-etc8")}},t.brailleSizes.etc11={width:132,height:134,margins:{left:10,top:15,right:5,bottom:5},name:function(e){return e.s("graphing-calculator-label-braille-size-etc11")}}}),define("graphing/movablepointslayer",["require","exports","tslib","dcgview","browser","graphing-calc/models/expression","core/lib/label","core/graphing-calc/json/expression","core/lib/dragmode","core/types/graphmode","lib/aria","lib/mathspeak","./constants","jquery","underscore"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCoordsString=void 0;var g=n.Components.For;function m(e,t){return t=e[t],Array.isArray(t)&&e.tableInfo?t[e.tableInfo.rowIndex]:t}var y;y=n.Class,r.__extends(v,y),v.prototype.init=function(){this.grapher=this.props.grapher(),this.renderedPointsIdOrder=[],this.renderedPoints={}},v.prototype.template=function(){var e=this;return n.createElement(g,{each:function(){return e.renderedPointsIdOrder}},n.createElement("div",{class:n.const("dcg-graph-outer"),style:this.const({"z-index":0}),onFocusin:function(){return e.requestRedrawNextFrame()},onFocusout:function(){return e.requestRedrawNextFrame()},didMount:this.bindFn(this.didMountRoot)},function(t){return n.createElement("div",{class:e.const({"dcg-tabbable-point":!0,"dcg-movable-point":"movable"===e.renderedPoints[t].type}),style:function(){return{transform:e.getTransform(t)}},role:n.const("button"),"aria-roledescription":function(){return"movable"===e.renderedPoints[t].type?e.grapher.controller.s("graphing-calculator-narration-movable-point-description"):"draggable-label"===e.renderedPoints[t].type?e.grapher.controller.s("graphing-calculator-narration-draggable-label-description"):e.grapher.controller.s("graphing-calculator-narration-point-description")},"dcg-mp-id":e.const(t),tabindex:function(){return e.getTabIndex(t)},"aria-label":function(){return e.getAriaLabel(t)},"aria-hidden":e.bindFn(e.getAriaHidden)})}))},v.prototype.redraw=function(e,t,r){var n=this,o=this.grapher.graphSketches,i=this.renderedPoints;function a(o){var a=n.processPOI(e,t,o,i[o.id],r,s);a&&(n.renderedPoints[o.id]=a,n.renderedPointsIdOrder.push(o.id))}this.renderedPoints={},this.renderedPointsIdOrder=[];var s=this.getFocusedPointId();this.grapher.getSketchOrder().forEach(function(e){(e=o[e])&&(e.getMovablePoints().forEach(a),e.getStaticLabeledPoints().forEach(a))});var c=this.renderedPoints[this.hoveredPointId],l=this.renderedPoints[this.pressedPointId];c=c&&c.poi,l=l&&l.poi;c||this.setHoveredPointId(void 0),l||this.setPressedPointId(void 0),(l=l||c)?(c="movable-point"===l.type&&l.tableInfo&&l.tableInfo.dragX,l="movable-point"===l.type&&l.tableInfo&&l.tableInfo.dragY,c&&l||!c&&!l?this.grapher.setLayerClass("movablePoints","dcg-mouse-over-movable-point"):c?this.grapher.setLayerClass("movablePoints","dcg-mouse-over-movable-point-ew"):this.grapher.setLayerClass("movablePoints","dcg-mouse-over-movable-point-ns")):this.grapher.setLayerClass("movablePoints",void 0),this.update(),this.speakAriaAlert()},v.prototype._clampedOpacity=function(e){return e<0?0:1<e||!f.isFinite(e)?1:e},v.prototype.drawForScreenshot=function(e,t,r,n){var o,i=this,a=this.grapher.graphSketches;for(o in a){var s,c=a[o],u=c.branches[0];u.graphMode===l.XYPOINT_MOVABLE&&(s=u.pointOpacity),c.getMovablePoints().forEach(function(o){o={screenX:t.mapx(o.x),screenY:t.mapy(o.y),color:o.color,pointOpacity:s,animationPercent:0},i.drawMovablePointOnCtx(e,o,r,n)})}},v.prototype.processPOI=function(e,t,r,n,o,i){var a=r.id,s=r.x,l=r.y,u=t.mapx(s);s=t.mapy(l),l=i===a;if((i=t.coordsAreOnscreen(u,s,p.OFFSCREEN_RENDER_MARGIN))||l)return n||(l=r.sketch?this.grapher.controller.getItemModel(r.sketch.id):void 0,n="movable-point"===r.type?{type:"movable",id:a,pointOnScreen:i,poi:r,projection:t,screenX:screenX,screenY:screenY,color:m(r,"color"),pointOpacity:m(r,"pointOpacity"),pointIsHovered:!1,pointIsPressed:!1,lastHoverActionTime:0,animationPercent:0}:l&&"expression"===l.type&&void 0!==l.label&&l.showLabel&&l.reconciledDragMode!==c.DragMode.NONE?{type:"draggable-label",id:a,pointOnScreen:i,poi:r,projection:t,screenX:screenX,screenY:screenY}:{type:"static",id:a,pointOnScreen:i,poi:r,projection:t,screenX:screenX,screenY:screenY}),n.pointOnScreen=i,n.poi=r,n.projection=t,n.screenX=u,n.screenY=s,"movable"===n.type&&(n.color=m(n.poi,"color"),n.pointOpacity=m(n.poi,"pointOpacity"),this.updateMovablePointAnimation(n),this.drawMovablePointOnCtx(e,n,o)),n},v.prototype.drawMovablePointOnCtx=function(e,t,r,n){var o=n||(this.grapher.settings.config.projectorMode?13.5:10.5),i=Array.isArray(t.color)?t.color[0]:t.color,a=t.screenX,s=t.screenY;n=t.animationPercent||0;r.push({left:a-o,right:a+o,top:s-o,bottom:s+o}),e.save(),r=e.globalAlpha,t=this._clampedOpacity(t.pointOpacity),e.fillStyle=i,e.globalAlpha=.35*t,e.beginPath(),e.moveTo(a+o,s),e.arc(a,s,o,0,2*Math.PI,!0),e.closePath(),e.fill(),e.globalAlpha=t,o*=.3+.7*n,e.beginPath(),e.moveTo(a+o,s),e.arc(a,s,o,0,2*Math.PI,!0),e.closePath(),e.fill(),e.globalAlpha=r,e.restore()},v.prototype.updateMovablePointAnimation=function(e){var t=Date.now(),r=e.id,n=this.hoveredPointId===r,o=this.pressedPointId===r;e.pointIsPressed=o,n!==e.pointIsHovered&&(e.pointIsHovered=n,e.lastHoverActionTime=t),r=e.animationPercent||0,t=.004*(t-e.lastHoverActionTime),o?r=1:n?1<=(r+=t)?r=1:this.requestRedrawNextFrame():(r-=t)<=0?r=0:this.requestRedrawNextFrame(),e.animationPercent=r},v.prototype.getTransform=function(e){if(e=this.renderedPoints[e])return o.translateRule(e.screenX,e.screenY)},v.prototype.getTabIndex=function(e){if(!(r=this.renderedPoints[e]))return-1;var t=r.poi,r=(e=this.grapher.controller.getItemEditableLabelMode(t.sketch.id),(t=this.grapher.controller.getItemModel(t.sketch.id))&&"expression"===t.type&&!i.isClickableObject(t)&&("movable"===r.type||void 0===e||e===s.EditableLabelMode.None));e=(e=this.grapher.settings).config.graphpaper&&e.config.enableTabindex;return r&&e?0:-1},v.prototype.getAriaHidden=function(){return!this.grapher.settings.config.graphpaper},v.prototype.getAriaLabel=function(e){return(e=this.getAriaAlert({id:e,includeUsageInstructions:!1}))&&e.completeMessage},v.prototype.speakAriaAlert=function(){var e=this.getFocusedPointId();if(e){var t=this.renderedPoints[e];if(!t||"static"===t.type)return}e=this.getAriaAlert({id:e,lastAriaAlert:this.lastAriaAlert,includeUsageInstructions:!0}),(this.lastAriaAlert=e)&&e.completeMessage&&u.alert(e.completeMessage)},v.prototype.getAriaAlert=function(e){var t=e.id,r=e.lastAriaAlert,n=e.includeUsageInstructions;if(t){var o=this.renderedPoints[t];if(o){r&&r.id!==t&&(r=void 0);var i=o.poi,a=o.pointOnScreen,s=o.projection;if(i&&s)if(p=s.viewport){var c=r&&r.label,l=i.ariaLabel,u=c!==l,d=r&&r.coordX,p=(e=r&&r.coordY,s=i.x,c=i.y,i=s!==d||c!==e,d=b(s,c,p)+".",e=this.grapher.controller,l||e.s("graphing-calculator-narration-movable-point-prefix"));n="movable"!==o.type&&"draggable-label"!==o.type||!n?"":e.s("graphing-calculator-narration-movable-point-suffix-usage-instructions"),e=a?"":e.s("graphing-calculator-narration-movable-point-off-screen-prompt");return{id:t,coordX:s,coordY:c,label:l,completeMessage:r?u?p+e:i?d+e:"":p+". "+d+n+e}}}}},v.prototype.setHoveredPointId=function(e){e!==this.hoveredPointId&&(this.hoveredPointId=e,this.requestRedrawNextFrame())},v.prototype.isMovingPoint=function(){return!!this.pressedPointId},v.prototype.setPressedPointId=function(e){e!==this.pressedPointId&&(this.pressedPointId=e,this.requestRedrawNextFrame())},v.prototype.getFocusedPointId=function(){if(document.activeElement&&h.contains(this.rootNode,document.activeElement))return h(document.activeElement).attr("dcg-mp-id")},v.prototype.getFocusedPoint=function(){var e=this.getFocusedPointId();if(e&&(e=this.renderedPoints[e]))return e.poi},v.prototype.didMountRoot=function(e){this.rootNode=e},v.prototype.requestRedrawNextFrame=function(){this.grapher.redrawAllLayers()},r=v;function v(){return null!==y&&y.apply(this,arguments)||this}function b(e,t,r){return"X: "+d.getMathspeakFromLatex(a.value(e,r.xmax-r.xmin).latex)+". Y: "+d.getMathspeakFromLatex(a.value(t,r.ymax-r.ymin).latex)}t.default=r,t.getCoordsString=b}),define("graphing/integral-image",["require","exports"],function(e,t){"use strict";function r(e,t,r){return Math.max(t,Math.min(r,e))}Object.defineProperty(t,"__esModule",{value:!0});var n=(o.prototype.getSumForValidRect=function(e){var t=e.left-1,r=e.right-1,n=e.top-1,o=e.bottom-1,i=this.imageData.width,a=this.imageData.data,s=a[t+n*i],c=a[r+n*i];e=a[t+o*i],i=a[r+o*i];return 0<=t&&0<=n?i-c-e+s:0<=t?i-e:0<=n?i-c:i},o.prototype.getSum=function(e){return(e={left:r(Math.floor(e.left),0,this.imageData.width),right:r(Math.ceil(e.right),0,this.imageData.width),top:r(Math.floor(e.top),0,this.imageData.height),bottom:r(Math.ceil(e.bottom),0,this.imageData.height)}).right<=e.left||e.bottom<=e.top?0:this.getSumForValidRect(e)},o);function o(e){var t=e.data,r=e.width,n=e.height;this.imageData=e;for(var o=1;o<r;o++)t[o]+=t[o-1];for(var i=1;i<n;i++)t[i*r]+=t[i*r-r];for(var a=r*n-r-n+1,s=r-1,c=0;c<a;c++){o=1+c%s;var l=(i=1+Math.floor(c/s))*r,u=o-1+l,d=o+l-r,p=o-1+l-r;t[l+o]+=t[u]+t[d]-t[p]}}t.default=n}),define("graphing/automatic-label-placer",["require","exports","graphing/integral-image","underscore"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateCandidatesForPolygon=t.generateCandidatesForAngle=t.generateCandidatesForSegment=t.generateCandidatesForPoint=t.buildStaticEnvGetter=t.computePositions=t.getIntegralImage=void 0;var o=.5,i=document.createElement("canvas"),a=[];function s(e,t){if(!(0<t.width*t.height))return new r.default({width:0,height:0,data:[]});i.width=0,i.width=Math.round(t.width*o),i.height=Math.round(t.height*o),(t=i.getContext("2d")).save(),t.scale(i.width/e.canvas.width,i.height/e.canvas.height),t.drawImage(e.canvas,0,0),t.restore();var n=(t=t.getImageData(0,0,i.width,i.height)).data;n.length,a.length;for(var s=a=new Array(n.length/4),c=0;c<s.length;c++)s[c]=n[4*c+3];return new r.default({width:t.width,height:t.height,data:s})}function c(e,t){var r=1/0,n=-1,o=t[e];if(1===o.length)return o[0];for(var i=0;i<o.length;i++){var a=t[e][i].staticScore+function(e,t,r){for(var n=0,o=r[e][t],i=0;i<r.length;i++)if(i!==e){for(var a=0,s=r[i],c=s.length-1;0<=c;c--){var l=s[c];a+=Math.max(0,Math.min(o.right,l.right)-Math.max(o.left,l.left))*Math.max(0,Math.min(o.bottom,l.bottom)-Math.max(o.top,l.top))}n+=a/s.length}return n}(e,i,t);(-1===n||a<r)&&(r=a,n=i)}return o[n]}function l(e,t){return Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left))*Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top))}function u(e,t){if(!(t.length<=1))for(var r,n=e(),i=0,a=t;i<a.length;i++){var s=a[i];s.staticScore+=(c=void 0,c=l(r=s,n.viewport),10*(r.width*r.height-c)),s.staticScore+=function(e,t){var r=0;return t.forEach(function(t){r+=l(e,t)}),r}(s,n.domObstructions),s.staticScore+=(c=s,c=(s=n.integralImage).getSum({left:c.left*o,right:c.right*o,top:c.top*o,bottom:c.bottom*o}),(c/=200)/.25)}var c}t.getIntegralImage=s,t.computePositions=function(e){for(var t=0;t<e.length;t++){var r=c(t,e);e[t]=[r]}return e.map(function(e){return e[0]})},t.buildStaticEnvGetter=function(e,t,r){var n;return function(){return n=n||{domObstructions:r,viewport:{left:0,right:t.width,top:0,bottom:t.height},integralImage:s(e,t)}}},t.generateCandidatesForPoint=function(e,t){var r=t.nakedLabel?0:t.pt_radius,o=Math.round(r/Math.sqrt(2)),i=[],a=t.pt_x,s=t.pt_y,c=t.width,l=t.height;i.push({cx_s:0,cy_s:0,cx_a:0,cy_a:0,staticScore:400,orientation:"center",matches:{default:1,center:1,center_auto:1,auto_center:1}}),i.push({cx_s:.5,cx_a:r+3,cy_s:0,cy_a:0,staticScore:400,orientation:"right",matches:{default:1,right:1,center_auto:1,auto_right:1}}),i.push({cx_s:-.5,cx_a:-r-3,cy_s:0,cy_a:0,staticScore:400,orientation:"left",matches:{default:1,left:1,center_auto:1,auto_left:1}}),i.push({cx_s:0,cx_a:0,cy_s:-.5,cy_a:-r,staticScore:400,orientation:"above",matches:{default:1,above:1,auto_center:1,above_auto:1}}),i.push({cx_s:-.5,cx_a:-o,cy_s:-.5,cy_a:-o,staticScore:400,orientation:"tl",matches:{default:1,above_left:1,above_auto:1,auto_left:1}}),i.push({cx_s:.5,cx_a:o,cy_s:-.5,cy_a:-o,staticScore:400,orientation:"tr",matches:{default:1,above_right:1,above_auto:1,auto_right:1}}),i.push({cx_s:0,cx_a:0,cy_s:.5,cy_a:r,staticScore:400,orientation:"below",matches:{default:1,below:1,auto_center:1,below_auto:1}}),i.push({cx_s:-.5,cx_a:-o,cy_s:.5,cy_a:o,staticScore:400,orientation:"bl",matches:{default:1,below_left:1,below_auto:1,auto_left:1}}),i.push({cx_s:.5,cx_a:o,cy_s:.5,cy_a:o,staticScore:400,orientation:"br",matches:{default:1,below_right:1,below_auto:1,auto_right:1}});var d=Math.cos(t.rotation),p=Math.sin(t.rotation);i=i.map(function(e){var r=e.cx_s*c+e.cx_a,n=e.cy_s*l+e.cy_a,o=r*d-n*p,i=n*d+r*p,u="calc("+(100*e.cx_s-50)+"% + "+e.cx_a+"px)",h="calc("+(100*e.cy_s-50)+"% + "+e.cy_a+"px)",f=-c/2,g=c/2,m=-l/2;n=l/2;return t.rotation&&(f=(r=function(e){for(var t=e[0].x,r=e[0].x,n=e[0].y,o=e[0].y,i=e.length-1;1<=i;i--){var a,s=(a=e[i]).x;s<t&&(t=s),r<s&&(r=s),(a=a.y)<n&&(n=a),o<a&&(o=a)}return{left:t,right:r,top:n,bottom:o}}([{x:f*d-m*p,y:m*d+f*p},{x:f*d-n*p,y:n*d+f*p},{x:g*d-m*p,y:m*d+g*p},{x:g*d-n*p,y:n*d+g*p}])).left,g=r.right,m=r.top,n=r.bottom),f=Math.round(a+o+f),g=Math.round(a+o+g),m=Math.round(s+i+m),n=Math.round(s+i+n),{pt_x:Math.round(a),pt_y:Math.round(s),left:f,right:g,top:m,bottom:n,width:g-f,height:n-m,transform:"translate("+u+","+h+")",staticScore:t.priorOrientation===e.orientation?e.staticScore-20:e.staticScore,orientation:e.orientation,matches:e.matches}});return u(e,i=t.enforceOrientation&&"default"!==t.enforceOrientation?n.filter(i,function(e){return!!e.matches[t.enforceOrientation]}):t.nakedLabel?n.filter(i,function(e){return"center"===e.orientation}):t.keepOrientation&&t.priorOrientation?n.filter(i,function(e){return e.orientation===t.priorOrientation}):n.filter(i,function(e){return"center"!==e.orientation})),i},t.generateCandidatesForSegment=function(e,t){for(var r=[],o=t.width,i=t.height,a=o/2,s=i/2,c=t.pt_x1,l=t.pt_y1,d=t.pt_x2,p=t.pt_y2,h=(p-l)/(d-c),f=Math.atan2(p-l,d-c)+Math.PI/2,g=5*Math.cos(f),m=5*Math.sin(f),y=Math.min(l,p)-Math.abs(m)-i,v=Math.max(l,p)+Math.abs(m),b=[0,20,20,40,40],x=[],w=0,E=[.5,.4,.6,.2,.8];w<E.length;w++){var S=E[w];x.push({x:c*(1-S)+d*S,y:l*(1-S)+p*S})}for(var k=0;k<x.length;k++){var _,I,M,L,T,C=x[k];2<=h||h<=-2?(L=T=C.y-s,O=Math.abs((d-c)/(p-l)*s)+Math.abs(g),_=C.x+O,I=C.x-O-o):T=h<=.05&&-.05<=h?(_=I=C.x-a,M=Math.abs(h*a)+Math.abs(m),L=C.y-M-i,C.y+M):(I=0<g?(_=C.x+g,C.x-g-o):(_=C.x+g-o,C.x-g),0<m?(L=C.y+m,C.y-m-i):(L=C.y+m-i,C.y-m)),L<y?L=y:v<L&&(L=v),T<y?T=y:v<T&&(T=v);var A=0<(d-c)*(L-l)-(p-l)*(_-c),O=k.toString()+(A?"-a":"-b");r.push({pt_x:C.x,pt_y:C.y,left:_,top:L,staticScore:b[k],orientation:O,matches:((M={})[O]=1,M)}),A=k.toString()+(A?"-b":"-a"),r.push({pt_x:C.x,pt_y:C.y,left:I,top:T,staticScore:b[k],orientation:A,matches:((C={})[A]=1,C)})}return f=r.map(function(e){var r=Math.round(e.left),n=Math.round(e.left+o),a=Math.round(e.top),s=Math.round(e.top+i);return{pt_x:Math.round(e.pt_x),pt_y:Math.round(e.pt_y),left:r,right:n,top:a,bottom:s,width:n-r,height:s-a,staticScore:t.priorOrientation===e.orientation?e.staticScore-20:e.staticScore,orientation:e.orientation,matches:e.matches}}),t.keepOrientation&&t.priorOrientation&&(f=n.filter(f,function(e){return e.orientation===t.priorOrientation})),u(e,f),f},t.generateCandidatesForAngle=function(e,t){var r=[],o=t.pt_x,i=t.pt_y,a=t.width,s=t.height,c=t.startAngle;(h=t.endAngle)<c&&(h+=2*Math.PI);var l=(c+h)/2,d=t.isRightAngle?t.radius*Math.sqrt(2):t.radius+4,p=[],h=(c=d+Math.sqrt(t.width*t.width/4+t.height*t.height/4))*Math.sin(l);d+.5*s<h&&(h=d+.5*s),h<-d-.5*s&&(h=-d-.5*s),p.push({x:o+c*Math.cos(l)-a/2,y:i+h-s/2});for(var f=0;f<p.length;f++){var g=p[f],m=f.toString()+"-a";r.push({pt_x:g.x,pt_y:g.y,left:g.x,top:g.y,staticScore:0,orientation:m,matches:((g={})[m]=1,g)})}return h=r.map(function(e){var r=Math.round(e.left),n=Math.round(e.left+a),o=Math.round(e.top),i=Math.round(e.top+s);return{pt_x:Math.round(e.pt_x),pt_y:Math.round(e.pt_y),left:r,right:n,top:o,bottom:i,width:n-r,height:i-o,staticScore:t.priorOrientation===e.orientation?e.staticScore-20:e.staticScore,orientation:e.orientation,matches:e.matches}}),t.keepOrientation&&t.priorOrientation&&(h=n.filter(h,function(e){return e.orientation===t.priorOrientation})),u(e,h),h},t.generateCandidatesForPolygon=function(e,t){for(var r=[],o=t.width,i=t.height,a=Math.round(10/Math.sqrt(2)),s=0,c=0,l=0,d=0;d<t.path.length-2;d+=2)l+=1,s+=t.path[d],c+=t.path[d+1];var p=s/l,h=c/l;return r.push({left:p-o/2,top:h-i/2,staticScore:0,orientation:"center",matches:{center:1}}),r.push({left:10+p+3,top:h-i/2,staticScore:50,orientation:"right",matches:{right:1}}),r.push({left:p-(10+o)-3,top:h-i/2,staticScore:50,orientation:"left",matches:{left:1}}),r.push({left:p-o/2,top:h-(i+10),staticScore:50,orientation:"top",matches:{top:1}}),r.push({left:p-(o+a),top:h-(i+a),staticScore:50,orientation:"tl",matches:{tl:1}}),r.push({left:p+a,top:h-(i+a),staticScore:50,orientation:"tr",matches:{tr:1}}),r.push({left:p-o/2,top:10+h,staticScore:50,orientation:"bottom",matches:{bottom:1}}),r.push({left:p-(o+a),top:h+a,staticScore:50,orientation:"bl",matches:{bl:1}}),r.push({left:p+a,top:h+a,staticScore:50,orientation:"br",matches:{br:1}}),r=r.map(function(e){var r=Math.round(e.left),n=Math.round(e.left+o),a=Math.round(e.top),s=Math.round(e.top+i);return{pt_x:Math.round(p),pt_y:Math.round(h),left:r,right:n,top:a,bottom:s,width:n-r,height:s-a,staticScore:t.priorOrientation===e.orientation?e.staticScore-20:e.staticScore,orientation:e.orientation,matches:e.matches}}),t.keepOrientation&&t.priorOrientation&&(r=n.filter(r,function(e){return e.orientation===t.priorOrientation})),u(e,r),r}}),define("core/math/interpolatedlabel",["require","exports","parsenodes","core/lib/label","./policy","core/math/types"],function(e,t,r,n,o,i){"use strict";function a(e){if(e.length<2)return"text";var t=e.split("`").length-1;return t<2?"text":2==t&&"`"===e[0]&&"`"===e[e.length-1]?"latex":"mixed"}function s(e){if(0===e.length)return[""];for(var t=[],r=e.split(/(`)/),n=!1,o="",i=0;i<r.length;i++){var a=r[i];a.length&&("`"===a?(o+="`",(n=!n)||(t.push(o),o="")):(o+=a,n||(t.push(o),o="")))}return o.length&&t.push(o),t}function c(e){for(var t,r,n="\\$({"+["[a-zA-Z][0-9]*","[a-zA-Z]_[a-zA-Z0-9]+","[a-zA-Z]_\\{[a-zA-Z0-9]+\\}","\\\\[a-zA-Z]+","\\\\[a-zA-Z]+_{[a-zA-Z0-9]+}","\\\\[a-zA-Z]+_[a-zA-Z0-9]+"].join("})|\\$({")+"})",o=new RegExp(n,"g"),i=[],a=0;t=o.exec(e);){(r=t.index)>a&&i.push(e.substr(a,r-a));var s=t[0],c=s.replace(/[{}\$]/g,"").replace(/^([a-zA-Z])([0-9]+)$/,"$1_$2");i.push({symbol:c,str:s}),a=t.index+s.length}return a<e.length&&i.push(e.substr(a)),{raw:e,parts:i}}function l(e,t){return t?"{"+n.truncatedLatexLabel(e,{bigCutoff:1e7,digits:8})+"}":n.truncatedPlainmathLabel(e,{bigCutoff:1e7,digits:8})}Object.defineProperty(t,"__esModule",{value:!0}),t.interpolate=t.parse=t.chunkLabel=t.classifyLabelText=void 0,t.classifyLabelText=a,t.chunkLabel=s,t.parse=function(e){return s(e).map(c)},t.interpolate=function(e,t,n){return e.map(function(e){return function(e,t,n){for(var s=[],c="latex"===a(e.raw),u=0,d=e.parts;u<d.length;u++){if("string"==typeof(h=d[u]))s.push(h);else{var p,h;if((h=r.Identifier(h.symbol).tryGetConcreteTree(o.defaultPolicy,t)).valueType===i.Number&&0===h.getDependencies().length){if("number"==typeof(p=h.asValue())){s.push(l(p,c));continue}}else if(h.valueType===i.ListOfNumber&&n<h.length&&0===h.getDependencies().length&&"number"==typeof(p=h.elementAt(n).asValue())){s.push(l(p,c));continue}c?s.push("{?}"):s.push("?")}}return s.join("")}(e,t,n)}).join("")}}),define("loadcss!dcgview-helpers/static-mathquill-view",function(){}),define("dcgview-helpers/static-mathquill-view",["require","exports","tslib","dcgview","vendor/mathquill","jquery","lib/conditional_blur","loadcss!./static-mathquill-view"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,c=(s=n.Class,r.__extends(l,s),l.prototype.template=function(){var e=this;return 1===this.children.length?this.children[0]:n.createElement("div",{didMount:function(t){return e.didMountMathquill(t)}})},l.prototype.didMount=function(){1===this.children.length&&this.didMountMathquill(this.findRootNode())},l.prototype.didMountMathquill=function(e){this.staticMath=o.MQ.StaticMath(e,r.__assign(r.__assign({},this.props.config()),{mouseEvents:!1})),i(e).addClass("dcg-static-mathquill-view").on("dcg-tapstart",function(){a.default()}),this.updateMathquill()},l.prototype.didUpdate=function(){this.updateMathquill()},l.prototype.updateMathquill=function(){this.updateMathquillAria(),this.updateMathquillLatex()},l.prototype.updateMathquillLatex=function(){var e;this.staticMath&&(e=this.props.latex(),this.lastLatex!==e&&(this.staticMath.latex(e),this.lastLatex=e,this.props.onReflow&&this.props.onReflow()))},l.prototype.updateMathquillAria=function(){var e;this.staticMath&&this.props.getAriaLabel&&(e=this.props.getAriaLabel())!==this.staticMath.getAriaLabel()&&this.staticMath.setAriaLabel(e)},l);function l(){return null!==s&&s.apply(this,arguments)||this}t.default=c}),define("core/lib/count-latex-tokens",["require","exports","core/math/parser/latex-lexer"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.countLatexTokens=void 0,t.countLatexTokens=function(e){for(var t=r.lex(e),n=0;!r.isDone(t);)n+=1,t=r.advance(t);return n}}),define("loadcss!dcgview-helpers/mathquill-view",function(){}),define("dcgview-helpers/mathquill-view",["require","exports","tslib","keys","browser","dcgview","vendor/mathquill","jquery","./static-mathquill-view","../core/lib/count-latex-tokens","loadcss!./mathquill-view"],function(e,t,r,n,o,i,a,s,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXPRESSION_TOKEN_LIMIT=void 0;var u=i.Components.If;t.EXPRESSION_TOKEN_LIMIT=500;var d,p=(d=i.Class,r.__extends(h,d),h.prototype.template=function(){var e=this;return 1===this.children.length?this.children[0]:i.createElement("div",{class:i.const("dcg-mq-container")},i.createElement(u,{predicate:function(){return 0<e.getPlaceholder().trim().length}},function(){return i.createElement("span",{class:i.const("dcg-mq-placeholder")},i.createElement(c.default,{config:function(){return e.props.config()},latex:function(){return e.getPlaceholder()}}))}),i.createElement("div",{class:function(){return{"dcg-math-field":!0,"dcg-no-fadeout":e.props.noFadeout&&e.props.noFadeout(),"dcg-invalid":e.props.hasError(),"dcg-focus":e.props.isFocused()}},didMount:function(t){return e.didMountMathquill(t)},"data-dcg-label":function(){return e.props.dataLabelAttributeValue?e.props.dataLabelAttributeValue():void 0}}))},h.prototype.didMount=function(){1===this.children.length&&this.didMountMathquill(this.findRootNode())},h.prototype.willUnmount=function(){this.$mathField.off(".view"),this.mathField=void 0},h.prototype.getPlaceholder=function(){return!this.props.placeholder||this.props.isFocused()||this.props.latex()?"":this.props.placeholder()},h.prototype.didMountMathquill=function(e){var t=this,i=r.__assign(r.__assign({},this.props.config()),{handlers:{reflow:function(e){t.props.onReflow&&t.mathField&&t.props.onReflow(e)}},onCut:function(){t.mathField&&t.props.onUserChangedLatex(t.mathField.latex())},onPaste:function(){t.mathField&&t.props.onUserChangedLatex(t.mathField.latex())},overrideTypedText:function(e){t.mathField&&t.viewCanAcceptText(e)&&(t.props.onUserTypedText?t.props.onUserTypedText(e):(t.mathField.typedText(e),t.props.onUserChangedLatex(t.mathField.latex())))},overrideKeystroke:function(e,r){if("Backspace"===e&&r.preventDefault(),t.mathField){if("Spacebar"===e&&t.props.disableSpace&&t.props.disableSpace())return r.preventDefault();var o,i=n.lookup(r);"Up"!==i&&"Down"!==i&&"Left"!==i&&"Right"!==i&&"Esc"!==i||(o=[],r.ctrlKey&&o.push("Ctrl"),r.metaKey&&o.push("Meta"),r.altKey&&o.push("Alt"),r.shiftKey&&o.push("Shift"),e=o.length?(o.push(i),o.join("-")):i),t.props.onUserPressedKey?t.props.onUserPressedKey(e,r):(t.mathField.keystroke(e,r),t.props.onUserChangedLatex(t.mathField.latex()))}}});this.props.needsSystemKeypad&&this.props.needsSystemKeypad()&&(i.substituteTextarea=function(){return s('<textarea autocorrect="off" autocapitalize="none" spellcheck="false" autocomplete="off">')[0]}),this.$mathField=s(e),this.mathField=a.MQ.MathField(e,i),e._mqMathFieldInstance=this.mathField,(e._mqViewInstance=this).$mathField.on("focusin.view focusout.view",function(e){return t.onFocusEvent(e)}).on("paste.view",function(e){return t.onPasteEvent(e)}),(o.IS_IOS||o.IS_ANDROID)&&this.$mathField.on("keypress.view",function(e){return t.onKeypressEvent(e)}),this.hookupMQTapTouch(),this.updateMathquill()},h.prototype.didUpdate=function(){this.updateMathquill()},h.prototype.updateMathquill=function(){this.updateMathquillAria(),this.updateMathquillLatex(),this.updateMathquillFocused(),this.updateMathquillPostLabel()},h.prototype.onFocusEvent=function(e){var t=this.isFocused();t!==this.shouldBeFocused()&&this.props.onFocusedChanged(t,e)},h.prototype.onPasteEvent=function(e){var t="",r=window.clipboardData;e=e.originalEvent;return r&&r.getData?t=r.getData("Text"):e&&e.clipboardData&&e.clipboardData.getData&&(t=e.clipboardData.getData("text/plain")),!(t=this.viewCanAcceptText(t))&&this.props.onExpressionSizeExceeded&&this.props.onExpressionSizeExceeded(),t},h.prototype.viewCanAcceptText=function(e){return h.canAcceptText(this.mathField,this.props.capExpressionSize(),e)},h.canAcceptText=function(e,r,n){return!!e&&(!r||(e=e.latex(),l.countLatexTokens(e)+l.countLatexTokens(n)<=t.EXPRESSION_TOKEN_LIMIT))},h.prototype.onKeypressEvent=function(e){var t;e.stopPropagation(),e.preventDefault(),this.mathField&&(t=e.key&&1===e.key.length?e.key:void 0)&&this.viewCanAcceptText(t)&&(this.props.onUserTypedText?this.props.onUserTypedText(t):(this.mathField.typedText(t),this.props.onUserChangedLatex(this.mathField.latex())))},h.prototype.hookupMQTapTouch=function(){var e=this;this.$mathField.on("dcg-tap.view",function(t){var r;"touch"===t.device&&e.mathField&&(t=t.changedTouches[0],e.mathField.clickAt(t.clientX,t.clientY,t.target),e.isFocused()||e.mathField.focus(),r=void 0,setTimeout(function(){r=Date.now()},0),e.mathField.ignoreNextMousedown(function(){return void 0===r||Date.now()-r<500}))})},h.prototype.updateMathquillAria=function(){var e;!this.mathField||(e=this.props.getAriaLabel())!==this.mathField.getAriaLabel()&&this.mathField.setAriaLabel(e)},h.prototype.updateMathquillPostLabel=function(){this.mathField&&this.mathField.setAriaPostLabel(this.props.getAriaPostLabel(),this.props.hasError()?5e3:1e3)},h.prototype.updateMathquillLatex=function(){var e=this.props.latex();this.mathField&&this.lastLatexProp!==e&&(this.props.capExpressionSize()&&l.countLatexTokens(e)>t.EXPRESSION_TOKEN_LIMIT||(this.lastLatexProp=e,this.mathField.latex()!==e&&this.mathField.latex(e)))},h.prototype.updateMathquillFocused=function(){var e,t;this.mathField&&(e=this.isFocused(),(t=this.shouldBeFocused())&&t!==this.wasFocusedLastUpdate&&this.props.selectOnFocus&&this.props.selectOnFocus()&&this.mathField.select(),e!==(this.wasFocusedLastUpdate=t)&&(t?this.mathField.focus():this.mathField.blur()))},h.prototype.isFocused=function(){return!(!document.activeElement||!s(document.activeElement).closest(this.$mathField).length)},h.prototype.shouldBeFocused=function(){return this.props.isFocused()},h.getFocusedMathquill=function(){if(document.activeElement){var e=s(document.activeElement).closest(".dcg-mq-editable-field")[0];return e?e._mqMathFieldInstance:void 0}},h.getMQViewInstance=function(e){return(e=e.el())?e._mqViewInstance:void 0},h.applyArrowKeyAndReturnIfWasAtBounds=function(e,t,r){var n=e.selection(),o=0===n.startIndex&&n.endIndex===n.latex.length;return"Up"!==t&&"Down"!==t||!o?(e.keystroke(t,r),!((e=e.selection()).latex!==n.latex||e.startIndex!==n.startIndex||e.endIndex!==n.endIndex)):(e.keystroke(t,r),!0)},h.simulateKeypress=function(e,t){var r=h.getMQViewInstance(e);r&&(r.props.onUserPressedKey?r.props.onUserPressedKey(t):(e.keystroke(t),r.props.onUserChangedLatex(e.latex())))},h.simulateUserChangedLatex=function(e){(e=h.getMQViewInstance(e))&&e.mathField&&e.props.onUserChangedLatex(e.mathField.latex())},h.handleKeystrokeAndDecideIfSpecialEvent=function(e,t,r){return"Enter"===t||"Delete"===t&&""===e.latex()||"Backspace"===t&&""===e.latex()||("Up"===t||"Down"===t||"Left"===t||"Right"===t?h.applyArrowKeyAndReturnIfWasAtBounds(e,t,r):(e.keystroke(t,r),!1))},h);function h(){var e=null!==d&&d.apply(this,arguments)||this;return e.lastLatexProp="",e.wasFocusedLastUpdate=!1,e}t.default=p}),define("graphing/poilabelslayer",["require","exports","core/vendor/d3-color","tslib","dcgview","jquery","core/lib/label","core/types/graphmode","core/types/point-size","core/math/poi-type","./constants","./poi","./automatic-label-placer","core/lib/color-helpers","core/math/interpolatedlabel","../dcgview-helpers/static-mathquill-view","../dcgview-helpers/mathquill-view","core/graphing-calc/json/expression","graphing-calc/models/expression","graphing-calc/models/abstract-item","graphing/canvas-labels","graphing/movablepointslayer","./svg-groups","main/mathquill-operators"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g,m,y,v,b,x,w,E,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var k=o.Components.Input,_=o.Components,I=_.For,M=_.Switch,L=_.IfElse;function T(e,t,r){return e=e.s("graphing-calculator-label-poi-unknown"),(t=t.getProjection())?((t=t.viewport)&&r&&(e=w.getCoordsString(r.x,r.y,t)),e):e}var C;C=o.Class,n.__extends(A,C),A.prototype.init=function(){this.grapher=this.props.grapher(),this.controller=this.grapher.controller,this.cachedLabelDict={},this.cachedLabelOrder=[],this.hoveredPOI=void 0,this.openedPOI2Sketch={},this.takingScreenshot=!1},A.prototype.template=function(){var e=this;return o.createElement(I,{each:function(){return e.cachedLabelOrder}},o.createElement("div",{class:o.const("dcg-graph-outer"),style:this.const({"z-index":0}),didMount:this.bindFn(this.didMountRoot)},function(t){return o.createElement("div",{class:function(){return e.getLabelClasses(t)},style:function(){return e.getLabelStyles(t)}},o.createElement("div",{class:o.const("dcg-pt"),style:function(){return e.getDotStyles(t)}}),o.createElement("div",{class:o.const("dcg-label"),didMount:function(r){return e.linkLabelNode(t,r)}},e.renderLabelContent(t)))}))},A.prototype.renderLabelContent=function(e){var t=this;return o.createElement(M,{key:function(){return t.getLabelContent(e).type}},function(r){return"text"===r?o.createElement("span",{class:o.const("dcg-label-raw-text")},function(){return t.getLabelContent(e).text}):"latex"===r?o.createElement(g.default,{latex:function(){return t.getLabelContent(e).text},config:t.bindFn(t.getMQConfig)}):"mixed"===r?o.createElement(I,{each:function(){return f.chunkLabel(t.getLabelContent(e).text)},key:function(e,t){return""+e+t}},o.createElement("span",null,function(e){return L(function(){return"latex"===f.classifyLabelText(e)},{true:function(){return o.createElement(g.default,{latex:function(){return e.substr(1,e.length-2)},config:t.bindFn(t.getMQConfig)})},false:function(){return o.createElement("span",{class:o.const("dcg-label-raw-text")},function(){return e})}})})):r===y.EditableLabelMode.Math?o.createElement("div",{class:function(){return{"dcg-editable-label-border":!0,"dcg-do-not-blur":!0,"dcg-focus":t.shouldEditableLabelBeFocused(e),"dcg-empty-label":0===t.getEditableLabelText(e).trim().length}},style:function(){return{"border-color":h.shadeColor(t.getEditableLabelTextColor(e),.3)}}},o.createElement(m.default,{latex:function(){return t.getEditableLabelText(e)},placeholder:function(){return""},isFocused:function(){return t.shouldEditableLabelBeFocused(e)},capExpressionSize:function(){return!!t.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:o.const(!1),config:t.bindFn(t.getMQConfig),getAriaLabel:function(){return t.controller.s("graphing-calculator-narration-editable-point-label-at-coordinates",{coordinates:T(t.controller,t.grapher,t.cachedLabelDict[e])})},getAriaPostLabel:t.const(""),onUserChangedLatex:function(r){return t.onLabelInput(r,e)},onExpressionSizeExceeded:function(){return t.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(r){return t.onEditableLabelFocusChange(r,e)},hasError:t.const(!1),noFadeout:t.const(!0),needsSystemKeypad:function(){return!t.controller.isKeypadEnabled()}})):o.createElement("div",{class:function(){return{"dcg-resizing-text-input-container":!0,"dcg-editable-label-border":!0,"dcg-focus":t.shouldEditableLabelBeFocused(e),"dcg-empty-label":0===t.getEditableLabelText(e).trim().length}},style:function(){return{"border-color":h.shadeColor(t.getEditableLabelTextColor(e),.3)}},onScroll:function(e){e.target&&(e.target.scrollLeft=0)}},o.createElement(k,{"aria-label":function(){return t.controller.s("graphing-calculator-narration-editable-point-label-at-coordinates",{coordinates:T(t.controller,t.grapher,t.cachedLabelDict[e])})},onInput:function(r){return t.onLabelInput(r,e)},value:function(){return t.getEditableLabelText(e)},onFocus:function(){return t.onEditableLabelFocusChange(!0,e)},onBlur:function(){return t.onEditableLabelFocusChange(!1,e)}}),o.createElement("span",{class:o.const("dcg-text-input-content")},function(){return t.getEditableLabelText(e)||" "}))})},A.prototype.getSketchIdFromLabelId=function(e){if(e=this.cachedLabelDict[e])return e.sketchId},A.prototype.getEditableLabelTextColor=function(e){return(e=this.getSketchIdFromLabelId(e))&&(e=this.controller.getItemModel(e))&&"expression"===e.type?b.getDisplayColor(e):"#000"},A.prototype.onEditableLabelFocusChange=function(e,t){(t=this.getSketchIdFromLabelId(t))&&(e?this.controller.dispatch({type:"set-focus-location",location:{type:"editable-label",id:t}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"editable-label",id:t}}),this.update())},A.prototype.shouldEditableLabelBeFocused=function(e){var t=this.getSketchIdFromLabelId(e);return!(!(e=this.controller.getFocusLocation())||"editable-label"!==e.type||!t||e.id!==t)},A.prototype.onLabelInput=function(e,t){var r=this.getSketchIdFromLabelId(t);!r||(t=this.controller.getItemModel(r))&&"expression"===t.type&&(e=e,this.controller.getItemEditableLabelMode(r)===y.EditableLabelMode.Math&&0<e.length&&(e="`"+e+"`"),this.controller.dispatch({type:"set-item-label",id:r,label:e}))},A.prototype.getEditableLabelText=function(e){var t=this.getSketchIdFromLabelId(e);return t&&(e=this.controller.getItemModel(t))&&"expression"===e.type?this.controller.getItemEditableLabelMode(t)===y.EditableLabelMode.Math?e.label.substr(1,e.label.length-2):e.label:""},A.prototype.linkLabelNode=function(e,t){(e=this.cachedLabelDict[e])&&(e.labelDOM=t)},A.prototype.getLabelClasses=function(e){return(e=this.cachedLabelDict[e])?e.classes:{}},A.prototype.getLabelStyles=function(e){return(e=this.cachedLabelDict[e])?e.styles:{}},A.prototype.getDotStyles=function(e){return(e=this.cachedLabelDict[e])?e.dotStyles:{}},A.prototype.getLabelContent=function(e){var t=this.cachedLabelDict[e];return t&&(e=this.getSketchIdFromLabelId(e))?(e=this.controller.getItemEditableLabelMode(e),t.classes["dcg-editable-label"]&&void 0!==e&&e!==y.EditableLabelMode.None?{is_hole:!1,type:e,text:""}:t.content):{is_hole:!1,type:"text",text:""}},A.prototype.didMountRoot=function(e){this.node=e},A.prototype.computeHoveredLabel=function(e,t){var r;this.hoveredPOI?this.isOpenPOI(this.hoveredPOI)?this.grapher.setLayerClass("hoveredPOI","dcg-mouse-over-opened-poi"):(r=this.computeLabel(this.hoveredPOI,e,t,"hovered"),this.grapher.setLayerClass("hoveredPOI","dcg-mouse-over-closed-poi")):this.grapher.setLayerClass("hoveredPOI",void 0),(t=this.getHoveredInteractiveLabel())&&!t.bareLabel?this.grapher.setLayerClass("interactiveLabel","dcg-mouse-over-opened-poi"):this.grapher.setLayerClass("interactiveLabel",void 0),r&&this.saveLabelToCache(r)},A.prototype.computeTraceLabel=function(e,t){var r;!this.traceInfo||(r=this.traceInfo.pt)&&(r=new d.POI(r.x,r.y,l.TRACE,this.traceInfo.branchInfo.sketch,this.traceInfo.branchInfo.branch,0),(t=this.computeLabel(r,e,t,"trace"))&&this.saveLabelToCache(t))},A.prototype.computeLabel=function(e,t,n,o){var i=e.id+"";"trace"===o&&(i="*trace*");var c=t.mapx(e.x),d=t.mapy(e.y),p=c,h=d;if(t.coordsAreOnscreen(c,d,u.OFFSCREEN_RENDER_MARGIN)&&!this.isHiddenInteractiveLabel(e)){var g=!1,m=void 0;(L=(T=e.sketch)&&T.branches[0])&&(g=!!("nakedLabel"in L&&L.nakedLabel),m="labelOrientation"in L?L.labelOrientation:void 0);var y=T.id,b=this.controller.getItemModel(y);if(!e.hasEditableLabel()||!b||"expression"!==b.type||v.isSinglePoint(b)){var x=function(e,t){var r=t.xmax-t.xmin,n=t.ymax-t.ymin,o=e.getGraphMode();e.type===l.TRACE?(o=(t=o===s.X)?e.y:e.x,c=e.getCompiledFunction(),c=a.point(o,r,n,c),t&&(i=c[0],c[0]=c[1],c[1]=i)):c=[a.value(e.x,r),a.value(e.y,n)];var i=!isFinite(c[1].value);n=(r=e.getLabel())&&f.classifyLabelText(r);if(r)return"latex"===n?{is_hole:i,type:"latex",text:r.substr(1,r.length-2)}:"text"===n?{is_hole:i,type:"text",text:r}:{is_hole:i,type:"mixed",text:r};if(e.hasEditableLabel())return{is_hole:i,type:"text",text:""};e=c[0].superscript?c[0].mantissa+"^{"+c[0].superscript+"}":c[0].string;var c=c[1].superscript?c[1].mantissa+"^{"+c[1].superscript+"}":c[1].string;return"undefined"===e&&(e="\\mathrm{undefined}"),"undefined"===c&&(c="\\mathrm{undefined}"),{is_hole:i,type:"latex",text:"\\left("+e+",\\space "+c+"\\right)"}}(e,t.viewport),w=e.pointIdxOnBranch,E=e.getLabelSize();Array.isArray(E)&&(E=E[w]);var S=e.getLabelRotation();Array.isArray(S)&&(S=S[w]);var k=e.getPointOpacity(),_=!!e.getTextOutline(),I=e.isPersistent(),M=e.isAttachedToPlottedPoint(),L=e.hasInteractiveLabel(),T=(t=e.hasEditableLabel()&&!this.takingScreenshot,w=!(!b||"expression"!==b.type||!v.isClickableObject(b)),T.color);w&&(A=this.grapher.clickableObjectsLayer.getHoveredObject(),(C=this.grapher.clickableObjectsLayer.getPressedObject())&&C.id===y&&C.listIndex===e.pointIdxOnBranch?(.2<(O=r.hsl(T)).l?O.l-=.2:O.l+=.1,T=O.toString()):A&&A.id===y&&A.listIndex===e.pointIdxOnBranch&&(.2<(O=r.hsl(T)).l?O.l-=.1:O.l+=.2,T=O.toString()));var C=!I,A=!!M;L&&(C=A=!0),"trace"===o&&(C=!(A=!1));M=(O=n[i])&&O.labelDOM,L=O&&O.width,n=O&&O.height;var O=O&&O.orientation;b={"dcg-poi-label":!0,"dcg-tracept":"trace"===o,"dcg-opened":"opened"===o,"dcg-hole":x.is_hole,"dcg-show-border":C,"dcg-hide-dot":A,"dcg-editable-label":t,"dcg-has-outline":_,"dcg-underlined-label":!!(w&&b&&"expression"===b.type&&b.hidden)};return isFinite(E)||(E=1),E={left:c+"px",top:d+"px","font-size":Math.round(1100*E)/10+"%"},S&&!this.takingScreenshot&&(E.transform="rotate("+S+"rad)"),I&&T&&(E.color=T),E.opacity=""+Math.min(.99,k),I={},"trace"===o&&(I["background-color"]=T,I["border-color"]=T),{id:i,sketchId:y,poi:e,x:e.x,y:e.y,screenX:c,screenY:d,top:h,left:p,width:L,height:n,labelDOM:M,forcedOrientation:m,isNakedLabel:g,isClickable:w,orientation:O,rotation:S,classes:b,styles:E,dotStyles:I,content:x,hasBorder:e.hasEditableLabel(),opacity:k,hasOutline:_||e.hasEditableLabel()}}}},A.prototype.computeAllLabels=function(e,t){var r,n,o=this,i=this.grapher.graphSketches;this.grapher.getSketchOrder().forEach(function(r){var a=i[r];if(a){var s=a.labels;if(s.length)for(var c=0;c<s.length;c++)(n=o.computeLabel(s[c],e,t,"opened"))&&(Array.isArray(a.color)&&(n.styles.color=a.color[c]),o.saveLabelToCache(n))}});var a={};for(r in this.openedPOI2Sketch){var s=(s=i[this.openedPOI2Sketch[r]])?s.getPOIById(r):null;s&&(a[r]=s.sketch.id,(n=this.computeLabel(s,e,t,"opened"))&&this.saveLabelToCache(n))}return this.openedPOI2Sketch=a,{}},A.prototype.saveLabelToCache=function(e){var t=e.id;this.cachedLabelDict[t]||this.cachedLabelOrder.push(t),this.cachedLabelDict[t]=e},A.prototype.markLabelsDirty=function(){this.labelsDirty=!0},A.prototype.getInteractiveLabelUnderPoint=function(e){for(var t,r=this.cachedLabelOrder.length-1;0<=r;r--){var n=this.cachedLabelOrder[r],o=this.cachedLabelDict[n];if(o&&o.width&&o.height){var i=o.screenX,a=o.screenY,s=o.left,c=o.top,l=o.width,u=o.height;if(0<l&&0<u&&e.x>i+s&&e.x<i+s+l&&e.y>a+c&&e.y<a+c+u&&void 0!==(n=this.getSketchIdFromLabelId(n))&&(n=this.controller.getItemModel(n))&&"expression"===n.type){if(v.hasEditableLabel(n))return{type:"editable",model:n};!t&&v.isDraggableAndHidden(n)?t={type:"draggable",label:{model:n,x:o.x,y:o.y}}:!t&&o.isClickable&&(t={type:"clickable",model:n,poi:o.poi})}}}return t},A.prototype.positionLabels=function(e,t,r,n,o){var a=this,s=!this.labelsDirty;this.labelsDirty=!1;var l=[];t.forEach(function(e){var t,n,o,i,u,d=r[e];d&&d.labelDOM&&(void 0===(o=a.getSketchIdFromLabelId(e))||(i=a.grapher.getGraphSketch(o))&&i.branches&&(u=i.branches[0].pointSize),(void 0===u||"number"!=typeof u||u<0)&&(u=c.DEFAULT),t=(a.grapher.settings.config.projectorMode?14:10)*u/c.DEFAULT,n=d.screenX,e=d.screenY,o=d.labelDOM.clientWidth,i=d.labelDOM.clientHeight,0<o&&0<i&&(u=0,a.takingScreenshot&&d.hasBorder&&(u=5),l.push({renderedLabel:d,pt_x:n,pt_y:e,pt_radius:t+u,rotation:d.rotation,nakedLabel:d.isNakedLabel,width:o,height:i,keepOrientation:s,priorOrientation:d.orientation,enforceOrientation:d.forcedOrientation})))});var u=p.buildStaticEnvGetter(e,n,o);o=l.map(function(e){return p.generateCandidatesForPoint(u,e)});p.computePositions(o).forEach(function(e,t){var r=l[t].renderedLabel;r.orientation=e.orientation;var n=e.left-e.pt_x;t=e.top-e.pt_y;r.left=n,r.top=t,r.width=e.width,r.height=e.height;var o=r.labelDOM;o&&(o.style.transform=e.transform,i(o).data("orientation",e.orientation),setTimeout(function(){return o.classList.add("dcg-enable-transition")},1))})},A.prototype.copyToCtx=function(e){var t=this;E.save(e,"labels");var r=this.node.getBoundingClientRect();this.cachedLabelOrder.forEach(function(n){var o,i,a=t.cachedLabelDict[n];!a||(o=a.labelDOM)&&(i={pointCenterX:a.screenX-r.left,pointCenterY:a.screenY-r.top,hasOutline:!!a.hasOutline,hasBorder:!!a.hasBorder},n=t.computeRotatedCenter(i.pointCenterX,i.pointCenterY,a.rotation),i=x.computeDrawingCommandsForDOMLabel(o,i),e.save(),e.globalAlpha=a.opacity,e.rotate(a.rotation),e.translate(n.x,n.y),x.drawCommandsToCtx(i,e),e.restore())}),E.restore(e)},A.prototype.computeRotatedCenter=function(e,t,r){var n=Math.cos(-r);return{x:e*n-t*(r=Math.sin(-r)),y:t*n+e*r}},A.prototype.drawForScreenshot=function(e,t,r,n,o){this.takingScreenshot=!0,this.redraw(e,t,n,o),this.takingScreenshot=!1,this.copyToCtx(r)},A.prototype.redraw=function(e,t,r,n){var o=this.cachedLabelDict;this.cachedLabelDict={},this.cachedLabelOrder=[],this.computeAllLabels(e,o),this.computeHoveredLabel(e,o),this.computeTraceLabel(e,o),this.update(),this.positionLabels(t,this.cachedLabelOrder,this.cachedLabelDict,r,n)},A.prototype.clearOpenedPOI=function(){this.openedPOI2Sketch={}},A.prototype.closePOI=function(e){delete this.openedPOI2Sketch[e.id]},A.prototype.openPOI=function(e){this.openedPOI2Sketch[e.id]=e.sketch.id},A.prototype.isOpenPOI=function(e){return this.openedPOI2Sketch.hasOwnProperty(e.id)},A.prototype.isOpenInteractiveLabel=function(e){return!!this.isOpenPOI(e)&&e.hasInteractiveLabel()},A.prototype.isHiddenInteractiveLabel=function(e){return!!e&&!!e.hasInteractiveLabel()&&!this.isOpenPOI(e)&&this.getHoveredPOI()!==e},A.prototype.setHoveredPOI=function(e){this.hoveredPOI=e},A.prototype.getHoveredPOI=function(){return this.hoveredPOI},A.prototype.getHoveredInteractiveLabel=function(){var e=this.getHoveredPOI();return e&&e.hasInteractiveLabel()?e:void 0},A.prototype.setTraceInfo=function(e){this.traceInfo=e},A.prototype.isTracing=function(){return!!this.traceInfo},A.prototype.getTraceInfo=function(){return this.traceInfo},A.prototype.getMQConfig=function(){return{autoOperatorNames:S.getAutoOperators()}},n=A;function A(){var e=null!==C&&C.apply(this,arguments)||this;return e.labelsDirty=!1,e}t.default=n}),define("graphing/imagelayer",["require","exports","tslib","jquery","dcgview","underscore","./draw-image-to-ctx","./svg-groups","graphing-calc/models/image","core/lib/label","keys","lib/aria","./movablepointslayer","lib/mathspeak"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f,g=o.Components.For;f=o.Class,r.__extends(m,f),m.prototype.init=function(){this.grapher=this.props.grapher(),this.controller=this.grapher.controller,this.renderedTabTargetOrder=[],this.renderedTabTargets={}},m.prototype.template=function(){var e=this;return o.createElement(g,{each:function(){return e.renderedTabTargetOrder}},o.createElement("div",{class:o.const("dcg-graph-outer"),style:this.const({"z-index":0}),onFocusin:this.bindFn(this.handleFocusChange),onFocusout:this.bindFn(this.handleFocusChange),onKeydown:this.bindFn(this.handleKeydown),didMount:function(t){return e.rootNode=t}},function(t){return o.createElement("div",{class:o.const("dcg-tabbable-draggableimage"),style:function(){return e.getStyle(t)},role:o.const("button"),"aria-roledescription":function(){return e.controller.s("graphing-calculator-narration-draggable-image-description")},"dcg-draggableimage-id":e.const(t),tabindex:function(){return e.getTabIndex()},"aria-hidden":e.bindFn(e.getAriaHidden),"aria-label":function(){return e.getAriaLabel(t)}})}))},m.prototype.redrawToCtx=function(e,t,r,n){this.renderedTabTargets={},this.renderedTabTargetOrder=[],s.save(e,"background-images"),(void 0===n||n.length<i.size(r))&&(n=i.keys(r));for(var o=0,l=n;o<l.length;o++){var u=l[o],d=r[u];d&&d.shouldGraph&&!d.foreground&&a.drawImageToCtx(d,e,t);var p=this.controller.getItemModel(u);if(p&&"image"===p.type&&p.shouldGraph&&c.isActuallyDraggable(p)){var h=p.formula.dimensions;if(h&&h.x&&h.y&&h.width&&h.height&&h.radianAngle)for(var f=0;f<h.x.length;f++)if(isFinite(h.x[f])&&isFinite(h.y[f])&&isFinite(h.width[f])&&isFinite(h.height[f])&&isFinite(h.radianAngle[f])){this.renderedTabTargetOrder.push(u),this.renderedTabTargets[u]={id:u,description:this.getComputedDescription(p,f),x:h.x[f],y:h.y[f],radianAngle:h.radianAngle[f],width:h.width[f],height:h.height[f],widthScale:Math.abs(t.mapx(1)-t.mapx(0)),heightScale:Math.abs(t.mapy(1)-t.mapy(0)),screenX:t.mapx(h.x[f]),screenY:t.mapy(h.y[f]),centerId:p.formula.center_reference_id};break}}}s.restore(e),this.update(),this.speakAriaAlert()},m.prototype.getStyle=function(e){if(s=this.renderedTabTargets[e]){var t=s.screenX,r=s.screenY,n=s.radianAngle,o=s.width,i=s.height,a=s.widthScale,s=(e=s.heightScale)/a;return{position:"absolute",top:0,left:0,transform:"translate("+(t-(a=o*a)/2)+"px, "+(r-(e=i*e/s)/2)+"px)"+(1==s?"":" scale(1,"+s+")")+(n?" rotate("+n+"rad)":""),width:a+"px",height:e+"px"}}},m.prototype.getTabIndex=function(){var e=this.grapher.settings;return e.config.graphpaper&&e.config.enableTabindex?0:-1},m.prototype.getAriaHidden=function(){return!this.grapher.settings.config.graphpaper},m.prototype.getComputedDescription=function(e,t){return(t=e.formula&&e.formula.computed_description&&e.formula.computed_description[t])&&""!==t?h.getMathspeakFromText(t):this.grapher.getAudioTrace().getExpressionAriaLabel(e.id)},m.prototype.getAriaLabel=function(e){return(e=this.getAriaAlert({id:e,includeUsageInstructions:!1}))&&e.completeMessage},m.prototype.speakAriaAlert=function(){var e=this.focusedId;e&&!this.renderedTabTargets[e]||(e=this.getAriaAlert({id:e,lastAriaAlert:this.lastAriaAlert,includeUsageInstructions:!0}),(this.lastAriaAlert=e)&&e.completeMessage&&d.alert(e.completeMessage))},m.prototype.getAriaAlert=function(e){var t=e.id,r=e.lastAriaAlert,n=e.includeUsageInstructions;if(t){var o=this.controller.getItemModel(t);if(o&&"image"===o.type)if(d=this.renderedTabTargets[t]){r&&r.id!==t&&(r=void 0);var i=r&&r.label,a=d.description,s=i!==a,c=r&&r.coordX,l=r&&r.coordY,u=d.x,d=(e=d.y,i=u!==c||e!==l,this.grapher.getProjection());c=p.getCoordsString(u,e,d.viewport)+".",l=a,n=n?this.controller.s("graphing-calculator-narration-movable-point-suffix-usage-instructions"):"",d=this.isImageFullyVisible(o,d)?"":this.controller.s("graphing-calculator-narration-draggable-image-off-screen-prompt");return{id:t,coordX:u,coordY:e,label:a,completeMessage:r?s?l+d:i?c+d:"":l+". "+c+n+d}}}},m.prototype.handleFocusChange=function(){var e=void 0;document.activeElement&&n.contains(this.rootNode,document.activeElement)&&(e=n(document.activeElement).attr("dcg-draggableimage-id")),this.focusedId!==e&&(this.focusedId=e,this.lastAriaAlert=void 0,this.requestRedrawNextFrame())},m.prototype.requestRedrawNextFrame=function(){this.grapher.redrawAllLayers()},m.prototype.handleKeydown=function(e){var t,r,n;!this.focusedId||(t=this.renderedTabTargets[this.focusedId])&&(r=u.lookup(e),n=u.lookupChar(e),"Up"===r||"Down"===r||"Left"===r||"Right"===r?(e.stopPropagation(),e.preventDefault(),this.moveImageFromKeyboard(t,e)):"X"!==n&&"Y"!==n&&"L"!==n||this.speakImageAttribute(t,n))},m.prototype.moveImageFromKeyboard=function(e,t){var r,n,o,i,a,s,c,l,d,p;void 0!==e&&void 0!==e.centerId&&(i=(o=this.grapher.getProjection()).map_pt({x:e.x,y:e.y}),d=a=0,s=u.lookup(t),p=(o.pixelCoordinates.right-o.pixelCoordinates.left)/40,c=(o.pixelCoordinates.bottom-o.pixelCoordinates.top)/40,p="Up"===s||"Down"===s?c:p,p=t.shiftKey?5*p:p,"Up"===s?(n="y",d-=p,r=t.shiftKey?"bigup":"up"):"Down"===s?(n="y",d+=p,r=t.shiftKey?"bigdown":"down"):"Left"===s?(n="x",a-=p,r=t.shiftKey?"bigdown":"down"):"Right"===s&&(n="x",a+=p,r=t.shiftKey?"bigup":"up"),r&&(d={x:i.x+a,y:i.y+d},"x"===n||this.hasNonlinearMoveStrategy(e.centerId)?l={x:r}:"y"===n&&(l={y:r}),this.controller.dispatch({type:"on-move-point",pointInfo:{sketch:{id:e.centerId}},screenPt:d,previousScreenPt:i,projection:o,keyboardDirection:l})))},m.prototype.speakImageAttribute=function(e,t){if(e&&this.grapher.getAudioTrace()){var r=this.grapher.getProjection();if(r){var n=r.viewport;switch(t){case"X":d.alert("X: "+h.getMathspeakFromLatex(l.value(e.x,n.xmax-n.xmin).latex));break;case"Y":d.alert("Y: "+h.getMathspeakFromLatex(l.value(e.y,n.ymax-n.ymin).latex));break;case"L":d.alert(e.description)}}}},m.prototype.hasNonlinearMoveStrategy=function(e){return!!e&&(!(!(e=this.controller.getItemModel(e))||"expression"!==e.type||!e.formula)&&(!(!(e=e.formula.move_strategy)||!e[0])&&"updateSliderNonlinear"===e[0].type))},m.prototype.isImageFullyVisible=function(e,t){var r=e.formula.dimensions;if(!r||!r.x||!r.y)return!1;for(var n=0;n<r.x.length;n++)if(!t.coordsAreOnscreen(t.mapx(r.x[n]),t.mapy(r.y[n])))return!1;return!0},r=m;function m(){return null!==f&&f.apply(this,arguments)||this}t.default=r}),define("graphing/clickableobject-layer",["require","exports","tslib","dcgview","core/types/graphmode","jquery","graphing-calc/models/expression","graphing-calc/models/image","lib/mathspeak"],function(e,t,r,n,o,i,a,s,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=n.Components.For;function u(e,t){return void 0===t&&(t=0),e+"i"+t}var d;d=n.Class,r.__extends(p,d),p.prototype.init=function(){this.grapher=this.props.grapher(),this.controller=this.grapher.controller,this.renderedTabTargetOrder=[],this.renderedTabTargets={}},p.prototype.template=function(){var e=this;return n.createElement(l,{each:function(){return e.renderedTabTargetOrder}},n.createElement("div",{class:n.const("dcg-graph-outer"),style:this.const({"z-index":0}),onFocusin:this.bindFn(this.handleFocusChange),onFocusout:this.bindFn(this.handleFocusChange),didMount:function(t){return e.rootNode=t}},function(t){return n.createElement("div",{class:n.const("dcg-tabbable-clickableobject"),role:n.const("button"),"aria-roledescription":function(){return e.controller.s("graphing-calculator-narration-clickable-object-description")},"dcg-clickableobject-id":function(){return e.getModelId(t)},tabindex:function(){return e.getTabIndex(t)},"aria-hidden":e.bindFn(e.getAriaHidden),"aria-label":function(){return e.getCachedDescription(t)},onTap:function(){e.controller.dispatch({type:"clickable-item-clicked",id:e.getModelId(t),listIndex:e.getListIndex(t)})}})}))},p.prototype.redraw=function(){var e=this;this.renderedTabTargets={},this.renderedTabTargetOrder=[];for(var t=this.grapher.getSketchOrder(),r=function(t){var r=n.controller.getItemModel(t);if(!r)return"continue";var i=n.grapher.getGraphSketch(t);t=n.grapher.getGraphImage(t);if(i&&"expression"===r.type&&a.isClickableObject(r))for(var c=0;c<i.branches.length;c++)!function(t){var a,s=i.branches[t];s.segments&&0!==s.segments.length&&(a=0,s.graphMode===o.XYPOINT||s.graphMode===o.XYPOINT_MOVABLE?i.getBranchPOI(t).forEach(function(t){a=t.pointIdxOnBranch||0,isFinite(t.x)&&isFinite(t.y)&&e.addClickableObjectToDom(r,a)}):(a="listIndex"in s&&void 0!==s.listIndex?s.listIndex:0,0<s.segments.length&&n.addClickableObjectToDom(r,a)))}(c);else if(t&&t.shouldGraph&&"image"===r.type&&s.isClickableObject(r)){var l=r.formula&&r.formula.dimensions;if(!(l&&l.x&&l.y&&l.width&&l.height&&l.radianAngle))return"continue";for(c=0;c<l.x.length;c++)isFinite(l.x[c])&&isFinite(l.y[c])&&isFinite(l.width[c])&&isFinite(l.height[c])&&isFinite(l.radianAngle[c])&&n.addClickableObjectToDom(r,c)}},n=this,i=0,c=t;i<c.length;i++)r(c[i]);this.hoveredObject&&!this.renderedTabTargets[u(this.hoveredObject.id,this.hoveredObject.listIndex)]&&this.setHoveredObject(void 0),this.pressedObject&&!this.renderedTabTargets[u(this.pressedObject.id,this.pressedObject.listIndex)]&&this.setPressedObject(void 0),this.hoveredObject||this.pressedObject?this.grapher.setLayerClass("clickableObjects","dcg-mouse-over-clickable-object"):this.grapher.setLayerClass("clickableObjects",void 0),this.update()},p.prototype.addClickableObjectToDom=function(e,t){var r=u(e.id,t);-1===this.renderedTabTargetOrder.indexOf(r)&&void 0===this.renderedTabTargets[r]&&(this.renderedTabTargetOrder.push(r),this.renderedTabTargets[r]={type:e.type,id:e.id,listIndex:t,description:this.getComputedDescription(e,t)})},p.prototype.getTabIndex=function(e){return this.renderedTabTargets[e]&&(e=this.grapher.settings).config.graphpaper&&e.config.enableTabindex?0:-1},p.prototype.getAriaHidden=function(){return!this.grapher.settings.config.graphpaper},p.prototype.getCachedDescription=function(e){return this.renderedTabTargets[e].description},p.prototype.getComputedDescription=function(e,t){return(t=e.formula&&e.formula.computed_description&&e.formula.computed_description[t])&&""!==t?c.getMathspeakFromText(t):this.grapher.getAudioTrace().getExpressionAriaLabel(e.id)},p.prototype.getModelId=function(e){return(e=this.renderedTabTargets[e])?e.id:""},p.prototype.getListIndex=function(e){return(e=this.renderedTabTargets[e])?e.listIndex:0},p.prototype.shouldDrawHovered=function(e){return e===this.focusedId||!(this.isAnObjectPressed()&&!this.isObjectPressed(e))&&this.isObjectHovered(e)},p.prototype.isObjectHovered=function(e){return void 0!==e&&!(!this.hoveredObject||this.hoveredObject.id!==e)},p.prototype.setHoveredObject=function(e){e&&this.hoveredObject&&e.id===this.hoveredObject.id&&e.listIndex===this.hoveredObject.listIndex||(this.hoveredObject=e,this.requestRedrawNextFrame())},p.prototype.getHoveredObject=function(){return this.hoveredObject},p.prototype.shouldDrawPressed=function(e){return this.isObjectPressed(e)},p.prototype.isObjectPressed=function(e){return void 0!==e&&!(!this.pressedObject||this.pressedObject.id!==e)},p.prototype.setPressedObject=function(e){e&&this.pressedObject&&e.id===this.pressedObject.id&&e.listIndex===this.pressedObject.listIndex||(this.pressedObject=e,this.requestRedrawNextFrame())},p.prototype.getPressedObject=function(){return this.pressedObject},p.prototype.isAnObjectPressed=function(){return!!this.pressedObject},p.prototype.handleFocusChange=function(){var e=void 0;document.activeElement&&i.contains(this.rootNode,document.activeElement)&&(e=i(document.activeElement).attr("dcg-clickableobject-id")),this.focusedId!==e&&(this.focusedId=e,this.requestRedrawNextFrame())},p.prototype.requestRedrawNextFrame=function(){this.grapher.redrawAllLayers()},r=p;function p(){return null!==d&&d.apply(this,arguments)||this}t.default=r}),define("graphing/stepnumber",["require","exports","./svg-classes"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StepNumber=void 0;var n=document.createElement("canvas").getContext("2d"),o=(i.prototype.getRect=function(){return this.getRectWhenCenteredAt({x:0,y:0})},i.prototype.getRectWhenCenteredAt=function(e){return{left:this._layout.left+e.x,right:this._layout.right+e.x,top:this._layout.top+e.y,bottom:this._layout.bottom+e.y}},i.prototype.getWidth=function(){return this._layout.right-this._layout.left},i.prototype.getHeight=function(){return this._layout.bottom-this._layout.top},i.prototype.clampBoundsWithinRect=function(e,t){return{x:e.x+this._layout.left<t.left?t.left-this._layout.left:e.x+this._layout.right>t.right?t.right-this._layout.right:e.x,y:e.y+this._layout.top<t.top?t.top-this._layout.top:e.y+this._layout.bottom>t.bottom?t.bottom-this._layout.bottom:e.y}},i.prototype.getValue=function(){return this._label.value},i.prototype.getMinusWidth=function(){return this.getValue()<0?(i.setCtxFontSize(n,this._fontSize),n.measureText("-1").width-n.measureText("1").width):0},i.prototype.getString=function(){return this._label.superscript?this._label.mantissa+"^"+this._label.superscript:this._label.string},i.prototype.drawCenteredAt=function(e,t,n){var o=t.x;t=i.computeBaselineFromCenter(t.y,this._fontSize);n&&r.save(e,n),e.save(),n&&r.restore(e),i.setCtxFontSize(e,this._fontSize),this._label.superscript?(e.strokeText(this._label.mantissa,this._layout.mantissa_x+o,this._layout.mantissa_y+t),e.strokeText(this._label.superscript,this._layout.superscript_x+o,this._layout.superscript_y+t),e.fillText(this._label.mantissa,this._layout.mantissa_x+o,this._layout.mantissa_y+t),e.fillText(this._label.superscript,this._layout.superscript_x+o,this._layout.superscript_y+t)):(e.strokeText(this._label.string,this._layout.mantissa_x+o,this._layout.mantissa_y+t),e.fillText(this._label.string,this._layout.mantissa_x+o,this._layout.mantissa_y+t)),e.restore()},i.computeBaselineFromCenter=function(e,t){return e+.272*t},i.setCtxFontSize=function(e,t){e.font=t+"px Arial",e.textAlign="center"},i);function i(e,t){this._label=e,this._fontSize=t,this._layout=function(e,t){if(e.superscript){var r=t;o.setCtxFontSize(n,r);var i=n.measureText(e.mantissa).width,a=Math.round(.8*t);o.setCtxFontSize(n,a);var s=n.measureText(e.superscript).width,c=i/2+s/2,l=-t/4;return{top:l-a/2,bottom:(d=t/5)+r/2,left:(u=0)-i/2,right:c+s/2,mantissa_height:r,mantissa_width:i,mantissa_x:u,mantissa_y:d,superscript_height:a,superscript_width:s,superscript_x:c,superscript_y:l}}var u,d;return r=t,o.setCtxFontSize(n,t),{top:(d=0)-r/2,bottom:d+r/2,left:(u=0)-(i=n.measureText(e.string).width)/2,right:u+i/2,mantissa_height:r,mantissa_width:i,mantissa_x:u,mantissa_y:d}}(e,t)}t.StepNumber=o}),define("graphing/computestepsizes",["require","exports","core/lib/label","./stepnumber"],function(e,t,r,n){"use strict";function o(e,t,r,n){e=Math.ceil(e/r);var o=Math.floor(t/r),i=1/r;if(!(o<e||1e4<o-e))for(var a=e;a<=o;a++)n(a/i)}function i(e){return e?{base:10,major:[e,2*e,5*e],minor:[4,4,5]}:t.RATIONAL_STEPS}function a(e,t){for(var r=t.major,n=t.minor,o=t.base,i=1/0,a=1/0,s=0;s<r.length;s++){var c=r[s],l=Math.ceil(Math.log(e/c)/Math.log(o));(l=c*Math.pow(o,l))<i&&(a=(i=l)/n[s])}return{major:i,minor:a}}function s(e,t,r){return 1+(t-e)/r}function c(e){var t=e.screen.width,r=e.screen.height,n=e.viewport.xmax-e.viewport.xmin,o=e.viewport.ymax-e.viewport.ymin;return{majorStepX:(e=e.settings.pixelsPerLabel)/t*n,majorStepY:e/r*o}}Object.defineProperty(t,"__esModule",{value:!0}),t.polar=t.cartesian=t.estimateMajors=t.calculateSpaceBetweenRects=t.countStepsInRange=t.bestStep=t.PI_FRAC_STEPS=t.PI_STEPS=t.RATIONAL_STEPS=void 0,t.RATIONAL_STEPS={base:10,major:[1,2,5],minor:[5,4,5]},t.PI_STEPS={base:10,major:[Math.PI,2*Math.PI,5*Math.PI],minor:[4,4,5]},t.PI_FRAC_STEPS={base:2,major:[Math.PI/3],minor:[3]},t.bestStep=a,t.countStepsInRange=s,t.calculateSpaceBetweenRects=function(e,t){var r=e.right<t.left?t.left-e.right:t.right<e.left?e.left-t.right:0;t=e.bottom<t.top?t.top-e.bottom:t.bottom<e.top?e.top-t.bottom:0;return Math.max(t,r)},t.estimateMajors=c,t.cartesian=function(e){var l,u,d,p,h=Math.abs(null!==(_=e.settings.xAxisStep)&&void 0!==_?_:NaN),f=Math.abs(null!==(I=e.settings.yAxisStep)&&void 0!==I?I:NaN),g=e.viewport.xmax-e.viewport.xmin,m=e.viewport.ymax-e.viewport.ymin,y=0<=r.value(h,g).string.indexOf(""),v=0<=r.value(f,m).string.indexOf(""),b=s(e.viewport.xmin,e.viewport.xmax,h),x=s(e.viewport.ymin,e.viewport.ymax,f),w=c(e),E=e.settings.labelSize,S=0,k=0,_=0,I=0;return h&&h!==Math.PI&&3<=b&&b<100&&(u=0,e.settings.xAxisNumbers&&o(e.viewport.xmin,e.viewport.xmax,h,function(e){e=new n.StepNumber(r.value(e,g),E),u=Math.max(e.getWidth(),u)}),l=u+10,e.settings.xAxisNumbers||(l=1===e.settings.xAxisMinorSubdivisions?8:20),b*l<=e.screen.width&&(k=3===(S=h)||5===h?1:h/4)),f&&f!==Math.PI&&3<=x&&x<100&&(d=0,e.settings.yAxisNumbers&&o(e.viewport.ymin,e.viewport.ymax,f,function(e){e=new n.StepNumber(r.value(e,m),E),d=Math.max(e.getHeight(),d)}),l=d+10,e.settings.yAxisNumbers||(l=1===e.settings.yAxisMinorSubdivisions?8:20),x*l<=e.screen.height&&(I=3===(_=f)||5===f?1:f/4)),S||(p=void 0,p=y?1<=w.majorStepX?t.PI_STEPS:t.PI_FRAC_STEPS:i(h),S=(p=a(w.majorStepX,p)).major,k=p.minor),_||(p=void 0,p=v?1<=w.majorStepY?t.PI_STEPS:t.PI_FRAC_STEPS:i(f),_=(p=a(w.majorStepY,p)).major,I=p.minor),h===f&&(1<=(f=e.screen.width/g/(e.screen.height/m))&&f<=2?(S=_,k=I):f<=1&&.5<=f&&(_=S,I=k)),e.settings.xAxisMinorSubdivisions&&0<e.settings.xAxisMinorSubdivisions&&(k=S/e.settings.xAxisMinorSubdivisions),e.settings.yAxisMinorSubdivisions&&0<e.settings.yAxisMinorSubdivisions&&(I=_/e.settings.yAxisMinorSubdivisions),{majorStepX:S,minorStepX:k,majorStepY:_,minorStepY:I}},t.polar=function(e){e=a((r=c(e)).majorStepX,t.RATIONAL_STEPS);var r=a(r.majorStepY,t.RATIONAL_STEPS);return{majorStepR:(r=e.major>r.major?e:r).major,minorStepR:r.minor}}}),define("graphing/gridlayer",["require","exports","./stepnumber","core/lib/label","./computestepsizes","core/graphing-calc/json/graph-settings","./svg-classes","./svg-groups","core/math/distance"],function(e,t,r,n,o,i,a,s,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GridLayer=void 0;var l=(u.prototype.redrawToCtx=function(e,t,r){s.save(e,"graphpaper");var n,i=t.settings.showGrid,a=t.settings.polarMode&&i?(n=o.polar(t),s.save(e,"grid"),this.drawPolarGrid(e,t,n),s.restore(e),s.save(e,"axis"),this.drawAxes(e,t,r),this.drawPolarStepNumbers(e,t,n)):(n=o.cartesian(t),i&&(s.save(e,"grid"),this.drawCartesianGrid(e,t,n),s.restore(e)),a=!i,s.save(e,"axis"),this.drawAxes(e,t,r),this.drawCartesianStepNumbers(e,t,n,a));this.drawLabels(e,t,a),s.restore(e),s.restore(e)},u.prototype.addTextShadow=function(e,t){e.strokeStyle=t.settings.getBackgroundColor(),e.lineWidth=3,e.miterLimit=2},u.prototype.drawPolarGrid=function(e,t,r){e.save();var n=t.settings.minorAxisOpacity,o=1-(1-t.settings.majorAxisOpacity)/(1-n),i=c.halfRound(t.mapx(0)),s=c.halfRound(t.mapy(0)),l=(m=t.screen.height/(t.viewport.ymax-t.viewport.ymin))/(g=t.screen.width/(t.viewport.xmax-t.viewport.xmin)),u=g/m,p=s/l,h=t.viewport.smallestR(),f=t.viewport.largestR(),g=r.minorStepR*Math.max(1,Math.floor(h/r.minorStepR)),m=r.majorStepR*Math.max(1,Math.floor(h/r.majorStepR));e.lineWidth=1,e.strokeStyle="rgba(0, 0 , 0, "+n+")",d(g,f,r.minorStepR,function(r){a.save(e,"dcg-svg-minor-gridline"),e.beginPath(),a.restore(e),e.scale(1,l),r=t.mapx(r)-i,e.moveTo(i+r,p),e.arc(i,p,r,0,2*Math.PI),e.scale(1,u),e.stroke()}),d(0,359,0<h?5:15,function(r){var n;(0===r||180===r)&&t.settings.showXAxis||(90===r||270===r)&&t.settings.showYAxis||(a.save(e,"dcg-svg-minor-gridline"),e.beginPath(),a.restore(e),e.moveTo(i,s),n=t.mapx(f*Math.cos(r*Math.PI/180)),r=t.mapy(f*Math.sin(r*Math.PI/180)),e.lineTo(c.halfRound(n),c.halfRound(r)),e.stroke())}),e.lineWidth=1,e.strokeStyle="rgba(0, 0 , 0, "+o+")",d(m,f,r.majorStepR,function(r){a.save(e,"dcg-svg-major-gridline"),e.beginPath(),a.restore(e),e.scale(1,l),r=t.mapx(r)-i,e.moveTo(i+r,p),e.arc(i,p,r,0,2*Math.PI),e.scale(1,u),e.stroke()}),e.restore()},u.prototype.drawCartesianGrid=function(e,t,r){e.save();var n=(g=t.viewport).xmin,o=g.xmax,i=g.ymin,s=g.ymax,l=t.screen.width,u=t.screen.height,p=u,h=0;t.settings.restrictGridToFirstQuadrant&&(i=n=0,p=t.mapy(0),h=t.mapx(0));var f=t.settings.minorAxisOpacity,g=t.settings.majorAxisOpacity;e.lineWidth=1,e.strokeStyle="rgba(0, 0 , 0, "+f+")",a.save(e,"dcg-svg-minor-gridline"),d(n,o,r.minorStepX,function(r){0===r&&t.settings.showYAxis||(r=c.halfRound(t.mapx(r)))!==c.halfRound(0)&&r!==c.halfRound(l)&&(e.beginPath(),e.moveTo(r,0),e.lineTo(r,p),e.stroke())}),d(i,s,r.minorStepY,function(r){0===r&&t.settings.showXAxis||(r=c.halfRound(t.mapy(r)))!==c.halfRound(0)&&r!==c.halfRound(u)&&(e.beginPath(),e.moveTo(h,r),e.lineTo(l,r),e.stroke())}),a.restore(e),f=1-(1-g)/(1-f),e.strokeStyle="rgba(0, 0 , 0, "+f+")",a.save(e,"dcg-svg-major-gridline"),d(n,o,r.majorStepX,function(r){0===r&&t.settings.showYAxis||(r=c.halfRound(t.mapx(r)))!==c.halfRound(0)&&r!==c.halfRound(l)&&(e.beginPath(),e.moveTo(r,0),e.lineTo(r,p),e.stroke())}),d(i,s,r.majorStepY,function(r){0===r&&t.settings.showXAxis||(r=Math.round(t.mapy(r)))!==c.halfRound(0)&&r!==c.halfRound(u)&&(e.beginPath(),e.moveTo(h,r),e.lineTo(l,r),e.stroke())}),a.restore(e),e.restore()},u.prototype.drawAxes=function(e,t,r){var n=t.settings.axisLineOffset,o=t.settings.axisOpacity.toString(),c="rgba(127,205,230,"+o+")",l="rgba(0,0,0,"+o+")",u=t.settings.xAxisArrowMode,d=t.settings.yAxisArrowMode,p=t.settings.showXAxis,h=t.settings.showYAxis,f=Math.round(t.mapx(0))-n,g=Math.round(t.mapy(0))-n,m=t.screen.height,y=t.screen.width;function v(t,r,n){e.save();var o=Math.PI/12,i=8*Math.max(e.lineWidth,1.5);e.lineJoin="round",e.fillStyle=l,e.strokeStyle=l,e.beginPath(),e.moveTo(t,r),e.lineTo(t+Math.cos(n-o)*i,r+Math.sin(n-o)*i),e.lineTo(t+Math.cos(n+o)*i,r+Math.sin(n+o)*i),e.lineTo(t,r),e.lineTo(t+Math.cos(n-o)*i,r+Math.sin(n-o)*i),e.stroke(),e.fill(),e.restore()}o=m,n=0,t.settings.restrictGridToFirstQuadrant&&(o=g,n=f,u===i.AxisArrowModes.BOTH&&(u=i.AxisArrowModes.POSITIVE),d===i.AxisArrowModes.BOTH&&(d=i.AxisArrowModes.POSITIVE)),h&&(s.save(e,"yaxis"),t.settings.takingScreenshot&&s.setTitle(e,t.settings.yAxisLabel||"Y axis"),a.save(e,"dcg-svg-axis-line"),e.lineWidth=+t.settings.axisLineWidth,e.strokeStyle="y"===r?c:l,d===i.AxisArrowModes.BOTH?(e.beginPath(),e.moveTo(f,2*t.settings.axisLineWidth),e.lineTo(f,m-2*t.settings.axisLineWidth),e.stroke(),v(f,m-t.settings.axisLineWidth,3*Math.PI/2),v(f,t.settings.axisLineWidth,Math.PI/2)):d===i.AxisArrowModes.POSITIVE?(e.beginPath(),e.moveTo(f,2*t.settings.axisLineWidth),e.lineTo(f,o),e.stroke(),v(f,t.settings.axisLineWidth,Math.PI/2)):(e.beginPath(),e.moveTo(f,0),e.lineTo(f,o),e.stroke()),a.restore(e),s.restore(e)),p&&(s.save(e,"xaxis"),t.settings.takingScreenshot&&s.setTitle(e,t.settings.xAxisLabel||"X axis"),a.save(e,"dcg-svg-axis-line"),e.lineWidth=+t.settings.axisLineWidth,e.strokeStyle="x"===r?c:l,u===i.AxisArrowModes.BOTH?(e.beginPath(),e.moveTo(2*t.settings.axisLineWidth,g),e.lineTo(y-2*t.settings.axisLineWidth,g),e.stroke(),v(t.settings.axisLineWidth,g,0),v(y-t.settings.axisLineWidth,g,Math.PI)):u===i.AxisArrowModes.POSITIVE?(e.beginPath(),e.lineTo(n,g),e.lineTo(y-2*t.settings.axisLineWidth,g),e.stroke(),v(y-t.settings.axisLineWidth,g,Math.PI)):(e.beginPath(),e.lineTo(n,g),e.lineTo(y,g),e.stroke()),a.restore(e),s.restore(e))},u.prototype.drawPolarStepNumbers=function(e,t,o){e.save();var i=t.settings.showGrid,s=t.settings.xAxisNumbers&&t.settings.showXAxis,c=t.settings.yAxisNumbers&&t.settings.showYAxis,l=i&&t.settings.polarNumbers,u=t.viewport.largestR(),f=t.viewport.smallestR(),g=t.viewport.xmin,m=t.viewport.xmax,y=t.viewport.ymin,v=t.viewport.ymax,b=t.screen.width,x=t.screen.height,w={left:3,right:b-3,top:3,bottom:x-3},E=t.settings.labelHangingColor,S=t.settings.getTextColor(),k=t.settings.labelSize,_=k;function I(e,r,n){e=Math.sqrt(e*e-r*r),y<=e&&e<=v&&n.push({x:t.mapx(r),y:t.mapy(e)}),y<=-e&&-e<=v&&n.push({x:t.mapx(r),y:t.mapy(-e)})}function M(e,r,n){e=Math.sqrt(e*e-r*r),g<=e&&e<=m&&n.push({x:t.mapx(e),y:t.mapy(r)}),g<=-e&&-e<=m&&n.push({x:t.mapx(-e),y:t.mapy(r)})}this.addTextShadow(e,t),e.fillStyle=S;var L,T,C,A=t.mapx(0),O=t.mapy(0),P=y<=0&&0<=v&&s,D=g<=0&&0<=m&&c,F="";P||D||!i||(N=L=void 0,T=(S=Math.abs(A))<=(i=Math.abs(A-b))?(L="left",S):(L="right",i),C=(S=Math.abs(O))<=(i=Math.abs(O-x))?(N="top",S):(N="bottom",i),s&&c?F=T<=C?L:N:c?F=L:s&&(F=N));var N,q,R={left:0,right:b,top:O-1,bottom:O+1},B={left:A-1,right:A+1,top:0,bottom:x};return d(0,u,o.majorStepR,function(o){var i=[],a=[],l=[],d=new r.StepNumber(n.value(o,u),k),p=d.getRect();switch(0<o?(D&&y<=o&&o<=v&&a.push({x:A-p.right-5,y:t.mapy(o)}),D&&y<=-o&&-o<=v&&a.push({x:A-p.right-5,y:t.mapy(-o)}),P&&g<=o&&o<=m&&i.push({x:t.mapx(o),y:O-p.top+3}),P&&g<=-o&&-o<=m&&i.push({x:t.mapx(-o),y:O-p.top+3})):D&&!s&&y<=o&&o<=v?a.push({x:A-p.right-5,y:t.mapy(o)}):P&&!c&&g<=o&&o<=m&&i.push({x:t.mapx(o),y:O-p.top+3}),F){case"top":M(o,v,l);break;case"bottom":M(o,y,l);break;case"left":I(o,g,l);break;case"right":I(o,m,l)}i.forEach(function(t){t=d.clampBoundsWithinRect(t,w),d.drawCenteredAt(e,t,"dcg-svg-axis-value"),h(R,d.getRectWhenCenteredAt(t))}),a.forEach(function(t){t=d.clampBoundsWithinRect(t,w),d.drawCenteredAt(e,t,"dcg-svg-axis-value"),h(B,d.getRectWhenCenteredAt(t))}),l.forEach(function(t){t=d.clampBoundsWithinRect(t,w),d.drawCenteredAt(e,t,"dcg-svg-axis-value")})}),l&&(N=Math.ceil(f/o.majorStepR),l=Math.floor(u/o.majorStepR),q=Math.ceil((N+l)/2)*o.majorStepR,d(0,359,0<f?15:30,function(o){var i=t.settings.degreeMode?o.toString()+"":n.value(o*Math.PI/180,2*Math.PI).string,s=e.measureText(i).width/2,c=(l=q/1.05)*Math.cos(o*Math.PI/180),l=l*Math.sin(o*Math.PI/180);c<g||m<c||l<y||v<l||(c=t.mapx(c),l=t.mapy(l),0===o||180===o?l-=_:90!==o&&270!==o||(c+=3+s),s=p(c,3+s,b-3-s),l=p(l,3+_,x-3-_),l=r.StepNumber.computeBaselineFromCenter(l,k),a.save(e,"dcg-svg-polar-axis-value"),e.save(),a.restore(e),e.fillStyle=E,r.StepNumber.setCtxFontSize(e,k),e.strokeText(i,s,l),e.fillText(i,s,l),e.restore())})),e.restore(),{x:R,y:B}},u.prototype.drawLabels=function(e,t,r){var n,o=t.viewport.xmin,i=t.viewport.xmax,s=t.viewport.ymin,c=t.viewport.ymax,l=t.screen.width,u=t.screen.height,d=(i-o)/l,p=(c-s)/u,h=t.settings.getTextColor(),g=t.mapx(0),m=t.mapy(0);i=t.settings.labelSize,o=t.settings.showXAxis&&t.settings.xAxisLabel,c=t.settings.showYAxis&&t.settings.yAxisLabel,s=r.x,r=r.y;o&&s?(a.save(e,"dcg-svg-axis-label"),e.save(),a.restore(e),e.fillStyle=h,n=void 0,e.__xLabelOffset&&t.settings.isViewportTransient&&f(e.__xLabelOffset.xscale,d)&&f(e.__xLabelOffset.yscale,p)&&(n={x:e.__xLabelOffset.x+g,y:e.__xLabelOffset.y+m}),this._setAxisLabelFont(e,o,i,t),n||(l=l-e.measureText(o).width-15,n=s.bottom+i<u?{x:l,y:s.bottom+i}:{x:l,y:s.top-i/2},e.__xLabelOffset={x:n.x-g,y:n.y-m,xscale:d,yscale:p}),e.strokeText(o,n.x,n.y),e.fillText(o,n.x,n.y),e.restore()):e.__xLabelPosition=null,c&&r?(a.save(e,"dcg-svg-axis-label"),e.save(),a.restore(e),e.fillStyle=h,o=void 0,e.__yLabelOffset&&t.settings.isViewportTransient&&f(e.__yLabelOffset.xscale,d)&&f(e.__yLabelOffset.yscale,p)&&(o={x:e.__yLabelOffset.x+g,y:e.__yLabelOffset.y+m}),this._setAxisLabelFont(e,c,i,t),o||(n=i,t=(h=e.measureText(c).width)+5,this._isShortMathyLabel(c)||(i=h,h=n,n=i,t=.5*h),n=15+n,o=0<r.left-h?{x:r.left-t,y:n}:{x:r.right+h,y:n},e.__yLabelOffset={x:o.x-g,y:o.y-m,xscale:d,yscale:p}),e.translate(o.x,o.y),this._isShortMathyLabel(c)||e.rotate(-Math.PI/2),e.strokeText(c,0,0),e.fillText(c,0,0),e.restore()):e.__yLabelPosition=null},u.prototype._isShortMathyLabel=function(e){return e.trim().match(/^([a-zA-Z]?)\(?([a-zA-Z]?)\)?$/)},u.prototype._setAxisLabelFont=function(e,t,r,n){this.addTextShadow(e,n),this._isShortMathyLabel(t)?e.font="italic "+Math.round(1.4*r)+"px Times":e.font=Math.round(1.2*r)+"px Arial"},u.prototype.drawCartesianStepNumbers=function(e,t,o,i){e.save();var s,c=t.settings.showXAxis,l=t.settings.showYAxis,u=c&&t.settings.xAxisNumbers,p=l&&t.settings.yAxisNumbers,f=(s=t.viewport).xmin,g=s.xmax,m=s.ymin,y=s.ymax,v=t.screen.width,b={left:3,top:3,right:v-3,bottom:(s=t.screen.height)-3};t.settings.restrictGridToFirstQuadrant&&(m=f=0);var x=t.settings.labelHangingColor,w=t.settings.getTextColor(),E=t.mapx(0),S=t.mapy(0),k=t.settings.labelSize;this.addTextShadow(e,t);var _={left:0,right:v,top:S-1,bottom:S+1},I={left:E-1,right:E+1,top:0,bottom:s},M=!1;c&&l&&(u||p)&&(M=!0,e.fillStyle=w,(l=new r.StepNumber(n.value(0,1),k)).drawCenteredAt(e,{x:E-l.getRect().right-5,y:S-l.getRect().top+5},"dcg-svg-axis-value"));var L,T,C,A,O=[],P=[];return u&&d(f,g,o.majorStepX,function(e){"0"===(e=new r.StepNumber(n.value(e,g-f),k)).getString()&&M||O.push(e)}),p&&d(m,y,o.majorStepY,function(e){"0"===(e=new r.StepNumber(n.value(e,y-m),k)).getString()&&M||P.push(e)}),i&&(e.save(),a.save(e,"dcg-svg-tickmark"),L=t.settings.axisLineOffset,i="rgba(0,0,0,"+t.settings.axisOpacity.toString()+")",e.lineWidth=t.settings.axisLineWidth,e.strokeStyle=i,T=Math.round(t.mapy(0))-L,C=Math.round(t.mapx(0))-L,A=Math.round(2*e.lineWidth)-L,e.beginPath(),O.forEach(function(r){r=Math.round(t.mapx(r.getValue()))-L,e.moveTo(r,T-A),e.lineTo(r,T+A)}),P.forEach(function(r){r=Math.round(t.mapy(r.getValue()))-L,e.moveTo(C-A,r),e.lineTo(C+A,r)}),e.stroke(),a.restore(e),e.restore()),O.forEach(function(r){var n={x:t.mapx(r.getValue())-.5*r.getMinusWidth(),y:S-r.getRect().top+5},o=r.clampBoundsWithinRect(n,b);e.fillStyle=n.y===o.y?w:x;var i="dcg-svg-axis-value";n.x!==o.x&&(i+=" dcg-svg-offcenter-axis-value"),r.drawCenteredAt(e,o,i),h(_,r.getRectWhenCenteredAt(o)),a.restore(e)}),P.forEach(function(r){var n={x:E-5-r.getRect().right,y:t.mapy(r.getValue())},o=r.clampBoundsWithinRect(n,b);e.fillStyle=n.x===o.x?w:x;var i="dcg-svg-axis-value";n.y!==o.y&&(i+=" dcg-svg-offcenter-axis-value"),r.drawCenteredAt(e,o,i),h(I,r.getRectWhenCenteredAt(o)),a.restore(e)}),e.restore(),{x:_,y:I}},u);function u(){}function d(e,t,r,n){e=Math.ceil(e/r);var o=Math.floor(t/r);if(isFinite(o-e)&&!(1e4<o-e))for(var i=e;i<=o;i++)n(i*r)}function p(e,t,r){return e<t?t:r<e?r:e}function h(e,t){t.left<e.left&&(e.left=t.left),t.right>e.right&&(e.right=t.right),t.top<e.top&&(e.top=t.top),t.bottom>e.bottom&&(e.bottom=t.bottom)}function f(e,t){return e=Math.abs(e),t=Math.abs(t),Math.abs(e-t)<=1e-4*(e<t?t:e)}t.GridLayer=l}),define("graphing/grapher",["require","exports","main/graph_settings","./canvaslayer","./poidotslayer","vendor/canvas2svg","./poicontroller","./viewportcontroller","dcgview","jquery","underscore","./viewport","./screen","./graphsketch","./projection","underscore_model","./audiograph","./canvas-braille","./braille-size-options","core/lib/deepCopy","core/lib/default-spec","core/graphing-calc/json/graph-settings","graphing/tonegenerator","./movablepointslayer","./poilabelslayer","./imagelayer","./clickableobject-layer","./svg-classes","./svg-groups","core/types/graphmode","./graphslayer","./gridlayer"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g,m,y,v,b,x,w,E,S,k,_,I,M,L,T,C,A){"use strict";function O(){return new d.Viewport(-10,10,-10,10)}Object.defineProperty(t,"__esModule",{value:!0}),t.Grapher=void 0;var P=(D.copyGraphProperties=function(e,t){for(var r in e=x.populateDefaults(w.DefaultGraphSettings,e),w.DefaultGraphSettings)w.DefaultGraphSettings.hasOwnProperty(r)&&t.setProperty(r,e[r]);return e},D.prototype.remove=function(){this.$.remove(),this.poiController.remove(),this.viewportController.remove(),this.audioGraph.remove()},D.prototype.tick=function(e){this.__isRedrawingSlowly?this._redrawSlowly():this.__redrawRequested&&this._redrawAllLayers(),this.__movablePointListener&&this.__movablePointListener()},D.prototype.registerMovablePointListener=function(e){this.__movablePointListener=e},D.prototype.deregisterMovablePointListener=function(){this.__movablePointListener=void 0},D.prototype.setSketchOrder=function(e){u.isEqual(this.__sketchOrder,e)||(this.__sketchOrder=e,this.redrawAllLayers())},D.prototype.clear=function(){this.graphSketches={},this.graphImages={}},D.prototype.getSketchOrder=function(){return this.__sketchOrder},D.prototype.getGraphSketch=function(e){return this.graphSketches[e]},D.prototype.getGraphImage=function(e){return this.graphImages[e]},D.prototype.addGraphSketch=function(e){this.graphSketches[e.id]=e},D.prototype.removeGraphSketch=function(e){delete this.graphSketches[e]},D.prototype.addGraphImage=function(e){var t=this;e.imageObj.width&&e.imageObj.height?(this.graphImages[e.id]=e,this.redrawAllLayers()):l(e.imageObj).on("load.calc_load",function(){return t.addGraphImage(e)})},D.prototype.removeGraphImage=function(e){var t=this.graphImages[e];t&&l(t.imageObj).off("load.calc_load"),delete this.graphImages[e],this.redrawAllLayers()},D.prototype.getProjection=function(){return this.__projection},D.prototype._setProjection=function(e){this.__projection=e,this.redrawAllLayers()},D.prototype.getAudioTrace=function(){return this.audioGraph},D.prototype.getDefaultViewport=function(){var e=this.getProjection();return O().squareYAxis(e.screen)},D.prototype._updateScreenSize=function(e,t){var r;e<=0||t<=0||(r=this.getProjection().screen).width===e&&r.height===t||(this.$.width(e),t=new p.Screen(e,t),this.viewportController.setScreen(t))},D.prototype._setIsVisible=function(e){e!==this.isVisible&&((this.isVisible=e)?this.redrawAllLayers():this.canvasLayer.resize(0,0))},D.prototype.update=function(){var e=this.controller.computeMajorLayout().grapher;0<e.width&&0<e.height?(this._setIsVisible(!0),this._updateScreenSize(e.width,e.height),this.$.css({position:"absolute",left:e.left+"px",top:e.top+"px",width:e.width+"px",height:e.height+"px"})):this._setIsVisible(!1)},D.prototype.select=function(e){!this.selectedId||(t=this.getGraphSketch(this.selectedId))&&(t.selected=!1,t.showPOI=!1,t.showHighlight=!1);var t=this.getGraphSketch(e);t&&(t.selected=!0,t.showPOI=this.controller.isTraceEnabled(),t.showHighlight=!0),this.selectedId=e},D.prototype.updateSketch=function(e,t){var r,n=this.getGraphSketch(e);t.length?(r=new h.GraphSketch(e,t),t[0].graphMode!==T.ERROR&&(r.color=t[0].color,t[0].style&&(r.style=t[0].style)),n&&r.updateFrom(n),n=String(e)===String(this.selectedId),r.selected=n,r.showPOI=n&&this.controller.isTraceEnabled(),r.showHighlight=n,this.addGraphSketch(r)):this.removeGraphSketch(e)},D.prototype.updateIntersections=function(e,t){(e=this.getGraphSketch(e))&&e.updateIntersections(t)},D.prototype.redrawAllLayers=function(){this.cancelRedrawSlowly(),this.__redrawRequested=!0},D.prototype._clear=function(){var e=this.getProjection(),t=e.screen;this.canvasLayer.resize(e.screen.width,e.screen.height),this.canvasLayer.ctx.clearRect(0,0,t.width,t.height)},D.prototype._redrawAllLayers=function(){this.isVisible&&(this.__redrawRequested=!1,this._clear(),this.audioGraph.recomputePoints(),this._recomputeClickableObjects(),this._redrawImageLayer(),this._redrawGridLayer(),this._redrawGraphsLayer(),this._redrawPointsAndLabels(),this._updateCanvasLayerAria(),this.events.triggerEvent("redraw",void 0))},D.prototype.cancelRedrawSlowly=function(){this.__isRedrawingSlowly&&(this.__redrawSlowlyIndex=0,this.__isRedrawingSlowly=!1,this.redrawAllLayers())},D.prototype.redrawSlowly=function(){this.__isRedrawingSlowly||(this.__redrawSlowlyIndex=0,this.__isRedrawingSlowly=!0,this.audioGraph.recomputePoints())},D.prototype._redrawSlowly=function(){var e,t,r=this.__redrawSlowlyIndex;0===r&&(this._clear(),this._redrawGridLayer()),r>=this.__sketchOrder.length?this.cancelRedrawSlowly():((t={})[e=this.__sketchOrder[r]]=this.graphSketches[e],r=t,(((t={})[e]=this.graphImages[e],t=t)[e]||r[e])&&this.graphsLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),r,t,[e],this.poiLabelsLayer,this.clickableObjectsLayer),this.__redrawSlowlyIndex+=1)},D.prototype._redrawGridLayer=function(){this.gridLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),this.scaleAxis)},D.prototype._recomputeClickableObjects=function(){this.clickableObjectsLayer.redraw()},D.prototype._redrawGraphsLayer=function(){this.graphsLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),this.graphSketches,this.graphImages,this.__sketchOrder,this.poiLabelsLayer,this.clickableObjectsLayer)},D.prototype._updateCanvasLayerAria=function(){var e,t=0;for(e in this.graphSketches)E.canPlaySketch(this.graphSketches[e])&&(t+=1);this.canvasLayer.updateAria(this.isVisible,t)},D.prototype._redrawPointsAndLabels=function(){var e=this.getProjection(),t=[];this.movablePointsLayer.redraw(this.canvasLayer.ctx,e,t),this.showPOIDots&&this.poiDotsLayer.redrawToCtx(this.canvasLayer.ctx,e,this.graphSketches,this.poiLabelsLayer,this.clickableObjectsLayer);var r=this.$[0].getBoundingClientRect();u.each([this.controller.find$(".dcg-overgraph-pillbox-elements")[0],this.controller.find$(".dcg-graphpaper-branding")[0]],function(e){e&&(e=e.getBoundingClientRect(),t.push({left:e.left-r.left,top:e.top-r.top,right:e.right-r.left,bottom:e.bottom-r.top}))});var n=this.canvasLayer.ctx.canvas.getBoundingClientRect();this.poiLabelsLayer.redraw(e,this.canvasLayer.ctx,{width:n.width,height:n.height},t)},D.prototype._redrawImageLayer=function(){this.imageLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),this.graphImages,this.__sketchOrder)},D.prototype._parseScreenshotOpts=function(e){var t,n,o,i,a,s=this.getProjection();s=e?(t=e.width||e.height||s.screen.width,n=e.height||e.width||s.screen.height,(o=e.targetPixelRatio||1)<1&&(o=1),i=(t<256||n<256)&&!e.preserveAxisNumbers,a=r.fromObject(e.settings||this.settings),!!e.transparentBackground):(t=s.screen.width,n=s.screen.height,i=!(o=1),a=r.fromObject(this.settings),!1);return i&&(a.setProperty("xAxisNumbers",!1),a.setProperty("yAxisNumbers",!1),a.setProperty("polarNumbers",!1)),{width:t,height:n,targetPixelRatio:o,settings:a,transparentBackground:s}},D.prototype._syncScreenshotReturnCanvas=function(e){var t,r,n,o=document.createElement("canvas");return e&&e.braille?(t=(r=e.braille).embosserModel,n=r.brailleMode,r=v.brailleSizes[t],o.width=r.width,o.height=r.height,y.createBrailleImage(o,this,r,t,n)):(n=this._parseScreenshotOpts(e),o.width=n.width*n.targetPixelRatio,o.height=n.height*n.targetPixelRatio,this.screenshotToCanvas(o,e)),o},D.prototype.screenshot=function(e){return this._syncScreenshotReturnCanvas(e).toDataURL("image/png")},D.prototype.asyncScreenshot=function(e,t){var r=this,n=!1;!e.transparentBackground&&e.showLabels&&(n=(e=b.default(e)).transparentBackground=!0);var o=this._syncScreenshotReturnCanvas(e),a=o.getContext("2d"),s=o,u=a;e&&"svg"===e.format&&(n=!1,e.transparentBackground&&((e=b.default(e)).transparentBackground=!1),u=new i(o.width,o.height),s={getContext:function(){return u},width:o.width,height:o.height},this.screenshotToCanvas(s,e));var d,p,h=this.makeScreenshotProjection(e),f=[];e.showMovablePoints&&this.movablePointsLayer.drawForScreenshot(u,h,f),e.showLabels&&(p=h.screen.width,d=h.screen.height,o=h.settings.labelSize||15,p=(o=l('<div class="dcg-calculator-api-container">\n          <div class="dcg-container">\n            <div class="dcg-grapher" style="font-size:'+o*(p<200||d<200?.9:1)+'px"></div>\n          </div>\n        </div>').css({width:h.screen.width,height:h.screen.height,position:"fixed",left:"0px",top:"0px"}).appendTo("body")).find(".dcg-grapher"),d=c.mountToNode(k.default,p[0],{grapher:function(){return r}}),p={width:h.screen.width,height:h.screen.height},d.drawForScreenshot(h,a,u,p,f),o.remove()),n&&(u.globalCompositeOperation="destination-over",u.fillStyle="#FFF",u.fillRect(0,0,s.width,s.height)),e&&"svg"===e.format?t(u.getSerializedSvg()):t(s.toDataURL("image/png"))},D.prototype.makeScreenshotProjection=function(e){var t=(r=this._parseScreenshotOpts(e)).width,r=(e=r.height,r.settings);t=new p.Screen(t,e),e=this.getProjection().viewport;return this.getSetting("squareAxes")&&(e=e.squareCrop(t)),new f.Projection(t,e,r)},D.prototype.screenshotToCanvas=function(e,t){var r=(n=this._parseScreenshotOpts(t)).targetPixelRatio,n=n.transparentBackground;(e=e.getContext("2d")).scale(r,r),(r=this.makeScreenshotProjection(t)).settings.takingScreenshot=!0,L.save(e,"background"),M.save(e,"dcg-svg-background"),n?e.clearRect(0,0,r.screen.width,r.screen.height):(e.fillStyle="white",e.fillRect(0,0,r.screen.width,r.screen.height)),M.restore(e),L.restore(e),this.imageLayer.redrawToCtx(e,r,this.graphImages,this.__sketchOrder),this.gridLayer.redrawToCtx(e,r),this.graphsLayer.redrawToCtx(e,r,this.graphSketches,this.graphImages,this.__sketchOrder,this.poiLabelsLayer,this.clickableObjectsLayer,t)},D.prototype.getImageData=function(e,t,r,n){return this.canvasLayer.ctx.getImageData(e,t,r,n)},D.prototype.getSetting=function(e,t){return void 0!==(e=this.settings.getProperty(e))?e:t},D.prototype.getState=function(e){var t=this,r={viewport:this.getCurrentViewport()};return this.settings.stateProperties.forEach(function(e){"randomSeed"!==e&&(r[e]=t.getSetting(e))}),e.stripDefaults&&(r=x.stripDefaults(w.DefaultGraphSettings,r)),r},D.prototype.getUndoRedoState=function(){var e=this,t={};return this.settings.stateProperties.forEach(function(r){t[r]=e.getSetting(r)}),t.viewport=this.getUserRequestedViewport(),t},D.prototype.notifyAfterRedraw=function(e){var t,r=this;this.__isRedrawingSlowly?requestAnimationFrame(this.notifyAfterRedraw.bind(this,e)):this.__redrawRequested?(this.notifyAfterRedraw_i?this.notifyAfterRedraw_i++:this.notifyAfterRedraw_i=1,t="redraw.notifyAfterRedraw"+this.notifyAfterRedraw_i,this.events.observeEvent(t,function(){r.events.unobserveEvent(t),e()})):e()},D.prototype.getCurrentViewport=function(){return this.viewportController.getViewport().toObject()},D.prototype.getUserRequestedViewport=function(){return this._lastUserRequestedViewport},D.prototype.setUserRequestedViewport=function(e){this._lastUserRequestedViewportUpdateToken||(this._lastUserRequestedViewportUpdateToken=0),this._lastUserRequestedViewportUpdateToken+=1,this._lastUserRequestedViewport=b.default(e)},D.prototype.debounceUserRequestedViewportChange=function(){var e=this;this.__debouncedViewportCommit||(this.__debouncedViewportCommit=u.debounce(function(t,r){if(!e.isDragging&&e._lastUserRequestedViewportUpdateToken===r){if(e._lastUserRequestedViewport&&(r=d.Viewport.fromObject(e._lastUserRequestedViewport),e.computeConcreteViewport(r).equals(t)))return;e.controller.dispatch({type:"commit-user-requested-viewport",viewport:t})}},1e3));var t=this.getCurrentViewport();this.__debouncedViewportCommit(t,this._lastUserRequestedViewportUpdateToken)},D.prototype.setGrapherState=function(e,t){t&&t.doNotClear||this.clear(),"viewport"in(e=D.copyGraphProperties(e,this.settings))&&(e=d.Viewport.fromObject(e.viewport),this.setUserRequestedViewport(e),e=this.computeConcreteViewport(e),this.viewportController.setViewport(e)),this.redrawAllLayers()},D.prototype.computeConcreteViewport=function(e){var t=this.getProjection().screen;return this.getSetting("squareAxes")&&!e.isSquare(t)?e.squareYAxis(t):e},D.prototype.setLayerClass=function(e,t){var r=this._layerClasses[e];r!==(this._layerClasses[e]=t)&&(r&&this.$.removeClass(r),t&&this.$.addClass(t))},D);function D(e,t,r,i){var d=this;this.type="2d",this._layerClasses={},this.$=e,this.evaluator=i,this.controller=r,this.settings=t,e=new p.Screen(1024,768),i=O().squareYAxis(e),this.setUserRequestedViewport(i),this.__projection=new f.Projection(e,i,t),this.markLabelsDirty=u.debounce(function(){d.evaluator.notifyWhenSynced(function(){d.__isRedrawingSlowly?d.notifyAfterRedraw(function(){d.poiLabelsLayer.markLabelsDirty(),d.redrawAllLayers()}):(d.poiLabelsLayer.markLabelsDirty(),d.redrawAllLayers())})},300),this.poiController=new a.POIController(this,t),this.viewportController=new s.ViewportController(this,this.controller),this.showPOIDots=!0,this.$.css("overflow","hidden"),this.graphSketches={},this.graphImages={},this.audioGraph=new m.default(r,this),this.canvasLayer=n(this),this.$.append(this.canvasLayer.$),r=l("<div></div>"),this.$.append(r);var h=this;this.imageLayer=c.mountToNode(_.default,r[0],{grapher:function(){return h}}),this.gridLayer=new A.GridLayer,this.poiDotsLayer=o(),this.graphsLayer=new C.GraphsLayer(this.settings,function(e){return d.audioGraph.getExpressionAriaLabel(e)}),r=l("<div></div>"),this.$.append(r),(h=this).clickableObjectsLayer=c.mountToNode(I.default,r[0],{grapher:function(){return h}}),r=l("<div></div>"),this.$.append(r),(h=this).movablePointsLayer=c.mountToNode(S.default,r[0],{grapher:function(){return h}}),r=l("<div></div>"),this.$.append(r),this.poiLabelsLayer=c.mountToNode(k.default,r[0],{grapher:function(){return h}}),this.traceLayer=this.poiLabelsLayer,this.scaleAxis=void 0,this.__sketchOrder=[],this.selectedId=void 0,this.__redrawRequested=!1,this.__redrawSlowlyIndex=0,this.__isRedrawingSlowly=!1,this.events=new g.UnderscoreModel}t.Grapher=P}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("flux",[],t):"object"==typeof exports?exports.Flux=t():e.Flux=t()}(this,function(){return r={},e.m=t=[function(e,t,r){"use strict";e.exports.Dispatcher=r(1)},function(e,t,r){"use strict";t.__esModule=!0;var n=r(2);o.prototype.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},o.prototype.unregister=function(e){this._callbacks[e]||n(!1,"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e),delete this._callbacks[e]},o.prototype.waitFor=function(e){this._isDispatching||n(!1,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<e.length;t++){var r=e[t];this._isPending[r]?this._isHandled[r]||n(!1,"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",r):(this._callbacks[r]||n(!1,"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",r),this._invokeCallback(r))}},o.prototype.dispatch=function(e){this._isDispatching&&n(!1,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},o.prototype.isDispatching=function(){return this._isDispatching},o.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},o.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},o.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},r=o;function o(){!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}e.exports=r},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o,i,a,s){if(void 0===t)throw new Error("invariant requires an error message argument");var c,l,u;if(!e)throw void 0===t?c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."):(l=[r,n,o,i,a,s],u=0,(c=new Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"),c.framesToPop=1,c}}],e.c=r,e.p="",e(0);function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var t,r}),define("lib/state-stack",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(n.prototype.clear=function(){this._stack=[],this._stackPointer=-1},n.prototype.getState=function(){return this._stack[this._stackPointer]},n.prototype.serializeForBugsnag=function(){function e(e){try{return JSON.stringify(e,null,2)}catch(e){return"[[could not jsonify]]"}}return{currentState:e(this._stack[this._stackPointer]),undoState:e(this._stack[this._stackPointer-1]),redoState:e(this._stack[this._stackPointer+1])}},n.prototype.addState=function(e){this.canRedo()&&this._stack.splice(this._stackPointer+1),this._stack.push(e),this._stack.length>this._sizeLimit&&this._stack.shift(),this._stackPointer=this._stack.length-1},n.prototype.replaceState=function(e){this.canRedo()&&this._stack.splice(this._stackPointer+1),this.replaceInteriorState(e)},n.prototype.replaceInteriorState=function(e){0===this._stack.length?(this._stack.push(e),this._stackPointer=0):this._stack[this._stackPointer]=e},n.prototype.canUndo=function(){return 0<this._stackPointer},n.prototype.canRedo=function(){return this._stackPointer<this._stack.length-1},n.prototype.undo=function(){this.canUndo()&&--this._stackPointer},n.prototype.redo=function(){this.canRedo()&&(this._stackPointer+=1)},n);function n(e){void 0===e&&(e=100),this.clear(),this._sizeLimit=e}t.default=r}),define("core/graphing-calc/migrations/0",["require"],function(e){"use strict";var t={expression:!0,table:!0,image:!0,folder:!0,text:!0};function r(e){return e.replace(/\\(total|length|mean|median|quantile|stdev|stddev|stdDev|stdevp|stddevp|stdDevP|var|variance|cov|corr|ceil|floor|round|abs|mod|lcm|mcm|mcd|nCr|nPr|signum|sign|arcsinh|arccosh|arctanh|arccsch|arcsech|arccoth|arccsc|arcsec|arccot)/g,"\\operatorname{$1}")}function n(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]="latex"===t?r(e[t]):"values"===t?e[t].map(r):e[t]);return n}function o(e){var o,i=function(e){if(e.type){if(t.hasOwnProperty(e.type))return e.type;throw new Error("Invalid item type: '"+e.type+"'.")}return void 0!==e.text?"text":void 0!==e.columns||void 0!==e.headings?"table":"expression"}(e),a={};switch(i){case"expression":for(o in e)e.hasOwnProperty(o)&&(a[o]="latex"===o?r(e[o]):e[o]);return a.type=i,a;case"table":for(o in e)e.hasOwnProperty(o)&&(a[o]="columns"===o?e[o].map(n):e[o]);return a.type=i,a;case"image":for(o in e)e.hasOwnProperty(o)&&(a[o]="width"===o||"height"===o||"x"===o||"y"===o?r(e[o]):e[o]);return a.type=i,a;case"text":case"folder":for(o in e)e.hasOwnProperty(o)&&(a[o]=e[o]);return a.type=i,a}}var i={none:"NONE",both:"BOTH",positive:"POSITIVE"};return function(e){if(e.version)throw new Error("Unexpected version: "+e.version);var t={};return t.graph=function(e){var t,r={};for(t in e)e.hasOwnProperty(t)&&"xAxisArrows"!==t&&"yAxisArrows"!==t&&(r[t]=e[t]);return r.xAxisArrowMode=i[e.xAxisArrows||"none"],r.yAxisArrowMode=i[e.yAxisArrows||"none"],r}(e.graph),t.expressions={list:e.expressions.list.map(o)},t.version=0,t}}),define("core/graphing-calc/migrations/1",["require"],function(e){"use strict";function t(e){return e.replace(/\\(sech|csch)/g,"\\operatorname{$1}")}function r(e){var r,n={};for(r in e)e.hasOwnProperty(r)&&(n[r]="latex"===r?t(e[r]):"values"===r?e[r].map(t):e[r]);return n}function n(e){var n,o=e.type,i={};switch(o){case"expression":for(n in e)e.hasOwnProperty(n)&&(i[n]="latex"===n?t(e[n]):e[n]);return i;case"table":for(n in e)e.hasOwnProperty(n)&&(i[n]="columns"===n?e[n].map(r):e[n]);return i;case"image":for(n in e)e.hasOwnProperty(n)&&(i[n]="width"===n||"height"===n||"x"===n||"y"===n?t(e[n]):e[n]);return i;case"text":case"folder":for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i;default:throw new Error("Unexpected expression type: "+o)}}return function(e){if(e.version)throw new Error("Unexpected version: "+e.version);var t={};return t.graph=e.graph,t.expressions={list:e.expressions.list.map(n)},t.version=1,t}}),define("core/graphing-calc/migrations/2",["require","core/lib/color-helpers"],function(e){"use strict";var t=e("core/lib/color-helpers").colors;function r(e){switch(e){case"#C0504D":return t.RED;case"#4F81BD":return t.BLUE;case"#9BBB59":return t.GREEN;case"#8064A2":return t.PURPLE;case"#F79646":return t.ORANGE;case"#000000":return t.BLACK;default:return e}}function n(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]="color"===t?r(e[t]):e[t]);return n}function o(e){var t,o=e.type,i={};switch(o){case"expression":for(t in e)e.hasOwnProperty(t)&&(i[t]="color"===t?r(e[t]):e[t]);return i;case"table":for(t in e)e.hasOwnProperty(t)&&(i[t]="columns"===t?e[t].map(n):e[t]);return i;case"image":case"text":case"folder":for(t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i;default:throw new Error("Unexpected expression type: "+o)}}return function(e){if(1<e.version)throw new Error("Unexpected version: "+e.version);var t={};return t.graph=e.graph,t.expressions={list:e.expressions.list.map(o)},t.version=2,t}}),define("core/graphing-calc/migrations/3",["require"],function(e){"use strict";function t(e){return"string"==typeof e?e:void 0===e?"":(e=(e+="").replace(/1e\+?([-\d]+)/,"10^{$1}")).replace(/([-\d\.]+)e\+?([-\d]+)/,"$1\\cdot 10^{$2}")}function r(e){var r,n=e.type,o={};switch(n){case"expression":for(r in e)e.hasOwnProperty(r)&&(o[r]="sliderMax"===r||"sliderMin"===r||"sliderInterval"===r?t(e[r]):"domain"===r?{max:t(e[r].max),min:t(e[r].min)}:e[r]);return o.hasOwnProperty("sliderMin")&&void 0===o.sliderInterval&&(o.sliderInterval=""),o;case"image":case"table":case"text":case"folder":for(r in e)e.hasOwnProperty(r)&&(o[r]=e[r]);return o;default:throw new Error("Unexpected expression type: "+n)}}return function(e){if(2<e.version)throw new Error("Unexpected version: "+e.version);var t={};return t.graph=e.graph,t.expressions={list:e.expressions.list.map(r)},t.version=3,t}}),define("core/graphing-calc/migrations/4",["require"],function(e){"use strict";function t(e){switch(e){case"point":return"POINT";case"cross":return"CROSS";case"open":return"OPEN";case"normal":return"SOLID";case"dashed":return"DASHED";case"dotted":return"DOTTED";default:return e}}function r(e){var r,n={};for(r in e)e.hasOwnProperty(r)&&(n[r]="style"===r?t(e[r]):e[r]);return n}function n(e){var n,o=e.type,i={};switch(o){case"expression":for(n in e)e.hasOwnProperty(n)&&(i[n]="style"===n?t(e[n]):e[n]);return i;case"table":for(n in e)e.hasOwnProperty(n)&&(i[n]="columns"===n?e[n].map(r):e[n]);return i;case"image":case"text":case"folder":for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i;default:throw new Error("Unexpected expression type: "+o)}}return function(e){if(3!==e.version)throw new Error("Unexpected version: "+e.version);var t={};return t.graph=e.graph,t.expressions={list:e.expressions.list.map(n)},t.version=4,t}}),define("core/graphing-calc/validate-state",["require","exports","core/lib/deepCopy"],function(e,t,r){"use strict";function n(e,t){return(t=parseFloat(t))!==Math.floor(t)?e:Math.max(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.validateState=void 0,t.validateState=function(e){return function(e){for(var t,r,o,i,a=function(){for(var t=0,r=0,o=e;r<o.length;r++){var i=o[r];t=n(t,i.id);if("table"===i.type)for(var a=0,s=i.columns;a<s.length;a++)n(t,s[a].id)}return t}()+1,s={},c=0,l=e;c<l.length;c++){var u=l[c];if(i=void 0,(o=u).slider&&("number"==typeof(i=o.slider).min&&(i.min=""+i.min),"number"==typeof i.max&&(i.max=""+i.max),"number"==typeof i.step&&(i.step=""+i.step)),"string"!=typeof o.id&&(o.id=""+o.id),"folder"===u.type)t=u.id,s[u.id]&&(u.id=""+a,a+=1),r=u.id,s[u.id]=!0,u.hasOwnProperty("folderId")&&delete u.folderId;else{if(void 0!==t&&u.folderId===t?u.folderId=r:(u.folderId&&(u.folderId=""),r=t=void 0),"table"===u.type)for(var d=0,p=u.columns;d<p.length;d++){var h=p[d];s[h.id]&&(h.id=""+a,a+=1),s[h.id]=!0}s[u.id]&&(u.id=""+a,a+=1),s[u.id]=!0}}}((e=r.default(e)).expressions.list),e}}),define("core/graphing-calc/migrations/5",["require","exports"],function(e,t){"use strict";function r(e){var t,r={};for(t in e)e.hasOwnProperty(t)&&"showPoints"!==t&&"showLine"!==t&&(r[t]=e[t]);return void 0===e.showPoints&&void 0===e.showLine||(e.showPoints&&e.showLine?r.columnMode="POINTS_AND_LINES":e.showPoints?r.columnMode="POINTS":e.showLine?r.columnMode="LINES":(r.hidden=!0,r.columnMode="POINTS")),r}function n(e){var t,n=e.type,o={};switch(n){case"expression":for(t in void 0===e.hidden?e.hasOwnProperty("graphed")?o.hidden=!e.graphed:e.hasOwnProperty("userRequestedGraphing")?o.hidden="never"===e.userRequestedGraphing:o.hidden=!1:o.hidden=e.hidden,e)e.hasOwnProperty(t)&&"graphed"!==t&&"userRequestedGraphing"!==t&&"hidden"!==t&&"slider"!==t&&("color"!==t?"style"!==t?"sliderInterval"!==t?o[t]=e[t]:o.sliderInterval="undefined"===e.sliderInterval?"":e.sliderInterval:o.style="normal"===e.style?"SOLID":e.style:"object"==typeof e.color?o.color=e.color.value:o.color=e.color);return o;case"table":if(e.headings||e.columns){var i=e.headings||e.columns;if(o.columns=i.map(r),e.rows)for(var a=0;a<o.columns.length;a++){var s=o.columns[a];s.values=[];for(var c=0;c<e.rows.length;c++)s.values.push(e.rows[c][a])}}for(t in e)e.hasOwnProperty(t)&&"rows"!==t&&"headings"!==t&&"columns"!==t&&(o[t]=e[t]);return o;case"image":case"text":case"folder":for(t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);return o;default:throw new Error("Unexpected expression type: "+n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.migrateState=void 0,t.migrateState=function(e){if(4!==e.version)throw new Error("Unexpected version: "+e.version);return{version:5,graph:function(e){var t,r,n={};for(r in e)if(e.hasOwnProperty(r))switch(t=e[r],r){case"showAxes":n.showXAxis=t,n.showYAxis=t;break;case"showLabels":n.xAxisNumbers=t,n.yAxisNumbers=t,n.polarNumbers=t;break;case"labelXMode":n.xAxisStep="pi"===t?Math.PI:0;break;case"labelYMode":n.yAxisStep="pi"===t?Math.PI:0;break;default:n[r]=t}return n}(e.graph),expressions:{list:e.expressions.list.map(n)}}}}),define("core/graphing-calc/migrations/6",["require","exports","core/lib/deepCopy","underscore","core/math/sliders","core/math/evaluate-single-expression"],function(e,t,r,n,o,i){"use strict";function a(e){var t,r={};for(t in e)if(e.hasOwnProperty(t)&&"style"!==t)if("values"===t&&(r[t]=e[t].map(function(e){return e?""+e:""})),"columnMode"!==t||e.hasOwnProperty("points")||e.hasOwnProperty("lines"))r[t]=e[t];else switch(e[t]){case"LINES":r.points=!1,r.lines=!0;break;case"POINTS_AND_LINES":r.points=!0,r.lines=!0;break;default:r.points=!0,r.lines=!1}return r.hasOwnProperty("pointStyle")||(r.pointStyle="POINT"),r.hasOwnProperty("lineStyle")||(r.lineStyle="SOLID"),r.id=""+r.id,r}Object.defineProperty(t,"__esModule",{value:!0}),t.migrateState=void 0;var s={sliderMin:"min",sliderMax:"max",sliderInterval:"step",sliderHardMin:"hardMin",sliderHardMax:"hardMax",sliderAnimationPeriod:"animationPeriod",sliderLoopMode:"loopMode",sliderPlayDirection:"playDirection",sliderIsPlaying:"isPlaying"};t.migrateState=function(e){if(5!==e.version)throw new Error("Unexpected version: "+e.version);var t=!(!e.graph||!e.graph.degreeMode),c=e.expressions.list,l=-1,u={},d={},p={};return{version:6,graph:e.graph,expressions:{list:c.map(function(e){return u[e.id]?(-1===l&&(l=function(e){for(var t=0,r=/^[0-9]+$/,n=e.length-1;0<=n;n--){var o,i=e[n],a=i.id;if(r.test(a)&&(o=parseInt(a,10))>t&&(t=o),"table"===i.type&&i.columns)for(var s=i.columns.length-1;0<=s;s--)a=i.columns[s].id,r.test(a)&&(o=parseInt(a,10))>t&&(t=o)}return t+1}(c)),d[l]=e.id,(e=r.default(e)).id=l+"",l+=1):d[e.id]=e.id,u[e.id]=!0,function(e,t,r,c){var l,u,d,p,h,f,g,m=e.type,y={};switch(m){case"folder":for(l in e)e.hasOwnProperty(l)&&("memberIds"===l||(y[l]=e[l]));break;case"expression":for(l in e)e.hasOwnProperty(l)&&("style"!==l||e.hasOwnProperty("pointStyle")||e.hasOwnProperty("lineStyle")?(s.hasOwnProperty(l)?(y.slider=y.slider||{},y.slider[s[l]]=e[l]):y[l]=e[l],e.label&&(y.label=function(e){e=function(e){if(!(e.length<2)&&"`"===e[0]&&"`"===e[e.length-1])return{raw:e,parts:[e]};for(var t,r,n="({"+["[a-zA-Z][0-9]*","[a-zA-Z]_[a-zA-Z0-9]+","[a-zA-Z]_\\{[a-zA-Z0-9]+\\}"].join("})|({")+"})",o=new RegExp(n,"g"),i=[],a=0;t=o.exec(e);){(r=t.index)>a&&i.push(e.substr(a,r-a));var s=t[0],c=s.replace(/[{}\$]/g,"").replace(/^([a-zA-Z])([0-9]+)$/,"$1_$2");i.push({symbol:c,str:s}),a=t.index+s.length}return a<e.length&&i.push(e.substr(a)),{raw:e,parts:i}}(e);var t="";return n.each(e.parts,function(e){t+="object"==typeof e&&e.str?"$"+e.str:e}),t}(e.label))):(u=e[l],n.contains(["POINT","OPEN","CROSS"],u)?(y.pointStyle=u,y.lineStyle="SOLID"):n.contains(["SOLID","DASHED","DOTTED"],u)?(y.pointStyle="POINT",y.lineStyle=u):(y.pointStyle="POINT",y.lineStyle="SOLID")));y.latex&&y.slider&&!y.slider.isPlaying&&(p=c,2===(g=(d=y).latex.split("=")).length&&(h=i.default(g[1],p),isFinite(h)&&(f=d.slider.hardMin?i.default(d.slider.min||"-10",p):void 0,g=d.slider.hardMax?i.default(d.slider.max||"10",p):void 0,p=d.slider.step?i.default(d.slider.step,p):void 0,(g=o.determineWhichLimitsAreCompatibleWithValue({target:h,step:p,hardMin:f,hardMax:g})).min||(delete d.slider.hardMin,delete d.slider.min),g.max||(delete d.slider.hardMax,delete d.slider.max),g.step||delete d.slider.step))),y.hasOwnProperty("fillOpacity")||(y.fillOpacity=.4),!1===y.label&&(y.label=""),y.labelSize||(y.labelSize="medium"),y.labelOrientation||(y.labelOrientation="default"),y.verticalLabel||(y.verticalLabel=!1),y.interactiveLabel||(y.interactiveLabel=!1);break;case"image":for(l in e)e.hasOwnProperty(l)&&"x"!==l&&"y"!==l&&(y[l]=e[l]);y.center="\\left("+(e.x||"0")+","+(e.y||"0")+"\\right)",y.angle=e.angle||"0",y.foreground=!!y.foreground;break;case"text":for(l in e)e.hasOwnProperty(l)&&(y[l]=e[l]);break;case"table":for(l in e)e.hasOwnProperty(l)&&(y[l]="columns"===l?e[l].map(a):e[l]);break;default:throw new Error("Unexpected expression type: "+m)}return y.id=""+y.id,"folder"===e.type?(t.folderId=y.id,t.memberIds=e.memberIds,y.folderId=""):(r=r[y.id],t.memberIds&&t.memberIds[r]?y.folderId=t.folderId:(y.folderId="",t.folderId=void 0,t.memberIds=void 0)),y}(e,p,d,t)})}}}}),define("core/graphing-calc/migrations/7",["require","exports","tslib"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(6!==e.version)throw new Error("Unexpected version: "+e.version);var t=e.expressions.list.map(function(e){if("expression"===e.type&&e.domain){var t=r.__assign(r.__assign({},e),{parametricDomain:{min:e.domain.min,max:e.domain.max}});return delete t.domain,t}return e});return{version:7,randomSeed:e.randomSeed,graph:e.graph,expressions:{list:t}}}}),define("core/lib/random-seed",["require","exports","core/lib/md5"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new Uint8Array(16);if("undefined"!=typeof crypto)crypto.getRandomValues(e);else{if("undefined"==typeof msCrypto)return r.default(Date.now().toString()+Math.random().toString());msCrypto.getRandomValues(e)}return Array.prototype.slice.call(e).map(function(e){return 1===(e=e.toString(16)).length?"0"+e:e}).join("")}}),define("core/graphing-calc/migrations/8",["require","exports","tslib","core/lib/random-seed","core/lib/deepCopy"],function(e,t,r,n,o){"use strict";function i(e){var t=e.split("_");return 2===t.length&&t[1]&&1===t[1].length?t[0]+"_{"+t[1]+"}":e}function a(e){return(e=o.default(e)).rules||!e.assignment&&!e.expression||(e.rules=[{id:"1",assignment:e.assignment||"",expression:e.expression||""}]),delete e.assignment,delete e.expression,e}function s(e){return e.replace(/\\operatorname(?:\{stdev\}p|\{stddev\}p|\{stdDev\}P|\{var\}iance)/g,function(e){switch(e){case"\\operatorname{stdev}p":return"\\operatorname{stdevp}";case"\\operatorname{stddev}p":return"\\operatorname{stddevp}";case"\\operatorname{stdDev}P":return"\\operatorname{stdDevP}";case"\\operatorname{var}iance":return"\\operatorname{variance}";default:return""}})}function c(e){var t=e.latex,n=e.values;e=r.__assign({},e);return t&&(e.latex=s(t),e.latex=i(e.latex)),n&&(e.values=n.map(function(e){return e?s(e):""})),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(7!==e.version)throw new Error("Unexpected version: "+e.version);var t=e.expressions.list.map(function(e){if("image"===e.type){var t,n,l=r.__assign(r.__assign({},e),{opacity:""});for(t in e.hasOwnProperty("stringOpacity")?l.opacity=e.stringOpacity:e.hasOwnProperty("opacity")?l.opacity=e.opacity+"":delete l.opacity,e.clickableInfo&&(l.clickableInfo=a(e.clickableInfo)),delete l.stringOpacity,e)"x"!==t&&"y"!==t&&"width"!==t&&"height"!==t||(n=e[t])&&(l[t]=s(n));return l}if("expression"!==e.type)return"table"===e.type?(h=e).columns?r.__assign(r.__assign({},h),{columns:h.columns.map(c)}):h:e;if(l=r.__assign(r.__assign({},e),{fillOpacity:"",lineStyle:"SOLID"}),"SINGLE_PIXEL"===e.lineStyle?l.lineWidth="1":e.hasOwnProperty("lineStyle")?l.lineStyle=e.lineStyle:delete l.lineStyle,l.hasOwnProperty("lineWidth")||(l.lineWidth=""),l.hasOwnProperty("lineOpacity")||(l.lineOpacity=""),l.hasOwnProperty("pointOpacity")||(l.pointOpacity=""),l.hasOwnProperty("pointSize")||(l.pointSize=""),l.hasOwnProperty("colorLatex")||(l.colorLatex=""),"string"==typeof e.latex&&(l.latex=s(e.latex)),e.latex&&(l.latex=s(e.latex)),e.hasOwnProperty("stringFillOpacity")?l.fillOpacity=e.stringFillOpacity:e.hasOwnProperty("fillOpacity")?l.fillOpacity=e.fillOpacity+"":delete l.fillOpacity,l.slider&&e.slider&&e.slider.newLoopMode&&(l.slider=o.default(l.slider),l.slider.loopMode=e.slider.newLoopMode,delete l.slider.newLoopMode),l.residualVariable&&(l.residualVariable=i(l.residualVariable)),l.regressionParameters)for(var u in l.regressionParameters={},e.regressionParameters){var d=i(u),p=e.regressionParameters[u];l.regressionParameters[d]=p}return e.clickableInfo&&(l.clickableInfo=a(e.clickableInfo)),l;var h});return{version:8,randomSeed:e.randomSeed||n.default(),graph:e.graph,expressions:{list:t}}}}),define("core/graphing-calc/migrations/9",["require","exports","tslib","core/lib/random-seed","../json/ticker"],function(e,t,r,n,o){"use strict";function i(e){return e.filter(function(e){var t=e.assignment;e=e.expression;return!!t&&!!e})}function a(e){return e.map(function(e){return e.assignment+"\\to "+e.expression}).join(",")||""}function s(e){for(var t,r=JSON.stringify(e),n=/_(\d)|_\{(\d+)\}/g,o={};null!==(t=n.exec(r));)o[void 0!==t[1]?t[1]:t[2]]=!0;return o}function c(e,t){for(var r=t+1;;r++)if(!e[r])return r}function l(e){for(var t,r=JSON.stringify(e),n=/"(\d+)"/g,o={};null!==(t=n.exec(r));)o[void 0!==t[1]?t[1]:t[2]]=!0;return o}function u(e,t){for(var r=t+1;;r++)if(!e[r])return r}Object.defineProperty(t,"__esModule",{value:!0}),t.rulesToLatex=t.filterEmptyRules=void 0,t.filterEmptyRules=i,t.rulesToLatex=a,t.default=function(e){if(8!==e.version)throw new Error("Unexpected version: "+e.version);var t=!1;e.graph&&e.graph.degreeMode&&(t=!0);for(var d,p,h=e.expressions.ticker||o.DEFAULTS,f=0,g=0,m=[],y=0,v=e.expressions.list;y<v.length;y++){var b,x,w=v[y];switch(w.type){case"expression":(function(e,t,r){if(e.verticalLabel)switch(delete t.verticalLabel,t.labelAngle=r?"90":"\\frac{\\pi}{2}",e.labelOrientation){case"above":t.labelOrientation="right";break;case"below":t.labelOrientation="left";break;case"left":t.labelOrientation="above";break;case"right":t.labelOrientation="below"}e.extendedLabelOrientation&&(t.labelOrientation=e.extendedLabelOrientation,delete t.extendedLabelOrientation)})(w,b=r.__assign({},w),t),function(e,t){if(e.vizProps)switch(e.vizProps.dotplotSize){case"small":t.pointSize="9";break;case"large":t.pointSize="20"}e.vizProps&&(delete(e=r.__assign({},e.vizProps)).dotplotSize,Object.keys(e).length?t.vizProps=e:delete t.vizProps)}(w,b);var E,S,k,_,I,M=void 0;w.clickableInfo&&w.clickableInfo.rules&&(S=(E=w.clickableInfo).rules,k=r.__rest(E,["rules"]),_=a(L=i(S)),1<L.length?(I="A_{"+(f=c(d=d||s(e),f))+"}",M={type:"expression",id:""+(g=u(p=p||l(e),g)),latex:(k.latex=I)+"="+_},void 0!==w.folderId&&(M.folderId=w.folderId)):k.latex=_,b.clickableInfo=k),b.clickableInfo&&b.clickableInfo.enabled&&b.hidden&&(b.clickableInfo.enabled=!1),m.push(b),M&&m.push(M);break;case"image":w.clickableInfo&&w.clickableInfo.rules?(b=r.__assign({},w),S=(x=w.clickableInfo).rules,k=r.__rest(x,["rules"]),_=a(L=i(S)),M=void 0,1<L.length?(I="A_{"+(f=c(d=d||s(e),f))+"}",M={type:"expression",id:""+(g=u(p=p||l(e),g)),latex:(k.latex=I)+"="+_},void 0!==w.folderId&&(M.folderId=w.folderId)):k.latex=_,b.clickableInfo=k,m.push(b),M&&m.push(M)):m.push(w);break;case"simulation":var L,T=void 0;T=w.clickableInfo&&w.clickableInfo.rules?a(L=i(w.clickableInfo.rules)):"";w.isPlaying&&""!==T&&(T=(I="A_{"+(f=c(d=d||s(e),f))+"}")+"="+T,E={handlerLatex:E=I,playing:!0,open:!0},void 0!==(x=w.fps)&&(E.minStepLatex=function(e){if(/^\d+$/.test(e)){var t=parseInt(e,10);return 0===t?"\\infty":""+Math.round(1e3/t)}return"\\frac{1000}{"+e+"}"}(x)),h=E),b={type:"expression",id:w.id,latex:T},void 0!==w.folderId&&(b.folderId=w.folderId),m.push(b);break;default:m.push(w)}}return{version:9,randomSeed:e.randomSeed||n.default(),graph:e.graph,expressions:{list:m,ticker:h}}}}),define("core/graphing-calc/migrations/10",["require","exports","tslib"],function(e,t,r){"use strict";function n(e){e.clickableInfo&&(void 0===e.description&&void 0!==e.clickableInfo.description&&(e.description=e.clickableInfo.description),delete e.clickableInfo.description,0===Object.keys(e.clickableInfo).length&&delete e.clickableInfo)}Object.defineProperty(t,"__esModule",{value:!0}),t.backport10To9=void 0,t.default=function(e){if(9!==e.version)throw new Error("Unexpected version: "+e.version);for(var t=[],o={},i=0,a=e.expressions.list;i<a.length;i++){var s,c=a[i];switch(c.type){case"expression":n(s=r.__assign({},c)),t.push(s);break;case"image":n(s=r.__assign({},c));var l=s.description;void 0!==l&&""!==l||!s.draggable||void 0===s.center||""===s.center||(void 0===o[s.center]?o[s.center]=[s]:o[s.center].push(s)),t.push(s);break;default:t.push(c)}}for(var u=0,d=t;u<d.length;u++){var p=d[u];if("expression"===p.type&&void 0!==p.latex&&""!==p.latex&&-1!==p.latex.indexOf("=")&&void 0!==p.dragMode&&"NONE"!==p.dragMode&&void 0!==p.label&&""!==p.label){var h=o[p.latex.slice(0,p.latex.indexOf("="))];if(void 0!==h)for(var f=0,g=h;f<g.length;f++)g[f].description=p.label}}return r.__assign(r.__assign({},e),{version:10,expressions:r.__assign(r.__assign({},e.expressions),{list:t})})},t.backport10To9=function(e){if(10!==e.version)throw new Error("Unexpected version: "+e.version);for(var t,n=[],o=0,i=e.expressions.list;o<i.length;o++){var a=i[o];switch(a.type){case"expression":case"image":var s=r.__assign({},a);void 0!==(t=s).description&&(t.clickableInfo=r.__assign(r.__assign({},t.clickableInfo),{description:t.description})),n.push(s);break;default:n.push(a)}}return r.__assign(r.__assign({},e),{version:9,expressions:r.__assign(r.__assign({},e.expressions),{list:n})})}}),define("core/graphing-calc/migrate-state",["require","exports","./migrations/0","./migrations/1","./migrations/2","./migrations/3","./migrations/4","core/graphing-calc/validate-state","./migrations/5","./migrations/6","./migrations/7","./migrations/8","./migrations/9","./migrations/10"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.migrateToPersisted=t.migrateToLatest=t.currentVersion=t.persistedVersion=void 0;var f=[r,n,o,i,a,c.migrateState,l.migrateState,u.default,d.default,p.default,h.default];function g(e){if(e.version>t.currentVersion)return"undefined"!=typeof console&&console.warn&&console.warn("Loading saved state with version "+e.version+" but last known version is "+t.currentVersion+". States saved in a newer version of the calculator may not load correctly in an older version of the calculator."),s.validateState(e);if(e.hasOwnProperty("version")&&!f[e.version])return"undefined"!=typeof console&&console.warn&&console.warn("State has invalid version "+e.version+". If a version is present, it should be a non-negative integer less than or equal to "+t.currentVersion+"."),s.validateState(e);for(e.hasOwnProperty("version")||(e=f[0](e));e.version<t.currentVersion;)e=f[e.version+1](e);return s.validateState(e)}t.persistedVersion=9,t.currentVersion=10,t.migrateToLatest=g,t.migrateToPersisted=function(e){return e=g(e),h.backport10To9(e)}}),define("core/types/line-width",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.THICK=t.DEFAULT=t.THIN=void 0,t.THIN=1,t.DEFAULT=2.5,t.THICK=5}),define("lib/smart-slider-defaults",["require","exports","core/math/baseparser","core/types/line-width","core/types/point-size","core/types/point-opacity","core/types/line-opacity","core/types/opacity"],function(e,t,r,n,o,i,a,s){"use strict";function c(e){return{value:"0",min:"0",max:e.degreeMode?"360":"2\\pi"}}Object.defineProperty(t,"__esModule",{value:!0});var l={latex:t.checkVariableForBoundRestrictions=t.computeDefaults=void 0,polarDomainMin:void 0,polarDomainMax:void 0,parametricDomainMin:void 0,clickableInfoLatex:void 0,parametricDomainMax:void 0,pointSize:function(){return{value:o.DEFAULT+"",min:"0",max:"10"}},labelAngle:c,labelSize:function(){return{value:"1",min:"0",max:"5"}},lineWidth:function(){return{value:n.DEFAULT+"",min:"0",max:"10"}},fillOpacity:function(){return{value:s.DEFAULT+"",min:"0",max:"1"}},lineOpacity:function(){return{value:a.DEFAULT+"",min:"0",max:"1"}},pointOpacity:function(){return{value:i.DEFAULT+"",min:"0",max:"1"}},sliderMin:void 0,sliderMax:void 0,sliderStep:void 0,residualVariable:void 0,tableHeader:void 0,tableCellValue:void 0,imageOpacity:function(){return{value:"1",min:"0",max:"1"}},imageCenter:void 0,imageHeight:function(){return{value:"10",min:"-10",max:"10"}},imageWidth:function(){return{value:"10",min:"-10",max:"10"}},imageAngle:c,tickerMinStep:function(){return{value:"0",min:"0"}},tickerHandler:void 0},u={rgb:{paramBounds:function(e){return{value:"0",min:"0",max:"255",step:"1"}}},hsv:{paramBounds:function(e){return 0===e?{value:"0",min:"0",max:"360",step:"1"}:{value:"0.5",min:"0",max:"1"}}}};function d(e,t,r){var n=t.parsed;t=t.location;if("Identifier"===n.type&&n._symbol===e)return(t=l[t])?[t(r)]:void 0;"Assignment"===n.type&&(n=n._expression);var o=[];if("FunctionCall"===n.type){var i;r=n._symbol;return u.hasOwnProperty(r)&&(i=u[r],n.args.forEach(function(t,r){"Identifier"!==t.type||t._symbol!==e||(r=i.paramBounds(r))&&o.push(r)})),o}}t.computeDefaults=function(e,t,n){for(var o=e.map(function(e){return{location:e.location,parsed:r.parse(e.latex)}}),i={},a=0,s=t;a<s.length;a++)for(var c=s[a],l=0,u=o;l<u.length;l++){var p=d(c,u[l],n);p&&p.length&&(i[c]=p[0])}return i},t.checkVariableForBoundRestrictions=d}),define("graphing-calc/models/focus",["require","exports","./expression","./list"],function(e,t,r,n){"use strict";function o(e,t,r){i(e,a(e,t,r))}function i(e,t){var o;(e.focusLocation=t)&&("ticker"===t.type&&(e.getListModel().ticker.playing=!1,n.setSelected(e.getListModel(),void 0)),"settings"!==t.type&&"editable-label"!==t.type&&"add-item-btn"!==t.type&&"add-expression-btn"!==t.type&&"add-note-btn"!==t.type&&"add-table-btn"!==t.type&&"add-folder-btn"!==t.type&&"add-ticker-btn"!==t.type&&"add-image-btn"!==t.type&&"edit-list-toggle"!==t.type&&"hide-expression-list-btn"!==t.type&&"show-expression-list-btn"!==t.type&&"search-expressions"!==t.type&&"replace-expressions"!==t.type&&"ticker"!==t.type&&"regression-output"!==t.type)&&(o=e.getItemModel(t.id),"expression-menu"!==t.type?(n.setSelected(e.getListModel(),o),o&&"expression"===o.type&&r.setSliderIsPlaying(o,!1)):n.setSelected(e.getListModel(),void 0))}function a(e,t,r){var n=e.getItemModel(t);if(n)switch(n.type){case"expression":return{type:e.isInEditListMode()?"readonly-expression":n.type,id:t};case"folder":case"text":return{type:n.type,id:t};case"table":var o={row:1,column:0},i=!1;return r&&("cell"===r.location?o={row:r.row,column:r.column}:"end"===r?o={row:n.columnModels[0].cells.length,column:0}:"start"===r?o={row:0,column:0}:"container"===r&&(i=!0)),i?{type:"table-container",id:t}:{type:n.type,id:t,location:o};case"image":return{type:n.type,id:t,location:"name"};default:return n}}Object.defineProperty(t,"__esModule",{value:!0}),t.focusTableCell=t.getFocusedItem=t.addFocusForKeypad=t.computeFocusLocationForItem=t.setFocusLocation=t.moveFocusToItem=void 0,t.moveFocusToItem=o,t.setFocusLocation=i,t.computeFocusLocationForItem=a,t.addFocusForKeypad=function(e){var t=e.getSelectedItem();if(t&&"expression"===t.type)o(e,t.id);else if(!t||"table"!==t.type||!e.focusLocation){for(var r=e.getFirstFullyVisibleItem(),i=e.getListModel();r&&"expression"!==r.type;)r=n.findNextSelectableItem(i,r.index);r?o(e,r.id):(t=e.createItemModel({type:"expression",id:e.generateId(),color:e.getNextColor()}),n.insertItemAtEnd(e.getListModel(),t),o(e,t.id))}},t.getFocusedItem=function(e){var t=e.focusLocation;if(t&&"settings"!==t.type&&"editable-label"!==t.type&&"add-item-btn"!==t.type&&"add-expression-btn"!==t.type&&"add-note-btn"!==t.type&&"add-table-btn"!==t.type&&"add-ticker-btn"!==t.type&&"add-folder-btn"!==t.type&&"add-image-btn"!==t.type&&"edit-list-toggle"!==t.type&&"hide-expression-list-btn"!==t.type&&"show-expression-list-btn"!==t.type&&"search-expressions"!==t.type&&"replace-expressions"!==t.type&&"ticker"!==t.type&&"regression-output"!==t.type)return e.getItemModel(t.id)},t.focusTableCell=function(e,t,r){i(e,{type:"table",id:t,location:r})}}),define("graphing-calc/actions/keyboard",["require","exports","browser","lib/conditional_blur","../models/table","../models/focus","../models/list","../models/abstract-item"],function(e,t,r,n,o,i,a,s){"use strict";function c(e){var t=e.getSelectedItem();t&&(e.inAudioTraceMode()||(!a.selectPrevItem(e.getListModel())&&e.getTickerOpen()&&i.setFocusLocation(e,{type:"ticker",location:"handler"}),(t=e.getSelectedItem())&&i.moveFocusToItem(e,t.id,"end")))}function l(e){if(!e.inAudioTraceMode()){if("ticker"===(null===(t=e.getFocusLocation())||void 0===t?void 0:t.type)){var t=a.getFirstSelectableItem(e.getListModel());if(t)return i.moveFocusToItem(e,t.id,"start")}a.selectNextItem(e.getListModel())||e.isInEditListMode()||(r=e.createItemModel({type:"expression",id:e.generateId(),color:e.getNextColor()}),a.insertItemAtEnd(e.getListModel(),r),a.setSelected(e.getListModel(),r));var r=e.getSelectedItem();r&&i.moveFocusToItem(e,r.id,"start")}}function u(e){if(!e.isInEditListMode()){var t=e.getSelectedItem();if(t&&(1!==e.getItemCount()||"expression"!==t.type)){var n="text"===t.type,o=a.getParentFolderModel(t);if(o){var c=e.getNumberOfItemsInFolder(o.id);if(t.index===o.index+c)return void s.setFolderId(t,"")}h(e,{moveSelection:!0}),n&&r.IS_IPAD&&r.IS_IN_IFRAME?a.setSelected(e.getListModel(),void 0):(t=e.getSelectedItem())&&i.moveFocusToItem(e,t.id,"end")}}}function d(e){var t;e.isInEditListMode()||(t=e.getSelectedItem())&&(1===e.getItemCount()&&"expression"===t.type||(f(e,{moveSelection:!0}),(t=e.getSelectedItem())&&i.moveFocusToItem(e,t.id,"start")))}function p(e){if(!e.isInEditListMode()){var t=e.getSelectedItem();if(t){if("text"===t.type&&r.IS_IPAD&&r.IS_IN_IFRAME)return n.default(),void a.setSelected(e.getListModel(),void 0);if(a.getMissingVariablesForItem(t).length&&e.areSlidersEnabled())return e.createSlidersForItem(t.id,a.getMissingVariablesForItem(t).concat(""));var o=e.createItemModel({type:"expression",id:e.generateId(),color:e.getNextColor()}),c=t.index+1;"folder"===t.type&&t.collapsed&&(c+=e.getNumberOfItemsInFolder(t.id)),a.insertItemAtIndex(e.getListModel(),o,c),a.setSelected(e.getListModel(),o),"folder"!==t.type||t.collapsed?"folder"!==t.type&&t.folderId&&s.setFolderId(o,t.folderId):s.setFolderId(o,t.id),(t=e.getSelectedItem())&&i.moveFocusToItem(e,t.id)}}}function h(e,t){var r=t.moveSelection,n=g(e),o=e.getListModel();n&&(t=a.findPrevSelectableItem(o,n.index),e._removeExpressionSynchronously(n),r?(t||(r=a.getFirstSelectableItem(o))&&(t=r),a.setSelected(o,t)):a.setSelected(o,void 0))}function f(e,t){var r=t.moveSelection,n=g(e),o=e.getListModel();n&&(t=a.findNextSelectableItem(o,n.index),e._removeExpressionSynchronously(n),r?(t||(r=a.getLastSelectableItem(o))&&(t=r),a.setSelected(o,t)):a.setSelected(o,void 0))}function g(e){return"folder"==(null==(e=e.getSelectedItem())?void 0:e.type)&&e.collapsed&&e.selectedHiddenChild?e.selectedHiddenChild:e}Object.defineProperty(t,"__esModule",{value:!0}),t.downwardDeleteSelectedExpression=t.upwardDeleteSelectedExpression=t.onEnterPressed=t.onDeletePressed=t.onBackspacePressed=t.onDownPressed=t.onUpPressed=t.navigateTableByKey=void 0,t.navigateTableByKey=function(e,t,r){if((n=e.getItemModel(t))&&"table"===n.type){var n,a=n,s=(n=o.getSelectedCell(a))?n.row:-1,h=n?n.column:-1,f=(n=a.columnModels)[0].cells.length,g=n.length,m=function(r,n){-1===r?c(e):f<r?l(e):(-1===n?(n=g-1,r--):n===g&&(r++,n=0),i.focusTableCell(e,t,{row:r,column:n}))},y=function(r){2<f&&o.removeRow(a,s-1),i.focusTableCell(e,t,{row:r,column:h})},v=function(r){0===h||g<=2||(o.removeColumn(a,h),i.focusTableCell(e,t,{row:s,column:r}))};switch(r){case"Left":m(s,h-1);break;case"Right":m(s,h+1);break;case"Up":m(s-1,h);break;case"Down":m(s+1,h);break;case"Enter":if(f<=s)return p(e);if(0<h)return m(s+1,h);if(s===f-1){var b=o.getRowAutoFillValues(a,s);o.insertBlankRow(a,s);for(var x=0;x<b.length;x++)o.setCellLatex(a,{row:s+1,column:x},b[x]);return void i.focusTableCell(e,t,{row:s+1,column:h})}o.insertBlankRow(a,s),i.focusTableCell(e,t,{row:s+1,column:h});break;case"Backspace":0===s?0===h?u(e):h===g-1||1===h&&3===g?m(0,h-1):v(h-1):0!==h?m(s,h-1):s===f?m(s-1,h):y(s-1);break;case"Delete":0===s?0===h?d(e):h<g-1&&v(h):f<=s||y(s)}}},t.onUpPressed=c,t.onDownPressed=l,t.onBackspacePressed=u,t.onDeletePressed=d,t.onEnterPressed=p,t.upwardDeleteSelectedExpression=h,t.downwardDeleteSelectedExpression=f}),define("main/expression-zoom-helpers",["require","exports","core/lib/deepCopy"],function(e,t,r){"use strict";function n(e){return(e=r.default(e)).xmax<0&&e.xmin<0&&e.xmax/(e.xmin-e.xmax)<1.2&&(e.xmax=0),0<e.xmax&&0<e.xmin&&e.xmin/(e.xmax-e.xmin)<1.2&&(e.xmin=0),e.ymax<0&&e.ymin<0&&e.ymax/(e.ymin-e.ymax)<1.2&&(e.ymax=0),0<e.ymax&&0<e.ymin&&e.ymin/(e.ymax-e.ymin)<1.2&&(e.ymin=0),e}function o(e,t){var r=e.type,n=function(e,t){return"dotplot"!==e.type&&"histogram"!==e.type?.5:(e=80*Math.max(1,e.xmax-e.xmin)/(e.binWidth||1),e=.5*(t.screen.width-e)/e,Math.max(.2,e))}(e,t),o="boxplot"===r?3:.5;e.xmin===e.xmax&&(e.xmin-=.5,e.xmax+=.5),e.ymin===e.ymax&&(e.ymin-=.5,e.ymax+=.5);var i=e.xmax-e.xmin,a=e.xmin-n*i,s=e.xmax+n*i;n=e.ymax-e.ymin;return i=e.ymin-o*n,n=e.ymax+o*n,"boxplot"!==r&&"dotplot"!==r&&"histogram"!=r||(t=(s-a)*(t.screen.height/t.screen.width))>e.ymax-e.ymin&&t<function(){switch(r){case"histogram":case"dotplot":return 12;case"boxplot":return 40}return 1/0}()*(e.ymax-e.ymin)&&(n=(e=.5*(e.ymax+e.ymin))+.5*t,i=e-.5*t),{xmin:a,xmax:s,ymin:i,ymax:n}}function i(e,t){for(var r=1/0,i=-1/0,a=1/0,s=-1/0,c=0,l=e.length,u=0;u<l;u++){var d=n(e[u]);isFinite(d.xmax-d.xmin)&&isFinite(d.ymax-d.ymin)?((d=o(d,t)).xmin<r&&(r=d.xmin),d.xmax>i&&(i=d.xmax),d.ymin<a&&(a=d.ymin),d.ymax>s&&(s=d.ymax)):c+=1}if(c!==l)return{xmin:r,xmax:i,ymin:a,ymax:s}}Object.defineProperty(t,"__esModule",{value:!0}),t.getRecommendedViewportForExpression=t.shouldExpressionZoomFit=t.padViewport=t.conditionalExpandViewport=void 0,t.conditionalExpandViewport=n,t.padViewport=o,t.shouldExpressionZoomFit=function(e,t){if(!(o=i(e,t)))return!1;var r=t.mapx(o.xmin),n=t.mapx(o.xmax),o=(e=t.mapy(o.ymin),t.mapy(o.ymax));return!(Math.abs(r)<=10&&Math.abs(o)<=10&&Math.abs(n-t.screen.width)<=10&&Math.abs(e-t.screen.height)<=10)},t.getRecommendedViewportForExpression=i}),define("main/layout-model",["require","exports","browser"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLayoutModel=t.getShiftedLayoutForCurrentLayout=void 0,t.getShiftedLayoutForCurrentLayout=function(e){switch(e){case"letters":return"capitalLetters";case"noQwertyLetters":return"noQwertyCapitalLetters";case"noQwertyCapitalLetters":return"noQwertyLetters";default:return"letters"}},t.defaultLayoutModel=function(e){return{keypadMinimized:!r.IS_TOUCH_DEVICE,keypadLayout:"mainNumbers",keypadFunctionsOpen:!1,graphSettingsOpen:!1,addExpressionOpen:!1,expressionsVisible:!!e.expressions,inEditListMode:!1,isFileDraggedOver:!1,expressionsHiddenTime:void 0}}}),define("main/settings-view-model",["require","exports","tslib","core/lib/label"],function(e,t,r,n){"use strict";function o(e,t){return((e=n.value(e,t)).mantissa?e.mantissa.split("").join("\\cdot")+"^{"+e.superscript+"}":2===(t=e.string.split("/")).length?"-"===t[0][0]?"-\\frac{"+t[0].slice(1)+"}{"+t[1]+"}":"\\frac{"+t[0]+"}{"+t[1]+"}":e.string).replace(//,"\\pi")}function i(e){return{xmin:o(e.xmin,e.xmax-e.xmin),xmax:o(e.xmax,e.xmax-e.xmin),ymin:o(e.ymin,e.ymax-e.ymin),ymax:o(e.ymax,e.ymax-e.ymin)}}function a(e,t){return 0===e?"":o(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultSettingsViewModel=t.limitLatex=t.formatStep=t.formatViewport=t.formatLatex=void 0,t.formatLatex=o,t.formatViewport=i,t.formatStep=a,t.limitLatex=function(e,t,n){var o=i(e);return r.__assign(r.__assign({},o),{xstep:a(t,e.xmax-e.xmin),ystep:a(n,e.ymax-e.ymin)})},t.defaultSettingsViewModel=function(){return{limitLatex:{xmin:"",xmax:"",xstep:"",ymin:"",ymax:"",ystep:""}}}}),define("expressions/move-point",["require","exports","core/lib/dragmode","core/lib/number-to-latex","core/lib/label","lib/rounding","graphing-calc/models/expression","core/math/poi","core/math/functions","../core/math/distance"],function(e,t,r,n,o,i,a,s,c,l){"use strict";function u(e,t,r,n){function o(t){t=(r=n(t))[0];var r=r[1];return e.mathToPixels.mapPoint({x:t,y:r})}function a(t){var r=t.x,n=t.y,o=(a=e.pixelCoordinates).left,i=a.right,a=(t=a.top,a.bottom);return o<=r&&r<=i&&t<=n&&n<=a}var c,l=t,u=o(t),d=r,p=o(r);if(a(p))return r;if(!a(u))return r;for(;;){var h,f=u.x-p.x;if(f*f+(h=u.y-p.y)*h<.5)break;if((f=s.floatMiddle(l,d))===l||f===d){l=(c=a(u)?[l,l]:[d,d])[0],d=c[1];break}a(h=o(f))!==a(u)?(d=(c=[f,h])[0],p=c[1]):(l=(h=[f,h])[0],u=h[1])}return i.shortestDecimalBetween(l,d)}function d(e,t,r){if(!e.move_strategy)throw new Error("Programming error: expected move_strategy to be defined.");var a=e.assignment?o.identifierToLatex(e.assignment)+"=":"",s=i.shortestDecimalBetween(t[0].min,t[0].max),c=i.shortestDecimalBetween(t[1].min,t[1].max);t="updateCoordinate"===e.move_strategy[0].type&&p(0,r),r="updateCoordinate"===e.move_strategy[1].type&&p(1,r);return{latex:a+"\\left("+(t?n.default(s):e.move_strategy[0].inputString)+","+(r?n.default(c):e.move_strategy[1].inputString)+"\\right)",x:t?s:void 0,y:r?c:void 0}}function p(e,t){switch(t){case r.DragMode.X:return 0===e;case r.DragMode.Y:return 1===e;case r.DragMode.XY:return!0;default:return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.canMoveCoordinate=t.newPointLatex=t.computeMovablePointUpdateForScreenPoint=t.computeParametricPointUpdateForMouse=t.computeParametricPointUpdateForKeyboard=t.applyMovablePointUpdate=void 0,t.applyMovablePointUpdate=function(e,t,r,n){if(!r)return!1;var o=(l=e.pixelCoordinates).left,i=l.right,s=l.top,c=l.bottom,l=(u=r.mathPoint).x,u=u.y;if(void 0!==l&&((l=e.mathToPixels.mapX(l))<o-.5||i+.5<l))return!1;if(void 0!==u&&((u=e.mathToPixels.mapY(u))<s-.5||c+.5<u))return!1;var d,p,h=!1;for(p in r.newPointLatex&&(d=t.latex,a.setLatex(t,r.newPointLatex),h=h||d!==t.latex),r.sliderUpdates){var f=(g=r.sliderUpdates[p]).value,g=g.model;n&&a.commitSliderSoftLimits(g),d=g.latex,a.adjustSliderByMovablePoint(g,f),h=h||d!==g.latex}return h},t.computeParametricPointUpdateForKeyboard=function(e){var t=e.projection,r=e.controller,n=e.strategy,o=e.mode,d=r.getItemModel(n.id);if(!d||"expression"!==d.type)throw new Error("Programming error: updateSliderNonlinear move strategy should point to an expression item, but found "+(null==d?void 0:d.type));var p="up"===o||"bigup"===o,h=""!==(null===(g=d.slider)||void 0===g?void 0:g.step)&&(p&&!d.slider.hardMax||!p&&!d.slider.hardMin);function f(e){var r=m(e),n=r[0];e=r[1];return[(r=t.mathToPixels.mapPoint({x:n,y:e})).x,e=r.y]}n.compiled.fn||c.rehydrateCompiledFunction(n.compiled);var g,m=n.compiled.fn,y=a.getSliderValue(d),v=(x=f(y))[0],b=x[1],x=(p=(g=f(r=e=a.computeSliderKeyboardAdjustment(d,o,{ignoreSoftLimits:h})))[0],g[1]);(g=l.hypot(p-v,x-b))<1&&(r=s.findLocalClosestPointOnParametric(f,[v+(p-v)/g,b+(x-b)/g],r,y<r?r:n.min,r<y?r:n.max,1))&&(r=i.shortestDecimalBetween(r[0],r[1]),"bigup"!==o&&"bigdown"!==o||(r=y+5*(r-y)),h=(r=f(w=a.computeSliderSnappedValue(d,s.clamp(r,n.min,n.max),{ignoreSoftLimits:h})))[0],r=r[1],l.hypot(h-v,r-b)>g&&(e=w));var w=u(t,a.getSliderValue(d),e,m);return{mathPoint:{x:(e=m(w))[0],y:e[1]},sliderUpdates:((e={})[n.id]={model:d,value:w},e)}},t.computeParametricPointUpdateForMouse=function(e){var t=e.controller,r=e.projection,n=e.strategy,o=e.targetScreenPoint,l={mathPoint:{},sliderUpdates:{}},d=t.getItemModel(n.id);if(!d||"expression"!==d.type)throw new Error("Programming error: updateSliderNonlinear move strategy should point to an expression item, but found "+(null==d?void 0:d.type));n.compiled.fn||c.rehydrateCompiledFunction(n.compiled);var p=n.compiled.fn;e=n.initialValue,t=n.min,n=n.max,o=[o.x,o.y];return(e=s.findLocalClosestPointOnParametric(function(e){var t=p(e),n=t[0];e=t[1];return[(t=r.mathToPixels.mapPoint({x:n,y:e})).x,e=t.y]},o,e,t,n,1))?(e=i.shortestDecimalBetween(e[0],e[1]),void 0!==t&&e<t&&(e=t),void 0!==n&&n<e&&(e=n),t=a.computeSliderSnappedValue(d,e,{ignoreSoftLimits:!0}),n=u(r,a.getSliderValue(d),t,p),t=(e=p(n))[0],e=e[1],l.mathPoint.x=t,l.mathPoint.y=e,l.sliderUpdates[d.id]={value:n,model:d},l):l},t.computeMovablePointUpdateForScreenPoint=function(e){var t=e.controller,r=e.projection,n=e.formula,o=e.moveStrategy,s=e.dragMode,c=e.targetScreenPoint,l=[{min:(e=r.pixelsToMath.mapRect({left:c.x-.5,right:c.x+.5,top:c.y+.5,bottom:c.y-.5})).left,max:e.right},{min:e.top,max:e.bottom}],u={mathPoint:{},sliderUpdates:{}};c=o[0],e=o[1];"updateCoordinate"!==c.type&&"updateCoordinate"!==e.type||(e=(c=d(n,l,s)).latex,n=c.x,c=c.y,void 0===n&&void 0===c||(u.newPointLatex=e,u.mathPoint.x=null!=n?n:u.mathPoint.x,u.mathPoint.y=null!=c?c:u.mathPoint.y));for(var h=0,f=[0,1];h<f.length;h++){var g,m,y,v,b,x,w=f[h],E=o[w];!p(w,s)||"updateSlider"!==E.type||(g=t.getItemModel(E.id))&&"expression"===g.type&&(m=(b=E.coefficients)[0],y=b[1],x=i.shortestDecimalBetween(y*l[w].min+m,y*l[w].max+m),E=((v=a.computeSliderSnappedValue(g,x,{ignoreSoftLimits:!0}))-m)/y,x=(b=0===w?[r.mathCoordinates.left,r.mathCoordinates.right]:[r.mathCoordinates.bottom,r.mathCoordinates.top])[1],void 0!==(x=E<(b=b[0])?b:x<E?x:void 0)&&void 0===a.getSliderStep(g)?(u.mathPoint[0===w?"x":"y"]=x,u.sliderUpdates[g.id]={value:y*x+m,model:g}):(u.mathPoint[0===w?"x":"y"]=E,u.sliderUpdates[g.id]={value:v,model:g}))}return u},t.newPointLatex=d,t.canMoveCoordinate=p}),define("expressions/list_move_controller",["require","exports","core/lib/dragmode","core/lib/number-to-latex","lib/rounding","graphing-calc/models/expression","graphing-calc/models/table","graphing-calc/models/list","graphing-calc/models/image","core/math/poi","core/math/functions","../graphing/projection","./move-point"],function(e,t,r,n,o,i,a,s,c,l,u,d,p){"use strict";function h(e,t){return{left:e.x-t,right:e.x+t,top:e.y+t,bottom:e.y-t}}function f(e){return void 0===e?NaN:e[0]}Object.defineProperty(t,"__esModule",{value:!0}),t.onMovePoint=t._legacyMovePoint=t.onStopMovingPoint=t.onStartMovingPoint=t.Projection=void 0,Object.defineProperty(t,"Projection",{enumerable:!0,get:function(){return d.Projection}}),t.onStartMovingPoint=function(e,t,n){if(n.tableInfo){s.setSelected(t,void 0);var o=e.getItemModel(n.tableInfo.tableId);o&&"table"===o.type&&a.setIsDraggingOnGrapher(o,!0)}else{var l=e.getItemModel(n.sketch.id);if(l&&("expression"===l.type||"image"===l.type)&&("image"!==l.type&&s.setSelected(t,void 0),l.formula&&l.formula.move_strategy))for(var u=l.formula.move_strategy,d=0;d<u.length;d++){var p,h=u[d];"updateCoordinate"===h.type?"image"===l.type?c.setIsDraggingOnGrapher(l,!0):"expression"===l.type&&i.setIsDraggingOnGrapher(l,!0):"updateSlider"!==h.type&&"updateSliderNonlinear"!==h.type||(p=e.getItemModel(h.id))&&"expression"===p.type&&((h="expression"===l.type?l.reconciledDragMode:void 0)===r.DragMode.NONE||0===d&&h===r.DragMode.Y||1===d&&h===r.DragMode.X||i.setSliderDragging(p,!0))}}},t.onStopMovingPoint=function(e,t){for(var r=0,n=e.getAllItemModels();r<n.length;r++){var o=n[r];"table"===o.type?o.draggingOnGraphpaper&&a.setIsDraggingOnGrapher(o,!1):"expression"===o.type?(o.sliderDragging&&i.setSliderDragging(o,!1),o.draggingOnGraphpaper&&i.setIsDraggingOnGrapher(o,!1)):"image"===o.type&&o.draggingOnGraphpaper&&c.setIsDraggingOnGrapher(o,!1)}},t._legacyMovePoint=function(e,t,n,a,s){var c=t.formula;if(!c||!c.move_strategy)return!1;var d=t.reconciledDragMode||r.DragMode.NONE,f=!1,g=a.closestPointOnScreen(n),m=[{min:(n=a.pixelsToMath.mapRect(h(g,.5))).left,max:n.right},{min:n.top,max:n.bottom}];"updateCoordinate"!==c.move_strategy[0].type&&"updateCoordinate"!==c.move_strategy[1].type||(i.setLatex(t,p.newPointLatex(c,m,d).latex),f=!0);for(var y,v,b,x,w,E,S,k=0;k<2;k++)!function(){return("updateSlider"===(y=c.move_strategy[k]).type||"updateSliderNonlinear"===y.type)&&p.canMoveCoordinate(k,d)&&(v=e.getItemModel(y.id))&&"expression"===v.type&&(b=v.latex,s&&(x=0===k?s.x:s.y),x?(h=v.slider&&""!==v.slider.step&&(("up"===x||"bigup"===x)&&!v.slider.hardMax||("down"===x||"bigdown"===x)&&!v.slider.hardMin),i.adjustSliderByKeyboard(v,x,{ignoreSoftLimits:h})):"updateSlider"===y.type?(w=y.coefficients[0],E=y.coefficients[1],S=o.shortestDecimalBetween(E*m[k].min+w,E*m[k].max+w),i.adjustSliderByMovablePoint(v,S)):"updateSliderNonlinear"===y.type&&(y.compiled.fn||u.rehydrateCompiledFunction(y.compiled),t=y.compiled.fn,_=y.initialValue,r=y.min,n=y.max,h=[g.x,g.y],(_=l.findLocalClosestPointOnParametric(function(e){var r=t(e),n=r[0];e=r[1];return[(r=a.mathToPixels.mapPoint({x:n,y:e})).x,e=r.y]},h,_,r,n,1))&&(_=o.shortestDecimalBetween(_[0],_[1]),void 0!==r&&_<r&&(_=r),void 0!==n&&n<_&&(_=n),i.adjustSliderByMovablePoint(v,_))),v.latex!==b&&(f=!0));var t,r,n,h,_}();return f},t.onMovePoint=function(e,t,s,l,u,d){if(t.tableInfo)return w=l,g=u,m=t.tableInfo.tableId,y=t.tableInfo.rowIndex,v=t.tableInfo.columnId,b=t.tableInfo.dragX,x=t.tableInfo.dragY,!(m=e.getItemModel(m))||"table"!==m.type||(v=a.getColumnModel(m,v))&&(w=g.closestPointOnScreen(w),w=g.pixelsToMath.mapRect(h(w,.5)),w={x:n.default(o.shortestDecimalBetween(w.left,w.right)),y:n.default(o.shortestDecimalBetween(w.top,w.bottom))},b&&a.setCellLatex(m,{row:y+1,column:0},w.x),x&&(v=v.index,a.setCellLatex(m,{row:y+1,column:v},w.y))),!0;var g,m,y,v,b,x,w=e.getItemModel(t.sketch.id);return!!w&&("image"===w.type?function(e,t,r,a,s){var l=t.formula;if(!l||4!==(null===(u=l.move_strategy)||void 0===u?void 0:u.length))return!1;var u={x:f((p=l.dimensions).x),y:f(p.y),width:f(p.width),height:f(p.height),radianAngle:f(p.radianAngle)},d=(r=0!==(p=r.scaleFactor||[0,0])[0]&&0!==p[1],a=s.closestPointOnScreen(a),function(e,t,r){for(var n=["x","y","width","height"],o={x:1/0,y:1/0,width:1/0,height:1/0},i={x:-1/0,y:-1/0,width:-1/0,height:-1/0},a=0,s=[{x:t.left,y:t.bottom},{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.right,y:t.bottom}];a<s.length;a++)for(var c=function(e,t,r){if(0===r[0]&&0===r[1])return{x:t.x,y:t.y,width:e.width,height:e.height};var n=Math.cos(e.radianAngle),o=Math.sin(e.radianAngle),i=t.x-e.x;return t=t.y-e.y,0===r[0]?{x:e.x,y:e.y,width:e.width,height:2*r[1]*(n*t+o*i)}:0===r[1]?{x:e.x,y:e.y,width:2*r[0]*(n*i-o*t),height:e.height}:(t=2*(e.width*r[0]*(n*i-o*t)+e.height*r[1]*(o*i+n*t))/(e.width*e.width+e.height*e.height),{x:e.x,y:e.y,width:t*e.width,height:t*e.height})}(e,s[a],r),l=0,u=n;l<u.length;l++){var d=u[l];o[d]=Math.min(o[d],c[d]),i[d]=Math.max(i[d],c[d])}return{min:o,max:i}}(u,s.pixelsToMath.mapRect(h(a,r?.05:.5)),p)),p=(r=s.mathToPixels.mapRect({left:u.x-.5*u.width,right:u.x+.5*u.width,top:u.y-.5*u.height,bottom:u.y+.5*u.height}),Math.abs(r.right-r.left));if(u=Math.abs(r.bottom-r.top),r=s.mathToPixels.mapRect({left:d.min.x-.5*d.min.width,right:d.min.x+.5*d.min.width,top:d.min.y-.5*d.min.height,bottom:d.min.y+.5*d.min.height}),s=Math.abs(r.right-r.left),r=Math.abs(r.bottom-r.top),s<p&&s<1||r<u&&r<1)return!1;for(var g=["width","height","x","y"],m=!1,y=0;y<g.length;y++){var v=g[y],b=l.move_strategy[y];switch(b.type){case"updateCoordinate":var x=o.shortestDecimalBetween(d.min[v],d.max[v]),w=n.default(x);switch(v){case"width":case"height":c.setMQAttribute(t,v,w);break;case"x":var E="updateCoordinate"===l.move_strategy[3].type?(E=o.shortestDecimalBetween(d.min.y,d.max.y),"\\left("+w+","+n.default(E)+"\\right)"):"\\left("+w+","+l.move_strategy[3].inputString+"\\right)";c.setMQAttribute(t,"center",E);break;case"y":"updateCoordinate"!==l.move_strategy[2].type&&(E="\\left("+l.move_strategy[2].inputString+","+w+"\\right)",c.setMQAttribute(t,"center",E));break;default:return v}m=!0;break;case"updateSlider":var S=e.getItemModel(b.id);if(!S||"expression"!==S.type)continue;var k=b.coefficients[0],_=b.coefficients[1];x=_*d.min[v]+k,k=_*d.max[v]+k,x=o.shortestDecimalBetween(x,k),k=S.latex,i.adjustSliderByMovablePoint(S,x),S.latex!==k&&(m=!0)}}return m}(e,w,t,l,u):"expression"===w.type&&function(e){var t=e.controller,n=e.movedExpr,o=e.currentScreenPoint,a=e.targetScreenPoint,s=e.projection,c=e.keyboardDirection,l=n.formula;if(!l||2!==(null===(g=l.move_strategy)||void 0===g?void 0:g.length))return!1;var u=n.reconciledDragMode||r.DragMode.NONE,d=s.closestPointOnScreen(a),h=l.move_strategy[0];if(!c){var f="updateSliderNonlinear"===h.type?p.computeParametricPointUpdateForMouse({controller:t,projection:s,strategy:h,targetScreenPoint:d}):p.computeMovablePointUpdateForScreenPoint({controller:t,projection:s,formula:l,moveStrategy:l.move_strategy,dragMode:u,targetScreenPoint:d});return p.applyMovablePointUpdate(s,n,f,!1)}if("updateSliderNonlinear"===h.type)return!(null==c||!c.x)&&(f=p.computeParametricPointUpdateForKeyboard({projection:s,controller:t,strategy:h,mode:c.x}),p.applyMovablePointUpdate(s,n,f,!0));e=c.x?0:1;var g=c.x?d.x-o.x:d.y-o.y;if("updateSlider"===(a=l.move_strategy[e]).type){if("expression"!==(null==(h=t.getItemModel(a.id))?void 0:h.type))throw new Error("Programming error: updateSlider move strategy should point to an expression item, but found "+(null==h?void 0:h.type));(d=i.getSliderStep(h))&&(h=s.mathToPixels.mapPoint({x:0,y:0}),a=a.coefficients[1],g=(h=Math.abs(0==e?s.mathToPixels.mapX(a*d)-h.x:s.mathToPixels.mapY(a*d)-h.y))*Math.ceil(1/h)*(0<g?1:-1),"bigup"!==(c=null!==(h=c.x)&&void 0!==h?h:c.y)&&"bigdown"!==c||(g*=5))}return f=p.computeMovablePointUpdateForScreenPoint({controller:t,projection:s,formula:l,moveStrategy:l.move_strategy,dragMode:u,targetScreenPoint:{x:o.x+(0==e?g:0),y:o.y+(1==e?g:0)}}),p.applyMovablePointUpdate(s,n,f,!0)}({controller:e,movedExpr:w,currentScreenPoint:s,targetScreenPoint:l,projection:u,keyboardDirection:d}))}}),define("main/blank_state",["require","exports","core/graphing-calc/migrate-state"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BLANK_STATE=void 0,t.BLANK_STATE={version:r.currentVersion,randomSeed:"",graph:{viewport:{xmin:-10,ymin:-13.25,xmax:10,ymax:13.25}},expressions:{list:[{id:"1",type:"expression"}]}},t.default=t.BLANK_STATE}),define("expressions/measure-expressions",["require","exports","jquery"],function(e,t,r){"use strict";function n(e){for(var t=[],r=0,n=e.getAllItemModels();r<n.length;r++){var o=n[r];(o=e.getItemRootNodeById(o.id))&&t.push(o)}return t}function o(e,t){for(var r=n(e),o=0,i=r.length-1;o<=i;){var a=o+Math.floor((i-o)/2),s=r[a],c=s.getBoundingClientRect();if(c.top>t)i=a-1;else{if(!(c.bottom<t))return s;o=a+1}}}function i(e){var t=c(e);if(t&&(t=function(t){for(var r,o=n(e),i=0,a=o.length-1;i<=a;){var s=i+Math.floor((a-i)/2),c=o[s];c.getBoundingClientRect().top>t?(a=s-1,r=c):i=s+1}return r}(t.top-2)))return r(t).attr("expr-id")}function a(e){return e.find$(".dcg-exppanel")[0]}function s(e){if(e=a(e))return r(e)}function c(e){if(e=a(e))return e.getBoundingClientRect()}Object.defineProperty(t,"__esModule",{value:!0}),t.getDragContainerHeight=t.getExpListHeight=t.getExppanelScrolledTop=t.getExppanelRect=t.getOuterExppanelRect=t.getExppanelSelector=t.getExppanelElt=t.getFirstFullyVisibleItemId=t.getLastVisibleItemId=t.getFirstVisibleItemId=void 0,t.getFirstVisibleItemId=function(e,t){var n=c(e);if(n){if(t){var a=e.getItemRootNodeById(t);if(a&&0<(a=a.getBoundingClientRect()).height&&a.top<=n.top&&a.bottom>=n.top)return t}return(n=o(e,n.top))?r(n).attr("expr-id"):i(e)}},t.getLastVisibleItemId=function(e,t){var n=c(e);if(n){var i=function(){for(var t=e.getAllItemModels(),r=t.length-1;0<=r;r--){var n=t[r];if(n.dcgView)return n.id}}();if(i){if(t){var a=e.getItemRootNodeById(t);if(a){if(0<(a=a.getBoundingClientRect()).height&&a.top<=n.bottom&&a.bottom>=n.bottom)return t;if(t===i&&a.bottom<=n.bottom)return t}}return(n=o(e,n.bottom))&&r(n).attr("expr-id")||i}}},t.getFirstFullyVisibleItemId=i,t.getExppanelElt=a,t.getExppanelSelector=s,t.getOuterExppanelRect=function(e){if(e=e.find$(".dcg-exppanel-outer")[0])return e.getBoundingClientRect()},t.getExppanelRect=c,t.getExppanelScrolledTop=function(e){var t=a(e);if(t)return e=t.getBoundingClientRect(),t=t.scrollTop,e.top-t},t.getExpListHeight=function(e){if(1===(e=e.find$(".dcg-expressionlist")).length)return e.height()},t.getDragContainerHeight=function(e){return(e=s(e))&&e.find(".dcg-drag-container").height()||0}}),define("expressions/dragdrop_expressions",["require","exports","tslib","jquery","expressions/measure-expressions","jquery.handleevent"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(a.prototype.startDragging=function(e){this.active=!0,this.mouseY=e,this.setupEventListeners()},a.prototype.applyDrag=function(){if(u=this.controller.getListModel().dragState){this.scheduleUpdateScroll();var e=this.measureDOM(u);if(e){var t=e.floatingPreviewRect,n=this.controller.getItemModel(u.firstItemId);if(n){for(var o=n.index,i=0,a=e.visibleRects;i<a.length;i++){var s=(c=a[i]).id,c=c.rect;if(s!==n.id){if(!(s=this.controller.getItemModel(s)))return;if(s.index<n.index){if(t.top<c.top+c.height/2){o=s.index;break}}else t.bottom>c.top+c.height/2&&(o=s.index,"folder"===s.type&&s.collapsed&&(o+=this.controller.getNumberOfItemsInFolder(s.id)))}}p=o>n.index?(d=o)+1:o<n.index?(d=o-1,o):(d=o-1,o+1);var l=this.controller.getItemModelByIndex(d),u=this.controller.getItemModelByIndex(p),d="",p="";return l&&(d="folder"===l.type?l.id:l.folderId),u&&(p="folder"===u.type?u.id:u.folderId),u="",d&&(p===d?"folder"===n.type?o=n.index:u=d:"folder"!==n.type&&this.isPreviewTopContainedInFolder(e,d)&&(u=d)),{dragState:r.__assign({},e.dragState),newIndex:o,folderId:u}}}}},a.prototype.measureDOM=function(e){var t=o.getExppanelScrolledTop(this.controller),n=o.getExpListHeight(this.controller);if(void 0!==t&&void 0!==n){var i=o.getDragContainerHeight(this.controller);t=(a=e.mouseY-e.grabOffset+2)-t,t=Math.max(t,-i/2);t=Math.min(t,n-i);var a={top:a,bottom:a+i,height:i},s=(i=this.controller.findFirstVisibleItem(),this.controller.findLastVisibleItem());if(i&&s){for(var c=[],l=i.index;l<=s.index;l++){var u,d=this.controller.getItemModelByIndex(l);!d||(u=this.controller.getItemRootNodeById(d.id))&&d.id!==e.firstItemId&&(u=u.getBoundingClientRect(),c.push({id:d.id,rect:u}))}if(0!==c.length)return{dragState:r.__assign(r.__assign({},e),{itemTop:t}),floatingPreviewRect:a,visibleRects:c}}}},a.prototype.isPreviewTopContainedInFolder=function(e,t){for(var r=e.visibleRects,n=e.floatingPreviewRect,o=0,i=r;o<i.length;o++){var a,s=(a=i[o]).id;if((a=a.rect).top<=n.top&&a.bottom>=n.top){if(!(s=this.controller.getItemModel(s)))return!1;if("folder"===s.type&&s.id===t)return!0;if("folder"!==s.type&&s.folderId===t)return!0}}return!1},a.prototype.scheduleUpdateScroll=function(){var e=this;this.updateScrollScheduled||(this.updateScrollScheduled=!0,requestAnimationFrame(function(){e.updateScroll(),e.updateScrollScheduled=!1}))},a.prototype.stop=function(){this.active=!1,this.tearDownEventListeners(),this.controller.dispatch({type:"stop-dragdrop"})},a.prototype.setupEventListeners=function(){var e=this;n(document).on("dcg-tapmove.dragdrop",function(t){e.mouseY=t.changedTouches[0].clientY,e.controller.dispatch({type:"update-dragdrop",mouseY:e.mouseY})}),n(document).on("dcg-tapend.dragdrop",function(t){e.stop(),t.handle("dragdrop")})},a.prototype.tearDownEventListeners=function(){n(document).off(".dragdrop")},a.prototype.updateScroll=function(){var e,t;this.active&&(e=this.$exppanel[0].getBoundingClientRect(),t=0,t=Math.min(0,this.mouseY-e.top),(t=(t=Math.max(t,this.mouseY-e.bottom+30))*e.height/900)&&this.$exppanel.scrollTop(this.$exppanel.scrollTop()+t))},a);function a(e){this.active=!1,this.controller=e,(e=o.getExppanelSelector(e))&&(this.$exppanel=e)}t.default=i}),define("keypad/mq-commands",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.execute=void 0;var r={loga:function(e){e.write("\\log_{}"),e.typedText("("),e.keystroke("Left"),e.keystroke("Down")},nthroot:function(e){e.write("\\sqrt[]{}"),e.keystroke("Left"),e.keystroke("Left")},ddx:function(e){e.write("\\frac{d}{dx}")},arcsin:function(e){e.write("sin^{-1}"),e.typedText("(")},arccos:function(e){e.write("cos^{-1}"),e.typedText("(")},arctan:function(e){e.write("tan^{-1}"),e.typedText("(")},arcsec:function(e){e.write("sec^{-1}"),e.typedText("(")},arccsc:function(e){e.write("csc^{-1}"),e.typedText("(")},arccot:function(e){e.write("cot^{-1}"),e.typedText("(")},"A^T":function(e){e.typedText("^T"),e.keystroke("Right")},"A^-1":function(e){e.typedText("^-1"),e.keystroke("Right")},"A^2":function(e){e.typedText("^2"),e.keystroke("Right")},"a^2":function(e){e.typedText("^2"),e.keystroke("Right")},"a^3":function(e){e.typedText("^3"),e.keystroke("Right")},"a/b":function(e){e.write("\\frac{}{}"),e.keystroke("Left")}};t.execute=function(e,t){r[t](e)}}),define("shared-components/braille-input",["require","exports","tslib","lib/i18n","dcgview","jquery"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,s=o.Components.Input,c=(a=o.Class,r.__extends(l,a),l.prototype.init=function(){var e;for(this.ASCIICharacters=" A1B'K2L@CIF/MSP\"E3H9O6R^DJG>NTQ,*5<-U8V.%[$+X!&;:4\\0Z7(_?W]#Y)=",this.ASCIITable=[],this.HomeRowCharacters="FDSJKL",this.charCodes=[],this.sixKeyModel={keysDown:0,stickyKeysDown:0},e=0;e<this.ASCIICharacters.length;e++)this.ASCIITable.push(this.ASCIICharacters.charCodeAt(e));for(e=0;e<this.HomeRowCharacters.length;e++)this.charCodes.push(this.HomeRowCharacters.charCodeAt(e))},l.prototype.template=function(){var e=this;return o.createElement(s,{class:this.const("dcg-braille-input dcg-do-blur"),tabindex:function(){return e.props.tabindex?e.props.tabindex():0},readonly:function(){return e.props.isStatic()?"true":void 0},autocomplete:this.const("off"),autocorrect:this.const("off"),autocapitalize:this.const("off"),spellcheck:this.const("false"),onKeydown:this.bindFn(this.onKeydown),onKeyup:this.bindFn(this.onKeyup),onInput:this.bindFn(this.props.onInput),value:function(){return e.props.value()},"aria-label":function(){return e.props.ariaLabel()||n.raw("")},didMount:this.bindFn(this.didMount),didUnmount:this.bindFn(this.props.didUnmount),placeholder:function(){return e.props.placeholder?e.props.placeholder():""},size:function(){return e.props.size&&e.props.size()}})},l.prototype.didMount=function(e){var t=this;this.rootNode=e,i(this.rootNode).on("focus",function(e){t.props.shouldFocus()||t.props.onFocusedChanged(!0,e.originalEvent||e)}).on("blur",function(e){t.props.shouldFocus()&&t.props.onFocusedChanged(!1,e.originalEvent||e)}),this.props.didMount(e),this.updateFocus()},l.prototype.didUpdate=function(){this.updateFocus()},l.prototype.updateFocus=function(){this.rootNode&&(this.props.shouldFocus()&&document.activeElement!==this.rootNode&&this.rootNode.focus(),this.props.shouldFocus()||document.activeElement!==this.rootNode||this.rootNode.blur())},l.prototype.onKeydown=function(e){var t=this.charCodes.indexOf(e.which);this.props.isStatic()||!this.isSixKeyInput()||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||-1===t?this.props.onKeydown&&this.props.onKeydown(e):(this.sixKeyModel=r.__assign(r.__assign({},this.sixKeyModel),{keysDown:this.addKey(this.sixKeyModel.keysDown,t),stickyKeysDown:this.addKey(this.sixKeyModel.stickyKeysDown,t)}),e.preventDefault())},l.prototype.onKeyup=function(e){var t=this.charCodes.indexOf(e.which),n=!1;return this.props.isStatic()||!this.isSixKeyInput()||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||-1===t?n=!0:(this.sixKeyModel=r.__assign(r.__assign({},this.sixKeyModel),{keysDown:this.removeKey(this.sixKeyModel.keysDown,t)}),0===this.sixKeyModel.keysDown&&(this.addCharacter(this.bitsToASCII(this.sixKeyModel.stickyKeysDown)),this.sixKeyModel=r.__assign(r.__assign({},this.sixKeyModel),{stickyKeysDown:0}))),n||e.preventDefault(),n},l.prototype.addKey=function(e,t){return e|1<<t},l.prototype.removeKey=function(e,t){return e&~(1<<t)},l.prototype.bitsToASCII=function(e){return String.fromCharCode(this.ASCIITable[e])},l.prototype.addCharacter=function(e){this.rootNode&&!this.props.isStatic()&&(this.rootNode.setRangeText(e,this.rootNode.selectionStart,this.rootNode.selectionEnd,"end"),this.props.onInput(this.rootNode.value))},l.prototype.isSixKeyInput=function(){return"function"==typeof this.props.sixKeyInput&&this.props.sixKeyInput()},l);function l(){return null!==a&&a.apply(this,arguments)||this}t.default=c}),define("loadcss!shared-components/tooltip",function(){}),define("shared-components/tooltip",["require","exports","tslib","keys","dcgview","jquery","underscore","loadcss!./tooltip"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tooltip=void 0;var s,c=(h=o.Components).IfElse,l=h.Switch,u=(s=o.Class,r.__extends(d,s),d.prototype.init=function(){this.latexKey=0},d.prototype.template=function(){var e=this;return o.createElement("div",{class:function(){var t;return(t={})[e.getCustomClassName()]=!0,t["dcg-tooltip-positioning-container"]=!0,t["dcg-latex-tooltip-positioning-container"]=!!e.props.renderAsLatex,t["dcg-tooltip-gravity-ne-se"]="ne"===e.props.gravity()||"se"===e.props.gravity(),t["dcg-tooltip-gravity-nw-sw"]="nw"===e.props.gravity()||"sw"===e.props.gravity(),t["dcg-tooltip-gravity-n-s"]="n"===e.props.gravity()||"s"===e.props.gravity(),t["dcg-tooltip-gravity-e-w"]="e"===e.props.gravity()||"w"===e.props.gravity(),t},style:function(){return{top:e.props.hitAreaRect().top+(e.props.offset().top||0)+"px",left:e.props.hitAreaRect().left+(e.props.offset().left||0)+"px",width:e.props.hitAreaRect().width+"px",height:e.props.hitAreaRect().height+"px"}}},o.createElement("div",{role:o.const("tooltip"),class:o.const("dcg-tooltip-message-container"),style:this.bindFn(this.getMessageStyle)},c(function(){return!!e.props.renderAsLatex},{true:function(){return o.createElement("div",{class:function(){return{"dcg-tooltip-message":!0,"dcg-latex":!0,"dcg-sticky-not-stuck":e.props.isStickyAndNotStuck(),"dcg-tooltip-overflow":e.messageOverflows()}},style:function(){return{"max-width":e.getMaxWidth()+"px"}},didMount:function(t){e.tooltipMessage=t}},o.createElement(l,{key:function(){return e.latexKey}},function(){return e.props.renderAsLatex().view(e.props.tooltip())}))},false:function(){return o.createElement("div",{class:o.const("dcg-tooltip-message"),style:function(){return{background:e.getBackgroundColor(),cursor:e.props.isStickyAndNotStuck()?"pointer":"default"}}},e.props.tooltip)}})),o.createElement("div",{class:function(){var t;return(t={"dcg-tooltip-arrow":!0})["dcg-tooltip-gravity-"+e.props.gravity()[0]]=!0,t},style:function(){return e.props.renderAsLatex?e.getArrowWithBorderStyle():e.getSolidArrowStyle()}}))},d.prototype.willUpdate=function(){this.latexKey++},d.prototype.getCustomClassName=function(){return this.props.class?this.props.class():""},d.prototype.messageOverflows=function(){return this.tooltipMessage&&this.tooltipMessage.getBoundingClientRect().width>=this.getMaxWidth()},d.prototype.getArrowWithBorderStyle=function(){var e=this.props.gravity(),t="10px",n={width:"8px",height:"8px",border:"1px solid #bbb",background:this.getBackgroundColor(),opacity:this.props.isStickyAndNotStuck()?".95":"1"};switch(e){case"s":return r.__assign(r.__assign({},n),{top:"100%",left:"50%","margin-top":"1px","border-right":"0","border-bottom":"0"});case"sw":return r.__assign(r.__assign({},n),{top:"100%",right:t,"margin-top":"1px","border-right":"0","border-bottom":"0"});case"se":return r.__assign(r.__assign({},n),{top:"100%",left:t,"margin-top":"1px","border-right":"0","border-bottom":"0"});case"n":return r.__assign(r.__assign({},n),{bottom:"100%",left:"50%","margin-bottom":"1px","border-left":"0","border-top":"0"});case"nw":return r.__assign(r.__assign({},n),{bottom:"100%",right:t,"margin-bottom":"1px","border-left":"0","border-top":"0"});case"ne":return r.__assign(r.__assign({},n),{bottom:"100%",left:t,"margin-bottom":"1px","border-left":"0","border-top":"0"});case"e":return r.__assign(r.__assign({},n),{top:"50%",left:"100%","margin-left":"1px","border-right":"0","border-top":"0"});case"w":return r.__assign(r.__assign({},n),{top:"50%",right:"100%","margin-right":"1px","border-left":"0","border-bottom":"0"});default:return e}},d.prototype.getSolidArrowStyle=function(){var e=this.props.gravity(),t=this.props.hitAreaRect().width/2+"px",r=this.getBackgroundColor(),n="transparent transparent "+r+" transparent",o=r+" transparent transparent transparent",i="transparent "+r+" transparent transparent",a="transparent transparent transparent "+r,s="-5px";switch(e){case"s":return{top:"100%",left:"50%",border:"5px solid transparent","border-color":n,"margin-top":s,"margin-left":s};case"sw":return{top:"100%",right:t,border:"5px solid transparent","border-color":n,"margin-top":s,"margin-right":s};case"se":return{top:"100%",left:t,border:"5px solid transparent","border-color":n,"margin-top":s,"margin-left":s};case"n":return{bottom:"100%",left:"50%",border:"5px solid transparent","border-color":o,"margin-bottom":s,"margin-left":s};case"nw":return{bottom:"100%",right:t,border:"5px solid transparent","border-color":o,"margin-bottom":s,"margin-right":s};case"ne":return{bottom:"100%",left:t,border:"5px solid transparent","border-color":o,"margin-bottom":s,"margin-left":s};case"e":return{top:"50%",left:"100%",border:"5px solid transparent","border-color":i,"margin-left":"-5px","margin-top":s};case"w":return{top:"50%",right:"100%",border:"5px solid transparent","border-color":a,"margin-right":s,"margin-top":s};default:return e}},d.prototype.getBackgroundColor=function(){return this.props.renderAsLatex?"#fff":this.props.isStickyAndNotStuck()?"#666":"#000"},d.prototype.getMaxWidth=function(){var e=this.props.gravity(),t=this.props.hitAreaRect().left+(this.props.offset().left||0),r=t+this.props.hitAreaRect().width,n=.5*this.props.hitAreaRect().width+t,o=window.innerWidth-5;switch(e){case"se":case"ne":case"e":return o-t;case"sw":case"nw":case"w":return r-5;case"s":case"n":return 2*Math.min(o-n,n-5);default:return e}},d.prototype.getMessageStyle=function(){var e=this.props.hitAreaRect(),t=this.props.gravity(),r=this.props.maxWidth();switch(t){case"s":return{top:"100%",width:r+"px",transform:"translate(-50%, 0)",left:.5*e.width+"px","margin-top":"5px","text-align":"center"};case"sw":return{top:"100%",width:r+"px",right:"0","margin-top":"5px","text-align":"right"};case"se":return{top:"100%",width:r+"px","margin-top":"5px","text-align":"left"};case"n":return{bottom:"100%",width:r+"px",transform:"translate(-50%, 0)",left:.5*e.width+"px","margin-bottom":"5px","text-align":"center"};case"nw":return{bottom:"100%",right:"0",width:r+"px","margin-bottom":"5px","text-align":"right"};case"ne":return{bottom:"100%",width:r+"px","margin-bottom":"5px","text-align":"left"};case"e":return{transform:"translate(0, -50%)",left:"100%",width:r+"px",top:.5*e.height+"px","margin-left":"5px","text-align":"left"};case"w":return{transform:"translate(0, -50%)",right:"100%",width:r+"px",top:.5*e.height+"px","margin-right":"5px","text-align":"right"};default:return t}},d);function d(){return null!==s&&s.apply(this,arguments)||this}var p,h=(p=o.Class,r.__extends(f,p),f.prototype.init=function(){this.uuid=a.uniqueId()},f.prototype.template=function(){var e=this;return o.createElement("div",{class:o.const("dcg-tooltip-hit-area-container"),handleevent:o.const("true"),didMount:function(t){e.isMounted=!0,e.hitAreaNode=t,e.setupEventListeners(e.hitAreaNode)},onTap:function(){e.shouldStickOnTargetClick()?e.isStuck?(e.clearTimeouts(),e.hideTooltip()):e.props.disabled&&e.props.disabled()||(e.showTooltip(),e.stickTooltip()):e.shouldShowOnTapstart()&&(e.props.disabled&&e.props.disabled()||(e.showTooltip(),e.setUpHideOnExternalMousedown()))}},this.children)},f.prototype.shouldShowOnTapstart=function(){return this.props.showOnTapstart&&this.props.showOnTapstart()},f.prototype.didUpdate=function(){this.updateTooltip()},f.prototype.updateTooltip=function(){var e,t,r,n,o;this.wrapperRef&&(this.props.tooltip()?(e=this.hitAreaNode.getBoundingClientRect(),o=this.wrapperRef.elt.getBoundingClientRect(),t=(n=this.wrapperRef).originalTop,r=n.originalLeft,n=e.top-o.top,o=e.left-o.left,3<Math.abs(n-t)||3<Math.abs(o-r)?this.hideTooltip():this.wrapperRef.view.update()):this.hideTooltip())},f.prototype.handleShowEvent=function(e){var t;this.props.disabled&&this.props.disabled()||(t=this.props.delay?this.props.delay():500,this.clearTimeouts(),this.showTooltipTimeout=setTimeout(e,t))},f.prototype.handleHideEvent=function(){this.clearTimeouts(),this.hideTooltipTimeout=setTimeout(this.bindFn(this.hideTooltip),150)},f.prototype.setupEventListeners=function(e){var t=this;i(e).on("tipsyshow",function(r){r.target===e&&t.handleShowEvent(function(){t.showTooltip()})}).on("tipsyhide",function(r){r.target!==e||t.isStuck||t.handleHideEvent()})},f.prototype.willUnmount=function(){this.clearTimeouts(),this.isMounted=!1,this.hideTooltip()},f.prototype.setUpHideOnExternalMousedown=function(){var e=this;i(document).on("mousedown.dcg-tooltip-"+this.uuid+" touchstart.dcg-tooltip-"+this.uuid+" pointerdown.dcg-tooltip-"+this.uuid,function(t){e.wrapperRef&&(i(t.target).closest(e.hitAreaNode).length||i(t.target).closest(e.wrapperRef.elt).length||e.hideTooltip())})},f.prototype.stickTooltip=function(){this.isMounted&&this.wrapperRef&&(this.isStuck||(this.setUpHideOnExternalMousedown(),this.isStuck=!0,this.updateTooltip()))},f.prototype.clearTimeouts=function(){clearTimeout(this.showTooltipTimeout),clearTimeout(this.hideTooltipTimeout)},f.prototype.showTooltip=function(){var e,t,r,a,s,c,l,d=this;this.isMounted&&!this.wrapperRef&&this.props.tooltip()&&(e=this.hitAreaNode.getBoundingClientRect(),(t=document.createElement("div")).className="dcg-tooltip-mount-pt",l=i(this.hitAreaNode).closest(".dcg-tap-container")[0],((c=document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement)&&0<i(this.hitAreaNode).closest(c).length&&0<i(c).closest(".dcg-tap-container").length?c:l).appendChild(t),c=t.getBoundingClientRect(),r=e.left-c.left,a=e.top-c.top,s=Math.min(200,this.props.maxParentWidthOverflow?e.width+2*this.props.maxParentWidthOverflow():1/0),l={tooltip:this.props.tooltip,class:this.props.class,isStickyAndNotStuck:function(){return d.shouldStickOnTargetClick()&&!d.isStuck},offset:function(){return d.props.offset?d.props.offset():{}},gravity:function(){return d.props.gravity?d.props.gravity():"s"},renderAsLatex:this.props.renderAsLatex,maxWidth:function(){return s},hitAreaRect:function(){return{top:a||0,left:r||0,width:e.width||0,height:e.height||0}}},this.setupEventListeners(t),i(t).on("dcg-tap",function(){d.shouldStickOnTargetClick()&&d.stickTooltip()}),c=o.mountToNode(u,t,l),i(document).on("keydown.dcg-tooltip-"+this.uuid,function(e){n.lookup(e)===n.ESCAPE&&d.hideTooltip()}),l=function(){return d.updateTooltip()},window.addEventListener("scroll",l,!0),this.wrapperRef={elt:t,view:c,originalLeft:r,originalTop:a,onScroll:l})},f.prototype.hideTooltip=function(){this.clearTimeouts(),this.wrapperRef&&(this.isStuck=!1,i(document).off(".dcg-tooltip-"+this.uuid),window.removeEventListener("scroll",this.wrapperRef.onScroll,!0),o.unmountFromNode(this.wrapperRef.elt),this.wrapperRef.elt.parentNode&&this.wrapperRef.elt.parentNode.removeChild(this.wrapperRef.elt),this.wrapperRef=void 0)},f.prototype.shouldStickOnTargetClick=function(){return!!this.props.sticky&&this.props.sticky()},f);function f(){return null!==p&&p.apply(this,arguments)||this}t.Tooltip=h}),define("loadcss!shared-components/Abraham",function(){}),define("loadcss!shared-components/mathquill-braille-wrapper",function(){}),define("shared-components/mathquill-braille-wrapper",["require","exports","tslib","lib/i18n","jquery","abraham","dcgview","./braille-input","./tooltip","loadcss!./Abraham","loadcss!./mathquill-braille-wrapper"],function(e,t,r,n,o,i,a,s,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.brailleInputIsEmpty=t.getFocusedBrailleElement=void 0;var l,u=a.Components.If;l=a.Class,r.__extends(d,l),d.prototype.init=function(){this.currentBrailleValue=this.getBrailleFromLatex(this.props.latex()),this.currentBrailleMode=this.props.mode(),this.hasTranslationError=!1,this.currentLatex=this.props.latex()},d.prototype.isFocused=function(){return void 0!==this.brailleInput&&document.activeElement==this.brailleInput},d.prototype.getBrailleShouldFocus=function(){return"none"!==this.props.mode()&&this.props.brailleShouldFocus&&this.props.brailleShouldFocus()},d.prototype.isStatic=function(){return!!this.props.isStatic&&this.props.isStatic()},d.prototype.isInline=function(){return!!this.props.isInline&&this.props.isInline()},d.prototype.hasError=function(){return!!this.props.hasError&&this.props.hasError()},d.prototype.willUpdate=function(){var e=this.currentLatex!==this.props.latex(),t=this.props.mode(),r=t!==this.currentBrailleMode&&"none"!==t;this.isFocused()&&!e&&!r||(this.currentLatex=this.props.latex(),(r||!this.hasTranslationError||e||this.isStatic())&&(this.currentBrailleValue=this.getBrailleFromLatex(this.props.latex()),this.hasTranslationError=!1),this.currentBrailleMode=t)},d.prototype.onBrailleInput=function(e){var t,r;this.props.onBrailleInput&&(t=this.getLatexFromBraille(e),this.hasTranslationError=t.isError,r=this.props.capExpressionSize&&this.props.capExpressionSize(),!t.isError&&r&&r.exceedsLimit(t.value)?r.onExpressionSizeExceeded():(this.currentBrailleValue=e,t.isError||(this.currentLatex=t.value,this.props.onBrailleInput(t.value))))},d.prototype.getBrailleFromLatex=function(e,t){var r;return void 0===t&&(t=!1),(r=(r=e,"nemeth"===(e=this.props.mode())?i.latexToNemeth(r):"ueb"===e?i.latexToUeb(r):{isError:!0,error:"Braille mode should be 'nemeth' or 'ueb'"})).isError?"":t?r.value:i.UnicodeBraille.toExpandedBrailleAscii(r.value)},d.prototype.getLatexFromBraille=function(e){return t=i.UnicodeBraille.coerceToSixDotCells(e),"nemeth"===(e=this.props.mode())?i.nemethToLatex(t):"ueb"===e?i.uebToLatex(t):{isError:!0,error:"Braille mode should be 'nemeth' or 'ueb'"};var t},d.prototype.getBrailleLabel=function(e){return this.getBrailleFromLatex(e.replace(/\s/,"\\ "))},d.prototype.shouldShowBraille=function(){var e=this.props.mode();return"nemeth"===e||"ueb"===e},d.prototype.isOverflowingLeft=function(){return!!this.brailleInput&&0<this.brailleInput.scrollLeft},d.prototype.isOverflowingRight=function(){if(!this.brailleInput)return!1;var e=this.brailleInput.getBoundingClientRect().width;return this.brailleInput.scrollWidth>e+this.brailleInput.scrollLeft+2},d.prototype.didMountBrailleInput=function(e){this.brailleInput=e},d.prototype.didUnmountBrailleInput=function(){this.brailleInput=void 0},d.prototype.getTooltipGravity=function(){var e=this.props.tooltipOptions&&this.props.tooltipOptions();return e&&e.gravity?e.gravity:"se"},d.prototype.getTooltipDelay=function(){var e=this.props.tooltipOptions&&this.props.tooltipOptions();return e&&e.delay?e.delay:0},d.prototype.handleBrailleFocusChanged=function(e,t){this.props.onBrailleFocusedChanged&&this.props.onBrailleFocusedChanged(e,t),this.brailleInput&&(e&&this.props.selectOnFocus&&this.props.selectOnFocus()&&this.brailleInput.select(),this.isStatic()&&this.brailleInput.scrollTo(0,0))},d.prototype.getTooltipText=function(){var e=this.props.placeholder&&!this.isFocused()?this.props.placeholder():"";return n.raw(this.props.latex()||e)},d.prototype.template=function(){var e=this;return a.createElement("div",{class:a.const("dcg-mathquill-wrapper")},a.createElement(u,{predicate:function(){return e.shouldShowBraille()}},function(){return a.createElement("div",{class:function(){return{"dcg-mathquill-braille":!0,"dcg-focus":e.getBrailleShouldFocus(),"dcg-invalid":e.hasError(),"dcg-mathquill-static-braille":e.isStatic(),"dcg-mathquill-braille-overflow-left":e.isOverflowingLeft(),"dcg-mathquill-braille-overflow-right":e.isOverflowingRight()}},"data-dcg-limit":function(){return e.props.dataDCGLimit?e.props.dataDCGLimit():void 0},"data-dcg-label":function(){return e.props.dataLabelAttributeValue?e.props.dataLabelAttributeValue():void 0}},a.createElement(c.Tooltip,{class:e.const("dcg-mathquill-braille-tooltip"),renderAsLatex:function(){return{view:e.props.tooltipOptions().latexView}},tooltip:function(){return e.getTooltipText()},gravity:e.bindFn(e.getTooltipGravity),delay:e.bindFn(e.getTooltipDelay),showOnTapstart:e.const(!0)},a.createElement(u,{predicate:function(){return e.isInline()}},function(){return a.createElement("span",{class:a.const("dcg-inline-braille")},function(){return n.raw(e.getBrailleFromLatex(e.props.latex(),!0))})}),a.createElement(u,{predicate:function(){return!e.isInline()}},function(){return a.createElement(s.default,{ariaLabel:function(){return n.raw(e.props.ariaLabel?e.getBrailleLabel(e.props.ariaLabel()):"")},didMount:e.bindFn(e.didMountBrailleInput),didUnmount:e.bindFn(e.didUnmountBrailleInput),onFocusedChanged:e.bindFn(e.handleBrailleFocusChanged),shouldFocus:e.bindFn(e.getBrailleShouldFocus),onKeydown:e.props.onBrailleKeydown,onInput:e.bindFn(e.onBrailleInput),sixKeyInput:e.props.sixKeyInput,value:function(){return e.currentBrailleValue},placeholder:function(){return n.raw(e.props.placeholder?e.getBrailleFromLatex(e.props.placeholder()):"")},tabindex:function(){return e.props.tabindex?e.props.tabindex():0},isStatic:e.bindFn(e.isStatic),size:function(){return e.currentBrailleValue&&e.currentBrailleValue.length||1}})})))}),a.createElement("div",{class:a.const("dcg-typeset-math"),style:function(){return{display:e.shouldShowBraille()&&!e.isInline()?"none":void 0}},"aria-hidden":function(){return e.shouldShowBraille()}},this.children))},r=d;function d(){return null!==l&&l.apply(this,arguments)||this}t.default=r,t.getFocusedBrailleElement=function(){if(document.activeElement&&o(document.activeElement).hasClass("dcg-braille-input"))return document.activeElement},t.brailleInputIsEmpty=function(e){return!e||""===o(e).val()}}),define("main/controller",["require","exports","main/propagate_selection","tslib","scroll_helpers","graphing/grapher","browser","core/lib/label","underscore","lib/i18n","flux","core/types/opacity","core/lib/dragmode","core/types/styles","lib/conditional_blur","core/lib/deepCopy","core/lib/number-to-latex","lib/state-stack","graphing/viewport","core/graphing-calc/migrate-state","core/math/expression-types","lib/smart-slider-defaults","core/lib/color-helpers","graphing-calc/models/expression","core/graphing-calc/json/expression","graphing-calc/models/expression","graphing-calc/models/table","graphing-calc/models/image","graphing-calc/models/folder","graphing-calc/models/text","graphing-calc/models/ticker","graphing-calc/models/list","graphing-calc/models/abstract-item","graphing-calc/models/focus","graphing-calc/actions/keyboard","main/expression-zoom-helpers","core/math/evaluate-single-expression","./layout-model","./settings-view-model","jquery","bugsnag","expressions/list_move_controller","./blank_state","dcgview-helpers/mathquill-view","expressions/measure-expressions","expressions/dragdrop_expressions","keypad/mq-commands","core/lib/random-seed","../shared-components/mathquill-braille-wrapper","../core/lib/latex-search-helpers"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g,m,y,v,b,x,w,E,S,k,_,I,M,L,T,C,A,O,P,D,F,N,q,R,B,j,V,U,G,z,H,W,K,$,Y){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var X=(Q.prototype.hasUnsavedChanges=function(){return this._hasUnsavedChanges},Q.prototype.getExpressionSearchOpen=function(){return this.expressionSearchOpen},Q.prototype.getTickerOpen=function(){return!!this.areActionsEnabled()&&this.listModel.ticker.open},Q.prototype.getTickerPlaying=function(){return!!this.areActionsEnabled()&&this.listModel.ticker.playing},Q.prototype.hasVisibleAndUndoableToast=function(){return"function"==typeof this.toastData.undoCallback},Q.prototype.getToastData=function(){return this.toastData},Q.prototype.toastUndo=function(){"function"==typeof this.toastData.undoCallback&&(this.toastData.undoCallback(),this.dispatch({type:"toast/close"}))},Q.prototype.runAfterDispatch=function(e){this.dispatcher.isDispatching()?this._queuedCallbacks.push(e):e()},Q.prototype.enqueueEvent=function(e){this.enqueuedEvents[e]=!0},Q.prototype.getGrapherDimensions=function(){if(!this.grapher)return{width:0,height:0};var e=this.grapher.getProjection().screen;return{width:e.width,height:e.height}},Q.prototype.setRandomSeed=function(e){this.graphSettings.setProperty("randomSeed",e)},Q.prototype.getRandomSeed=function(){return this.graphSettings.randomSeed},Q.prototype.shouldDispatchTickNextFrame=function(){return!!this._requiresTickNextFrame},Q.prototype.markTickRequiredNextFrame=function(){this._requiresTickNextFrame=!0},Q.prototype.handleTick=function(e){this.areActionsEnabled()&&C.shouldTick(this.listModel.ticker,{currentFrameTime:e,previousFrameTime:this.lastFrameTime})?this.dispatch({type:"tick-ticker",time:e}):this.shouldDispatchTickNextFrame()&&this.dispatch({type:"tick",time:e}),this.lastFrameTime=e},Q.prototype.setupDispatcher=function(){var e=this;this.dispatcher=new u.Dispatcher,this.dispatcher.register(function(t){var r,n=e.getSelectedItem(),o=e.getFocusLocation();e.shouldScrollSelectedItemIntoViewAfterDispatch=!1,e.enqueuedEvents={change:!1,graphReset:!1,clearUnsavedChanges:!1,openDrawer:!1,showHotkeysModal:!1,userMovedPoint:!1,userClickedObject:!1,userEditedLabel:!1},"tick"===t.type&&(e._requiresTickNextFrame=!1),e.isCurrentlyDoingSetState=!1,e.isCurrentlyDoingRestoreState=!1,e.handleDispatchedAction(t),e.updateTheComputedWorld();var i=e.getImageToRetry();(0<e.getPlayingSliders().length||e.hasAnyTableThatRequiresTicks()||e.isDragDropActive()||i)&&e.markTickRequiredNextFrame(),i&&e.retryLoadingFailedImage(i),"undo"===t.type||"redo"===t.type||e.isDragDropActive()||e.commitUndoRedoSynchronously(t),e.requestParseForAllItems(),e.isCurrentlyDoingSetState=!1,e.isCurrentlyDoingRestoreState=!1,e.enqueuedEvents.change&&e.grapher&&e.grapher.markLabelsDirty(),e.enqueuedEvents.clearUnsavedChanges?e._hasUnsavedChanges=!1:e.enqueuedEvents.change&&(e._hasUnsavedChanges=!0),(i=e.getSelectedItem())?n&&n.guid===i.guid||(e.shouldScrollSelectedItemIntoViewAfterDispatch=!0):e.shouldScrollSelectedItemIntoViewAfterDispatch=!1,(t=e.getFocusLocation())&&!c.isEqual(t,o)&&e.getFocusedItem()==i&&(e.shouldScrollSelectedItemIntoViewAfterDispatch=!0),o&&n&&"table"===n.type&&"table"===o.type&&(!t||"table"!==t.type||o.id!==t.id)&&n.isExpanded&&(I.setExpanded(n,!1),t||(r=n)),t&&i&&"table"===i.type&&I.updateIsCollapsedByFocusLocation(i),e.updateRenderShellsBeforePaint(),e.updateViews(),r?e.scrollItemIntoView(r):e.shouldScrollSelectedItemIntoViewAfterDispatch&&e.scrollSelectedItemIntoView(),e.updateDragDrop(),e.updateRenderShellsAfterDispatch()})},Q.prototype.handleDispatchedAction=function(e){var t,r,o=this;switch(e.type){case"render":break;case"undo":this.undo();break;case"redo":this.redo();break;case"clear-undoredo-history":this.clearUndoRedoHistory();break;case"on-special-key-pressed":"Enter"===e.key?D.onEnterPressed(this):"Up"===e.key?D.onUpPressed(this):"Down"===e.key?D.onDownPressed(this):"Backspace"===e.key?D.onBackspacePressed(this):"Delete"===e.key&&D.onDeletePressed(this);break;case"select-previous-expression":A.selectPrevItem(this.listModel);break;case"select-next-expression":A.selectNextItem(this.listModel);break;case"upward-delete-selected-expression":D.upwardDeleteSelectedExpression(this,{moveSelection:!1});break;case"downward-delete-selected-expression":D.downwardDeleteSelectedExpression(this,{moveSelection:!1});break;case"table-show-more-rows":if(!(C=this.getItemModel(e.id))||"table"!==C.type)return;var i=I.getCollapsedRange(C);if(!i)return;A.setSelected(this.listModel,C),I.setExpanded(C,!0),P.setFocusLocation(this,{type:"table",id:C.id,location:{row:i.min,column:0}});break;case"navigate-table-by-key":D.navigateTableByKey(this,e.id,e.key);break;case"delete-item-and-animate-out":this._deleteItemAndAnimateOut(e.id,e.setFocusAfterDelete);break;case"finish-deleting-item-after-animation":this._finishDeletingItemAfterAnimation(e.id,e.setFocusAfterDelete);break;case"expression-zoom-fit":this._expressionZoomFit(e.id);break;case"set-expression-properties-from-api":this._setExpressionPropertiesFromAPI(e.id,e.properties);break;case"add-item-to-end-from-api":this._addItemToEndFromAPI(this.createItemModel(e.state));break;case"duplicate-expression":if(!(f=this.getItemModel(e.id))||"folder"===f.type)return;this.copyExpressionToIndex(f,f.index+1);break;case"duplicate-folder":var a=e.id;if(!(m=this.getItemModel(a))||"folder"!==m.type)return;var c=this.createItemModel(n.__assign(n.__assign({},L.getState(m,{stripDefaults:!1})),{id:this.generateId()})),l=(a=this.getNumberOfItemsInFolder(a))+1;this._toplevelInsertItemAt(m.index+l,c,!1,void 0);for(var u=(m=m.index+1)+a,d=m;d<=u;d++){var h=A.getItemByIndex(this.listModel,d);if(!h||"folder"===h.type)return;this.copyExpressionToIndex(h,d+l,c.id)}break;case"insert-item-at-index":var f=this.createItemModel(e.state);this._toplevelInsertItemAt(e.index,f,e.focus,e.folderId);break;case"new-expression-at-end":f=this.createItemModel({type:"expression",id:this.generateId(),color:this.getNextColor()}),this.setEditListMode(!1),A.insertItemAtEnd(this.listModel,f),P.moveFocusToItem(this,f.id);break;case"new-expression":f=this.createItemModel({type:"expression",id:this.generateId(),color:this.getNextColor()}),this.setEditListMode(!1),this._toplevelNewItemAtSelection(f,{shouldFocus:!0}),this._closeAddExpression();break;case"new-text":f=this.createItemModel({id:this.generateId(),type:"text"}),this._toplevelNewItemAtSelection(f,{shouldFocus:!0}),this._closeAddExpression();break;case"new-folder":f=this.createItemModel({type:"folder",id:this.generateId()}),this._toplevelNewItemAtSelection(f,{shouldFocus:!0}),this._closeAddExpression();break;case"new-images":this._uploadImagesAndWaitForThemToLoad({files:e.files}),this._closeAddExpression();break;case"change-image":this._uploadImagesAndWaitForThemToLoad({files:e.files,id:e.id});break;case"new-table":f=this._createTableItem(),this._toplevelNewItemAtSelection(f,{shouldFocus:!0}),this._closeAddExpression();break;case"paste-table":this._pasteTable(e.data);break;case"insert-several-expressions":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,this._insertSeveralExpressions(e.expressions);break;case"append-number-list":this._appendNumberList(e.latex);break;case"remove-item-by-id":A.removeItemById(this.listModel,e.id);break;case"replace-item-at-index":f=this.createItemModel(e.state),this._toplevelReplaceItemAt(e.index,f,e.focus);break;case"create-sliders-for-item":this.createSlidersForItem(e.id,e.variables);break;case"create-sliders-for-ticker":this.createSlidersForTicker(e.variables);break;case"convert-image-to-draggable":this.convertImageToDraggable(e.id);break;case"start-dragdrop":if(!(C=this.getItemModel(e.id)))return;if(!(a=this.getItemRootNodeById(C.id)))return;m=a.getBoundingClientRect(),A.setSelected(this.listModel,void 0);var g=e.grabY-m.top,m=(a=!1,1);"folder"===C.type&&(m+=this.getNumberOfItemsInFolder(C.id),C.collapsed||(a=!0,L.setCollapsed(C,!0))),A.setDragState(this.listModel,{firstItemId:C.id,numberOfItems:m,expandFolder:a,grabOffset:g,mouseY:e.mouseY,itemTop:0}),this.dragdrop_expressions.startDragging(e.mouseY);break;case"update-dragdrop":if(!(t=this.listModel.dragState))return;A.setDragState(this.listModel,n.__assign(n.__assign({},t),{mouseY:e.mouseY}));break;case"stop-dragdrop":if(!(t=this.listModel.dragState))return;if(!(g=this.getItemModel(t.firstItemId)))return;A.setSelected(this.listModel,g),"folder"===g.type&&t.expandFolder&&L.setCollapsed(g,!1),A.setDragState(this.listModel,void 0);break;case"set-selected-id":f=this.getItemModel(e.id),A.setSelected(this.listModel,f);break;case"set-selected-index":f=this.getItemModelByIndex(e.index),A.setSelected(this.listModel,f);break;case"set-none-selected":A.setSelected(this.listModel,void 0);break;case"set-focus-location":"table"===(e.location?e.location.type:"")&&(this.layoutModel=n.__assign(n.__assign({},this.layoutModel),{inEditListMode:!1})),P.setFocusLocation(this,e.location);break;case"move-focus-to-item":P.moveFocusToItem(this,e.id,e.where);break;case"blur-focus-location":this.isFocusLocationFocused(e.location)&&P.setFocusLocation(this,void 0);break;case"set-folder-collapsed":if(!(C=this.getItemModel(e.id))||"folder"!==C.type)return;L.setCollapsed(C,e.isCollapsed);break;case"set-all-folders-collapsed":A.collapseAllFolders(this.listModel,e.isCollapsed);break;case"set-item-secret":if(!(f=this.getItemModel(e.id)))return;O.setSecret(f,e.isSecret);break;case"set-tablecolumn-color":if(!(C=this.getItemModel(e.tableId))||"table"!==C.type)return;I.setColumnColor(C,e.columnId,e.color);break;case"set-tablecolumn-colorlatex":if(!(C=this.getItemModel(e.tableId))||"table"!==C.type)return;I.setColumnColorLatex(C,e.columnId,e.colorLatex);break;case"set-show-cdf":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setShowCDF(C,e.showCDF);break;case"set-cdf-min":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setCDFMin(C,e.latex);break;case"set-cdf-max":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setCDFMax(C,e.latex);break;case"toggle-item-hidden":this._toggleItemHidden(e.id);break;case"toggle-tablecolumn-hidden":this._toggleTableColumnHidden(e.tableId,e.columnId);break;case"toggle-item-settings-menu":this.listModel.openItemMenu&&e.menu.model===this.listModel.openItemMenu.model?this.closeItemSettingsMenu():(this.listModel.openItemMenu=e.menu,e.menu.focusFirstOption&&P.setFocusLocation(this,{type:"expression-menu",id:e.menu.model.id,location:"start"}));break;case"close-item-settings-menu":this.closeItemSettingsMenu();break;case"toggle-fraction-evaluation":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;var y=_.shouldEvaluationDisplayAsFraction(C);_.setEvaluationAsFraction(C,!y);break;case"set-item-label":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setLabel(C,e.label),this.enqueueEvent("userEditedLabel");break;case"set-item-showlabel":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setShowLabel(C,e.showLabel),e.showLabel||(_.setInteractiveLabel(C,!1),_.setEditableLabelMode(C,k.EditableLabelMode.None));break;case"set-item-color":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setColor(C,e.color);break;case"set-item-description":if(!(C=this.getItemModel(e.id))||"expression"!==C.type&&"image"!==C.type)return;"expression"===C.type?_.setDescription(C,e.description):"image"===C.type&&M.setDescription(C,e.description);break;case"set-item-fill":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setFill(C,e.fill),this._setItemHidden(C.id,_.areAllVisibilityPropsOff(C));break;case"set-image-opacity":if(!(C=this.getItemModel(e.id))||"image"!==C.type)return;M.setOpacity(C,e.opacity),this._setItemHidden(C.id,!1);break;case"set-image-in-foreground":if(!(C=this.getItemModel(e.id))||"image"!==C.type)return;M.setForeground(C,e.foreground);break;case"image-upload-error":this.__pendingImageUploads[e.token]&&(delete this.__pendingImageUploads[e.token],this._showToast({message:this.s("graphing-calculator-text-toast-image-upload-failed")}));break;case"image-upload-success":this.__pendingImageUploads[e.token]&&(delete this.__pendingImageUploads[e.token],e.id?(C=this.getItemModel(e.id))&&"image"===C.type&&M.setImageURL(C,e.url):(v=this.createItemModel({type:"image",id:this.generateId(),width:e.width,height:e.height,image_url:e.url,name:e.name}),this._toplevelNewItemAtSelection(v,{shouldFocus:!1}))),this.isUploadingImages()||(this.toastData={});break;case"image-load-success":if(!(v=this.getItemModel(e.id))||"image"!==v.type)return;M.setLoadStatus(v,"loaded"),this.imageRetryState={lastAttemptTime:0,attempts:0};break;case"image-load-error":if(!(v=this.getItemModel(e.id))||"image"!==v.type)return;M.setLoadStatus(v,"failed");break;case"image-retry-loading":if(!(v=this.getItemModel(e.id))||"image"!==v.type)return;M.retryLoading(v);break;case"set-item-dragmode":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setDragMode(C,e.dragMode);break;case"set-tablecolumn-dragmode":if(!(C=this.getItemModel(e.tableId))||"table"!==C.type)return;I.setColumnDragMode(C,e.columnId,e.dragMode),e.dragMode!==p.DragMode.NONE&&this._setTableColumnHidden(e.tableId,e.columnId,!1);break;case"set-tablecolumn-points":if(!(C=this.getItemModel(e.tableId))||"table"!==C.type)return;I.setColumnPoints(C,e.columnId,e.bool),this._setTableColumnHidden(e.tableId,e.columnId,I.shouldHideColumn(C,e.columnId));break;case"set-tablecolumn-lines":if(!(C=this.getItemModel(e.tableId))||"table"!==C.type)return;I.setColumnLines(C,e.columnId,e.bool),this._setTableColumnHidden(e.tableId,e.columnId,I.shouldHideColumn(C,e.columnId));break;case"set-tablecolumn-linestyle":if(!(C=this.getItemModel(e.tableId))||"table"!==C.type)return;I.setColumnLineStyle(C,e.columnId,e.lineStyle),this._setTableColumnHidden(e.tableId,e.columnId,!1);break;case"set-tablecolumn-linewidth":if(!(C=this.getItemModel(e.tableId))||"table"!==C.type)return;I.setColumnLineWidth(C,e.columnId,e.lineWidth),this._setTableColumnHidden(e.tableId,e.columnId,!1);break;case"set-tablecolumn-lineopacity":if(!(C=this.getItemModel(e.tableId))||"table"!==C.type)return;I.setColumnLineOpacity(C,e.columnId,e.lineOpacity),this._setTableColumnHidden(e.tableId,e.columnId,!1);break;case"set-tablecolumn-pointsize":if(!(C=this.getItemModel(e.tableId))||"table"!==C.type)return;I.setColumnPointSize(C,e.columnId,e.pointSize),this._setTableColumnHidden(e.tableId,e.columnId,!1);break;case"set-tablecolumn-pointopacity":if(!(C=this.getItemModel(e.tableId))||"table"!==C.type)return;I.setColumnPointOpacity(C,e.columnId,e.pointOpacity),this._setTableColumnHidden(e.tableId,e.columnId,!1);break;case"set-tablecolumn-pointstyle":if(!(C=this.getItemModel(e.tableId))||"table"!==C.type)return;I.setColumnPointStyle(C,e.columnId,e.pointStyle),this._setTableColumnHidden(e.tableId,e.columnId,!1);break;case"set-item-points":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setPoints(C,e.points),this._setItemHidden(e.id,_.areAllVisibilityPropsOff(C)),e.points||C.dragMode===p.DragMode.NONE||_.setDragMode(C,p.DragMode.NONE);break;case"set-item-pointstyle":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setPointStyle(C,e.pointStyle),this._setItemHidden(e.id,!1);break;case"set-item-lines":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setLines(C,e.lines),this._setItemHidden(e.id,_.areAllVisibilityPropsOff(C));break;case"set-item-linestyle":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setLineStyle(C,e.lineStyle),this._setItemHidden(e.id,!1);break;case"set-item-label-dropdown-open":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setLabelDropdownOpen(C,e.open);break;case"set-item-fillopacity":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setFillOpacity(C,e.fillOpacity),this._setItemHidden(e.id,!1);break;case"set-item-lineopacity":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setLineOpacity(C,e.lineOpacity),this._setItemHidden(e.id,!1);break;case"set-item-pointopacity":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setPointOpacity(C,e.pointOpacity),this._setItemHidden(e.id,!1);break;case"set-item-pointsize":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setPointSize(C,e.pointSize),this._setItemHidden(e.id,!1);break;case"set-item-linewidth":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setLineWidth(C,e.lineWidth),this._setItemHidden(e.id,!1);break;case"set-item-colorlatex":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setColorLatex(C,e.colorLatex);break;case"set-item-labelSize":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setLabelSize(C,e.labelSize);break;case"set-item-labelangle":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setLabelAngle(C,e.labelAngle);break;case"set-item-label-orientation":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setLabelOrientation(C,e.labelOrientation);break;case"set-suppress-text-outline":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setSuppressTextOutline(C,e.suppressTextOutline);break;case"set-item-interactive-label":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setInteractiveLabel(C,e.interactiveLabel),e.interactiveLabel&&_.setEditableLabelMode(C,k.EditableLabelMode.None);break;case"set-item-editable-label-mode":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;C.editableLabelMode!==k.EditableLabelMode.None&&e.editableLabelMode!==k.EditableLabelMode.None&&C.editableLabelMode!==e.editableLabelMode&&_.setLabel(C,""),_.setEditableLabelMode(C,e.editableLabelMode),e.editableLabelMode!==k.EditableLabelMode.None&&_.setInteractiveLabel(C,!1);break;case"plot-residuals":if(!(f=this.getItemModel(e.id))||"expression"!==f.type)return;if(!(y=f.formula.regression))return;var v=y.residualSuggestionId;if(!v)return;if(!(v=this.getItemModel(v)))return;I.insertBlankColumn(v,v.columnModels.length-1,{id:this.generateId(),latex:s.identifierToLatex(y.residualVariable),color:this.getNextColor()});break;case"toggle-logmode":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;var b=C.isLogModeRegression;_.setLogMode(C,!b);break;case"set-item-latex":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(f=this.getItemModel(e.id))||"expression"!==f.type)return;var x,w=e.latex;'"'===w&&this.areNotesEnabled()?(b=this.createItemModel({id:this.generateId(),type:"text"}),this._toplevelReplaceItemAt(f.index,b,!0)):""===w?_.blankOutExpressionAfterClearingLatex(f):"ticker"===w&&this.canAddTicker()?(this.listModel.ticker.open=!0,this.focusLocation={type:"ticker",location:"handler"},this._removeExpressionSynchronously(f)):"folder"===w&&this.areFoldersEnabled()?(x=this.createItemModel({id:this.generateId(),type:"folder"}),A.getParentFolderModel(f)?(this._toplevelNewItemAtSelection(x,{shouldFocus:!0}),_.setLatex(f,"")):this._toplevelReplaceItemAt(f.index,x,!0)):"table"===w?(x=this._createTableItem(),this._toplevelReplaceItemAt(f.index,x,!0)):"betchacant"===w||"pride"===w?this.runAfterDispatch(function(){o.triggerEasterEgg&&o.triggerEasterEgg(w)}):_.setLatex(f,w);break;case"set-visualization-prop":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setVizProp(C,e.prop,e.value);break;case"set-clickableinfo-prop":if(!(C=this.getItemModel(e.id)))return;"expression"===C.type?_.setClickableInfoProp(C,e.prop,e.value):"image"===C.type&&M.setClickableInfoProp(C,e.prop,e.value);break;case"set-clickableinfo-rule-latex":if(!(C=this.getItemModel(e.id)))return;"expression"===C.type?_.setClickableInfoRuleLatex(C,e.latex):"image"===C.type&&M.setClickableInfoRuleLatex(C,e.latex);break;case"set-folder-title":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(C=this.getItemModel(e.id))||"folder"!==C.type)return;L.setTitle(C,e.title);break;case"set-image-mq-attribute":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(C=this.getItemModel(e.id))||"image"!==C.type)return;M.setMQAttribute(C,e.attribute,e.latex);break;case"set-image-name":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(C=this.getItemModel(e.id))||"image"!==C.type)return;M.setName(C,e.name);break;case"set-image-draggable":if(!(C=this.getItemModel(e.id))||"image"!==C.type)return;var E=M.getCenterExternalReferencedModel(C);if(!E)return;M.setDraggable(C,e.draggable),!e.draggable||E.reconciledDragMode!==p.DragMode.NONE&&E.dragMode!==p.DragMode.AUTO||_.setDragMode(E,p.DragMode.XY);break;case"set-graph-settings":for(var S in e)"type"!==S&&this.graphSettings.setProperty(S,e[S]);break;case"set-polar-domain-minlatex":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setPolarDomainMin(C,e.latex);break;case"set-polar-domain-maxlatex":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setPolarDomainMax(C,e.latex);break;case"set-parametric-domain-minlatex":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setParametricDomainMin(C,e.latex);break;case"set-parametric-domain-maxlatex":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setParametricDomainMax(C,e.latex);break;case"set-note-text":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(C=this.getItemModel(e.id))||"text"!==C.type)return;T.setText(C,e.text);break;case"set-edit-list-mode":var C=A.getSelected(this.listModel);if(this.setEditListMode(e.isEditListMode),e.focusExpressionList){if(void 0===C&&(C=this.getItemModelByIndex(0)),!C)return;P.moveFocusToItem(this,C.id,"table"===C.type&&e.isEditListMode?"container":"start")}else A.setSelected(this.listModel,void 0),P.setFocusLocation(this,void 0);break;case"set-projector-mode":this.getGraphSettings().config.setProperty("projectorMode",e.value);break;case"set-inverted-colors":this.getGraphSettings().config.setProperty("invertedColors",e.value);break;case"set-tablecell-latex":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(C=this.getItemModel(e.tableId))||"table"!==C.type)return;I.setCellLatex(C,e.cell,e.latex);break;case"set-state":this.externalSetState(e.state,e.opts);break;case"set-blank":this.externalSetState(this.getBlankState(),e.opts);break;case"clear-unsaved-changes":this.enqueueEvent("clearUnsavedChanges");break;case"reset-graph":var F=this.getState();this.externalSetState(this.graphSettings.defaultState,{allowUndo:!0}),(E=this.getItemModelByIndex(0))&&P.moveFocusToItem(this,E.id,"end"),this._showToast({message:this.s("graphing-calculator-text-toast-graph-reset"),undoCallback:function(){return o.dispatch({type:"set-state",state:F,opts:{allowUndo:!0}})}}),this.enqueueEvent("graphReset");break;case"clear-graph":if(this.triggerClearGraph)return void this.runAfterDispatch(function(){return o.triggerClearGraph()});var N=this.getState();this.externalSetState(this.getBlankState(),{allowUndo:!0});var R=this.getItemModelByIndex(0);R&&P.moveFocusToItem(this,R.id,"end"),this._showToast({message:this.s("graphing-calculator-text-toast-graph-cleared"),undoCallback:function(){return o.dispatch({type:"set-state",state:N,opts:{allowUndo:!0}})}}),this.enqueueEvent("graphReset");break;case"on-evaluator-changes":if(this.onEvaluatorChangesSpy&&this.onEvaluatorChangesSpy(e.changes,e.timingData,e.graphData,e.eventUpdates),A.onEvaluatorFormulaUpdates(this.listModel,e.changes),!e.graphData)break;for(r in e.graphData.addedGraphs){var B=e.graphData.addedGraphs[r];this.grapher&&this.grapher.updateSketch(r,B),A.onGraphComputed(this.listModel,r,B)}for(r in e.graphData.removedGraphs)this.grapher&&this.grapher.removeGraphSketch(r);for(r in e.graphData.intersections)this.grapher&&"2d"===this.grapher.type&&this.grapher.updateIntersections(r,e.graphData.intersections[r]);if(this.grapher&&this.grapher.poiController&&this.grapher.poiController.handleTraceUpdate(),e.eventUpdates){var j=!1;for(U in e.eventUpdates.updates)if(this.doesIdentifierBlockActionUpdate(U)){j=!0;break}if(!j){for(var U in e.eventUpdates.updates)this.updateLatexForIdentifier(U,e.eventUpdates.updates[U]);e.eventUpdates.objectClicked&&this.enqueueEvent("userClickedObject"),this.onActionUpdatesAppliedSpy&&this.onActionUpdatesAppliedSpy(e.eventUpdates)}}break;case"add-helper-expression":A.addHelperExpression(this.listModel,e.state);break;case"tick":this._tickSliders(e.time);break;case"tick-ticker":this.tickTicker(e.time);break;case"adjust-slider-by-keyboard":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.adjustSliderByKeyboard(C,e.adjustment);break;case"adjust-slider-by-dragging-thumb":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.adjustSliderByDraggingThumb(C,e.target);break;case"set-slider-minlatex":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setSliderMin(C,e.latex);break;case"set-slider-maxlatex":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setSliderMax(C,e.latex);break;case"set-slider-steplatex":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setSliderStep(C,e.latex);break;case"set-slider-dragging":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setSliderDragging(C,e.dragging);break;case"play-slider-from-min":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;if(R=_.getSliderMin(C),isNaN(R))return;R=_.computeNewSliderLatex(C.latex,R),_.setSliderIsPlaying(C,!1),_.setLatex(C,R),_.setSliderIsPlaying(C,!0);break;case"set-slider-isplaying":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setSliderIsPlaying(C,e.isPlaying);break;case"set-slider-loopmode":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setSliderLoopMode(C,e.loopMode);break;case"set-slider-animationperiod":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;_.setSliderAnimationPeriod(C,e.animationPeriod);break;case"show-expressions-list":this._showExpressions(e.focusHideIcon);break;case"hide-expressions-list":this._hideExpressions(e.focusShowIcon);break;case"open-drawer":this.enqueueEvent("openDrawer");break;case"re-randomize":this.setRandomSeed(K.default());break;case"resize-exp-list":this._setExpListWidth(e.expListWidth);break;case"toast/show":this._showToast(e.toast);break;case"toast/close":this.closeToast();break;case"toast/undo":var z=this.toastData.undoCallback;z&&this.runAfterDispatch(z),this.toastData={};break;case"toast/learn-more":(z=this.toastData.learnMoreCallback)&&this.runAfterDispatch(z),this.toastData={};break;case"start-moving-point":V.onStartMovingPoint(this,this.listModel,e.pointInfo);break;case"stop-moving-point":V.onStopMovingPoint(this,e.pointInfo);break;case"on-move-point":V.onMovePoint(this,e.pointInfo,e.previousScreenPt,e.screenPt,e.projection,e.keyboardDirection)&&this.enqueueEvent("userMovedPoint");break;case"commit-user-requested-viewport":this._commitUserRequestedViewport(e.viewport);break;case"set-viewport":this._setAxisLimitLatex("xmin",e.viewport.xmin+""),this._setAxisLimitLatex("xmax",e.viewport.xmax+""),this._setAxisLimitLatex("ymin",e.viewport.ymin+""),this._setAxisLimitLatex("ymax",e.viewport.ymax+"");break;case"toggle-lock-viewport":this.graphSettings.setProperty("userLockedViewport",!this.graphSettings.userLockedViewport);break;case"set-axis-limit-latex":this._setAxisLimitLatex(e.limit,e.latex);break;case"toggle-graph-settings":this.layoutModel=n.__assign(n.__assign({},this.layoutModel),{graphSettingsOpen:!this.layoutModel.graphSettingsOpen}),A.setSelected(this.listModel,void 0),e.focusOnOpen&&this.layoutModel.graphSettingsOpen&&P.setFocusLocation(this,{type:"settings",location:"projector-mode"});break;case"close-graph-settings":this.layoutModel=n.__assign(n.__assign({},this.layoutModel),{graphSettingsOpen:!1}),e.focusIconAfterClose&&P.setFocusLocation(this,{type:"settings",location:"icon"});break;case"toggle-add-expression":this.layoutModel=n.__assign(n.__assign({},this.layoutModel),{addExpressionOpen:!this.layoutModel.addExpressionOpen}),e.focusOnOpen&&this.layoutModel.addExpressionOpen&&P.setFocusLocation(this,{type:"add-expression-btn"});break;case"close-add-expression":this._closeAddExpression(),e.focusIconAfterClose&&P.setFocusLocation(this,{type:"add-item-btn"});break;case"ui/container-resized":this.layoutMeasurements={width:e.size.width,height:e.size.height},this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;break;case"enter-printmode":this.inPrintMode=!0;break;case"exit-printmode":this.inPrintMode=!1;break;case"expression-size-exceeded":this._showToast({message:this.s("graphing-calculator-text-toast-expression-size-limit")});break;case"keypad/set-layout":this.layoutModel=n.__assign(n.__assign({},this.layoutModel),{keypadLayout:e.layout,keypadFunctionsOpen:!1});break;case"keypad/set-minimized":this.layoutModel=n.__assign(n.__assign({},this.layoutModel),{keypadMinimized:e.minimized,keypadLayout:"mainNumbers"}),this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,this.needsFakeKeypad()||P.addFocusForKeypad(this);break;case"keypad/type-text":this.layoutModel=n.__assign(n.__assign({},this.layoutModel),{keypadFunctionsOpen:!1}),this.runAfterDispatch(function(){var t=G.default.getFocusedMathquill();t&&G.default.canAcceptText(t,o.getCapExpressionSize(),e.text)&&(t.typedText(e.text),G.default.simulateUserChangedLatex(t))});break;case"keypad/press-key":this.layoutModel=n.__assign(n.__assign({},this.layoutModel),{keypadFunctionsOpen:!1}),this.runAfterDispatch(function(){var t=G.default.getFocusedMathquill();t&&G.default.simulateKeypress(t,e.key)});break;case"keypad/audio-trace":this.handleAudioTraceCommand(e.command);break;case"set-audio-trace-speed":this.setAudioTraceSpeed(e.speed);break;case"keypad/custom-command":this.layoutModel=n.__assign(n.__assign({},this.layoutModel),{keypadFunctionsOpen:!1}),this.runAfterDispatch(function(){var t=G.default.getFocusedMathquill();t&&(W.execute(t,e.command),G.default.simulateUserChangedLatex(t))});break;case"keypad/shift":this.layoutModel=n.__assign(n.__assign({},this.layoutModel),{keypadLayout:q.getShiftedLayoutForCurrentLayout(this.getKeypadLayout()),keypadFunctionsOpen:!1});break;case"keypad/123":this.layoutModel=n.__assign(n.__assign({},this.layoutModel),{keypadLayout:"mainNumbers",keypadFunctionsOpen:!1});break;case"keypad/abc":this.isQwertyKeyboardEnabled()?this.layoutModel=n.__assign(n.__assign({},this.layoutModel),{keypadLayout:"letters",keypadFunctionsOpen:!1}):this.layoutModel=n.__assign(n.__assign({},this.layoutModel),{keypadLayout:"noQwertyLetters",keypadFunctionsOpen:!1});break;case"keypad/audio":this.layoutModel=n.__assign(n.__assign({},this.layoutModel),{keypadMinimized:!1,keypadLayout:"audio",keypadFunctionsOpen:!1});break;case"keypad/functions":this.layoutModel=n.__assign(n.__assign({},this.layoutModel),{keypadFunctionsOpen:!this.isKeypadFunctionsPopoverOpen()});break;case"grapher/drag-start":case"grapher/drag-move":case"grapher/drag-end":break;case"open-on-web":this._openOnWeb();break;case"file-is-dragged-over":this.listModel.openItemMenu=void 0,this.layoutModel=n.__assign(n.__assign({},this.layoutModel),{isFileDraggedOver:!0});break;case"file-is-not-dragged-over":this.layoutModel=n.__assign(n.__assign({},this.layoutModel),{isFileDraggedOver:!1});break;case"zoom":this.grapher&&this.grapher.viewportController.zoom(e.direction);break;case"set-hovered-image":if(!(C=this.getItemModel(e.id))||"image"!==C.type)return;M.setClickableInfoProp(C,"hoveredImage",e.url);break;case"set-depressed-image":if(!(C=this.getItemModel(e.id))||"image"!==C.type)return;M.setClickableInfoProp(C,"depressedImage",e.url);break;case"clickable-item-clicked":this.handleClickableItemClicked(e.id,e.listIndex);break;case"action-single-step":if(!(C=this.getItemModel(e.id))||"expression"!==C.type)return;if(!C.formula.action_value)return;this.evaluator.addActionStepEvent(C.id);break;case"update-expression-search-str":this.updateExpressionSearchStr(e.str);break;case"update-expression-replace-str":this.updateExpressionReplaceStr(e.str);break;case"rename-identifier-global":A.renameIdentifierGlobal(this.listModel,e.search,e.replace);break;case"rename-identifier-in-item":A.renameIdentifierGlobal(this.listModel,e.search,e.replace,{limitToItem:e.id});break;case"rename-identifier-in-folder":A.renameIdentifierGlobal(this.listModel,e.search,e.replace,{limitToFolder:e.id});break;case"update-ticker-handlerlatex":this.updateTickerHandlerLatex(e.latex);break;case"update-ticker-minsteplatex":this.updateTickerMinStepLatex(e.latex);break;case"set-braille-mode":this.setBrailleMode(e.mode);break;case"set-six-key-input":this.setSixKeyInput(e.useSixKeyInput);break;case"close-expression-search":this.expressionSearchOpen=!1,this.updateExpressionSearchStr("");var H=this.getItemModelByIndex(0);H&&P.moveFocusToItem(this,H.id,"end");break;case"open-expression-search":this.expressionSearchOpen=!0,this.focusLocation={type:"search-expressions"},H=e.latex,e.rename&&!Y.isSingleIdentifier(H)&&(H=""),H=e.rename?H?"\\operatorname{rename}\\ "+H+"\\to":"\\operatorname{rename}\\ ":H,this.updateExpressionSearchStr(H);break;case"open-ticker":this.listModel.ticker.open=!0,this.focusLocation={type:"ticker",location:"handler"},this._closeAddExpression();break;case"close-ticker":this.listModel.ticker.open=!1,this.listModel.ticker.playing=!1,this.listModel.ticker.minStepLatex="",this.listModel.ticker.handlerLatex="";break;case"toggle-ticker":this.listModel.ticker.playing=!this.listModel.ticker.playing,this.listModel.ticker.lastTickTime=void 0,this.pauseAllSliders();break;default:return e}},Q.prototype.pauseAllSliders=function(){this.getPlayingSliders().forEach(function(e){_.setSliderIsPlaying(e,!1)})},Q.prototype.handleClickableItemClicked=function(e,t){var r=this.getItemModel(e);r&&("expression"!==r.type&&"image"!==r.type||"maybe-valid"===(null===(e=r.formula.click_handler)||void 0===e?void 0:e.status)&&this.evaluator.addClickEvent(r.id,t))},Q.prototype.canAddTicker=function(){return!this.getTickerOpen()},Q.prototype.doesIdentifierBlockActionUpdate=function(e){for(var t=this.getFocusLocation(),r=0,n=A.getItemsByIdentifier(this.listModel,e);r<n.length;r++){var o=n[r];if("expression"===(null==t?void 0:t.type)&&t.id===o.id)return!0;if(_.shouldBlockActionUpdate(o))return!0}return!1},Q.prototype.updateLatexForIdentifier=function(e,t){1===(e=A.getItemsByIdentifier(this.listModel,e)).length&&((e=e[0]).slider.isPlaying?(_.setSliderIsPlaying(e,!1),_.setLatex(e,t),_.setSliderIsPlaying(e,!0)):_.setLatex(e,t))},Q.prototype.updateExpressionSearchStr=function(e){var t="\\operatorname{rename}";0===(this.rawExpressionSearchStr=e).indexOf(t)?(2===(t=e.slice(t.length).replace(/\\ /g,"").split(/\\to(?![a-zA-Z])/)).length?(this.expressionSearchStr=t[0],this.isExpressionSearchStrValidForReplace=Y.isSingleIdentifier(this.expressionSearchStr),this.updateExpressionReplaceStr(t[1])):(this.expressionSearchStr=t[0],this.isExpressionSearchStrValidForReplace=!1,this.updateExpressionReplaceStr("")),t=A.filterItemsByIdentifierSearch(this.listModel,this.getExpressionSearchStr()),this.expressionSearchCount=this.expressionSearchOpen?t:0):(this.expressionSearchStr=1<e.length&&0==="rename".indexOf(e)?"":e,this.isExpressionSearchStrValidForReplace=!1,this.updateExpressionReplaceStr(""),this.filterItemsBySearch())},Q.prototype.filterItemsBySearch=function(){var e;this.getExpressionReplaceStr()||(e=A.filterItemsBySearch(this.listModel,this.getExpressionSearchStr()),this.expressionSearchCount=this.expressionSearchOpen?e:0)},Q.prototype.updateExpressionReplaceStr=function(e){this.expressionReplaceStr=e,this.isExpressionReplaceStrValidForReplace=Y.isSingleIdentifier(e)},Q.prototype.getIsExpressionSearchStrValidForReplace=function(){return this.isExpressionSearchStrValidForReplace},Q.prototype.getIsExpressionReplaceStrValidForReplace=function(){return this.isExpressionReplaceStrValidForReplace},Q.prototype.isSearchReplaceValid=function(){return this.getIsExpressionSearchStrValidForReplace()&&this.getIsExpressionReplaceStrValidForReplace()},Q.prototype.shouldShowReplaceIcon=function(){return this.isSearchReplaceValid()},Q.prototype.updateTickerHandlerLatex=function(e){this.listModel.ticker.handlerLatex=e},Q.prototype.updateTickerMinStepLatex=function(e){this.listModel.ticker.minStepLatex=e},Q.prototype.getRawExpressionSearchStr=function(){return this.rawExpressionSearchStr||""},Q.prototype.getExpressionSearchStr=function(){return this.expressionSearchStr||""},Q.prototype.getExpressionReplaceStr=function(){return this.expressionReplaceStr||""},Q.prototype.getExpressionSearchCount=function(){return this.expressionSearchCount||0},Q.prototype.getTicker=function(){return this.listModel.ticker},Q.prototype.getTickerHandlerLatex=function(){return this.listModel.ticker.handlerLatex||""},Q.prototype.getTickerMinStepLatex=function(){return this.listModel.ticker.minStepLatex||""},Q.prototype.getTickerAvgDelta=function(){return this.listModel.ticker.avgDelta},Q.prototype.getBrailleMode=function(){return this.graphSettings.config.brailleMode},Q.prototype.setBrailleMode=function(e){this.graphSettings.config.setProperty("brailleMode",e)},Q.prototype.getSixKeyInput=function(){return this.graphSettings.config.sixKeyInput},Q.prototype.setSixKeyInput=function(e){this.graphSettings.config.setProperty("sixKeyInput",e)},Q.prototype.getBrailleControls=function(){return this.graphSettings.config.brailleControls},Q.prototype.setBrailleControls=function(e){this.graphSettings.config.setProperty("brailleControls",e)},Q.prototype.getAudio=function(){return this.graphSettings.config.audio},Q.prototype.setAudio=function(e){this.graphSettings.config.setProperty("audio",e)},Q.prototype.setEditListMode=function(e){this.layoutModel=n.__assign(n.__assign({},this.layoutModel),{inEditListMode:e})},Q.prototype.generateTableXSubscript=function(){return A.findAvailableColumnSubscript(this.listModel)},Q.prototype._createTableItem=function(){var e=this.generateTableXSubscript();e=I.makeTableState(e,[[""],[""]],this);return this.createItemModel(e)},Q.prototype._populateSettingsViewLimitLatex=function(){this.grapher&&(this.settingsViewModel=n.__assign(n.__assign({},this.settingsViewModel),{limitLatex:R.limitLatex(this.grapher.getCurrentViewport(),this.getGraphSettings().xAxisStep,this.getGraphSettings().yAxisStep)}))},Q.prototype.getSettingsViewModel=function(){return this.settingsViewModel},Q.prototype.getListModel=function(){return this.listModel},Q.prototype.hasBackgroundColor=function(){return"#ffffff"!==this.getBackgroundColor()},Q.prototype.getBackgroundColor=function(){return this.getGraphSettings().getBackgroundColor()},Q.prototype.getTextColor=function(){return this.getGraphSettings().getTextColor()},Q.prototype.getPillboxBackgroundColor=function(){return E.shadeColor(this.getBackgroundColor(),-.07)},Q.prototype.subToChanges=function(e){var t=this,r=this.nextSubscription;return this.nextSubscription+=1,this.subscriptions[r]=e,function(){delete t.subscriptions[r]}},Q.prototype.updateTheComputedWorld=function(){var e=this;A.reindex(this.listModel),A.updateDrawOrder(this.listModel),this.grapher&&this.grapher.setSketchOrder(this.listModel.drawOrder);for(var t,r=0,o=this.getAllItemModels();r<o.length;r++){var i=o[r];switch(i.type){case"expression":_.onControllerUpdate(i);break;case"image":M.onControllerUpdate(i);break;case"table":I.onControllerUpdate(i);break;case"folder":L.onControllerUpdate(i);break;case"text":T.onControllerUpdate(i);break;default:return i}}C.onControllerUpdate(this.listModel.ticker),this.isCurrentFocusLocationValid()||P.setFocusLocation(this,void 0),this.listModel.openItemMenu&&(t=this.getOpenMenuIcon(),document.body&&t&&document.body.contains(t[0])||(this.listModel.openItemMenu=void 0));var a=this.getSelectedItem();a&&!this.getItemModel(a.id)&&A.setSelected(this.listModel,void 0),this.layoutModel.graphSettingsOpen||this._populateSettingsViewLimitLatex(),this.propagateSelection(),this.isKeypadOpen()||(this.layoutModel=n.__assign(n.__assign({},this.layoutModel),{keypadFunctionsOpen:!1})),this.runAfterDispatch(function(){e.grapher&&"2d"===e.grapher.type&&e.grapher.audioGraph.checkIfSelectedItemChanged(a?a.id:void 0),e.grapher&&"2d"===e.grapher.type&&e.focusLocation&&e.grapher.audioGraph.exitAudioTrace()})},Q.prototype.getOpenMenuIcon=function(){var e=this.getOpenItemMenu();if(e&&(e=e.guid,0!==(e=this.find$('[dcg-open-menu-guid="'+e+'"]')).length))return e},Q.prototype.propagateSelection=function(){this.grapher&&this.evaluator?this.__lastSelectedId=r.propagateSelection(this,this.grapher,this.evaluator,this.__lastSelectedId):this.__lastSelectedId=void 0},Q.prototype.getIntersectId=function(){return this.__lastSelectedId},Q.prototype.areParsableObjectsEqual=function(e,t){return e===t||c.isEqual(n.__assign(n.__assign({},e),{regressionParameters:void 0}),n.__assign(n.__assign({},t),{regressionParameters:void 0}))},Q.prototype.requestParseForAllItems=function(){(this.isCurrentlyDoingSetState||this.isCurrentlyDoingRestoreState)&&(this.lastParsableObjects={},this.evaluator.clearStatementsAndStartCompleteState(),this.isCurrentlyDoingRestoreState&&this.evaluator.markUndoRedoState());for(var e={},t=this.lastParsableObjects,r=0,n=this.getAllItemModels();r<n.length;r++)switch((p=n[r]).type){case"expression":case"image":case"table":e[p.guid]=p.cachedParsableState;break;case"folder":case"text":break;default:return p}for(var o,i=0,a=A.getAllHelperItemModels(this.listModel);i<a.length;i++)e[(p=a[i]).guid]=p.cachedParsableState;for(o in this.listModel.ticker.cachedParsableState&&(e[this.listModel.ticker.guid]=this.listModel.ticker.cachedParsableState),t){var s=t[o],c=e[o];if("image"!==s.type||c&&c.type===s.type&&c.guid===s.guid||this.grapher&&this.grapher.removeGraphImage(s.id),!c&&(this.evaluator.removeStatement(s.id),"table"===s.type))for(var l=0,u=s.columns;l<u.length;l++){var d=u[l];this.evaluator.removeStatement(d.id)}}for(o in e){var p;c=e[o],s=t[o];"image"!==c.type||s&&c.type===s.type&&c.guid===s.guid||this.grapher&&(p=this.getItemModel(c.id))&&"image"===p.type&&this.grapher.addGraphImage(p),this.areParsableObjectsEqual(c,s)||(this.grapher&&"statement"===c.type&&""===c.latex&&this.grapher.removeGraphSketch(c.id),this.evaluator.addStatement(c))}this.lastParsableObjects=e},Q.prototype.getViewState=function(){if(this.grapher){var e=this.grapher.getProjection();return{viewport:e.viewport.toObject(),screen:e.screen}}},Q.prototype.setEvaluator=function(e){this.evaluator=e},Q.prototype.setGrapher=function(e){this.grapher=e},Q.prototype.getGrapher=function(){return this.grapher},Q.prototype.shouldExpressionZoomFit=function(e){if(!this.grapher)return!1;if(!this.isZoomFitEnabled())return!1;if("expression"!==e.type&&"table"!==e.type)return!1;if("expression"===e.type&&(e.error||!e.shouldGraph||!e.formula.is_graphable))return!1;if(!e.boundingBoxes||!e.boundingBoxes.length)return!1;var t=this.grapher.viewportController;return"getProjection"in t&&F.shouldExpressionZoomFit(e.boundingBoxes,t.getProjection())},Q.prototype.setBugsnagContext=function(e){this.bugsnagContext=e},Q.prototype.getItemRootNodeById=function(e){return(e=this.getItemModel(e))&&e.dcgView?e.dcgView.findRootNode():void 0},Q.prototype.getItemSelectorById=function(e){return(e=this.getItemRootNodeById(e))?B(e):void 0},Q.prototype.generateId=function(){var e=this.__nextItemId;return this.__nextItemId+=1,e+""},Q.prototype.getNextColor=function(){return A.getNextColor(this.listModel)},Q.prototype.getNextDisplayIndex=function(){return this.listModel.nextDisplayIndex},Q.prototype._clearPendingImageUploads=function(){this.__pendingImageUploads={}},Q.prototype.isUploadingImages=function(){return 0<Object.keys(this.__pendingImageUploads).length},Q.prototype.getExpressionAnalysis=function(){return this.listModel.expressionAnalysis},Q.prototype.createItemModel=function(e){return A.modelFromSpec(this.listModel,e)},Q.prototype.getItemModel=function(e){return A.getItemById(this.listModel,e)},Q.prototype.getColorById=function(e){return(e=this.getItemModel(e))&&"expression"===e.type?_.getEvaluationValue(e):""},Q.prototype.getAllColorAssignments=function(){for(var e=[],t=0,r=this.getAllItemModels();t<r.length;t++){var n,o,i=r[t];"expression"===i.type&&(!(n=_.getAssignment(i))||("string"==typeof(o=this.getEvaluationValueForItem(i.id))||Array.isArray(o)&&"string"==typeof o[0])&&e.push({id:i.id,assignmentLatex:s.identifierToLatex(n)}))}return e},Q.prototype.getItemModelByIndex=function(e){return A.getItemByIndex(this.listModel,e)},Q.prototype.getItemCount=function(){return A.getItemCount(this.listModel)},Q.prototype.getItemEditableLabelMode=function(e){if((e=this.getItemModel(e))&&"expression"===e.type)return _.getEditableLabelMode(e)},Q.prototype.isItemSecret=function(e){return!!(e=this.getItemModel(e))&&A.isItemSecret(e)},Q.prototype.isItemSelected=function(e){return!!(e=this.getItemModel(e))&&A.isItemSelected(e)},Q.prototype.isItemSelectable=function(e){return!!(e=this.getItemModel(e))&&A.isItemSelectable(e)},Q.prototype.anyItemDependsOnRandomSeed=function(){return A.anyItemDependsOnRandomSeed(this.listModel)},Q.prototype.areActionsEnabled=function(){return"auto"===this.graphSettings.config.actions?A.anyItemIsAction(this.listModel):!!this.graphSettings.config.actions},Q.prototype.getAllItemModels=function(){return A.getAllItemModels(this.listModel)},Q.prototype.getAllModelsWithSliders=function(){return A.getAllModelsWithSliders(this.listModel)},Q.prototype.getGraphSettings=function(){return this.graphSettings},Q.prototype.getAudioGraph=function(){return void 0!==this.grapher&&"2d"===this.grapher.type?this.grapher.audioGraph:void 0},Q.prototype.inAudioTraceMode=function(){var e=this.getAudioGraph();return!(!e||!e.audioTraceActive)},Q.prototype.canAudioTrace=function(){var e=this.getAudioGraph();return!!e&&e.canAudioTraceCurrentExp()},Q.prototype.isAudioTracing=function(){var e=this.getAudioGraph();return!!e&&e.tonegen.isAnimating()},Q.prototype.expressionsAreFullWidth=function(){return this.isNarrow()||!1===this.graphSettings.config.graphpaper},Q.prototype.getExpListWidthString=function(){return this.expressionsAreFullWidth()?"100%":this.rootElt?this._getExpListWidth()+"px":"0"},Q.prototype.getExpListWidth=function(){return this.rootElt?this._getExpListWidth():0},Q.prototype.findFirstVisibleItem=function(){var e=z.getFirstVisibleItemId(this,this._previousFirstVisibleId);return(this._previousFirstVisibleId=e)?this.getItemModel(e):void 0},Q.prototype.findLastVisibleItem=function(){var e=z.getLastVisibleItemId(this,this._previousLastVisibleId);return(this._previousLastVisibleId=e)?this.getItemModel(e):void 0},Q.prototype.updateRenderShellsAfterDispatch=function(){if(this.rootElt&&this.isListVisible()){var e=this.findFirstVisibleItem(),t=this.findLastVisibleItem(),r=e&&this.getItemRootNodeById(e.id),n=t&&this.getItemRootNodeById(t.id);if(r!==this.lastInfiniteScrollFirstDOM||n!==this.lastInfiniteScrollLastDOM||this.hasDispatchSinceLastInfiniteScrollUpdate){this.lastInfiniteScrollFirstDOM=r,this.lastInfiniteScrollLastDOM=n;var o,i=this.hasDispatchSinceLastInfiniteScrollUpdate=!1,a=e?e.index:1/0,s=t?t.index:1/0,c=this.listModel.dragState&&this.listModel.dragState.firstItemId;(t=this.getOpenItemMenu())&&(o=t.model.id);for(var l=0,u=this.getAllItemModels();l<u.length;l++){var d=u[l],p=!(d.index>=a&&d.index<=s&&!d.isHiddenFromUI);c==d.id&&(p=!1),o===d.id&&(p=!1),d.renderShell!==p&&(i=!0,d.renderShell=p)&&(!(p=this.getItemRootNodeById(d.id))||0<(p=p.getBoundingClientRect().height)&&(d.cachedRenderHeight=p))}i&&this.markTickRequiredNextFrame()}}},Q.prototype.updateRenderShellsBeforePaint=function(){if(this.hasDispatchSinceLastInfiniteScrollUpdate=!0,this.inPrintMode)for(var e=0,t=this.getAllItemModels();e<t.length;e++)(r=t[e]).renderShell=!1;else{for(var r,n=0,o=this.getAllItemModels();n<o.length;n++)(r=o[n]).isHiddenFromUI&&(r.renderShell=!0);var i=this.getSelectedItem();i&&(i.renderShell=!1)}},Q.prototype.updateDragDrop=function(){var e,t,r=this.listModel.dragState;r&&(!(e=this.getItemModel(r.firstItemId))||(t=this.dragdrop_expressions.applyDrag())&&(A.setDragState(this.listModel,t.dragState),O.setFolderId(e,t.folderId),e.index!==t.newIndex&&A.moveItemsTo(this.listModel,e.index,t.newIndex,r.numberOfItems)))},Q.prototype._tickSliders=function(e){this.getPlayingSliders().forEach(function(t){_.tickSliderStep(t,e)})},Q.prototype.tickTicker=function(e){var t=void 0===this.listModel.ticker.lastTickTime;this.evaluator.addClockTickEvent(this.listModel.ticker.id,t),C.updateLastTickTime(this.listModel.ticker,e)},Q.prototype.stopAllSliders=function(){for(var e=0,t=this.getAllItemModels();e<t.length;e++){var r=t[e];"expression"===r.type&&r.slider.isPlaying&&_.setSliderIsPlaying(r,!1)}},Q.prototype.getPlayingSliders=function(){for(var e=[],t=0,r=this.getAllItemModels();t<r.length;t++){var n=r[t];"expression"===n.type&&n.sliderExists&&n.slider.isPlaying&&e.push(n)}return e},Q.prototype.hasAnyTableThatRequiresTicks=function(){for(var e=0,t=this.getAllItemModels();e<t.length;e++){var r=t[e];if(!r.renderShell&&"table"===r.type&&25<=r.rowModels.length)return!0}return!1},Q.prototype.areAnyImagesLoading=function(){return A.areAnyImagesLoading(this.listModel)},Q.prototype._commitUserRequestedViewport=function(e){this.grapher&&this.grapher.setUserRequestedViewport(e)},Q.prototype._setAxisLimitLatex=function(e,t){var r;this.settingsViewModel=n.__assign(n.__assign({},this.settingsViewModel),{limitLatex:n.__assign(n.__assign({},this.settingsViewModel.limitLatex),((r={})[e]=t,r))});var o=""!==t||"xstep"!==e&&"ystep"!==e?N.default(t,this.graphSettings.degreeMode):0;switch(e){case"xstep":if(o<0||!isFinite(o))return;this.graphSettings.setProperty("xAxisStep",o);break;case"ystep":if(o<0||!isFinite(o))return;this.graphSettings.setProperty("yAxisStep",o);break;case"xmin":case"xmax":case"ymin":case"ymax":if(!this.grapher)return;var i=this.grapher.viewportController.getViewport(),a="ymin"===e?"ymax":"ymax"===e?"ymin":"xmin"===e?"xmax":"xmin",s=N.default(this.settingsViewModel.limitLatex[a],this.graphSettings.degreeMode);if(!(s=v.Viewport.fromObject(n.__assign(n.__assign({},i.toObject()),((i={})[e]=o,i[a]=s,i)))).isValid())return;this.grapher.viewportController.setViewport(s),i="xmin"===e||"xmax"===e?"x":"y",this.graphSettings.setProperty("lastChangedAxis",i),s=s.isSquare(this.grapher.getProjection().screen),this.graphSettings.setProperty("squareAxes",s)}this.grapher&&(t=this.grapher.viewportController.getViewport().toObject(),this._commitUserRequestedViewport(t))},Q.prototype.getLockViewportConfigSetting=function(){return this.graphSettings.config.lockViewport},Q.prototype.getLockViewportUserSetting=function(){return this.graphSettings.userLockedViewport},Q.prototype.canUserAddExpressions=function(){return!!this.graphSettings.config.expressions},Q.prototype.areNotesEnabled=function(){return!!this.graphSettings.config.notes},Q.prototype.areSlidersEnabled=function(){return!!this.graphSettings.config.sliders},Q.prototype.areLinksEnabled=function(){return!!this.graphSettings.config.links},Q.prototype.areImagesEnabled=function(){var e=window.FileReader,t=a.IS_IPAD&&a.IOS_VERSION&&8===a.IOS_VERSION[0]&&0===a.IOS_VERSION[1]&&0===a.IOS_VERSION[2];return!(!this.graphSettings.config.images||!e||t)},Q.prototype.areFoldersEnabled=function(){return!!this.graphSettings.config.folders},Q.prototype.isDecimalToFractionEnabled=function(){return!!this.graphSettings.config.decimalToFraction},Q.prototype.isTraceEnabled=function(){return!!this.graphSettings.config.trace},Q.prototype.areFunctionsRestricted=function(){return!!this.graphSettings.config.restrictedFunctions},Q.prototype.areGeometryFunctionsForceEnabled=function(){return!!this.graphSettings.config.forceEnableGeometryFunctions},Q.prototype.isQwertyKeyboardEnabled=function(){return!!this.graphSettings.config.qwertyKeyboard},Q.prototype.isZoomFitEnabled=function(){return!!this.graphSettings.config.zoomFit},Q.prototype.canEditOnWeb=function(){return!!this.graphSettings.config.editOnWeb},Q.prototype.hasTransparentBackground=function(){return!!this.graphSettings.config.transparentBackground},Q.prototype.shouldAudioTraceReverseExpressions=function(){return!!this.graphSettings.config.audioTraceReverseExpressions},Q.prototype.hasDefaultState=function(){return!!this.graphSettings.defaultState},Q.prototype.getDefaultStateViewport=function(){var e=this.graphSettings.defaultState;if(e&&e.graph)return e.graph.viewport},Q.prototype.getColors=function(){return this.graphSettings.config.colors},Q.prototype.getImageOpacities=function(){return["0.2","0.4","0.6","0.8","1"]},Q.prototype.getUIDragModes=function(){return[p.DragMode.X,p.DragMode.Y,p.DragMode.XY]},Q.prototype.getNumberOfItemsInFolder=function(e){return A.getNumberOfItemsInFolder(this.listModel,e)},Q.prototype.getEnabledDragModesForItem=function(e){var t=this.getItemModel(e);if(!t||"expression"!==t.type)return[];var r=t.formula,n=[];return r.move_strategy?(e="none"!==r.move_strategy[0].type,t="none"!==r.move_strategy[1].type,r=e&&t,e&&n.push(p.DragMode.X),t&&n.push(p.DragMode.Y),r&&n.push(p.DragMode.XY),n):n},Q.prototype.shouldShowEvaluationForItem=function(e){return!!(e=this.getItemModel(e))&&"expression"===e.type&&_.shouldShowEvaluation(e)},Q.prototype.getEvaluationValueForItem=function(e){return(e=this.getItemModel(e))&&"expression"===e.type?_.getEvaluationValue(e):NaN},Q.prototype.canDisplayEvaluationForItemAsFraction=function(e){if(!this.isDecimalToFractionEnabled())return!1;var t=this.getItemModel(e);return!!t&&("expression"===t.type&&(!_.isGraphable(t)&&("number"==typeof(e=this.getEvaluationValueForItem(e))&&s.canDisplayAsFraction(e))))},Q.prototype.shouldEvaluationForItemDisplayAsFraction=function(e){return!!this.isDecimalToFractionEnabled()&&(!!(e=this.getItemModel(e))&&"expression"===e.type&&_.shouldEvaluationDisplayAsFraction(e))},Q.prototype.getEvaluationLabelOptionsForItem=function(e){return n.__assign(n.__assign({},S.EvaluationLabelOptions),{displayAsFraction:this.shouldEvaluationForItemDisplayAsFraction(e)})},Q.prototype.getPointStyles=function(){return[h.PointStyle.POINT,h.PointStyle.OPEN,h.PointStyle.CROSS]},Q.prototype.getLineStyles=function(){return[h.LineStyle.SOLID,h.LineStyle.DASHED,h.LineStyle.DOTTED]},Q.prototype.getOpacities=function(){return[d.LOW,d.DEFAULT,d.HIGH]},Q.prototype.isInEditListMode=function(){return this.layoutModel.inEditListMode},Q.prototype.canAdministerSecretFolders=function(){return this.graphSettings.config.administerSecretFolders},Q.prototype.getInvertedColors=function(){return!!this.graphSettings.config.invertedColors},Q.prototype.canUseAdvancedStyling=function(){return this.graphSettings.config.advancedStyling},Q.prototype.isDegreeMode=function(){return this.graphSettings.degreeMode},Q.prototype.areLogModeRegressionsForced=function(){return this.graphSettings.config.forceLogModeRegressions},Q.prototype.setAllRegressionsToLogMode=function(){for(var e=0,t=this.getAllItemModels();e<t.length;e++){var r=t[e];"expression"===r.type&&r.formula&&r.formula.is_regression&&_.setLogMode(r,!0)}},Q.prototype.isGraphSettingsOpen=function(){return this.layoutModel.graphSettingsOpen},Q.prototype.isAddExpressionOpen=function(){return this.layoutModel.addExpressionOpen},Q.prototype.shouldRenderList=function(){if(this.layoutModel.expressionsVisible)return!0;var e=this.layoutModel.expressionsHiddenTime;return void 0!==e&&Date.now()-e<=500},Q.prototype.isListVisible=function(){return this.layoutModel.expressionsVisible},Q.prototype.isGrapherEnabled=function(){return!1!==this.graphSettings.config.graphpaper},Q.prototype.isListEnabled=function(){return!1!==this.graphSettings.config.expressions},Q.prototype.areDistributionsEnabled=function(){return!0===this.graphSettings.config.distributions},Q.prototype.isExpressionListFocused=function(){var e=this.getFocusLocation();if(!e)return!1;switch(e.type){case"settings":case"expression-menu":case"editable-label":case"regression-output":return!1;case"distribution-param":case"cdf-limit":case"slider-limit":case"domain-limit":case"expression":case"visualization-prop":case"search-expressions":case"replace-expressions":case"ticker":case"table":case"image":case"readonly-expression":case"braille-output":case"table-container":case"text":case"folder":case"add-item-btn":case"add-expression-btn":case"add-note-btn":case"add-table-btn":case"add-folder-btn":case"add-ticker-btn":case"add-image-btn":case"change-image-btn":case"edit-list-toggle":case"expression-icon":case"image-icon":case"slider-icon":case"slider-animation-properties-icon":case"slider-thumb":case"table-icon":case"action-icon":case"hide-expression-list-btn":case"show-expression-list-btn":return!0;default:return e}},Q.prototype.needsFakeKeypad=function(){if(this.inAudioTraceMode()&&this.isKeypadEnabled())return!0;var e=this.getFocusLocation();if(!e)return!1;if("none"!==this.getBrailleMode()&&$.getFocusedBrailleElement())return!1;switch(e.type){case"settings":return"icon"!==e.location&&"degree-mode"!==e.location;case"distribution-param":case"cdf-limit":case"slider-limit":case"domain-limit":case"expression":case"visualization-prop":case"search-expressions":case"replace-expressions":case"ticker":return!0;case"expression-menu":return"opacity"===e.location||"linewidth"===e.location||"lineopacity"===e.location||"pointopacity"===e.location||"pointsize"===e.location||"labelsize"===e.location||"labelangle"===e.location||"updaterule"===e.location;case"table":if(this.isInEditListMode())return!1;var t=e.location;if(0===t.row)return!0;var r=this.getItemModel(e.id);return!(!r||"table"!==r.type)&&(!!(t=r.columnModels[t.column])&&!t.disabled);case"image":return"name"!==e.location;case"readonly-expression":case"braille-output":case"regression-output":case"table-container":case"text":case"folder":case"add-item-btn":case"add-expression-btn":case"add-note-btn":case"add-table-btn":case"add-folder-btn":case"add-ticker-btn":case"add-image-btn":case"change-image-btn":case"edit-list-toggle":case"hide-expression-list-btn":case"show-expression-list-btn":return!1;case"expression-icon":case"image-icon":case"slider-icon":case"action-icon":case"slider-animation-properties-icon":case"slider-thumb":case"table-icon":return!1;case"editable-label":return this.getItemEditableLabelMode(e.id)===k.EditableLabelMode.Math;default:return e}},Q.prototype.getBrandingMode=function(){return this.getEditLink()?"static-edit-link":this.getGraphSettings().config.editOnWeb?"edit-link":"powered-by"},Q.prototype.getEditLink=function(){return window.iframeEmbedBrandingLink},Q.prototype._expressionZoomFit=function(e){var t=this.getItemModel(e);this.grapher&&this.isZoomFitEnabled()&&t&&("expression"===t.type||"table"===t.type)&&t.boundingBoxes&&t.boundingBoxes.length&&"zoomCustom"in(e=this.grapher.viewportController)&&(t=F.getRecommendedViewportForExpression(t.boundingBoxes,e.getProjection()))&&e.zoomCustom(t)},Q.prototype._deleteItemAndAnimateOut=function(e,t){var r=this,n=this.getItemSelectorById(e);n&&(n.css({transition:"0.2s",opacity:"0",transform:"scale(.1, .1)"}),setTimeout(function(){r.dispatch({type:"finish-deleting-item-after-animation",id:e,setFocusAfterDelete:t})},200))},Q.prototype._finishDeletingItemAfterAnimation=function(e,t){var r,n=this.getItemModel(e);n&&(e=(r=this.getItemSelectorById(e))&&document.activeElement&&0<B(document.activeElement).closest(r).length,r=A.findPrevSelectableItem(this.listModel,n.index),this._removeExpressionSynchronously(n),t&&e&&(r||(e=A.getFirstSelectableItem(this.listModel))&&(r=e),r&&P.moveFocusToItem(this,r.id,"end")))},Q.prototype._removeExpressionSynchronously=function(e){A.removeItemAtIndex(this.listModel,e.index),A.hasNoVisibleExpressions(this.listModel)&&(e=this.createItemModel({type:"expression",id:this.generateId(),color:this.getNextColor()}),A.insertItemAtEnd(this.listModel,e))},Q.prototype.setRootElt=function(e){this.rootElt=e,this.dragdrop_expressions=new H.default(this)},Q.prototype.getRootElt=function(){return this.rootElt},Q.prototype._hideExpressions=function(e){this.graphSettings.config.expressions&&(A.setSelected(this.listModel,void 0),this.layoutModel=n.__assign(n.__assign({},this.layoutModel),{expressionsVisible:!1,expressionsHiddenTime:Date.now()}),e?P.setFocusLocation(this,{type:"show-expression-list-btn"}):f.default())},Q.prototype._showExpressions=function(e){this.graphSettings.config.expressions&&(this.layoutModel=n.__assign(n.__assign({},this.layoutModel),{expressionsVisible:!0}),e?P.setFocusLocation(this,{type:"hide-expression-list-btn"}):f.default())},Q.prototype._showToast=function(e){var t,r=this;this.toastData=e,this.toastData.hasOwnProperty("undoCallback")&&!a.IS_MOBILE&&(t=a.IS_APPLE?this.s("graphing-calculator-text-toast-undo-cmd-z"):this.s("graphing-calculator-text-toast-undo-ctrl-z"),this.toastData.message+=" "+t),clearTimeout(this._hideToastTimeout),0<(e="number"==typeof e.hideAfter?e.hideAfter:6e3)&&(this._hideToastTimeout=setTimeout(function(){r.dispatch({type:"toast/close",onHide:r.toastData.onHide})},e))},Q.prototype._setExpressionPropertiesFromAPI=function(e,t){var r=this.getItemModel(e);if(r)if("table"===r.type&&t.columns){t=g.default(t);var n=I.cloneTableAndExtendWithProperties(r,t);n=A.modelFromSpec(this.listModel,n);this._toplevelReplaceItemAt(r.index,n,!1)}else{var o=this.getItemModel(e);if(o)for(var i in t)if(t.hasOwnProperty(i))switch(i){case"slider":if("expression"!==o.type)continue;var a=t[i];a.hasOwnProperty("min")&&_.setSliderMin(o,a.min),a.hasOwnProperty("max")&&_.setSliderMax(o,a.max),a.hasOwnProperty("step")&&_.setSliderStep(o,a.step),a.hasOwnProperty("isPlaying")&&_.setSliderIsPlaying(o,a.isPlaying);break;case"polarDomain":if("expression"!==o.type)continue;_.setPolarDomainMin(o,m.default(t.polarDomain.min)),_.setPolarDomainMax(o,m.default(t.polarDomain.max));break;case"parametricDomain":if("expression"!==o.type)continue;_.setParametricDomainMin(o,m.default(t.parametricDomain.min)),_.setParametricDomainMax(o,m.default(t.parametricDomain.max));break;case"hidden":this._setItemHidden(e,t.hidden);break;case"secret":O.setSecret(o,t.secret);break;case"color":if("expression"!==o.type)continue;_.setColor(o,t.color);break;case"dragMode":if("expression"!==o.type)continue;_.setDragMode(o,t.dragMode);break;case"label":if("expression"!==o.type)continue;_.setLabel(o,t.label);break;case"showLabel":if("expression"!==o.type)continue;_.setShowLabel(o,t.showLabel);break;case"labelSize":if("expression"!==o.type)continue;_.setLabelSize(o,t.labelSize);break;case"labelOrientation":if("expression"!==o.type)continue;_.setLabelOrientation(o,t.labelOrientation);break;case"latex":if("expression"!==o.type)continue;_.setLatex(o,t.latex);break;case"points":if("expression"!==o.type)continue;_.setPoints(o,!!t.points);break;case"lines":if("expression"!==o.type)continue;_.setLines(o,!!t.lines);break;case"pointStyle":if("expression"!==o.type)continue;_.setPointStyle(o,t.pointStyle);break;case"pointSize":if("expression"!==o.type)continue;_.setPointSize(o,t.pointSize);break;case"pointOpacity":if("expression"!==o.type)continue;_.setPointOpacity(o,t.pointOpacity);break;case"lineStyle":if("expression"!==o.type)continue;_.setLineStyle(o,t.lineStyle);break;case"lineWidth":if("expression"!==o.type)continue;_.setLineWidth(o,t.lineWidth);break;case"lineOpacity":if("expression"!==o.type)continue;_.setLineOpacity(o,t.lineOpacity);break;case"fill":if("expression"!==o.type)continue;_.setFill(o,t.fill);break;case"fillOpacity":if("expression"!==o.type)continue;_.setFillOpacity(o,t.fillOpacity);break;case"id":case"type":case"domain":break;default:throw new Error("trying to call setProperty for: "+i)}}},Q.prototype._isParentFolderHidden=function(e){return!!(e=this.getItemModel(e))&&(!!(e=A.getParentFolderModel(e))&&e.hidden)},Q.prototype._toggleItemHidden=function(e){if(this._isParentFolderHidden(e))this._setItemHidden(e,!1);else{var t=this.getItemModel(e);if(t)switch(t.type){case"expression":case"image":case"folder":this._setItemHidden(e,!t.hidden);break;case"table":case"text":break;default:return t}}},Q.prototype._toggleTableColumnHidden=function(e,t){var r;this._isParentFolderHidden(e)?this._setTableColumnHidden(e,t,!1):!(r=this.getItemModel(e))||"table"!==r.type||(r=I.getColumnModel(r,t))&&this._setTableColumnHidden(e,t,!r.hidden)},Q.prototype._setTableColumnHidden=function(e,t,r){var n,o=this.getItemModel(e);o&&"table"===o.type&&(n=I.shouldHideColumn(o,t),!r&&this._isParentFolderHidden(e)&&this._setItemHidden(o.folderId,!1),I.setColumnHidden(o,t,r),!r&&n&&I.setColumnPoints(o,t,!0))},Q.prototype._setItemHidden=function(e,t){var r=this.getItemModel(e);if(r)switch(!t&&"folder"!==r.type&&this._isParentFolderHidden(r.id)&&this._setItemHidden(r.folderId,!1),r.type){case"expression":_.setHidden(r,t);break;case"folder":L.setHidden(r,t);break;case"image":M.setHidden(r,t);break;case"table":case"text":break;default:return r}},Q.prototype._addItemToEndFromAPI=function(e){var t=A.getLastSelectableItem(this.listModel);!e.secret&&t&&"expression"===t.type&&""===t.latex&&A.removeItemAtIndex(this.listModel,t.index),A.insertItemAtEnd(this.listModel,e)},Q.prototype.copyExpressionToIndex=function(e,t,r){var o,i=this,a={stripDefaults:!1};switch(e.type){case"expression":o=_.getState(e,a);break;case"table":(o=I.getState(e,a)).columns&&o.columns.forEach(function(e){e.id=i.generateId()});break;case"image":o=M.getState(e,a);break;case"text":o=T.getState(e,a);break;default:return}var s=this.createItemModel(n.__assign(n.__assign({},o),{id:this.generateId()}));this._toplevelInsertItemAt(t,s,!1,r||e.folderId)},Q.prototype._toplevelInsertItemAt=function(e,t,r,n){A.insertItemAtIndex(this.listModel,t,e),n&&O.setFolderId(t,n),r&&P.moveFocusToItem(this,t.id)},Q.prototype._toplevelNewItemAtSelection=function(e,t){var r=this.getSelectedItem();if(r){var n="expression"===r.type&&!r.latex;if(n&&!r.folderId&&("expression"!==e.type||e.latex))return this._toplevelReplaceItemAt(r.index,e,t.shouldFocus);if(n&&r.folderId&&"expression"!==e.type&&"folder"!==e.type)return this._toplevelReplaceItemAt(r.index,e,t.shouldFocus);if("folder"!==r.type&&!r.folderId)return this._toplevelInsertItemAt(r.index+1,e,t.shouldFocus,void 0);if("folder"!==r.type&&r.folderId&&"folder"!==e.type)return this._toplevelInsertItemAt(r.index+1,e,t.shouldFocus,r.folderId);if("folder"===r.type&&!r.collapsed&&"folder"!==e.type)return this._toplevelInsertItemAt(r.index+1,e,t.shouldFocus,r.id)}var o=this.getFirstFullyVisibleItem();for(o&&"folder"===o.type&&(o=this.getItemModelByIndex(o.index+1));o&&"folder"!==o.type&&o.folderId;)o=this.getItemModelByIndex(o.index+1);return r=o?o.index:this.getItemCount(),this._toplevelInsertItemAt(r,e,t.shouldFocus,void 0)},Q.prototype.getFirstFullyVisibleItem=function(){var e=z.getFirstFullyVisibleItemId(this);if(e)return A.getItemById(this.listModel,e)},Q.prototype.find$=function(e){return B(this.rootElt).find(e)},Q.prototype.getExppanelSelectorOrThrow=function(){var e=z.getExppanelElt(this);if(e)return B(e);throw new Error("expected to find $exppanel but could not")},Q.prototype.scrollItemIntoView=function(e){if(this.rootElt&&this.isListVisible()){var t=this.getItemSelectorById(e.id),r=z.getExppanelSelector(this);if(t&&r){if("table"===e.type&&1===(e=t.find(".dcg-row .dcg-selected")).length)return void o.scrollVisible(e,r,60);o.scrollVisible(t,r,90)}}},Q.prototype.scrollSelectedItemIntoView=function(){var e=this.getSelectedItem();e&&this.scrollItemIntoView(e)},Q.prototype._pasteTable=function(e){var t,r,n,o=this;this.grapher&&(n=A.findAvailableColumnSubscript(this.listModel),t=I.makeTableState(n,e,this),r=this.createItemModel(t),this._toplevelNewItemAtSelection(r,{shouldFocus:!0}),this._closeAddExpression(),t=(n=this.grapher.getProjection()).viewport,r=c.map(e[0],function(e){return parseFloat(e)}),e=c.map(e[1],function(e){return parseFloat(e)}),e={xmin:c.min(r),xmax:c.max(r),ymin:c.min(e),ymax:c.max(e),type:"table"},isFinite(e.xmin)&&isFinite(e.xmax)&&isFinite(e.ymin)&&isFinite(e.ymax)&&(e.xmax>t.xmax||e.xmin<t.xmin||e.ymax>t.ymax||e.ymin<t.ymin)&&(n=F.getRecommendedViewportForExpression([e],n))&&(n=new v.Viewport(n.xmin,n.xmax,n.ymin,n.ymax),this.grapher.viewportController.setViewport(n),this._showToast({message:this.s("graphing-calculator-text-toast-zoom-to-fit"),undoCallback:function(){o.dispatch({type:"undo"})}})))},Q.prototype._insertSeveralExpressions=function(e){for(var t=0;t<e.length;t++){var r=this.createItemModel(e[t]);this._toplevelNewItemAtSelection(r,{shouldFocus:!0})}},Q.prototype._appendNumberList=function(e){var t=this.getSelectedItem();if(t&&"expression"===t.type){var r=t.latex;e=this.createItemModel({type:"expression",id:this.generateId(),latex:r+e});return this._toplevelReplaceItemAt(t.index,e,!0)}},Q.prototype._openOnWeb=function(){var e=this;this.runAfterDispatch(function(){var t,r,n;e.grapher&&(r=JSON.stringify(e.getState()),n=e.grapher.screenshot({width:100,height:100}),t=(e.getGraphSettings().config.crossOriginSaveTest?"/":"https://www.desmos.com/")+"api/v1/calculator/cross_origin_save",r=B('<input type="text" name="calc_state" />').val(r),n=B('<input type="text" name="thumb_data" />').val(n),n=B('<form target="_blank" method="POST" style="display:none;"></form>').attr("action",t).append(B('<input type="text" name="is_open_on_web" value="true" />')).append(B('<input type="text" name="my_graphs" value="false" />')).append(B('<input type="text" name="is_update" value="false" />')).append(r).append(n),B(e.rootElt).append(n),n.trigger("submit").remove())})},Q.prototype.notifyBugsnagAboutMissingSelectedItem=function(e,t){var r=A.getSelected(this.listModel),n="";try{n=r?JSON.stringify(r.cachedUndoRedoFullState,null,2):"undefined"}catch(e){n="[[could not stringify]]"}var o,i="";try{i=r?(o={id:r.id,index:r.index,displayIndex:r.index,secretIndex:r.secretIndex,guid:r.guid,renderShell:r.renderShell,isHiddenFromUI:r.isHiddenFromUI,hasDCGView:!!r.dcgView,cachedRenderHeight:r.cachedRenderHeight},JSON.stringify(o,null,2)):"undefined"}catch(e){i="[[could not stringify]]"}var a="";try{a=JSON.stringify(A.getUndoRedoFullState(this.listModel),null,2)}catch(e){a="[[could not stringify]]"}j.notify("ReplaceItemAtError: no item at index",{metaData:{index:e,shouldFocus:t,selectedModelJSON:i,selectedItemJSON:n,listStateJSON:a}})},Q.prototype._toplevelReplaceItemAt=function(e,t,r){var n=t;(t=this.getItemModelByIndex(e))||this.notifyBugsnagAboutMissingSelectedItem(e,r),t="folder"!==t.type&&t.folderId,A.removeItemAtIndex(this.listModel,e),A.insertItemAtIndex(this.listModel,n,e),t&&O.setFolderId(n,t),r&&P.moveFocusToItem(this,n.id)},Q.prototype.convertImageToDraggable=function(e){var t,r,n,o=this.getItemModel(e);o&&"image"===o.type&&(t=o.folderId,r=o.index+1,n=o.center,e=A.findAvailableColumnSubscript(this.listModel),e=s.identifierToLatex("C_"+e),n=this.createItemModel({id:this.generateId(),type:"expression",latex:e+"="+n,dragMode:p.DragMode.XY,hidden:!0}),A.insertItemAtIndex(this.listModel,n,r),t&&O.setFolderId(n,t),M.setMQAttribute(o,"center",e),M.setDraggable(o,!0),M.setForeground(o,!0),this.listModel.openItemMenu=void 0)},Q.prototype.createSlidersForItem=function(e,t){var r=this.getItemModel(e);if(r)return e="folder"!==r.type&&r.folderId,this.createSliders({model:r,folderId:e,index:r.index+1},t)},Q.prototype.createSlidersForTicker=function(e){return this.createSliders({model:this.listModel.ticker,folderId:!1,index:0,doNotChangeFocus:!0},e)},Q.prototype.createSliders=function(e,t){var r=this,n=e.model,o=e.folderId,i=e.index,a=(e=e.doNotChangeFocus,[]);"ticker"===n.type?C.eachLatex(n,function(e,t){a.push({latex:e,location:t})}):A.eachLatexForItem(n,function(e,t){a.push({latex:e,location:t})});for(var c=w.computeDefaults(a,t,{degreeMode:this.graphSettings.degreeMode}),l=n.formula?n.formula.action_value:void 0,u=t.map(function(e){var t=c[e],n="1";return t&&void 0!==t.value&&(n=t.value),n=""===e?"":l&&l.hasOwnProperty(e)?l[e]:s.identifierToLatex(e)+"="+n,n={type:"expression",id:r.generateId(),latex:n,color:r.getNextColor(),hidden:!!n},t&&(void 0!==t.min&&(n.slider||(n.slider={}),n.slider.hardMin=!0,n.slider.min=t.min),void 0!==t.max&&(n.slider||(n.slider={}),n.slider.hardMax=!0,n.slider.max=t.max),void 0!==t.step&&(n.slider||(n.slider={}),n.slider.step=t.step)),n}),d=u.length-1;0<=d;d--){var p=this.createItemModel(u[d]);A.insertItemAtIndex(this.listModel,p,i),o&&O.setFolderId(p,o)}e||(""===(e=u[u.length-1]).latex?P.moveFocusToItem(this,e.id):P.setFocusLocation(this,void 0))},Q.prototype._uploadImagesAndWaitForThemToLoad=function(e){var t=this,r=e.files;e=e.id;if(r&&0!==r.length)if(e&&1<r.length)this._showToast({message:this.s("graphing-calculator-text-toast-choose-one-file")});else{(e=(r=M.uploadImages({controller:this,files:r,id:e})).errors[0])&&this._showToast({message:e});for(var n=0,o=r.tokens;n<o.length;n++){var i=o[n];this.__pendingImageUploads[i]=!0}this.isUploadingImages()&&this._showToast({message:this.s("graphing-calculator-text-toast-uploading-images"),onHide:function(){t._clearPendingImageUploads()}})}else this._showToast({message:this.s("graphing-calculator-text-toast-no-file-selected")})},Q.prototype.getImageToRetry=function(){for(var e,t=0,r=this.getAllItemModels();t<r.length;t++){var n=r[t];"image"===n.type&&"failed"===n.loadStatus&&(!e||e.failures>n.failures)&&(e=n)}return e},Q.prototype.retryLoadingFailedImage=function(e){var t=Date.now(),r=t-this.imageRetryState.lastAttemptTime,n=1e3*Math.pow(2,this.imageRetryState.attempts);0<this.imageRetryState.attempts&&r<n||(M.retryLoading(e),this.imageRetryState={lastAttemptTime:t,attempts:this.imageRetryState.attempts+1})},Q.prototype.getSelectedItem=function(){return A.getSelected(this.listModel)},Q.prototype.getOpenItemMenu=function(){return this.listModel.openItemMenu},Q.prototype.isItemSettingsMenuOpen=function(e){var t=this.listModel.openItemMenu;return!!t&&t.guid===e},Q.prototype.closeItemSettingsMenu=function(){var e=this.getOpenItemMenu();void 0!==e&&(e.focusFirstOption&&(void 0!==e.previousFocusLocation?P.setFocusLocation(this,e.previousFocusLocation):this.focusOpenMenuIcon()),this.listModel.openItemMenu=void 0)},Q.prototype.focusOpenMenuIcon=function(){var e=this.getOpenItemMenu();e&&("slider"===e.type?this.dispatch({type:"set-focus-location",location:{type:"slider-animation-properties-icon",id:e.model.id}}):"image"===e.type?this.dispatch({type:"set-focus-location",location:{type:"image-icon",id:e.model.id}}):"table-column"===e.type?this.dispatch({type:"set-focus-location",location:{type:"table-icon",id:e.model.table.id,columnId:e.model.id}}):this.dispatch({type:"set-focus-location",location:{type:"expression-icon",id:e.model.id}}))},Q.prototype.getFocusedItem=function(){return P.getFocusedItem(this)},Q.prototype.getFocusLocation=function(){return this.focusLocation},Q.prototype.isFocusLocationFocused=function(e){var t=this.focusLocation;return!(!t||!e)&&c.isEqual(t,e)},Q.prototype.isCurrentFocusLocationValid=function(){var e,t=this.focusLocation;if(!t)return!0;if("settings"===t.type)return"icon"===t.location||this.isGraphSettingsOpen();if("add-item-btn"===t.type||"edit-list-toggle"===t.type||"hide-expression-list-btn"===t.type||"show-expression-list-btn"===t.type)return this.isListEnabled();if("add-expression-btn"===t.type||"add-table-btn"===t.type)return this.layoutModel.addExpressionOpen;if("add-note-btn"===t.type)return this.layoutModel.addExpressionOpen&&this.areNotesEnabled();if("add-folder-btn"===t.type)return this.layoutModel.addExpressionOpen&&this.areFoldersEnabled();if("add-ticker-btn"===t.type)return this.layoutModel.addExpressionOpen&&this.areActionsEnabled();if("add-image-btn"===t.type)return this.layoutModel.addExpressionOpen&&this.areImagesEnabled();if("search-expressions"===t.type||"replace-expressions"===t.type)return this.expressionSearchOpen;if("ticker"===t.type)return this.listModel.ticker.open;if("regression-output"===t.type)return""!==t.parameter;if(!(e=(o=this.getOpenItemMenu())&&"table-column"===o.type?o.model.table:this.getItemModel(t.id)))return!1;if("change-image-btn"===t.type)return this.listModel&&"image"===e.type&&this.areImagesEnabled();if("expression-menu"===t.type){if("start"===t.location||"end"===t.location||"updaterule"===t.location||"anywhere"===t.location)return!0;if("table"===e.type)return!0;if("expression"!==e.type)return!1;var r=e.points,n=e.lines,o=e.fill;return _.isInequality(e)&&(o=!0),!!((o=x.getReconciledExpressionProps(e.formula.expression_type,{points:r,lines:n,fill:o})).fill||o.points||o.lines||e.showLabel)}if(!this.isItemSelected(t.id)&&"editable-label"!==t.type)return!1;switch(t.type){case"domain-limit":return"expression"===e.type&&!!_.hasDomain(e);case"expression-icon":return!0;case"image-icon":return"image"===e.type&&"loading"!==e.loadStatus&&"failed"!==e.loadStatus&&!e.error;case"action-icon":return"expression"===e.type&&!!_.isNonemptyAction(e);case"slider-icon":case"slider-animation-properties-icon":case"slider-thumb":case"slider-limit":return"expression"===e.type&&!!_.hasSlider(e);case"table-icon":return"table"===e.type&&this.getGraphSettings().config.graphpaper;case"visualization-prop":return"expression"===e.type&&!!_.isVisualization(e);case"distribution-param":if("expression"!==e.type)return!1;var i=_.parseToplevelFunction(e);return!!i&&t.location in i.values;case"cdf-limit":return"expression"===e.type&&_.shouldShowCDFFooter(e);case"image":return"image"===e.type;case"folder":return"folder"===e.type;case"text":return"text"===e.type;case"expression":return"expression"===e.type&&!this.isInEditListMode();case"readonly-expression":return"expression"===e.type&&this.isInEditListMode();case"braille-output":return"expression"===e.type&&"none"!==this.getBrailleMode();case"table":return"table"===e.type&&!!I.doesCellExist(e,t.location);case"table-container":return"table"===e.type&&this.isInEditListMode();case"editable-label":return"expression"===e.type&&_.hasEditableLabel(e);default:return t}},Q.prototype.isDragDropActive=function(){return!!this.listModel.dragState},Q.prototype.isItemBeingDragged=function(e){var t=this.listModel.dragState;return!(!t||t.firstItemId!==e)},Q.prototype.getDraggedItemId=function(){var e=this.listModel.dragState;return e&&e.firstItemId},Q.prototype.getRawDragState=function(){return this.listModel.dragState},Q.prototype.initStateStack=function(){this.stateStack=new y.default,this.stateStack.addState({diffState:this.getUndoRedoDiffState(),fullState:this.getUndoRedoFullState()})},Q.prototype.getUndoRedoDiffState=function(){return{randomSeed:this.getRandomSeed(),layoutModel:this.layoutModel,settingsViewModel:this.settingsViewModel,graph:this.grapher?this.grapher.getUndoRedoState():void 0,expressions:A.getUndoRedoDiffState(this.listModel),wasCompleteSetState:this.isCurrentlyDoingSetState}},Q.prototype.getUndoRedoFullState=function(){return{randomSeed:this.getRandomSeed(),layoutModel:this.layoutModel,settingsViewModel:this.settingsViewModel,graph:this.grapher?this.grapher.getUndoRedoState():void 0,expressions:A.getUndoRedoFullState(this.listModel),wasCompleteSetState:this.isCurrentlyDoingSetState}},Q.prototype.getState=function(e){var t={stripDefaults:!0};e&&e.hasOwnProperty("stripDefaults")&&(t.stripDefaults=!!e.stripDefaults);var r=this.grapher?this.grapher.getState(t):n.__assign(n.__assign({},this.getBlankState().graph),{degreeMode:this.graphSettings.degreeMode});t={version:b.currentVersion,randomSeed:this.getRandomSeed(),graph:r,expressions:A.getState(this.listModel,t)};return e&&e.avoidBackMigration?g.default(t):b.migrateToPersisted(g.default(t))},Q.prototype.getBlankState=function(){return this.graphSettings.config.clearIntoDegreeMode?n.__assign(n.__assign({},U.default),{graph:n.__assign(n.__assign({},U.default.graph),{degreeMode:!0})}):U.default},Q.prototype.externalSetState=function(e,t){this._clearPendingImageUploads(),this.rootElt&&B(document.activeElement).closest(this.rootElt).length&&B(document.activeElement).trigger("blur"),t=t||{},"string"==typeof(e=e||this.getBlankState())&&(e=JSON.parse(e)),e=e&&b.migrateToLatest(e);var r=this.layoutModel;this.setState(e,t),A.clearAnyItemIsAction(this.listModel),A.recomputeAnyItemIsAction(this.listModel),this.layoutModel=n.__assign(n.__assign({},q.defaultLayoutModel(this.graphSettings.config)),{keypadMinimized:r.keypadMinimized,keypadLayout:r.keypadLayout,keypadFunctionsOpen:r.keypadFunctionsOpen,expressionsVisible:!!this.graphSettings.config.expressions&&(this.isListVisible()||!!t.forceExpressionsOpen)}),this.settingsViewModel=R.defaultSettingsViewModel(),P.setFocusLocation(this,void 0),t.forceUnsavedChanges?this.enqueueEvent("change"):this.enqueueEvent("clearUnsavedChanges")},Q.prototype.setState=function(e,t){var r;this.isCurrentlyDoingSetState=!0,"graph"in e&&(this.grapher?this.grapher.setGrapherState(e.graph):i.Grapher.copyGraphProperties(e.graph,this.graphSettings)),"expressions"in e&&(A.setSelected(this.listModel,void 0),(r=A.getLargestIntegerId(e.expressions))>=this.__nextItemId&&(this.__nextItemId=r+1),A.setListState(this.listModel,e.expressions,t||{})),e.layoutModel&&(this.layoutModel=e.layoutModel),e.settingsViewModel&&(this.settingsViewModel=e.settingsViewModel),t&&t.allowUndo||this.clearUndoRedoHistory(),this.setRandomSeed(e.randomSeed||K.default())},Q.prototype.updateToState=function(e){this.isCurrentlyDoingRestoreState=!0,"graph"in e&&this.grapher&&this.grapher.setGrapherState(e.graph,{doNotClear:!0}),"expressions"in e&&A.restoreListState(this.listModel,e.expressions),e.layoutModel&&(this.layoutModel=e.layoutModel),e.settingsViewModel&&(this.settingsViewModel=e.settingsViewModel)},Q.prototype.commitUndoRedoSynchronously=function(e){var t=(n=this.stateStack.getState())&&n.diffState,r=this.getUndoRedoDiffState(),n=r;c.isEqual(J(t),J(n))||(r={diffState:r,fullState:this.getUndoRedoFullState()},function(e){var t;switch(e.type){case"tick":case"tick-ticker":return;case"on-evaluator-changes":return null!==(t=e.eventUpdates)&&void 0!==t&&t.userAction;default:return 1}}(e)?(this.stateStack.addState(r),this.enqueueEvent("change")):this.stateStack.replaceInteriorState(r))},Q.prototype.undo=function(){var e;this.canUndo()&&(this.closeToast(),this.stateStack.undo(),(e=this.stateStack.getState().fullState).wasCompleteSetState?this.setState(e,{allowUndo:!0}):this.updateToState(e),this.enqueueEvent("change"))},Q.prototype.redo=function(){var e;this.canRedo()&&(this.stateStack.redo(),(e=this.stateStack.getState().fullState).wasCompleteSetState?this.setState(e,{allowUndo:!0}):this.updateToState(e),this.enqueueEvent("change"))},Q.prototype.clearUndoRedoHistory=function(){this.stateStack.clear()},Q.prototype.canUndo=function(){return this.stateStack.canUndo()},Q.prototype.canRedo=function(){return this.stateStack.canRedo()},Q.prototype.closeToast=function(){var e=this.toastData.onHide;e&&this.runAfterDispatch(e),this.toastData={}},Q.prototype._closeAddExpression=function(){this.layoutModel=n.__assign(n.__assign({},this.layoutModel),{addExpressionOpen:!1})},Q.prototype.doesDOMHaveSize=function(){return 0<this.layoutMeasurements.width&&0<this.layoutMeasurements.height},Q.prototype._getExpListWidth=function(){if(void 0!==this.userSpecifiedExpListWidth)t=Math.max(280,Math.min(this.layoutMeasurements.width-200,this.userSpecifiedExpListWidth));else{if(!(t=this.layoutMeasurements.width))return 356;var e=.2*t+160,t=Math.min(500,Math.max(280,e))}return e=this.layoutMeasurements.width-this.layoutMeasurements.height,Math.abs(e-t)<=10?e:t},Q.prototype._setExpListWidth=function(e){this.userSpecifiedExpListWidth!==e&&(this.userSpecifiedExpListWidth=e)},Q.prototype.getKeypadHeight=function(){return this.computeMajorLayout().keypad.height},Q.prototype.isKeypadEnabled=function(){return!!this.graphSettings.config.keypad},Q.prototype.isKeypadOpen=function(){if(!this.isKeypadEnabled())return!1;var e=this.layoutModel.keypadMinimized&&!this.isNarrow();return this.needsFakeKeypad()&&!e},Q.prototype.isKeypadFunctionsPopoverOpen=function(){return!!this.layoutModel.keypadFunctionsOpen},Q.prototype.getKeypadLayout=function(){return this.layoutModel.keypadLayout},Q.prototype.isLetterKeypadOpen=function(){var e=this.getKeypadLayout();return this.isKeypadOpen()&&("letters"===e||"noQwertyLetters"===e||"capitalLetters"===e||"noQwertyCapitalLetters"===e)},Q.prototype.isFileDraggedOver=function(){return this.layoutModel.isFileDraggedOver},Q.prototype.computeMajorLayout=function(){var e=this.layoutMeasurements.width,t=this.layoutMeasurements.height,r=this.isNarrow(),n=this.isListVisible(),o=this.isKeypadOpen(),i=!this.isGrapherEnabled(),a=!this.isListEnabled(),s={left:0,top:0,width:0,height:0},c={left:0,top:0,width:0,height:0},l={left:0,top:t,width:e,height:this.getGraphSettings().config.projectorMode?r?185:193:169};return a?(c.width=e,c.height=t):i?(s.width=e,s.height=t):n?r?(s.width=e,s.height=Math.round(.58*t),s.top=t-s.height,c.width=e,c.height=t-s.height):(s.width=this.getExpListWidth(),s.height=t,c.left=s.width,c.width=e-c.left,c.height=t):n||(r?(s.width=e,s.height=Math.round(.58*t),s.top=t):(s.width=this.getExpListWidth(),s.height=t,s.left=-s.width),c.width=e,c.height=t),o&&(l.top-=l.height,a||(s.height-=l.height)),{list:s,grapher:c,keypad:l}},Q.prototype.isNarrow=function(){return this.layoutMeasurements.width<450},Q.prototype.getLayoutMeasurements=function(){return this.layoutMeasurements},Q.prototype.getCapExpressionSize=function(){return!!this.getGraphSettings().config.capExpressionSize},Q.prototype.handleAudioTraceCommand=function(e){var t=this.getAudioGraph();if(void 0!==t){var r=t.agNavigator;switch(e){case"on":this.runAfterDispatch(function(){t.enterAudioTrace({fromKeypad:!0})});break;case"off":this.runAfterDispatch(function(){t.exitAudioTrace()});break;case"hear-graph":t.hearGraph();break;case"stop-graph":t.stopGraph();break;case"volume-down":t.adjustVolume("down");break;case"volume-up":t.adjustVolume("up");break;case"speed-down":t.speedDown();break;case"speed-up":t.speedUp();break;case"previous-point":this.runAfterDispatch(function(){t.reportAndMoveToPrevPoint()});break;case"next-point":this.runAfterDispatch(function(){t.reportAndMoveToNextPoint()});break;case"previous-poi":this.runAfterDispatch(function(){t.reportAndMoveToPrevPOI()});break;case"next-poi":this.runAfterDispatch(function(){t.reportAndMoveToNextPOI()});break;case"previous-curve":this.runAfterDispatch(function(){r.prevCurve()});break;case"next-curve":this.runAfterDispatch(function(){r.nextCurve()});break;case"describe-point":t.describePoint();break;case"describe-curve":t.describeCurve();break;case"describe-axes":t.describeAxes();break;case"keyboard-shortcuts":this.enqueueEvent("showHotkeysModal");break;default:return e}}},Q.prototype.setAudioTraceSpeed=function(e){var t=this.getAudioGraph();t&&t.adjustPlaybackSpeed(e)},Q.prototype.focusGraphPaper=function(){this.find$(".dcg-graph-outer").trigger("focus")},Q.prototype.setCanShowKeyboardShortcuts=function(e){this.canShowKeyboardShortcuts=e},Q.prototype.getCanShowKeyboardShortcuts=function(){return this.canShowKeyboardShortcuts},Q);function Q(e){var t=this;this.__nextItemId=0,this.__pendingImageUploads={},this.nextSubscription=0,this.subscriptions={},this._queuedCallbacks=[],this._hasUnsavedChanges=!1,this.shouldScrollSelectedItemIntoViewAfterDispatch=!1,this.lastParsableObjects={},this.isExpressionSearchStrValidForReplace=!1,this.isExpressionReplaceStrValidForReplace=!1,this.expressionSearchCount=0,this.expressionSearchOpen=!1,this.canShowKeyboardShortcuts=!1,this.toastData={},this.s=l.createDictionaryLookupFunction(function(){return t.graphSettings.config.language}),this.raw=function(e,t){return l.raw(e,t)},this.hasTranslation=function(e){var r=t.graphSettings.config.language;return l.hasTranslation(e,r)},this.unpack=function(e){var r=t.graphSettings.config.language;return l.unpack(e,r)},this.dispatch=function(e){var r;if("blur-focus-location"===e.type&&t.dispatcher.isDispatching())t.runAfterDispatch(function(){t.dispatch(e)});else if("set-focus-location"===e.type&&t.dispatcher.isDispatching())t.runAfterDispatch(function(){t.dispatch(e)});else if("tick"===e.type&&t.dispatcher.isDispatching())t.runAfterDispatch(function(){t.dispatch(e)});else for("tick"===e.type||j.leaveBreadcrumb("dispatch::"+t.bugsnagContext,{type:e.type}),t.dispatcher.isDispatching()&&j.leaveBreadcrumb("dispatch-in-dispatch::"+t.bugsnagContext,{type:e.type}),t.dispatcher.dispatch(e),t.onEventsEmitted&&t.onEventsEmitted(t.enqueuedEvents);r=t._queuedCallbacks.shift();)r()},this._requiresTickNextFrame=!1,this.updateViews=function(){for(var e in t.subscriptions)t.subscriptions[e]()},this.bugsnagContext="",this.inPrintMode=!1,this.lastInfiniteScrollFirstDOM=void 0,this.lastInfiniteScrollLastDOM=void 0,this.hasDispatchSinceLastInfiniteScrollUpdate=!1,this.stateStack=new y.default,this.isCurrentlyDoingSetState=!1,this.isCurrentlyDoingRestoreState=!1,this.graphSettings=e,this.listModel=A.init(this),this.layoutModel=q.defaultLayoutModel(this.graphSettings.config),this.layoutMeasurements={width:0,height:0},this.settingsViewModel=R.defaultSettingsViewModel(),this.imageRetryState={lastAttemptTime:0,attempts:0},this.setupDispatcher()}function J(e){return e&&n.__assign(n.__assign({},e),{wasCompleteSetState:void 0,layoutModel:void 0,settingsViewModel:void 0})}t.default=X}),define("main/instancehotkeys",["require","exports","keys","lib/aria","jquery","graphing-calc/models/expression","browser","touchtracking","dcgview-helpers/mathquill-view"],function(e,t,r,n,o,i,a,s,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=(u.prototype.handleKeydown=function(e){var t,l,u,d=this,p=r.lookupChar(e);if(r.isUndo(e))e.stopPropagation(),e.preventDefault(),this.controller.hasVisibleAndUndoableToast()?this.controller.toastUndo():this.controller.dispatch({type:"undo"});else if(r.isRedo(e))e.stopPropagation(),e.preventDefault(),this.controller.dispatch({type:"redo"});else if(!e.ctrlKey&&!e.metaKey||e.ctrlKey&&e.metaKey||e.altKey||"F"!==p)!e.altKey&&!e.metaKey||e.ctrlKey||e.shiftKey||void 0!==p?e.shiftKey&&(e.altKey||e.metaKey)&&!e.ctrlKey?r.lookup(e)===r.UP?(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-all-folders-collapsed",isCollapsed:!0}),n.alert(this.controller.s("graphing-calculator-narration-all-folders-collapsed"))):r.lookup(e)===r.DOWN?(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-all-folders-collapsed",isCollapsed:!1}),n.alert(this.controller.s("graphing-calculator-narration-all-folders-expanded"))):"E"===p&&this.controller.isListEnabled()&&(this.controller.isListVisible()?(this.controller.dispatch({type:"hide-expressions-list",focusShowIcon:!1}),n.alert(this.controller.s("graphing-calculator-narration-hide-expression-list"))):(this.controller.dispatch({type:"show-expressions-list",focusHideIcon:!1}),this.focusExpressionList(this.controller.s("graphing-calculator-narration-show-expression-list"))),e.preventDefault(),e.stopPropagation()):e.ctrlKey&&(e.altKey||e.metaKey)&&!e.shiftKey?"E"===p?this.controller.isListEnabled()&&(e.preventDefault(),e.stopPropagation(),this.focusExpressionList(this.controller.s("graphing-calculator-narration-expression-list"))):"X"===p?this.controller.isListEnabled()&&(e.preventDefault(),e.stopPropagation(),this.controller.canUserAddExpressions()?(n.alert(this.controller.s("graphing-calculator-narration-add-expression")),this.controller.dispatch({type:"new-expression"})):n.alert(this.controller.s("graphing-calculator-narration-unable-to-add-expression"))):"O"===p?this.controller.isListEnabled()&&(e.preventDefault(),e.stopPropagation(),this.controller.canUserAddExpressions()&&this.controller.areNotesEnabled()?(n.alert(this.controller.s("graphing-calculator-narration-add-note")),this.controller.dispatch({type:"new-text"})):n.alert(this.controller.s("graphing-calculator-narration-unable-to-add-note"))):"F"===p&&this.controller.canUserAddExpressions()&&this.controller.areFoldersEnabled()?(e.preventDefault(),e.stopPropagation(),n.alert(this.controller.s("graphing-calculator-narration-add-folder")),this.controller.dispatch({type:"new-folder"})):"I"===p&&this.controller.canUserAddExpressions()&&this.controller.areImagesEnabled()?(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"toggle-add-expression",focusOnOpen:!1}),this.controller.runAfterDispatch(function(){d.controller.find$(".dcg-add-expression-container input[type=file]").trigger("click"),n.alert(d.controller.s("graphing-calculator-narration-add-image"))})):"T"===p?(e.preventDefault(),e.stopPropagation(),this.controller.canUserAddExpressions()?(n.alert(this.controller.s("graphing-calculator-narration-add-table")),this.controller.dispatch({type:"new-table"})):n.alert(this.controller.s("graphing-calculator-narration-unable-to-add-table"))):"G"===p?(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"toggle-graph-settings",focusOnOpen:!0})):"P"===p?(e.preventDefault(),e.stopPropagation(),0===(t=this.controller.find$(".dcg-tabbable-point, .dcg-tabbable-draggableimage").filter("[tabindex=0]")).length&&(t=this.controller.find$(".dcg-editable-label-border").find('input, textarea, [role="textbox"]')),this.focusElement(t.first(),this.controller.s("graphing-calculator-narration-no-interactive-points"))):"Z"===p?(u=this.controller.getSelectedItem())&&u.id&&this.controller.dispatch({type:"expression-zoom-fit",id:u.id}):"D"===p&&this.controller.canUserAddExpressions()&&(e.preventDefault(),e.stopPropagation(),t=!this.controller.isInEditListMode(),this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:t,focusExpressionList:!0})):(e.altKey||e.metaKey)&&!e.ctrlKey&&e.shiftKey&&"F"===p&&this.controller.isDecimalToFractionEnabled()?(l=this.controller.getSelectedItem())&&"expression"===l.type&&(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"toggle-fraction-evaluation",id:l.id}),this.controller.runAfterDispatch(function(){i.shouldEvaluationDisplayAsFraction(l)?n.alert(d.controller.s("graphing-calculator-narration-show-as-fraction")):n.alert(d.controller.s("graphing-calculator-narration-show-as-decimal"))})):e.altKey||e.ctrlKey||e.metaKey||e.shiftKey?e.metaKey||e.shiftKey||e.ctrlKey!==a.IS_APPLE||e.altKey!==!a.IS_APPLE||("N"===p?this.controller.getBrailleControls()&&(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-braille-mode",mode:"nemeth"}),n.alert(this.controller.s("shared-calculator-narration-braille-mode-nemeth"))):"U"===p?this.controller.getBrailleControls()&&(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-braille-mode",mode:"ueb"}),n.alert(this.controller.s("shared-calculator-narration-braille-mode-ueb"))):"Q"===p||"X"===p?this.controller.getBrailleControls()&&(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-braille-mode",mode:"none"}),n.alert(this.controller.s("shared-calculator-narration-braille-mode-off"))):"6"===p&&this.controller.getBrailleControls()&&(e.preventDefault(),e.stopPropagation(),p=!this.controller.getSixKeyInput(),this.controller.dispatch({type:"set-six-key-input",useSixKeyInput:p}),n.alert(p?this.controller.s("shared-calculator-narration-six-key-mode-on"):this.controller.s("shared-calculator-narration-six-key-mode-off")))):r.lookup(e)===r.BACKSPACE?document.activeElement&&s.elIsFocusable(o(document.activeElement))||e.preventDefault():r.lookup(e)===r.ESCAPE&&this.controller.isInEditListMode()&&0===this.controller.find$(".dcg-options-menu").length&&(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:!1,focusExpressionList:!0})):r.lookup(e)===r.UP?(u=this.controller.getSelectedItem())&&"folder"===u.type&&(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-folder-collapsed",id:u.id,isCollapsed:!0}),n.alert(this.controller.s("graphing-calculator-narration-folder-collapsed"))):r.lookup(e)===r.DOWN&&(u=this.controller.getSelectedItem())&&"folder"===u.type&&(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-folder-collapsed",id:u.id,isCollapsed:!1}),n.alert(this.controller.s("graphing-calculator-narration-folder-expanded")));else if(this.controller.isExpressionListFocused()){var h=c.default.getFocusedMathquill(),f="";try{f=h.__controller.cursor.selection.join("latex")||""}catch(e){}this.controller.dispatch({type:"open-expression-search",rename:!!e.shiftKey,latex:f}),e.preventDefault(),e.stopPropagation()}},u.prototype.focusExpressionList=function(e){var t=this.controller.getSelectedItem();(t=t||this.controller.getItemModelByIndex(0))?(n.alert(e),this.controller.dispatch({type:"move-focus-to-item",id:t.id})):n.alert(this.controller.s("graphing-calculator-narration-unable-to-focus-expression-list"))},u.prototype.focusElement=function(e,t){e.length?e.trigger("focus"):t&&n.alert(t)},u);function u(e){this.controller=e}t.default=l}),define("lib/defocus-mobile",["require","exports","jquery","touchtracking"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e;document.activeElement&&(e=r(document.activeElement),n.elIsFocusable(e)&&r("<input />").prependTo("body").trigger("focus").attr({readonly:"readonly",disabled:"true"}).trigger("blur").remove())}}),define("ipad.scrollfix",["require","jquery"],function(e){function t(e){n||r(e).bind("touchstart",function(e){var t=r(e.target),n=0,o=null;if(!t.closest("[disablescroll]").length)for(;0===n&&t.length&&void 0!==t[0].tagName;){var i=t.css("overflow"),a=t.css("overflow-y");"hidden"!==i&&"visible"!==i&&"hidden"!==a&&"hidden"!==a&&(0!==(a=t.scrollTop())&&(n=2),t.scrollTop(a+1),t.scrollTop()!==a&&(n|=1,t.scrollTop(a))),t=t.parent()}if(0!==n){o=[];for(var s=e.originalEvent.touches,c=0;c<s.length;c++){var l,u={};for(l in s[c])s[c].hasOwnProperty(l)&&(u[l]=s[c][l]);o.push(u)}}r(document).on("touchmove.scrollfix",function(e){var t;o&&(t=o[0],(0<(t=e.originalEvent.touches[0].screenY-t.screenY)&&!(2&n)||t<0&&!(1&n))&&(n=0),t&&(o=null)),0===n&&e.preventDefault()}),r(document).on("touchend.scrollfix",function(){r(document).off(".scrollfix")})})}var r=e("jquery"),n=!1;return{limitScrollOnElement:t,limitScrollOnDocument:function(){t(document),n=!0}}}),define("expressions/abstract-item-view",["require","exports","tslib","jquery","dcgview","jquery.handleevent"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i;i=o.Class,r.__extends(a,i),a.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,this._isFirstRender=!0,this._isDragCopy=this.props.isDragCopy()},a.prototype.onItemViewMounted=function(){this._isDragCopy||(this.model.dcgView=this),this._isFirstRender=!1},a.prototype.onItemViewUnmounted=function(){this._isDragCopy||(this.model.dcgView=void 0)},a.prototype.isFirstRender=function(){return this._isFirstRender},a.prototype.onMouseSelect=function(e){var t;!this.controller.isInEditListMode()||(t=n(e.target)).hasClass("dcg-exp-action-button")||t.hasClass("dcg-icon-duplicate")||t.hasClass("dcg-icon-remove")?"dcg-tap"===e.type&&"mouse"===e.device||"dcg-tapstart"===e.type&&"touch"===e.device||e.wasHandled()||(e.handle(),this.controller.dispatch({type:"set-selected-id",id:this.id})):this.exitEditListMode()},a.prototype.onDelete=function(){this.controller.dispatch({type:"delete-item-and-animate-out",id:this.id,setFocusAfterDelete:!this.controller.isInEditListMode()})},a.prototype.onRenameInItem=function(){this.controller.dispatch({type:"rename-identifier-in-item",search:this.controller.getExpressionSearchStr(),replace:this.controller.getExpressionReplaceStr(),id:this.id})},a.prototype.onRenameInFolder=function(){this.controller.dispatch({type:"rename-identifier-in-folder",search:this.controller.getExpressionSearchStr(),replace:this.controller.getExpressionReplaceStr(),id:this.id})},a.prototype.onDragPending=function(e){this.props.onDragPending(e)},a.prototype.exitEditListMode=function(){this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:!1,focusExpressionList:!0})},r=a;function a(){return null!==i&&i.apply(this,arguments)||this}t.default=r}),define("loadcss!dcgview-helpers/tooltipped-error",function(){}),define("dcgview-helpers/tooltipped-error",["require","exports","tslib","dcgview","../shared-components/tooltip","loadcss!./tooltipped-error"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TooltippedError=void 0;var i;i=n.Class,r.__extends(a,i),a.prototype.template=function(){var e=this;return n.createElement(o.Tooltip,{tooltip:this.props.error,sticky:this.const(!0),gravity:this.props.gravity},n.createElement("div",{class:function(){return{"dcg-tooltipped-error":!0,"dcg-white":e.props.isWhite&&e.props.isWhite(),"dcg-small":e.props.size&&"small"===e.props.size()}}},n.createElement("i",{class:n.const("dcg-icon-error"),"aria-hidden":n.const("true")})))},r=a;function a(){return null!==i&&i.apply(this,arguments)||this}t.TooltippedError=r}),define("loadcss!expressions/circular-icon-view",function(){}),define("expressions/circular-icon-view",["require","exports","tslib","dcgview","expressions/colors","loadcss!./circular-icon-view"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CircularIconView=void 0;var i,a=n.Components.If;i=n.Class,r.__extends(s,i),s.prototype.template=function(){var e=this;return n.createElement("span",{class:function(){var t;return(t={"dcg-do-not-blur":!0,"dcg-circular-icon":!0,"dcg-thick-outline":e.isThickOutline(),"dcg-white-icon":!!e.props.whiteIcon&&e.props.whiteIcon(),"dcg-hidden":e.isHidden(),"dcg-semi-transparent":e.props.semiTransparent&&e.props.semiTransparent(),"dcg-colored-icon":e.isColoredIcon(),"dcg-has-background-image":e.hasBackgroundImage()})[e.iconModifier()]=0<e.iconModifier().length,t},style:this.bindFn(this.getIconStyle)},n.createElement(a,{predicate:this.bindFn(this.hasBackgroundImage)},function(){return n.createElement("span",{class:n.const("dcg-background-image"),style:function(){return{"background-image":e.props.backgroundImage&&e.props.backgroundImage(),opacity:e.props.backgroundOpacity&&e.props.backgroundOpacity()}}})}),n.createElement(a,{predicate:function(){return!!e.backgroundIcon()}},function(){return n.createElement("i",{class:function(){var t;return(t={})[e.backgroundIcon()]=!0,t["dcg-layered-icon"]=!0,t},style:function(){return{opacity:e.backgroundOpacity()}}})}),n.createElement(a,{predicate:function(){return!!e.primaryIcon()}},function(){return n.createElement("i",{class:function(){var t;return(t={})[e.primaryIcon()]=!0,t["dcg-layered-icon"]=!0,t},style:function(){return{color:e.props.foregroundColor&&e.props.foregroundColor()}}})}),n.createElement(a,{predicate:function(){return"loading"===e.props.iconType()}},function(){return n.createElement("span",{class:n.const("dcg-spinner")})}))},s.prototype.isColoredIcon=function(){return!this.isThickOutline()&&!this.isHidden()&&!this.hasBackgroundImage()&&"loading"!==this.props.iconType()},s.prototype.iconModifier=function(){if(!this.props.iconModifier)return"";switch(this.props.iconModifier()){case"medium":return"dcg-modifier-size-medium";case"large":return"dcg-modifier-size-large";case"small":return"dcg-modifier-size-small";case"rotated":return"dcg-modifier-rotated";case"none":return""}},s.prototype.getIconStyle=function(){var e=!this.isHidden()&&this.props.backgroundColor?o.colorValueToBackgroundValue(this.props.backgroundColor()):void 0;return e?{background:e}:{}},s.prototype.isHidden=function(){return"hidden"===this.props.iconType()},s.prototype.isThickOutline=function(){var e=this.props.iconType();return"folder"===e||"pause"===e||"play"===e||"fraction"===e||"action"===e||"metronome"===e},s.prototype.hasBackgroundImage=function(){return!!this.props.backgroundImage&&!this.isHidden()&&!!this.props.backgroundImage()},s.prototype.primaryIcon=function(){var e=this.props.iconType();switch(e){case"folder":return"dcg-icon-folder";case"pause":return"dcg-icon-pause";case"play":return"dcg-icon-play";case"polygon-dashed":case"polygon-dashed-filled":return"dcg-icon-polygon-dashed";case"polygon-dotted":case"polygon-dotted-filled":return"dcg-icon-polygon-dotted";case"polygon-default":case"polygon-default-filled":return"dcg-icon-polygon-solid";case"graph-dashed":case"parametric-dashed-filled":return"dcg-icon-parametric-dashed";case"graph-dotted":case"parametric-dotted-filled":return"dcg-icon-parametric-dotted";case"graph-default":case"parametric-default-filled":return"dcg-icon-parametric-solid";case"movable-vertical":return"dcg-icon-move-vertical";case"movable-both":return"dcg-icon-move";case"movable-horizontal":return"dcg-icon-move-horizontal";case"point-open":return"dcg-icon-open";case"point-cross":return"dcg-icon-cross";case"point-default":return"dcg-icon-point";case"table-points":case"table-points-and-lines":return"dcg-icon-points";case"table-lines":return"dcg-icon-lines-solid";case"shaded-inequality":case"inequality":return"dcg-icon-shaded-inequality-dash";case"check":return"dcg-icon-check";case"none":case"background":case"hidden":case"polygon-none-filled":case"parametric-none-filled":case"loading":return"";case"fraction":return"dcg-icon-fraction";case"boxplot":return"dcg-icon-boxplot";case"dotplot-cross":return"dcg-icon-dotplot-cross";case"dotplot-default":return"dcg-icon-dotplot-default";case"dotplot-open":return"dcg-icon-dotplot-open";case"histogram":return"dcg-icon-histogram";case"unfilled-distribution":case"filled-distribution":return"dcg-icon-distribution";case"action":return"dcg-icon-chevron-right";case"metronome":return"dcg-icon-metronome-2";default:return e}},s.prototype.backgroundOpacity=function(){var e=this.backgroundIcon();return"dcg-icon-polygon-filled"===e||"dcg-icon-parametric-filled"===e||"dcg-icon-shaded-inequality-shade2"===e||"dcg-icon-distribution-fill"===e||"dcg-icon-histogram-fill"===e?.5:1},s.prototype.backgroundIcon=function(){var e=this.props.iconType();return"filled-distribution"===e?"dcg-icon-distribution-fill":"histogram"===e?"dcg-icon-histogram-fill":"polygon-dashed-filled"===e||"polygon-dotted-filled"===e||"polygon-default-filled"===e||"polygon-none-filled"===e?"dcg-icon-polygon-filled":"parametric-dashed-filled"===e||"parametric-dotted-filled"===e||"parametric-default-filled"===e||"parametric-none-filled"===e?"dcg-icon-parametric-filled":"table-points-and-lines"===e?"dcg-icon-lines-solid":"shaded-inequality"===e?"dcg-icon-shaded-inequality-shade2":"action"===e?"dcg-icon-minus":""},r=s;function s(){return null!==i&&i.apply(this,arguments)||this}t.CircularIconView=r}),define("main/manage-focus-helper",["require","exports","underscore"],function(e,t,r){"use strict";function n(e){var t=e.predicate;return!(t&&!t())&&((t=e.controller.getFocusLocation())&&r.isEqual(t,e.location))}function o(e,t){var r=e.predicate;r&&!r()||(t?e.controller.dispatch({type:"set-focus-location",location:e.location}):e.controller.dispatch({type:"blur-focus-location",location:e.location}))}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOnFocusChanged=t.defaultShouldBeFocused=t.manageFocusHelper=void 0,t.manageFocusHelper=function(e){return{shouldBeFocused:function(){return n(e)},onFocusedChanged:function(t){o(e,t)}}},t.defaultShouldBeFocused=n,t.defaultOnFocusChanged=o}),define("loadcss!expressions/play-pause-icon-view",function(){}),define("expressions/play-pause-icon-view",["require","exports","tslib","dcgview","lib/aria","./circular-icon-view","main/manage-focus-helper","graphing-calc/models/expression","core/types/slider-loop-modes","../shared-components/tooltip","jquery.handleevent","loadcss!./play-pause-icon-view"],function(e,t,r,n,o,i,a,s,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayPauseIconView=void 0;var u;u=n.Class,r.__extends(d,u),d.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model()},d.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-play-pause-icon-view")},n.createElement(l.Tooltip,{gravity:this.const("se"),tooltip:function(){return e.controller.s("graphing-calculator-label-slider-disabled-while-ticker-playing")},disabled:function(){return!e.controller.getTickerPlaying()},sticky:this.const(!0)},n.createElement("div",{class:function(){return{"dcg-circular-icon-container":!0,"dcg-disabled":e.controller.getTickerPlaying()}},"aria-label":this.bindFn(this.getAriaLabel),role:n.const("button"),tabindex:n.const("0"),onTap:function(t){t.wasHandled("dragdrop")||e.toggleSliderIsPlaying()},manageFocus:this.const(a.manageFocusHelper({controller:this.controller,location:{type:"slider-icon",id:this.model.id}}))},n.createElement(i.CircularIconView,{iconType:function(){return e.getIconType()},whiteIcon:function(){return!e.controller.isInEditListMode()&&e.controller.isItemSelected(e.model.id)||e.controller.isItemBeingDragged(e.model.id)}}))),n.createElement("div",{class:n.const("dcg-slider-menu-container")},n.createElement(l.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-animation-properties-tooltip")},gravity:this.const("e")},n.createElement("div",{class:function(){return{"dcg-slider-menu-opener":!0,"dcg-menu-open":e.myOptionsOpen()}},tabindex:n.const(0),"dcg-open-menu-guid":function(){return e.getMenuGUID()},role:n.const("button"),"aria-label":function(){return e.myOptionsOpen()?e.controller.s("graphing-calculator-narration-hide-animation-properties"):e.controller.s("graphing-calculator-narration-show-animation-properties")},onTap:function(t){t.wasHandled("dragdrop")||t.wasLongheld()||e.toggleOptions(t)},manageFocus:this.const(a.manageFocusHelper({controller:this.controller,location:{type:"slider-animation-properties-icon",id:this.model.id}}))},n.createElement("i",{class:this.bindFn(this.getIcon),"aria-hidden":n.const("true")})))))},d.prototype.getIcon=function(){return c.getSliderIcon(this.model.slider.loopMode)},d.prototype.getIconType=function(){return!this.model.slider.isPlaying||s.isSliderAtEndOfPlayOnce(this.model)?"play":"pause"},d.prototype.getMenuGUID=function(){return"slider-"+this.model.guid},d.prototype.myOptionsOpen=function(){return this.controller.isItemSettingsMenuOpen(this.getMenuGUID())},d.prototype.toggleOptions=function(e){this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"slider",model:this.model,guid:this.getMenuGUID(),focusFirstOption:"keyboard"===e.device}})},d.prototype.getAriaLabel=function(){if(!this.model.sliderExists)return"";var e=s.getAssignment(this.model);return e?this.model.slider.isPlaying?this.controller.s("graphing-calculator-narration-pause-variable-animation",{variable:e}):this.controller.s("graphing-calculator-narration-play-variable-animation",{variable:e}):""},d.prototype.toggleSliderIsPlaying=function(){var e,t;this.model.sliderExists&&(e="",t=s.getAssignment(this.model),s.isSliderAtEndOfPlayOnce(this.model)?("string"==typeof t&&(e=this.controller.s("graphing-calculator-narration-slider-variable-restarted",{variable:t})),this.controller.dispatch({type:"play-slider-from-min",id:this.model.id})):this.model.slider.isPlaying?("string"==typeof t&&(e=this.controller.s("graphing-calculator-narration-slider-variable-playing",{variable:t})),this.controller.dispatch({type:"set-slider-isplaying",id:this.model.id,isPlaying:!1})):("string"==typeof t&&(e=this.controller.s("graphing-calculator-narration-slider-variable-paused",{variable:t})),this.controller.dispatch({type:"set-slider-isplaying",id:this.model.id,isPlaying:!0})),""!==e&&o.alert(e))},r=d;function d(){return null!==u&&u.apply(this,arguments)||this}t.PlayPauseIconView=r}),define("loadcss!expressions/action-icon-view",function(){}),define("expressions/action-icon-view",["require","exports","tslib","dcgview","./circular-icon-view","main/manage-focus-helper","jquery.handleevent","loadcss!./action-icon-view"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionIconView=void 0;var a;a=n.Class,r.__extends(s,a),s.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model()},s.prototype.template=function(){var e=this;return n.createElement("div",{class:function(){return{"dcg-action-icon-view":!0,"dcg-action-icon-view-animating":e.isAnimating}}},n.createElement("div",{class:n.const("dcg-circular-icon-container"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-run-action-icon")},role:n.const("button"),tabindex:n.const("0"),onTap:function(t){t.wasHandled("dragdrop")||e.runActionOnce()},manageFocus:this.const(i.manageFocusHelper({controller:this.props.controller(),location:{type:"action-icon",id:this.model.id}}))},n.createElement(o.CircularIconView,{iconType:this.const("action"),whiteIcon:function(){return!e.controller.isInEditListMode()&&e.controller.isItemSelected(e.model.id)||e.controller.isItemBeingDragged(e.model.id)}})))},s.prototype.willUnmount=function(){this.unmounted=!0},s.prototype.runActionOnce=function(){var e=this;this.isAnimating=!0,this.controller.dispatch({type:"action-single-step",id:this.model.id}),setTimeout(function(){e.isAnimating=!1,e.unmounted||e.update()},150)},r=s;function s(){var e=null!==a&&a.apply(this,arguments)||this;return e.isAnimating=!1,e.unmounted=!1,e}t.ActionIconView=r}),define("expressions/expression-icon-view",["require","exports","tslib","dcgview","core/lib/dragmode","core/types/styles","core/math/comparators","graphing-calc/models/abstract-item","core/math/expression-types","graphing-calc/models/expression","../dcgview-helpers/tooltipped-error","./play-pause-icon-view","./circular-icon-view","main/manage-focus-helper","./action-icon-view","jquery.handleevent"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g,m=n.Components.SwitchUnion;g=n.Class,r.__extends(y,g),y.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller()},y.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-expression-icon-container")},m(this.bindFn(this.getIconMode),{error:function(){return n.createElement(u.TooltippedError,{error:e.bindFn(e.getErrorMsg),isWhite:function(){return e.controller.isItemSelected(e.model.id)||e.controller.isItemBeingDragged(e.model.id)},gravity:e.const("se")})},none:function(){return n.createElement("span",null)},slider:function(){return n.createElement(d.PlayPauseIconView,{controller:e.props.controller,model:e.props.model})},action:function(){return n.createElement(f.ActionIconView,{controller:e.props.controller,model:e.props.model})},icon:function(){return n.createElement("div",{class:n.const("dcg-circular-icon-container"),role:n.const("button"),tabindex:n.const("0"),"dcg-open-menu-guid":function(){return e.getMenuGUID()},"aria-label":e.bindFn(e.getIconAriaLabel),onTap:function(t){if(!t.wasHandled("dragdrop")&&!t.wasLongheld())return e.myOptionsOpen()||(e.controller.isInEditListMode()||t.shiftKey)&&!e.isFraction()?e.toggleOptions(t):e.isFraction()?e.onToggleFractionDisplay():void e.toggleGraphShown()},onLongHold:function(t){t.handle("dcg-longhold"),t.handle("dcg-tap"),e.isFraction()||e.toggleOptions(t)},manageFocus:e.const(h.manageFocusHelper({controller:e.controller,location:{type:"expression-icon",id:e.model.id}}))},n.createElement(p.CircularIconView,{iconType:e.bindFn(e.getIconType),backgroundColor:e.bindFn(e.getBackgroundColor),whiteIcon:e.bindFn(e.isSelected),foregroundColor:e.bindFn(e.getForegroundColor),iconModifier:e.bindFn(e.getIconModifier)}))}}))},y.prototype.getErrorMsg=function(){return this.colorError()?this.controller.s("shared-calculator-error-color-not-assigned"):this.controller.unpack(this.model.error)},y.prototype.getMenuGUID=function(){return this.model.guid},y.prototype.myOptionsOpen=function(){return this.controller.isItemSettingsMenuOpen(this.getMenuGUID())},y.prototype.toggleOptions=function(e){this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"expression",model:this.model,guid:this.getMenuGUID(),focusFirstOption:"keyboard"===e.device}})},y.prototype.isSelected=function(){return this.controller.isItemSelected(this.model.id)||this.controller.isItemBeingDragged(this.model.id)},y.prototype.isFraction=function(){return this.controller.canDisplayEvaluationForItemAsFraction(this.model.id)},y.prototype.getIconMode=function(){return this.hasError()?"error":this.controller.getGraphSettings().config.graphpaper?l.isGraphable(this.model)?"icon":this.hasSlider()?"slider":this.isFraction()?"icon":this.isNonemptyAction()?"action":"none":"none"},y.prototype.toggleGraphShown=function(){this.controller.dispatch({type:"toggle-item-hidden",id:this.model.id})},y.prototype.colorError=function(){return!!this.model.formula.rgb_value&&!this.model.formula.assignment},y.prototype.hasError=function(){return!!this.colorError()||!!this.model.error&&!l.isEmpty(this.model)&&"none"===this.controller.getBrailleMode()},y.prototype.hasSlider=function(){return!!this.model.sliderExists},y.prototype.isNonemptyAction=function(){return l.isNonemptyAction(this.model)},y.prototype.getDisplayProps=function(){var e=(r=this.model).points,t=r.lines,r=r.fill;return c.getReconciledExpressionProps(this.model.formula.expression_type,{points:e,lines:t,fill:r})},y.prototype.getBackgroundColor=function(){if(!this.isFraction())return s.getMaybeGradientDisplayColor(this.model);var e=this.isSelected();return this.controller.shouldEvaluationForItemDisplayAsFraction(this.model.id)?e?"#fff":"#000":""},y.prototype.getForegroundColor=function(){if(!this.isFraction())return"";var e=this.isSelected();return e!==this.controller.shouldEvaluationForItemDisplayAsFraction(this.model.id)?"#fff":e?"#6A93D2":"#000"},y.prototype.onToggleFractionDisplay=function(){this.controller.dispatch({type:"toggle-fraction-evaluation",id:this.model.id})},y.prototype.getIconModifier=function(){return l.isBoxPlot(this.model)&&"y"===l.getVizProp(this.model,"alignedAxis")?"rotated":"none"},y.prototype.getIconType=function(){if(this.isFraction())return"fraction";if(!this.model.shouldGraph)return"hidden";if(this.controller.isInEditListMode())return"none";var e=this.model.pointStyle,t=this.model.lineStyle,r=this.getDisplayProps(),n=this.model.formula;if(l.isBoxPlot(this.model))return"boxplot";if(l.isDotPlot(this.model)){if("POINT"===this.model.pointStyle)return"dotplot-default";if("CROSS"===this.model.pointStyle)return"dotplot-cross";if("OPEN"===this.model.pointStyle)return"dotplot-open"}return l.isHistogram(this.model)?"histogram":l.isToplevelDistribution(this.model)?l.shouldShowCDFFooter(this.model)?"filled-distribution":"unfilled-distribution":this.model.reconciledDragMode===o.DragMode.X?"movable-horizontal":this.model.reconciledDragMode===o.DragMode.Y?"movable-vertical":this.model.reconciledDragMode===o.DragMode.XY?"movable-both":l.isPointOrPointList(this.model)?l.isSinglePoint(this.model)?e===i.PointStyle.OPEN?"point-open":e===i.PointStyle.CROSS?"point-cross":"point-default":r.lines&&r.points?"table-points-and-lines":r.lines?"table-lines":"table-points":(e=this.getDisplayProps().fill,l.isPolygon(this.model)?e?r.lines?t===i.LineStyle.DASHED?"polygon-dashed-filled":t===i.LineStyle.DOTTED?"polygon-dotted-filled":"polygon-default-filled":"polygon-none-filled":r.lines?t===i.LineStyle.DASHED?"polygon-dashed":t===i.LineStyle.DOTTED?"polygon-dotted":"polygon-default":"none":l.isParametric(this.model)?e?r.lines?t===i.LineStyle.DASHED?"parametric-dashed-filled":t===i.LineStyle.DOTTED?"parametric-dotted-filled":"parametric-default-filled":"parametric-none-filled":r.lines?t===i.LineStyle.DASHED?"graph-dashed":t===i.LineStyle.DOTTED?"graph-dotted":"graph-default":"none":(e=n.operator,r=0!==a.table[e].direction,e=!1===a.table[e].inclusive,n.is_shade_between||!e&&r?"shaded-inequality":e&&!r?"inequality":e&&r?"shaded-inequality":t===i.LineStyle.DASHED?"graph-dashed":t===i.LineStyle.DOTTED?"graph-dotted":"graph-default"))},y.prototype.getIconAriaLabel=function(){return this.isFraction()?l.shouldEvaluationDisplayAsFraction(this.model)?this.controller.s("shared-calculator-narration-display-as-decimal"):this.controller.s("shared-calculator-narration-display-as-fraction"):this.myOptionsOpen()?this.controller.s("graphing-calculator-narration-hide-options"):this.controller.isInEditListMode()?this.controller.s("graphing-calculator-narration-show-options"):this.model.hidden?this.controller.s("graphing-calculator-narration-show-expression"):this.controller.s("graphing-calculator-narration-hide-expression")},r=y;function y(){return null!==g&&g.apply(this,arguments)||this}t.default=r}),define("loadcss!expressions/expression-menus/color-swatch",function(){}),define("expressions/expression-menus/color-swatch",["require","exports","tslib","dcgview","expressions/colors","loadcss!./color-swatch"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorSwatch=void 0;var i;i=n.Class,r.__extends(a,i),a.prototype.template=function(){var e=this;return n.createElement("span",{class:function(){var t,r;return{"dcg-color-swatch":!0,"dcg-color-evaluation":null===(r=(t=e.props).isEvaluation)||void 0===r?void 0:r.call(t),"dcg-light-color":o.colorValueHasSomeLightColor(e.props.color())}},style:function(){return{background:o.colorValueToBackgroundValue(e.props.color())}}})},r=a;function a(){return null!==i&&i.apply(this,arguments)||this}t.ColorSwatch=r}),define("loadcss!expressions/evaluation-view",function(){}),define("expressions/evaluation-view",["require","exports","tslib","dcgview","core/lib/label","dcgview-helpers/static-mathquill-view","./expression-menus/color-swatch","../shared-components/mathquill-braille-wrapper","./expression_view","loadcss!./evaluation-view"],function(e,t,r,n,o,i,a,s,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,u=(p=n.Components).If,d=p.SwitchUnion,p=(l=n.Class,r.__extends(h,l),h.prototype.init=function(){this.controller=this.props.controller()},h.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-evaluation-container")},n.createElement("div",{class:function(){return{"dcg-evaluation":!0,"dcg-do-blur":!0,"dcg-hidden":e.props.controller().isInEditListMode()}},handleEvent:n.const("true"),tabindex:function(){return e.props.focusable()&&"none"===e.controller.getBrailleMode()?"0":"-1"}},n.createElement(s.default,r.__assign({latex:this.bindFn(this.getBrailleEvaluation),ariaLabel:this.const(""),brailleShouldFocus:function(){var t=e.controller.getFocusLocation();return!!t&&"braille-output"===t.type&&t.id===e.props.id()},onBrailleInput:function(){},isStatic:this.const(!0),onBrailleFocusedChanged:function(t){t?e.controller.dispatch({type:"set-focus-location",location:{type:"braille-output",id:e.props.id()}}):e.controller.dispatch({type:"blur-focus-location",location:{type:"braille-output",id:e.props.id()}})}},c.getBrailleWrapperProps(this.controller,{gravity:"sw"})),n.createElement("div",{class:n.const("dcg-evaluation-label-container"),onTap:this.bindFn(this.onSelectEvaluation)},n.createElement(u,{predicate:function(){return!!e.props.dependent()}},function(){return n.createElement(i.default,{latex:function(){return o.identifierToLatex(e.props.dependent())},config:e.const({})},n.createElement("span",null))}),n.createElement("span",{class:n.const("dcg-equals")},n.createElement(i.default,{latex:this.const("="),config:this.const({})}))),n.createElement("span",{class:function(){return{"dcg-text-selectable":"rgbcolor"!==e.getEvaluationType(),"dcg-evaluation-html":!0,"dcg-color-evaluation":"rgbcolor"===e.getEvaluationType()}},didMount:this.bindFn(this.didMountEvaluation)},d(function(){return e.getEvaluationType()},{list:function(){return n.createElement("span",{class:n.const("dcg-evaluation-list")},function(){return e.controller.s("graphing-calculator-label-evaluation-list",{count:e.props.val().length})})},fraction:function(){return n.createElement(i.default,{latex:function(){return o.truncatedLatexLabel(e.props.val(),e.getLabelOptions())},config:e.const({})})},undefined:function(){return n.createElement("span",null,n.const("undefined"))},scientific:function(){return n.createElement(i.default,{latex:function(){return e.getNumberLabel().mantissa+"\\times10^{"+e.getNumberLabel().exponent+"}"},config:e.const({})})},decimal:function(){return n.createElement(i.default,{latex:function(){return e.getNumberLabel().value},config:e.const({})})},rgbcolor:function(){return n.createElement(a.ColorSwatch,{color:function(){return e.controller.getColorById(e.props.id())},isEvaluation:e.const(!0)})}})))),n.createElement("div",{class:n.const("dcg-clear")}))},h.prototype.getNumberLabel=function(){return e=this.props.val(),t=this.getLabelOptions(),o.numericLabel(e,t);var e,t},h.prototype.getEvaluationType=function(){var e=this.props.val();return"string"==typeof e?"rgbcolor":Array.isArray(e)?"string"==typeof e[0]?"rgbcolor":"list":this.getNumberLabel().type},h.prototype.getLabelOptions=function(){return this.props.controller().getEvaluationLabelOptionsForItem(this.props.id())},h.prototype.didMountEvaluation=function(e){this.evaluationNode=e},h.prototype.onSelectEvaluation=function(){var e=document.createRange();e.selectNodeContents(this.evaluationNode);var t=window.getSelection();t&&(t.removeAllRanges(),(t=window.getSelection())&&t.addRange(e))},h.prototype.getBrailleEvaluation=function(){var e="";this.props.dependent()&&(e=o.identifierToLatex(this.props.dependent())),e+="=";var t=this.getEvaluationType();switch(t){case"list":e+=this.controller.s("graphing-calculator-label-evaluation-list",{count:this.props.val().length});break;case"fraction":e+=o.truncatedLatexLabel(this.props.val(),this.getLabelOptions());break;case"undefined":e="undefined";break;case"scientific":e+=this.getNumberLabel().mantissa+"\\times10^{"+this.getNumberLabel().exponent+"}";break;case"decimal":e+=this.getNumberLabel().value;break;case"rgbcolor":e+=this.props.val();break;default:return t}return e},h);function h(){return null!==l&&l.apply(this,arguments)||this}t.default=p}),define("expressions/unresolved_view",["require","exports","tslib","dcgview"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o;o=n.Class,r.__extends(i,o),i.prototype.template=function(){var e=this;return this.controller=this.props.controller(),n.createElement("div",{class:n.const("dcg-unresolved")},n.createElement("i",{class:n.const("dcg-icon-error"),"aria-hidden":n.const("true")}),n.const(" "),function(){return e.controller.s("graphing-calculator-error-equation-contains-unresolved-details")},n.createElement("a",{href:n.const("https://help.desmos.com/hc/en-us/articles/202529079-Unresolved-Detail-In-Plotted-Functions"),target:n.const("_blank")},function(){return e.controller.s("graphing-calculator-link-learn-more")}))},r=i;function i(){return null!==o&&o.apply(this,arguments)||this}t.default=r}),define("loadcss!domain",function(){}),define("expressions/domain_view",["require","exports","tslib","dcgview","jquery","keys","dcgview-helpers/static-mathquill-view","dcgview-helpers/mathquill-view","graphing-calc/models/expression","core/lib/label","bugsnag","main/mathquill-operators","../shared-components/mathquill-braille-wrapper","./expression_view","loadcss!domain"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f,g=(f=n.Class,r.__extends(m,f),m.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},m.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-domain dcg-do-blur"),handleEvent:n.const("true")},n.createElement("div",{class:n.const("dcg-display-domain dcg-mq-underline-container dcg-do-blur"),handleEvent:n.const("true")},n.createElement("div",{class:n.const("dcg-editable-mathquill-container")},n.createElement(p.default,r.__assign({latex:function(){return e.getMinLatex()},ariaLabel:function(){return e.controller.raw("dmin")},placeholder:function(){return l.value(c.getDomainMin(e.model)).latex},brailleShouldFocus:function(){return"min"===e.getFocusedInput()},selectOnFocus:this.const(!0),onBrailleInput:function(t){return e.dispatchMinLatexIfChanged(t)},hasError:function(){return!c.isDomainMinValid(e.model)},onBrailleFocusedChanged:function(t){return e.handleFocusedChanged("min",t)},onBrailleKeydown:function(t){return e.handleBrailleKeydown("min",t)},dataLabelAttributeValue:this.const("domain-min")},h.getBrailleWrapperProps(this.props.controller())),n.createElement(s.default,{latex:function(){return e.getMinLatex()},placeholder:function(){return l.value(c.getDomainMin(e.model)).latex},isFocused:function(){return"min"===e.getFocusedInput()},capExpressionSize:function(){return e.controller.getCapExpressionSize()},selectOnFocus:this.const(!0),config:this.bindFn(this.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-domain-minimum")},getAriaPostLabel:this.const(""),hasError:function(){return!c.isDomainMinValid(e.model)},onUserPressedKey:function(t,r){e.handlePressedKey("min",t,r)},onUserChangedLatex:function(t){return e.dispatchMinLatexIfChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t){return e.handleFocusedChanged("min",t)},dataLabelAttributeValue:this.const("domain-min"),needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}})),n.createElement("span",{class:n.const("dcg-interval-interior")},n.createElement(a.default,{latex:function(){return e.getDomainVariableLatex()},config:this.const({})},n.createElement("span",null))),n.createElement(p.default,r.__assign({latex:function(){return e.getMaxLatex()},ariaLabel:function(){return e.controller.raw("dmax")},placeholder:function(){return l.value(c.getDomainMax(e.model)).latex},brailleShouldFocus:function(){return"max"===e.getFocusedInput()},selectOnFocus:this.const(!0),onBrailleInput:function(t){return e.dispatchMaxLatexIfChanged(t)},hasError:function(){return!c.isDomainMaxValid(e.model)},onBrailleFocusedChanged:function(t){return e.handleFocusedChanged("max",t)},onBrailleKeydown:function(t){return e.handleBrailleKeydown("max",t)},dataLabelAttributeValue:this.const("domain-max")},h.getBrailleWrapperProps(this.props.controller())),n.createElement(s.default,{latex:function(){return e.getMaxLatex()},placeholder:function(){return l.value(c.getDomainMax(e.model)).latex},isFocused:function(){return"max"===e.getFocusedInput()},capExpressionSize:function(){return e.controller.getCapExpressionSize()},selectOnFocus:this.const(!0),config:this.bindFn(this.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-domain-maximum")},getAriaPostLabel:this.const(""),hasError:function(){return!c.isDomainMaxValid(e.model)},onUserPressedKey:function(t,r){e.handlePressedKey("max",t,r)},onUserChangedLatex:function(t){return e.dispatchMaxLatexIfChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t){return e.handleFocusedChanged("max",t)},dataLabelAttributeValue:this.const("domain-max"),needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}})))))},m.prototype.handleBrailleKeydown=function(e,t){var r=i.lookup(t);r&&this.handlePressedKey(e,r,t)},m.prototype.handlePressedKey=function(e,t,r){if(!this.controller.isInEditListMode()){if("Esc"===t)return void this.controller.dispatch({type:"set-focus-location",location:void 0});if("Enter"===t)return this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"})}var n=s.default.getFocusedMathquill(),i=p.getFocusedBrailleElement();"Left"!==t&&"Right"!==t&&"Down"!==t&&"Up"!==t?n&&(n.keystroke(t,r),"min"===e?this.dispatchMinLatexIfChanged(n.latex()):"max"===e&&this.dispatchMaxLatexIfChanged(n.latex())):(n?s.default.applyArrowKeyAndReturnIfWasAtBounds(n,t,r):i&&(0===i.selectionStart&&"Left"===t||i.selectionStart===o(i).val().length&&"Right"===t||"Up"===t||"Down"===t))&&(r&&r.preventDefault(),"Left"===t?"max"===e&&this.controller.dispatch({type:"set-focus-location",location:{type:"domain-limit",id:this.model.id,location:"min"}}):"Right"===t?"min"===e&&this.controller.dispatch({type:"set-focus-location",location:{type:"domain-limit",id:this.model.id,location:"max"}}):"Down"===t?this.controller.dispatch({type:"on-special-key-pressed",key:"Down"}):"Up"===t&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.model.id}}))},m.prototype.handleFocusedChanged=function(e,t){t?this.controller.dispatch({type:"set-focus-location",location:{type:"domain-limit",id:this.id,location:e}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"domain-limit",id:this.id,location:e}})},m.prototype.dispatchMinLatexIfChanged=function(e){var t;this.getMinLatex()!==e&&("unknown"!==(t=this.getDomainType())?this.controller.dispatch("polar"===t?{type:"set-polar-domain-minlatex",id:this.id,latex:e}:{type:"set-parametric-domain-minlatex",id:this.id,latex:e}):u.notify("DomainView is in use for a non-parametric, non-polar expression",{severity:"error",metaData:{expression:c.getState(this.model,{stripDefaults:!0})}}))},m.prototype.dispatchMaxLatexIfChanged=function(e){var t;this.getMaxLatex()!==e&&("unknown"!==(t=this.getDomainType())?this.controller.dispatch("polar"===t?{type:"set-polar-domain-maxlatex",id:this.id,latex:e}:{type:"set-parametric-domain-maxlatex",id:this.id,latex:e}):u.notify("DomainView is in use for a non-parametric, non-polar expression",{severity:"error",metaData:{expression:c.getState(this.model,{stripDefaults:!0})}}))},m.prototype.getFocusedInput=function(){var e=this.controller.getFocusLocation();if(e&&"domain-limit"===e.type&&e.id===this.id)return e.location},m.prototype.getMinLatex=function(){switch(this.getDomainType()){case"parametric":return c.getParametricDomainMin(this.model);case"polar":return c.getPolarDomainMin(this.model);default:return""}},m.prototype.getMaxLatex=function(){switch(this.getDomainType()){case"parametric":return c.getParametricDomainMax(this.model);case"polar":return c.getPolarDomainMax(this.model);default:return""}},m.prototype.getDomainVariableLatex=function(){switch(this.getDomainType()){case"parametric":return"\\le t \\le";case"polar":return"\\le \\theta \\le";default:return""}},m.prototype.getDomainType=function(){return c.isPolar(this.model)?"polar":c.isParametric(this.model)?"parametric":"unknown"},m.prototype.getMQConfig=function(){return{autoOperatorNames:d.getAutoOperators({})}},m);function m(){return null!==f&&f.apply(this,arguments)||this}t.default=g}),define("loadcss!regression",function(){}),define("expressions/regression_view",["require","exports","tslib","dcgview","core/lib/label","dcgview-helpers/static-mathquill-view","../shared-components/mathquill-braille-wrapper","./expression_view","main/manage-focus-helper","../shared-components/tooltip","loadcss!regression"],function(e,t,r,n,o,i,a,s,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRoundedStat=t.getRoundedParam=void 0;var u,d=(f=n.Components).If,p=f.For,h=f.IfElse,f=(u=n.Class,r.__extends(g,u),g.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,n.createElement(d,{predicate:this.bindFn(this.hasRegression)},function(){return n.createElement("div",{class:n.const("dcg-regression-container")},n.createElement("div",{class:n.const("dcg-handle-event"),handleEvent:n.const("true")},n.createElement(d,{predicate:e.bindFn(e.getShouldSuggestLogMode)},function(){return n.createElement("div",{class:n.const("dcg-log-mode-toggle")},h(function(){return e.areLogModeRegressionsForced()},{true:function(){return n.createElement("div",{class:n.const("dcg-action-log-mode-toggle dcg-no-hover-styling")},function(){return e.controller.s("graphing-calculator-button-regression-log-mode")})},false:function(){return n.createElement("div",null,n.createElement("div",{class:function(){return{"dcg-action-log-mode-toggle":!0,"dcg-toggled-on":e.getIsLogModeRegression()}},onTap:e.bindFn(e.onTapLogMode)},n.createElement("span",{class:n.const("dcg-log-mode-checkbox"),role:n.const("checkbox"),"aria-checked":function(){return e.getIsLogModeRegression()},tabindex:n.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-button-regression-log-mode")}},n.createElement("i",{class:n.const("dcg-icon-check"),"aria-hidden":n.const("true")})),function(){return e.controller.s("graphing-calculator-button-regression-log-mode")}),n.createElement(l.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-regression-log-mode-help-tooltip")},gravity:e.const("e")},n.createElement("a",{"aria-label":function(){return e.controller.s("graphing-calculator-label-regression-log-mode-help-tooltip")},class:n.const("dcg-log-mode-toggle-help"),target:n.const("_blank"),href:n.const("https://help.desmos.com/hc/en-us/articles/204349605")},n.createElement("i",{class:n.const("dcg-icon-question-sign"),"aria-hidden":n.const("true")}))))}}))}),n.createElement("div",{class:n.const("dcg-statistics"),role:n.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-heading-regression-statistics")}},n.createElement("div",{class:n.const("dcg-expression-footer-title")},function(){return e.controller.s("graphing-calculator-heading-regression-statistics")},n.createElement(d,{predicate:function(){return e.getRegression().statistics.hasOwnProperty("RMSE")}},function(){return n.createElement(l.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-regression-what-is-rmse-tooltip")},gravity:e.const("s")},n.createElement("a",{class:n.const("dcg-expression-footer-title-help"),target:n.const("_blank"),href:n.const("https://help.desmos.com/hc/en-us/articles/202529129-What-is-RMSE-"),"aria-label":function(){return e.controller.s("graphing-calculator-label-regression-what-is-rmse-tooltip")}},n.createElement("i",{class:n.const("dcg-icon-question-sign"),"aria-hidden":n.const("true")})))}),n.createElement(d,{predicate:function(){return e.getRegression().statistics.Rsquared<0}},function(){return n.createElement(l.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-regression-why-is-negative-tooltip")},gravity:e.const("s")},n.createElement("a",{"aria-label":function(){return e.controller.s("graphing-calculator-label-regression-why-is-negative-tooltip")},class:n.const("dcg-expression-footer-title-help"),target:n.const("_blank"),href:n.const("https://help.desmos.com/hc/en-us/articles/202529139-Why-am-I-seeing-a-negative-R-2-value-")},n.createElement("i",{class:n.const("dcg-icon-question-sign"),"aria-hidden":n.const("true")})))})),n.createElement("div",{class:n.const("dcg-statistics-values")},n.createElement(d,{predicate:function(){return e.getRegression().statistics.hasOwnProperty("Rsquared")}},function(){return n.createElement("div",null,n.createElement(a.default,r.__assign({latex:function(){return"R^2="+y(e.getRegression(),"Rsquared")},brailleShouldFocus:function(){var t=e.controller.getFocusLocation();return!!t&&"regression-output"===t.type&&"Rsquared"===t.parameter},onBrailleFocusedChanged:function(t){t?e.controller.dispatch({type:"set-focus-location",location:{type:"regression-output",parameter:"Rsquared"}}):e.controller.dispatch({type:"blur-focus-location",location:{type:"regression-output",parameter:"Rsquared"}})},ariaLabel:e.const(""),isStatic:e.const(!0)},s.getBrailleWrapperProps(e.controller)),n.createElement(i.default,{latex:function(){return"R^2="+y(e.getRegression(),"Rsquared")},config:e.const({})},n.createElement("span",{tabindex:n.const("0"),manageFocus:e.const(c.manageFocusHelper({predicate:function(){return"none"===e.controller.getBrailleMode()},controller:e.controller,location:{type:"regression-output",parameter:"Rsquared"}}))}))))}),n.createElement(d,{predicate:function(){return e.getRegression().statistics.hasOwnProperty("rsquared")}},function(){return n.createElement("div",null,n.createElement(a.default,r.__assign({latex:function(){return"r^2="+y(e.getRegression(),"rsquared")},brailleShouldFocus:function(){var t=e.controller.getFocusLocation();return!!t&&"regression-output"===t.type&&"rsquared"===t.parameter},onBrailleFocusedChanged:function(t){t?e.controller.dispatch({type:"set-focus-location",location:{type:"regression-output",parameter:"rsquared"}}):e.controller.dispatch({type:"blur-focus-location",location:{type:"regression-output",parameter:"rsquared"}})},ariaLabel:e.const(""),isStatic:e.const(!0)},s.getBrailleWrapperProps(e.controller)),n.createElement(i.default,{latex:function(){return"r^2="+y(e.getRegression(),"rsquared")},config:e.const({})},n.createElement("span",{tabindex:n.const("0"),manageFocus:e.const(c.manageFocusHelper({predicate:function(){return"none"===e.controller.getBrailleMode()},controller:e.controller,location:{type:"regression-output",parameter:"rsquared"}}))}))))}),n.createElement(d,{predicate:function(){return e.getRegression().statistics.hasOwnProperty("r")}},function(){return n.createElement("div",null,n.createElement(a.default,r.__assign({latex:function(){return"r="+y(e.getRegression(),"r")},brailleShouldFocus:function(){var t=e.controller.getFocusLocation();return!!t&&"regression-output"===t.type&&"r"===t.parameter},onBrailleFocusedChanged:function(t){t?e.controller.dispatch({type:"set-focus-location",location:{type:"regression-output",parameter:"r"}}):e.controller.dispatch({type:"blur-focus-location",location:{type:"regression-output",parameter:"r"}})},ariaLabel:e.const(""),isStatic:e.const(!0)},s.getBrailleWrapperProps(e.controller)),n.createElement(i.default,{latex:function(){return"r="+y(e.getRegression(),"r")},config:e.const({})},n.createElement("span",{class:n.const("dcg-r-value"),tabindex:n.const("0"),manageFocus:e.const(c.manageFocusHelper({predicate:function(){return"none"===e.controller.getBrailleMode()},controller:e.controller,location:{type:"regression-output",parameter:"r"}}))}))))}),n.createElement(d,{predicate:function(){return e.getRegression().statistics.hasOwnProperty("RMSE")}},function(){return n.createElement("div",null,n.createElement(a.default,r.__assign({latex:function(){return"\\operatorname{RMSE}="+y(e.getRegression(),"RMSE")},brailleShouldFocus:function(){var t=e.controller.getFocusLocation();return!!t&&"regression-output"===t.type&&"RMSE"===t.parameter},onBrailleFocusedChanged:function(t){t?e.controller.dispatch({type:"set-focus-location",location:{type:"regression-output",parameter:"RMSE"}}):e.controller.dispatch({type:"blur-focus-location",location:{type:"regression-output",parameter:"RMSE"}})},ariaLabel:e.const(""),isStatic:e.const(!0)},s.getBrailleWrapperProps(e.controller)),n.createElement(i.default,{latex:function(){return"\\operatorname{RMSE}="+y(e.getRegression(),"RMSE")},config:e.const({})},n.createElement("span",{tabindex:n.const("0"),manageFocus:e.const(c.manageFocusHelper({predicate:function(){return"none"===e.controller.getBrailleMode()},controller:e.controller,location:{type:"regression-output",parameter:"RMSE"}}))}))))}))),n.createElement("div",{role:n.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-heading-regression-residuals")},class:n.const("dcg-residuals")},n.createElement("div",{class:n.const("dcg-expression-footer-title")},function(){return e.controller.s("graphing-calculator-heading-regression-residuals")}),n.createElement(a.default,r.__assign({latex:e.bindFn(e.getResidualVariable),brailleShouldFocus:function(){var t=e.controller.getFocusLocation();return!!t&&"regression-output"===t.type&&t.parameter===e.getResidualVariable()},onBrailleFocusedChanged:function(t){t?e.controller.dispatch({type:"set-focus-location",location:{type:"regression-output",parameter:e.getResidualVariable()}}):e.controller.dispatch({type:"blur-focus-location",location:{type:"regression-output",parameter:e.getResidualVariable()}})},ariaLabel:e.const(""),isStatic:e.const(!0)},s.getBrailleWrapperProps(e.controller)),n.createElement(i.default,{latex:e.bindFn(e.getResidualVariable),config:e.const({})},n.createElement("span",{class:n.const("dcg-residuals-variable"),tabindex:n.const("0"),manageFocus:e.const(c.manageFocusHelper({predicate:function(){return"none"===e.controller.getBrailleMode()},controller:e.controller,location:{type:"regression-output",parameter:e.getResidualVariable()}}))}))),n.createElement(d,{predicate:e.bindFn(e.getResidualSuggestionVisible)},function(){return n.createElement("div",{class:n.const("dcg-residual-suggestion dcg-action-plot-residual dcg-btn dcg-btn-light-gray"),role:n.const("button"),onTap:e.bindFn(e.onTapResidualsSuggestion)},function(){return e.controller.s("graphing-calculator-button-regression-plot-residuals")})})),n.createElement(d,{predicate:function(){return 0<Object.keys(e.getRegression().parameters).length}},function(){return n.createElement("div",{class:n.const("dcg-parameters-container")},n.createElement("div",{class:n.const("dcg-expression-footer-title")},function(){return e.controller.s("graphing-calculator-heading-regression-parameters")},n.createElement(d,{predicate:function(){return e.isNonLinearRegression()}},function(){return n.createElement(l.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-regression-parameters-not-exact")},gravity:e.const("s")},n.createElement("a",{class:n.const("dcg-expression-footer-title-help"),target:n.const("_blank"),href:n.const("https://help.desmos.com/hc/en-us/articles/360042428612"),"aria-label":function(){return e.controller.s("graphing-calculator-label-regression-parameters-not-exact")}},n.createElement("i",{class:n.const("dcg-icon-question-sign"),"aria-hidden":n.const("true")})))})),n.createElement(p,{each:function(){return Object.keys(e.getRegression().parameters)}},n.createElement("div",{role:n.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-heading-regression-parameters")},class:n.const("dcg-parameters")},function(t){return n.createElement(a.default,r.__assign({latex:function(){return t+"="+m(e.getRegression(),t)},brailleShouldFocus:function(){var r=e.controller.getFocusLocation();return!!r&&"regression-output"===r.type&&r.parameter===t},onBrailleFocusedChanged:function(r){r?e.controller.dispatch({type:"set-focus-location",location:{type:"regression-output",parameter:t}}):e.controller.dispatch({type:"blur-focus-location",location:{type:"regression-output",parameter:t}})},ariaLabel:e.const(""),isStatic:e.const(!0)},s.getBrailleWrapperProps(e.controller)),n.createElement(i.default,{latex:function(){return t+"="+m(e.getRegression(),t)},config:e.const({})},n.createElement("span",{class:n.const("dcg-parameter"),tabindex:n.const("0"),manageFocus:e.const(c.manageFocusHelper({controller:e.controller,location:{type:"regression-output",parameter:t}}))})))})))}),n.createElement("div",{class:n.const("dcg-clear")}),n.createElement(d,{predicate:function(){return e.hasParameterWarning()}},function(){return n.createElement("div",{class:n.const("dcg-parameter-warning")},n.createElement("i",{class:n.const("dcg-icon-error"),"aria-hidden":n.const("true")}),n.const(" "),function(){return e.controller.s("graphing-calculator-text-regression-potentially-inaccurate-parameters")},n.const(" "),n.createElement("a",{href:n.const("https://help.desmos.com/hc/en-us/articles/360042942771"),target:n.const("_blank")},function(){return e.controller.s("graphing-calculator-link-learn-more")}))})))})},g.prototype.onTapResidualsSuggestion=function(){this.controller.dispatch({type:"plot-residuals",id:this.id})},g.prototype.onTapLogMode=function(){this.controller.dispatch({type:"toggle-logmode",id:this.id})},g.prototype.getRegression=function(){return this.model.formula.regression},g.prototype.hasRegression=function(){return!!this.model.formula.regression},g.prototype.isNonLinearRegression=function(){return!this.getRegression().isLinear},g.prototype.getResidualVariable=function(){return this.getRegression().residualVariable||""},g.prototype.getResidualSuggestionVisible=function(){return void 0!==this.getRegression().residualSuggestionId},g.prototype.areLogModeRegressionsForced=function(){return this.controller.areLogModeRegressionsForced()},g.prototype.getShouldSuggestLogMode=function(){return!!this.getRegression().shouldSuggestLogMode},g.prototype.hasParameterWarning=function(){return!!this.getRegression().parameterWarning},g.prototype.getIsLogModeRegression=function(){return!!this.model.isLogModeRegression},g);function g(){return null!==u&&u.apply(this,arguments)||this}function m(e,t){return o.truncatedLatexLabel(e.parameters[t],{digits:6,smallCutoff:1e-6,bigCutoff:1e9})}function y(e,t){return o.truncatedLatexLabel(e.statistics[t],{zeroCutoff:1e-15,digits:4,smallCutoff:1e-6,bigCutoff:1e9})}t.default=f,t.getRoundedParam=m,t.getRoundedStat=y}),define("lib/underscore-shim",["require","exports","underscore_model"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnderscoreModelShim=void 0;var n=(o.prototype.triggerEvent=function(e,t){this.model.triggerEvent(e,t)},o.prototype.observeEvent=function(e,t){this.model.observeEvent(e,t)},o.prototype.unobserveEvent=function(e){this.model.unobserveEvent(e)},o.prototype.setProperty=function(e,t){this[e]=t,this.model.setProperty(e,t)},o.prototype.observe=function(e,t){this.model.observe(e,t)},o.prototype.observeAndSync=function(e,t){this.model.observeAndSync(e,t)},o.prototype.unobserve=function(e){this.model.unobserve(e)},o);function o(){this.model=new r.UnderscoreModel}t.UnderscoreModelShim=n}),define("dcgview-helpers/dragdrop",["require","exports","tslib","underscore","jquery","lib/underscore-shim"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DragDrop=void 0;var a;a=i.UnderscoreModelShim,r.__extends(s,a),s.prototype._evt2pt=function(e){return{x:e.changedTouches[0].pageX-this._offsetPt.x,y:e.changedTouches[0].pageY-this._offsetPt.y}},s.prototype._dispatch=function(e,t){var r;this._destroyed||(r=this._evt2pt(t),this.triggerEvent(e,{x:r.x,y:r.y,dx:r.x-this._startPt.x,dy:r.y-this._startPt.y,evt:t}))},s.prototype.destroy=function(){o(document).off("."+this.guid),this._destroyed=!0},s.prototype.startDrag=function(e,t){var r=this;if(void 0===t&&(t={}),!this.dragging)return o(document).on("dcg-tapmove."+this.guid,function(e){(e.originalEvent||e).preventDefault(),cancelAnimationFrame(r.frameThrottle),r.frameThrottle=requestAnimationFrame(function(){return r.doDrag(e)})}),o(document).on("dcg-tapend."+this.guid+" dcg-tapcancel."+this.guid,function(e){return r.endDrag(e)}),this._offsetPt={x:0,y:0},t.origin&&(this._offsetPt={x:this._evt2pt(e).x-t.origin.x,y:this._evt2pt(e).y-t.origin.y}),this._startPt=this._evt2pt(e),this.setProperty("dragging",!0),this._dispatch("onGrab",e)},s.prototype.doDrag=function(e){this.dragging&&this._dispatch("onDrag",e)},s.prototype.endDrag=function(e){this.dragging&&(o(document).off("."+this.guid),this.doDrag(e),this.setProperty("dragging",!1),this._dispatch("onDrop",e))},r=s;function s(){var e=a.call(this)||this;return e.dragging=!1,e.guid=n.uniqueId("dragdrop-class"),e}t.DragDrop=r}),define("loadcss!dcgview-helpers/slider",function(){}),define("dcgview-helpers/slider",["require","exports","lib/rounding","tslib","keys","dcgview","jquery","lib/conditional_blur","./dragdrop","loadcss!./slider"],function(e,t,r,n,o,i,a,s,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=i.Components.If;function u(e,t,r){return Math.min(Math.max(e,t),r)}var d;d=i.Class,n.__extends(p,d),p.prototype.template=function(){var e=this;return i.createElement("div",{class:function(){return{"dcg-slider-interior":!0,"dcg-disable-slider":e.shouldDisableSlider()}},didMount:this.bindFn(this.didMountRoot),onTapStart:this.bindFn(this.onStartDrag),style:i.const({"touch-action":"none"})},i.createElement("div",{class:i.const("dcg-track")},i.createElement("div",{class:i.const("dcg-ticks"),onMount:this.bindFn(this.didMountTickMarks)}),i.createElement("div",{class:i.const("dcg-graphic")})),i.createElement(l,{predicate:this.bindFn(this.shouldShowZeroMarker)},function(){return i.createElement("div",{class:i.const("dcg-zeroMarker"),style:function(){return{left:e.getZeroMarkerPercent()+"%"}}})}),i.createElement("div",{class:function(){return{"dcg-thumb":!0,"dcg-down":e.isDragging}},role:i.const("slider"),tabindex:i.const("0"),disablescroll:i.const("true"),style:function(){return{left:e.getThumbPercent()+"%"}},onKeyDown:this.bindFn(this.onKeyDown),"aria-label":this.props.ariaLabel,"aria-valuemin":this.props.min,"aria-valuemax":this.props.max,"aria-valuenow":this.props.value,manageFocus:this.buildFocusManager()},i.createElement("div",{class:i.const("dcg-graphic")}),i.createElement("div",{class:i.const("dcg-center")})))},p.prototype.willUnmount=function(){this.dragDrop.destroy()},p.prototype.didMountRoot=function(e){var t=this;this.rootNode=e,this.dragDrop=new c.DragDrop,this.isMounted=!0,this.dragDrop.observeEvent("onDrop",function(){t.isDragging=!1,t.update(),t.props.onDrop&&t.props.onDrop()}),this.dragDrop.observeEvent("onGrab",function(){t.isDragging=!0,t.update(),t.props.onGrab&&t.props.onGrab()}),this.dragDrop.observeEvent("onDrag",function(e,r){t.props.onDragUpdate(t.valueFromPixels(r.x))})},p.prototype.didMountTickMarks=function(e){this.tickMarksNode=e,this.renderTickMarks()},p.prototype.didUpdate=function(){this.renderTickMarks()},p.prototype.shouldDisableSlider=function(){return this.props.min()===this.props.max()},p.prototype.renderTickMarks=function(){if(this.tickMarksNode){var e,t=this.props.step(),r=this.props.min(),n=this.props.max();if((e=void 0===t?0:100*t/(n-r))<3&&(e=0),100<e&&(e=0),isNaN(e)&&(e=0),this.lastTickMarksPercent!==e){var o="";if(0<(this.lastTickMarksPercent=e)&&e<100)for(var i=e;i<100;i+=e)o+='<div class="dcg-tick" style="left:'+i+'%"></div>';this.tickMarksNode.innerHTML=o}}},p.prototype.shouldShowZeroMarker=function(){return this.props.min()<=0&&0<=this.props.max()},p.prototype.getZeroMarkerPercent=function(){var e=this.props.min();return 100*(0-e)/(this.props.max()-e)},p.prototype.getThumbPercent=function(){return 100*this.percentFromValue(this.props.value())},p.prototype.valueFromPixels=function(e){if(!this.isMounted)return 0;var t=this.props.min(),n=this.props.max(),o=(e=t+(n-t)*u(e/(o=this.rootNode.getBoundingClientRect().width),0,1),(n-t)/o);return r.shortestDecimalBetween(e-o,e+o)},p.prototype.percentFromValue=function(e){var t=this.props.min();return u((e-t)/(this.props.max()-t),0,1)},p.prototype.pixelsFromValue=function(e){return this.isMounted?(e=this.percentFromValue(e),this.rootNode.getBoundingClientRect().width*e):0},p.prototype.onKeyDown=function(e){switch(o.lookup(e)){case o.UP:this.props.onUpPress&&(this.props.onUpPress(),e.preventDefault());break;case o.DOWN:this.props.onDownPress&&(this.props.onDownPress(),e.preventDefault());break;case o.ENTER:this.props.onEnterPress&&(this.props.onEnterPress(),e.preventDefault());break;case o.ESCAPE:document.activeElement&&a(document.activeElement).trigger("blur");break;case o.LEFT:this.props.onKeyboardUpdate("down"),e.preventDefault();break;case o.RIGHT:this.props.onKeyboardUpdate("up"),e.preventDefault();break;case o.PAGEDOWN:this.props.onKeyboardUpdate("bigdown"),e.preventDefault();break;case o.PAGEUP:this.props.onKeyboardUpdate("bigup"),e.preventDefault();break;case o.HOME:this.props.onKeyboardUpdate("min"),e.preventDefault();break;case o.END:this.props.onKeyboardUpdate("max"),e.preventDefault()}},p.prototype.onStartDrag=function(e){var t;"keyboard"!==e.device&&e.target&&(e.preventDefault(),s.default(),t={x:0,y:0},1===a(e.target).closest(".dcg-thumb").length?t.x=this.pixelsFromValue(this.props.value()):t.x=e.changedTouches[0].clientX-this.rootNode.getBoundingClientRect().left,this.dragDrop.startDrag(e,{origin:t}))},p.prototype.buildFocusManager=function(){return this.props.onFocusedChanged&&this.props.isFocused?this.const({shouldBeFocused:this.props.isFocused,onFocusedChanged:this.props.onFocusedChanged}):this.const(void 0)},n=p;function p(){return null!==d&&d.apply(this,arguments)||this}t.default=n}),define("expressions/slider_limits_view",["require","exports","tslib","jquery","dcgview","dcgview-helpers/static-mathquill-view","dcgview-helpers/mathquill-view","keys","graphing-calc/models/expression","core/lib/label","core/types/slider-loop-modes","main/mathquill-operators","../shared-components/mathquill-braille-wrapper","./expression_view"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f,g=o.Components.If,m=(f=o.Class,r.__extends(y,f),y.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},y.prototype.template=function(){var e=this;return o.createElement("div",{class:o.const("dcg-slider_menu dcg-mq-underline-container dcg-do-blur"),handleEvent:o.const("true"),didMount:function(t){return e.node=t}},o.createElement("div",{class:o.const("dcg-editable-mathquill-container")},o.createElement(g,{predicate:function(){return!e.shouldOnlyShowStep()}},function(){return o.createElement("span",null,o.createElement(p.default,r.__assign({latex:function(){return e.model.slider.hardMin?e.model.slider.min:""},ariaLabel:function(){return e.controller.raw("sldrmin")},brailleShouldFocus:function(){return"min"===e.getFocusedInput()},onBrailleInput:function(t){return e.handleLatexChanged("min",t)},hasError:function(){return!c.isSliderMinValid(e.model)},onBrailleFocusedChanged:function(t,r){return e.handleFocusedChanged("min",t,r)},onBrailleKeydown:function(t){return e.handleBrailleKeydown("min",t)},selectOnFocus:e.const(!0),dataDCGLimit:e.const("slidermin")},h.getBrailleWrapperProps(e.props.controller())),o.createElement(a.default,{latex:function(){return e.model.slider.hardMin?e.model.slider.min:""},isFocused:function(){return"min"===e.getFocusedInput()},capExpressionSize:function(){return e.controller.getCapExpressionSize()},selectOnFocus:e.const(!0),config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-slider-minimum")},getAriaPostLabel:e.const(""),hasError:e.const(!1),onUserPressedKey:function(t,r){return e.handlePressedKey("min",t,r)},onUserChangedLatex:function(t){return e.handleLatexChanged("min",t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t,r){return e.handleFocusedChanged("min",t,r)},needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}},o.createElement("span",{class:function(){return{"dcg-math-field":!0,"dcg-focus":"min"===e.getFocusedInput(),"dcg-invalid":!c.isSliderMinValid(e.model)}},"data-dcg-limit":o.const("slidermin")}))),o.createElement("span",{class:o.const("dcg-interval-interior")},o.createElement(i.default,{latex:e.bindFn(e.getDependentLatex),config:e.const({})},o.createElement("span",null))),o.createElement(p.default,r.__assign({latex:function(){return e.model.slider.hardMax?e.model.slider.max:""},ariaLabel:function(){return e.controller.raw("sldrmax")},brailleShouldFocus:function(){return"max"===e.getFocusedInput()},onBrailleInput:function(t){return e.handleLatexChanged("max",t)},hasError:function(){return!c.isSliderMaxValid(e.model)},onBrailleFocusedChanged:function(t,r){return e.handleFocusedChanged("max",t,r)},onBrailleKeydown:function(t){return e.handleBrailleKeydown("max",t)},selectOnFocus:e.const(!0),dataDCGLimit:e.const("slidermax")},h.getBrailleWrapperProps(e.props.controller())),o.createElement(a.default,{latex:function(){return e.model.slider.hardMax?e.model.slider.max:""},isFocused:function(){return"max"===e.getFocusedInput()},capExpressionSize:function(){return e.controller.getCapExpressionSize()},selectOnFocus:e.const(!0),config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-slider-maximum")},getAriaPostLabel:e.const(""),hasError:e.const(!1),onUserPressedKey:function(t,r){return e.handlePressedKey("max",t,r)},onUserChangedLatex:function(t){return e.handleLatexChanged("max",t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t,r){return e.handleFocusedChanged("max",t,r)},needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}},o.createElement("span",{class:function(){return{"dcg-math-field":!0,"dcg-focus":"max"===e.getFocusedInput(),"dcg-invalid":!c.isSliderMaxValid(e.model)}},"data-dcg-limit":o.const("slidermax")}))))}),o.createElement("span",{class:function(){return{"dcg-slider-step-container":!e.shouldOnlyShowStep()}}},o.createElement("span",{class:o.const("dcg-slider-step-label"),"aria-hidden":o.const("true")},function(){return e.controller.s("graphing-calculator-label-slider-step")}),o.createElement(p.default,r.__assign({latex:function(){return e.model.slider.step},ariaLabel:function(){return e.controller.raw("sldrstp")},brailleShouldFocus:function(){return"step"===e.getFocusedInput()},onBrailleInput:function(t){return e.handleLatexChanged("step",t)},hasError:function(){return!c.isSliderStepValid(e.model)},onBrailleFocusedChanged:function(t,r){return e.handleFocusedChanged("step",t,r)},onBrailleKeydown:function(t){return e.handleBrailleKeydown("step",t)},selectOnFocus:this.const(!0),dataDCGLimit:this.const("sliderstep")},h.getBrailleWrapperProps(this.props.controller())),o.createElement(a.default,{latex:function(){return e.model.slider.step},isFocused:function(){return"step"===e.getFocusedInput()},capExpressionSize:function(){return e.controller.getCapExpressionSize()},selectOnFocus:this.const(!0),config:this.bindFn(this.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-slider-step")},getAriaPostLabel:this.const(""),hasError:this.const(!1),onUserPressedKey:function(t,r){return e.handlePressedKey("step",t,r)},onUserChangedLatex:function(t){return e.handleLatexChanged("step",t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t,r){return e.handleFocusedChanged("step",t,r)},needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}},o.createElement("span",{class:function(){return{"dcg-math-field":!0,"dcg-focus":"step"===e.getFocusedInput(),"dcg-invalid":!c.isSliderStepValid(e.model)}},"data-dcg-limit":o.const("sliderstep")}))))))},y.prototype.handleBrailleKeydown=function(e,t){var r=s.lookup(t);r&&this.handlePressedKey(e,r,t)},y.prototype.handlePressedKey=function(e,t,r){var o,i;this.controller.isInEditListMode()||this.shouldOnlyShowStep()||"Esc"!==t&&"Enter"!==t?(o=a.default.getFocusedMathquill(),i=p.getFocusedBrailleElement(),"Left"!==t&&"Right"!==t&&"Down"!==t&&"Up"!==t?o&&(o.keystroke(t,r),this.handleLatexChanged(e,o.latex())):(o?a.default.applyArrowKeyAndReturnIfWasAtBounds(o,t,r):i&&(0===i.selectionStart&&"Left"===t||i.selectionStart===n(i).val().length&&"Right"===t||"Up"===t||"Down"===t))&&(r&&r.preventDefault(),"Left"!==t||this.shouldOnlyShowStep()?"Right"!==t||this.shouldOnlyShowStep()?"Down"===t?this.controller.dispatch({type:"on-special-key-pressed",key:"Down"}):"Up"===t&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.model.id}}):"min"===e?this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.model.id,location:"max"}}):"max"===e&&this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.model.id,location:"step"}}):"max"===e?this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.model.id,location:"min"}}):"step"===e&&this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.model.id,location:"max"}}))):this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:this.id}})},y.prototype.shouldOnlyShowStep=function(){return this.model.slider.loopMode===u.SliderLoopMode.PLAY_INDEFINITELY},y.prototype.handleLatexChanged=function(e,t){"min"===e?this.dispatchMinLatexIfChanged(t):"max"===e?this.dispatchMaxLatexIfChanged(t):"step"===e&&this.dispatchStepLatexIfChanged(t)},y.prototype.handleFocusedChanged=function(e,t,r){t&&this.getFocusedInput()!==e?this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.id,location:e}}):this.getFocusedInput()!==e||"none"!==this.controller.getBrailleMode()||r.relatedTarget&&this.node.contains(r.relatedTarget)||this.controller.dispatch({type:"blur-focus-location",location:{type:"slider-limit",id:this.id,location:e}})},y.prototype.dispatchMinLatexIfChanged=function(e){this.model.slider.min!==e&&this.controller.dispatch({type:"set-slider-minlatex",id:this.id,latex:e})},y.prototype.dispatchMaxLatexIfChanged=function(e){this.model.slider.max!==e&&this.controller.dispatch({type:"set-slider-maxlatex",id:this.id,latex:e})},y.prototype.dispatchStepLatexIfChanged=function(e){this.model.slider.step!==e&&this.controller.dispatch({type:"set-slider-steplatex",id:this.id,latex:e})},y.prototype.getDependentLatex=function(){var e=c.getAssignment(this.model)||"";return" \\le "+l.identifierToLatex(e)+" \\le "},y.prototype.getFocusedInput=function(){var e=this.controller.getFocusLocation();if(e&&"slider-limit"===e.type&&e.id===this.id)return e.location},y.prototype.getMQConfig=function(){return{autoOperatorNames:d.getAutoOperators()}},y);function y(){return null!==f&&f.apply(this,arguments)||this}t.default=m}),define("loadcss!expressions/slider-view",function(){}),define("expressions/slider_view",["require","exports","tslib","jquery","keys","dcgview","dcgview-helpers/slider","./slider_limits_view","dcgview-helpers/static-mathquill-view","graphing-calc/models/expression","core/types/slider-loop-modes","loadcss!./slider-view"],function(e,t,r,n,o,i,a,s,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d,p=i.Components.If;d=i.Class,r.__extends(h,d),h.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},h.prototype.template=function(){var e=this;return i.createElement("span",{class:i.const("dcg-slider-container"),tapboundary:i.const("true"),onKeydown:function(t){"Tab"!==o.lookup(t)||t.altKey||t.metaKey||t.ctrlKey||(t.shiftKey?e.isSliderMinFocused()&&e.controller.isInEditListMode()?(null!==t.target&&n(t.target).closest(".dcg-expressionitem").find('[tabindex="0"]:visible:first').trigger("focus"),t.preventDefault(),t.stopPropagation()):e.isSliderThumbFocused()&&(e.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:e.id,location:"step"}}),t.preventDefault(),t.stopPropagation()):!t.shiftKey&&e.isSliderStepFocused()&&(e.controller.isInEditListMode()?e.controller.dispatch({type:"set-focus-location",location:{type:"slider-icon",id:e.id}}):e.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:e.id}}),t.preventDefault(),t.stopPropagation()))}},i.createElement(p,{predicate:function(){return e.shouldShowSlider()}},function(){return i.createElement("div",{class:i.const("dcg-do-blur dcg-slider"),handleEvent:i.const("true")},i.createElement("div",{class:i.const("dcg-minLabel dcg-template-minlabelhtml"),role:i.const("button"),tabindex:i.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-edit-slider-variable-limits",{variable:"none"===e.controller.getBrailleMode()?'"'+l.getAssignment(e.model)+'"':""+l.getAssignment(e.model)})},onTap:function(){return e.onEditLimit("min")}},i.createElement(c.default,{latex:function(){return l.getDisplaySliderMin(e.model)},config:e.const({})})),i.createElement(a.default,{min:function(){return l.getSliderMin(e.model)},max:function(){return l.getSliderMax(e.model)},step:function(){return l.getSliderStep(e.model)},value:function(){return l.getSliderValue(e.model)},ariaLabel:function(){return"none"===e.controller.getBrailleMode()?'"'+l.getAssignment(e.model)+'"':""+l.getAssignment(e.model)},onGrab:e.bindFn(e.onGrab),onDrop:e.bindFn(e.onDrop),onDragUpdate:e.bindFn(e.onDragUpdate),onKeyboardUpdate:e.bindFn(e.onKeyboardUpdate),onUpPress:function(){return e.controller.dispatch({type:"on-special-key-pressed",key:"Up"})},onDownPress:function(){return e.controller.dispatch({type:"on-special-key-pressed",key:"Down"})},onEnterPress:function(){return e.controller.dispatch({type:"on-special-key-pressed",key:"Enter"})},isFocused:e.bindFn(e.isSliderThumbFocused),onFocusedChanged:function(t){t?e.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:e.id}}):e.controller.dispatch({type:"blur-focus-location",location:{type:"slider-thumb",id:e.id}})}}),i.createElement("div",{class:i.const("dcg-maxLabel dcg-template-maxlabelhtml"),onTap:function(){return e.onEditLimit("max")}},i.createElement(c.default,{latex:function(){return l.getDisplaySliderMax(e.model)},config:e.const({})})))}),i.createElement(p,{predicate:function(){return e.shouldShowLimitInputs()}},function(){return i.createElement(s.default,{model:e.props.model,controller:e.props.controller})}))},h.prototype.onGrab=function(){this.dispatchIsDraggingIfChanged(!0)},h.prototype.onDrop=function(){this.controller.dispatch({type:"set-none-selected"}),this.dispatchIsPlayingIfChanged(!1),this.dispatchIsDraggingIfChanged(!1)},h.prototype.onKeyboardUpdate=function(e){this.controller.dispatch({type:"adjust-slider-by-keyboard",id:this.id,adjustment:e})},h.prototype.onDragUpdate=function(e){this.controller.dispatch({type:"adjust-slider-by-dragging-thumb",id:this.model.id,target:e})},h.prototype.onEditLimit=function(e){this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.id,location:e}})},h.prototype.dispatchIsPlayingIfChanged=function(e){this.model.slider.isPlaying!==e&&this.controller.dispatch({type:"set-slider-isplaying",id:this.id,isPlaying:e})},h.prototype.dispatchIsDraggingIfChanged=function(e){this.model.sliderDragging!==e&&this.controller.dispatch({type:"set-slider-dragging",id:this.id,dragging:e})},h.prototype.shouldShowLimitInputs=function(){if(this.controller.isInEditListMode())return!0;if(!l.isSliderMinValid(this.model))return!0;if(!l.isSliderMaxValid(this.model))return!0;if(!l.isSliderStepValid(this.model))return!0;if(this.model.slider.loopMode===u.SliderLoopMode.PLAY_INDEFINITELY)return!0;var e=this.controller.getFocusLocation();return!(!e||"slider-limit"!==e.type&&"expression"!==e.type||e.id!==this.id)},h.prototype.shouldShowSlider=function(){return!this.shouldShowLimitInputs()},h.prototype.isSliderThumbFocused=function(){var e=this.controller.getFocusLocation();return!(!e||"slider-thumb"!==e.type||e.id!==this.id)},h.prototype.isSliderMinFocused=function(){var e=this.controller.getFocusLocation();return!(!e||"slider-limit"!==e.type||e.id!==this.id||"min"!==e.location)},h.prototype.isSliderStepFocused=function(){var e=this.controller.getFocusLocation();return!(!e||"slider-limit"!==e.type||e.id!==this.id||"step"!==e.location)},r=h;function h(){return null!==d&&d.apply(this,arguments)||this}t.default=r}),define("loadcss!prompt-sliders",function(){}),define("expressions/promptslider_view",["require","exports","tslib","core/lib/label","jquery","lib/aria","dcgview","graphing-calc/models/list","graphing-calc/models/ticker","loadcss!prompt-sliders"],function(e,t,r,n,o,i,a,s,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,u=a.Components,d=u.For,p=u.If;l=a.Class,r.__extends(h,l),h.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model()},h.prototype.template=function(){var e=this;return a.createElement("div",{class:a.const("dcg-create-sliders dcg-action-createslider"),handleEvent:a.const("true"),onTap:this.bindFn(this.onCreateSlider)},a.createElement("span",{class:a.const("dcg-msg")},function(){return e.controller.s("graphing-calculator-label-add-slider")}),a.createElement("span",{class:a.const("btns")},a.createElement(d,{each:function(){return e.getMissingVariables().slice(0,4)}},a.createElement("span",null,function(t){return a.createElement("div",{class:a.const("dcg-slider-btn-container"),var_name:e.const(t)},a.createElement("div",{role:a.const("button"),tabindex:a.const("0"),class:function(){return{"dcg-btn-slider":!0,"dcg-btn-blue":1===e.getMissingVariables().length,"dcg-btn-light-gray":1!==e.getMissingVariables().length}},didMount:function(e){e.innerHTML=n.identifierToHTML(t)}}))})),a.createElement(p,{predicate:function(){return 1<e.getMissingVariables().length}},function(){return a.createElement("div",{class:a.const("dcg-slider-btn-container dcg-all")},a.createElement("div",{role:a.const("button"),tabindex:a.const("0"),class:a.const("dcg-btn-slider dcg-btn-blue")},function(){return e.controller.s("graphing-calculator-button-slider-add-all-variables")}))})))},h.prototype.onCreateSlider=function(e){var t,r;this.controller.dispatch({type:"set-none-selected"}),e.target&&(r=o(e.target).closest(".dcg-slider-btn-container")).length&&(r=(t=r.hasClass("dcg-all"))?this.getMissingVariables():[r.attr("var_name")],"ticker"===this.model.type?this.controller.dispatch({type:"create-sliders-for-ticker",variables:this.getMissingVariables()}):this.controller.dispatch({type:"create-sliders-for-item",id:this.model.id,variables:r}),"keyboard"===e.device&&(r=this.model.id,(e=this.props.controller().getItemSelectorById(r))&&(t?this.controller.dispatch({type:"move-focus-to-item",id:r}):e.find(".dcg-btn-blue").trigger("focus"))))},h.prototype.getMissingVariables=function(){return"ticker"===this.model.type?c.getMissingVariables(this.model):s.getMissingVariablesForItem(this.model)},h.prototype.didMount=function(){var e=this;this.promptAlertTimeout&&clearTimeout(this.promptAlertTimeout),this.promptAlertTimeout=setTimeout(function(){for(var t=[],r=e.getMissingVariables(),n=0;n<r.length;n++)t.push('"'+r[n]+'"');i.alert(e.controller.s("graphing-calculator-narration-add-slider-prompt",{vars:t.join(",")})),e.promptAlertTimeout=0},2e3)},h.prototype.didUnmount=function(){this.promptAlertTimeout&&clearTimeout(this.promptAlertTimeout)},r=h;function h(){return null!==l&&l.apply(this,arguments)||this}t.default=r}),define("loadcss!expressions/label_view",function(){}),define("loadcss!toggle",function(){}),define("expressions/label_view",["require","exports","tslib","dcgview","graphing-calc/models/expression","core/graphing-calc/json/expression","loadcss!./label_view","loadcss!toggle"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,s=n.Components,c=s.Input,l=s.IfElse;a=n.Class,r.__extends(u,a),u.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,n.createElement("div",{class:function(){return{"dcg-label-visible":e.getShowLabel(),"dcg-label-container":!0,"dcg-do-blur":!0}},tapboundary:n.const("true"),handleEvent:n.const("true")},n.createElement("span",{role:n.const("checkbox"),"aria-checked":this.bindFn(this.getShowLabel),tabindex:n.const("0"),class:function(){return{"dcg-checkbox":!0,"dcg-checkbox-label-colon":e.getShowLabel()&&!e.hasEditableLabel()}},"aria-label":function(){return e.controller.s("graphing-calculator-button-label")},onTap:this.bindFn(this.onCheckboxInput)},n.createElement("span",{class:function(){return{"dcg-checkbox-box":!0,"dcg-checked":e.getShowLabel()}}},n.createElement("i",{class:n.const("dcg-icon-check"),"aria-hidden":n.const("true")})),n.const(" "),n.createElement("span",{class:n.const("dcg-checkbox-label"),"aria-hidden":n.const("true")},function(){return e.controller.s("graphing-calculator-button-label")})),l(this.bindFn(this.hasEditableLabel),{true:function(){return n.createElement("div",{class:n.const("dcg-editable-mode-toggle")},n.createElement("div",{class:n.const("dcg-option-toggle-view")},n.createElement("div",{class:n.const("dcg-toggle-container")},n.createElement("div",{class:n.const("dcg-toggle")},n.createElement("div",{class:function(){return{"dcg-toggle-option":!0,"dcg-selected-toggle":e.model.editableLabelMode===i.EditableLabelMode.Math}},role:n.const("button"),tabindex:n.const(0),"aria-pressed":function(){return e.model.editableLabelMode===i.EditableLabelMode.Math},"aria-label":function(){return e.controller.s("graphing-calculator-narration-editable-label-mode-editable-math")},didMount:function(t){void 0!==e.lastToggleOption&&"math"===e.lastToggleOption&&(e.lastToggleOption=void 0,t.focus())},onTap:function(){e.lastToggleOption="Editable Math",e.controller.dispatch({type:"set-item-editable-label-mode",id:e.id,editableLabelMode:i.EditableLabelMode.Math})}},function(){return e.controller.s("graphing-calculator-button-editable-math")}),n.createElement("div",{class:function(){return{"dcg-toggle-option":!0,"dcg-selected-toggle":e.model.editableLabelMode===i.EditableLabelMode.Text}},role:n.const("button"),tabindex:n.const(0),"aria-pressed":function(){return e.model.editableLabelMode===i.EditableLabelMode.Text},"aria-label":function(){return e.controller.s("graphing-calculator-narration-editable-label-mode-editable-text")},didMount:function(t){void 0!==e.lastToggleOption&&"text"===e.lastToggleOption&&(e.lastToggleOption=void 0,t.focus())},onTap:function(){e.lastToggleOption="Editable Text",e.controller.dispatch({type:"set-item-editable-label-mode",id:e.id,editableLabelMode:i.EditableLabelMode.Text})}},function(){return e.controller.s("graphing-calculator-button-editable-text")})))))},false:function(){return n.createElement(c,{class:function(){return{"dcg-label-input":!0,"dcg-disabled-input":e.getIsDisabled(),"dcg-disabled-editable-input":e.hasEditableLabel()}},"aria-label":function(){return e.controller.s("graphing-calculator-narration-label-text")},"aria-disabled":function(){return e.getIsDisabled()||e.hasEditableLabel()},value:e.bindFn(e.getLabel),onInput:e.bindFn(e.onLabelInput)})}}))},u.prototype.getLabel=function(){return this.model.label||""},u.prototype.hasEditableLabel=function(){return o.hasEditableLabel(this.model)},u.prototype.getShowLabel=function(){return!!this.model.showLabel},u.prototype.getIsDisabled=function(){return 0===this.getLabel().length&&!this.getShowLabel()},u.prototype.onLabelInput=function(e){this.controller.dispatch({type:"set-item-label",id:this.id,label:e}),this.controller.dispatch({type:"set-item-showlabel",id:this.id,showLabel:!!e})},u.prototype.onCheckboxInput=function(){this.controller.dispatch({type:"set-item-showlabel",id:this.id,showLabel:!this.getShowLabel()})},r=u;function u(){return null!==a&&a.apply(this,arguments)||this}t.default=r}),define("loadcss!dcgview-helpers/checkbox",function(){}),define("dcgview-helpers/checkbox",["require","exports","tslib","dcgview","jquery","loadcss!./checkbox"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkbox=void 0;var i;i=n.Class,r.__extends(a,i),a.prototype.template=function(){var e=this;return n.createElement("div",{class:function(){return{"dcg-component-checkbox":!0,"dcg-checked":e.props.checked(),"dcg-disabled":e.props.disabled&&e.props.disabled(),"dcg-small":e.props.small&&e.props.small()}},onTap:this.bindFn(this.onChange)},n.createElement("span",{tabindex:n.const(0),class:n.const("dcg-checkbox"),role:n.const("checkbox"),"aria-label":this.props.ariaLabel,"aria-disabled":function(){return e.props.disabled&&e.props.disabled()},"aria-checked":this.props.checked},n.createElement("i",{class:n.const("dcg-icon-check"),"aria-hidden":n.const("true")})),n.createElement("span",{class:n.const("dcg-checkbox-children")},this.children))},a.prototype.onChange=function(e){e.target&&o(e.target).attr("href")||this.props.disabled&&this.props.disabled()||this.props.onChange(!this.props.checked())},r=a;function a(){return null!==i&&i.apply(this,arguments)||this}t.Checkbox=r}),define("loadcss!expressions/cdf-footer-view",function(){}),define("expressions/cdf-footer-view",["require","exports","tslib","dcgview","keys","graphing-calc/models/expression","dcgview-helpers/mathquill-view","./evaluation-view","main/mathquill-operators","dcgview-helpers/checkbox","../shared-components/mathquill-braille-wrapper","./expression_view","loadcss!./cdf-footer-view"],function(e,t,r,n,o,i,a,s,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p,h=n.Components.If,f=(p=n.Class,r.__extends(g,p),g.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,n.createElement("div",{class:n.const("dcg-cdf-footer-container dcg-mq-underline-container dcg-do-blur"),tapboundary:n.const("true"),handleEvent:n.const("true")},n.createElement(l.Checkbox,{checked:function(){return i.shouldShowCDFFooter(e.model)},disabled:function(){return i.isListValuedDistribution(e.model)},onChange:function(t){e.controller.dispatch({type:"set-show-cdf",id:e.model.id,showCDF:t})},ariaLabel:function(){return e.controller.s("graphing-calculator-button-find-cdf")}},function(){return e.controller.s("graphing-calculator-button-find-cdf")}),n.createElement(h,{predicate:function(){return i.shouldShowCDFFooter(e.model)}},function(){return n.createElement("div",null,n.createElement("span",{class:n.const("dcg-cdf-limit-name")},function(){return e.controller.s("graphing-calculator-label-cdf-minimum")}),n.createElement(u.default,r.__assign({latex:function(){return i.getCDFMin(e.model)},hasError:function(){return!i.isCDFMinValid(e.model)},brailleShouldFocus:function(){return e.isInputFocused("min")},onBrailleFocusedChanged:function(t){return e.handleFocusedChanged("min",t)},ariaLabel:function(){return e.controller.s("graphing-calculator-narration-cdf-minimum")},placeholder:function(){return i.getCDFMinPlaceholder(e.model)},onBrailleInput:e.bindFn(e.updateCDFMin),onBrailleKeydown:function(t){return e.handleBraillePressedKey(t,"min")}},d.getBrailleWrapperProps(e.props.controller())),n.createElement(a.default,{latex:function(){return i.getCDFMin(e.model)},hasError:function(){return!i.isCDFMinValid(e.model)},isFocused:function(){return e.isInputFocused("min")},onFocusedChanged:function(t){return e.handleFocusedChanged("min",t)},config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-cdf-minimum")},getAriaPostLabel:function(){return""},placeholder:function(){return i.getCDFMinPlaceholder(e.model)},onUserPressedKey:function(t,r){return e.handlePressedKey(t,r,"min")},onUserChangedLatex:e.bindFn(e.updateCDFMin),onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},capExpressionSize:function(){return e.model.controller.getCapExpressionSize()},needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}})),n.createElement("span",{class:n.const("dcg-cdf-limit-name")},function(){return e.controller.s("graphing-calculator-label-cdf-maximum")}),n.createElement(u.default,r.__assign({latex:function(){return i.getCDFMax(e.model)},hasError:function(){return!i.isCDFMaxValid(e.model)},brailleShouldFocus:function(){return e.isInputFocused("max")},onBrailleFocusedChanged:function(t){return e.handleFocusedChanged("max",t)},ariaLabel:function(){return e.controller.s("graphing-calculator-narration-cdf-maximum")},placeholder:function(){return i.getCDFMaxPlaceholder(e.model)},onBrailleInput:e.bindFn(e.updateCDFMax),onBrailleKeydown:function(t){return e.handleBraillePressedKey(t,"max")}},d.getBrailleWrapperProps(e.props.controller())),n.createElement(a.default,{latex:function(){return i.getCDFMax(e.model)},hasError:function(){return!i.isCDFMaxValid(e.model)},isFocused:function(){return e.isInputFocused("max")},onFocusedChanged:function(t){return e.handleFocusedChanged("max",t)},config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-cdf-maximum")},getAriaPostLabel:function(){return""},placeholder:function(){return i.getCDFMaxPlaceholder(e.model)},onUserPressedKey:function(t,r){return e.handlePressedKey(t,r,"max")},onUserChangedLatex:e.bindFn(e.updateCDFMax),onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},capExpressionSize:function(){return e.model.controller.getCapExpressionSize()},needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}})),n.createElement(h,{predicate:e.bindFn(e.showEvaluation)},function(){return n.createElement("div",{class:n.const("dcg-cdf-evaluation-container")},n.createElement(s.default,{val:function(){return i.getCDFEvaluation(e.model)},controller:e.props.controller,dependent:e.const(""),id:function(){return e.model.id},focusable:e.const(!0)}))}))}))},g.prototype.handleBraillePressedKey=function(e,t){var r=o.lookup(e);r&&this.handlePressedKey(r,e,t)},g.prototype.handlePressedKey=function(e,t,r){if("Esc"!==e){if("Enter"===e)return this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});var n=a.default.getFocusedMathquill();n&&(n.keystroke(e,t),"min"===r&&i.getCDFMin(this.model)!==n.latex()&&this.updateCDFMin(n.latex()),"max"===r&&i.getCDFMax(this.model)!==n.latex()&&this.updateCDFMax(n.latex()))}else this.controller.dispatch({type:"set-focus-location",location:void 0})},g.prototype.updateCDFMax=function(e){this.controller.dispatch({type:"set-cdf-max",id:this.model.id,latex:e})},g.prototype.updateCDFMin=function(e){this.controller.dispatch({type:"set-cdf-min",id:this.model.id,latex:e})},g.prototype.showEvaluation=function(){return!!i.isCDFMaxValid(this.model)&&!!i.isCDFMinValid(this.model)},g.prototype.isInputFocused=function(e){var t=this.controller.getFocusLocation();return!(!t||"cdf-limit"!==t.type||t.id!==this.id)&&t.location===e},g.prototype.handleFocusedChanged=function(e,t){t?this.controller.dispatch({type:"set-focus-location",location:{type:"cdf-limit",id:this.id,location:e}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"cdf-limit",id:this.id,location:e}})},g.prototype.getMQConfig=function(){return{autoOperatorNames:c.getAutoOperators({})}},g);function g(){var e=null!==p&&p.apply(this,arguments)||this;return e.focusedValues={},e}t.default=f}),define("loadcss!expressions/parameter_suggestions_view",function(){}),define("expressions/parameters_suggestions_view",["require","exports","tslib","dcgview","graphing-calc/models/expression","loadcss!./parameter_suggestions_view"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParametersSuggestionsView=void 0;var i,a=n.Components,s=a.If,c=a.For,l=a.SwitchUnion;i=n.Class,r.__extends(u,i),u.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},u.prototype.template=function(){var e=this;return l(this.bindFn(this.getSuggestionType),{list:function(){return n.createElement(c,{each:e.bindFn(e.getListOfParameters)},n.createElement("div",{class:function(){return{"dcg-parameter-suggestion-container":!0,"dcg-parameter-suggestion-braille":"none"!==e.controller.getBrailleMode()}}},function(t){return n.createElement("span",{class:n.const("dcg-parameter-name")},function(){return e.getParamName(t)})}))},listWithDefault:function(){return n.createElement(c,{each:e.bindFn(e.getListOfParameters)},n.createElement("div",{class:function(){return{"dcg-parameter-suggestion-container":!0,"dcg-parameter-suggestion-braille":"none"!==e.controller.getBrailleMode()}},onTap:e.bindFn(e.fillInDefaults)},function(t){return n.createElement("span",{class:n.const("dcg-parameter-name")},function(){return e.getParamName(t)},n.createElement(s,{predicate:function(){return e.shouldShowDefaultValue(t)}},function(){return n.createElement("span",{class:n.const("dcg-default-marker")},n.const("= "),function(){return e.getDefaultValue(t)})}))}))},individual:function(){return n.createElement("div",{class:function(){return{"dcg-parameter-suggestion-container":!0,"dcg-parameter-suggestion-braille":"none"!==e.controller.getBrailleMode()}}},e.bindFn(e.getMissingRequiredParamText))},none:function(){}})},u.prototype.getExtractedAndDefaultArgString=function(e){var t=e.params,r=e.values,n=e.defaults;return t.map(function(e,t){return e=r[e],t=n[t],e||t||""}).join(",")},u.prototype.fillInDefaults=function(){var e,t,r,n,i=o.parseToplevelFunction(this.model);i&&(e=i.symbol,t=(n=i.span).input,r=n.start,n=n.end,i="\\operatorname{"+e+"}\\left("+this.getExtractedAndDefaultArgString(i)+"\\right)",n=t.slice(0,r)+i+t.slice(n),this.controller.dispatch({type:"set-item-latex",id:this.id,latex:n}),this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.id}}),this.controller.dispatch({type:"keypad/press-key",key:"Left"}))},u.prototype.isMissingDefault=function(){if(!o.isPrimaryLatexValid(this.model))return!1;var e=o.parseToplevelFunction(this.model);if(!e)return!1;for(var t=0;t<e.params.length;t++)if(this.shouldShowDefaultValue(e.params[t]))return!0;return!1},u.prototype.getSuggestionType=function(){return 1<this.getListOfParameters().length?this.isMissingDefault()?"listWithDefault":"list":this.missingRequiredParam()?"individual":"none"},u.prototype.missingRequiredParam=function(){var e=o.parseToplevelFunction(this.model);if(e&&1===e.params.length&&(e=e.params[0],!this.getDefaultValue(e)&&!this.getParameterExtractedValue(e)))return e},u.prototype.getMissingRequiredParamText=function(){var e=this.missingRequiredParam();return e?this.controller.s("graphing-calculator-text-enter-pareneter",{param:this.getParamName(e)}):""},u.prototype.getDefaultValue=function(e){var t=o.parseToplevelFunction(this.model);if(!t||!t.params)return"";for(var r=0;r<t.params.length;r++)if(t.params[r]===e)return t.defaults[r]||"";return""},u.prototype.getParameterExtractedValue=function(e){var t=o.parseToplevelFunction(this.model);return t&&t.values[e]||""},u.prototype.shouldShowDefaultValue=function(e){return!this.getParameterExtractedValue(e)&&!!this.getDefaultValue(e)},u.prototype.getListOfParameters=function(){var e=o.parseToplevelFunction(this.model);return e?e.params:[]},u.prototype.getParamName=function(e){switch(e){case"mean":return this.controller.s("graphing-calculator-text-parameter-name-mean");case"stdev":return this.controller.s("graphing-calculator-text-parameter-name-stddev");case"dof":return this.controller.s("graphing-calculator-text-parameter-name-dof");case"probsuccess":return this.controller.s("graphing-calculator-text-parameter-name-probsuccess");case"trials":return this.controller.s("graphing-calculator-text-parameter-name-trials");case"data":return this.controller.s("graphing-calculator-text-parameter-name-data");case"binwidth":return this.controller.s("graphing-calculator-text-parameter-name-binwidth");case"min":return this.controller.s("graphing-calculator-text-parameter-name-min");case"max":return this.controller.s("graphing-calculator-text-parameter-name-max");case"height":return this.controller.s("graphing-calculator-text-parameter-name-height");case"offset":return this.controller.s("graphing-calculator-text-parameter-name-offset");default:return e}},r=u;function u(){return null!==i&&i.apply(this,arguments)||this}t.ParametersSuggestionsView=r}),define("loadcss!expressions/distribution_parameters_view",function(){}),define("expressions/distribution_parameters_view",["require","exports","tslib","dcgview","graphing-calc/models/expression","expressions/cdf-footer-view","./parameters_suggestions_view","loadcss!./distribution_parameters_view"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,c=n.Components.If;s=n.Class,r.__extends(l,s),l.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,n.createElement("div",{class:n.const("dcg-distribution-parameters-container dcg-mq-underline-container dcg-do-blur"),tapboundary:n.const("true"),handleEvent:n.const("true")},n.createElement(a.ParametersSuggestionsView,{model:this.props.model,controller:this.props.controller}),n.createElement(c,{predicate:function(){return o.shouldShowCDFCheckbox(e.model)}},function(){return n.createElement(i.default,{model:e.props.model,controller:e.props.controller})}))},r=l;function l(){return null!==s&&s.apply(this,arguments)||this}t.default=r}),define("loadcss!expressions/visualization_parameters_view",function(){}),define("expressions/visualization_parameters_view",["require","exports","tslib","dcgview","keys","graphing-calc/models/expression","dcgview-helpers/checkbox","dcgview-helpers/mathquill-view","./parameters_suggestions_view","main/mathquill-operators","../shared-components/mathquill-braille-wrapper","./expression_view","loadcss!./visualization_parameters_view","loadcss!toggle"],function(e,t,r,n,o,i,a,s,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p,h,f=n.Components.For,g=(v=n.Components).SwitchUnion,m=v.If,y=(h=n.Class,r.__extends(x,h),x.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-toggle-container")},n.createElement("div",{class:n.const("dcg-expression-footer-title")},this.props.title,n.createElement(m,{predicate:function(){return!!e.props.helpLink}},function(){return n.createElement("a",{"aria-label":function(){return e.props.controller().s("account-shell-link-help")},class:n.const("dcg-expression-footer-title-help"),target:n.const("_blank"),href:e.props.helpLink},n.createElement("i",{class:n.const("dcg-icon-question-sign"),"aria-hidden":n.const("true")}))})),n.createElement(f,{each:this.props.options,key:function(e){return e.name}},n.createElement("div",{class:n.const("dcg-toggle")},function(t){return n.createElement("div",{class:function(){return{"dcg-toggle-option":!0,"dcg-selected-toggle":e.isSelected(t.name)}},role:n.const("button"),tabindex:n.const(0),"aria-label":function(){return e.props.title()+": "+t.displayName},"aria-pressed":function(){return e.isSelected(t.name)},onTap:function(){return e.props.controller().dispatch({type:"set-visualization-prop",id:e.props.model().id,prop:e.props.vizProp(),value:t.name})}},function(){return t.displayName})})))},x.prototype.isSelected=function(e){return i.getVizProp(this.props.model(),this.props.vizProp())===e},x),v=(p=n.Class,r.__extends(b,p),b.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,n.createElement("div",{class:n.const("dcg-visualization-parameters-container dcg-mq-underline-container dcg-do-blur"),tapboundary:n.const("true"),handleEvent:n.const("true")},n.createElement(c.ParametersSuggestionsView,r.__assign({},this.props)),n.createElement("div",{class:n.const("dcg-smaller-font")},g(function(){return e.getVisualizationType()},{boxplot:function(){return n.createElement("div",null,n.createElement("div",{class:n.const("dcg-expression-footer-title")},function(){return e.controller.s("graphing-calculator-heading-visual-parameters-display-properties")}),e.makeMQInput({prop:"axisOffset",siblingProps:["breadth"],default:"1",name:function(){return e.controller.s("graphing-calculator-narration-visual-parameters-offset")}}),e.makeMQInput({prop:"breadth",siblingProps:["axisOffset"],default:"1",name:function(){return"y"===i.getVizProp(e.model,"alignedAxis")?e.controller.s("graphing-calculator-narration-visual-parameters-width"):e.controller.s("graphing-calculator-narration-visual-parameters-height")}}),n.createElement(a.Checkbox,{checked:function(){return!!i.getVizProp(e.model,"showBoxplotOutliers")},onChange:e.bindFn(e.onToggleOutliers),ariaLabel:function(){return e.controller.s("graphing-calculator-button-visual-parameters-exclude-outliers")}},n.createElement("span",{class:n.const("dcg-parameter-name")},function(){return e.controller.s("graphing-calculator-button-visual-parameters-exclude-outliers")})))},dotplot:function(){return n.createElement(m,{predicate:function(){return i.needsDotplotXMode(e.model)}},function(){return n.createElement("div",{class:n.const("dcg-toggles-container")},n.createElement(y,r.__assign({},e.props,{vizProp:function(){return"dotplotXMode"},options:function(){return[{name:"exact",displayName:e.controller.s("graphing-calculator-button-visual-parameters-exact")},{name:"bin",displayName:e.controller.s("graphing-calculator-button-visual-parameters-binned")}]},title:function(){return e.controller.s("graphing-calculator-heading-visual-parameters-x-values")}})),n.createElement(y,r.__assign({},e.props,{vizProp:function(){return"binAlignment"},options:function(){return[{name:"center",displayName:e.controller.s("graphing-calculator-button-visual-parameters-center")},{name:"left",displayName:e.controller.s("graphing-calculator-button-visual-parameters-left")}]},title:function(){return e.controller.s("graphing-calculator-heading-visual-parameters-bin-alignment")}})))})},histogram:function(){return n.createElement("div",{class:n.const("dcg-toggles-container")},n.createElement(y,r.__assign({},e.props,{vizProp:function(){return"histogramMode"},options:function(){return[{name:"",displayName:e.controller.s("graphing-calculator-button-visual-parameters-count")},{name:"relative",displayName:e.controller.s("graphing-calculator-button-visual-parameters-relative")},{name:"density",displayName:e.controller.s("graphing-calculator-button-visual-parameters-density")}]},title:function(){return e.controller.s("graphing-calculator-heading-visual-parameters-bar-heights")},helpLink:e.const("https://help.desmos.com/hc/en-us/articles/360022405991")})),n.createElement(y,r.__assign({},e.props,{vizProp:function(){return"binAlignment"},options:function(){return[{name:"center",displayName:e.controller.s("graphing-calculator-button-visual-parameters-center")},{name:"left",displayName:e.controller.s("graphing-calculator-button-visual-parameters-left")}]},title:function(){return e.controller.s("graphing-calculator-heading-visual-parameters-bin-alignment")}})))},none:function(){return n.createElement("span",null)}})))},b.prototype.makeMQInput=function(e){var t=this;return n.createElement("span",null,n.createElement("span",{class:n.const("dcg-parameter-name")},e.name,n.const(":")),n.createElement(u.default,r.__assign({latex:function(){return t.getPropLatex(e)},ariaLabel:e.name,placeholder:function(){return e.default},brailleShouldFocus:function(){return t.isInputFocused(e.prop)},onBrailleInput:function(r){return t.handleLatexChanged(e.prop,r)},hasError:function(){return!i.isVizPropValid(t.model,e.prop)},onBrailleFocusedChanged:function(r){return t.handleFocusedChanged(e.prop,r)},onBrailleKeydown:function(r){return t.handleBraillePressedKey(r,e.prop)}},d.getBrailleWrapperProps(this.props.controller())),n.createElement(s.default,{latex:function(){return t.getPropLatex(e)},hasError:function(){return!i.isVizPropValid(t.model,e.prop)},isFocused:function(){return t.isInputFocused(e.prop)},onFocusedChanged:function(r){return t.handleFocusedChanged(e.prop,r)},placeholder:function(){return e.default},config:this.bindFn(this.getMQConfig),getAriaLabel:e.name,onUserPressedKey:function(r,n){return t.handlePressedKey(r,n,e.prop)},getAriaPostLabel:function(){return""},onUserChangedLatex:function(r){return t.handleLatexChanged(e.prop,r)},onExpressionSizeExceeded:function(){return t.controller.dispatch({type:"expression-size-exceeded"})},capExpressionSize:function(){return t.model.controller.getCapExpressionSize()},needsSystemKeypad:function(){return!t.controller.isKeypadEnabled()}})))},b.prototype.handleBraillePressedKey=function(e,t){var r=o.lookup(e);r&&this.handlePressedKey(r,e,t)},b.prototype.handlePressedKey=function(e,t,r){if("Esc"!==e){if("Enter"===e)return this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});var n=s.default.getFocusedMathquill();n&&(n.keystroke(e,t),this.handleLatexChanged(r,n.latex()))}else this.controller.dispatch({type:"set-focus-location",location:void 0})},b.prototype.isInputFocused=function(e){var t=this.controller.getFocusLocation();return!(!t||"visualization-prop"!==t.type||t.id!==this.id)&&t.location===e},b.prototype.handleFocusedChanged=function(e,t){t?this.controller.dispatch({type:"set-focus-location",location:{type:"visualization-prop",id:this.id,location:e}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"visualization-prop",id:this.id,location:e}})},b.prototype.getPropLatex=function(e){return e=e.prop,"string"==typeof(e=i.getVizProp(this.model,e))?e:""},b.prototype.handleLatexChanged=function(e,t){i.getVizProp(this.model,e)!==t&&this.controller.dispatch({type:"set-visualization-prop",id:this.id,prop:e,value:t})},b.prototype.onToggleOutliers=function(){var e=i.getVizProp(this.model,"showBoxplotOutliers");this.controller.dispatch({type:"set-visualization-prop",id:this.id,prop:"showBoxplotOutliers",value:!e})},b.prototype.getVisualizationType=function(){return i.isPrimaryLatexValid(this.model)?i.isBoxPlot(this.model)?"boxplot":i.isDotPlot(this.model)?"dotplot":i.isHistogram(this.model)?"histogram":"none":"none"},b.prototype.getMQConfig=function(){return{autoOperatorNames:l.getAutoOperators()}},b);function b(){return null!==p&&p.apply(this,arguments)||this}function x(){return null!==h&&h.apply(this,arguments)||this}t.default=v}),define("loadcss!expressions/ttest_footer_view",function(){}),define("expressions/ttest_footer_view",["require","exports","tslib","dcgview","graphing-calc/models/expression","core/lib/number-to-latex","dcgview-helpers/static-mathquill-view","loadcss!./ttest_footer_view"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s;s=n.Class,r.__extends(c,s),c.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},c.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-ttest-footer-container dcg-do-blur"),handleEvent:n.const("true")},n.createElement("table",null,n.createElement("tr",null,n.createElement("td",null,n.createElement("div",{class:n.const("dcg-value"),role:n.const("textbox"),"aria-readonly":n.const("true"),tabindex:n.const("0"),"aria-label":function(){return"Less than: "+e.getLessThan()}},n.createElement("span",{class:n.const("dcg-operator")},n.createElement(a.default,{config:this.const({}),latex:this.const("<")})),n.createElement("span",{class:n.const("dcg-evaluation")},n.createElement(a.default,{config:this.const({}),latex:function(){return e.getLessThan()}}))))),n.createElement("tr",null,n.createElement("td",null,n.createElement("div",{class:n.const("dcg-value"),role:n.const("textbox"),"aria-readonly":n.const("true"),tabindex:n.const("0"),"aria-label":function(){return"Greater than: "+e.getGreaterThan()}},n.createElement("span",{class:n.const("dcg-operator")},n.createElement(a.default,{config:this.const({}),latex:this.const(">")})),n.createElement("span",{class:n.const("dcg-evaluation")},n.createElement(a.default,{config:this.const({}),latex:function(){return e.getGreaterThan()}}))))),n.createElement("tr",null,n.createElement("td",null,n.createElement("div",{class:n.const("dcg-value"),role:n.const("textbox"),"aria-readonly":n.const("true"),tabindex:n.const("0"),"aria-label":function(){return"Not equal: "+e.getNotEqual()}},n.createElement("span",{class:n.const("dcg-operator")},n.createElement(a.default,{config:this.const({}),latex:this.const("")})),n.createElement("span",{class:n.const("dcg-evaluation")},n.createElement(a.default,{config:this.const({}),latex:function(){return e.getNotEqual()}})))))))},c.prototype.getLessThan=function(){var e=o.getTTestResults(this.model);return e?i.numberToStatsConfidenceLatex(e.lessThan,5):""},c.prototype.getGreaterThan=function(){var e=o.getTTestResults(this.model);return e?i.numberToStatsConfidenceLatex(e.greaterThan,5):""},c.prototype.getNotEqual=function(){var e=o.getTTestResults(this.model);return e?i.numberToStatsConfidenceLatex(e.notEqual,5):""},r=c;function c(){return null!==s&&s.apply(this,arguments)||this}t.default=r}),define("loadcss!expressions/stats_footer_view",function(){}),define("expressions/stats_footer_view",["require","exports","tslib","dcgview","graphing-calc/models/expression","dcgview-helpers/static-mathquill-view","core/lib/number-to-latex","loadcss!./stats_footer_view"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s;s=n.Class,r.__extends(c,s),c.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,n.createElement("div",{class:n.const("dcg-stats-footer-container dcg-do-blur"),handleEvent:n.const("true")},n.createElement("table",null,n.createElement("tr",null,n.createElement("td",null,n.createElement("div",{class:n.const("dcg-value"),role:n.const("textbox"),"aria-readonly":n.const("true"),tabindex:n.const("0"),"aria-label":function(){return"Min: "+e.getMin()}},n.createElement("span",{class:n.const("dcg-row-header")},n.const("Min")),n.createElement("span",{class:n.const("dcg-evaluation")},n.createElement(i.default,{config:this.const({}),latex:this.bindFn(this.getMin)}))))),n.createElement("tr",null,n.createElement("td",null,n.createElement("div",{class:n.const("dcg-value"),role:n.const("textbox"),"aria-readonly":n.const("true"),tabindex:n.const("0"),"aria-label":function(){return"Q1: "+e.getQ1()}},n.createElement("span",{class:n.const("dcg-row-header")},n.const("Q1")),n.createElement("span",{class:n.const("dcg-evaluation")},n.createElement(i.default,{config:this.const({}),latex:this.bindFn(this.getQ1)}))))),n.createElement("tr",null,n.createElement("td",null,n.createElement("div",{class:n.const("dcg-value"),role:n.const("textbox"),"aria-readonly":n.const("true"),tabindex:n.const("0"),"aria-label":function(){return"Median: "+e.getMedian()}},n.createElement("span",{class:n.const("dcg-row-header")},n.const("Median")),n.createElement("span",{class:n.const("dcg-evaluation")},n.createElement(i.default,{config:this.const({}),latex:this.bindFn(this.getMedian)}))))),n.createElement("tr",null,n.createElement("td",null,n.createElement("div",{class:n.const("dcg-value"),role:n.const("textbox"),"aria-readonly":n.const("true"),tabindex:n.const("0"),"aria-label":function(){return"Q3: "+e.getQ3()}},n.createElement("span",{class:n.const("dcg-row-header")},n.const("Q3")),n.createElement("span",{class:n.const("dcg-evaluation")},n.createElement(i.default,{config:this.const({}),latex:this.bindFn(this.getQ3)}))))),n.createElement("tr",null,n.createElement("td",null,n.createElement("div",{class:n.const("dcg-value"),role:n.const("textbox"),"aria-readonly":n.const("true"),tabindex:n.const("0"),"aria-label":function(){return"Max: "+e.getMax()}},n.createElement("span",{class:n.const("dcg-row-header")},n.const("Max")),n.createElement("span",{class:n.const("dcg-evaluation")},n.createElement(i.default,{config:this.const({}),latex:this.bindFn(this.getMax)})))))))},c.prototype.getMin=function(){var e=o.getStatsResults(this.model);return e?a.numberToDecimalString(e.min):""},c.prototype.getQ1=function(){var e=o.getStatsResults(this.model);return e?a.numberToDecimalString(e.q1):""},c.prototype.getMedian=function(){var e=o.getStatsResults(this.model);return e?a.numberToDecimalString(e.median):""},c.prototype.getQ3=function(){var e=o.getStatsResults(this.model);return e?a.numberToDecimalString(e.q3):""},c.prototype.getMax=function(){var e=o.getStatsResults(this.model);return e?a.numberToDecimalString(e.max):""},r=c;function c(){return null!==s&&s.apply(this,arguments)||this}t.default=r}),define("loadcss!expressions/action-info-view",function(){}),define("expressions/action-info-view",["require","exports","tslib","dcgview","main/mathquill-operators","dcgview-helpers/static-mathquill-view","loadcss!./action-info-view"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a;a=n.Class,r.__extends(s,a),s.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model()},s.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-action-info"),handleEvent:n.const("true")},n.createElement("span",{class:n.const("dcg-action-label")},n.const("Run ")),n.createElement(i.default,{latex:function(){return e.model.clickableInfo.latex},config:this.bindFn(this.getMQConfig)}),n.createElement("span",{class:n.const("dcg-action-label")},n.const(" on click")),n.createElement("span",{class:n.const("dcg-click-edit"),role:n.const("button"),tabindex:n.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-edit-action")},onTap:this.bindFn(this.editAction)},n.createElement("i",{class:n.const("dcg-icon-pencil"),"aria-hidden":n.const("true")})))},s.prototype.editAction=function(){"expression"===this.model.type?this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"expression",model:this.model,guid:this.getMenuGUID(),focusFirstOption:!1}}):this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"image",model:this.model,guid:this.getMenuGUID(),focusFirstOption:!1}}),this.controller.dispatch({type:"set-focus-location",location:{type:"expression-menu",id:this.model.id,location:"updaterule"}})},s.prototype.getMenuGUID=function(){return this.model.guid},s.prototype.getMQConfig=function(){return{autoOperatorNames:o.getAutoOperators({additionalOperators:["index"]}),autoCommands:o.getAutoCommands()}},r=s;function s(){return null!==a&&a.apply(this,arguments)||this}t.default=r}),define("loadcss!expressions/expression-edit-actions",function(){}),define("expressions/expression-edit-actions",["require","exports","tslib","core/math/parser","dcgview","core/lib/dragmode","core/types/styles","graphing-calc/models/expression","graphing-calc/models/abstract-item","lib/aria","../shared-components/tooltip","loadcss!./expression-edit-actions"],function(e,t,r,n,o,i,a,s,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionEditActions=void 0;var d,p=o.Components.If;d=o.Class,r.__extends(h,d),h.prototype.init=function(){this.controller=this.props.controller()},h.prototype.template=function(){var e=this;return o.createElement(p,{predicate:function(){return e.controller.isInEditListMode()}},function(){return o.createElement("span",{class:function(){return{"dcg-expression-edit-actions":!0,"dcg-limited-height":e.limitedHeight()}},style:function(){return{background:e.controller.getBackgroundColor()}},didMount:function(){e.controller.isInEditListMode()&&l.alert(e.controller.s("graphing-calculator-narration-edit-list-mode-on"))},didUnmount:function(){e.controller.isInEditListMode()||l.alert(e.controller.s("graphing-calculator-narration-edit-list-mode-off"))}},o.createElement(p,{predicate:function(){return!e.controller.hasBackgroundColor()}},function(){return o.createElement("span",{class:o.const("dcg-graphic"),handleEvent:o.const("true ")})}),o.createElement(p,{predicate:e.bindFn(e.canConvertToTable)},function(){return o.createElement(u.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-convert-to-table-tooltip")},gravity:e.const("s")},o.createElement("span",{class:o.const("dcg-action-createtable dcg-exp-action-button"),handleEvent:o.const("true"),role:o.const("button"),tabindex:o.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-label-convert-to-table-tooltip")},onTap:e.bindFn(e.onCreateTable)},o.createElement("i",{class:o.const("dcg-icon-table"),"aria-hidden":o.const("true")})))}),o.createElement(u.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-duplicate-expression-tooltip")},gravity:e.const("s")},o.createElement("span",{class:o.const("dcg-duplicate-btn dcg-exp-action-button"),handleEvent:o.const("true"),role:o.const("button"),tabindex:o.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-label-duplicate-expression-tooltip")},onTap:e.bindFn(e.onDuplicateWithoutFocus)},o.createElement("i",{class:o.const("dcg-icon-duplicate"),"aria-hidden":o.const("true")}))),o.createElement(u.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-expression-delete-tooltip")},gravity:e.const("sw")},o.createElement("span",{class:o.const("dcg-delete-btn dcg-exp-action-button"),handleEvent:o.const("true"),role:o.const("button"),tabindex:o.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-label-expression-delete-tooltip")},onTap:e.bindFn(e.onDelete)},o.createElement("i",{class:o.const("dcg-icon-remove"),"aria-hidden":o.const("true")}))))})},h.prototype.model=function(){return this.controller.getItemModel(this.props.id())},h.prototype.canConvertToTable=function(){var e=this.model();return!(!e||"expression"!==e.type||!e.formula.is_tableable)},h.prototype.limitedHeight=function(){var e=this.model();return e&&("image"===e.type||this.isSlider())},h.prototype.isSlider=function(){var e=this.model();return e&&"expression"===e.type&&e.sliderExists},h.prototype.generateSubscriptedTableColumns=function(e,t,r){var o={independent:t,dependent:r};if("x"===t)return o;if("Identifier"!==n.parse(t).type)return o;var i=n.parse(r);return"FunctionCall"!==i.type?o:1!==i.args.length?o:"Identifier"!==(r=i.args[0]).type?o:r._symbol!==t?o:(t=i.getInputString(),i=r.getInputSpan(),r=t.substr(0,i.start),i=t.substr(i.end),o.independent="x_{"+e+"}",o.dependent=r+o.independent+i,o)},h.prototype.onCreateTable=function(){var e=this.model();if(e&&"expression"===e.type){var t=e.formula;if(t.is_tableable&&t.table_info){var r,n=t.table_info,o=e.index,l=n.independent_variable,u=n.dependent_column;n.by_reference&&(l=(t=this.generateSubscriptedTableColumns(this.controller.generateTableXSubscript(),l,u)).independent,u=t.dependent);var d=[],p=[];if(n.values)for(r=0;r<n.values.length;r++){var h=n.values[r][0];d.push(isNaN(h)?"":h+""),h=n.values[r][1],p.push(isNaN(h)?"":h+"")}else for(r=-2;r<=2;r++)d.push(r+""),p.push("");u={id:this.controller.generateId(),type:"table",columns:[{id:this.controller.generateId(),latex:l,color:this.controller.getNextColor(),hidden:!1,values:d,points:!0,lines:!1,dragMode:i.DragMode.NONE,pointStyle:a.PointStyle.POINT,lineStyle:a.LineStyle.SOLID,colorLatex:"",lineOpacity:"",lineWidth:"",pointOpacity:"",pointSize:""},{id:this.controller.generateId(),latex:u,color:c.getDisplayColor(e),hidden:!1,values:p,points:!0,lines:!(s.isPointOrPointList(e)||e.hidden),dragMode:i.DragMode.NONE,pointStyle:a.PointStyle.POINT,lineStyle:a.LineStyle.SOLID,colorLatex:"",lineOpacity:"",lineWidth:"",pointOpacity:"",pointSize:""}]};var f=this.controller;this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:!1,focusExpressionList:!1}),n.by_reference?this.controller.dispatch({type:"insert-item-at-index",index:o+1,state:u,folderId:e.folderId,focus:!0}):this.controller.dispatch({type:"replace-item-at-index",index:o,state:u,focus:!0}),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.s("graphing-calculator-text-table-created"),undoCallback:function(){f.dispatch({type:"undo"}),f.dispatch({type:"set-edit-list-mode",isEditListMode:!0,focusExpressionList:!1})}}})}}},h.prototype.onDelete=function(e){this.controller.dispatch({type:"delete-item-and-animate-out",id:this.props.id(),setFocusAfterDelete:"keyboard"===e.device})},h.prototype.onDuplicateWithoutFocus=function(){var e=this.model();e&&("folder"===e.type?this.controller.dispatch({type:"duplicate-folder",id:this.props.id()}):this.controller.dispatch({type:"duplicate-expression",id:this.props.id()}))},r=h;function h(){return null!==d&&d.apply(this,arguments)||this}t.ExpressionEditActions=r}),define("loadcss!expressions/suggested-zoom-view",function(){}),define("expressions/suggested-zoom-view",["require","exports","tslib","dcgview","../shared-components/tooltip","loadcss!./suggested-zoom-view"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuggestedZoomView=void 0;var i,a=n.Components.If;i=n.Class,r.__extends(s,i),s.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model()},s.prototype.template=function(){var e=this;return n.createElement(a,{predicate:function(){return e.controller.shouldExpressionZoomFit(e.model)}},function(){return n.createElement("div",{class:n.const("dcg-suggested-zoom-view dcg-do-blur"),handleEvent:n.const(!0)},n.createElement(o.Tooltip,{tooltip:e.bindFn(e.getZoomText),gravity:function(){return"e"}},n.createElement("i",{onTap:e.bindFn(e.onZoom),role:n.const("button"),"aria-label":e.bindFn(e.getZoomText),class:n.const("dcg-icon-zoom-fit")})))})},s.prototype.getZoomText=function(){return this.controller.s("graphing-calculator-text-zoom-fit")},s.prototype.onZoom=function(){this.controller.dispatch({type:"expression-zoom-fit",id:this.model.id})},r=s;function s(){return null!==i&&i.apply(this,arguments)||this}t.SuggestedZoomView=r}),define("loadcss!expressions/expression-footer",function(){}),define("expressions/expression_view",["require","exports","config","tslib","browser","keys","jquery","./abstract-item-view","dcgview-helpers/mathquill-view","dcgview-helpers/static-mathquill-view","lib/conditional_blur","./expression-icon-view","./evaluation-view","expressions/unresolved_view","expressions/domain_view","expressions/regression_view","expressions/slider_view","expressions/promptslider_view","expressions/label_view","expressions/distribution_parameters_view","expressions/visualization_parameters_view","expressions/ttest_footer_view","expressions/stats_footer_view","expressions/action-info-view","graphing-calc/models/expression","core/lib/label","lib/mathspeak","./expression-edit-actions","./suggested-zoom-view","dcgview","main/manage-focus-helper","main/mathquill-operators","../shared-components/mathquill-braille-wrapper","jquery.handleevent","loadcss!./expression-footer"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g,m,y,v,b,x,w,E,S,k,_,I,M,L,T,C,A,O){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBrailleWrapperProps=void 0;var P,D=T.Components,F=D.If,N=D.SwitchUnion;P=s.default,n.__extends(q,P),q.prototype.didMount=function(){this.onItemViewMounted(),this.lastBrailleMode=this.controller.getBrailleMode()},q.prototype.didMountRootNode=function(e){this.rootNode=e},q.prototype.willUnmount=function(){this.onItemViewUnmounted()},q.prototype.template=function(){var e=this;return T.createElement("div",{class:function(){return{"dcg-do-not-blur":!0,"dcg-expressionitem":!0,"dcg-mathitem":!0,"dcg-inFolder":!!e.model.folderId,"dcg-selected":e.controller.isItemSelected(e.id)&&!e.controller.isInEditListMode(),"dcg-dragging":!!e.controller.isItemBeingDragged(e.id),"dcg-hasSlider":e.hasSlider(),"dcg-hasEvaluation":e.controller.shouldShowEvaluationForItem(e.id),"dcg-hasRegression":e.hasRegression(),"dcg-hasDomain":e.hasDomain()}},"expr-id":function(){return e.model.id},didMount:this.bindFn(this.didMountRootNode)},T.createElement("div",{class:T.const("dcg-fade-container"),onTapStart:this.bindFn(this.onMouseSelect),onTap:this.bindFn(this.onMouseSelect)},T.createElement("div",{class:T.const("dcg-main")},T.createElement(F,{predicate:function(){return!e.controller.isInEditListMode()}},function(){return T.createElement(O.default,n.__assign({latex:function(){return k.getDisplayLatex(e.model)},ariaLabel:function(){return e.getAriaLabel("braille")},brailleShouldFocus:function(){return e.isFocused()},onBrailleInput:function(t){return e.handleLatexChanged(t)},onBrailleFocusedChanged:function(t,r){return e.handleMQFocusedChanged(t,r)},onBrailleKeydown:e.bindFn(e.handleBraillePressedKey)},R(e.controller)),T.createElement(c.default,{latex:function(){return k.getDisplayLatex(e.model)},getAriaLabel:function(){return e.getAriaLabel("speech")},getAriaPostLabel:e.bindFn(e.getFormulaAria),isFocused:function(){return e.isFocused()},capExpressionSize:function(){return e.controller.getCapExpressionSize()},config:e.bindFn(e.getMQConfig),hasError:e.const(!1),onUserPressedKey:function(t,r){return e.handlePressedKey(t,r)},onUserChangedLatex:function(t){return e.handleLatexChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t,r){return e.handleMQFocusedChanged(t,r)},needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}},T.createElement("div",{class:T.const("dcg-expression-mathquill")})))}),T.createElement(F,{predicate:function(){return e.controller.isInEditListMode()}},function(){return T.createElement("div",{class:T.const("dcg-edit-list-mathquill"),tabindex:function(){return"none"===e.controller.getBrailleMode()?"0":"-1"},onTap:e.bindFn(e.exitEditListMode),manageFocus:e.const({shouldBeFocused:function(){return"none"===e.controller.getBrailleMode()&&C.defaultShouldBeFocused({controller:e.controller,location:{type:"readonly-expression",id:e.model.id}})},onFocusedChanged:function(t){"none"===e.controller.getBrailleMode()&&(t?e.controller.dispatch({type:"set-focus-location",location:{type:"readonly-expression",id:e.model.id}}):e.controller.dispatch({type:"blur-focus-location",location:{type:"readonly-expression",id:e.model.id}}))}})},T.createElement(O.default,n.__assign({latex:function(){return k.getDisplayLatex(e.model)},ariaLabel:function(){return e.getAriaLabel("braille")},isStatic:e.const(!0),brailleShouldFocus:function(){var t=e.controller.getFocusLocation();return!!t&&"readonly-expression"===t.type&&t.id===e.id},onBrailleFocusedChanged:function(t){t?e.controller.dispatch({type:"set-focus-location",location:{type:"readonly-expression",id:e.model.id}}):e.controller.dispatch({type:"blur-focus-location",location:{type:"readonly-expression",id:e.model.id}})}},R(e.controller)),T.createElement(l.default,{latex:function(){return k.getDisplayLatex(e.model)},config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.getAriaLabel("speech")}})))})),N(function(){return String(e.controller.shouldShowReplaceIcon())},{true:function(){return T.createElement("i",{class:T.const("dcg-icon-replace"),handleEvent:T.const("true"),onTap:e.bindFn(e.onRenameInItem),"aria-hidden":T.const("true")})},false:function(){return T.createElement("i",{class:T.const("dcg-icon-remove dcg-top-level-delete"),handleEvent:T.const("true"),onTap:e.bindFn(e.onDelete),"aria-hidden":T.const("true")})}}),T.createElement(F,{predicate:this.bindFn(this.shouldShowFooter)},function(){return T.createElement("div",{class:e.getFooterClass()},N(function(){return e.getFooterType()},{none:function(){},regression:function(){return T.createElement(g.default,{model:e.props.model,controller:e.props.controller})},label:function(){return T.createElement(v.default,{model:e.props.model,controller:e.props.controller})},slider:function(){return T.createElement(m.default,{model:e.props.model,controller:e.props.controller})},domain:function(){return T.createElement(f.default,{model:e.props.model,controller:e.props.controller})},evaluation:function(){return T.createElement(p.default,{id:function(){return e.props.model().id},dependent:function(){return k.getAssignment(e.model)||""},val:function(){return e.controller.getEvaluationValueForItem(e.id)},controller:e.props.controller,focusable:e.const(!1)})},distribution:function(){return T.createElement(b.default,{model:e.props.model,controller:e.props.controller})},visualization:function(){return T.createElement(x.default,{model:e.props.model,controller:e.props.controller})},ttest:function(){return T.createElement(w.default,{model:e.props.model,controller:e.props.controller})},stats:function(){return T.createElement(E.default,{model:e.props.model,controller:e.props.controller})},unresolved:function(){return T.createElement(h.default,{controller:e.props.controller})}}),T.createElement(F,{predicate:e.bindFn(e.shouldShowBrailleError)},function(){return T.createElement("div",{tabindex:T.const(0),class:T.const("dcg-expression-braille-error"),role:T.const("button"),"aria-roledescription":T.const("error"),"aria-label":function(){return e.controller.unpack(e.model.error)}},T.createElement("i",{class:T.const("dcg-icon-error"),"aria-hidden":T.const("true")}),function(){return e.controller.unpack(e.model.error)})}),T.createElement(F,{predicate:e.bindFn(e.shouldShowSliderPrompt)},function(){return T.createElement(y.default,{model:e.props.model,controller:e.props.controller})}))}),T.createElement(F,{predicate:this.bindFn(this.shouldShowActionInfo)},function(){return T.createElement("div",{class:e.getFooterClass()},T.createElement(S.default,{model:e.props.model,controller:e.props.controller}))})),T.createElement("span",{class:T.const("dcg-tab dcg-action-drag dcg-action-icon-touch"),handleevent:T.const("true"),tapboundary:T.const("true"),disablescroll:T.const("true"),style:T.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},T.createElement("span",{class:T.const("dcg-num")},function(){return e.model.displayIndex}),T.createElement("div",{class:T.const("dcg-tab-interior dcg-action-icon-mouse")},T.createElement(d.default,{model:this.props.model,controller:this.props.controller})),T.createElement(L.SuggestedZoomView,{model:this.props.model,controller:this.props.controller})),T.createElement(M.ExpressionEditActions,{controller:this.props.controller,id:function(){return e.model.id}}))},q.prototype.didUpdate=function(){this.lastBrailleMode=this.controller.getBrailleMode()},q.prototype.shouldShowFooter=function(){return!!this.shouldShowBrailleError()||!!this.shouldShowSliderPrompt()||"none"!==this.getFooterType()},q.prototype.getFooterType=function(){return this.hasRegression()?"regression":this.shouldShowLabelView()?"label":this.hasSlider()?"slider":this.hasDomain()?"domain":this.isTTest()?"ttest":this.isStats()?"stats":this.controller.shouldShowEvaluationForItem(this.id)?"evaluation":this.isToplevelDistribution()?"distribution":this.isVisualization()?"visualization":this.model.unresolved?"unresolved":"none"},q.prototype.getFooterClass=function(){return this.isFirstRender()?this.const("dcg-expression-bottom dcg-indent-in-folder"):this.const("dcg-expression-bottom dcg-indent-in-folder dcg-fadein-bottom")},q.prototype.onCreateSliders=function(e){this.controller.dispatch({type:"create-sliders-for-item",id:this.id,variables:e})},q.prototype.shouldShowLabelView=function(){return r.get("labels")&&k.isPointOrPointList(this.model)},q.prototype.shouldShowSliderPrompt=function(){return!!this.controller.areSlidersEnabled()&&0<k.getMissingVariables(this.model).length},q.prototype.shouldShowActionInfo=function(){return!!(this.controller.areActionsEnabled()&&this.model.clickableInfo&&this.model.clickableInfo.enabled&&this.model.clickableInfo.latex)},q.prototype.shouldShowBrailleError=function(){return"none"!==this.controller.getBrailleMode()&&this.hasError()},q.prototype.hasRegression=function(){return!(!this.model.formula||!this.model.formula.is_regression)},q.prototype.hasDomain=function(){return k.hasDomain(this.model)},q.prototype.isToplevelDistribution=function(){return k.isToplevelDistribution(this.model)},q.prototype.isVisualization=function(){return k.isVisualization(this.model)},q.prototype.isTTest=function(){return k.isTTest(this.model)},q.prototype.isStats=function(){return k.isStats(this.model)},q.prototype.hasSlider=function(){return!!this.model.sliderExists},q.prototype.getLabelOptions=function(){return this.controller.getEvaluationLabelOptionsForItem(this.model.id)},q.prototype.getAriaLabel=function(e){var t;return this.shouldShowLabelView()?(t=this.model.label&&""!==this.model.label?this.model.label:"speech"===e?this.controller.s("graphing-calculator-narration-expression-label"):this.controller.raw("lbl"),this.model.showLabel?t:"speech"===e?this.controller.s("graphing-calculator-narration-expression-hidden-label",{label:t}):this.controller.raw("h __label__",{label:t})):"speech"===e?this.controller.s("shared-calculator-narration-expression-index",{index:this.model.displayIndex}):this.controller.raw("eq__index__",{index:this.model.displayIndex})},q.prototype.getFormulaAria=function(){var e,t=this.model.formula,r="";return t&&(k.isEmpty(this.model)||(this.controller.shouldShowEvaluationForItem(this.id)?(r="equals ",e=t.zero_values&&t.zero_values.length?t.zero_values[0].val:t.constant_value,Array.isArray(e)?r+=e.length+" element list.":void 0!==e&&(r+=I.getMathspeakFromLatex(_.truncatedLatexLabel(+e,this.getLabelOptions())))):t.error&&!this.shouldShowSliderPrompt()?r=this.controller.unpack(t.error):k.isToplevelDistribution(this.model)?r=this.controller.s("graphing-calculator-narration-expression-evaluation-is-distribution"):this.isTTest()&&(r=this.controller.s("graphing-calculator-narration-expression-evaluation-is-t-test")),this.model.shouldGraph&&(t.is_graphable||t.is_regression)&&(t.is_graphable&&t.is_regression?r+=" "+this.controller.s("graphing-calculator-narration-expression-evaluation-has-graph-and-regression"):t.is_regression?r+=" "+this.controller.s("graphing-calculator-narration-expression-evaluation-has-regression"):r+=" "+this.controller.s("graphing-calculator-narration-expression-evaluation-has-graph"),(t=this.controller.getAudioGraph())&&t.agNavigator.canTrace(this.model)&&(o.IS_APPLE?r+=" "+this.controller.s("graphing-calculator-narration-expression-audio-trace-mac"):r+=" "+this.controller.s("graphing-calculator-narration-expression-audio-trace-windows"))))),r},q.prototype.handleBraillePressedKey=function(e){var t,r=i.lookup(e);r&&("Esc"===r?(u.default(),this.hasSlider()&&this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:this.model.id}})):"Up"===r||"Down"===r||"Enter"===r?this.controller.dispatch({type:"on-special-key-pressed",key:r}):"Del"!==r&&"Backspace"!==r||(t=O.getFocusedBrailleElement(),k.isEmpty(this.model)&&O.brailleInputIsEmpty(t)&&(this.controller.dispatch({type:"on-special-key-pressed",key:"Del"===r?"Delete":r}),e.preventDefault(),e.stopPropagation())))},q.prototype.handlePressedKey=function(e,t){var r=c.default.getFocusedMathquill();if(r){if("Esc"===e)return u.default(),void(this.hasSlider()&&this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:this.model.id}}));if("Up"===e||"Down"===e)return c.default.applyArrowKeyAndReturnIfWasAtBounds(r,e,t)?this.controller.dispatch({type:"on-special-key-pressed",key:e}):void 0;if("Delete"===e||"Backspace"===e){if(k.isEmpty(this.model))return this.controller.dispatch({type:"on-special-key-pressed",key:e})}else if("Enter"===e)return t&&(t.preventDefault(),t.stopPropagation()),this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});r.keystroke(e,t),this.handleLatexChanged(r.latex())}},q.prototype.handleLatexChanged=function(e){e!==this.model.latex&&this.controller.dispatch({type:"set-item-latex",id:this.id,latex:e})},q.prototype.doesNodeBelongToSliderLimit=function(e){return!!e&&!!this.rootNode.contains(e)&&!!a(e).closest("[data-dcg-limit]").length},q.prototype.handleMQFocusedChanged=function(e,t){e?this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.id}}):this.doesNodeBelongToSliderLimit(t.relatedTarget)||this.lastBrailleMode!==this.controller.getBrailleMode()||this.controller.dispatch({type:"blur-focus-location",location:{type:"expression",id:this.id}})},q.prototype.onMouseSelect=function(e){"keyboard"!==e.device&&("dcg-tap"===e.type&&"mouse"===e.device||"dcg-tapstart"===e.type&&"touch"===e.device||e.wasHandled()||(e.handle(),this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.id}})))},q.prototype.isFocused=function(){var e=this.controller.getFocusLocation();return!!e&&"expression"===e.type&&e.id===this.id},q.prototype.isSliderThumbFocused=function(){var e=this.controller.getFocusLocation();return!!e&&"slider-thumb"===e.type&&e.id===this.id},q.prototype.hasError=function(){return!!this.model.error&&!k.isEmpty(this.model)},q.prototype.getMQConfig=function(){return{autoOperatorNames:A.getAutoOperators({})}},s=q;function q(){return null!==P&&P.apply(this,arguments)||this}function R(e,t){function r(e){return T.createElement(l.default,{config:function(){return{}},latex:function(){return e}})}return{tooltipOptions:function(){return n.__assign({latexView:r},t||{})},sixKeyInput:function(){return e.getSixKeyInput()},mode:function(){return e.getBrailleMode()},capExpressionSize:function(){return e.getCapExpressionSize()?{exceedsLimit:function(e){return e.length>c.EXPRESSION_TOKEN_LIMIT},onExpressionSizeExceeded:function(){return e.dispatch({type:"expression-size-exceeded"})}}:void 0}}}t.default=s,t.getBrailleWrapperProps=R}),define("loadcss!expressions/smart_textarea",function(){}),define("expressions/smart_textarea",["require","exports","tslib","keys","browser","dcgview","jquery","lib/conditional_blur","jquery.handleevent","loadcss!./smart_textarea"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c,l=i.Components.Textarea;c=i.Class,r.__extends(u,c),u.prototype.template=function(){var e=this;return i.createElement("div",{class:i.const("dcg-smart-textarea-container")},i.createElement("div",{class:i.const("dcg-displayTextarea dcg-fixed-width-element"),didMount:this.bindFn(this.didMountDisplay)}),i.createElement(l,{class:function(){return{"dcg-do-blur":!0,"dcg-fixed-width-element":!0,"dcg-smart-textarea":!0,"dcg-empty":!e.props.text()}},"aria-label":function(){return e.props.ariaLabel?e.props.ariaLabel():void 0},placeholder:this.props.placeholder,readonly:function(){return!!e.props.readonly()||void 0},value:this.props.text,onInput:this.props.onInput,didMount:this.bindFn(this.didMountTextarea),onKeydown:this.bindFn(this.onKeydownEvent)}))},u.prototype.getDisplayTextHTML=function(){function e(e,r){return t.slice(e,r).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var t=this.props.text()||"",r=0,n="";if(this.props.showLinks())for(var o,i=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi;null!==(o=i.exec(t));){var a=o[0];n+=e(r,o.index),n+="<a rel='nofollow ugc' href='"+a+"' target ='_blank'>"+a+"</a>",r=i.lastIndex}return n+e(r)},u.prototype.willUnmount=function(){this.textareaNode=void 0},u.prototype.didMountDisplay=function(e){this.displayNode=e,a(e).on("touchend",function(e){e.preventDefault()}),a(e).on("dcg-tap dcg-tapstart","a",function(e){e.handle()}),this.renderDisplayText()},u.prototype.didMountTextarea=function(e){var t=this;this.textareaNode=e,a(e).on("dcg-tapstart",function(e){e.handle()}),a(e).on("focusin focusout",function(){return t.onFocusEvent()}),this.updateFocused()},u.prototype.didUpdate=function(){this.updateFocused(),this.renderDisplayText()},u.prototype.onFocusEvent=function(){var e;this.textareaNode&&(e=document.activeElement===this.textareaNode,this.shouldBeFocused()!==e&&this.props.onFocusChange(e))},u.prototype.renderDisplayText=function(){var e;this.displayNode&&(e=this.getDisplayTextHTML(),this.lastDisplayTextHTML!==e&&(this.lastDisplayTextHTML=e,this.displayNode.innerHTML=e))},u.prototype.isFocused=function(){return document.activeElement===this.textareaNode},u.prototype.shouldBeFocused=function(){return this.props.shouldFocus()},u.prototype.updateFocused=function(){var e;!this.textareaNode||this.isFocused()!==(e=this.shouldBeFocused())&&(e?o.IS_IPAD&&o.IS_IN_IFRAME||(this.textareaNode.focus(),this.textareaNode.selectionStart=this.textareaNode.selectionEnd=this.textareaNode.value.length):this.textareaNode.blur())},u.prototype.onKeydownEvent=function(e){var t,r=this.textareaNode;r&&(t=n.lookup(e),this.props.readonly()&&void 0!==this.props.readonlyAction?e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||t!==n.ENTER&&t!==n.SPACEBAR||(e.preventDefault(),this.props.readonlyAction()):(t!==n.ENTER||e.metaKey?t===n.ESCAPE?s.default():t===n.UP?0!==r.selectionStart||0!==r.selectionEnd||e.altKey||e.metaKey||(e.preventDefault(),this.props.onSpecialKey("Up")):t===n.DOWN?r.selectionStart!==r.value.length||r.selectionEnd!==r.value.length||e.altKey||e.metaKey||(e.preventDefault(),this.props.onSpecialKey("Down")):t===n.BACKSPACE?0===r.value.length&&(e.preventDefault(),this.props.onSpecialKey("Backspace")):t===n.DELETE&&0===r.value.length&&(e.preventDefault(),this.props.onSpecialKey("Delete")):(e.preventDefault(),this.props.onSpecialKey("Enter")),this.props.onKeydown&&this.props.onKeydown(e)))},r=u;function u(){return null!==c&&c.apply(this,arguments)||this}t.default=r}),define("expressions/text_view",["require","exports","tslib","./abstract-item-view","./smart_textarea","dcgview","./expression-edit-actions","jquery.handleevent"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s;s=n.default,r.__extends(c,s),c.prototype.didMount=function(){this.onItemViewMounted()},c.prototype.willUnmount=function(){this.onItemViewUnmounted()},c.prototype.template=function(){var e=this;return i.createElement("div",{class:function(){return{"dcg-do-not-blur":!0,"dcg-expressionitem":!0,"dcg-expressiontext":!0,"dcg-inFolder":!!e.model.folderId,"dcg-selected":!!e.controller.isItemSelected(e.id),"dcg-dragging":!!e.controller.isItemBeingDragged(e.id)}},"expr-id":function(){return e.model.id},onTapStart:this.bindFn(this.onMouseSelect),onTap:this.bindFn(this.onMouseSelect)},i.createElement("div",{class:i.const("dcg-fade-container")},i.createElement("div",{class:i.const("dcg-main")},i.createElement(o.default,{shouldFocus:this.bindFn(this.isFocused),text:function(){return e.model.text},placeholder:function(){return e.controller.s("graphing-calculator-text-enter-note-placeholder")},showLinks:function(){return e.controller.areLinksEnabled()},onInput:this.bindFn(this.onInput),onFocusChange:this.bindFn(this.onFocusChange),onSpecialKey:this.bindFn(this.onSpecialKey),readonly:function(){return e.controller.isInEditListMode()},readonlyAction:this.bindFn(this.exitEditListMode)})),i.createElement("i",{class:i.const("dcg-icon-remove dcg-top-level-delete"),handleEvent:i.const("true"),onTap:this.bindFn(this.onDelete),"aria-hidden":i.const("true")})),i.createElement("span",{class:i.const("dcg-tab dcg-action-drag"),handleevent:i.const("true"),tapboundary:i.const("true"),disablescroll:i.const("true"),style:i.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},i.createElement("span",{class:i.const("dcg-num")},function(){return e.model.displayIndex}),i.createElement("div",{class:i.const("dcg-tab-interior")}),i.createElement("i",{class:i.const("dcg-icon-text"),"aria-hidden":i.const("true")})),i.createElement(a.ExpressionEditActions,{controller:this.props.controller,id:function(){return e.model.id}}))},c.prototype.onInput=function(e){this.controller.dispatch({type:"set-note-text",id:this.id,text:e})},c.prototype.onFocusChange=function(e){e?this.controller.dispatch({type:"set-focus-location",location:{type:"text",id:this.id}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"text",id:this.id}})},c.prototype.onSpecialKey=function(e){return this.controller.dispatch({type:"on-special-key-pressed",key:e})},c.prototype.isFocused=function(){var e=this.controller.getFocusLocation();return!(!e||"text"!==e.type||e.id!==this.id)},r=c;function c(){return null!==s&&s.apply(this,arguments)||this}t.default=r}),define("expressions/tables/table_icon_view",["require","exports","tslib","dcgview","graphing-calc/models/abstract-item","dcgview-helpers/tooltipped-error","../circular-icon-view","main/manage-focus-helper","jquery.handleevent"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c,l=n.Components.SwitchUnion;c=n.Class,r.__extends(u,c),u.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller()},u.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-table-icon-container")},l(this.bindFn(this.typeOfIcon),{error:function(){return n.createElement(i.TooltippedError,{error:function(){return e.controller.unpack(e.model.error)},gravity:e.const("se")})},none:function(){return n.createElement("span",null)},icon:function(){return n.createElement("div",{class:n.const("dcg-circular-icon-container"),role:n.const("button"),tabindex:n.const("0"),"aria-label":e.bindFn(e.getIconAriaLabel),handleevent:n.const("true"),"dcg-open-menu-guid":function(){return e.getMenuGUID()},onTap:function(t){if(!t.wasHandled("dragdrop")&&!t.wasLongheld())return e.myOptionsOpen()||e.controller.isInEditListMode()||t.shiftKey?e.toggleOptions():void e.toggleGraphShown()},onLongHold:function(t){t.handle("dcg-longhold"),t.handle("dcg-tap"),e.toggleOptions()},manageFocus:e.const(s.manageFocusHelper({controller:e.controller,location:{type:"table-icon",id:e.model.table.id,columnId:e.model.id}}))},n.createElement(a.CircularIconView,{iconType:e.bindFn(e.getIcon),backgroundColor:e.bindFn(e.getModelColor)}))}}))},u.prototype.getModelColor=function(){return o.getMaybeGradientDisplayColor(this.model)},u.prototype.getMenuGUID=function(){return this.model.guid},u.prototype.myOptionsOpen=function(){return this.controller.isItemSettingsMenuOpen(this.getMenuGUID())},u.prototype.toggleOptions=function(){this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"table-column",model:this.model,guid:this.getMenuGUID(),focusFirstOption:!1}})},u.prototype.toggleGraphShown=function(){this.controller.dispatch({type:"toggle-tablecolumn-hidden",tableId:this.model.table.id,columnId:this.model.id})},u.prototype.hasError=function(){return!!this.model.error},u.prototype.getIcon=function(){return this.model.shouldGraph?this.controller.isInEditListMode()?"none":this.model.points&&this.model.lines?"table-points-and-lines":this.model.points&&!this.model.lines?"table-points":!this.model.points&&this.model.lines?"table-lines":"none":"hidden"},u.prototype.typeOfIcon=function(){return""!==this.model.latex&&this.controller.getGraphSettings().config.graphpaper?this.model.error?"error":0===this.model.index?"none":"icon":"none"},u.prototype.getIconAriaLabel=function(){return this.myOptionsOpen()?this.controller.s("graphing-calculator-narration-hide-options"):this.controller.isInEditListMode()?this.controller.s("graphing-calculator-narration-show-options"):this.model.shouldGraph?this.controller.s("graphing-calculator-narration-hide-table-column"):this.controller.s("graphing-calculator-narration-show-table-column")},r=u;function u(){return null!==c&&c.apply(this,arguments)||this}t.default=r}),define("expressions/tables/header-view",["require","exports","tslib","keys","jquery","browser","dcgview","./table_icon_view","dcgview-helpers/mathquill-view","dcgview-helpers/static-mathquill-view","underscore","graphing-calc/models/table","core/lib/dragmode","main/mathquill-operators","../../shared-components/mathquill-braille-wrapper","../expression_view"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m,y=a.Components.If,v=(m=a.Class,r.__extends(b,m),b.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller(),this.table=this.model.table},b.prototype.isRightSide=function(){return this.lookupCellPosition().column>=this.table.columnModels.length-1},b.prototype.template=function(){var e=this;return a.createElement("div",{class:function(){return{"dcg-cell":!0,"dcg-table-header":!0,"dcg-do-not-blur":!0,"dcg-left":0===e.model.index,"dcg-right":e.isRightSide(),"dcg-selected":e.shouldFocus(),"dcg-error":!!e.model.error}},index:function(){return e.model.index},onTapStart:this.bindFn(this.focusThisCell)},a.createElement("div",{class:a.const("dcg-inner-border")}),a.createElement(y,{predicate:function(){return!e.isRightSide()}},function(){return a.createElement(s.default,{model:e.props.model,controller:e.props.controller})}),a.createElement("div",{role:a.const("columnheader")},a.createElement(y,{predicate:function(){return!e.controller.isInEditListMode()}},function(){return a.createElement(f.default,r.__assign({latex:function(){return e.model.latex||""},brailleShouldFocus:e.bindFn(e.shouldFocus),ariaLabel:function(){return e.getAriaLabel("braille")},onBrailleInput:function(t){return e.handleLatexChanged(t)},onBrailleFocusedChanged:e.bindFn(e.handleMQFocusedChanged),selectOnFocus:e.const(!0),onBrailleKeydown:e.bindFn(e.handleKeydownOnBrailleInput)},g.getBrailleWrapperProps(e.props.controller(),{gravity:"s"})),a.createElement(c.default,{latex:function(){return e.model.latex||""},isFocused:e.bindFn(e.shouldFocus),capExpressionSize:function(){return e.controller.getCapExpressionSize()},config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.getAriaLabel("speech")},getAriaPostLabel:e.bindFn(e.getAriaPostLabel),hasError:e.const(!1),onUserPressedKey:function(t,r){return e.handlePressedKey(t,r)},onUserChangedLatex:function(t){return e.handleLatexChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:e.bindFn(e.handleMQFocusedChanged),selectOnFocus:e.const(!0),needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}},a.createElement("span",{class:a.const("dcg-math-field dcg-cell-math-content")})))}),a.createElement(y,{predicate:function(){return e.controller.isInEditListMode()}},function(){return a.createElement(f.default,r.__assign({latex:function(){return e.model.latex||""},ariaLabel:function(){return e.getAriaLabel("braille")},onBrailleInput:function(t){return e.handleLatexChanged(t)},tabindex:e.const(-1),isStatic:e.const(!0),brailleShouldFocus:e.bindFn(e.shouldFocusNonEditCell),onBrailleFocusedChanged:e.bindFn(e.handleMQFocusedChanged)},g.getBrailleWrapperProps(e.props.controller(),{gravity:"s"})),a.createElement(l.default,{latex:function(){return e.model.latex||""},config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.getAriaLabel("speech")}},a.createElement("span",{class:a.const("dcg-math-field dcg-cell-math-content"),role:a.const("textbox"),"aria-roledescription":a.const("cell"),"aria-readonly":a.const("true"),tabindex:a.const("-1")})))}),a.createElement(y,{predicate:function(){return e.model.dragMode!==p.DragMode.NONE&&!e.model.error}},function(){return a.createElement("span",{class:a.const("dcg-drag-icon"),"dcg-drag-mode":function(){return e.model.dragMode},style:function(){return{color:e.model.color}}},a.createElement("i",{class:function(){return{"dcg-icon-move":e.model.dragMode===p.DragMode.XY,"dcg-icon-move-horizontal":e.model.dragMode===p.DragMode.X,"dcg-icon-move-vertical":e.model.dragMode===p.DragMode.Y}}}))})),a.createElement("div",{class:a.const("dcg-empty-line")}),a.createElement(y,{predicate:function(){return e.isRightSide()}},function(){return a.createElement("span",{class:a.const("dcg-fade-right")})}))},b.prototype.focusThisCell=function(e){e.wasHandled()||(e.handle(),this.shouldFocus()||this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}}))},b.prototype.lookupCellPosition=function(){return{row:0,column:this.model.index}},b.prototype.getAriaLabel=function(e){var t=this.lookupCellPosition();return"speech"===e?this.controller.s("graphing-calculator-narration-table-column-header",{column:t.column+1}):this.controller.raw("h__column__",{column:t.column+1})},b.prototype.getAriaPostLabel=function(){var e="",t=this.model;return t.shouldGraph&&(t.points||t.lines)&&!d.isColumnEmpty(t)&&(e=this.controller.s("graphing-calculator-narration-expression-evaluation-has-graph"),i.IS_APPLE?e+=" "+this.controller.s("graphing-calculator-narration-expression-audio-trace-mac"):e+=" "+this.controller.s("graphing-calculator-narration-expression-audio-trace-windows")),e},b.prototype.handlePressedKey=function(e,t){var r=c.default.getFocusedMathquill();r&&(c.default.handleKeystrokeAndDecideIfSpecialEvent(r,e,t)?this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:e}):this.handleLatexChanged(r.latex()))},b.prototype.handleKeydownOnBrailleInput=function(e){var t,r,i,a=n.lookup(e);a&&(t="Enter"===a||"Up"===a||"Down"===a,r=(i=f.getFocusedBrailleElement())&&"Left"===a&&0===i.selectionStart||"Right"===a&&i.selectionStart===o(i).val().length,i=0===this.model.latex.length&&f.brailleInputIsEmpty(i),(t||r||("Del"===a||"Backspace"===a)&&i)&&(this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:"Del"===a?"Delete":a}),e.preventDefault()))},b.prototype.handleLatexChanged=function(e){this.model.latex!==e&&this.controller.dispatch({type:"set-tablecell-latex",tableId:this.table.id,cell:this.lookupCellPosition(),latex:e})},b.prototype.shouldFocus=function(){return!this.controller.isInEditListMode()&&u.isEqual(this.lookupCellPosition(),d.getSelectedCell(this.table))},b.prototype.shouldFocusNonEditCell=function(){return u.isEqual(this.lookupCellPosition(),d.getSelectedCell(this.table))},b.prototype.isNodeWithinTableCell=function(e){if(!e)return!1;if(0===o(e).closest(".dcg-cell").length)return!1;var t=this.controller.getItemRootNodeById(this.table.id);return!!t&&o.contains(t,e)},b.prototype.handleMQFocusedChanged=function(e,t){e?this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}}):this.isNodeWithinTableCell(t.relatedTarget)||this.controller.dispatch({type:"blur-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}})},b.prototype.getMQConfig=function(){return{autoOperatorNames:h.getAutoOperators()}},b);function b(){return null!==m&&m.apply(this,arguments)||this}t.default=v}),define("expressions/tables/cell-view",["require","exports","tslib","keys","dcgview","jquery","dcgview-helpers/mathquill-view","dcgview-helpers/static-mathquill-view","underscore","graphing-calc/models/table","../../dcgview-helpers/tooltipped-error","lib/conditional_blur","main/mathquill-operators","../../shared-components/mathquill-braille-wrapper","../expression_view"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g,m=o.Components.If,y=(g=o.Class,r.__extends(v,g),v.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller(),this.table=this.model.column.table},v.prototype.template=function(){var e=this;return o.createElement("div",{class:function(){return{"dcg-cell":!0,"dcg-do-not-blur":!0,"dcg-empty":e.isEmpty(),"dcg-non-editable":!!e.model.column.disabled,"dcg-error":!!e.hasError(),"dcg-selected":e.shouldFocus()}},onTapStart:this.bindFn(this.focusThisCell)},o.createElement("div",{class:o.const("dcg-inner-border")}),o.createElement("div",{role:o.const("gridcell")},o.createElement(m,{predicate:this.bindFn(this.hasError)},function(){return o.createElement("span",{class:o.const("dcg-table-icon-error-container")},o.createElement(u.TooltippedError,{error:e.bindFn(e.getErrorMessage),gravity:e.const("se"),size:e.const("small")}))}),o.createElement(m,{predicate:function(){return!!e.model.column.disabled||e.controller.isInEditListMode()}},function(){return o.createElement(h.default,r.__assign({latex:function(){return e.getValue()},brailleShouldFocus:e.bindFn(e.shouldFocusReadonlyCell),ariaLabel:function(){return e.getAriaLabel("braille")},tabindex:function(){return e.controller.isInEditListMode()?-1:0},isStatic:e.const(!0),onBrailleFocusedChanged:e.bindFn(e.handleFocusedChanged),onBrailleKeydown:function(t){return e.handleKeydownOnReadonlyCell(t),!0}},f.getBrailleWrapperProps(e.props.controller(),{gravity:"s"})),o.createElement(s.default,{getAriaLabel:function(){return e.getAriaLabel("speech")},latex:function(){return e.getValue()},config:e.bindFn(e.getMQConfig)},o.createElement("span",{class:o.const("dcg-math-field dcg-cell-math-content dcg-mathquill-input-span"),role:o.const("textbox"),"aria-roledescription":o.const("computed cell"),"aria-readonly":o.const("true"),tabindex:function(){return e.controller.isInEditListMode()||e.isEmpty()?-1:0},onKeyDown:e.bindFn(e.handleKeydownOnReadonlyCell),manageFocus:e.const({shouldBeFocused:e.bindFn(e.shouldFocusReadonlyCell),onFocusedChanged:e.bindFn(e.handleFocusedChanged)})})))}),o.createElement(m,{predicate:function(){return!e.model.column.disabled&&!e.controller.isInEditListMode()}},function(){return o.createElement(h.default,r.__assign({latex:function(){return e.getValue()},brailleShouldFocus:e.bindFn(e.shouldFocusEditableCell),ariaLabel:function(){return e.getAriaLabel("braille")},onBrailleInput:function(t){return e.handleLatexChanged(t)},onBrailleFocusedChanged:e.bindFn(e.handleFocusedChanged),onBrailleKeydown:e.bindFn(e.handleKeydownOnBrailleInput),selectOnFocus:e.const(!0)},f.getBrailleWrapperProps(e.props.controller(),{gravity:"s"})),o.createElement(a.default,{latex:function(){return e.getValue()},isFocused:e.bindFn(e.shouldFocusEditableCell),capExpressionSize:function(){return e.controller.getCapExpressionSize()},config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.getAriaLabel("speech")},getAriaPostLabel:e.bindFn(e.getErrorMessage),hasError:e.const(!1),onUserPressedKey:function(t,r){return e.handlePressedKey(t,r)},onUserChangedLatex:function(t){return e.handleLatexChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:e.bindFn(e.handleFocusedChanged),selectOnFocus:e.const(!0),needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}},o.createElement("span",{class:o.const("dcg-math-field dcg-cell-math-content")})))})),o.createElement("div",{class:o.const("dcg-empty-line")}))},v.prototype.focusThisCell=function(e){e.wasHandled()||(e.handle(),this.shouldFocus()||this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}}))},v.prototype.handlePressedKey=function(e,t){var r=a.default.getFocusedMathquill();r&&(t=a.default.handleKeystrokeAndDecideIfSpecialEvent(r,e,t),e===n.ESCAPE&&d.default(),t?this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:e}):this.handleLatexChanged(r.latex()))},v.prototype.handleKeydownOnBrailleInput=function(e){var t,r,o=n.lookup(e);o&&(o===n.ESCAPE&&d.default(),t="Enter"===o||"Up"===o||"Down"===o,r=(r=h.getFocusedBrailleElement())&&"Left"===o&&0===r.selectionStart||"Right"===o&&r.selectionStart===i(r).val().length,(t||r||("Del"===o||"Backspace"===o)&&0===this.getValue().length)&&(this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:"Del"===o?"Delete":o}),e.preventDefault()))},v.prototype.handleKeydownOnReadonlyCell=function(e){var t=n.lookup(e);"Tab"!==t&&(e.preventDefault(),"Esc"===t&&d.default(),t&&this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:t}))},v.prototype.handleLatexChanged=function(e){this.getValue()!==e&&this.controller.dispatch({type:"set-tablecell-latex",tableId:this.table.id,cell:this.lookupCellPosition(),latex:e})},v.prototype.shouldFocus=function(){return c.isEqual(this.lookupCellPosition(),l.getSelectedCell(this.table))},v.prototype.shouldFocusReadonlyCell=function(){return!this.controller.isInEditListMode()&&!!this.model.column.disabled&&this.shouldFocus()},v.prototype.shouldFocusEditableCell=function(){return!this.model.column.disabled&&this.shouldFocus()},v.prototype.isNodeWithinTableCell=function(e){if(!e)return!1;if(0===i(e).closest(".dcg-cell").length)return!1;var t=this.controller.getItemRootNodeById(this.table.id);return!!t&&i.contains(t,e)},v.prototype.handleFocusedChanged=function(e,t){e?this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}}):this.isNodeWithinTableCell(t.relatedTarget)||this.controller.dispatch({type:"blur-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}})},v.prototype.lookupCellPosition=function(){return{row:this.model.row.index,column:this.model.column.index}},v.prototype.getPackedError=function(){return this.model.column.packedErrors[this.model.row.index-1]},v.prototype.hasError=function(){return!!this.getPackedError()},v.prototype.getErrorMessage=function(){var e=this.getPackedError();return e?this.controller.unpack(e):""},v.prototype.getValue=function(){var e=this.model.column.index,t=this.model.row.index-1;return this.model.column.disabled?this.model.column.computedValues[t]||"":this.table.columns[e].values[t]||""},v.prototype.isEmpty=function(){var e=h.getFocusedBrailleElement();return""===this.getValue()&&h.brailleInputIsEmpty(e)},v.prototype.getAriaLabel=function(e){var t=(r=this.lookupCellPosition()).row,r=r.column+1;return"speech"===e?this.controller.s("graphing-calculator-narration-table-row-column",{row:t.toString(),column:r.toString()}):this.controller.raw("r__row__c__column__",{row:t.toString(),column:r.toString()})},v.prototype.getMQConfig=function(){return{autoOperatorNames:p.getAutoOperators()}},v);function v(){return null!==g&&g.apply(this,arguments)||this}t.default=y}),define("loadcss!expressions/table-view",function(){}),define("expressions/table-view",["require","exports","tslib","keys","lib/aria","./abstract-item-view","dcgview","./tables/header-view","./tables/cell-view","graphing-calc/models/table","vendor/mathquill","jquery","./expression-edit-actions","expressions/measure-expressions","./suggested-zoom-view","main/manage-focus-helper","loadcss!./table-view","jquery.handleevent"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m,y=a.Components,v=y.For,b=y.SwitchUnion;m=i.default,r.__extends(x,m),x.prototype.didMount=function(){this.onItemViewMounted()},x.prototype.willUnmount=function(){this.onItemViewUnmounted()},x.prototype.template=function(){var e=this;return a.createElement("div",{class:function(){return{"dcg-expressionitem":!0,"dcg-expressiontable":!0,"dcg-inFolder":!!e.model.folderId,"dcg-selected":!!e.controller.isItemSelected(e.id),"dcg-dragging":!!e.controller.isItemBeingDragged(e.id),"dcg-no-faded-h":e.isRightFocused(),"dcg-no-faded-v":e.isBottomFocused()}},"expr-id":function(){return e.model.id},didMount:this.bindFn(this.didMountContainer),onKeydown:this.bindFn(this.onKeydown)},a.createElement("div",{class:a.const("dcg-fade-container dcg-disable-horizontal-scroll-to-cursor")},a.createElement("div",{class:a.const("dcg-main")},a.createElement("div",{class:a.const("dcg-table-container"),tabindex:function(){return e.controller.isInEditListMode()?0:-1},"aria-label":function(){return e.controller.getBrailleMode(),e.controller.s("graphing-calculator-narration-expression-index-table",{index:e.model.displayIndex})},didMount:this.bindFn(this.didMountContainer),manageFocus:this.const({shouldBeFocused:this.shouldBeFocused.bind(this),onFocusedChanged:this.onFocusedChanged.bind(this)})},a.createElement("div",{class:a.const("dcg-table-sliding-container"),style:function(){return{transform:"translateX("+e.computeScrolledX()+"px)"}}},a.createElement(v,{each:function(){return e.getVisibleRowModels()},key:function(t){return"blank-row"===t.type?"blank-row-"+t.guid+"-"+t.rows+"-"+e.getCols():t.guid}},a.createElement("div",{role:a.const("grid"),class:function(){return{"dcg-tabledata":!0,"dcg-focus-in-bottom-row":e.isBottomFocused(),"dcg-focus-in-right-column":e.isRightFocused()}}},function(t){return"show-more"===t.type?a.createElement("tr",{role:a.const("row"),class:a.const("dcg-show-more-row")},a.createElement("td",{colspan:e.bindFn(e.getCols)},e.bindFn(e.missingRowMessage),a.createElement("div",{tabindex:a.const(0),role:a.const("button"),class:a.const("dcg-show-more"),onTap:function(){return e.controller.dispatch({type:"table-show-more-rows",id:e.id})}},function(){return e.controller.s("graphing-calculator-button-show-all-table-rows")}))):"blank-row"===t.type?a.createElement("tr",{role:a.const("row"),class:a.const("dcg-blank-row")},a.createElement("td",{colspan:e.bindFn(e.getCols),style:function(){return{height:t.rows*e.getRowHeight()+"px"}}})):a.createElement(v,{each:function(){return t.cells},key:function(e){return e.guid}},a.createElement("tr",{role:a.const("row"),"aria-rowindex":function(){return t.index},class:function(){return{"dcg-row":t,"dcg-braille-row":"none"!==e.controller.getBrailleMode()}}},function(t){return"header"===t.type?a.createElement(s.default,{controller:e.props.controller,model:e.const(t)}):a.createElement(c.default,{controller:e.props.controller,model:e.const(t)})}))}))))),b(function(){return String(e.controller.shouldShowReplaceIcon())},{true:function(){return a.createElement("i",{class:a.const("dcg-icon-replace"),handleEvent:a.const("true"),onTap:e.bindFn(e.onRenameInItem)})},false:function(){return a.createElement("i",{class:a.const("dcg-icon-remove dcg-top-level-delete"),handleEvent:a.const("true"),onTap:e.bindFn(e.onDelete)})}})),a.createElement("span",{class:a.const("dcg-tab dcg-action-drag"),handleevent:a.const("true"),tapboundary:a.const("true"),disablescroll:a.const("true"),style:a.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},a.createElement("span",{class:a.const("dcg-num")},function(){return e.model.displayIndex}),a.createElement("div",{class:a.const("dcg-tab-interior")}),a.createElement(f.SuggestedZoomView,{model:this.props.model,controller:this.props.controller})),a.createElement(p.ExpressionEditActions,{controller:this.props.controller,id:function(){return e.model.id}}))},x.prototype.getCols=function(){return this.model.rowModels[0].cells.length-1},x.prototype.getRowHeight=function(){return this.controller.getGraphSettings().config.projectorMode?38:33},x.prototype.getVisibleRowModels=function(){var e=this.model.rowModels;if(e.length<=25)return e;if(void 0!==(n=l.getCollapsedRange(this.model)))return e.slice(0,n.min).concat({type:"show-more",guid:"show-more"}).concat(e.slice(n.max));var t,r=(t=h.getExppanelRect(this.controller))?t.height:0,n=((o=d(this.node).offset())?o.top:0)-(t?t.top:0),o=d(this.node).find(".dcg-row:eq(0)").height();if(r/(t=this.getRowHeight())>e.length)return e;for(var i=[],a=(-n-o)/t,s=(r-n)/t,c=0;c<e.length;c++){var u=l.getSelectedCell(this.model);0===c||c===e.length-2||u&&u.row===c||!(s<c||c<a)?i.push(e[c]):(u=i[i.length-1])&&"blank-row"===u.type?u.rows++:i.push({type:"blank-row",guid:e[c].guid,rows:1})}return i},x.prototype.missingRowMessage=function(){var e=l.getCollapsedRange(this.model);return void 0===e?"":this.controller.s("graphing-calculator-text-table-more-rows",{rowCount:e.max-e.min})},x.prototype.didMountContainer=function(e){this.node=e,d(e).on("scroll",function(){return e.scrollLeft=0})},x.prototype.getSelectedCell=function(){return l.getSelectedCell(this.model)},x.prototype.computeScrolledX=function(){if(!this.getSelectedCell()||!this.node)return 0;var e=this.node.children[0],t=this.node.querySelector(".dcg-selected");if(null===e||null===t)return 0;var r=this.node.getBoundingClientRect(),n=(t=(n=t.getBoundingClientRect()).left-e.getBoundingClientRect().left,r.width-t-n.width-80);e=Math.min(0,r.width-e.scrollWidth-30),n=Math.max(n,e);return Math.min(0,n)},x.prototype.isBottomFocused=function(){var e=this.getSelectedCell();return!!e&&e.row===this.model.columnModels[0].cells.length},x.prototype.isRightFocused=function(){var e=this.getSelectedCell();return!!e&&e.column===this.model.columnModels.length-1},x.prototype.isFocused=function(){return!!this.getSelectedCell()},x.prototype.onKeydown=function(e){this.controller.isInEditListMode()||!e.ctrlKey||e.shiftKey||e.altKey||e.metaKey||("Up"===n.lookup(e)?(e.preventDefault(),e.stopPropagation(),this.moveToFirstCellInColumn()):"Down"===n.lookup(e)?(e.preventDefault(),e.stopPropagation(),this.moveToLastCellInColumn()):"Left"===n.lookup(e)?(e.preventDefault(),e.stopPropagation(),this.moveToFirstCellInRow()):"Right"===n.lookup(e)?(e.preventDefault(),e.stopPropagation(),this.moveToLastCellInRow()):"H"===n.lookupChar(e)&&(e.preventDefault(),e.stopPropagation(),this.speakColumnHeader()))},x.prototype.moveToFirstCellInColumn=function(){var e=this.getSelectedCell();e&&this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.id,location:{row:0,column:e.column}}})},x.prototype.moveToLastCellInColumn=function(){var e=this.getSelectedCell();e&&this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.id,location:{row:this.model.rowModels.length-1,column:e.column}}})},x.prototype.moveToFirstCellInRow=function(){var e=this.getSelectedCell();e&&this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.id,location:{row:e.row,column:0}}})},x.prototype.moveToLastCellInRow=function(){var e=this.getSelectedCell();e&&this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.id,location:{row:e.row,column:this.model.columnModels[0].cells.length-1}}})},x.prototype.speakColumnHeader=function(){var e=this.controller.s("graphing-calculator-narration-table-no-column-header"),t=this.getSelectedCell();!t||(t=this.model.rowModels[0].cells[t.column])&&"header"===t.type&&t.latex&&""!==t.latex&&(e=u.MQ.StaticMath(d("<span>"+t.latex+"</span>")[0]).mathspeak()),o.alert(e)},x.prototype.focusHelperOptions=function(){return{controller:this.controller,location:{type:"table-container",id:this.model.id}}},x.prototype.shouldBeFocused=function(){return g.defaultShouldBeFocused(this.focusHelperOptions())},x.prototype.onFocusedChanged=function(e){if(this.controller.isInEditListMode())return g.defaultOnFocusChanged(this.focusHelperOptions(),e)},r=x;function x(){return null!==m&&m.apply(this,arguments)||this}t.default=r}),define("loadcss!expressions/folder-view",function(){}),define("expressions/folder-view",["require","exports","tslib","./expression-edit-actions","./abstract-item-view","./smart_textarea","dcgview","./circular-icon-view","jquery.handleevent","loadcss!./folder-view"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c,l=a.Components.SwitchUnion;c=o.default,r.__extends(u,c),u.prototype.didMount=function(){this.onItemViewMounted()},u.prototype.willUnmount=function(){this.onItemViewUnmounted()},u.prototype.template=function(){var e=this;return a.createElement("div",{class:function(){return{"dcg-do-not-blur":!0,"dcg-expressionitem":!0,"dcg-expressionfolder":!0,"dcg-inFolder":!1,"dcg-selected":e.controller.isItemSelected(e.id),"dcg-dragging":!!e.controller.isItemBeingDragged(e.id),"dcg-collapsed":!!e.model.collapsed,"dcg-hidden":!!e.model.hidden,"dcg-has-items":0<e.controller.getNumberOfItemsInFolder(e.id),"dcg-secretFolder":e.model.secret&&!e.controller.canAdministerSecretFolders()}},"expr-id":function(){return e.model.id},onTapStart:this.bindFn(this.onMouseSelect),onTap:this.bindFn(this.onMouseSelect)},a.createElement("div",{class:a.const("dcg-fade-container")},a.createElement("div",{class:a.const("dcg-main")},a.createElement("div",{role:a.const("button"),tabindex:a.const("0"),"aria-pressed":function(){return e.model.collapsed},"aria-label":function(){return e.controller.s("graphing-calculator-narration-collapse-folder")},class:a.const("dcg-caret-container dcg-action-toggle-folder-collapsed dcg-do-not-blur"),handleEvent:a.const("true"),onTap:this.bindFn(this.toggleCollapsed)},a.createElement("i",{class:a.const("dcg-icon-caret-down"),"aria-hidden":a.const("true")})),a.createElement(i.default,{shouldFocus:this.bindFn(this.isFocused),text:function(){return e.model.title},placeholder:function(){return e.controller.s("graphing-calculator-text-note-placeholder")},showLinks:function(){return e.controller.areLinksEnabled()},onInput:this.bindFn(this.onInput),onFocusChange:this.bindFn(this.onFocusChange),onSpecialKey:this.bindFn(this.onSpecialKey),ariaLabel:this.bindFn(this.getAriaLabel),readonly:function(){return e.controller.isInEditListMode()},readonlyAction:this.bindFn(this.exitEditListMode)}),a.createElement("div",{role:a.const("checkbox"),"aria-checked":function(){return e.model.secret},"aria-label":function(){return e.controller.s("graphing-calculator-button-hide-folder-from-students")},class:function(){return{"dcg-action-toggle-secret-folder":!0,"dcg-do-not-blur":!0,"dcg-checked":e.model.secret}},style:function(){return{display:e.controller.canAdministerSecretFolders()?void 0:"none"}},handleEvent:a.const("true"),onTap:this.bindFn(this.toggleSecret)},a.createElement("span",{class:a.const("dcg-checkbox-box")},a.createElement("i",{class:a.const("dcg-icon-check"),"aria-hidden":a.const("true")})),a.createElement("span",{class:a.const("dcg-checkbox-label")},function(){return e.controller.s("graphing-calculator-button-hide-folder-from-students-2")}))),l(function(){return String(e.controller.shouldShowReplaceIcon())},{true:function(){return a.createElement("i",{class:a.const("dcg-icon-replace"),handleEvent:a.const("true"),onTap:e.bindFn(e.onRenameInFolder),"aria-hidden":a.const("true")})},false:function(){return a.createElement("i",{class:a.const("dcg-icon-remove dcg-top-level-delete"),handleEvent:a.const("true"),onTap:e.bindFn(e.onDelete),"aria-hidden":a.const("true")})}})),a.createElement("span",{class:a.const("dcg-tab dcg-action-drag"),handleevent:a.const("true"),tapboundary:a.const("true"),disablescroll:a.const("true"),style:a.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},a.createElement("span",{class:a.const("dcg-num")},function(){return e.model.displayIndex}),a.createElement("div",{class:a.const("dcg-tab-interior")},a.createElement("span",{role:a.const("button"),tabindex:a.const("0"),"aria-pressed":function(){return!!e.model.hidden},"aria-label":function(){return e.controller.s("graphing-calculator-narration-hide-folder")},class:a.const("dcg-circular-icon-container dcg-expression-icon-container"),onTap:this.bindFn(this.toggleHidden)},a.createElement(s.CircularIconView,{iconType:function(){return e.model.hidden?"hidden":"folder"},whiteIcon:function(){return e.controller.isItemSelected(e.model.id)||e.controller.isItemBeingDragged(e.model.id)}})))),a.createElement(n.ExpressionEditActions,{controller:this.props.controller,id:function(){return e.model.id}}))},u.prototype.toggleHidden=function(){this.controller.dispatch({type:"toggle-item-hidden",id:this.id})},u.prototype.toggleSecret=function(){this.controller.dispatch({type:"set-item-secret",id:this.id,isSecret:!this.model.secret})},u.prototype.toggleCollapsed=function(){this.controller.dispatch({type:"set-folder-collapsed",id:this.id,isCollapsed:!this.model.collapsed})},u.prototype.onInput=function(e){this.controller.dispatch({type:"set-folder-title",id:this.id,title:e})},u.prototype.onFocusChange=function(e){e?this.controller.dispatch({type:"set-focus-location",location:{type:"folder",id:this.id}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"folder",id:this.id}})},u.prototype.onSpecialKey=function(e){return this.controller.dispatch({type:"on-special-key-pressed",key:e})},u.prototype.isFocused=function(){var e=this.controller.getFocusLocation();return!(!e||"folder"!==e.type||e.id!==this.id)},u.prototype.getAriaLabel=function(){var e="";this.model.hidden||this.model.collapsed||this.model.secret?!this.model.hidden||this.model.collapsed||this.model.secret?this.model.hidden||!this.model.collapsed||this.model.secret?this.model.hidden||this.model.collapsed||!this.model.secret?this.model.hidden&&this.model.collapsed&&!this.model.secret?e=this.controller.s("graphing-calculator-narration-description-hidden-collapsed-folder"):this.model.hidden&&!this.model.collapsed&&this.model.secret?e=this.controller.s("graphing-calculator-narration-description-hidden-secret-folder"):!this.model.hidden&&this.model.collapsed&&this.model.secret?e=this.controller.s("graphing-calculator-narration-description-collapsed-secret-folder"):this.model.hidden&&this.model.collapsed&&this.model.secret&&(e=this.controller.s("graphing-calculator-narration-description-hidden-collapsed-secret-folder")):e=this.controller.s("graphing-calculator-narration-description-secret-folder"):e=this.controller.s("graphing-calculator-narration-description-collapsed-folder"):e=this.controller.s("graphing-calculator-narration-description-hidden-folder"):e=this.controller.s("graphing-calculator-narration-description-folder");var t=this.controller.getNumberOfItemsInFolder(this.id);return 0<t?this.controller.s("graphing-calculator-narration-folder-has-items",{folder:e,count:t}):e},r=u;function u(){return null!==c&&c.apply(this,arguments)||this}t.default=r}),define("lib/coerce-url",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.coerceURL=void 0,t.coerceURL=function(e){var t=document.createElement("a");return t.href=e,t.href}}),define("loadcss!expressions/image-icon-view",function(){}),define("expressions/image-icon-view",["require","exports","tslib","lib/coerce-url","dcgview","main/manage-focus-helper","../dcgview-helpers/tooltipped-error","./circular-icon-view","jquery.handleevent","loadcss!./image-icon-view"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c,l=o.Components.SwitchUnion;c=o.Class,r.__extends(u,c),u.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller()},u.prototype.template=function(){var e=this;return o.createElement("div",{class:o.const("dcg-expression-icon-container dcg-image-icon-container")},l(this.bindFn(this.typeOfIcon),{error:function(){return o.createElement(a.TooltippedError,{error:function(){return e.controller.unpack(e.model.error)},isWhite:e.bindFn(e.isSelected),gravity:e.const("se")})},failed:function(){return o.createElement("span",null)},loading:function(){return o.createElement(s.CircularIconView,{iconType:e.const("loading")})},hidden:function(){return e.buildIconView()},image:function(){return e.buildIconView()}}))},u.prototype.buildIconView=function(){var e=this;return o.createElement("div",{class:o.const("dcg-circular-icon-container"),role:o.const("button"),tabindex:o.const("0"),"dcg-open-menu-guid":function(){return e.getMenuGUID()},"aria-label":this.bindFn(this.getIconAriaLabel),onTap:function(t){if(!t.wasHandled("dragdrop")&&!t.wasLongheld())return e.myOptionsOpen()||e.controller.isInEditListMode()||t.shiftKey?e.toggleOptions(t):void e.toggleImageShown()},onLongHold:function(t){t.handle("dcg-longhold"),t.handle("dcg-tap"),e.toggleOptions(t)},manageFocus:this.const(i.manageFocusHelper({controller:this.controller,location:{type:"image-icon",id:this.model.id}}))},o.createElement(s.CircularIconView,{iconType:function(){return"hidden"===e.typeOfIcon()?"hidden":"background"},backgroundImage:this.bindFn(this.getBackgroundImage),backgroundOpacity:this.const(1),whiteIcon:this.bindFn(this.isSelected)}))},u.prototype.isSelected=function(){return this.controller.isItemSelected(this.model.id)||this.controller.isItemBeingDragged(this.model.id)},u.prototype.typeOfIcon=function(){return"loading"===this.model.loadStatus?"loading":"failed"===this.model.loadStatus?"failed":this.hasError()?"error":this.model.shouldGraph?"image":"hidden"},u.prototype.getMenuGUID=function(){return this.model.guid},u.prototype.myOptionsOpen=function(){return this.controller.isItemSettingsMenuOpen(this.getMenuGUID())},u.prototype.toggleOptions=function(e){this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"image",model:this.model,guid:this.getMenuGUID(),focusFirstOption:"keyboard"===e.device}})},u.prototype.hasError=function(){return!!this.model.error&&"none"===this.controller.getBrailleMode()},u.prototype.getBackgroundImage=function(){return this.model.image_url===this.lastURL||(this.lastURL=this.model.image_url,this.lastEncodedURL='url("'+n.coerceURL(this.model.image_url)+'")'),this.lastEncodedURL},u.prototype.toggleImageShown=function(){this.controller.dispatch({type:"toggle-item-hidden",id:this.model.id}),this.controller.dispatch({type:"set-focus-location",location:{type:"image-icon",id:this.model.id}})},u.prototype.getIconAriaLabel=function(){return this.myOptionsOpen()?this.controller.s("graphing-calculator-narration-hide-options"):this.controller.isInEditListMode()?this.controller.s("graphing-calculator-narration-show-options"):this.model.hidden?this.controller.s("graphing-calculator-narration-show-image"):this.controller.s("graphing-calculator-narration-hide-image")},r=u;function u(){return null!==c&&c.apply(this,arguments)||this}t.default=r}),define("expressions/image-upload-view",["require","exports","tslib","dcgview","jquery","main/manage-focus-helper"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageUploadView=void 0;var a;a=n.Class,r.__extends(s,a),s.prototype.init=function(){this.controller=this.props.controller()},s.prototype.template=function(){return n.createElement("div",{class:n.const("dcg-do-not-blur"),onTap:this.bindFn(this.newImage),handleEvent:n.const("true"),role:n.const("button"),tabindex:n.const(0),"aria-label":this.props.ariaLabel,manageFocus:this.const(this.props.location?i.manageFocusHelper({controller:this.controller,location:this.props.location()}):void 0)},this.children,n.createElement("input",{type:n.const("file"),accept:n.const("image/*"),style:n.const("display: none"),didMount:this.bindFn(this.didMountFileInput)}))},s.prototype.didMountFileInput=function(e){var t=this;this.fileInputNode=e,o(e).on("change",function(){t.props.onFileChange(e.files),o(e).val("")})},s.prototype.newImage=function(){this.fileInputNode.click()},r=s;function s(){return null!==a&&a.apply(this,arguments)||this}t.ImageUploadView=r}),define("loadcss!expressions/image-view",function(){}),define("expressions/image-view",["require","exports","tslib","keys","jquery","underscore","./abstract-item-view","./smart_textarea","dcgview","dcgview-helpers/mathquill-view","lib/conditional_blur","expressions/promptslider_view","./image-icon-view","./image-upload-view","main/mathquill-operators","graphing-calc/models/image","./expression-edit-actions","../shared-components/mathquill-braille-wrapper","./expression_view","./action-info-view","jquery.handleevent","loadcss!./image-view"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g,m,y,v,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var x,w,E=c.Components,S=E.If,k=E.SwitchUnion,_=(w=c.Class,r.__extends(M,w),M.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller()},M.prototype.template=function(){var e=this;return c.createElement("div",{class:function(){return{"dcg-image-input-mathquill":!0,"dcg-suffix-degree":"angle"===e.props.name()&&e.props.controller().getGraphSettings().degreeMode,"dcg-suffix-radian":"angle"===e.props.name()&&!e.props.controller().getGraphSettings().degreeMode}}},c.createElement(y.default,r.__assign({latex:function(){return e.model[e.props.name()]},brailleShouldFocus:function(){return e.props.focusedInput()===e.props.name()},selectOnFocus:this.const(!0),onBrailleInput:this.bindFn(this.handleLatexChanged),onBrailleFocusedChanged:this.bindFn(this.handleMQFocusedChanged),onBrailleKeydown:this.bindFn(this.handleBrailleKeydown),hasError:function(){return g.hasInputError(e.model,e.props.name())},ariaLabel:function(){return e.controller.raw(e.props.name())}},v.getBrailleWrapperProps(this.props.controller())),c.createElement(l.default,{latex:function(){return e.model[e.props.name()]},isFocused:function(){return e.props.focusedInput()===e.props.name()},capExpressionSize:function(){return e.controller.getCapExpressionSize()},selectOnFocus:this.const(!0),config:this.bindFn(this.getMQConfig),getAriaLabel:function(){return e.controller.raw(e.props.name())},getAriaPostLabel:this.const(""),hasError:this.const(!1),onUserPressedKey:function(t,r){return e.handlePressedKey(t,r)},onUserChangedLatex:this.bindFn(this.handleLatexChanged),onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:this.bindFn(this.handleMQFocusedChanged),needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}},c.createElement("span",{class:function(){return{"dcg-focus":e.props.focusedInput()===e.props.name(),"dcg-invalid":g.hasInputError(e.model,e.props.name())}}}))))},M.prototype.getInputs=function(){return["center","width","angle","height","opacity"]},M.prototype.handlePressedKey=function(e,t){var r=this.props.name(),n=l.default.getFocusedMathquill(),i=this.getInputs(),a=i.indexOf(r);if(!this.controller.isInEditListMode()){if("Enter"===e)return this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});if("Esc"===e)return void u.default()}0<=(r="Right"===e?a+1:"Left"===e?a-1:"Down"===e?4===a?1:a+2:"Up"===e?1===a?4:a-2:-1)&&r<i.length?(n?l.default.applyArrowKeyAndReturnIfWasAtBounds(n,e,t):"Up"===e||"Down"===e||(a=y.getFocusedBrailleElement())&&("Left"===e&&0===a.selectionStart||"Right"===e&&a.selectionStart===o(a).val().length))&&(this.focusInput(i[r]),t&&t.preventDefault()):n&&(n.keystroke(e,t),this.handleLatexChanged(n.latex()))},M.prototype.handleBrailleKeydown=function(e){var t=n.lookup(e);t&&this.handlePressedKey(t,e)},M.prototype.focusInput=function(e){this.controller.dispatch({type:"set-focus-location",location:{type:"image",id:this.model.id,location:e}})},M.prototype.anyInputHasError=function(){var e=this;return i.any(this.getInputs(),function(t){return g.hasInputError(e.model,t)})},M.prototype.handleLatexChanged=function(e){var t=this.props.name();this.model.draggingOnGraphpaper||g.getMQAttribute(this.model,t)!==e&&this.controller.dispatch({type:"set-image-mq-attribute",id:this.model.id,attribute:t,latex:e})},M.prototype.handleMQFocusedChanged=function(e){var t=this.props.name();e?this.props.focusedInput()!==t&&this.controller.dispatch({type:"set-focus-location",location:{type:"image",id:this.model.id,location:t}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"image",id:this.model.id,location:t}})},M.prototype.getMQConfig=function(){return{autoOperatorNames:f.getAutoOperators()}},M);x=a.default,r.__extends(I,x),I.prototype.didMount=function(){this.onItemViewMounted()},I.prototype.willUnmount=function(){this.onItemViewUnmounted()},I.prototype.template=function(){var e=this;return c.createElement("div",{class:function(){return{"dcg-do-not-blur":!0,"dcg-expressionitem":!0,"dcg-expressionimage":!0,"dcg-inFolder":!!e.model.folderId,"dcg-selected":e.controller.isItemSelected(e.id),"dcg-dragging":!!e.controller.isItemBeingDragged(e.id),"dcg-input-focused":e.getFocusedInput()&&"name"!==e.getFocusedInput()}},"expr-id":function(){return e.model.id},onTapStart:this.bindFn(this.onMouseSelect),onTap:this.bindFn(this.onMouseSelect)},c.createElement("div",{class:c.const("dcg-fade-container")},c.createElement("div",{class:c.const("dcg-main")},k(function(){return e.model.loadStatus},{failed:function(){return c.createElement("div",null,c.createElement("div",{class:c.const("dcg-image-failed")},function(){return e.controller.s("graphing-calculator-error-failed-to-load-image")}),c.createElement("div",{role:c.const("button"),tabindex:c.const(0),class:c.const("dcg-retry-loading-image"),onTap:e.bindFn(e.onRetryLoad)},function(){return e.controller.s("graphing-calculator-button-load-image-retry")}))},loading:function(){return c.createElement("div",null,c.createElement("div",{class:c.const("dcg-image-loading")},function(){return e.controller.s("graphing-calculator-text-loading-image")}),c.createElement("div",{role:c.const("button"),tabindex:c.const(0),class:c.const("dcg-retry-loading-image"),onTap:e.bindFn(e.onRetryLoad)},function(){return e.controller.s("graphing-calculator-button-load-image-retry")}))},loaded:function(){return c.createElement("div",{class:c.const("dcg-image-loaded")},c.createElement("div",{class:c.const("dcg-image-title-row")},c.createElement(s.default,{shouldFocus:function(){return"name"===e.getFocusedInput()},text:function(){return e.model.name},placeholder:function(){return e.controller.s("graphing-calculator-text-image-enter-note-placeholder")},showLinks:function(){return e.controller.areLinksEnabled()},onInput:e.bindFn(e.onNameInput),onFocusChange:e.bindFn(e.onNameFocusChange),onSpecialKey:e.bindFn(e.onNameSpecialKey),readonly:e.const(!1)}),c.createElement(S,{predicate:function(){return e.controller.areImagesEnabled()}},function(){return c.createElement(h.ImageUploadView,{controller:function(){return e.controller},ariaLabel:function(){return e.controller.s("graphing-calculator-button-change-image")},onFileChange:function(t){return e.insertFiles(t)},location:e.const({type:"change-image-btn",id:e.id})},c.createElement("div",{class:c.const("dcg-action-changeimage")},function(){return e.controller.s("graphing-calculator-button-change-image")}))})),c.createElement("div",{class:function(){return{"dcg-do-blur":!0,"dcg-image-input-grid":!0}},handleEvent:c.const("true")},c.createElement("div",{class:c.const("dcg-image-input-name")},function(){return e.controller.s("graphing-calculator-label-image-center")}),c.createElement(_,{name:e.const("center"),controller:function(){return e.controller},model:function(){return e.model},focusedInput:e.bindFn(e.getFocusedInput)}),c.createElement("div",{class:c.const("dcg-image-input-name")},function(){return e.controller.s("graphing-calculator-label-image-width")}),c.createElement(_,{name:e.const("width"),controller:function(){return e.controller},model:function(){return e.model},focusedInput:e.bindFn(e.getFocusedInput)}),c.createElement("div",{class:c.const("dcg-image-input-name")},function(){return e.controller.s("graphing-calculator-label-image-angle")}),c.createElement(_,{name:e.const("angle"),controller:function(){return e.controller},model:function(){return e.model},focusedInput:e.bindFn(e.getFocusedInput)}),c.createElement("div",{class:c.const("dcg-image-input-name")},function(){return e.controller.s("graphing-calculator-label-image-height")}),c.createElement(_,{name:e.const("height"),controller:function(){return e.controller},model:function(){return e.model},focusedInput:e.bindFn(e.getFocusedInput)}),c.createElement("div",{class:c.const("dcg-image-input-name")},function(){return e.controller.s("graphing-calculator-label-image-opacity")}),c.createElement(_,{name:e.const("opacity"),controller:function(){return e.controller},model:function(){return e.model},focusedInput:e.bindFn(e.getFocusedInput)})))}})),c.createElement("span",{class:c.const("dcg-fadeout")}),k(function(){return String(e.controller.shouldShowReplaceIcon())},{true:function(){return c.createElement("i",{class:c.const("dcg-icon-replace"),handleEvent:c.const("true"),onTap:e.bindFn(e.onRenameInItem),"aria-hidden":c.const("true")})},false:function(){return c.createElement("i",{class:c.const("dcg-icon-remove dcg-top-level-delete"),handleEvent:c.const("true"),onTap:e.bindFn(e.onDelete),"aria-hidden":c.const("true")})}}),c.createElement(S,{predicate:this.bindFn(this.shouldShowBrailleError)},function(){return c.createElement("div",{class:e.getFooterClass()},c.createElement("div",{tabindex:c.const(0),class:c.const("dcg-expression-braille-error"),"aria-roledescription":c.const("error"),"aria-label":function(){return e.controller.unpack(e.model.error)}},c.createElement("i",{class:c.const("dcg-icon-error"),"aria-hidden":c.const("true")}),function(){return e.controller.unpack(e.model.error)}))}),c.createElement(S,{predicate:function(){return 0<g.getMissingVariables(e.model).length&&e.controller.areSlidersEnabled()}},function(){return c.createElement("div",{class:e.getFooterClass()},c.createElement(d.default,{model:e.props.model,controller:e.props.controller}))}),c.createElement(S,{predicate:this.bindFn(this.shouldShowActionInfo)},function(){return c.createElement("div",{class:e.getFooterClass()},c.createElement(b.default,{model:e.props.model,controller:e.props.controller}))})),c.createElement("span",{class:c.const("dcg-tab dcg-action-drag dcg-action-icon-touch"),handleevent:c.const("true"),tapboundary:c.const("true"),disablescroll:c.const("true"),style:c.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},c.createElement("span",{class:c.const("dcg-num")},function(){return e.model.displayIndex}),c.createElement("div",{class:c.const("dcg-tab-interior dcg-action-icon-mouse")},c.createElement(p.default,{model:this.props.model,controller:this.props.controller}))),c.createElement(m.ExpressionEditActions,{controller:this.props.controller,id:function(){return e.model.id}}))},I.prototype.shouldShowActionInfo=function(){return!!(this.model.clickableInfo&&this.model.clickableInfo.enabled&&this.model.clickableInfo.latex)},I.prototype.getFooterClass=function(){return this.isFirstRender()?this.const("dcg-expression-bottom dcg-indent-in-folder"):this.const("dcg-expression-bottom dcg-fadein-bottom dcg-indent-in-folder")},I.prototype.onNameInput=function(e){this.controller.dispatch({type:"set-image-name",id:this.id,name:e})},I.prototype.onNameFocusChange=function(e){e?this.controller.dispatch({type:"set-focus-location",location:{type:"image",id:this.id,location:"name"}}):"name"===this.getFocusedInput()&&this.controller.dispatch({type:"blur-focus-location",location:{type:"image",id:this.id,location:"name"}})},I.prototype.onNameSpecialKey=function(e){return this.controller.dispatch({type:"on-special-key-pressed",key:e})},I.prototype.getFocusedInput=function(){var e=this.controller.getFocusLocation();if(e&&"image"===e.type&&e.id===this.model.id)return e.location},I.prototype.onRetryLoad=function(){this.controller.dispatch({type:"image-retry-loading",id:this.id})},I.prototype.shouldShowBrailleError=function(){return"none"!==this.controller.getBrailleMode()&&!!this.model.error},I.prototype.insertFiles=function(e){this.controller.dispatch({type:"change-image",files:e,id:this.id})},I.prototype.onMouseSelect=function(e){"dcg-tap"===e.type&&"mouse"===e.device||"dcg-tapstart"===e.type&&"touch"===e.device||e.wasHandled()||(e.handle(),this.controller.dispatch({type:"set-selected-id",id:this.id}))},a=I;function I(){return null!==x&&x.apply(this,arguments)||this}function M(){return null!==w&&w.apply(this,arguments)||this}t.default=a}),define("expressions/shell_view",["require","exports","tslib","dcgview","./abstract-item-view"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i;i=o.default,r.__extends(a,i),a.prototype.didMount=function(){this.onItemViewMounted()},a.prototype.willUnmount=function(){this.onItemViewUnmounted()},a.prototype.template=function(){var e="";return this.model.cachedRenderHeight&&(e="height:"+this.model.cachedRenderHeight+"px"),n.createElement("div",{class:n.const("dcg-do-not-blur dcg-expressionitem dcg-shell"),"expr-id":this.const(this.model.id),onTap:this.bindFn(this.onMouseSelect),style:n.const(e)})},r=a;function a(){return null!==i&&i.apply(this,arguments)||this}t.default=r}),define("expressions/drag_container_view",["require","exports","tslib","dcgview"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o;o=n.Class,r.__extends(i,o),i.prototype.init=function(){this.controller=this.props.controller()},i.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-drag-container"),style:function(){return{top:e.getTopPx()}}},this.children)},i.prototype.getTopPx=function(){var e=this.controller.getRawDragState();if(e)return e.itemTop+"px"},r=i;function i(){return null!==o&&o.apply(this,arguments)||this}t.default=r}),define("vendor/papaparse",["require","jquery"],function(e){"use strict";var t=e("jquery"),r={};function n(e){(e=e||{}).chunkSize||(e.chunkSize=r.RemoteChunkSize);var t,n,o=0,a="",l="",u=new i(s(e));this.stream=function(r){function i(){if(4==t.readyState)if(t.status<200||400<=t.status)s();else{if(a+=l+t.responseText,l="",!(i=!e.step||o>(i=t.getResponseHeader("Content-Range"),parseInt(i.substr(i.lastIndexOf("/")+1))))){var r=a.lastIndexOf("\n");if(r<0&&(r=a.lastIndexOf("\r")),!(-1<r))return void n();l=a.substring(r+1),a=a.substring(0,r)}r=u.parse(a),a="",c(e.chunk)&&(e.chunk(r),r=void 0),i||r.meta.paused||n()}var i}function s(){c(e.error)&&e.error(t.statusText)}(n=function(){var n;(t=new XMLHttpRequest).onload=i,t.onerror=s,t.open("GET",r,!0),e.step&&(n=o+e.chunkSize-1,t.setRequestHeader("Range","bytes="+o+"-"+n)),t.send(),o+=e.chunkSize})()}}function o(e){(e=e||{}).chunkSize||(e.chunkSize=r.LocalChunkSize);var t,n=0,o="",a="",l=new i(s(e)),u="function"==typeof FileReader;this.stream=function(r){var i=r.slice||r.webkitSlice||r.mozSlice;function s(){var o;n<r.size&&(o=Math.min(n+e.chunkSize,r.size),o=t.readAsText(i.call(r,n,o),e.encoding),u||d({target:{result:o}}))}function d(t){if(n+=e.chunkSize,o+=a+t.target.result,a="",!(t=n>=r.size)){var i=o.lastIndexOf("\n");if(i<0&&(i=o.lastIndexOf("\r")),!(-1<i))return void s();a=o.substring(i+1),o=o.substring(0,i)}i=l.parse(o),o="",c(e.chunk)&&(e.chunk(i,r),i=void 0),t||i.meta.paused||s()}u?((t=new FileReader).onload=d,t.onerror=function(){c(e.error)&&e.error(t.error,r)}):t=new FileReaderSync,s()}}function i(e){var t,n,o,i=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,l=this,u=!1,d=[],p={data:[],errors:[],meta:{}};function h(){return p&&o&&(g("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+r.DefaultDelimiter+"'"),o=!1),f()&&function(){if(p){for(var e=0;f()&&e<p.data.length;e++)for(var t=0;t<p.data[e].length;t++)d.push(p.data[e][t]);p.data.splice(0,1)}}(),function(){if(!p||!e.header&&!e.dynamicTyping)return p;for(var t=0;t<p.data.length;t++){for(var r,n={},o=0;o<p.data[t].length;o++)e.dynamicTyping&&(r=p.data[t][o],p.data[t][o]="true"==r||"false"!=r&&(r=r,i.test(r)?parseFloat(r):r)),e.header&&(o>=d.length?(n.__parsed_extra||(n.__parsed_extra=[]),n.__parsed_extra.push(p.data[t][o])):n[d[o]]=p.data[t][o]);e.header&&(p.data[t]=n,o>d.length?g("FieldMismatch","TooManyFields","Too many fields: expected "+d.length+" fields but parsed "+o,t):o<d.length&&g("FieldMismatch","TooFewFields","Too few fields: expected "+d.length+" fields but parsed "+o,t))}return e.header&&p.meta&&(p.meta.fields=d),p}()}function f(){return e.header&&0==d.length}function g(e,t,r,n){p.errors.push({type:e,code:t,message:r,row:n})}e=s(e),this.parse=function(i){var s,d;return o=!1,e.delimiter||((s=function(t){for(var n,o,i=[",","\t","|",";",r.RECORD_SEP,r.UNIT_SEP],s=0;s<i.length;s++){for(var c=i[s],l=0,u=0,d=void 0,p=new a({delimiter:c,preview:10}).parse(t),h=0;h<p.data.length;h++){var f=p.data[h].length;u+=f,void 0!==d?1<f&&(l+=Math.abs(f-d),d=f):d=f}u/=p.data.length,(void 0===o||l<o)&&1.99<u&&(o=l,n=c)}return{successful:!!(e.delimiter=n),bestDelimiter:n}}(i)).successful?e.delimiter=s.bestDelimiter:(o=!0,e.delimiter=r.DefaultDelimiter),p.meta.delimiter=e.delimiter),c(e.step)&&(d=e.step,e.step=function(e){p=e,f()?h():d(h(),l)}),e.preview&&e.header&&e.preview++,t=i,n=new a(e),p=n.parse(t),h(),c(e.complete)&&!u&&e.complete(p),u?{meta:{paused:!0}}:p},this.pause=function(){u=!0,n.abort(),t=t.substr(n.getCharIndex())},this.resume=function(){u=!1,(n=new a(e)).parse(t),c(e.complete)&&!u&&e.complete(p)},this.abort=function(){n.abort(),c(e.complete)&&e.complete(p),t=""}}function a(e){var t,n,o,i,a,s,l,u,d,p,h,f,g,m,y=/^\s*$/,v=!1;function b(){s=t[++l]}function x(){p[f][g]+=s}function w(){p[f].push(""),g=p[f].length-1}function E(){S(),d++,m++,p.push([]),f=p.length-1,w()}function S(){1==p[f].length&&y.test(p[f][0])&&(e.keepEmptyRows?p[f].splice(0,1):p.splice(f,1),f=p.length-1),c(i)&&(p[f]&&i(A()),C())}function k(e){return e<t.length-1&&("\r"==t[e]&&"\n"==t[e+1]||"\n"==t[e]&&"\r"==t[e+1])}function _(e){return"\r"==t[e]||"\n"==t[e]}function I(){return!M()&&l<t.length-1&&'"'==t[l+1]}function M(){return!u&&L(l-1)||L(l+1)}function L(e){"number"!=typeof e&&(e=l);var r=t[e];return e<=-1||e>=t.length||r==n||"\r"==r||"\n"==r}function T(e,t,r){h.push({type:e,code:t,message:r,line:d,row:f,index:l})}function C(){p=[],h=[],g=f=0}function A(){return{data:p,errors:h,meta:{lines:d,delimiter:n,aborted:v,truncated:0<a&&l<t.length}}}n=(e=e||{}).delimiter,o=e.comments,i=e.step,a=e.preview,("string"!=typeof n||1!=n.length||-1<r.BAD_DELIMITERS.indexOf(n))&&(n=","),!0===o?o="#":("string"!=typeof o||1!=o.length||-1<r.BAD_DELIMITERS.indexOf(o)||o==n)&&(o=!1),this.parse=function(e){if("string"!=typeof e)throw"Input must be a string";return u=!1,m=l=0,d=1,C(),p=[[""]],s=(t=e)[l],function(){for(;l<t.length&&!v&&!(0<a&&a<=m);)'"'==s?M()&&!I()?u=!u:(x(),u&&I()?l++:T("Quotes","UnexpectedQuotes","Unexpected quotes")):u?((k(l)||_(l))&&d++,x()):s==n?w():k(l)?(E(),b()):(_(l)?E:o&&(0==l||_(l-1)||k(l-2))&&t[l]===o?function(){for(;!k(l)&&!_(l)&&l<t.length;)b()}:x)(),b();return function(){if(v&&T("Abort","ParseAbort","Parsing was aborted by the user's step function"),u&&T("Quotes","MissingQuotes","Unescaped or mismatched quotes"),S(),!c(i))return A()}()}()},this.abort=function(){v=!0},this.getCharIndex=function(){return l}}function s(e){if("object"!=typeof e)return e;var t,r=e instanceof Array?[]:{};for(t in e)r[t]=s(e[t]);return r}function c(e){return"function"==typeof e}return r.parse=function(e,t){var a=function(e){return"object"!=typeof e&&(e={}),("string"!=typeof(e=s(e)).delimiter||1!=e.delimiter.length||-1<r.BAD_DELIMITERS.indexOf(e.delimiter))&&(e.delimiter=""),"boolean"!=typeof e.header&&(e.header=!1),"boolean"!=typeof e.dynamicTyping&&(e.dynamicTyping=!1),"number"!=typeof e.preview&&(e.preview=0),"function"!=typeof e.step&&(e.step=void 0),"function"!=typeof e.complete&&(e.complete=void 0),"function"!=typeof e.error&&(e.error=void 0),"string"!=typeof e.encoding&&(e.encoding=""),"boolean"!=typeof e.download&&(e.download=!1),"boolean"!=typeof e.keepEmptyRows&&(e.keepEmptyRows=!1),e}(t);if("string"==typeof e){if(!a.download)return new i(a).parse(e);new n(a).stream(e)}else e instanceof File&&(a.step||a.chunk?new o(a).stream(e):(new i(a),reader=new FileReader,reader.onload=function(e){new i(a).parse(e.target.result)},reader.onerror=function(){c(a.error)&&a.error(reader.error,e)},reader.readAsText(e,a.encoding)))},r.unparse=function(e,t){var n=!1,o=",",i="\r\n";if("object"==typeof t&&("string"==typeof t.delimiter&&1==t.delimiter.length&&-1==r.BAD_DELIMITERS.indexOf(t.delimiter)&&(o=t.delimiter),("boolean"==typeof t.quotes||t.quotes instanceof Array)&&(n=t.quotes),"string"==typeof t.newline&&(i=t.newline)),"string"==typeof e&&(e=JSON.parse(e)),e instanceof Array){if(!e.length||e[0]instanceof Array)return s(null,e);if("object"==typeof e[0])return s(a(e[0]),e)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data instanceof Array&&(e.fields||(e.fields=e.data[0]instanceof Array?e.fields:a(e.data[0])),e.data[0]instanceof Array||"object"==typeof e.data[0]||(e.data=[e.data])),s(e.fields||[],e.data||[]);throw"exception: Unable to serialize unrecognized input";function a(e){if("object"!=typeof e)return[];var t,r=[];for(t in e)r.push(t);return r}function s(e,t){var r="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var n=e instanceof Array&&0<e.length,a=!(t[0]instanceof Array);if(n){for(var s=0;s<e.length;s++)0<s&&(r+=o),r+=c(e[s],s);0<t.length&&(r+=i)}for(var l=0;l<t.length;l++){for(var u=(n?e:t[l]).length,d=0;d<u;d++){0<d&&(r+=o);var p=n&&a?e[d]:d;r+=c(t[l][p],d)}l<t.length-1&&(r+=i)}return r}function c(e,t){return null==e?"":(e=e.toString().replace(/"/g,'""'),"boolean"==typeof n&&n||n instanceof Array&&n[t]||function(e,t){for(var r=0;r<t.length;r++)if(-1<e.indexOf(t[r]))return 1}(e,r.BAD_DELIMITERS)||-1<e.indexOf(o)||" "==e.charAt(0)||" "==e.charAt(e.length-1)?'"'+e+'"':e)}},r.RECORD_SEP=String.fromCharCode(30),r.UNIT_SEP=String.fromCharCode(31),r.BYTE_ORDER_MARK="\ufeff",r.BAD_DELIMITERS=["\r","\n",'"',r.BYTE_ORDER_MARK],r.LocalChunkSize=10485760,r.RemoteChunkSize=5242880,r.DefaultDelimiter=",",r.Parser=a,r.ParserHandle=i,r.NetworkStreamer=n,r.FileStreamer=o,t.fn.parse=function(e){var n=e.config||{},o=[];return this.each(function(e){if("INPUT"!=t(this).prop("tagName").toUpperCase()||"file"!=t(this).attr("type").toLowerCase()||!window.FileReader||!this.files||0==this.files.length)return!0;for(var r=0;r<this.files.length;r++)o.push({file:this.files[r],inputElem:this,instanceConfig:t.extend({},n)})}),i(),this;function i(){if(0!=o.length){var n,i,s,l=o[0];if(c(e.before)){var u=e.before(l.file,l.inputElem);if("object"==typeof u){if("abort"==u.action)return n=l.file,i=l.inputElem,s=u.reason,c(e.error)&&e.error({name:"AbortError"},n,i,s),0;if("skip"==u.action)return a(),0;"object"==typeof u.config&&(l.instanceConfig=t.extend(l.instanceConfig,u.config))}else if("skip"==u)return a(),0}var d=l.instanceConfig.complete;l.instanceConfig.complete=function(e){c(d)&&d(e,l.file,l.inputElem),a()},r.parse(l.file,l.instanceConfig)}}function a(){o.splice(0,1),i()}},r}),define("geometry/math/isNumber",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNumber=void 0,t.isNumber=function(e){var t;if("number"==typeof e)t=e+"";else{if("string"!=typeof e)return!1;t=e}return t.trim().match(/^-?[0-9]*\.?[0-9]*$/)}}),define("main/data_helpers",["require","exports","vendor/papaparse","underscore","bugsnag","geometry/math/isNumber"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=t.getExpressions=void 0,t.getExpressions=function(e){var t=e.split(/\r?\n/),r=[],o=!1;if(!(t.length<2)){for(var a=0;a<t.length;a++){var s=t[a];s.trim()&&(0<a&&!i.isNumber(s.replace(/,(\d{3})/g,"$1"))&&(o=!0),s={content:s},r.push(s))}return o?r:(e=n.pluck(r,"content").map(function(e){return e.replace(/,(\d{3})/g,"$1")}),i.isNumber(e[0])||(e=e.slice(1)),[{content:"\\left["+e.join(",")+"\\right]",numberList:!0}])}},t.parse=function(e){if(!/^\s*$/.test(e)){var t=r.parse(e,{preview:1e3}),n=[];if(!t.errors.length||t.data.length){if(t.data.length&&!(t.data.length<2)){for(var i=t.data[0].length,a=0;a<i;a++)n.push([]);for(var s=0;s<t.data.length;s++)if(0!==s||!isNaN(parseFloat(t.data[s][0]))){if(t.data[s].length<2)return;if(t.data[s][0]||t.data[s][1])for(a=0;a<i;a++){var c=(t.data[s][a]||"").replace(/,(\d{3})/g,"$1");if(c&&isNaN(parseFloat(c)))return;n[a].push(c)}}if(!(n[0].length<2))return n}}else o.notify("PapaParse.parse returned errors.",{metaData:{input:e,output:t.errors}})}}}),define("loadcss!new_expression",function(){}),define("expressions/new_expression_view",["require","exports","tslib","dcgview","loadcss!new_expression"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o;o=n.Class,r.__extends(i,o),i.prototype.template=function(){return this.controller=this.props.controller(),n.createElement("div",{class:n.const("dcg-expressionitem dcg-new-expression dcg-opened")},n.createElement("div",{class:n.const("dcg-new-math-div dcg-do-not-blur dcg-action-newmath"),onTap:this.bindFn(this.newMath)},n.createElement("div",{class:n.const("dcg-new-expression-fade")})),n.createElement("span",{class:n.const("dcg-tab")},n.createElement("span",{class:n.const("dcg-num dcg-variable-index")},this.bindFn(this.getIndex)),n.createElement("div",{class:n.const("dcg-tab-interior")})))},i.prototype.getIndex=function(){return this.controller.getNextDisplayIndex()},i.prototype.newMath=function(){this.controller.dispatch({type:"new-expression-at-end"})},r=i;function i(){return null!==o&&o.apply(this,arguments)||this}t.default=r}),define("loadcss!add_expression",function(){}),define("expressions/add_expression_view",["require","exports","tslib","keys","browser","dcgview","jquery","./image-upload-view","main/manage-focus-helper","../shared-components/tooltip","loadcss!add_expression"],function(e,t,r,n,o,i,a,s,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u,d=i.Components.If;u=i.Class,r.__extends(p,u),p.prototype.init=function(){this.controller=this.props.controller()},p.prototype.template=function(){var e=this;return i.createElement("div",{class:i.const("dcg-add-expression-container")},i.createElement(l.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-add-item-tooltip")},gravity:function(){return e.controller.isNarrow()?"ne":"se"}},i.createElement("span",{class:function(){return{"dcg-icon-btn":!0,"dcg-add-expression-btn":!0,"dcg-action-add-expression":!0,"dcg-do-blur":!0,"dcg-active":e.controller.isAddExpressionOpen()}},handleEvent:i.const("true"),role:i.const("button"),tabindex:i.const("0"),"aria-haspopup":i.const("true"),"aria-expanded":function(){return e.controller.isAddExpressionOpen()},"aria-label":function(){return e.controller.s("graphing-calculator-label-add-item-tooltip")},didMount:function(t){e.toggleButtonNode=t},onTap:this.bindFn(this.toggleAddExpression),manageFocus:this.const(c.manageFocusHelper({controller:this.controller,location:{type:"add-item-btn"}}))},i.createElement("i",{class:i.const("dcg-icon-plus"),"aria-hidden":i.const("true")}))),i.createElement(d,{predicate:function(){return e.controller.isAddExpressionOpen()}},function(){return i.createElement("div",{class:function(){return{"dcg-add-expression-dropdown":!0,"dcg-popover":!0,"dcg-bottom":!e.controller.isNarrow(),"dcg-right":e.controller.isNarrow()}},role:i.const("complementary"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-add-item-menu")},didMount:e.bindFn(e.didMountPopover),didUnmount:e.bindFn(e.didUnmountPopover)},i.createElement("div",{class:i.const("dcg-popover-interior")},i.createElement("div",{class:i.const("dcg-new-item dcg-do-not-blur dcg-action-newexpression"),role:i.const("button"),tabindex:i.const(0),"aria-label":function(){return e.controller.s("graphing-calculator-narration-add-expression")},onTap:e.bindFn(e.newExpression),handleEvent:i.const("true"),manageFocus:e.const(c.manageFocusHelper({controller:e.controller,location:{type:"add-expression-btn"}}))},i.createElement("i",{class:i.const("dcg-icon-new-expression dcg-expression-icon"),"aria-hidden":i.const("true")}),function(){return e.controller.s("graphing-calculator-label-expression-lowercase")}),i.createElement(d,{predicate:function(){return e.controller.areNotesEnabled()}},function(){return i.createElement("div",{class:i.const("dcg-new-item dcg-do-not-blur dcg-action-newtext"),role:i.const("button"),tabindex:i.const(0),"aria-label":function(){return e.controller.s("graphing-calculator-narration-add-note")},onTap:e.bindFn(e.newText),handleEvent:i.const("true"),manageFocus:e.const(c.manageFocusHelper({controller:e.controller,location:{type:"add-note-btn"}}))},i.createElement("i",{class:i.const("dcg-icon-new-text dcg-expression-icon"),"aria-hidden":i.const("true")}),function(){return e.controller.s("graphing-calculator-label-note-lowercase")})}),i.createElement("div",{class:i.const("dcg-new-item dcg-do-not-blur dcg-action-newtable"),role:i.const("button"),tabindex:i.const(0),"aria-label":function(){return e.controller.s("graphing-calculator-narration-add-table")},onTap:e.bindFn(e.newTable),handleEvent:i.const("true"),manageFocus:e.const(c.manageFocusHelper({controller:e.controller,location:{type:"add-table-btn"}}))},i.createElement("i",{class:i.const("dcg-icon-new-table dcg-expression-icon"),"aria-hidden":i.const("true")}),function(){return e.controller.s("graphing-calculator-label-table-lowercase")}),i.createElement(d,{predicate:function(){return e.controller.areFoldersEnabled()}},function(){return i.createElement("div",{class:i.const("dcg-new-item dcg-do-not-blur dcg-action-newfolder"),role:i.const("button"),tabindex:i.const(0),"aria-label":function(){return e.controller.s("graphing-calculator-narration-add-folder")},onTap:e.bindFn(e.newFolder),handleEvent:i.const("true"),manageFocus:e.const(c.manageFocusHelper({controller:e.controller,location:{type:"add-folder-btn"}}))},i.createElement("i",{class:i.const("dcg-icon-new-folder dcg-expression-icon"),"aria-hidden":i.const("true")}),function(){return e.controller.s("graphing-calculator-label-folder-lowercase")})}),i.createElement(d,{predicate:function(){return e.controller.areImagesEnabled()}},function(){return i.createElement(s.ImageUploadView,{controller:function(){return e.controller},ariaLabel:function(){return e.controller.s("graphing-calculator-narration-add-image")},onFileChange:function(t){return e.insertFiles(t)},location:e.const({type:"add-image-btn"})},i.createElement("div",{class:i.const("dcg-new-item dcg-action-newimage")},i.createElement("i",{class:i.const("dcg-icon-new-image dcg-expression-icon"),"aria-hidden":i.const("true")}),function(){return e.controller.s("graphing-calculator-label-image-lowercase")}))}),i.createElement(d,{predicate:e.bindFn(e.showAddTicker)},function(){return i.createElement("div",{class:i.const("dcg-new-item dcg-do-not-blur dcg-action-ticker"),role:i.const("button"),tabindex:i.const(0),"aria-label":function(){return e.controller.s("graphing-calculator-narration-add-ticker")},onTap:e.bindFn(e.addTicker),handleEvent:i.const("true"),manageFocus:e.const(c.manageFocusHelper({controller:e.controller,location:{type:"add-ticker-btn"}}))},i.createElement("i",{class:i.const("dcg-icon-metronome dcg-expression-icon"),"aria-hidden":i.const("true")}),function(){return e.controller.s("graphing-calculator-label-ticker-lowercase")})})),i.createElement("span",{class:i.const("dcg-arrow")}))}))},p.prototype.showAddTicker=function(){return this.controller.areActionsEnabled()&&!this.controller.getTickerOpen()},p.prototype.didMountPopover=function(e){var t=this;this.popoverNode=e,a(document).on("dcg-tapstart.add-expression-view wheel.add-expression-view",function(e){t.eventShouldClosePopover(e)&&t.controller.dispatch({type:"close-add-expression",focusIconAfterClose:"keyboard"===e.device})}),a(document).on("keydown.add-expression-view",function(e){var r,o;"Esc"===n.lookup(e)&&t.controller.dispatch({type:"close-add-expression",focusIconAfterClose:!0}),"Tab"!==n.lookup(e)||e.altKey||e.metaKey||e.ctrlKey||(r=t.controller.getFocusLocation())&&(void 0,o=t.showAddTicker()?{type:"add-ticker-btn"}:t.controller.areImagesEnabled()?{type:"add-image-btn"}:t.controller.areFoldersEnabled()?{type:"add-folder-btn"}:{type:"add-table-btn"},e.shiftKey||r.type!==o.type?e.shiftKey&&"add-item-btn"===r.type&&(t.controller.dispatch({type:"set-focus-location",location:o}),e.preventDefault(),e.stopPropagation()):(t.controller.dispatch({type:"set-focus-location",location:{type:"add-item-btn"}}),e.preventDefault(),e.stopPropagation()))}),o.IS_IPAD&&o.IS_IN_IFRAME&&a(e).on("dcg-tapstart",function(e){return e.preventDefault()}),a(e).find(".dcg-new-item").on("touchstart",function(e){return e.preventDefault()})},p.prototype.didUnmountPopover=function(){a(document).off(".add-expression-view")},p.prototype.toggleAddExpression=function(e){this.controller.dispatch({type:"toggle-add-expression",focusOnOpen:"keyboard"===e.device})},p.prototype.newExpression=function(){this.controller.dispatch({type:"new-expression"})},p.prototype.newText=function(){this.controller.dispatch({type:"new-text"})},p.prototype.newFolder=function(){this.controller.dispatch({type:"new-folder"})},p.prototype.addTicker=function(){this.controller.dispatch({type:"open-ticker"})},p.prototype.newTable=function(){this.controller.dispatch({type:"new-table"})},p.prototype.insertFiles=function(e){this.controller.dispatch({type:"new-images",files:e})},p.prototype.eventShouldClosePopover=function(e){var t=!!a(e.target).closest(this.popoverNode).length;e=!!a(e.target).closest(this.toggleButtonNode).length;return!(t||e)},r=p;function p(){return null!==u&&u.apply(this,arguments)||this}t.default=r}),define("loadcss!expressions/expressions-header",function(){}),define("expressions/expressions-header",["require","exports","tslib","./add_expression_view","dcgview","main/manage-focus-helper","../shared-components/tooltip","loadcss!./expressions-header"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,c=o.Components.If;s=o.Class,r.__extends(l,s),l.prototype.init=function(){this.controller=this.props.controller()},l.prototype.template=function(){var e=this;return o.createElement("div",{class:function(){return{"dcg-expression-top-bar":!0,"dcg-expressions-scrolled":e.showShadow()}},role:o.const("toolbar"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-expression-bar")},didMount:function(t){e.node=t},onTapStart:this.bindFn(this.clearSelectionOnMobile),style:function(){return{background:e.controller.hasBackgroundColor()?e.controller.getPillboxBackgroundColor():void 0}}},o.createElement("div",{class:o.const("dcg-left-buttons")},o.createElement(c,{predicate:this.bindFn(this.showHamburger)},function(){return o.createElement("span",{class:o.const("dcg-action-opendrawer dcg-tooltip dcg-icon-btn dcg-in-api-action-opendrawer"),handleEvent:o.const("true"),tooltip:function(){return e.controller.s("graphing-calculator-label-open-graph-tooltip")},role:o.const("button"),tabindex:o.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-open-graph")},onTap:function(){return e.controller.dispatch({type:"open-drawer"})}},o.createElement("i",{class:o.const("dcg-icon-hamburger"),"aria-hidden":o.const("true")}))}),o.createElement(c,{predicate:function(){return!e.controller.isInEditListMode()}},function(){return o.createElement(n.default,{controller:function(){return e.props.controller()}})}),o.createElement(c,{predicate:this.bindFn(this.showRerandomize)},function(){return o.createElement(a.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-randomize-tooltip")},gravity:function(){return e.controller.isNarrow()?"n":"s"}},o.createElement("span",{class:o.const("dcg-icon-btn"),handleEvent:o.const("true"),role:o.const("button"),tabindex:o.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-label-randomize-tooltip")},onTap:function(){return e.controller.dispatch({type:"re-randomize"})}},o.createElement("i",{class:o.const("dcg-icon-randomize"),"aria-hidden":o.const("true")})))}),o.createElement(c,{predicate:function(){return e.controller.isInEditListMode()&&!e.controller.hasDefaultState()}},function(){return o.createElement("span",{class:o.const("dcg-btn-red dcg-action-clearall"),role:o.const("button"),tabindex:o.const("0"),onTap:function(){return e.controller.dispatch({type:"clear-graph"})}},function(){return e.controller.s("graphing-calculator-button-clear-graph")})}),o.createElement(c,{predicate:function(){return e.controller.isInEditListMode()&&e.controller.hasDefaultState()}},function(){return o.createElement("span",{class:o.const("dcg-btn-red dcg-action-reset"),role:o.const("button"),tabindex:o.const("0"),onTap:function(){return e.controller.dispatch({type:"reset-graph"})}},function(){return e.controller.s("graphing-calculator-button-reset-graph")})})),o.createElement("div",{class:o.const("dcg-center-buttons")},o.createElement(a.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-undo-tooltip")},gravity:function(){return e.controller.isNarrow()?"n":"s"},disabled:function(){return!e.controller.canUndo()}},o.createElement("span",{class:function(){return{"dcg-action-undo":!0,"dcg-icon-btn":!0,"dcg-disabled":!e.controller.canUndo()}},role:o.const("button"),tabindex:function(){return e.controller.canUndo()?0:-1},"aria-label":function(){return e.controller.s("graphing-calculator-narration-undo")},onTap:function(){return e.controller.dispatch({type:"undo"})},"aria-disabled":function(){return!e.controller.canUndo()}},o.createElement("i",{class:o.const("dcg-icon-undo"),"aria-hidden":o.const("true")}))),o.createElement(a.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-redo-tooltip")},gravity:function(){return e.controller.isNarrow()?"n":"s"},disabled:function(){return!e.controller.canRedo()}},o.createElement("span",{class:function(){return{"dcg-action-redo":!0,"dcg-icon-btn":!0,"dcg-disabled":!e.controller.canRedo()}},role:o.const("button"),tabindex:function(){return e.controller.canRedo()?0:-1},"aria-label":function(){return e.controller.s("graphing-calculator-narration-redo")},onTap:function(){return e.controller.dispatch({type:"redo"})},"aria-disabled":function(){return!e.controller.canRedo()}},o.createElement("i",{class:o.const("dcg-icon-redo"),"aria-hidden":o.const("true")})))),o.createElement("div",{class:o.const("dcg-right-buttons")},o.createElement(c,{predicate:function(){return!e.controller.isInEditListMode()}},function(){return o.createElement(a.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-edit-list-tooltip")},gravity:function(){return e.controller.isNarrow()?"n":"s"}},o.createElement("span",{class:o.const("dcg-icon-btn dcg-action-toggle-edit"),handleEvent:o.const("true"),role:o.const("button"),tabindex:o.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-edit-expression-list")},onTap:e.bindFn(e.toggleEditListMode),manageFocus:e.const(i.manageFocusHelper({controller:e.controller,location:{type:"edit-list-toggle"}}))},o.createElement("i",{class:o.const("dcg-icon-settings"),"aria-hidden":o.const("true")})))}),o.createElement(c,{predicate:function(){return e.controller.isInEditListMode()}},function(){return o.createElement("span",{class:o.const("dcg-btn-primary dcg-action-toggle-edit dcg-do-not-blur"),handleEvent:o.const("true"),role:o.const("button"),tabindex:o.const("0"),onTap:e.bindFn(e.toggleEditListMode),manageFocus:e.const(i.manageFocusHelper({controller:e.controller,location:{type:"edit-list-toggle"}}))},function(){return e.controller.s("graphing-calculator-button-done")})}),o.createElement(c,{predicate:function(){return!e.controller.isInEditListMode()&&e.controller.getGraphSettings().config.graphpaper}},function(){return o.createElement(a.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-hide-expression-list-tooltip")},gravity:function(){return e.controller.isNarrow()?"nw":"sw"}},o.const(" "),o.createElement("span",{class:function(){return{"dcg-resize-list-btn":!0,"dcg-action-hideexpressions":!0,"dcg-icon-btn":!0,"dcg-rotated":e.controller.isNarrow()}},role:o.const("button"),tabindex:o.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-label-hide-expression-list-tooltip")},onTap:function(t){e.controller.dispatch({type:"hide-expressions-list",focusShowIcon:"keyboard"===t.device})},manageFocus:e.const(i.manageFocusHelper({controller:e.controller,location:{type:"hide-expression-list-btn"}}))},o.createElement("i",{class:o.const("dcg-icon-hide"),"aria-hidden":o.const("true")})))})))},l.prototype.showShadow=function(){return!this.controller.getTickerOpen()&&!this.controller.getExpressionSearchOpen()&&this.props.expsScrolled()},l.prototype.showRerandomize=function(){return this.controller.anyItemDependsOnRandomSeed()},l.prototype.showHamburger=function(){return!!this.controller.getGraphSettings().config.showHamburger&&!this.controller.isInEditListMode()&&!this.controller.isNarrow()},l.prototype.clearSelectionOnMobile=function(e){e.wasHandled()||this.controller.dispatch({type:"set-none-selected"})},l.prototype.toggleEditListMode=function(e){this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:!this.controller.isInEditListMode(),focusExpressionList:!1}),"keyboard"===e.device&&this.controller.dispatch({type:"set-focus-location",location:{type:"edit-list-toggle"}})},r=l;function l(){return null!==s&&s.apply(this,arguments)||this}t.default=r}),define("main/load-graph-from-link",["require","exports","core/graphing-calc/migrate-state","tslib","jquery","core/lib/deepCopy"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var s=!1;function c(){s||e.dispatch({type:"toast/show",toast:{message:e.s("graphing-calculator-text-toast-error-importing-graph"),toastStyle:"error",hideAfter:12e3}})}function l(t,r){e.dispatch({type:"set-state",state:t}),e.dispatch({type:"toast/show",toast:{message:e.s("graphing-calculator-text-toast-imported-graph"),undoCallback:function(){e.dispatch({type:"set-state",state:r})}}})}e.dispatch({type:"toast/show",toast:{message:e.s("graphing-calculator-text-toast-importing-graph"),hideAfter:0,toastStyle:"cover",onHide:function(){s=!0}}}),o.getJSON(t).done(function(t){var o=r.migrateToLatest(t.state);a(o,function(r,o){r||!o?c():function(t,r){if(!s){var o=e.getSelectedItem();if(o){var a="folder"===o.type,c="folder"!==o.type&&!!o.folderId,u=a||c,d={},p=e.getState(),h=p.expressions.list;if(1!==h.length||a){for(var f=t.expressions.list,g=0;g<f.length;g++){var m=e.generateId(),y=f[g];if("folder"!==y.type)y.folderId?y.folderId=d[y.folderId]:a?y.folderId=o.id:c&&(y.folderId=o.folderId),y.id=m;else{if(u)return e.dispatch({type:"toast/show",toast:{message:e.s("graphing-calculator-text-toast-error-no-folders"),toastStyle:"error",hideAfter:12e3}});d[y.id]=m,y.id=m}}for(var v=i.default(p),b=0;b<h.length;){if(h[b].id===o.id){a&&(h[b].title=r);break}b+=1}var x=a?b+1:b,w=a?0:1;h.splice.apply(h,n.__spreadArray([x,w],f)),l(p,v)}else l(t,p)}}}(o,t.title||"")})}).fail(c)}}),define("lib/get-clipboard-data",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):e&&e.clipboardData&&e.clipboardData.getData?e.clipboardData.getData("text/plain"):void 0}}),define("loadcss!expressions/exp-list-resizer",function(){}),define("expressions/exp-list-resizer",["require","exports","tslib","dcgview","jquery","underscore","loadcss!./exp-list-resizer"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpListResizer=void 0;var a,s=n.Components.If;a=n.Class,r.__extends(c,a),c.prototype.init=function(){this.guid=i.uniqueId("dcg-exp-list-resize")},c.prototype.template=function(){var e=this;return n.createElement(s,{predicate:this.bindFn(this.isVisible)},function(){return n.createElement("div",{class:n.const("dcg-exp-list-resizer"),onTapStart:e.bindFn(e.onTapStart)})})},c.prototype.isVisible=function(){return!this.props.controller().expressionsAreFullWidth()&&this.props.controller().isListVisible()},c.prototype.onTapStart=function(e){var t=this;this.initialWidth=this.props.controller().getExpListWidth(),this.initialLeft=e.changedTouches[0].clientX,o(document).on("dcg-tapmove."+this.guid,function(e){void 0!==t.initialLeft&&void 0!==t.initialWidth&&(e=e.changedTouches[0].clientX-t.initialLeft+t.initialWidth,t.props.controller().dispatch({type:"resize-exp-list",expListWidth:e}))}),o(document).on("dcg-tapend."+this.guid,this.bindFn(this.onTapEnd)),o(document).on("dcg-tapcancel."+this.guid,this.bindFn(this.onTapEnd))},c.prototype.onTapEnd=function(){o(document).off("."+this.guid),this.initialLeft=void 0,this.initialWidth=void 0},r=c;function c(){return null!==a&&a.apply(this,arguments)||this}t.ExpListResizer=r}),define("expressions/expression-menus/base-menu-section",["require","exports","tslib","dcgview","main/mathquill-operators","graphing-calc/models/abstract-item"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseMenuSection=void 0;var a;a=n.Class,r.__extends(s,a),s.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},s.prototype.getMQConfig=function(){return{autoOperatorNames:o.getAutoOperators()}},s.prototype.getFocusedInput=function(){var e=this.controller.getFocusLocation(),t=("header"===this.model.type?this.model.table:this).id;if(e&&"expression-menu"===e.type&&e.id===t)return e.location},s.prototype.handleFocusedChanged=function(e,t){var r=("header"===this.model.type?this.model.table:this).id;e?this.controller.dispatch({type:"set-focus-location",location:{type:"expression-menu",id:r,location:t}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"expression-menu",id:r,location:t}})},s.prototype.onColorSelected=function(e){"image"!==this.model.type&&("expression"===this.model.type?this.controller.dispatch({type:"set-item-color",id:this.id,color:e}):this.controller.dispatch({type:"set-tablecolumn-color",color:e,tableId:this.model.table.id,columnId:this.id}))},s.prototype.onCustomColorSelected=function(e){"image"!==this.model.type&&("expression"===this.model.type?this.controller.dispatch({type:"set-item-colorlatex",id:this.id,colorLatex:e}):this.controller.dispatch({type:"set-tablecolumn-colorlatex",tableId:this.model.table.id,columnId:this.model.id,colorLatex:e}))},s.prototype.getModelColor=function(){return"image"===this.model.type?"":i.getDisplayColor(this.model)},r=s;function s(){return null!==a&&a.apply(this,arguments)||this}t.BaseMenuSection=r}),define("loadcss!expressions/toggle-view",function(){}),define("expressions/toggle-view",["require","exports","tslib","dcgview","loadcss!./toggle-view"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToggleView=void 0;var o;o=n.Class,r.__extends(i,o),i.prototype.template=function(){var e=this;return n.createElement("div",{class:function(){return{"dcg-toggle-view":!0,"dcg-toggled":e.props.toggled()}},"aria-label":function(){return e.props.ariaLabel()},role:n.const("checkbox"),tabindex:n.const("0"),"aria-checked":function(){return e.props.toggled()},toggled:function(){return e.props.toggled()},onTap:this.bindFn(this.props.onChange)},n.createElement("div",{class:n.const("dcg-toggle-switch")}))},r=i;function i(){return null!==o&&o.apply(this,arguments)||this}t.ToggleView=r}),define("loadcss!expressions/expression-menus/color-picker",function(){}),define("expressions/expression-menus/color-picker",["require","exports","tslib","dcgview","underscore","expressions/colors","../../lib/mathspeak","./color-swatch","../../shared-components/tooltip","dcgview-helpers/static-mathquill-view","loadcss!./color-picker"],function(e,t,r,n,o,i,a,s,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPicker=void 0;var u,d=n.Components,p=d.For,h=d.If;u=n.Class,r.__extends(f,u),f.prototype.init=function(){this.controller=this.props.controller()},f.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-color-picker-container")},n.createElement(p,{each:function(){return o.values(e.controller.getColors())}},n.createElement("span",{class:n.const("dcg-color-picker-menu dcg-do-not-blur")},function(t){return n.createElement("span",{class:n.const("dcg-color-tile"),handleevent:n.const("true"),role:n.const("button"),tabindex:n.const(0),"aria-label":function(){return i.getColorName(e.controller,t)},"aria-pressed":function(){return e.isSelected(t)},onTap:function(){return e.props.onColorSelected(t)}},n.createElement("span",{class:n.const("dcg-color-swatch"),style:function(){return{background:t}}}),n.createElement(h,{predicate:function(){return e.isSelected(t)}},function(){return n.createElement("i",{class:n.const("dcg-icon-check"),"aria-hidden":n.const("true")})}))})),n.createElement(h,{predicate:function(){return 0<e.getUniqueCustomColors().length}},function(){return n.createElement(p,{each:e.bindFn(e.getUniqueCustomColors),key:function(e){return"string"==typeof e?e:e.assignmentLatex}},n.createElement("span",{class:n.const("dcg-color-picker-menu dcg-do-not-blur")},function(t){return"string"==typeof t?n.createElement("span",{class:n.const("dcg-color-picker-placeholder")}):n.createElement(c.Tooltip,{tooltip:function(){return t.assignmentLatex},renderAsLatex:function(){return{view:function(t){return n.createElement(l.default,{config:e.const({}),latex:function(){return t}})}}}},n.createElement("span",{class:n.const("dcg-color-tile"),handleevent:n.const("true"),role:n.const("button"),tabindex:n.const(0),"aria-label":function(){return a.getMathspeakFromText(t.assignmentLatex)},"aria-pressed":function(){return e.props.colorLatex()===t.assignmentLatex},onTap:function(){return e.props.onCustomColorSelected(t.assignmentLatex)}},n.createElement(s.ColorSwatch,{color:function(){return e.getColorValue(t)}}),n.createElement(h,{predicate:function(){return e.props.colorLatex()===t.assignmentLatex}},function(){return n.createElement("i",{class:function(){return e.getCheckmarkClass(t)},"aria-hidden":n.const("true")})})))}))}))},f.prototype.isSelected=function(e){var t=this.props.colorLatex();return!(t&&0<=o.pluck(this.getUniqueCustomColors(),"assignmentLatex").indexOf(t))&&this.props.selectedColor()===e},f.prototype.getUniqueCustomColors=function(){if(this.props.hideCustomColors&&this.props.hideCustomColors())return[];for(var e=this.controller.getAllColorAssignments(),t=o.countBy(e,function(e){return e.assignmentLatex}),r=o.filter(e,function(e){return 1===t[e.assignmentLatex]}),n=0;n<r.length%6;n++)r.push("placholder-"+n);return r},f.prototype.getColorValue=function(e){return this.controller.getColorById(e.id)},f.prototype.getCheckmarkClass=function(e){return i.colorValueHasSomeLightColor(this.getColorValue(e))?"dcg-icon-check "+(i.colorValueHasOnlyLightColor(this.getColorValue(e))?"dcg-light-color":"dcg-mixed-color"):"dcg-icon-check"},r=f;function f(){return null!==u&&u.apply(this,arguments)||this}t.ColorPicker=r}),define("expressions/expression-menus/lines",["require","exports","tslib","./base-menu-section","dcgview","expressions/toggle-view","core/types/line-opacity","dcgview-helpers/mathquill-view","graphing-calc/models/expression","graphing-calc/models/table","core/types/line-width","core/types/styles","./color-picker","../../shared-components/tooltip","loadcss!toggle"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LineMenu=void 0;var f,g=o.Components,m=g.If,y=g.For;f=n.BaseMenuSection,r.__extends(v,f),v.prototype.template=function(){var e=this;return o.createElement("div",{class:o.const("dcg-options-menu-section")},o.createElement("div",{class:o.const("dcg-options-menu-section-title")},function(){return e.controller.s("graphing-calculator-heading-lines")},o.createElement(i.ToggleView,{ariaLabel:function(){return e.controller.s("graphing-calculator-narration-lines-visible")},toggled:this.props.isOpen,onChange:this.bindFn(this.toggleLinesVisible)})),o.createElement(m,{predicate:function(){return e.props.isOpen()}},function(){return o.createElement("div",{class:o.const("dcg-options-menu-content")},o.createElement("div",{class:o.const("dcg-options-flex-container")},o.createElement("div",{class:o.const("dcg-options-left-side")},o.createElement("div",{class:o.const("dcg-iconed-mathquill-row dcg-line-opacity-row")},o.createElement(h.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-opacity-tooltip")},sticky:e.const(!0),gravity:e.const("se")},o.createElement("i",{class:o.const("dcg-icon-opacity"),"aria-hidden":o.const("true")})),o.createElement(s.default,{latex:function(){return e.model.lineOpacity},placeholder:function(){return""+a.DEFAULT},isFocused:function(){return"lineopacity"===e.getFocusedInput()},capExpressionSize:function(){return!!e.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:e.const(!0),config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-line-opacity")},getAriaPostLabel:function(){return e.isLineOpacityValid()?e.controller.raw(""):e.controller.s("shared-calculator-narration-input-error")},hasError:function(){return!e.isLineOpacityValid()},onUserChangedLatex:function(t){return e.dispatchLineOpacityLatexIfChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t){return e.handleFocusedChanged(t,"lineopacity")},dataLabelAttributeValue:e.const("line-opacity")})),o.createElement("div",{class:o.const("dcg-iconed-mathquill-row dcg-line-thickness-row")},o.createElement(h.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-line-thickness-tooltip")},sticky:e.const(!0),gravity:e.const("se")},o.createElement("i",{class:o.const("dcg-icon-line-thickness"),"aria-hidden":o.const("true")})),o.createElement(s.default,{latex:function(){return e.model.lineWidth},placeholder:function(){return""+u.DEFAULT},isFocused:function(){return"linewidth"===e.getFocusedInput()},capExpressionSize:function(){return!!e.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:e.const(!0),config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-label-line-thickness-tooltip")},getAriaPostLabel:function(){return e.isLineWidthValid()?e.controller.raw(""):e.controller.s("shared-calculator-narration-input-error")},hasError:function(){return!e.isLineWidthValid()},onUserChangedLatex:function(t){return e.dispatchLineWidthLatexIfChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t){return e.handleFocusedChanged(t,"linewidth")},dataLabelAttributeValue:e.const("line-width")}))),o.createElement("div",{class:o.const("dcg-options-right-side")},o.createElement(y,{each:function(){return e.getValidLineStyles()}},o.createElement("div",{class:o.const("dcg-toggle dcg-line-style-toggle"),role:o.const("radiogroup")},function(t){return o.createElement("div",{class:function(){return{"dcg-toggle-option":!0,"dcg-selected-toggle":e.model.lineStyle===t}},onTap:function(){return e.onLineStyleSelected(t)},role:o.const("radio"),tabindex:o.const("0"),"aria-label":function(){return t===d.LineStyle.SOLID?e.controller.s("graphing-calculator-narration-line-style-solid"):t===d.LineStyle.DASHED?e.controller.s("graphing-calculator-narration-line-style-dashed"):t===d.LineStyle.DOTTED?e.controller.s("graphing-calculator-narration-line-style-dotted"):e.controller.raw("")},"aria-checked":function(){return e.model.lineStyle===t}},o.createElement("i",{class:function(){return{"dcg-icon-line-solid":t===d.LineStyle.SOLID,"dcg-icon-line-dashed":t===d.LineStyle.DASHED,"dcg-icon-line-dotted":t===d.LineStyle.DOTTED}},"aria-hidden":o.const("true")}))})))),o.createElement(m,{predicate:e.props.isFirstOpenSection},function(){return o.createElement(p.ColorPicker,{controller:e.props.controller,colorLatex:function(){return e.model.colorLatex},selectedColor:e.bindFn(e.getModelColor),onColorSelected:e.bindFn(e.onColorSelected),onCustomColorSelected:e.bindFn(e.onCustomColorSelected)})}))}))},v.prototype.isLineOpacityValid=function(){return"expression"===this.model.type?c.isLineOpacityValid(this.model):"header"===this.model.type&&l.isLineOpacityValid(this.model)},v.prototype.isLineWidthValid=function(){return"expression"===this.model.type?c.isLineWidthValid(this.model):"header"===this.model.type&&l.isLineWidthValid(this.model)},v.prototype.dispatchLineOpacityLatexIfChanged=function(e){this.model.lineOpacity!==e&&("expression"===this.model.type?this.controller.dispatch({type:"set-item-lineopacity",id:this.id,lineOpacity:e}):this.controller.dispatch({type:"set-tablecolumn-lineopacity",tableId:this.model.table.id,columnId:this.model.id,lineOpacity:e}))},v.prototype.getValidLineStyles=function(){return"expression"===this.model.type&&c.isInequality(this.model)?[]:[d.LineStyle.SOLID,d.LineStyle.DASHED,d.LineStyle.DOTTED]},v.prototype.onLineStyleSelected=function(e){this.model.lineStyle!==e&&("expression"===this.model.type?this.controller.dispatch({type:"set-item-linestyle",id:this.id,lineStyle:e}):this.controller.dispatch({type:"set-tablecolumn-linestyle",tableId:this.model.table.id,columnId:this.model.id,lineStyle:e}))},v.prototype.dispatchLineWidthLatexIfChanged=function(e){this.model.lineWidth!==e&&("expression"===this.model.type?this.controller.dispatch({type:"set-item-linewidth",id:this.id,lineWidth:e}):this.controller.dispatch({type:"set-tablecolumn-linewidth",tableId:this.model.table.id,columnId:this.model.id,lineWidth:e}))},v.prototype.toggleLinesVisible=function(){"expression"===this.model.type?this.controller.dispatch({type:"set-item-lines",id:this.id,lines:!this.props.isOpen()}):this.controller.dispatch({type:"set-tablecolumn-lines",tableId:this.model.table.id,columnId:this.model.id,bool:!this.props.isOpen()})},r=v;function v(){return null!==f&&f.apply(this,arguments)||this}t.LineMenu=r}),define("expressions/expression-menus/colors-only",["require","exports","tslib","./base-menu-section","dcgview","./color-picker","graphing-calc/models/expression"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorsOnlyMenu=void 0;var s;s=n.BaseMenuSection,r.__extends(c,s),c.prototype.template=function(){var e=this;return o.createElement("div",{class:o.const("dcg-options-menu-section")},o.createElement(i.ColorPicker,{controller:this.props.controller,colorLatex:function(){return e.model.colorLatex},selectedColor:this.bindFn(this.getModelColor),onColorSelected:this.bindFn(this.onColorSelected),onCustomColorSelected:this.bindFn(this.onCustomColorSelected),hideCustomColors:function(){return"expression"===e.model.type&&a.isRegression(e.model)}}))},r=c;function c(){return null!==s&&s.apply(this,arguments)||this}t.ColorsOnlyMenu=r}),define("expressions/expression-menus/fill",["require","exports","tslib","./base-menu-section","dcgview","expressions/toggle-view","dcgview-helpers/mathquill-view","graphing-calc/models/expression","core/types/opacity","./color-picker","../../shared-components/tooltip"],function(e,t,r,n,o,i,a,s,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FillMenu=void 0;var d,p=o.Components.If;d=n.BaseMenuSection,r.__extends(h,d),h.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},h.prototype.template=function(){var e=this;return o.createElement("div",{class:o.const("dcg-options-menu-section")},o.createElement("div",{class:o.const("dcg-options-menu-section-title")},function(){return e.controller.s("graphing-calculator-heading-fill")},o.createElement(p,{predicate:function(){return!e.isInequality()}},function(){return o.createElement(i.ToggleView,{ariaLabel:function(){return e.controller.s("graphing-calculator-narration-fill-visible")},toggled:e.props.isOpen,onChange:e.bindFn(e.toggleFillVisible)})})),o.createElement(p,{predicate:this.props.isOpen},function(){return o.createElement("div",{class:o.const("dcg-options-menu-content")},o.createElement("div",{class:o.const("dcg-iconed-mathquill-row dcg-fill-opacity-row")},o.createElement(u.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-opacity-tooltip")},sticky:e.const(!0),gravity:e.const("se")},o.createElement("i",{class:o.const("dcg-icon-opacity"),"aria-hidden":o.const("true")})),o.createElement(a.default,{latex:function(){return e.model.fillOpacity},placeholder:function(){return""+c.DEFAULT},isFocused:function(){return"opacity"===e.getFocusedInput()},capExpressionSize:function(){return!!e.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:e.const(!0),config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-fill-opacity")},getAriaPostLabel:function(){return s.isFillOpacityValid(e.model)?e.controller.raw(""):e.controller.s("shared-calculator-narration-input-error")},hasError:function(){return!s.isFillOpacityValid(e.model)},onUserChangedLatex:function(t){return e.dispatchOpacityLatexIfChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t){return e.handleFocusedChanged(t,"opacity")},dataLabelAttributeValue:e.const("fill-opacity"),needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}})),o.createElement(p,{predicate:e.props.isFirstOpenSection},function(){return o.createElement(l.ColorPicker,{controller:e.props.controller,colorLatex:function(){return e.model.colorLatex},selectedColor:e.bindFn(e.getModelColor),onColorSelected:e.bindFn(e.onColorSelected),onCustomColorSelected:e.bindFn(e.onCustomColorSelected)})}))}))},h.prototype.isInequality=function(){return s.isInequality(this.model)},h.prototype.toggleFillVisible=function(){this.controller.dispatch({type:"set-item-fill",id:this.id,fill:!this.props.isOpen()})},h.prototype.dispatchOpacityLatexIfChanged=function(e){this.model.fillOpacity!==e&&this.controller.dispatch({type:"set-item-fillopacity",id:this.id,fillOpacity:e})},r=h;function h(){return null!==d&&d.apply(this,arguments)||this}t.FillMenu=r}),define("loadcss!expressions/clickable_image_states_view",function(){}),define("expressions/clickable_image_states_view",["require","exports","tslib","dcgview","../shared-components/tooltip","./image-upload-view","loadcss!./clickable_image_states_view"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClickableImageStatesView=void 0;var a,s=n.Components,c=s.If,l=s.Switch;a=n.Class,r.__extends(u,a),u.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},u.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-clickable-image-info-view"),role:n.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-clickable-image-options")}},n.createElement("div",{class:n.const("dcg-clickable-image-state-container")},n.createElement(o.Tooltip,{tooltip:function(){return e.tooltip("hovered")},gravity:this.const("s")},n.createElement(i.ImageUploadView,{controller:function(){return e.controller},ariaLabel:function(){return e.tooltip("hovered")},onFileChange:function(t){return e.updateImage("hovered",t)}},n.createElement(l,{key:this.bindFn(this.hoveredStatus)},function(){return n.createElement("div",{class:n.const("dcg-clickable-image-state"),style:function(){return e.getStyleForState("hovered")}})}))),n.createElement(c,{predicate:function(){return!!e.model.clickableInfo.hoveredImage}},function(){return n.createElement("div",{class:n.const("dcg-clickable-image-state-close"),onTap:function(){return e.removeImageState("hovered")},ariaLabel:function(){return e.controller.s("graphing-calculator-label-remove-hovered-image")},role:n.const("button"),tabIndex:n.const(0)},n.createElement("i",{class:n.const("dcg-icon-remove"),"aria-hidden":n.const("true")}))}),n.createElement("div",{role:n.const("heading"),"aria-level":n.const("2"),class:n.const("dcg-clickable-image-label")},function(){return e.controller.s("graphing-calculator-label-hovered")})),n.createElement("div",{class:n.const("dcg-clickable-image-state-container")},n.createElement(o.Tooltip,{tooltip:function(){return e.tooltip("depressed")},gravity:this.const("s")},n.createElement(i.ImageUploadView,{controller:function(){return e.controller},ariaLabel:function(){return e.tooltip("depressed")},onFileChange:function(t){return e.updateImage("depressed",t)}},n.createElement(l,{key:this.bindFn(this.depressedStatus)},function(){return n.createElement("div",{class:n.const("dcg-clickable-image-state"),style:function(){return e.getStyleForState("depressed")}})}))),n.createElement(c,{predicate:function(){return!!e.model.clickableInfo.depressedImage}},function(){return n.createElement("div",{class:n.const("dcg-clickable-image-state-close"),onTap:function(){return e.removeImageState("depressed")},ariaLabel:function(){return e.controller.s("graphing-calculator-label-remove-depressed-image")},role:n.const("button"),tabIndex:n.const(0)},n.createElement("i",{class:n.const("dcg-icon-remove"),"aria-hidden":n.const("true")}))}),n.createElement("div",{role:n.const("heading"),"aria-level":n.const("2"),class:n.const("dcg-clickable-image-label")},function(){return e.controller.s("graphing-calculator-label-depressed")})))},u.prototype.hoveredStatus=function(){return this.hoveredUploading?"loading":"background"},u.prototype.depressedStatus=function(){return this.depressedUploading?"loading":"background"},u.prototype.tooltip=function(e){return("hovered"===e?this.model.clickableInfo.hoveredImage:this.model.clickableInfo.depressedImage)?"depressed"===e?this.controller.s("graphing-calculator-label-change-depressed-image-tooltip"):this.controller.s("graphing-calculator-label-change-hovered-image-tooltip"):"depressed"===e?this.controller.s("graphing-calculator-label-add-depressed-image-tooltip"):this.controller.s("graphing-calculator-label-add-hovered-image-tooltip")},u.prototype.getImageURLForState=function(e){if("hovered"===e){if("background"!==this.hoveredStatus())return"";t="hoveredImage"}else{if("background"!==this.depressedStatus())return"";t="depressedImage"}var t=this.model.clickableInfo[t];return t?"url("+t+")":"url("+this.model.image_url+")"},u.prototype.getStyleForState=function(e){var t={"background-image":this.getImageURLForState(e),opacity:1};return"hovered"!==e||this.model.clickableInfo.hoveredImage||(t.opacity=.5),t},u.prototype.removeImageState=function(e){"hovered"===e?this.controller.dispatch({type:"set-hovered-image",id:this.model.id,url:""}):this.controller.dispatch({type:"set-depressed-image",id:this.model.id,url:""})},u.prototype.updateImage=function(e,t){var r=this;t&&t[0]&&(t=t[0],"hovered"===e&&(this.hoveredUploading=!0),"depressed"===e&&(this.depressedUploading=!0),this.controller.getGraphSettings().config.imageUploadCallback(t,function(t,n){"hovered"===e&&(r.hoveredUploading=!1),"depressed"===e&&(r.depressedUploading=!1),!t&&n&&("hovered"===e?r.controller.dispatch({type:"set-hovered-image",id:r.model.id,url:n}):r.controller.dispatch({type:"set-depressed-image",id:r.model.id,url:n}))}))},r=u;function u(){return null!==a&&a.apply(this,arguments)||this}t.ClickableImageStatesView=r}),define("vendor/html-parse-stringify2",[],function(){return r={},e.m=t=[function(e,t,r){e.exports={parse:r(1),stringify:r(4)}},function(e,t,r){var n=/(?:<!--[\S\s]*?-->|<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+>)/g,o=r(2),i=Object.create?Object.create(null):{};function a(e,t,r,n,o){var i=t.indexOf("<",n);n=t.slice(n,-1===i?void 0:i);/^\s*$/.test(n)&&(n=" "),(!o&&-1<i&&0<=r+e.length||" "!==n)&&e.push({type:"text",content:n})}e.exports=function(e,t){(t=t||{}).components||(t.components=i);var r,s=[],c=-1,l=[],u={},d=!1;return e.replace(n,function(n,i){if(d){if(n!=="</"+r.name+">")return;d=!1}var p,h="/"!==n.charAt(1),f=0===n.indexOf("\x3c!--"),g=i+n.length;i=e.charAt(g);h&&!f&&(c++,"tag"===(r=o(n)).type&&t.components[r.name]&&(r.type="component",d=!0),r.voidElement||d||!i||"<"===i||a(r.children,e,c,g,t.ignoreWhitespace),u[r.tagName]=r,0===c&&s.push(r),(p=l[c-1])&&p.children.push(r),l[c]=r),!f&&h&&!r.voidElement||(f||c--,!d&&"<"!==i&&i&&a(p=-1===c?s:l[c].children,e,c,g,t.ignoreWhitespace))}),!s.length&&e.length&&a(s,e,0,0,t.ignoreWhitespace),s}},function(e,t,r){var n=/([\w-]+)|=|(['"])([.\s\S]*?)\2/g,o=r(3);e.exports=function(e){var t,r=0,i=!0,a={type:"tag",name:"",voidElement:!1,attrs:{},children:[]};return e.replace(n,function(n){return"="===n?(i=!0,void r++):(i?0===r?(!o[n]&&"/"!==e.charAt(e.length-2)||(a.voidElement=!0),a.name=n):(a.attrs[t]=n.replace(/^['"]|['"]$/g,""),t=void 0):(t&&(a.attrs[t]=t),t=n),r++,void(i=!1))}),a}},function(e,t){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},function(e,t){function r(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t,r=[];for(t in e)r.push(t+'="'+e[t]+'"');return r.length?" "+r.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(r,"")+"</"+t.name+">"}}e.exports=function(e){return e.reduce(function(e,t){return e+r("",t)},"")}}],e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var o in t)e.d(n,o,function(e){return t[e]}.bind(null,o));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=0);function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var t,r}),define("l10n-tools/localize-serializer",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeToTemplateString=t.variableRegexp=void 0,t.variableRegexp=/\{\$([a-zA-Z0-9\-]+([a-zA-Z0-9\-]+_)*[a-zA-Z0-9\-]+)\}/,t.serializeToTemplateString=function(e,r){var n=0,o=0,i={},a={},s=function s(l){if(r.isConst(l))return r.getConstValue(l);if(r.isNamedBinding(l)){var u="{$"+(d=c(i,r.getBindingName(l)))+"}";if(!t.variableRegexp.test(u))throw new Error("Invalid <Localize> variable: "+u+".");return r.addBinding&&r.addBinding(d,l),i[d]=!0,u}if(l!==e&&r.isView(l)){var d=c(a,r.getViewName(l));if(!/[a-zA-Z0-9\-_]/.test(d))throw new Error("Invalid <Localize> subview identifier: "+d+".");return r.addView&&r.addView(d,l),a[d]=!0,"<"+d+"/>"}if(r.isBinding(l))return u="{$"+(d=c(i,"v"+n++))+"}",r.addBinding&&r.addBinding(d,l),i[d]=!0,u;d=""+o++,r.addElement&&r.addElement(d,l);var p=[];return r.forEachChild(l,function(e){p.push(s(e))}),a[d]=!0,0<p.length?"<"+d+">"+p.join("")+"</"+d+">":"<"+d+"/>"}(e);if(!/^<0>/.test(s)||!/<\/0>$/.test(s))throw new Error("Expected template string to start and end with <0> and </0>, but found "+JSON.stringify(s));return s.slice(3,-4).trim();function c(e,t){for(var r=0,n=t;e[n];)n=t+"-"+ ++r;return n}}}),define("shared/dcgviews/localize",["require","exports","tslib","dcgview","vendor/html-parse-stringify2","l10n-tools/localize-serializer","lib/i18n"],function(e,t,r,n,o,i,a){"use strict";function s(e){return e.__DCGViewLocalizeBindingName}function c(e){return"function"==typeof e&&e.__DCGViewLocalizeViewName}Object.defineProperty(t,"__esModule",{value:!0}),t.Localize=void 0;var l;l=n.Class,r.__extends(u,l),u.prototype.init=function(){this.viewMap={},this.elementMap={},this.bindingMap={},this.i18n=this.props.i18n(),this.templateString=this.serializeToTemplateString(n.createElement("div",null,this.children))},u.prototype.template=function(){var e=this;return n.createElement(n.Components.If,{predicate:function(){return e.shouldShow()}},function(){return n.createElement(n.Components.Switch,{key:function(){return h(e.translatedString())}},function(t){return e.renderDeserializedTemplateNode(e.parseAndValidate(t))})})},u.prototype.shouldShow=function(){var e=this.props.options&&this.props.options();return!(e&&e.hideUntranslatedView&&this.i18n.hasTranslation)||this.i18n.hasTranslation(this.props.key())},u.prototype.translatedString=function(){var e,t={};for(e in this.bindingMap)t[e]=a.raw("{$"+e+"}");return this.i18n.s(this.props.key(),t)},u.variable=function(e,t){function r(){return t()}return r.__DCGViewLocalizeBindingName=e,r},u.subview=function(e,t){function r(){return t()}return r.__DCGViewLocalizeViewName=e,r},u.prototype.parseAndValidate=function(e){e=o.parse(e);var t,r={},n={};for(t in function e(t){if(Array.isArray(t))for(var o=0,i=t;o<i.length;o++){e(i[o])}else"token"===t.name?r[t.attrs.id]=!0:"text"!==t.type&&(n[t.name]=!0,e(t.children))}(e),this.elementMap)if(!n[t])return o.parse(h(this.templateString));for(t in this.bindingMap)if(!r[t])return o.parse(h(this.templateString));return e},u.prototype.renderDeserializedTemplateNode=function(e){var t=this;if(Array.isArray(e))return e.map(function(e){return t.renderDeserializedTemplateNode(e)});if("text"===e.type)return n.const(e.content||"");if("token"===e.name)return(o=this.bindingMap[e.attrs.id])||function(){return""};if(this.elementMap[e.name]){var r=this.elementMap[e.name],o=e.children.map(function(e){return t.renderDeserializedTemplateNode(e)});return p(r.type,r.attrs,o)}return this.viewMap[e.name]?this.viewMap[e.name]():p("span",{},[])},u.prototype.serializeToTemplateString=function(e){var t=this;return i.serializeToTemplateString(e,{isView:c,isConst:d,isBinding:function(e){return"function"==typeof e},isNamedBinding:s,getConstValue:function(e){return e()},getBindingName:function(e){return e.__DCGViewLocalizeBindingName},getViewName:function(e){return e.__DCGViewLocalizeViewName},addBinding:function(e,r){t.bindingMap[e]=r},addElement:function(e,r){t.elementMap[e]={type:r.tagName,attrs:r.attrs}},addView:function(e,r){if(t.viewMap[e])throw new Error("Unexpected duplicate view "+e+".");t.viewMap[e]=r},forEachChild:function(e,t){for(var r=0,n=e.children;r<n.length;r++){var o=n[r];if(!d(o)&&"function"!=typeof o&&o._isDCGView)throw new Error("Bare DCGViews are not allowed inside <Localize>. Use Localize.subview().");t(o)}}})},r=u;function u(){return null!==l&&l.apply(this,arguments)||this}function d(e){return"function"==typeof e&&e.isDCGViewConst}function p(e,t,r){return n.createElement(e,t,r)}function h(e){return("<0>"+e+"</0>").replace(new RegExp(i.variableRegexp.source,"g"),function(e,t){return'<token id="'+t+'"/>'})}t.Localize=r}),define("loadcss!expressions/expression-menus/clickable",function(){}),define("expressions/expression-menus/clickable",["require","exports","tslib","./base-menu-section","dcgview","expressions/toggle-view","dcgview-helpers/mathquill-view","main/mathquill-operators","expressions/clickable_image_states_view","../../dcgview-helpers/tooltipped-error","../../shared/dcgviews/localize","loadcss!./clickable"],function(e,t,r,n,o,i,a,s,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClickableMenu=void 0;var d,p=o.Components,h=p.If,f=p.IfDefined,g=p.Textarea;d=n.BaseMenuSection,r.__extends(m,d),m.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},m.prototype.template=function(){var e=this;return o.createElement("div",{class:o.const("dcg-options-menu-section dcg-clickable-section")},o.createElement("div",{class:o.const("dcg-options-menu-section-title")},function(){return e.controller.s("graphing-calculator-heading-clickable")},o.createElement(i.ToggleView,{ariaLabel:function(){return e.controller.s("graphing-calculator-narration-make-clickable")},toggled:this.props.isOpen,onChange:this.bindFn(this.toggleClickable)})),o.createElement(h,{predicate:this.props.isOpen},function(){return o.createElement("div",{class:o.const("dcg-options-menu-content")},o.createElement("div",{class:o.const("dcg-clickable-menu-row")},o.createElement("span",{class:o.const("dcg-input-label")},function(){return e.controller.s("graphing-calculator-label-update-on-click")}),o.createElement(a.default,{latex:function(){return e.model.clickableInfo.latex},placeholder:e.const(""),isFocused:function(){return"updaterule"===e.getFocusedInput()},capExpressionSize:function(){return!!e.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:e.const(!0),config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-click-action")},getAriaPostLabel:e.const(""),hasError:function(){return e.hasError()},onUserChangedLatex:function(t){return e.dispatchUpdateRuleLatexIfChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t){return e.handleFocusedChanged(t,"updaterule")},dataLabelAttributeValue:e.const("click-handler"),needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}}),f(function(){return e.packedError()},function(t){return o.createElement("span",{class:o.const("dcg-clickable-info-error-container")},o.createElement(l.TooltippedError,{error:function(){return e.controller.unpack(t())},gravity:e.const("s"),size:e.const("small")}))})),o.createElement(h,{predicate:e.bindFn(e.isList)},function(){return o.createElement("div",{class:o.const("dcg-clickable-list-index-notice")},o.createElement(u.Localize,{i18n:e.const(e.controller),key:e.const("graphing-calculator-label-list-index")},o.const("Use"),o.const(" "),o.createElement("span",{class:function(){return{"dcg-index-variable-marker":!0,"dcg-btn":!0,"dcg-btn-light-gray":!0,"dcg-mathquill-has-focus":"updaterule"===e.getFocusedInput(),"dcg-do-not-blur":!0}},onTap:e.bindFn(e.insertIndex)},o.const("index")),o.const(" "),o.const("to reference the clicked index in the list.")))}),o.createElement(h,{predicate:function(){return"image"!==e.model.type}},function(){return o.createElement(g,{placeholder:function(){return e.controller.s("graphing-calculator-text-add-screen-reader-label-placeholder")},value:function(){return e.model.description},onInput:function(t){return e.controller.dispatch({type:"set-item-description",id:e.model.id,description:t})}})}),o.createElement(h,{predicate:function(){return"image"===e.model.type}},function(){return o.createElement("div",{class:o.const("dcg-clickable-menu-row")},o.createElement(c.ClickableImageStatesView,{controller:function(){return e.controller},model:function(){return e.model}}))}))}))},m.prototype.insertIndex=function(){this.controller.dispatch({type:"keypad/type-text",text:"index"})},m.prototype.isList=function(){return!!this.model.formula&&!!this.model.formula.is_concrete_list},m.prototype.hasError=function(){return void 0!==this.packedError()},m.prototype.packedError=function(){if(this.model.formula.click_handler&&"error"===this.model.formula.click_handler.status)return this.model.formula.click_handler.error},m.prototype.toggleClickable=function(){this.controller.dispatch({type:"set-clickableinfo-prop",id:this.model.id,prop:"enabled",value:!this.model.clickableInfo.enabled}),this.model.clickableInfo.enabled&&this.handleFocusedChanged(!0,"updaterule")},m.prototype.dispatchUpdateRuleLatexIfChanged=function(e){this.model.clickableInfo.latex!==e&&this.controller.dispatch({type:"set-clickableinfo-rule-latex",id:this.id,latex:e})},m.prototype.getMQConfig=function(){return{autoOperatorNames:s.getAutoOperators({additionalOperators:["index"]}),autoCommands:s.getAutoCommands()}},r=m;function m(){return null!==d&&d.apply(this,arguments)||this}t.ClickableMenu=r}),define("expressions/expression-menus/points",["require","exports","tslib","./base-menu-section","dcgview","expressions/toggle-view","dcgview-helpers/mathquill-view","graphing-calc/models/expression","graphing-calc/models/table","core/types/point-opacity","core/lib/dragmode","core/types/point-size","core/types/styles","./color-picker","../../shared-components/tooltip"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PointsMenu=void 0;var g,m=o.Components,y=m.If,v=m.For;g=n.BaseMenuSection,r.__extends(b,g),b.prototype.template=function(){var e=this;return o.createElement("div",{class:o.const("dcg-options-menu-section")},o.createElement("div",{class:o.const("dcg-options-menu-section-title")},function(){return e.controller.s("graphing-calculator-heading-points")},o.createElement(i.ToggleView,{ariaLabel:function(){return e.controller.s("graphing-calculator-narration-points-visible")},toggled:this.props.isOpen,onChange:this.bindFn(this.togglePointsVisible)})),o.createElement(y,{predicate:this.props.isOpen},function(){return o.createElement("div",{class:o.const("dcg-options-menu-content")},o.createElement("div",{class:o.const("dcg-options-flex-container")},o.createElement("div",{class:o.const("dcg-options-left-side")},o.createElement("div",{class:o.const("dcg-iconed-mathquill-row dcg-point-opacity-row")},o.createElement(f.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-opacity-tooltip")},sticky:e.const(!0),gravity:e.const("se")},o.createElement("i",{class:o.const("dcg-icon-opacity"),"aria-hidden":o.const("true")})),o.createElement(a.default,{latex:function(){return e.model.pointOpacity},placeholder:e.bindFn(e.getPointOpacityPlaceholder),isFocused:function(){return"pointopacity"===e.getFocusedInput()},capExpressionSize:function(){return!!e.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:e.const(!0),config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-point-opacity")},getAriaPostLabel:function(){return e.isPointOpacityValid()?e.controller.raw(""):e.controller.s("shared-calculator-narration-input-error")},hasError:function(){return!e.isPointOpacityValid()},onUserChangedLatex:function(t){return e.dispatchPointOpacityLatexIfChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t){return e.handleFocusedChanged(t,"pointopacity")},dataLabelAttributeValue:e.const("point-opacity")})),o.createElement(y,{predicate:function(){return!e.isDraggable()}},function(){return o.createElement("div",{class:o.const("dcg-iconed-mathquill-row")},o.createElement(f.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-point-size-tooltip")},gravity:e.const("se"),sticky:e.const(!0)},o.createElement("i",{class:o.const("dcg-icon-line-thickness"),"aria-hidden":o.const("true")})),o.createElement(a.default,{latex:function(){return e.model.pointSize},placeholder:e.bindFn(e.getDefaultPointSize),isFocused:function(){return"pointsize"===e.getFocusedInput()},capExpressionSize:function(){return!!e.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:e.const(!0),config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-point-size")},getAriaPostLabel:function(){return e.isPointSizeValid()?e.controller.raw(""):e.controller.s("shared-calculator-narration-input-error")},hasError:function(){return!e.isPointSizeValid()},onUserChangedLatex:function(t){return e.dispatchPointSizeLatexIfChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t){return e.handleFocusedChanged(t,"pointsize")},dataLabelAttributeValue:e.const("point-size")}))})),o.createElement("div",{class:o.const("dcg-options-right-side")},o.createElement(y,{predicate:function(){return!e.isDraggable()}},function(){return o.createElement(v,{each:function(){return[p.PointStyle.POINT,p.PointStyle.OPEN,p.PointStyle.CROSS]}},o.createElement("div",{class:o.const("dcg-toggle dcg-point-style-toggle"),role:o.const("radiogroup")},function(t){return o.createElement("div",{class:function(){return{"dcg-toggle-option":!0,"dcg-selected-toggle":e.model.pointStyle===t}},onTap:function(){return e.onPointStyleSelected(t)},role:o.const("radio"),tabindex:o.const("0"),"aria-label":function(){return t===p.PointStyle.POINT?e.controller.s("graphing-calculator-narration-point-style-point"):t===p.PointStyle.OPEN?e.controller.s("graphing-calculator-narration-point-style-open"):t===p.PointStyle.CROSS?e.controller.s("graphing-calculator-narration-point-style-cross"):e.controller.raw("")},"aria-checked":function(){return e.model.pointStyle===t}},o.createElement("i",{class:function(){return{"dcg-icon-point":t===p.PointStyle.POINT,"dcg-icon-open":t===p.PointStyle.OPEN,"dcg-icon-cross":t===p.PointStyle.CROSS}},"aria-hidden":o.const("true")}))}))}))),o.createElement(y,{predicate:e.props.isFirstOpenSection},function(){return o.createElement(h.ColorPicker,{controller:e.props.controller,colorLatex:function(){return e.model.colorLatex},selectedColor:e.bindFn(e.getModelColor),onColorSelected:e.bindFn(e.onColorSelected),onCustomColorSelected:e.bindFn(e.onCustomColorSelected)})}))}))},b.prototype.isPointOpacityValid=function(){return"expression"===this.model.type?s.isPointOpacityValid(this.model):"header"===this.model.type&&c.isPointOpacityValid(this.model)},b.prototype.isPointSizeValid=function(){return"expression"===this.model.type?s.isPointSizeValid(this.model):"header"===this.model.type&&c.isPointSizeValid(this.model)},b.prototype.onPointStyleSelected=function(e){this.model.pointStyle!==e&&("expression"===this.model.type?this.controller.dispatch({type:"set-item-pointstyle",id:this.id,pointStyle:e}):this.controller.dispatch({type:"set-tablecolumn-pointstyle",columnId:this.model.id,tableId:this.model.table.id,pointStyle:e}))},b.prototype.dispatchPointSizeLatexIfChanged=function(e){this.model.pointSize!==e&&("expression"===this.model.type?this.controller.dispatch({type:"set-item-pointsize",id:this.id,pointSize:e}):this.controller.dispatch({type:"set-tablecolumn-pointsize",columnId:this.model.id,tableId:this.model.table.id,pointSize:e}))},b.prototype.isDraggable=function(){return this.getDragMode()!==u.DragMode.NONE},b.prototype.togglePointsVisible=function(){"expression"===this.model.type&&s.isSinglePoint(this.model)?this.controller.dispatch({type:"toggle-item-hidden",id:this.model.id}):"expression"===this.model.type?this.controller.dispatch({type:"set-item-points",id:this.id,points:!this.props.isOpen()}):this.controller.dispatch({type:"set-tablecolumn-points",columnId:this.model.id,tableId:this.model.table.id,bool:!this.props.isOpen()})},b.prototype.dispatchPointOpacityLatexIfChanged=function(e){this.model.pointOpacity!==e&&("expression"===this.model.type?this.controller.dispatch({type:"set-item-pointopacity",id:this.id,pointOpacity:e}):this.controller.dispatch({type:"set-tablecolumn-pointopacity",columnId:this.model.id,tableId:this.model.table.id,pointOpacity:e}))},b.prototype.getPointOpacityPlaceholder=function(){return this.getDragMode()===u.DragMode.NONE?""+l.DEFAULT:"1"},b.prototype.getDragMode=function(){return"expression"===this.model.type&&this.model.reconciledDragMode||this.model.dragMode},b.prototype.getDefaultPointSize=function(){return"expression"===this.model.type&&s.isDotPlot(this.model)?""+d.DOTPLOT_DEFAULT:""+d.DEFAULT},r=b;function b(){return null!==g&&g.apply(this,arguments)||this}t.PointsMenu=r}),define("loadcss!expressions/expression-menus/label-orientation-view",function(){}),define("expressions/expression-menus/label-orientation-view",["require","exports","tslib","dcgview","core/types/label-orientations","graphing-calc/models/expression","loadcss!./label-orientation-view","loadcss!toggle"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LabelOrientationView=void 0;var a,s=n.Components.For,c=[{orientation:o.LabelOrientation.DEFAULT,cssClass:"dcg-label-orientation-center",description:"graphing-calculator-text-label-orientation-default"},{orientation:o.LabelOrientation.ABOVE,cssClass:"dcg-label-orientation-above",description:"graphing-calculator-text-label-orientation-above"},{orientation:o.LabelOrientation.ABOVE_RIGHT,cssClass:"dcg-label-orientation-above-right",description:"graphing-calculator-text-label-orientation-above-right"},{orientation:o.LabelOrientation.RIGHT,cssClass:"dcg-label-orientation-right",description:"graphing-calculator-text-label-orientation-right"},{orientation:o.LabelOrientation.BELOW_RIGHT,cssClass:"dcg-label-orientation-below-right",description:"graphing-calculator-text-label-orientation-below-right"},{orientation:o.LabelOrientation.BELOW,cssClass:"dcg-label-orientation-below",description:"graphing-calculator-text-label-orientation-below"},{orientation:o.LabelOrientation.BELOW_LEFT,cssClass:"dcg-label-orientation-below-left",description:"graphing-calculator-text-label-orientation-below-left"},{orientation:o.LabelOrientation.LEFT,cssClass:"dcg-label-orientation-left",description:"graphing-calculator-text-label-orientation-left"},{orientation:o.LabelOrientation.ABOVE_LEFT,cssClass:"dcg-label-orientation-above-left",description:"graphing-calculator-text-label-orientation-above-left"}];a=n.Class,r.__extends(l,a),l.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},l.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-label-orientation-view"),style:function(){return"transform: rotate("+e.getCSSRotationValue()+");"}},n.createElement("span",{class:n.const("dcg-vertical-orientation-indicator")}),n.createElement(s,{each:function(){return c},key:function(e){return e.orientation}},n.createElement("div",{class:n.const("dcg-label-orientations"),role:n.const("radiogroup"),"aria-label":function(){return e.controller.s("graphing-calculator-heading-label-orientation")}},function(t){return n.createElement("div",{class:function(){var r;return(r={})[t.cssClass]=!0,r["dcg-orientation-option"]=!0,r["dcg-selected"]=e.isSelected(t.orientation),r["dcg-orientation-disabled"]=e.isDisabled(t.orientation),r},role:n.const("radio"),tabindex:n.const("0"),"aria-label":function(){return e.controller.s(t.description)},"aria-checked":function(){return e.getOrientation()===t.orientation},onTap:function(){return e.onTapOrientation(t.orientation)}},n.createElement("i",{class:function(){return{"dcg-icon-chevron-left":t.orientation!==o.LabelOrientation.DEFAULT}}}))})))},l.prototype.isDisabled=function(e){return e===o.LabelOrientation.DEFAULT&&(!!this.isPointVisible()||this.model.labelOrientation===o.LabelOrientation.DEFAULT)},l.prototype.isSelected=function(e){return e===o.LabelOrientation.DEFAULT&&e===this.model.labelOrientation?!this.isPointVisible():e===this.model.labelOrientation},l.prototype.isPointVisible=function(){return!this.model.hidden&&(i.isSinglePoint(this.model)?!this.model.hidden:this.model.points)},l.prototype.getCSSRotationValue=function(){var e=i.getLabelAngleValue(this.model);return(Array.isArray(e)?0:e)+"rad"},l.prototype.getOrientation=function(){return this.props.model().labelOrientation},l.prototype.onTapOrientation=function(e){e===this.getOrientation()&&(e=o.LabelOrientation.DEFAULT),this.controller.dispatch({type:"set-item-label-orientation",id:this.id,labelOrientation:e})},r=l;function l(){return null!==a&&a.apply(this,arguments)||this}t.LabelOrientationView=r}),define("expressions/expression-menus/label",["require","exports","tslib","./base-menu-section","dcgview","expressions/toggle-view","dcgview-helpers/mathquill-view","graphing-calc/models/expression","core/types/label-sizes","./label-orientation-view","./color-picker","dcgview-helpers/checkbox","core/lib/dragmode","core/graphing-calc/json/expression","core/math/interpolatedlabel","../../shared-components/tooltip"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LabelMenu=void 0;var m,y=o.Components.If;m=n.BaseMenuSection,r.__extends(v,m),v.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},v.prototype.template=function(){var e=this;return o.createElement("div",{class:o.const("dcg-options-menu-section")},o.createElement("div",{class:o.const("dcg-options-menu-section-title")},function(){return e.controller.s("graphing-calculator-heading-label")},o.createElement(i.ToggleView,{ariaLabel:function(){return e.controller.s("graphing-calculator-narration-label-visible")},toggled:this.props.isOpen,onChange:this.bindFn(this.toggleLabelVisible)})),o.createElement(y,{predicate:this.props.isOpen},function(){return o.createElement("div",{class:o.const("dcg-options-menu-content")},o.createElement("div",{class:o.const("dcg-options-flex-container")},o.createElement("div",{class:o.const("dcg-options-left-side")},o.createElement("div",{class:o.const("dcg-iconed-mathquill-row dcg-label-size-row")},o.createElement(g.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-label-size-tooltip")},sticky:e.const(!0),gravity:e.const("se")},o.createElement("span",{class:o.const("dcg-font-size")},o.const("A"))),o.createElement(a.default,{latex:e.bindFn(e.getLabelSizeLatex),placeholder:e.bindFn(e.getLabelSizePlaceholder),isFocused:function(){return"labelsize"===e.getFocusedInput()},capExpressionSize:function(){return!!e.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:e.const(!0),config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-label-size")},getAriaPostLabel:function(){return s.isLabelSizeValid(e.model)?e.controller.raw(""):e.controller.s("shared-calculator-narration-input-error")},hasError:function(){return!s.isLabelSizeValid(e.model)},onUserChangedLatex:function(t){return e.dispatchLabelSizeIfChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t){return e.handleFocusedChanged(t,"labelsize")},dataLabelAttributeValue:e.const("label-size")})),o.createElement("div",{class:function(){return{"dcg-iconed-mathquill-row":!0,"dcg-label-angle-row":!0,"dcg-suffix-degree":e.props.controller().getGraphSettings().degreeMode,"dcg-suffix-radian":!e.props.controller().getGraphSettings().degreeMode}}},o.createElement(g.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-angle-tooltip")},sticky:e.const(!0)},o.createElement("i",{class:o.const("dcg-icon-angle"),"aria-hidden":o.const("true")})),o.createElement(a.default,{latex:function(){return e.model.labelAngle},placeholder:function(){return"0"},isFocused:function(){return"labelangle"===e.getFocusedInput()},capExpressionSize:function(){return!!e.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:e.const(!0),config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-label-angle")},getAriaPostLabel:function(){return s.isLabelAngleValid(e.model)?e.controller.raw(""):e.controller.s("shared-calculator-narration-input-error")},hasError:function(){return!s.isLabelAngleValid(e.model)},onUserChangedLatex:function(t){return e.dispatchLabelAngleIfChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t){return e.handleFocusedChanged(t,"labelangle")},dataLabelAttributeValue:e.const("label-angle")}))),o.createElement("div",{class:o.const("dcg-options-right-side")},o.createElement(l.LabelOrientationView,{controller:function(){return e.controller},model:function(){return e.model}}))),o.createElement(y,{predicate:e.props.isFirstOpenSection},function(){return o.createElement(u.ColorPicker,{controller:e.props.controller,colorLatex:function(){return e.model.colorLatex},selectedColor:e.bindFn(e.getModelColor),onColorSelected:e.bindFn(e.onColorSelected),onCustomColorSelected:e.bindFn(e.onCustomColorSelected)})}),o.createElement(y,{predicate:function(){return e.controller.canUseAdvancedStyling()}},function(){return o.createElement("div",{class:o.const("dcg-label-advanced")},o.createElement(d.Checkbox,{checked:e.bindFn(e.getWhiteTextOutline),onChange:e.bindFn(e.setWhiteTextOutline),ariaLabel:function(){return e.controller.s("graphing-calculator-button-label-text-outline")},disabled:function(){return e.getEditable()}},function(){return e.controller.s("graphing-calculator-button-label-text-outline")}),o.createElement("div",{role:o.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-heading-advanced")}},o.createElement(y,{predicate:function(){return e.shouldShowHoverLabelCheckbox()}},function(){return o.createElement(d.Checkbox,{checked:e.bindFn(e.getInteractiveLabel),onChange:e.bindFn(e.setInteractiveLabel),ariaLabel:function(){return e.controller.s("graphing-calculator-button-label-show-on-hover")}},function(){return e.controller.s("graphing-calculator-button-label-show-on-hover")})}),o.createElement(y,{predicate:e.bindFn(e.shouldShowEditableLabelToggle)},function(){return o.createElement(d.Checkbox,{checked:e.bindFn(e.getEditable),onChange:e.bindFn(e.setEditable),ariaLabel:function(){return e.controller.s("graphing-calculator-button-label-editable")}},function(){return e.controller.s("graphing-calculator-button-label-editable")})})))}))}))},v.prototype.getWhiteTextOutline=function(){return!this.getEditable()&&!this.model.suppressTextOutline},v.prototype.setWhiteTextOutline=function(e){this.controller.dispatch({type:"set-suppress-text-outline",id:this.id,suppressTextOutline:!e})},v.prototype.setInteractiveLabel=function(e){this.controller.dispatch({type:"set-item-interactive-label",id:this.id,interactiveLabel:e})},v.prototype.getInteractiveLabel=function(){return!!this.model.interactiveLabel},v.prototype.setEditable=function(e){e?(e="latex"===f.classifyLabelText(this.model.label)?h.EditableLabelMode.Math:h.EditableLabelMode.Text,this.controller.dispatch({type:"set-item-editable-label-mode",id:this.id,editableLabelMode:e})):this.controller.dispatch({type:"set-item-editable-label-mode",id:this.id,editableLabelMode:h.EditableLabelMode.None})},v.prototype.getEditable=function(){return this.model.editableLabelMode!==h.EditableLabelMode.None},v.prototype.shouldShowEditableLabelToggle=function(){return s.isSinglePoint(this.model)},v.prototype.shouldShowHoverLabelCheckbox=function(){return this.model.reconciledDragMode===p.DragMode.NONE},v.prototype.dispatchLabelAngleIfChanged=function(e){this.model.labelAngle!==e&&this.controller.dispatch({type:"set-item-labelangle",id:this.id,labelAngle:e})},v.prototype.dispatchLabelSizeIfChanged=function(e){var t;this.model.labelSize!==e&&((t=c.maybeMigrateLabelSizeEnumToLatex(e))&&(e=t),this.controller.dispatch({type:"set-item-labelSize",id:this.id,labelSize:e}))},v.prototype.getLabelSizePlaceholder=function(){return c.maybeMigrateLabelSizeEnumToLatex(this.model.labelSize)||"1"},v.prototype.getLabelSizeLatex=function(){return c.maybeMigrateLabelSizeEnumToLatex(this.model.labelSize)?"":this.model.labelSize},v.prototype.toggleLabelVisible=function(){this.controller.dispatch({type:"set-item-showlabel",id:this.id,showLabel:!this.props.isOpen()})},r=v;function v(){return null!==m&&m.apply(this,arguments)||this}t.LabelMenu=r}),define("expressions/expression-menus/drag",["require","exports","tslib","./base-menu-section","dcgview","underscore","expressions/toggle-view","core/lib/dragmode","../circular-icon-view"],function(e,t,r,n,o,i,a,s,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DragMenu=void 0;var l,u=o.Components,d=u.If,p=u.For;l=n.BaseMenuSection,r.__extends(h,l),h.prototype.template=function(){var e=this;return o.createElement("div",{class:o.const("dcg-options-menu-section")},o.createElement("div",{class:o.const("dcg-options-menu-section-title")},function(){return e.controller.s("graphing-calculator-heading-drag")},o.createElement(a.ToggleView,{ariaLabel:function(){return e.controller.s("graphing-calculator-narration-menu-drag-enabled")},toggled:this.props.isOpen,onChange:this.bindFn(this.toggleDragEnabled)})),o.createElement(d,{predicate:this.props.isOpen},function(){return o.createElement("div",{class:o.const("dcg-options-menu-content")},o.createElement(p,{each:function(){return[s.DragMode.X,s.DragMode.Y,s.DragMode.XY]}},o.createElement("div",{class:o.const("dcg-style-icons"),role:o.const("radiogroup")},function(t){return o.createElement("div",{class:function(){return{"dcg-style-icon-container":!0,"dcg-disabled":e.isDisabled(t)}},onTap:function(){return e.onDragModeSelected(t)},role:o.const("radio"),tabindex:function(){return e.isDisabled(t)?-1:0},"aria-label":function(){return"X"===t?e.controller.s("graphing-calculator-narration-drag-mode-x"):"Y"===t?e.controller.s("graphing-calculator-narration-drag-mode-y"):"XY"===t?e.controller.s("graphing-calculator-narration-drag-mode-xy"):e.controller.raw("")},"aria-checked":function(){return e.getDragMode()===t}},o.createElement(c.CircularIconView,{backgroundColor:function(){return"#000"},semiTransparent:function(){return e.getDragMode()!==t},iconType:function(){return"X"===t?"movable-horizontal":"Y"===t?"movable-vertical":"movable-both"}}))})))}))},h.prototype.isDisabled=function(e){var t=this.controller.getEnabledDragModesForItem(this.id);return!i.contains(t,e)},h.prototype.onDragModeSelected=function(e){var t,r;"expression"===this.model.type?this.isDisabled(e)||this.controller.dispatch({type:"set-item-dragmode",id:this.id,dragMode:e}):(t=this.model.id,r=this.model.table.id,this.controller.dispatch({type:"set-tablecolumn-dragmode",tableId:r,columnId:t,dragMode:e}))},h.prototype.getDragMode=function(){return"expression"===this.model.type&&this.model.reconciledDragMode||this.model.dragMode},h.prototype.toggleDragEnabled=function(){var e=this.getDragMode()!==s.DragMode.NONE?s.DragMode.NONE:s.DragMode.XY;"expression"===this.model.type?this.controller.dispatch({type:"set-item-dragmode",id:this.id,dragMode:e}):this.onDragModeSelected(e)},r=h;function h(){return null!==l&&l.apply(this,arguments)||this}t.DragMenu=r}),define("loadcss!expressions/expression-menus/expression-options-menu-view",function(){}),define("expressions/expression-menus/expression-options-menu-view",["require","exports","tslib","dcgview","lib/aria","jquery","./lines","./colors-only","./fill","./clickable","./points","./label","./drag","graphing-calc/models/expression","core/math/expression-types","core/lib/dragmode","loadcss!./expression-options-menu-view"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionOptionsMenuView=void 0;var m,y=(b=n.Components).For,v=b.If,b=(m=n.Class,r.__extends(x,m),x.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,this.props.registerRepositionCb(this.bindFn(this.renderOffset))},x.prototype.template=function(){var e=this;return n.createElement("div",{class:function(){return{"dcg-expressions-options-menu":!0,"dcg-options-menu":!0}},role:n.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-options-menu")},didMount:this.bindFn(this.didMountContainer)},n.createElement(y,{each:this.bindFn(this.getSections)},n.createElement("div",null,function(t){switch(t){case"points":return n.createElement(u.PointsMenu,r.__assign({},e.props,{isOpen:function(){return e.isSectionOpen("points")},isFirstOpenSection:function(){return e.isFirstOpenSection("points")}}));case"label":return n.createElement(d.LabelMenu,r.__assign({},e.props,{isOpen:function(){return e.isSectionOpen("label")},isFirstOpenSection:function(){return e.isFirstOpenSection("label")}}));case"drag":return n.createElement(p.DragMenu,r.__assign({},e.props,{isOpen:function(){return e.isSectionOpen("drag")},isFirstOpenSection:function(){return e.isFirstOpenSection("drag")}}));case"lines":return n.createElement(a.LineMenu,r.__assign({},e.props,{isOpen:function(){return e.isSectionOpen("lines")},isFirstOpenSection:function(){return e.isFirstOpenSection("lines")}}));case"fill":return n.createElement(c.FillMenu,r.__assign({},e.props,{isOpen:function(){return e.isSectionOpen("fill")},isFirstOpenSection:function(){return e.isFirstOpenSection("fill")}}));case"colors-only":return n.createElement(s.ColorsOnlyMenu,r.__assign({},e.props,{isOpen:e.const(!0),isFirstOpenSection:e.const(!0)}))}})),n.createElement(v,{predicate:this.bindFn(this.isClickable)},function(){return n.createElement(l.ClickableMenu,r.__assign({},e.props,{isOpen:function(){return!!e.model.clickableInfo.enabled},isFirstOpenSection:e.const(!1)}))}),n.createElement("div",{class:n.const("dcg-triangle"),didMount:this.bindFn(this.didMountArrow)}))},x.prototype.willUnmount=function(){o.alert(this.controller.s("graphing-calculator-narration-options-menu-closed"))},x.prototype.didMountContainer=function(e){this.$containerElt=i(e),o.alert(this.controller.s("graphing-calculator-narration-options-menu-open"))},x.prototype.didMountArrow=function(e){this.$arrowElt=i(e)},x.prototype.renderOffset=function(e){var t;this.$containerElt&&this.$arrowElt&&(t=-(e=e<(t=this.$containerElt.outerHeight())?+e-t:0)<t-38,this.$containerElt.css("margin-top",e+"px"),this.$arrowElt.css("margin-top",-e+"px"),this.$arrowElt.css("display",t?"":"none"))},x.prototype.isClickable=function(){return this.controller.areActionsEnabled()&&h.isClickableAllowed(this.model)},x.prototype.getSections=function(){return h.isHistogram(this.model)||h.isBoxPlot(this.model)||h.isRegression(this.model)||h.isDiscreteDistribution(this.model)?["colors-only"]:h.isToplevelDistribution(this.model)?["lines"]:h.isDotPlot(this.model)?["points"]:h.isPointList(this.model)?["points","label","lines"]:h.isSinglePoint(this.model)?this.model.formula.move_strategy?["points","label","drag"]:["points","label"]:h.isParametric(this.model)||h.isPolygon(this.model)||h.isInequality(this.model)&&!h.isPolar(this.model)?["lines","fill"]:["lines"]},x.prototype.isFirstOpenSection=function(e){for(var t=0,r=this.getSections();t<r.length;t++){var n=r[t];if(n===e)return this.isSectionOpen(e);if(this.isSectionOpen(n))return!1}return!1},x.prototype.isSectionOpen=function(e){var t=(n=this.model).points,r=n.lines,n=n.fill,o=f.getReconciledExpressionProps(this.model.formula.expression_type,{points:t,lines:r,fill:n});switch(e){case"lines":return!this.model.hidden&&o.lines;case"label":return this.model.showLabel;case"fill":return!this.model.hidden&&(!!h.isInequality(this.model)||o.fill);case"points":return!this.model.hidden&&(h.isSinglePoint(this.model)?!this.model.hidden:o.points);case"drag":return this.model.reconciledDragMode!==g.DragMode.NONE;case"colors-only":return!0}},x);function x(){return null!==m&&m.apply(this,arguments)||this}t.ExpressionOptionsMenuView=b}),define("expressions/expression-menus/table-options-menu-view",["require","exports","tslib","dcgview","lib/aria","./lines","./points","./drag","core/lib/dragmode","loadcss!./expression-options-menu-view","loadcss!./expression-options-menu-view"],function(e,t,r,n,o,i,a,s,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TableOptionsMenuView=void 0;var l,u=n.Components.For,d=(l=n.Class,r.__extends(p,l),p.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},p.prototype.template=function(){var e=this;return n.createElement("div",{class:function(){return{"dcg-table-column-menu":!0,"dcg-options-menu":!0}},role:n.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-options-menu")},didMount:function(){o.alert(e.controller.s("graphing-calculator-narration-options-menu-open"))},didUnmount:function(){o.alert(e.controller.s("graphing-calculator-narration-options-menu-closed"))}},n.createElement(u,{each:this.bindFn(this.getSections)},n.createElement("div",null,function(t){switch(t){case"points":return n.createElement(a.PointsMenu,r.__assign({},e.props,{isOpen:function(){return e.isSectionOpen("points")},isFirstOpenSection:function(){return e.isFirstOpenSection("points")}}));case"drag":return n.createElement(s.DragMenu,r.__assign({},e.props,{isOpen:function(){return e.isSectionOpen("drag")},isFirstOpenSection:function(){return e.isFirstOpenSection("drag")}}));case"lines":return n.createElement(i.LineMenu,r.__assign({},e.props,{isOpen:function(){return e.isSectionOpen("lines")},isFirstOpenSection:function(){return e.isFirstOpenSection("lines")}}))}})),n.createElement("div",{class:n.const("dcg-triangle")}))},p.prototype.getSections=function(){return this.model.draggable?["points","lines","drag"]:["points","lines"]},p.prototype.isFirstOpenSection=function(e){for(var t=0,r=this.getSections();t<r.length;t++){var n=r[t];if(n===e)return this.isSectionOpen(e);if(this.isSectionOpen(n))return!1}return!1},p.prototype.isSectionOpen=function(e){switch(e){case"drag":return this.model.dragMode!==c.DragMode.NONE;case"lines":return!!this.model.lines;case"points":return!!this.model.points}},p);function p(){return null!==l&&l.apply(this,arguments)||this}t.TableOptionsMenuView=d}),define("expressions/image_options_view",["require","exports","tslib","dcgview","graphing-calc/models/image","graphing-calc/models/expression","dcgview-helpers/checkbox","./circular-icon-view","expressions/expression-menus/clickable","lib/coerce-url"],function(e,t,r,n,o,i,a,s,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageOptionsView=void 0;var u,d=(f=n.Components).For,p=f.If,h=f.Textarea,f=(u=n.Class,r.__extends(g,u),g.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,n.createElement("div",{class:n.const("dcg-image-options-menu dcg-options-menu")},n.createElement("div",{class:n.const("dcg-triangle")}),n.createElement("div",{class:n.const("dcg-opacities-menu dcg-dividing-line-after")},n.createElement("div",{role:n.const("heading"),"aria-level":n.const("2"),class:n.const("dcg-title")},function(){return e.controller.s("graphing-calculator-heading-image-opacity")}),n.createElement(d,{each:function(){return e.controller.getImageOpacities()}},n.createElement("div",{class:n.const("dcg-opacities-menu-flex"),role:n.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-heading-image-opacity")}},function(t){return n.createElement("span",{class:n.const("dcg-opacity-option"),role:n.const("button"),tabindex:n.const(0),"aria-label":function(){return"opacity: "+t},"aria-pressed":function(){return e.isOpacitySelected(t)},handleevent:n.const("true"),onTap:function(){return e.onSelectOpacity(t)}},n.createElement(s.CircularIconView,{backgroundImage:e.bindFn(e.getBackgroundImage),iconType:function(){return e.isOpacitySelected(t)?"check":"none"},backgroundOpacity:function(){return parseFloat(t)}}))}))),n.createElement("div",{class:n.const("dcg-styles-div dcg-options-menu-section")},n.createElement("div",{class:n.const("dcg-styles-menu"),role:n.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-image-styles")}},n.createElement(a.Checkbox,{checked:function(){return!e.model.foreground},onChange:this.bindFn(this.onToggleForeground),ariaLabel:function(){return e.controller.s("graphing-calculator-button-place-image-behind-graphs")}},function(){return e.controller.s("graphing-calculator-button-place-image-behind-graphs")})),n.createElement(p,{predicate:function(){return e.shouldShowDraggableCheckbox()}},function(){return n.createElement("div",{class:n.const("dcg-draggable-checkbox-container")},n.createElement(a.Checkbox,{checked:function(){return o.isActuallyDraggable(e.model)},onChange:e.bindFn(e.onToggleDraggable),ariaLabel:function(){return e.controller.s("graphing-calculator-button-draggable")}},function(){return e.controller.s("graphing-calculator-button-draggable")}))}),n.createElement(p,{predicate:this.bindFn(this.shouldShowClickable)},function(){return n.createElement("div",{class:n.const("dcg-clickable-image-controls")},n.createElement(c.ClickableMenu,r.__assign({},e.props,{isOpen:function(){return!!e.model.clickableInfo.enabled},isFirstOpenSection:e.const(!1)})))}),n.createElement(p,{predicate:function(){return o.isActuallyDraggable(e.model)||!!e.model.clickableInfo.enabled}},function(){return n.createElement(h,{placeholder:function(){return e.controller.s("graphing-calculator-text-add-screen-reader-label-placeholder")},value:function(){return e.model.description},onInput:function(t){return e.controller.dispatch({type:"set-item-description",id:e.model.id,description:t})}})})))},g.prototype.onToggleDraggable=function(){o.getCenterExternalReferencedModel(this.model)?this.controller.dispatch({type:"set-image-draggable",id:this.id,draggable:!this.model.draggable}):this.makeDraggable()},g.prototype.onToggleForeground=function(e){this.controller.dispatch({type:"set-image-in-foreground",id:this.id,foreground:!e})},g.prototype.onSelectOpacity=function(e){this.controller.dispatch({type:"set-image-opacity",id:this.id,opacity:e})},g.prototype.isOpacitySelected=function(e){return this.model.opacity===e},g.prototype.getBackgroundImage=function(){return this.model.image_url===this.lastURL||(this.lastURL=this.model.image_url,this.lastEncodedURL='url("'+l.coerceURL(this.model.image_url)+'")'),this.lastEncodedURL},g.prototype.shouldShowClickable=function(){return this.controller.areActionsEnabled()},g.prototype.makeDraggable=function(){this.controller.dispatch({type:"convert-image-to-draggable",id:this.model.id})},g.prototype.shouldShowDraggableCheckbox=function(){var e=o.getCenterExternalReferencedModel(this.model);return e?i.isPotentiallyMovable(e):o.canConvertToDraggableImage(this.model)},g);function g(){return null!==u&&u.apply(this,arguments)||this}t.ImageOptionsView=f}),define("loadcss!expressions/slider-speed-view",function(){}),define("expressions/slider_speed_view",["require","exports","tslib","underscore","lib/aria","dcgview","core/graphing-calc/json/expression","loadcss!./slider-speed-view"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,c=[.05,.1,.15,.2,.35,.5,.75,1,1.5,2,3.5,5,7.5,10,15,20],l=n.min(c),u=n.max(c);s=i.Class,r.__extends(d,s),d.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model()},d.prototype.template=function(){var e=this;return i.createElement("div",{class:i.const("dcg-slider-speed-container dcg-do-not-blur"),handleEvent:i.const("true")},i.createElement("span",{class:function(){return{"dcg-action-slower":!0,"dcg-disabled":e.isSlowerDisabled()}},onTap:function(){return e.animateSlower()},role:i.const("button"),"aria-label":function(){return e.getSlowerAriaLabel()},tabindex:function(){return e.isSlowerDisabled()?-1:0},"aria-disabled":function(){return e.isSlowerDisabled()}},i.createElement("i",{class:i.const("dcg-icon-show"),"aria-hidden":i.const("true")})),i.createElement("span",{class:i.const("dcg-variable-speed")},this.bindFn(this.computeSpeed),i.const("x")),i.createElement("span",{class:function(){return{"dcg-action-faster":!0,"dcg-disabled":e.isFasterDisabled()}},onTap:function(){return e.animateFaster()},role:i.const("button"),"aria-label":function(){return e.getFasterAriaLabel()},tabindex:function(){return e.isFasterDisabled()?-1:0},"aria-disabled":function(){return e.isFasterDisabled()}},i.createElement("i",{class:i.const("dcg-icon-show"),"aria-hidden":i.const("true")})))},d.prototype.computeSpeed=function(){var e=a.DEFAULT_SLIDER_PERIOD/this.model.slider.animationPeriod;return Number(e.toFixed(3))},d.prototype.isSlowerDisabled=function(){return l>=this.computeSpeed()},d.prototype.isFasterDisabled=function(){return u<=this.computeSpeed()},d.prototype.animateSlower=function(){var e=this.computeSpeed(),t=n.filter(c,function(t){return t<e});0!==t.length&&this.setPeriodFromSpeed(n.max(t))},d.prototype.animateFaster=function(){var e=this.computeSpeed(),t=n.filter(c,function(t){return e<t});0!==t.length&&this.setPeriodFromSpeed(n.min(t))},d.prototype.setPeriodFromSpeed=function(e){var t=a.DEFAULT_SLIDER_PERIOD/e;this.controller.dispatch({type:"set-slider-animationperiod",id:this.model.id,animationPeriod:t}),o.alert(this.controller.s("graphing-calculator-narration-slider-animating-at-speed",{speed:e+""}))},d.prototype.getSlowerAriaLabel=function(){return this.controller.s("graphing-calculator-narration-slider-animate-slower")},d.prototype.getFasterAriaLabel=function(){return this.controller.s("graphing-calculator-narration-slider-animate-faster")},r=d;function d(){return null!==s&&s.apply(this,arguments)||this}t.default=r}),define("loadcss!expressions/slider-options-view",function(){}),define("expressions/slider-options-view",["require","exports","tslib","dcgview","core/types/slider-loop-modes","../shared-components/tooltip","./slider_speed_view","loadcss!toggle","loadcss!./slider-options-view"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderOptionsView=void 0;var s,c=n.Components.For,l=(s=n.Class,r.__extends(u,s),u.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},u.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-slider-options-view dcg-options-menu")},n.createElement("div",{class:n.const("dcg-triangle")}),n.createElement("div",{class:n.const("dcg-slider-menu")},n.createElement("div",{role:n.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-heading-slider-animation-mode")}},n.createElement("div",{role:n.const("heading"),"aria-level":n.const("2"),class:n.const("dcg-title")},function(){return e.controller.s("graphing-calculator-heading-slider-animation-mode")}),n.createElement(c,{each:this.bindFn(this.getAnimationOptions),key:function(e){return e.key}},n.createElement("div",{class:n.const("dcg-toggle")},function(t){return n.createElement("div",{class:function(){return{"dcg-toggle-option":!0,"dcg-selected-toggle":e.isSelected(t.key)}},role:n.const("button"),tabindex:n.const(0),"aria-label":function(){return t.aria},"aria-pressed":function(){return e.isSelected(t.key)},onTap:function(){return e.props.controller().dispatch({type:"set-slider-loopmode",id:e.props.model().id,loopMode:t.key})}},n.createElement(i.Tooltip,{tooltip:function(){return t.aria},offset:function(){return{top:5}},gravity:e.getAnimationOptionTooltipGravity(t)},n.createElement("i",{class:function(){return o.getSliderIcon(t.key)},"aria-hidden":n.const("true")})))})))),n.createElement("div",{class:n.const("dcg-slider-menu dcg-slider-speed-menu"),role:n.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-heading-slider-speed")}},n.createElement("div",{role:n.const("heading"),"aria-level":n.const("2"),class:n.const("dcg-title")},function(){return e.controller.s("graphing-calculator-heading-slider-speed")}),n.createElement("div",{class:n.const("dcg-slider-speed-container")},n.createElement(a.default,r.__assign({},this.props)))))},u.prototype.getAnimationOptionTooltipGravity=function(e){return this.getAnimationOptions()[0].key===e.key?this.const("se"):this.const("s")},u.prototype.getAnimationOptions=function(){return[{key:o.SliderLoopMode.LOOP_FORWARD_REVERSE,aria:this.controller.s("graphing-calculator-narration-slider-loop-forwards-and-backwards")},{key:o.SliderLoopMode.LOOP_FORWARD,aria:this.controller.s("graphing-calculator-narration-slider-repeat-one-direction")},{key:o.SliderLoopMode.PLAY_ONCE,aria:this.controller.s("graphing-calculator-narration-slider-play-once")},{key:o.SliderLoopMode.PLAY_INDEFINITELY,aria:this.controller.s("graphing-calculator-narration-slider-play-indefinitely")}]},u.prototype.isSelected=function(e){return this.model.slider.loopMode===e},u);function u(){return null!==s&&s.apply(this,arguments)||this}t.SliderOptionsView=l}),define("loadcss!expressions/item-settings-view",function(){}),define("expressions/item-settings-view",["require","exports","tslib","dcgview","keys","underscore","jquery","./expression-menus/expression-options-menu-view","./expression-menus/table-options-menu-view","./image_options_view","./slider-options-view","loadcss!./item-settings-view"],function(e,t,r,n,o,i,a,s,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ItemSettingsView=void 0;var d,p=n.Components.Switch,h=':input, [role="textbox"], [tabindex="0"]:visible';d=n.Class,r.__extends(f,d),f.prototype.init=function(){this.controller=this.props.controller()},f.prototype.template=function(){var e=this;return n.createElement(p,{key:this.bindFn(this.getActiveGuid)},function(){var t=e.controller.getOpenItemMenu();return e.registeredChildRepositionCb=void 0,t?"expression"===t.type?n.createElement("div",{class:n.const("dcg-options-menu-container"),didMount:e.bindFn(e.didMountView),didUnmount:e.bindFn(e.didUnmountView)},n.createElement(s.ExpressionOptionsMenuView,{controller:e.props.controller,model:function(){return t.model},registerRepositionCb:function(t){e.registeredChildRepositionCb=t}})):"image"===t.type?n.createElement("div",{class:n.const("dcg-options-menu-container"),didMount:e.bindFn(e.didMountView),didUnmount:e.bindFn(e.didUnmountView)},n.createElement(l.ImageOptionsView,{controller:e.props.controller,model:function(){return t.model}})):"table-column"===t.type?n.createElement("div",{class:n.const("dcg-options-menu-container"),didMount:e.bindFn(e.didMountView),didUnmount:e.bindFn(e.didUnmountView)},n.createElement(c.TableOptionsMenuView,{controller:e.props.controller,model:function(){return t.model}})):"slider"===t.type?n.createElement("div",{class:n.const("dcg-options-menu-container"),didMount:e.bindFn(e.didMountView),didUnmount:e.bindFn(e.didUnmountView)},n.createElement(u.SliderOptionsView,{controller:e.props.controller,model:function(){return t.model}})):t:n.createElement("span",null)})},f.prototype.getActiveGuid=function(){var e=this.controller.getOpenItemMenu();if(e)return e.guid},f.prototype.didMountView=function(e){var t=this;this.guid=i.uniqueId("dcg-item-settings-view"),this.openView=e,this.positionMenu(),this.moveFocusIfAppropriate(),a(document.body).on("keydown."+this.guid,function(e){var r=o.lookup(e);r===o.ESCAPE?(t.focusMenuIcon(),t.hideOptions()):"Tab"!==r||e.altKey||e.ctrlKey||e.metaKey||(e.shiftKey?e.shiftKey&&(t.isIconModelFocused()?(e.preventDefault(),e.stopPropagation(),t.focusLastOption()):t.isFirstOptionViewFocused()?(e.preventDefault(),e.stopPropagation(),t.focusIcon()):t.focusAnywhere()):t.isIconModelFocused()?(e.preventDefault(),e.stopPropagation(),t.focusFirstOption()):t.isLastOptionViewFocused()?(e.preventDefault(),e.stopPropagation(),t.focusIcon()):t.focusAnywhere())}),requestAnimationFrame(function(){t.openView&&t.controller.getExppanelSelectorOrThrow().on("scroll."+t.guid,function(){t.hideOptions()})}),a(document.body).on("dcg-tapstart."+this.guid,function(e){var r,n,o;t.openView&&(r=a(e.target),(n=t.controller.getOpenMenuIcon())&&r.closest(n).length||(r.closest(t.openView).length?r.is(h)&&(n=(o=t.getDOMTabStops()).$first,o=o.$last,void 0!==n&&n.is(r)?t.focusFirstOption():void 0!==o&&o.is(r)?t.focusLastOption():e.target.hasAttribute("dataLabelAttributeValue")||"fill-opacity"===e.target.getAttribute("dataLabelAttributeValue")||t.focusAnywhere()):r.closest(".dcg-keypad,.dcg-show-keypad-container").length||t.hideOptions()))})},f.prototype.didUnmountView=function(){a(document.body).off("."+this.guid),this.openView=void 0},f.prototype.didUpdate=function(){this.positionMenu(),this.moveFocusIfAppropriate()},f.prototype.moveFocusIfAppropriate=function(){var e=(t=this.getDOMTabStops()).$first,t=t.$last;void 0!==e&&void 0!==t&&(this.shouldMoveFocusToFirstOption()?e.trigger("focus"):this.shouldMoveFocusToLastOption()&&t.trigger("focus"))},f.prototype.open=function(){return!!this.controller.getOpenItemMenu()},f.prototype.hideOptions=function(){var e,t;this.open()&&(e=this.controller.getFocusLocation(),t=this.controller.getOpenItemMenu(),e&&t&&"expression-menu"===e.type&&e.id===t.model.id&&this.controller.dispatch({type:"blur-focus-location",location:e}),this.controller.dispatch({type:"close-item-settings-menu"}))},f.prototype.positionMenu=function(){var e,t,r,n,o,i=this.controller.getOpenMenuIcon();i&&this.openView&&(e=this.controller.getExppanelSelectorOrThrow().closest(".dcg-container")[0].getBoundingClientRect(),t=(o=i[0].getBoundingClientRect()).top-e.top,r=o.left-e.left,i=(n=this.controller.computeMajorLayout()).list.top+n.list.height,n=n.keypad.top,o=Math.min(i,n)+e.top-o.top,a(this.openView).css({top:t+"px",left:r+"px",display:"block"}),this.registeredChildRepositionCb&&this.registeredChildRepositionCb(o))},f.prototype.focusMenuIcon=function(){var e=this.controller.getOpenItemMenu();e&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression-icon",id:e.model.id}})},f.prototype.isIconModelFocused=function(){var e=this.controller.getOpenItemMenu();return void 0!==e&&("slider"===e.type?this.controller.isFocusLocationFocused({type:"slider-animation-properties-icon",id:e.model.id}):"image"===e.type?this.controller.isFocusLocationFocused({type:"image-icon",id:e.model.id}):"table-column"===e.type?this.controller.isFocusLocationFocused({type:"table-icon",id:e.model.table.id,columnId:e.model.id}):(e=this.getModelForOpenMenu())?this.controller.isFocusLocationFocused({type:"expression-icon",id:e.id}):void 0)},f.prototype.focusIcon=function(){this.controller.focusOpenMenuIcon()},f.prototype.isFirstOptionViewFocused=function(){var e=this.getDOMTabStops().$first;return void 0!==e&&e.is(":focus")},f.prototype.shouldMoveFocusToFirstOption=function(){var e=this.getModelForOpenMenu();if(e)return!this.isFirstOptionViewFocused()&&this.controller.isFocusLocationFocused({type:"expression-menu",id:e.id,location:"start"})},f.prototype.focusFirstOption=function(){var e=this.getModelForOpenMenu();e&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression-menu",id:e.id,location:"start"}})},f.prototype.isLastOptionViewFocused=function(){var e=this.getDOMTabStops().$last;return void 0!==e&&e.is(":focus")},f.prototype.getModelForOpenMenu=function(){var e=this.controller.getOpenItemMenu();if(e)return e.model},f.prototype.shouldMoveFocusToLastOption=function(){var e=this.getModelForOpenMenu();if(e)return!this.isLastOptionViewFocused()&&this.controller.isFocusLocationFocused({type:"expression-menu",id:e.id,location:"end"})},f.prototype.focusLastOption=function(){var e=this.getModelForOpenMenu();e&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression-menu",id:e.id,location:"end"}})},f.prototype.focusAnywhere=function(){var e=this.getModelForOpenMenu();e&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression-menu",id:e.id,location:"anywhere"}})},f.prototype.getDOMTabStops=function(){if(void 0===this.openView)return{};var e=a(this.openView).find(h);return{$first:e.first(),$last:e.last()}},r=f;function f(){return null!==d&&d.apply(this,arguments)||this}t.ItemSettingsView=r}),define("loadcss!expressions/expression-search-bar",function(){}),define("expressions/expression-search-bar",["require","exports","tslib","dcgview","../dcgview-helpers/mathquill-view","main/mathquill-operators","../dcgview-helpers/tooltipped-error","loadcss!./expression-search-bar"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionSearchBar=void 0;var s,c=n.Components.If;s=n.Class,r.__extends(l,s),l.prototype.init=function(){this.controller=this.props.controller()},l.prototype.template=function(){var e=this;return n.createElement("div",{class:function(){return{"dcg-expression-search-bar":!0,"dcg-expressions-scrolled":e.props.expsScrolled()&&!e.controller.getTickerOpen()}},role:n.const("search")},n.createElement("div",{class:n.const("dcg-search-row")},n.createElement("div",{class:n.const("dcg-search-mathquill-container")},n.createElement(o.default,{hasError:this.const(!1),getAriaLabel:function(){return e.controller.s("graphing-calculator-label-search-expressions")},getAriaPostLabel:function(){return 0===e.controller.getExpressionSearchStr().length?e.controller.raw(""):e.shouldShowReplaceError()?e.controller.s("graphing-calculator-error-expression-replacement"):e.shouldShowSearchError()?e.controller.s("graphing-calculator-error-expression-search"):e.controller.s("graphing-calculator-narration-expression-search-results",{count:e.controller.getExpressionSearchCount()})},capExpressionSize:this.const(!1),onUserChangedLatex:this.bindFn(this.onSearchChange),latex:function(){return e.controller.getRawExpressionSearchStr()},isFocused:this.bindFn(this.isSearchFocused),config:this.bindFn(this.getMQConfig),onFocusedChanged:this.bindFn(this.onSearchFocusChanged),noFadeout:this.const(!0),onUserPressedKey:function(t,r){var n;"Esc"===t?(r&&r.preventDefault(),e.closeSearch()):"Enter"===t?(r&&r.preventDefault(),e.onEnter()):(n=o.default.getFocusedMathquill())&&(n.keystroke(t,r),e.controller.getRawExpressionSearchStr()!==n.latex()&&(e.justGlobalReplaced=!1,e.onSearchChange(n.latex())))}}),n.createElement("i",{class:n.const("dcg-icon-search"),"aria-hidden":n.const("true")}),n.createElement(c,{predicate:function(){return 0===e.controller.getRawExpressionSearchStr().length}},function(){return n.createElement("span",{class:n.const("dcg-search-placeholder")},function(){return e.controller.s("graphing-calculator-label-search-expressions")})}),n.createElement(c,{predicate:function(){return e.shouldShowSearchError()}},function(){return n.createElement("span",{class:n.const("dcg-search-replace-icon-container")},n.createElement(a.TooltippedError,{error:function(){return e.controller.s("graphing-calculator-error-expression-search")},gravity:e.const("s"),size:e.const("small")}))}),n.createElement(c,{predicate:function(){return e.controller.isSearchReplaceValid()&&!e.justGlobalReplaced}},function(){return n.createElement("span",{class:n.const("dcg-search-replace-icon-container")},n.createElement("i",{class:n.const("dcg-icon-replace"),role:n.const("button"),tabindex:n.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-button-replace")},onTap:e.bindFn(e.onGlobalReplace)}))}),n.createElement(c,{predicate:function(){return e.justGlobalReplaced}},function(){return n.createElement("span",{class:n.const("dcg-search-replace-icon-container")},n.createElement("i",{class:n.const("dcg-icon-check"),"aria-hidden":n.const("true")}))}),n.createElement(c,{predicate:function(){return e.shouldShowReplaceError()}},function(){return n.createElement("span",{class:n.const("dcg-search-replace-icon-container")},n.createElement(a.TooltippedError,{error:function(){return e.controller.s("graphing-calculator-error-expression-replacement")},gravity:e.const("s"),size:e.const("small")}))})),n.createElement("i",{onTap:function(){return e.closeSearch()},tabindex:n.const("0"),"aria-label":function(){return e.controller.s("account-shell-button-cancel")},role:n.const("button"),class:n.const("dcg-icon-remove dcg-do-not-blur")})))},l.prototype.onGlobalReplace=function(){var e=this;this.justGlobalReplaced=!0,setTimeout(function(){e.justGlobalReplaced=!1,e.update()},1500),this.controller.dispatch({type:"rename-identifier-global",search:this.controller.getExpressionSearchStr(),replace:this.controller.getExpressionReplaceStr()})},l.prototype.onEnter=function(){this.controller.isSearchReplaceValid()?this.onGlobalReplace():this.controller.dispatch({type:"update-expression-search-str",str:this.controller.getRawExpressionSearchStr()})},l.prototype.shouldShowSearchError=function(){return!this.controller.getIsExpressionSearchStrValidForReplace()&&0<this.controller.getExpressionReplaceStr().length},l.prototype.shouldShowReplaceError=function(){return!this.shouldShowSearchError()&&!this.controller.getIsExpressionReplaceStrValidForReplace()&&0<this.controller.getExpressionReplaceStr().length},l.prototype.closeSearch=function(){this.controller.dispatch({type:"close-expression-search"})},l.prototype.onSearchChange=function(e){this.controller.dispatch({type:"update-expression-search-str",str:e})},l.prototype.onSearchFocusChanged=function(e){e?this.controller.dispatch({type:"set-focus-location",location:{type:"search-expressions"}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"search-expressions"}})},l.prototype.isSearchFocused=function(){var e=this.controller.getFocusLocation();return!!e&&"search-expressions"===e.type},l.prototype.onReplaceChange=function(e){this.controller.dispatch({type:"update-expression-replace-str",str:e})},l.prototype.onReplaceFocusChanged=function(e){e?this.controller.dispatch({type:"set-focus-location",location:{type:"replace-expressions"}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"replace-expressions"}})},l.prototype.isReplaceFocused=function(){var e=this.controller.getFocusLocation();return!!e&&"replace-expressions"===e.type},l.prototype.getMQConfig=function(){return{autoOperatorNames:i.getAutoOperators({additionalOperators:["label","rename"]}),autoCommands:i.getAutoCommands()}},r=l;function l(){var e=null!==s&&s.apply(this,arguments)||this;return e.justGlobalReplaced=!1,e}t.ExpressionSearchBar=r}),define("loadcss!expressions/ticker",function(){}),define("expressions/ticker",["require","exports","tslib","dcgview","../dcgview-helpers/mathquill-view","main/mathquill-operators","../dcgview-helpers/tooltipped-error","../graphing-calc/models/ticker","./promptslider_view","./circular-icon-view","../shared-components/tooltip","lib/conditional_blur","loadcss!./ticker"],function(e,t,r,n,o,i,a,s,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ticker=void 0;var p,h=n.Components,f=h.If,g=h.IfDefined;p=n.Class,r.__extends(m,p),m.prototype.init=function(){this.controller=this.props.controller()},m.prototype.template=function(){var e=this;return n.createElement("div",{class:function(){return{"dcg-ticker":!0,"dcg-expressions-scrolled":e.props.expsScrolled()}}},n.createElement("div",{class:n.const("dcg-ticker-settings-container")},n.createElement("div",{class:n.const("dcg-ticker-settings-internal")},n.createElement("div",{class:n.const("dcg-editable-mathquill-container dcg-action-definition")},n.createElement("span",{class:n.const("dcg-ticker-label")},function(){return e.controller.raw("Run")}),n.createElement(o.default,{hasError:function(){return!!e.getHandlerErrorString()},getAriaPostLabel:function(){var t=e.getHandlerErrorString();return t?e.controller.unpack(t):""},capExpressionSize:this.const(!1),onUserChangedLatex:function(t){return e.dispatchHandlerLatexIfChanged(t)},latex:function(){return e.getHandlerLatex()},getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-tick-action")},isFocused:function(){return"handler"===e.getFocusedInput()},config:function(){return e.getMQConfig()},onFocusedChanged:function(t){return e.handleFocusedChanged("handler",t)},selectOnFocus:this.const(!0),noFadeout:this.const(!0),onUserPressedKey:function(t,r){e.handlePressedKey("handler",t,r)}}),g(function(){return e.getHandlerErrorString()},function(t){return n.createElement("span",{class:n.const("dcg-clickable-info-error-container")},n.createElement(a.TooltippedError,{error:function(){return e.controller.unpack(t())},gravity:e.const("s"),size:e.const("small")}))})),n.createElement("div",{class:n.const("dcg-editable-mathquill-container dcg-action-frequency")},n.createElement("span",{class:n.const("dcg-ticker-label")},function(){return e.controller.raw("every")}),n.createElement(o.default,{hasError:function(){return!!e.getMinStepErrorString()},getAriaPostLabel:function(){var t=e.getMinStepErrorString();return t?e.controller.unpack(t):""},capExpressionSize:this.const(!1),onUserChangedLatex:function(t){return e.dispatchMinStepLatexIfChanged(t)},latex:function(){return e.getMinStepLatex()},getAriaLabel:function(){return e.controller.s("graphing-calculator-label-ticker-min-step")},isFocused:function(){return"minstep"===e.getFocusedInput()},config:this.bindFn(this.getMQConfig),onFocusedChanged:function(t){return e.handleFocusedChanged("minstep",t)},selectOnFocus:this.const(!0),placeholder:this.const("0"),noFadeout:this.const(!0),onUserPressedKey:function(t,r){e.handlePressedKey("minstep",t,r)}}),function(){return e.controller.raw("ms")},n.createElement(u.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-ticker-help-tooltip")},gravity:this.const("s")},n.createElement("a",{"aria-label":function(){return e.controller.s("graphing-calculator-label-ticker-help-tooltip")},class:n.const("dcg-ticker-toggle-help"),target:n.const("_blank"),href:n.const("https://help.desmos.com/hc/en-us/articles/4407725009165")},n.createElement("i",{class:n.const("dcg-icon-question-sign"),"aria-hidden":n.const("true")})))),n.createElement(f,{predicate:this.bindFn(this.shouldShowSliderPrompt)},function(){return n.createElement(c.default,{model:function(){return e.props.controller().getTicker()},controller:e.props.controller})})),n.createElement("div",{class:function(){return{"dcg-circular-icon-container":!0,"dcg-disabled":e.iconDisabled()}},"aria-label":this.bindFn(this.getIconAriaLabel),role:n.const("button"),tabindex:function(){return e.iconDisabled()?-1:0},"aria-disabled":this.bindFn(this.iconDisabled),"aria-pressed":function(){return e.controller.getTickerPlaying()&&!e.iconDisabled()},onTap:this.bindFn(this.toggleTicker),onTapStart:function(){d.default()}},n.createElement(l.CircularIconView,{iconType:this.const("metronome")}),n.createElement("div",{class:function(){return{"dcg-metronome-bar":!0,"dcg-metronome-playing":e.controller.getTickerPlaying()&&!e.iconDisabled()}}}),n.createElement(f,{predicate:function(){return!e.iconDisabled()}},function(){return n.createElement("div",{class:n.const("dcg-mini-play-pause")},n.createElement(l.CircularIconView,{iconType:e.bindFn(e.getPlayIcon)}))}))),n.createElement("i",{onTap:this.bindFn(this.closeTicker),tabindex:function(){return e.controller.isInEditListMode()?0:-1},"aria-label":function(){return e.controller.s("graphing-calculator-label-ticker-close")},role:n.const("link"),class:n.const("dcg-icon-remove dcg-do-not-blur")}))},m.prototype.iconDisabled=function(){return!!this.getMinStepErrorString()||!!this.getHandlerErrorString()||!this.isHandlerMaybeValid()},m.prototype.isHandlerMaybeValid=function(){var e;return"maybe-valid"===(null===(e=this.controller.getTicker().formula)||void 0===e?void 0:e.handler.status)},m.prototype.closeTicker=function(){this.controller.dispatch({type:"close-ticker"})},m.prototype.toggleTicker=function(){this.iconDisabled()||this.controller.dispatch({type:"toggle-ticker"})},m.prototype.getPlayIcon=function(){return this.controller.getTickerPlaying()?"pause":"play"},m.prototype.getIconAriaLabel=function(){return this.controller.getTickerPlaying()?this.controller.s("graphing-calculator-label-ticker-pause"):this.controller.s("graphing-calculator-label-ticker-play")},m.prototype.getFocusedInput=function(){var e=this.controller.getFocusLocation();if(e&&"ticker"===e.type)return e.location},m.prototype.handlePressedKey=function(e,t,r){var n=o.default.getFocusedMathquill();if(n){if("Enter"===t&&this.shouldShowSliderPrompt()&&this.controller.dispatch({type:"create-sliders-for-ticker",variables:s.getMissingVariables(this.props.controller().getTicker())}),"Right"===t&&"handler"===e||"Left"===t&&"minstep"===e||"Down"===t){if(!o.default.applyArrowKeyAndReturnIfWasAtBounds(n,t,r))return;if("Down"===t)return this.controller.dispatch({type:"on-special-key-pressed",key:t});if("Right"===t)return void this.handleFocusedChanged("minstep",!0);if("Left"===t)return void this.handleFocusedChanged("handler",!0)}n.keystroke(t,r),"handler"===e?this.dispatchHandlerLatexIfChanged(n.latex()):"minstep"===e&&this.dispatchMinStepLatexIfChanged(n.latex())}},m.prototype.handleFocusedChanged=function(e,t){t?this.controller.dispatch({type:"set-focus-location",location:{type:"ticker",location:e}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"ticker",location:e}})},m.prototype.dispatchHandlerLatexIfChanged=function(e){this.getHandlerLatex()!==e&&this.controller.dispatch({type:"update-ticker-handlerlatex",latex:e})},m.prototype.dispatchMinStepLatexIfChanged=function(e){this.getMinStepLatex()!==e&&this.controller.dispatch({type:"update-ticker-minsteplatex",latex:e})},m.prototype.getHandlerLatex=function(){return this.controller.getTickerHandlerLatex()},m.prototype.getMinStepLatex=function(){return this.controller.getTickerMinStepLatex()},m.prototype.getMQConfig=function(){return{autoOperatorNames:i.getAutoOperators({additionalOperators:["dt"]}),autoCommands:i.getAutoCommands()}},m.prototype.getHandlerErrorString=function(){return this.getHandlerLatex()?s.getHandlerPackedError(this.controller.getTicker()):void 0},m.prototype.getMinStepErrorString=function(){return s.getMinStepPackedError(this.controller.getTicker())},m.prototype.shouldShowSliderPrompt=function(){return!!this.controller.areSlidersEnabled()&&0<s.getMissingVariables(this.controller.getTicker()).length},r=m;function m(){return null!==p&&p.apply(this,arguments)||this}t.Ticker=r}),define("loadcss!expressions/list-view",function(){}),define("loadcss!expressions",function(){}),define("expressions/list-view",["require","exports","tslib","touchtracking","keys","dcgview","jquery","underscore","lib/conditional_blur","./expression_view","./text_view","./table-view","./folder-view","./image-view","./shell_view","./drag_container_view","main/data_helpers","./new_expression_view","./expressions-header","main/load-graph-from-link","lib/get-clipboard-data","graphing-calc/models/abstract-item","graphing-calc/models/list","graphing-calc/models/expression","./exp-list-resizer","./item-settings-view","./expression-search-bar","./ticker","loadcss!./list-view","loadcss!expressions","jquery.handleevent"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g,m,y,v,b,x,w,E,S,k,_,I,M){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var L,T=i.Components,C=T.If,A=T.For,O=T.Switch,P=T.SwitchUnion;L=i.Class,r.__extends(D,L),D.prototype.init=function(){this.controller=this.props.controller()},D.prototype.template=function(){var e=this;return i.createElement("div",{didMount:this.bindFn(this.didMountContainer)},i.createElement("div",{class:i.const("dcg-exppanel-outer"),onDrop:this.bindFn(this.onDrop),style:function(){return e.computeExppanelOuterStyle()}},i.createElement(C,{predicate:function(){return e.controller.isFileDraggedOver()}},function(){return i.createElement("div",{class:i.const("dcg-drop-image")},i.createElement("span",null,function(){return e.controller.s("graphing-calculator-label-drop-image-here")}))}),i.createElement("div",{class:function(){return{"dcg-exppanel-container":!0,"dcg-add-shadow":e.controller.shouldRenderList()}},style:function(){return{transform:e.controller.isListVisible()?void 0:e.controller.isNarrow()?"translate(0, 100%)":"translate(-100%, 0)"}}},i.createElement(C,{predicate:function(){return e.controller.shouldRenderList()}},function(){return i.createElement(v.default,{controller:e.props.controller,expsScrolled:function(){return!!e.exppanel&&0<e.exppanel.scrollTop}})}),i.createElement(C,{predicate:function(){return e.controller.getExpressionSearchOpen()}},function(){return i.createElement(I.ExpressionSearchBar,{controller:e.props.controller,expsScrolled:function(){return!!e.exppanel&&0<e.exppanel.scrollTop}})}),i.createElement(C,{predicate:function(){return e.controller.getTickerOpen()&&!e.controller.getTicker().filteredBySearch}},function(){return i.createElement(M.Ticker,{controller:e.props.controller,expsScrolled:function(){return!!e.exppanel&&0<e.exppanel.scrollTop}})}),i.createElement(C,{predicate:function(){return e.controller.shouldRenderList()}},function(){return i.createElement("div",{class:function(){return{"dcg-exppanel":!0,"dcg-disable-horizontal-scroll-to-cursor":!0,"dcg-isDragging":e.controller.isDragDropActive(),"dcg-has-background-color":e.controller.hasBackgroundColor()}},style:function(){return{background:e.controller.getBackgroundColor()}},onPaste:e.bindFn(e.onPaste),onTapStart:e.bindFn(e.onExppanelTapstart),didMount:e.bindFn(e.didMountExppanel)},i.createElement("div",{class:i.const("dcg-expressionlist"),role:i.const("complementary"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-expression-list")}},i.createElement(A,{each:function(){return e.controller.getAllItemModels()},key:function(e){return e.guid}},i.createElement("span",{class:i.const("dcg-template-expressioneach")},function(t){return P(function(){return w.getDisplayState(t)},{shell:function(){return e.makeShellViewForModel(t)},render:function(){return e.makeViewForModel(t)},none:function(){}})})),i.createElement(y.default,{controller:function(){return e.props.controller()}}),i.createElement(O,{key:function(){return e.controller.getDraggedItemId()}},function(t){if(t)return t=e.controller.getItemModel(t),i.createElement(g.default,{controller:e.props.controller},e.makeDragCopyViewForModel(t))}),i.createElement("div",{class:i.const("dcg-expressions-branding"),style:function(){return{opacity:e.controller.isKeypadOpen()?0:1}}},i.createElement(C,{predicate:function(){return e.controller.canEditOnWeb()}},function(){return i.createElement("span",{role:i.const("link"),tabindex:i.const(0),class:i.const("dcg-edit-branding"),onTap:function(){return e.controller.dispatch({type:"open-on-web"})}},i.createElement("div",{class:i.const("dcg-powered-by"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-edit-graph-on-desmos")}},function(){return e.controller.s("graphing-calculator-button-edit-graph-on-desmos-logo")}),i.createElement("i",{class:i.const("dcg-icon-desmos"),"aria-hidden":i.const("true")}))}),i.createElement(C,{predicate:function(){return!e.controller.canEditOnWeb()}},function(){return i.createElement("span",{class:i.const("dcg-noedit-branding")},i.createElement("div",{class:i.const("dcg-powered-by"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-powered-by-desmos")}},function(){return e.controller.s("graphing-calculator-label-powered-by")}),i.createElement("i",{class:i.const("dcg-icon-desmos"),"aria-hidden":i.const("true")}))}))))})),i.createElement(k.ExpListResizer,{controller:this.props.controller})),i.createElement(_.ItemSettingsView,{controller:this.props.controller}))},D.prototype.makeShellViewForModel=function(e){return i.createElement(f.default,{controller:this.props.controller,model:function(){return e},onDragPending:function(){},isDragCopy:function(){return!1}})},D.prototype.computeExppanelOuterStyle=function(){this.getListBottomAndUpdateLastExpressionPadding();var e=this.controller.computeMajorLayout().list,t=e.top;return 0<e.top&&!this.controller.isListVisible()&&(t-=e.height),{position:"absolute",left:"0px",top:t+"px",width:e.width+"px",height:e.height+"px"}},D.prototype.makeDragCopyViewForModel=function(e){return this.makeViewForModel(e,!0)},D.prototype.makeViewForModel=function(e,t){var r,n=this;if(void 0===t&&(t=!1),"table"===e.type)r=i.createElement(d.default,{controller:this.props.controller,model:function(){return e},onDragPending:function(t){return n.onDragPending(t,e.id)},isDragCopy:function(){return t}});else if("folder"===e.type)r=i.createElement(p.default,{controller:this.props.controller,model:function(){return e},onDragPending:function(t){return n.onDragPending(t,e.id)},isDragCopy:function(){return t}});else if("text"===e.type)r=i.createElement(u.default,{controller:this.props.controller,model:function(){return e},onDragPending:function(t){return n.onDragPending(t,e.id)},isDragCopy:function(){return t}});else if("image"===e.type)r=i.createElement(h.default,{controller:this.props.controller,model:function(){return e},onDragPending:function(t){return n.onDragPending(t,e.id)},isDragCopy:function(){return t}});else{if("expression"!==e.type)return;r=i.createElement(l.default,{controller:this.props.controller,model:function(){return e},onDragPending:function(t){return n.onDragPending(t,e.id)},isDragCopy:function(){return t}})}return r},D.prototype.didUnmount=function(){a(document.documentElement).off("."+this.guid)},D.prototype.didMountContainer=function(e){this.node=e,a(document.documentElement).on("keydown."+this.guid,this.bindFn(this.handleKeyDown))},D.prototype.didMountExppanel=function(e){this.exppanel=e},D.prototype.getListBottomAndUpdateLastExpressionPadding=function(){var e=this.controller.getKeypadHeight(),t=this.__listBottom||0;return 0===(this.__listBottom=e)&&0!==t&&n.isTapActive()&&this.padLastExpressionUntilTapEnd(t),e},D.prototype.padLastExpression=function(e){a(this.node).find(".dcg-expressionitem.dcg-new-expression").css("margin-bottom",e+"px")},D.prototype.unpadLastExpression=function(){a(this.node).find(".dcg-expressionitem.dcg-new-expression").css("margin-bottom","0")},D.prototype.padLastExpressionUntilTapEnd=function(e){var t=this;this.padLastExpression(e),a(document).on("dcg-tap.animating-bottom",function(){t.unpadLastExpression(),a(document).off("dcg-tap.animating-bottom")})},D.prototype.handleKeyDown=function(e){if(!this.controller.inAudioTraceMode()){var t=o.lookup(e),r=o.lookupChar(e),n=this.controller.getSelectedItem();if(n){var i,s=this.controller.getFocusLocation();if(e.ctrlKey&&e.shiftKey&&!e.metaKey&&!e.altKey&&void 0!==s){if("O"===r){e.preventDefault(),e.stopPropagation();var c=void 0;if("expression"===n.type)n.sliderExists||S.isNonemptyAction(n)?n.sliderExists&&(c={type:"slider",model:n,guid:"slider-"+n.guid,focusFirstOption:!0,previousFocusLocation:s},this.controller.dispatch({type:"set-focus-location",location:{type:"slider-animation-properties-icon",id:n.id}})):(c={type:"expression",model:n,guid:n.guid,focusFirstOption:!0,previousFocusLocation:s},this.controller.dispatch({type:"set-focus-location",location:{type:"expression-icon",id:n.id}}));else if("image"===n.type)c={type:"image",model:n,guid:n.guid,focusFirstOption:!0,previousFocusLocation:s},this.controller.dispatch({type:"set-focus-location",location:{type:"image-icon",id:n.id}});else if("table"===n.type&&"table"===s.type){var l=s.location;if(!l)return;if(!(l=n.columnModels[l.column]))return;if(""===l.latex)return;if(!this.controller.getGraphSettings().config.graphpaper)return;if(l.error)return;if(0===l.index)return;c={type:"table-column",model:l,guid:l.guid,focusFirstOption:!0,previousFocusLocation:s},this.controller.dispatch({type:"set-focus-location",location:{type:"table-icon",id:n.id,columnId:l.id}})}return c?void this.controller.dispatch({type:"toggle-item-settings-menu",menu:c}):void 0}if("D"===r)return e.preventDefault(),e.stopPropagation(),void this.controller.dispatch({type:"delete-item-and-animate-out",id:n.id,setFocusAfterDelete:!0})}if(!this.controller.isInEditListMode()||e.altKey||e.ctrlKey||e.metaKey){if((!document.activeElement||!a.contains(document.body,document.activeElement))&&!a(e.target).closest(this.exppanel).length&&a.contains(document.documentElement,e.target))switch(t){case o.UP:e.preventDefault(),this.controller.dispatch({type:"select-previous-expression"});break;case o.DOWN:e.preventDefault(),this.controller.dispatch({type:"select-next-expression"});break;case o.ESCAPE:e.preventDefault(),this.controller.dispatch({type:"set-none-selected"});break;case o.RIGHT:e.preventDefault(),n&&("expression"===n.type&&n.sliderExists?(this.controller.dispatch({type:"adjust-slider-by-keyboard",id:n.id,adjustment:"up"}),this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:n.id}})):this.controller.dispatch({type:"move-focus-to-item",id:n.id,where:"start"}));break;case o.TAB:e.preventDefault(),n&&this.controller.dispatch({type:"move-focus-to-item",id:n.id,where:"start"});break;case o.LEFT:e.preventDefault(),n&&("expression"===n.type&&n.sliderExists?(this.controller.dispatch({type:"adjust-slider-by-keyboard",id:n.id,adjustment:"down"}),this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:n.id}})):this.controller.dispatch({type:"move-focus-to-item",id:n.id,where:"end"}));break;case o.BACKSPACE:e.preventDefault(),n&&this.controller.dispatch({type:"upward-delete-selected-expression"});break;case o.DELETE:e.preventDefault(),n&&this.controller.dispatch({type:"downward-delete-selected-expression"});break;case o.ENTER:e.wasHandled("create-expression-with-keyboard")||(e.preventDefault(),e.handle("create-expression-with-keyboard"),n&&this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"}));break;default:if(e.metaKey||e.ctrlKey||t===o.SHIFT||t===o.SPACEBAR)return;n&&("table"===n.type||this.controller.dispatch({type:"move-focus-to-item",id:n.id,where:"end"}))}}else t===o.TAB&&void 0!==s?(i=this.controller.getItemModelByIndex(0))&&(c=("readonly-expression"===s.type&&"expression"===i.type||"table-container"===s.type&&"table"===i.type||s.type===i.type)&&s.id===i.id,r={type:"edit-list-toggle"},s=this.controller.isFocusLocationFocused(r),e.shiftKey&&c?(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-focus-location",location:r})):!e.shiftKey&&s&&(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"move-focus-to-item",id:i.id,where:"table"===i.type?"container":void 0}))):t!==o.UP&&t!==o.DOWN||(i=this.controller.getListModel(),(i=t===o.UP?E.findPrevSelectableItem(i,n.index):E.findNextSelectableItem(i,n.index))&&this.controller.dispatch({type:"move-focus-to-item",id:i.id,where:"table"===i.type?"container":"start"}))}}},D.prototype.onDragPending=function(e,t){var r=this;e.preventDefault(),c.default();var n=e.touches[0].clientY,o=n,i=setTimeout(function(){a(document).off(".dragpending"),r.onDragStart(e,t,n,o)},500);a(document).on("dcg-tapmove.dragpending",function(s){o=s.touches[0].clientY,3<Math.abs(o-n)&&(clearTimeout(i),a(document).off(".dragpending"),r.onDragStart(e,t,n,o))}),a(document).on("dcg-tapend.dragpending",function(){clearTimeout(i),a(document).off(".dragpending")})},D.prototype.onDragStart=function(e,t,r,n){1===e.touches.length&&(e.wasHandled("dcg-longhold")||this.controller.dispatch({type:"start-dragdrop",id:t,grabY:r,mouseY:n}))},D.prototype.onExppanelTapstart=function(e){"mouse"!==e.device&&0===a(e.target).closest(".dcg-expressionitem").length&&c.default()},D.prototype.onPaste=function(e){var t=this,r=this.controller.getGraphSettings().config;if(a=x.default(e)){var n=/^\s*https?:\/\/([a-zA-Z0-9]*\.)?desmos\.com(:[0-9]+)?\/calculator\/./.test(a),o=this.controller.getSelectedItem();if(r.pasteGraphLink&&o&&"folder"===o.type&&n&&""===o.title)return e.stopPropagation(),e.preventDefault(),void b.default(this.controller,a,function(e,t){return t(null,e)});if(!o||"text"!==o.type&&"folder"!==o.type)if(r.pasteGraphLink&&n)e.stopPropagation(),e.preventDefault(),n=r.pasteGraphLinkCallback||function(e,t){return t(null,e)},b.default(this.controller,a,n);else{if(r.pasteTableData&&void 0!==(r=m.parse(a)))return e.stopPropagation(),e.preventDefault(),this.controller.dispatch({type:"paste-table",data:r});var i,a;void 0===(a=m.getExpressions(a))||(e.stopPropagation(),e.preventDefault(),i=[],1===a.length&&a[0].numberList?this.controller.dispatch({type:"append-number-list",latex:a[0].content}):(a.forEach(function(e){i.push({type:"expression",id:t.controller.generateId(),latex:e.content})}),this.controller.dispatch({type:"insert-several-expressions",expressions:i})))}}},D.prototype.onDrop=function(e){!this.controller.areImagesEnabled()||(e=e.dataTransfer&&e.dataTransfer.files)&&this.controller.dispatch({type:"new-images",files:e})},r=D;function D(){var e=null!==L&&L.apply(this,arguments)||this;return e.guid=s.uniqueId("listView"),e}t.default=r}),define("graphing-calc/keypads/dcgview-graphing",["require","exports","tslib","dcgview"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o;o=n.Class,r.__extends(i,o),i.prototype.init=function(){this.controller=this.props.controller(),this.dispatch=this.controller.dispatch,this.s=this.controller.s},r=i;function i(){return null!==o&&o.apply(this,arguments)||this}t.default=r}),define("loadcss!keypad/btn",function(){}),define("keypad/btn",["require","exports","tslib","dcgview","loadcss!./btn"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o;o=n.Class,r.__extends(i,o),i.prototype.template=function(){var e=this;return n.createElement("div",{class:function(){return{"dcg-keypad-btn-container":!0,"dcg-disabled":e.isDisabled()}},style:function(){return{"flex-grow":e.getColSpan()}}},n.createElement("span",{role:n.const("button"),class:this.bindFn(this.getClasses),"dcg-command":this.props.command,"aria-label":this.bindFn(this.getAriaLabel),"aria-disabled":this.bindFn(this.isDisabled),onTap:function(){e.isDisabled()||e.props.onTap()}},n.createElement("span",{class:n.const("dcg-keypad-btn-content")},this.children)))},i.prototype.getClasses=function(){var e={"dcg-keypad-btn":!0,"dcg-keypad-btn-active":this.isActive()},t=this.props.style();switch(t){case"default":e["dcg-btn-light-on-gray"]=!0;break;case"highlight":e["dcg-btn-dark-on-gray"]=!0;break;case"popover":e["dcg-btn-light-gray"]=!0;break;case"blue":e["dcg-btn-short-blue"]=!0;break;case"tall-blue":e["dcg-btn-tall-blue"]=!0;break;default:return t}return e},i.prototype.isActive=function(){return!!this.props.active&&this.props.active()},i.prototype.getAriaLabel=function(){return this.props.ariaLabel?this.props.ariaLabel():this.props.command()},i.prototype.getColSpan=function(){return this.props.colspan?this.props.colspan():void 0},i.prototype.isDisabled=function(){return this.props.disabled&&this.props.disabled()},r=i;function i(){return null!==o&&o.apply(this,arguments)||this}t.default=r}),define("keypad/keys",["require","exports","./btn","dcgview-helpers/static-mathquill-view","dcgview"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spacer=t.view=void 0;var i=o.Components,a=i.IfElse,s=i.If,c=i.Switch;function l(e,t){return void 0===e?o.const(t):"function"==typeof e?e:o.const(e)}function u(e){return function(t,i,s,c){return void 0===s&&(s={}),o.createElement(r.default,{command:o.const(e.command||e.typedText||e.keys[0]),ariaLabel:function(){return e.ariaLabelKey?c(e.ariaLabelKey):e.typedText||e.keys[0]},colspan:l(s.colspan,1),style:function(){return s.style||"default"},onTap:function(){return i({type:"keypad/type-text",text:e.typedText||e.keys[0]})}},a(function(){return"{"===e.keys[0]||"["===e.keys[0]},{true:function(){return o.createElement("span",{class:o.const("dcg-mq-math-mode"),style:o.const("font-size: 120%")},o.const(e.keys[0]),o.const(" "),o.createElement("span",{style:o.const("color: #999")},o.const(e.keys[1])))},false:function(){return o.createElement("span",{class:o.const("dcg-either-or-btn")},o.createElement(n.default,{config:o.const({}),latex:o.const(e.keys[0])}),o.createElement("span",{style:o.const("color: #999")},o.createElement(n.default,{config:o.const({}),latex:o.const(e.keys[1])})))}}))}}function d(e){return function(t,i,s,c){return void 0===s&&(s={}),o.createElement(r.default,{command:o.const(e.command||e.typedText||e.keys[1]),ariaLabel:function(){return e.ariaLabelKey?c(e.ariaLabelKey):e.typedText||e.keys[0]},colspan:l(s.colspan,1),style:l(s.style,"default"),onTap:function(){return i({type:"keypad/type-text",text:e.typedText||e.keys[1]})}},a(function(){return"}"===e.keys[1]||"]"===e.keys[1]},{true:function(){return o.createElement("span",{class:o.const("dcg-mq-math-mode"),style:o.const("font-size: 120%")},o.createElement("span",{style:o.const("color: #999")},o.const(e.keys[0])),o.const(" "),o.const(e.keys[1]))},false:function(){return o.createElement("span",null,o.createElement("span",{style:o.const("color: #999")},o.createElement(n.default,{config:o.const({}),latex:o.const(e.keys[0])})),o.createElement(n.default,{config:o.const({}),latex:o.const(e.keys[1])}))}}))}}function p(e){return function(t,i,a,s){return void 0===a&&(a={}),o.createElement(r.default,{command:o.const(e.command||t),ariaLabel:function(){return e.ariaLabelKey?s(e.ariaLabelKey):t},colspan:l(a.colspan,1),style:function(){return a.style||"default"},onTap:function(){return i({type:"keypad/type-text",text:e.typedText||t})}},o.createElement(n.default,{config:o.const({}),latex:o.const(e.content||t)}))}}function h(e){return function(t,n,i,a){return void 0===i&&(i={}),o.createElement(r.default,{command:o.const(e.command||t),ariaLabel:function(){return e.ariaLabelKey?a(e.ariaLabelKey):t},colspan:l(i.colspan,1),style:function(){return i.style||"default"},onTap:function(){return n({type:"keypad/type-text",text:e.typedText||t})}},o.createElement("span",{class:o.const("dcg-mq-math-mode")},o.const(e.content||t)))}}function f(e){return function(t,i,a,s){return void 0===a&&(a={}),o.createElement(r.default,{command:o.const(t),ariaLabel:function(){return e.ariaLabelKey?s(e.ariaLabelKey):t},colspan:l(a.colspan,1),style:function(){return a.style||"default"},onTap:function(){return i({type:"keypad/type-text",text:t+"("})}},o.createElement(c,{key:function(){return t.match(/^[a-z]{2,}$/)}},function(e){return e?o.createElement("span",{class:o.const("dcg-mq-math-mode dcg-static-mathquill-view")},o.createElement("span",{class:o.const("dcg-mq-root-block")},o.createElement("span",{class:o.const("dcg-mq-operator-name")},function(){return t}))):o.createElement(n.default,{config:o.const({}),latex:o.const(t)})}))}}function g(e){return function(t,i,a,s){return void 0===a&&(a={}),o.createElement(r.default,{command:o.const(e.command),ariaLabel:function(){return e.ariaLabelKey?s(e.ariaLabelKey):e.command},colspan:l(a.colspan,1),style:function(){return a.style||"default"},onTap:function(){i({type:"keypad/custom-command",command:e.command})}},o.createElement(n.default,{config:o.const({}),latex:o.const(e.content)}))}}var m,y={"{":h({ariaLabelKey:"shared-calculator-narration-keypad-key-left-bracket"}),"}":h({ariaLabelKey:"shared-calculator-narration-keypad-key-right-bracket"}),"(":p({ariaLabelKey:"shared-calculator-narration-keypad-key-left-paren"}),")":p({ariaLabelKey:"shared-calculator-narration-keypad-key-right-paren"}),sqrt:p({content:"\\sqrt{}",ariaLabelKey:"shared-calculator-narration-keypad-key-sqrt"}),"/":p({ariaLabelKey:"shared-calculator-narration-keypad-key-divide"}),division:p({content:"",typedText:"/",command:"/",ariaLabelKey:"shared-calculator-narration-keypad-key-divide"}),obelus:p({content:"",typedText:"",ariaLabelKey:"shared-calculator-narration-keypad-key-divide"}),"*":p({ariaLabelKey:"shared-calculator-narration-keypad-key-times"}),multiplication:p({content:"",typedText:"*",command:"*",ariaLabelKey:"shared-calculator-narration-keypad-key-times"}),"-":p({ariaLabelKey:"shared-calculator-narration-keypad-key-minus"}),"+":p({ariaLabelKey:"shared-calculator-narration-keypad-key-plus"}),".":p({ariaLabelKey:"shared-calculator-narration-keypad-key-decimal"}),ans:function(e,t,n,i){return void 0===n&&(n={}),o.createElement(r.default,{command:o.const(e),ariaLabel:function(){return i("shared-calculator-narration-keypad-key-ans")},colspan:l(n.colspan,1),style:function(){return n.style||"default"},onTap:function(){return t({type:"keypad/type-text",text:e})}},o.const("ans"))},enter:function(e,t,n,i){return void 0===n&&(n={}),o.createElement(r.default,{command:o.const(e),ariaLabel:function(){return i("shared-calculator-narration-keypad-key-enter")},colspan:l(n.colspan,1),style:function(){return n.style||"default"},onTap:function(){return t({type:"keypad/press-key",key:"Enter"})}},o.createElement("i",{class:o.const("dcg-icon-arrow-enter"),"aria-hidden":o.const("true")}))},shift:function(e,t,n,i){return void 0===n&&(n={}),o.createElement(r.default,{command:o.const(e),ariaLabel:function(){return i("shared-calculator-narration-keypad-key-shift")},colspan:l(n.colspan,1),style:function(){return n.style||"default"},active:l(n.active,!1),onTap:function(){return t({type:"keypad/shift"})}},o.createElement("i",{class:o.const("dcg-icon-shift"),"aria-hidden":o.const("true")}))},left:function(e,t,n,i){return void 0===n&&(n={}),o.createElement(r.default,{command:o.const(e),ariaLabel:function(){return i("shared-calculator-narration-keypad-key-left-arrow")},colspan:l(n.colspan,1),style:function(){return n.style||"default"},onTap:function(){return t({type:"keypad/press-key",key:"Left"})}},o.createElement("i",{class:o.const("dcg-icon-arrow-left"),"aria-hidden":o.const("true")}))},right:function(e,t,n,i){return void 0===n&&(n={}),o.createElement(r.default,{command:o.const(e),ariaLabel:function(){return i("shared-calculator-narration-keypad-key-right-arrow")},colspan:l(n.colspan,1),style:function(){return n.style||"default"},onTap:function(){return t({type:"keypad/press-key",key:"Right"})}},o.createElement("i",{class:o.const("dcg-icon-arrow-right"),"aria-hidden":o.const("true")}))},123:function(e,t,n,i){return void 0===n&&(n={}),o.createElement(r.default,{command:o.const(e),ariaLabel:function(){return i("shared-calculator-narration-keypad-key-toggle-numbers")},colspan:l(n.colspan,1),style:function(){return n.style||"default"},onTap:function(){return t({type:"keypad/123"})}},o.const("1 2 3"))},ABC:function(e,t,n,i){return void 0===n&&(n={}),o.createElement(r.default,{command:o.const(e),ariaLabel:function(){return i("shared-calculator-narration-keypad-key-toggle-letters")},colspan:l(n.colspan,1),style:function(){return n.style||"default"},onTap:function(){return t({type:"keypad/abc"})}},o.const("A B C"))},Audio:function(e,t,n,i){return void 0===n&&(n={}),o.createElement(r.default,{command:o.const(e),ariaLabel:function(){return i("shared-calculator-narration-keypad-key-toggle-audio-trace")},colspan:l(n.colspan,1),style:function(){return n.style||"default"},onTap:function(){return t({type:"keypad/audio-trace",command:"on"})}},o.createElement("i",{class:o.const("dcg-icon-volume"),"aria-hidden":o.const("true")}))},backspace:function(e,t,n,i){return void 0===n&&(n={}),o.createElement(r.default,{command:o.const(e),ariaLabel:function(){return i("shared-calculator-narration-keypad-key-backspace")},colspan:l(n.colspan,1),style:function(){return n.style||"default"},onTap:function(){return t({type:"keypad/press-key",key:"Backspace"})}},o.createElement("i",{class:o.const("dcg-icon-delete"),"aria-hidden":o.const("true")}))},pi:p({content:"\\pi",ariaLabelKey:"shared-calculator-narration-keypad-key-pi"}),alpha:p({content:"\\alpha",ariaLabelKey:"shared-calculator-narration-keypad-key-alpha"}),beta:p({content:"\\beta",ariaLabelKey:"shared-calculator-narration-keypad-key-beta"}),theta:p({content:"\\theta",ariaLabelKey:"shared-calculator-narration-keypad-key-theta"}),tau:p({content:"\\tau",ariaLabelKey:"shared-calculator-narration-keypad-key-tau"}),"a^2":g({command:"a^2",content:"a^2",ariaLabelKey:"shared-calculator-narration-keypad-key-squared"}),"a^3":g({command:"a^3",content:"a^3",ariaLabelKey:"shared-calculator-narration-keypad-key-cubed"}),"x^3":g({command:"a^3",content:"x^3",ariaLabelKey:"shared-calculator-narration-keypad-key-cubed"}),"a^b":p({content:"a^b",typedText:"^",ariaLabelKey:"shared-calculator-narration-keypad-key-superscript"}),a_b:p({content:"a_b",typedText:"_",ariaLabelKey:"shared-calculator-narration-keypad-key-subscript"}),"a/b":g({content:"\\frac{a}{b}",command:"a/b",ariaLabelKey:"shared-calculator-narration-keypad-key-fraction"}),"x^2":g({command:"a^2",content:"x^2",ariaLabelKey:"shared-calculator-narration-keypad-key-squared"}),"x^y":p({content:"x^y",typedText:"^",ariaLabelKey:"shared-calculator-narration-keypad-key-superscript"}),"x/y":p({content:"\\frac{x}{y}",typedText:"/",ariaLabelKey:"shared-calculator-narration-keypad-key-fraction"}),nthroot:g({command:"nthroot",content:"\\sqrt[n]{}",ariaLabelKey:"shared-calculator-narration-keypad-key-nthroot"}),ythroot:g({command:"nthroot",content:"\\sqrt[y]{}",ariaLabelKey:"shared-calculator-narration-keypad-key-ythroot"}),sin:f({ariaLabelKey:"shared-calculator-narration-keypad-key-sin"}),cos:f({ariaLabelKey:"shared-calculator-narration-keypad-key-cos"}),tan:f({ariaLabelKey:"shared-calculator-narration-keypad-key-tan"}),sec:f({ariaLabelKey:"shared-calculator-narration-keypad-key-sec"}),csc:f({ariaLabelKey:"shared-calculator-narration-keypad-key-csc"}),cot:f({ariaLabelKey:"shared-calculator-narration-keypad-key-cot"}),sinh:f({ariaLabelKey:"shared-calculator-narration-keypad-key-sinh"}),cosh:f({ariaLabelKey:"shared-calculator-narration-keypad-key-cosh"}),tanh:f({ariaLabelKey:"shared-calculator-narration-keypad-key-tanh"}),sech:f({ariaLabelKey:"shared-calculator-narration-keypad-key-csch"}),csch:f({ariaLabelKey:"shared-calculator-narration-keypad-key-csch"}),coth:f({ariaLabelKey:"shared-calculator-narration-keypad-key-coth"}),arcsin:g({command:"arcsin",content:"sin^{-1}",ariaLabelKey:"shared-calculator-narration-keypad-key-arcsin"}),arccos:g({command:"arccos",content:"cos^{-1}",ariaLabelKey:"shared-calculator-narration-keypad-key-arccos"}),arctan:g({command:"arctan",content:"tan^{-1}",ariaLabelKey:"shared-calculator-narration-keypad-key-arctan"}),arccsc:g({command:"arccsc",content:"csc^{-1}",ariaLabelKey:"shared-calculator-narration-keypad-key-arccsc"}),arcsec:g({command:"arcsec",content:"sec^{-1}",ariaLabelKey:"shared-calculator-narration-keypad-key-arcsec"}),arccot:g({command:"arccot",content:"cot^{-1}",ariaLabelKey:"shared-calculator-narration-keypad-key-arccot"}),"|a|":p({typedText:"|",ariaLabelKey:"shared-calculator-narration-keypad-key-abs"}),"|x|":p({typedText:"|",ariaLabelKey:"shared-calculator-narration-keypad-key-abs"}),ln:f({ariaLabelKey:"shared-calculator-narration-keypad-key-ln"}),log:f({ariaLabelKey:"shared-calculator-narration-keypad-key-log"}),quantile:f({ariaLabelKey:"shared-calculator-narration-keypad-key-quantile"}),quartile:f({ariaLabelKey:"shared-calculator-narration-keypad-key-quartile"}),var:f({}),varp:f({}),nCr:f({}),loga:g({command:"loga",content:"log_a",ariaLabelKey:"shared-calculator-narration-keypad-key-loga"}),stdev:f({ariaLabelKey:"shared-calculator-narration-keypad-key-stdev"}),mad:f({}),nPr:f({}),total:f({}),length:f({}),for:f({}),min:f({}),max:f({}),cov:f({ariaLabelKey:"shared-calculator-narration-keypad-key-cov"}),covp:f({ariaLabelKey:"shared-calculator-narration-keypad-key-covp"}),corr:f({ariaLabelKey:"shared-calculator-narration-keypad-key-corr"}),spearman:f({ariaLabelKey:"shared-calculator-narration-keypad-key-spearman"}),stats:f({ariaLabelKey:"shared-calculator-narration-keypad-key-stats"}),polygon:f({ariaLabelKey:"shared-calculator-narration-keypad-key-polygon"}),distance:f({ariaLabelKey:"shared-calculator-narration-keypad-key-distance"}),midpoint:f({ariaLabelKey:"shared-calculator-narration-keypad-key-midpoint"}),mean:f({ariaLabelKey:"shared-calculator-narration-keypad-key-mean"}),stdevp:f({ariaLabelKey:"shared-calculator-narration-keypad-key-stdevp"}),mod:f({}),"e^x":p({typedText:"e^",ariaLabelKey:"shared-calculator-narration-keypad-key-exp"}),"10^n":p({content:"\\times10^{n}",typedText:"*10^",ariaLabelKey:"shared-calculator-narration-keypad-key-10-n"}),"a^{-1}":p({typedText:"^-1",ariaLabelKey:"shared-calculator-narration-keypad-key-reciprocal"}),sum:p({content:"\\sum",ariaLabelKey:"shared-calculator-narration-keypad-key-sum"}),prod:p({content:"\\prod",ariaLabelKey:"shared-calculator-narration-keypad-key-product"}),floor:f({ariaLabelKey:"shared-calculator-narration-keypad-key-floor"}),ceil:f({ariaLabelKey:"shared-calculator-narration-keypad-key-ceil"}),round:f({ariaLabelKey:"shared-calculator-narration-keypad-key-round"}),abs:f({ariaLabelKey:"shared-calculator-narration-keypad-key-abs"}),"!":p({ariaLabelKey:"shared-calculator-narration-keypad-key-factorial"}),"n!":p({typedText:"!",ariaLabelKey:"shared-calculator-narration-keypad-key-factorial"}),median:f({ariaLabelKey:"shared-calculator-narration-keypad-key-median"}),lcm:f({}),gcd:f({}),gcf:f({}),ddx:g({command:"ddx",content:"\\frac{d}{dx}"}),int:p({content:"\\int",ariaLabelKey:"shared-calculator-narration-keypad-key-int"}),"%":p({content:"\\%",ariaLabelKey:"shared-calculator-narration-keypad-key-percent-of"}),"->":p({content:"\\to",ariaLabelKey:"shared-calculator-narration-keypad-key-action-to"}),prime:p({typedText:"'",content:"f'",ariaLabelKey:"shared-calculator-narration-keypad-key-prime"}),exp:p({}),sign:f({}),normaldist:f({ariaLabelKey:"shared-calculator-narration-keypad-key-normaldist"}),poissondist:f({ariaLabelKey:"shared-calculator-narration-keypad-key-poissondist"}),binomialdist:f({ariaLabelKey:"shared-calculator-narration-keypad-key-binomialdist"}),uniformdist:f({ariaLabelKey:"shared-calculator-narration-keypad-key-uniformdist"}),erf:f({ariaLabelKey:"shared-calculator-narration-keypad-key-erf"}),histogram:f({ariaLabelKey:"shared-calculator-narration-keypad-key-histogram"}),boxplot:f({ariaLabelKey:"shared-calculator-narration-keypad-key-boxplot"}),dotplot:f({ariaLabelKey:"shared-calculator-narration-keypad-key-dotplot"}),tscore:f({ariaLabelKey:"shared-calculator-narration-keypad-key-tscore"}),ittest:f({ariaLabelKey:"shared-calculator-narration-keypad-key-ittest"}),ttest:f({ariaLabelKey:"shared-calculator-narration-keypad-key-ttest"}),tdist:f({ariaLabelKey:"shared-calculator-narration-keypad-key-tdist"}),pdf:f({ariaLabelKey:"shared-calculator-narration-keypad-key-pdf"}),cdf:f({ariaLabelKey:"shared-calculator-narration-keypad-key-pdf"}),random:f({ariaLabelKey:"shared-calculator-narration-keypad-key-random"}),inversecdf:f({ariaLabelKey:"shared-calculator-narration-keypad-key-inversecdf"}),sort:f({}),shuffle:f({}),unique:f({}),join:f({}),"A^-1":g({command:"A^-1",content:"A^{-1}",ariaLabelKey:"matrix-calculator-narration-keypad-key-inverse"}),"A^T":g({command:"A^T",content:"A^T",ariaLabelKey:"matrix-calculator-narration-keypad-key-transpose"}),"A^2":g({command:"A^2",content:"A^2",ariaLabelKey:"shared-calculator-narration-keypad-key-squared"}),"A^n":p({content:"A^n",typedText:"^",ariaLabelKey:"shared-calculator-narration-keypad-key-exp"}),det:f({ariaLabelKey:"matrix-calculator-narration-keypad-key-det"}),trace:f({ariaLabelKey:"matrix-calculator-narration-keypad-key-trace"}),rref:f({ariaLabelKey:"matrix-calculator-narration-keypad-key-rref"}),a:p({}),b:p({}),c:p({}),d:p({}),e:p({}),f:p({}),g:p({}),h:p({}),i:p({}),j:p({}),k:p({}),l:p({}),m:p({}),n:p({}),o:p({}),p:p({}),q:p({}),r:p({}),s:p({}),t:p({}),u:p({}),v:p({}),w:p({}),x:p({}),boldX:p({content:"x",typedText:"x"}),y:p({}),boldY:p({content:"y",typedText:"y"}),z:p({}),A:p({}),B:p({}),C:p({}),D:p({}),E:p({}),F:p({}),G:p({}),H:p({}),I:p({}),J:p({}),K:p({}),L:p({}),M:p({}),N:p({}),O:p({}),P:p({}),Q:p({}),R:p({}),S:p({}),T:p({}),U:p({}),V:p({}),W:p({}),X:p({}),Y:p({}),Z:p({}),0:p({}),1:p({}),2:p({}),3:p({}),4:p({}),5:p({}),6:p({}),7:p({}),8:p({}),9:p({}),",":p({}),"=":p({}),"[":p({}),"]":p({}),"{}_left":u({keys:["{","}"]}),"{}_right":d({keys:["{","}"]}),"()_left":u({keys:["(",")"]}),"()_right":d({keys:["(",")"]}),"[]_left":u({keys:["[","]"]}),"[]_right":d({keys:["[","]"]}),",'_left":u({keys:[",",""]}),",'_right":d({keys:[",",""],typedText:"'"}),'"':p({}),"'":p({}),"~":p({}),":":p({}),">":p({}),"<":p({}),">=":p({content:"\\ge"}),"<=":p({content:"\\le"}),"!%_left":u({keys:["!","{}^{%}"]}),"!%_right":d({keys:["!","{}^{%}"],typedText:"%"}),"~:_left":u({keys:["~","{}^{:}"]}),"~:_right":d({keys:["~","{}^{:}"],typedText:":"}),"audio-trace-off":(m={contentKey:"graphing-calculator-button-keypad-audio-trace-off",command:"off"},function(e,t,n,i){return void 0===n&&(n={}),o.createElement(r.default,{command:o.const(m.command),ariaLabel:function(){return m.ariaLabelKey?i(m.ariaLabelKey):e},colspan:l(n.colspan,1),style:function(){return n.style||"default"},onTap:function(){t({type:"keypad/audio-trace",command:m.command})}},o.createElement(s,{predicate:o.const(void 0!==m.iconClass)},function(){return o.createElement("span",{class:function(){return{"dcg-button-icon":!0,"dcg-icon-only":void 0===m.contentKey}}},o.createElement("i",{class:o.const(m.iconClass),"aria-hidden":o.const("true")}))}),o.createElement(s,{predicate:o.const(void 0!==m.contentKey)},function(){return o.createElement("span",null,function(){return i(m.contentKey)||e})}))}),"hear-graph":function(e,t,n,i){return void 0===n&&(n={}),o.createElement(r.default,{command:o.const(e),disabled:l(n.disabled,!1),colspan:l(n.colspan,1),style:l(n.style,"blue"),onTap:function(){t({type:"keypad/audio-trace",command:"hear-graph"})}},o.createElement("span",{class:o.const("dcg-play-icon-container")},o.createElement("i",{class:o.const("dcg-icon-play"),"aria-hidden":o.const("true")})),o.createElement("span",null,function(){return i("graphing-calculator-button-audio-trace-hear-graph")}))},"stop-graph":function(e,t,n,i){return void 0===n&&(n={}),o.createElement(r.default,{command:o.const(e),disabled:l(n.disabled,!1),colspan:l(n.colspan,1),style:l(n.style,"blue"),onTap:function(){t({type:"keypad/audio-trace",command:"stop-graph"})}},o.createElement("span",{class:o.const("dcg-stop-icon-container")},o.createElement("span",{class:o.const("dcg-stop-icon")})),o.createElement("span",null,function(){return i("graphing-calculator-button-audio-trace-stop-graph")}))},"volume-down":function(e,t,n,i){return void 0===n&&(n={}),o.createElement(r.default,{command:o.const(e),ariaLabel:function(){return i("graphing-calculator-narration-keypad-key-volume-down")},disabled:l(n.disabled,!1),style:function(){return n.style||"default"},onTap:function(){return t({type:"keypad/audio-trace",command:"volume-down"})}},o.createElement("span",{class:o.const("dcg-button-icon dcg-icon-only")},o.createElement("i",{class:o.const("dcg-icon-volume-down"),"aria-hidden":o.const("true")})))},"volume-up":function(e,t,n,i){return void 0===n&&(n={}),o.createElement(r.default,{command:o.const(e),ariaLabel:function(){return i("graphing-calculator-narration-keypad-key-volume-up")},disabled:l(n.disabled,!1),style:function(){return n.style||"default"},onTap:function(){return t({type:"keypad/audio-trace",command:"volume-up"})}},o.createElement("span",{class:o.const("dcg-button-icon dcg-icon-only")},o.createElement("i",{class:o.const("dcg-icon-volume-up"),"aria-hidden":o.const("true")})))},"speed-down":function(e,t,n,i){return void 0===n&&(n={}),o.createElement(r.default,{command:o.const(e),ariaLabel:function(){return i("graphing-calculator-narration-keypad-key-speed-down")},disabled:l(n.disabled,!1),style:function(){return n.style||"default"},onTap:function(){return t({type:"keypad/audio-trace",command:"speed-down"})}},o.createElement("span",{class:o.const("dcg-button-icon dcg-icon-only")},o.createElement("i",{class:o.const("dcg-icon-hide"),"aria-hidden":o.const("true")})))},"speed-up":function(e,t,n,i){return void 0===n&&(n={}),o.createElement(r.default,{command:o.const(e),ariaLabel:function(){return i("graphing-calculator-narration-keypad-key-speed-up")},disabled:l(n.disabled,!1),style:function(){return n.style||"default"},onTap:function(){return t({type:"keypad/audio-trace",command:"speed-up"})}},o.createElement("span",{class:o.const("dcg-button-icon dcg-icon-only")},o.createElement("i",{class:o.const("dcg-icon-show"),"aria-hidden":o.const("true")})))},"previous-point":function(e,t,n,i){return void 0===n&&(n={}),o.createElement(r.default,{ariaLabel:function(){return i("graphing-calculator-narration-keypad-key-previous-point")},command:o.const(e),disabled:l(n.disabled,!1),colspan:l(n.colspan,1),style:function(){return n.style||"default"},onTap:function(){return t({type:"keypad/audio-trace",command:"previous-point"})}},o.createElement("span",{class:o.const("dcg-button-icon dcg-icon-only")},o.createElement("i",{class:o.const("dcg-icon-thin-arrow-left"),"aria-hidden":o.const("true")})))},"next-point":function(e,t,n,i){return void 0===n&&(n={}),o.createElement(r.default,{ariaLabel:function(){return i("graphing-calculator-narration-keypad-key-next-point")},command:o.const(e),disabled:l(n.disabled,!1),colspan:l(n.colspan,1),style:function(){return n.style||"default"},onTap:function(){return t({type:"keypad/audio-trace",command:"next-point"})}},o.createElement("span",{class:o.const("dcg-button-icon dcg-icon-only")},o.createElement("i",{class:o.const("dcg-icon-thin-arrow-right"),"aria-hidden":o.const("true")})))},"previous-poi":function(e,t,n,i){return void 0===n&&(n={}),o.createElement(r.default,{ariaLabel:function(){return i("graphing-calculator-narration-keypad-key-previous-poi")},command:o.const(e),disabled:l(n.disabled,!1),colspan:l(n.colspan,1),style:function(){return n.style||"default"},onTap:function(){return t({type:"keypad/audio-trace",command:"previous-poi"})}},o.createElement("span",{class:o.const("dcg-button-icon dcg-icon-only")},o.createElement("i",{class:o.const("dcg-icon-hide"),"aria-hidden":o.const("true")})))},"next-poi":function(e,t,n,i){return void 0===n&&(n={}),o.createElement(r.default,{ariaLabel:function(){return i("graphing-calculator-narration-keypad-key-next-poi")},command:o.const(e),disabled:l(n.disabled,!1),colspan:l(n.colspan,1),style:function(){return n.style||"default"},onTap:function(){return t({type:"keypad/audio-trace",command:"next-poi"})}},o.createElement("span",{class:o.const("dcg-button-icon dcg-icon-only")},o.createElement("i",{class:o.const("dcg-icon-show"),"aria-hidden":o.const("true")})))},"previous-curve":function(e,t,n,i){return void 0===n&&(n={}),o.createElement(r.default,{ariaLabel:function(){return i("graphing-calculator-narration-keypad-key-previous-curve")},command:o.const(e),disabled:l(n.disabled,!1),colspan:l(n.colspan,1),style:function(){return n.style||"default"},onTap:function(){return t({type:"keypad/audio-trace",command:"previous-curve"})}},o.createElement("span",{class:o.const("dcg-button-icon dcg-icon-only")},o.createElement("i",{class:o.const("dcg-icon-caret-up"),"aria-hidden":o.const("true")})))},"next-curve":function(e,t,n,i){return void 0===n&&(n={}),o.createElement(r.default,{ariaLabel:function(){return i("graphing-calculator-narration-keypad-key-next-curve")},command:o.const(e),disabled:l(n.disabled,!1),style:function(){return n.style||"default"},onTap:function(){return t({type:"keypad/audio-trace",command:"next-curve"})}},o.createElement("span",{class:o.const("dcg-button-icon dcg-icon-only")},o.createElement("i",{class:o.const("dcg-icon-caret-down"),"aria-hidden":o.const("true")})))}};t.view=function(e,t,r){void 0===r&&(r={});var n=e.dispatch;return y[t](t,n,r,e.s)},t.spacer=function(e){return void 0===e&&(e=1),o.createElement("div",{style:o.const("flex-grow:"+e)})}}),define("keypad/dcgview-keypad",["require","exports","tslib","dcgview"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o;o=n.Class,r.__extends(i,o),i.prototype.init=function(){this.controller=this.props.controller()},r=i;function i(){return null!==o&&o.apply(this,arguments)||this}t.default=r}),define("loadcss!keypad/keypad",function(){}),define("keypad/keypad",["require","exports","tslib","dcgview","./dcgview-keypad","loadcss!./keypad"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i;i=o.default,r.__extends(a,i),a.prototype.template=function(){return n.createElement("div",{class:n.const("dcg-basic-keypad dcg-do-not-blur")},this.children)},r=a;function a(){return null!==i&&i.apply(this,arguments)||this}t.default=r}),define("loadcss!keypad/row",function(){}),define("keypad/row",["require","exports","tslib","dcgview","loadcss!./row"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o;o=n.Class,r.__extends(i,o),i.prototype.template=function(){return n.createElement("div",{class:n.const("dcg-keypad-row")},this.children)},r=i;function i(){return null!==o&&o.apply(this,arguments)||this}t.default=r}),define("graphing-calc/keypads/qwerty",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/row"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c;c=o.default,r.__extends(l,c),l.prototype.template=function(){return n.createElement(a.default,{controller:this.props.controller},n.createElement(s.default,null,i.view(this,"q"),i.view(this,"w"),i.view(this,"e"),i.view(this,"r"),i.view(this,"t"),i.view(this,"y"),i.view(this,"u"),i.view(this,"i"),i.view(this,"o"),i.view(this,"p")),n.createElement(s.default,null,i.view(this,"a"),i.view(this,"s"),i.view(this,"d"),i.view(this,"f"),i.view(this,"g"),i.view(this,"h"),i.view(this,"j"),i.view(this,"k"),i.view(this,"l"),i.view(this,"theta")),n.createElement(s.default,null,i.view(this,"shift",{colspan:1.364,style:"highlight"}),i.spacer(.136),i.view(this,"z"),i.view(this,"x"),i.view(this,"c"),i.view(this,"v"),i.view(this,"b"),i.view(this,"n"),i.view(this,"m"),i.spacer(.136),i.view(this,"backspace",{colspan:1.364,style:"highlight"})),n.createElement(s.default,null,i.view(this,"123",{colspan:1.818,style:"highlight"}),i.spacer(.182),i.view(this,"a_b"),i.view(this,"!%_left"),i.view(this,"[]_left"),i.view(this,"{}_left"),i.view(this,"~:_left"),i.view(this,",'_left"),i.spacer(.182),i.view(this,"enter",{colspan:1.818,style:"blue"})))},r=l;function l(){return null!==c&&c.apply(this,arguments)||this}t.default=r}),define("graphing-calc/keypads/qwerty-capital",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/row"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c;c=o.default,r.__extends(l,c),l.prototype.template=function(){return n.createElement(a.default,{controller:this.props.controller},n.createElement(s.default,null,i.view(this,"Q"),i.view(this,"W"),i.view(this,"E"),i.view(this,"R"),i.view(this,"T"),i.view(this,"Y"),i.view(this,"U"),i.view(this,"I"),i.view(this,"O"),i.view(this,"P")),n.createElement(s.default,null,i.view(this,"A"),i.view(this,"S"),i.view(this,"D"),i.view(this,"F"),i.view(this,"G"),i.view(this,"H"),i.view(this,"J"),i.view(this,"K"),i.view(this,"L"),i.view(this,"tau")),n.createElement(s.default,null,i.view(this,"shift",{colspan:1.364,active:!0,style:"highlight"}),i.spacer(.136),i.view(this,"Z"),i.view(this,"X"),i.view(this,"C"),i.view(this,"V"),i.view(this,"B"),i.view(this,"N"),i.view(this,"M"),i.spacer(.136),i.view(this,"backspace",{colspan:1.364,style:"highlight"})),n.createElement(s.default,null,i.view(this,"123",{colspan:1.818,style:"highlight"}),i.spacer(.182),i.view(this,"a^b"),i.view(this,"!%_right"),i.view(this,"[]_right"),i.view(this,"{}_right"),i.view(this,"~:_right"),i.view(this,",'_right"),i.spacer(.182),i.view(this,"enter",{colspan:1.818,style:"blue"})))},r=l;function l(){return null!==c&&c.apply(this,arguments)||this}t.default=r}),define("graphing-calc/keypads/numbers",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/row","keypad/btn"],function(e,t,r,n,o,i,a,s,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l;l=o.default,r.__extends(u,l),u.prototype.template=function(){var e=this;return n.createElement(a.default,{controller:this.props.controller},n.createElement(s.default,null,i.view(this,"boldX"),i.view(this,"boldY"),i.view(this,"a^2"),i.view(this,"a^b"),i.spacer(.5),i.view(this,"7",{style:"highlight"}),i.view(this,"8",{style:"highlight"}),i.view(this,"9",{style:"highlight"}),i.view(this,"division"),i.spacer(.5),n.createElement(c.default,{command:this.const("functions"),ariaLabel:function(){return e.controller.s("graphing-calculator-narration-functions")},colspan:this.const(2),style:this.const("highlight"),active:function(){return e.controller.isKeypadFunctionsPopoverOpen()},onTap:function(){return e.dispatch({type:"keypad/functions"})}},this.bindFn(this.getFuncsBtnText))),n.createElement(s.default,null,i.view(this,"("),i.view(this,")"),i.view(this,"<"),i.view(this,">"),i.spacer(.5),i.view(this,"4",{style:"highlight"}),i.view(this,"5",{style:"highlight"}),i.view(this,"6",{style:"highlight"}),i.view(this,"multiplication"),i.spacer(.5),i.view(this,"left",{style:"highlight"}),i.view(this,"right",{style:"highlight"})),n.createElement(s.default,null,i.view(this,"|a|"),i.view(this,","),i.view(this,"<="),i.view(this,">="),i.spacer(.5),i.view(this,"1",{style:"highlight"}),i.view(this,"2",{style:"highlight"}),i.view(this,"3",{style:"highlight"}),i.view(this,"-"),i.spacer(1),i.view(this,"backspace",{colspan:1.5,style:"highlight"})),n.createElement(s.default,null,n.createElement("div",{class:n.const("dcg-abc-audio-container")},n.createElement(c.default,{command:n.const("ABC"),colspan:this.const(1),ariaLabel:function(){return e.controller.s("graphing-calculator-narration-toggle-letters")},style:this.const("highlight"),onTap:function(){e.dispatch({type:"keypad/abc"})}},function(){return e.controller.getLayoutMeasurements().width<=600?e.controller.raw("ABC"):e.controller.raw("A B C")}),n.createElement(c.default,{command:n.const("Audio"),disabled:function(){return!e.controller.canAudioTrace()},ariaLabel:function(){return e.controller.s("graphing-calculator-narration-toggle-audio-trace")},colspan:this.const(1),style:function(){return"highlight"},onTap:function(){return e.dispatch({type:"keypad/audio-trace",command:"on"})}},n.createElement("i",{class:n.const("dcg-icon-volume"),"aria-hidden":n.const("true")}))),i.view(this,"sqrt"),i.view(this,"pi"),i.spacer(.5),i.view(this,"0",{style:"highlight"}),i.view(this,".",{style:"highlight"}),i.view(this,"="),i.view(this,"+"),i.spacer(.5),i.view(this,"enter",{colspan:2,style:"blue"})))},u.prototype.getFuncsBtnText=function(){return this.controller.isNarrow()?this.controller.s("graphing-calculator-button-funcs"):this.controller.s("graphing-calculator-button-functions")},r=u;function u(){return null!==l&&l.apply(this,arguments)||this}t.default=r}),define("graphing-calc/keypads/letters",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/row"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c;c=o.default,r.__extends(l,c),l.prototype.template=function(){return n.createElement(a.default,{controller:this.props.controller},n.createElement(s.default,null,i.view(this,"a"),i.view(this,"b"),i.view(this,"c"),i.view(this,"d"),i.view(this,"e"),i.view(this,"f"),i.view(this,"g"),i.view(this,"h"),i.view(this,"i"),i.view(this,"j")),n.createElement(s.default,null,i.view(this,"k"),i.view(this,"l"),i.view(this,"m"),i.view(this,"n"),i.view(this,"o"),i.view(this,"p"),i.view(this,"q"),i.view(this,"r"),i.view(this,"s"),i.view(this,"t")),n.createElement(s.default,null,i.view(this,"shift",{style:"highlight"}),i.view(this,"u"),i.view(this,"v"),i.view(this,"w"),i.view(this,"x"),i.view(this,"y"),i.view(this,"z"),i.view(this,"theta"),i.view(this,"backspace",{colspan:2,style:"highlight"})),n.createElement(s.default,null,i.view(this,"123",{colspan:2,style:"highlight"}),i.view(this,"a_b"),i.view(this,"!%_left"),i.view(this,"[]_left"),i.view(this,"{}_left"),i.view(this,"~:_left"),i.view(this,",'_left"),i.view(this,"enter",{colspan:2,style:"blue"})))},r=l;function l(){return null!==c&&c.apply(this,arguments)||this}t.default=r}),define("graphing-calc/keypads/letters-capital",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/row"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c;c=o.default,r.__extends(l,c),l.prototype.template=function(){return n.createElement(a.default,{controller:this.props.controller},n.createElement(s.default,null,i.view(this,"A"),i.view(this,"B"),i.view(this,"C"),i.view(this,"D"),i.view(this,"E"),i.view(this,"F"),i.view(this,"G"),i.view(this,"H"),i.view(this,"I"),i.view(this,"J")),n.createElement(s.default,null,i.view(this,"K"),i.view(this,"L"),i.view(this,"M"),i.view(this,"N"),i.view(this,"O"),i.view(this,"P"),i.view(this,"Q"),i.view(this,"R"),i.view(this,"S"),i.view(this,"T")),n.createElement(s.default,null,i.view(this,"shift",{style:"highlight"}),i.view(this,"U"),i.view(this,"V"),i.view(this,"W"),i.view(this,"X"),i.view(this,"Y"),i.view(this,"Z"),i.view(this,"tau"),i.view(this,"backspace",{colspan:2,style:"highlight"})),n.createElement(s.default,null,i.view(this,"123",{colspan:2,style:"highlight"}),i.view(this,"a^b"),i.view(this,"!%_right"),i.view(this,"[]_right"),i.view(this,"{}_right"),i.view(this,"~:_right"),i.view(this,",'_right"),i.view(this,"enter",{colspan:2,style:"blue"})))},r=l;function l(){return null!==c&&c.apply(this,arguments)||this}t.default=r}),define("loadcss!graphing-calc/keypads/audio",function(){}),define("graphing-calc/keypads/audio",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/btn","../../shared-components/tooltip","graphing/audiograph","shared/dcgviews/localize","loadcss!./audio"],function(e,t,r,n,o,i,a,s,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d,p=n.Components.IfElse;d=o.default,r.__extends(h,d),h.prototype.template=function(){var e=this;return n.createElement(a.default,{controller:this.props.controller},n.createElement("div",{class:n.const("dcg-audio-keypad-container")},n.createElement("div",{class:n.const("dcg-audio-keypad-column dcg-playback-column")},n.createElement(c.Tooltip,{tooltip:this.bindFn(this.getDisabledTooltipText),gravity:this.const("s"),sticky:this.const(!1)},n.createElement("div",{class:n.const("dcg-btn-playback")},p(function(){return e.controller.isAudioTracing()},{true:function(){return i.view(e,"stop-graph",{disabled:e.bindFn(e.isAudioDisabled)})},false:function(){return i.view(e,"hear-graph",{disabled:e.bindFn(e.isAudioDisabled)})}}))),n.createElement("div",{class:n.const("dcg-key-nav-section-container")},n.createElement(c.Tooltip,{tooltip:this.bindFn(this.getDisabledTooltipText),class:this.const("dcg-volume-button-container"),gravity:this.const("s"),sticky:this.const(!1)},n.createElement("div",{class:n.const("dcg-key-nav-section")},i.view(this,"volume-down",{disabled:this.bindFn(this.isVolumeDownDisabled)}),n.createElement("div",{role:n.const("heading"),"aria-level":n.const("2"),class:function(){return{"dcg-key-nav-section-title-container":!0,"dcg-disabled":e.isAudioDisabled()}}},n.createElement("span",{class:n.const("dcg-key-nav-section-title")},function(){return e.controller.s("graphing-calculator-label-audio-trace-volume")}),n.createElement("span",{class:n.const("dcg-keypad-volume-value dcg-key-nav-section-value")},function(){return e.getAudioTraceVolume()})),i.view(this,"volume-up",{disabled:this.bindFn(this.isVolumeUpDisabled)})))),n.createElement("div",{class:n.const("dcg-key-nav-section-container")},n.createElement(c.Tooltip,{tooltip:this.bindFn(this.getDisabledTooltipText),gravity:this.const("s"),sticky:this.const(!1)},n.createElement("div",{class:n.const("dcg-key-nav-section")},i.view(this,"speed-down",{disabled:this.bindFn(this.isSpeedDownDisabled)}),n.createElement("div",{class:function(){return{"dcg-key-nav-section-title-container":!0,"dcg-disabled":e.isAudioDisabled()}},role:n.const("heading"),"aria-level":n.const("2")},n.createElement("span",{class:n.const("dcg-key-nav-section-title")},function(){return e.controller.s("graphing-calculator-label-audio-trace-speed")}),n.createElement("span",{class:n.const("dcg-keypad-speed-value dcg-key-nav-section-value")},function(){return e.getAudioTraceSpeed()})),i.view(this,"speed-up",{disabled:this.bindFn(this.isSpeedUpDisabled)})))),i.view(this,"audio-trace-off",{style:"highlight"})),n.createElement("div",{class:n.const("dcg-audio-keypad-spacer")}),n.createElement("div",{class:n.const("dcg-audio-keypad-column dcg-navigation-column")},n.createElement("span",{class:n.const("dcg-key-section-title dcg-center-col"),role:n.const("heading"),"aria-level":n.const("2")},function(){return e.controller.s("graphing-calculator-heading-audio-trace-navigation")}),n.createElement("div",{class:n.const("dcg-key-nav-section dcg-center-col")},i.view(this,"previous-point",{disabled:this.bindFn(this.isPrevPointDisabled)}),n.createElement("div",{class:n.const("dcg-key-nav-section-title-container"),role:n.const("heading"),"aria-level":n.const("2")},function(){return e.controller.s("graphing-calculator-label-audio-trace-point")}),i.view(this,"next-point",{disabled:this.bindFn(this.isNextPointDisabled)})),n.createElement("div",{class:n.const("dcg-key-nav-section")},i.view(this,"previous-poi",{disabled:this.bindFn(this.isPrevPOIDisabled)}),n.createElement("div",{class:n.const("dcg-key-nav-section-title-container dcg-poi-section-container"),role:n.const("heading"),"aria-level":n.const("2")},n.createElement(u.Localize,{i18n:this.const(this.controller),key:this.const("graphing-calculator-heading-keypad-audio-trace-point-of-interest")},n.createElement("span",{class:n.const("dcg-key-nav-section-value")},n.const("Point")),n.createElement("span",{class:n.const("dcg-key-nav-section-title")},n.const("of Interest")))),i.view(this,"next-poi",{disabled:this.bindFn(this.isNextPOIDisabled)})),n.createElement("div",{class:n.const("dcg-key-nav-section dcg-center-col")},i.view(this,"previous-curve",{disabled:this.bindFn(this.isPrevCurveDisabled)}),n.createElement("div",{class:n.const("dcg-key-nav-section-title-container"),role:n.const("heading"),"aria-level":n.const("2")},function(){return e.controller.s("graphing-calculator-label-audio-trace-curve")}),i.view(this,"next-curve",{disabled:this.bindFn(this.isNextCurveDisabled)}))),n.createElement("div",{class:n.const("dcg-audio-keypad-spacer")}),n.createElement("div",{class:n.const("dcg-audio-keypad-column dcg-screenreader-options")},n.createElement("span",{class:n.const("dcg-key-section-title"),role:n.const("heading"),"aria-level":n.const("2")},function(){return e.layoutWidth()<=460?e.controller.s("graphing-calculator-heading-audio-trace-describe"):e.controller.s("graphing-calculator-heading-audio-trace-screen-reader")},n.createElement(c.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-audio-trace-need-screen-reader")},gravity:this.const("s"),sticky:this.const(!0)},n.createElement("i",{class:n.const("dcg-icon-question-sign"),"aria-hidden":n.const("true")}))),n.createElement(s.default,{command:n.const("describe-point"),colspan:this.const(1),style:this.const("default"),onTap:function(){e.dispatch({type:"keypad/audio-trace",command:"describe-point"})}},n.createElement("span",null,function(){return e.layoutWidth()<=460?e.controller.s("graphing-calculator-button-keypad-describe-point-short"):e.controller.s("graphing-calculator-button-keypad-describe-point")})),n.createElement(s.default,{command:n.const("describe-curve"),colspan:this.const(1),style:this.const("default"),onTap:function(){e.dispatch({type:"keypad/audio-trace",command:"describe-curve"})}},n.createElement("span",null,function(){return e.layoutWidth()<=460?e.controller.s("graphing-calculator-button-keypad-describe-curve-short"):e.controller.s("graphing-calculator-button-keypad-describe-curve")})),n.createElement(s.default,{command:n.const("describe-axes"),colspan:this.const(1),style:this.const("default"),onTap:function(){e.dispatch({type:"keypad/audio-trace",command:"describe-axes"})}},n.createElement("span",null,function(){return e.layoutWidth()<=460?e.controller.s("graphing-calculator-button-keypad-describe-axes-short"):e.controller.s("graphing-calculator-button-keypad-describe-axes")})))))},h.prototype.layoutWidth=function(){return this.controller.getLayoutMeasurements().width},h.prototype.isPrevPointDisabled=function(){var e=this.controller.getAudioGraph();return!e||!e.agNavigator.canMoveToPrevPoint()},h.prototype.isNextPointDisabled=function(){var e=this.controller.getAudioGraph();return!e||!e.agNavigator.canMoveToNextPoint()},h.prototype.isPrevPOIDisabled=function(){var e=this.controller.getAudioGraph();return!e||!e.agNavigator.canMoveToPrevPOI()},h.prototype.isNextPOIDisabled=function(){var e=this.controller.getAudioGraph();return!e||!e.agNavigator.canMoveToNextPOI()},h.prototype.isPrevCurveDisabled=function(){var e=this.controller.getAudioGraph();return!e||!e.agNavigator.canMoveToPrevCurve()},h.prototype.isNextCurveDisabled=function(){var e=this.controller.getAudioGraph();return!e||!e.agNavigator.canMoveToNextCurve()},h.prototype.isAudioDisabled=function(){return!this.controller.getAudio()},h.prototype.getAudioTraceVolume=function(){var e=this.controller.getAudioGraph();return!e||this.isAudioDisabled()?"0%":100*e.tonegen.getAudioVolume()+"%"},h.prototype.isVolumeDownDisabled=function(){var e=this.controller.getAudioGraph();return!(e&&!this.isAudioDisabled())||e.tonegen.getAudioVolume()<=0},h.prototype.isVolumeUpDisabled=function(){var e=this.controller.getAudioGraph();return!(e&&!this.isAudioDisabled())||1<=e.tonegen.getAudioVolume()},h.prototype.getAudioTraceSpeed=function(){var e=this.controller.getAudioGraph();return!e||this.isAudioDisabled()?"0":l.audioSpeedOptions[e.getAudioSpeedIndex()].displayedSpeed},h.prototype.isSpeedDownDisabled=function(){var e=this.controller.getAudioGraph();return!(e&&!this.isAudioDisabled())||e.getAudioSpeedIndex()<=0},h.prototype.isSpeedUpDisabled=function(){var e=this.controller.getAudioGraph();return!(e&&!this.isAudioDisabled())||e.getAudioSpeedIndex()===l.audioSpeedOptions.length-1},h.prototype.getDisabledTooltipText=function(){return this.isAudioDisabled()?this.controller.s("graphing-calculator-narration-audio-trace-sound-effects-disabled"):""},r=h;function h(){return null!==d&&d.apply(this,arguments)||this}t.default=r}),define("loadcss!graphing-calc/keypads/functions-popover",function(){}),define("graphing-calc/keypads/functions-popover",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","loadcss!./functions-popover"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,s=n.Components,c=s.If,l=s.For;a=o.default,r.__extends(u,a),u.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-functions-popover dcg-popover dcg-top")},n.createElement("div",{class:n.const("dcg-popover-interior")},n.createElement("div",{class:n.const("dcg-interior-buttons")},n.createElement(l,{each:this.bindFn(this.getKeypadKeys),key:function(e){return e.id}},n.createElement("div",{class:n.const("dcg-basic-keypad dcg-do-not-blur")},function(t){return n.createElement("div",{class:n.const("dcg-keypad-keys-section")},n.createElement(c,{predicate:function(){return void 0!==t.title}},function(){return n.createElement("div",{class:n.const("dcg-section-heading")},function(){return t.title},n.createElement(c,{predicate:function(){return!!t.helpLink}},function(){return n.createElement("a",{href:function(){return t.helpLink.url},target:n.const("_blank"),"aria-label":function(){return t.helpLink.tooltip}},n.createElement("i",{class:n.const("dcg-icon-question-sign"),"aria-hidden":n.const("true")}))}))}),n.createElement(c,{predicate:function(){return void 0===t.title}},function(){return n.createElement("div",{class:n.const("dcg-popover-section-separator")})}),n.createElement(l,{each:function(){return t.keys}},n.createElement("div",{class:n.const("dcg-keypad-keys-buttons")},function(t){return e.b(t)})))})))),n.createElement("div",{class:n.const("dcg-arrow")}))},u.prototype.getInverseTrigSection=function(){var e=this.controller.areFunctionsRestricted()?["arcsin","arccos","arctan"]:["arcsin","arccos","arctan","arccsc","arcsec","arccot"];return{id:"inversetrig",title:this.controller.s("graphing-calculator-heading-inverse-trig"),keys:e}},u.prototype.getGeometryMethods=function(){var e=!this.controller.areFunctionsRestricted()||this.controller.areGeometryFunctionsForceEnabled()?["polygon","distance","midpoint"]:["polygon"];return{id:"geometry",title:this.controller.s("graphing-calculator-heading-geometry"),keys:e}},u.prototype.getTrigSection=function(){var e=this.controller.areFunctionsRestricted()?["sin","cos","tan"]:["sin","cos","tan","csc","sec","cot"];return{id:"trig",title:this.controller.s("graphing-calculator-heading-trig"),keys:e}},u.prototype.getHyperbolicTrigSection=function(){var e=this.controller.areFunctionsRestricted()?["sinh","cosh","tanh"]:["sinh","cosh","tanh","csch","sech","coth"];return{id:"hyperbtrig",title:this.controller.s("graphing-calculator-heading-hyperbolic-trig"),keys:e}},u.prototype.getListFunctions=function(){return{id:"lists",title:this.controller.s("graphing-calculator-heading-lists"),keys:["join","sort","shuffle","unique","for"]}},u.prototype.getStatTests=function(){return{id:"stat-tests",title:this.controller.s("graphing-calculator-heading-stat-tests"),keys:["ttest","tscore","ittest"]}},u.prototype.getStatsSection=function(){var e=["mean","median","min","max","quartile","quantile","stdev","stdevp","var"];return this.controller.areFunctionsRestricted()||(e=e.concat(["mad","cov","covp"])),e=e.concat(["corr","spearman","stats","length","total"]),{id:"stats",title:this.controller.s("graphing-calculator-heading-stats"),keys:e}},u.prototype.getMiscSection=function(){return{title:this.controller.s("graphing-calculator-button-functions-menu-number-theory"),id:"misc",keys:["lcm","gcd","mod","ceil","floor","round","sign","nthroot","nPr","nCr"]}},u.prototype.getVisualizationsSection=function(){return{title:this.controller.s("graphing-calculator-heading-dist-tab-visualizations"),id:"visualizations",keys:["histogram","dotplot","boxplot"],helpLink:{url:"https://help.desmos.com/hc/en-us/articles/360022405991-Data-Visualizations",tooltip:this.controller.s("graphing-calculator-narration-dist-tab-visualizations")}}},u.prototype.getCalculusSection=function(){return{title:this.controller.s("graphing-calculator-heading-calculus"),id:"calculus",keys:["exp","ln","log","loga","ddx","prime","int","sum","prod"]}},u.prototype.getDistributionsSection=function(){return{title:this.controller.s("graphing-calculator-heading-dist-tab-distributions"),id:"distributions",keys:["normaldist","tdist","poissondist","binomialdist","uniformdist","pdf","cdf","inversecdf","random"],helpLink:{url:"https://help.desmos.com/hc/en-us/articles/360022401451-Distributions",tooltip:this.controller.s("graphing-calculator-narration-dist-tab-distributions")}}},u.prototype.getKeypadKeys=function(){var e=[this.getTrigSection(),this.getInverseTrigSection(),this.getStatsSection(),this.getListFunctions(),this.getVisualizationsSection()];return this.controller.areDistributionsEnabled()&&(e.push(this.getDistributionsSection()),e.push(this.getStatTests())),e.push(this.getCalculusSection()),e.push(this.getHyperbolicTrigSection()),e.push(this.getGeometryMethods()),e.push(this.getMiscSection()),e},u.prototype.b=function(e){return i.view(this,e,{style:"popover"})},r=u;function u(){return null!==a&&a.apply(this,arguments)||this}t.default=r}),define("loadcss!graphing-calc/keypads/graphing-keypad-container",function(){}),define("graphing-calc/keypads/main",["require","exports","tslib","dcgview","./dcgview-graphing","./qwerty","./qwerty-capital","./numbers","./letters","./letters-capital","./audio","./functions-popover","jquery","underscore","../../shared-components/tooltip","loadcss!./graphing-keypad-container"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g,m=n.Components,y=m.SwitchUnion,v=m.If;g=o.default,r.__extends(b,g),b.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-keypad"),role:n.const("complementary"),"aria-label":n.const("Keypad")},n.createElement("div",{class:function(){return{"dcg-keys-container":!0,"dcg-smaller-functions-text":e.controller.getLayoutMeasurements().width<650,"dcg-small-ABC":e.controller.getLayoutMeasurements().width<490,"dcg-smaller-ABC":e.controller.getLayoutMeasurements().width<420,"dcg-smallest-ABC":e.controller.getLayoutMeasurements().width<380}},style:this.bindFn(this.computeStyles),didMount:this.bindFn(this.didMountContainer),"aria-hidden":function(){return!e.controller.isKeypadOpen()}},n.createElement("div",{class:n.const("dcg-keys-background dcg-do-not-blur"),style:function(){return{background:e.controller.getPillboxBackgroundColor()}}},n.createElement("div",{class:n.const("dcg-keys")},y(function(){return e.controller.getKeypadLayout()},{letters:function(){return n.createElement(i.default,{controller:e.props.controller})},capitalLetters:function(){return n.createElement(a.default,{controller:e.props.controller})},mainNumbers:function(){return n.createElement(s.default,{controller:e.props.controller})},noQwertyLetters:function(){return n.createElement(c.default,{controller:e.props.controller})},noQwertyCapitalLetters:function(){return n.createElement(l.default,{controller:e.props.controller})},audio:function(){return n.createElement(u.default,{controller:e.props.controller})}}),n.createElement(v,{predicate:function(){return e.controller.isKeypadFunctionsPopoverOpen()}},function(){return n.createElement(d.default,{controller:e.props.controller})})),n.createElement(v,{predicate:this.bindFn(this.isHideKeypadButtonVisible)},function(){return n.createElement("div",{class:n.const("dcg-minimize-keypad-container")},n.createElement(f.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-hide-keypad")},gravity:e.const("ne"),offset:e.const({left:6})},n.createElement("div",{role:n.const("button"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-hide-keypad")},class:n.const("dcg-minimize-keypad"),style:function(){return{"border-bottom-color":e.controller.getPillboxBackgroundColor(),background:e.controller.getPillboxBackgroundColor()}},onTap:function(){e.controller.dispatch({type:"keypad/set-minimized",minimized:!0})}},n.createElement("i",{class:n.const("dcg-icon-keyboard"),"aria-hidden":n.const("true")}),n.createElement("i",{class:n.const("dcg-icon-caret-down"),"aria-hidden":n.const("true")}))))}))),n.createElement(v,{predicate:this.bindFn(this.isShowKeypadButtonVisible)},function(){return n.createElement("div",{class:n.const("dcg-show-keypad-container")},n.createElement(f.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-show-keypad")},gravity:e.const("ne")},n.createElement("div",{role:n.const("button"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-show-keypad")},class:n.const("dcg-btn-flat-gray dcg-show-keypad dcg-do-not-blur"),style:function(){return{background:e.controller.getPillboxBackgroundColor()}},onTap:function(){e.controller.dispatch({type:"keypad/set-minimized",minimized:!1})}},n.createElement("i",{class:n.const("dcg-icon-keyboard"),"aria-hidden":n.const("true")}),n.createElement("i",{class:n.const("dcg-icon-caret-up dcg-do-not-blur"),"aria-hidden":n.const("true")}))))}))},b.prototype.didMountContainer=function(e){this.containerElt=e},b.prototype.isShowKeypadButtonVisible=function(){return"none"===this.controller.getBrailleMode()&&!this.controller.isKeypadOpen()&&!this.controller.isNarrow()&&!this.controller.isInEditListMode()&&(this.controller.isListVisible()||this.controller.inAudioTraceMode())},b.prototype.isHideKeypadButtonVisible=function(){return"none"===this.controller.getBrailleMode()&&this.controller.isKeypadOpen()&&(!this.controller.isNarrow()||this.controller.inAudioTraceMode())},b.prototype.didMount=function(){this.updatePopoverPosition()},b.prototype.didUpdate=function(){this.updatePopoverPosition()},b.prototype.computeStyles=function(){var e={};return this.controller.isNarrow()||(e.transition="transform .3s, opacity .3s"),this.controller.isKeypadOpen()||(e.opacity="0",e.transform="translate3d(0, 255px, 0)"),e},b.prototype.updatePopoverPosition=function(){var e,t,r,n,o;this.controller.isKeypadFunctionsPopoverOpen()?(e={keypadTop:(n=this.controller.computeMajorLayout()).keypad.top,keypadWidth:n.keypad.width,keypadHeight:n.keypad.height,showToLeft:n.grapher.height<525},h.isEqual(e,this.__popoverCache)||(this.__popoverCache=e,t=(o=p(this.containerElt)).find("[dcg-command=functions]"),r=o.find(".dcg-functions-popover"),n=o.find(".dcg-arrow"),e.showToLeft?(r.removeClass("dcg-top").addClass("dcg-left"),o=e.keypadHeight-(t.offset().top-o.offset().top)-t.outerHeight()/2-2-10,n.css({left:"auto",bottom:o})):(r.removeClass("dcg-left").addClass("dcg-top"),n.css({left:r.width()-t.width()/2,bottom:"auto"})))):this.__popoverCache=void 0},r=b;function b(){return null!==g&&g.apply(this,arguments)||this}t.default=r}),define("loadcss!pillboxes",function(){}),define("main/graphpaper-branding-view",["require","exports","tslib","dcgview","loadcss!pillboxes"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n.Components.SwitchUnion;o=n.Class,r.__extends(a,o),a.prototype.template=function(){var e=this;return this.controller=this.props.controller(),i(function(){return e.controller.getBrandingMode()},{"static-edit-link":function(){return n.createElement("div",{class:n.const("dcg-graphpaper-branding")},n.createElement("a",{href:function(){return e.controller.getEditLink()},target:n.const("_blank")},n.createElement("span",{class:n.const("dcg-powered-by"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-edit-on-desmos")}},function(){return e.controller.s("graphing-calculator-link-edit-on-desmos")}),n.createElement("i",{class:n.const("dcg-icon-desmos"),"aria-hidden":n.const("true")})))},"edit-link":function(){return n.createElement("div",{class:n.const("dcg-graphpaper-branding")},n.createElement("span",{class:n.const("dcg-edit-branding"),onTap:function(){return e.controller.dispatch({type:"open-on-web"})}},n.createElement("span",{class:n.const("dcg-powered-by"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-edit-on-desmos")}},function(){return e.controller.s("graphing-calculator-link-edit-on-desmos")}),n.createElement("i",{class:n.const("dcg-icon-desmos"),"aria-hidden":n.const("true")})))},"powered-by":function(){return n.createElement("div",{class:n.const("dcg-graphpaper-branding dcg-unclickable")},n.createElement("span",{class:n.const("dcg-powered-by"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-powered-by-desmos")}},function(){return e.controller.s("graphing-calculator-label-powered-by")}),n.createElement("i",{class:n.const("dcg-icon-desmos"),"aria-hidden":n.const("true")}))}})},r=a;function a(){return null!==o&&o.apply(this,arguments)||this}t.default=r}),define("loadcss!dcgview-helpers/learn-more-link",function(){}),define("dcgview-helpers/learn-more-link",["require","exports","tslib","dcgview","../shared-components/tooltip","loadcss!./learn-more-link"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LearnMoreLink=void 0;var i;i=n.Class,r.__extends(a,i),a.prototype.template=function(){var e=this;return n.createElement(o.Tooltip,{tooltip:function(){return e.props.controller().s("shared-calculator-label-toast-learn-more")}},n.createElement("a",{class:n.const("dcg-learn-more-link"),href:this.props.href,target:n.const("_blank")},n.createElement("i",{class:n.const("dcg-icon-question-sign"),"aria-hidden":n.const("true")})))},r=a;function a(){return null!==i&&i.apply(this,arguments)||this}t.LearnMoreLink=r}),define("loadcss!main/settings-view",function(){}),define("main/settings-view",["require","exports","tslib","keys","scroll_helpers","dcgview","dcgview-helpers/static-mathquill-view","dcgview-helpers/mathquill-view","jquery","core/graphing-calc/json/graph-settings","core/math/evaluate-single-expression","graphing/viewport","dcgview-helpers/checkbox","main/manage-focus-helper","main/mathquill-operators","../shared-components/mathquill-braille-wrapper","../expressions/expression_view","../shared-components/tooltip","../dcgview-helpers/learn-more-link","loadcss!./settings-view"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g,m,y,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b,x,w=(k=i.Components).Input,E=k.If,S=(x=i.Class,r.__extends(I,x),I.prototype.template=function(){var e=this;return i.createElement(g.default,r.__assign({latex:function(){return e.props.parent().getLimitLatex(e.props.limit())},ariaLabel:function(){return e.props.ariaLabel()},onBrailleInput:function(t){return e.props.parent().setLimitLatex(e.props.limit(),t)},onBrailleFocusedChanged:function(t){return e.props.parent().onFocusedChanged(e.props.limit(),t)},brailleShouldFocus:function(){return e.props.parent().getFocusedLimit()===e.props.limit()},hasError:function(){return e.props.parent().isLimitInvalid(e.props.limit())},dataDCGLimit:function(){return e.props.limit()}},m.getBrailleWrapperProps(this.props.controller()),{capExpressionSize:function(){}}),i.createElement(s.default,{isFocused:function(){return e.props.parent().getFocusedLimit()===e.props.limit()},latex:function(){return e.props.parent().getLimitLatex(e.props.limit())},capExpressionSize:function(){return e.props.parent().getCapExpressionSize()},config:this.bindFn(this.getMQConfig),getAriaLabel:function(){return e.props.ariaLabel()},getAriaPostLabel:this.const(""),onUserChangedLatex:function(t){return e.props.parent().setLimitLatex(e.props.limit(),t)},onFocusedChanged:function(t){return e.props.parent().onFocusedChanged(e.props.limit(),t)},hasError:this.const(!1),selectOnFocus:this.const(!0),needsSystemKeypad:function(){return e.props.needsSystemKeypad()}},i.createElement("span",{class:function(){return{"dcg-math-field":!0,"dcg-math-input":!0,"dcg-invalid":e.props.parent().isLimitInvalid(e.props.limit()),"dcg-focus":e.props.parent().getFocusedLimit()===e.props.limit()}},"data-dcg-limit":function(){return e.props.limit()}})))},I.prototype.getMQConfig=function(){return{autoOperatorNames:f.getAutoOperators()}},I),k=(b=i.Class,r.__extends(_,b),_.prototype.template=function(){var e=this;return this.controller=this.props.controller(),i.createElement("div",{class:i.const("dcg-settings-view-container")},i.createElement(y.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-tooltip-graph-settings")},gravity:this.const("w")},i.createElement("div",{class:i.const("dcg-btn-flat-gray dcg-settings-pillbox dcg-action-settings"),role:i.const("button"),tabindex:i.const("0"),"aria-haspopup":i.const("true"),"aria-expanded":function(){return e.controller.isGraphSettingsOpen()},"aria-label":function(){return e.controller.s("graphing-calculator-label-tooltip-graph-settings")},onTap:this.bindFn(this.onTapSettingsButton),manageFocus:this.const(h.manageFocusHelper({controller:this.controller,location:{type:"settings",location:"icon"}})),style:function(){return{background:e.controller.getPillboxBackgroundColor()}}},i.createElement("i",{class:i.const("dcg-icon-wrench"),"aria-hidden":i.const("true")}),i.createElement(E,{predicate:function(){return e.controller.getLockViewportUserSetting()}},function(){return i.createElement("i",{class:i.const("dcg-icon-lock"),"aria-hidden":i.const("true")})}))),i.createElement(E,{predicate:function(){return e.controller.isGraphSettingsOpen()}},function(){return i.createElement("div",{class:i.const("dcg-settings-container dcg-left dcg-popover dcg-constrained-height-popover"),style:e.bindFn(e.getContainerStyle),didMount:e.bindFn(e.didMountContainer),didUnmount:e.bindFn(e.didUnmountContainer)},i.createElement("div",{class:i.const("dcg-popover-interior"),role:i.const("complementary"),"aria-label":i.const("Graph Settings")},i.createElement("div",{class:i.const("dcg-visual-settings")},i.createElement("div",{class:i.const("dcg-group-title")},function(){return e.controller.s("shared-calculator-label-settings-display")}),i.createElement("div",{class:i.const("dcg-displaysizegroup dcg-segmented-control-container"),role:i.const("group"),"aria-label":function(){return e.controller.s("shared-calculator-narration-settings-display-size")}},i.createElement("div",{class:function(){return{"dcg-action-displaysizedefault":!0,"dcg-segmented-control-btn":!0,"dcg-selected dcg-active":!e.getProjectorMode()}},"aria-pressed":function(){return!e.getProjectorMode()},role:i.const("button"),tabindex:i.const("0"),"aria-label":function(){return e.controller.s("shared-calculator-narration-settings-display-size-default")},onTap:e.bindFn(e.setDefaultDisplaySize)},i.const("A")),i.createElement("div",{class:function(){return{"dcg-action-displaysizelarge":!0,"dcg-segmented-control-btn":!0,"dcg-selected dcg-active":e.getProjectorMode()}},"aria-pressed":e.bindFn(e.getProjectorMode),role:i.const("button"),tabindex:i.const("0"),"aria-label":function(){return e.controller.s("shared-calculator-narration-settings-display-size-large")},onTap:e.bindFn(e.setLargeDisplaySize),manageFocus:e.const(h.manageFocusHelper({controller:e.controller,location:{type:"settings",location:"projector-mode"}}))},i.const("A"))),i.createElement(p.Checkbox,{ariaLabel:function(){return e.controller.s("graphing-calculator-label-settings-reverse-contrast")},onChange:e.bindFn(e.toggleInvertedColors),checked:function(){return e.controller.getInvertedColors()}},function(){return e.controller.s("graphing-calculator-label-settings-reverse-contrast")}),i.createElement(E,{predicate:function(){return e.controller.getBrailleControls()}},function(){return i.createElement("div",{class:i.const("dcg-braille-container dcg-braille-mode")},i.createElement(p.Checkbox,{ariaLabel:function(){return e.controller.s("graphing-calculator-label-settings-braille-mode")},onChange:e.bindFn(e.toggleBrailleMode),checked:function(){return"none"!==e.controller.getBrailleMode()}},function(){return e.controller.s("graphing-calculator-label-settings-braille-mode")}),i.createElement(E,{predicate:function(){return"none"!==e.controller.getBrailleMode()}},function(){return i.createElement("div",{class:i.const("dcg-braille-options-container")},i.createElement("div",{role:i.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-label-settings-braille-mode")},class:i.const("dcg-braille-options-buttons dcg-segmented-control-container")},i.createElement("span",{class:function(){return{"dcg-segmented-control-btn":!0,"dcg-braille-option":!0,"dcg-selected dcg-active":"nemeth"===e.controller.getBrailleMode()}},role:i.const("button"),onTap:function(){return e.controller.dispatch({type:"set-braille-mode",mode:"nemeth"})},tabindex:i.const(0),"aria-label":function(){return e.controller.s("graphing-calculator-button-settings-braille-mode-nemeth")},"aria-pressed":function(){return"nemeth"===e.controller.getBrailleMode()}},function(){return e.controller.s("graphing-calculator-button-settings-braille-mode-nemeth")}),i.createElement("span",{class:function(){return{"dcg-segmented-control-btn":!0,"dcg-braille-option":!0,"dcg-selected dcg-active":"ueb"===e.controller.getBrailleMode()}},role:i.const("button"),onTap:function(){return e.controller.dispatch({type:"set-braille-mode",mode:"ueb"})},tabindex:i.const(0),"aria-label":function(){return e.controller.s("graphing-calculator-button-settings-braille-mode-ueb")},"aria-pressed":function(){return"ueb"===e.controller.getBrailleMode()}},function(){return e.controller.s("graphing-calculator-button-settings-braille-mode-ueb")})),i.createElement("div",{class:i.const("dcg-checkbox-title dcg-six-key-checkbox")},i.createElement(p.Checkbox,{ariaLabel:function(){return e.controller.s("graphing-calculator-label-settings-six-key-braille")},onChange:function(t){return e.controller.dispatch({type:"set-six-key-input",useSixKeyInput:t})},checked:function(){return e.controller.getSixKeyInput()}},function(){return e.controller.s("graphing-calculator-label-settings-six-key-braille")}),i.createElement("a",{href:i.const("https://www.desmos.com/accessibility#braille"),class:i.const("dcg-six-key-info"),target:i.const("_blank")},i.createElement("i",{class:i.const("dcg-icon-question-sign"),"aria-hidden":i.const("true")}))),i.createElement("div",{class:i.const("dcg-refreshable-braille-note")},function(){return e.controller.s("graphing-calculator-text-refreshable-braille-display-note")+" "},i.createElement("a",{href:function(){return"https://www.desmos.com/braille-examples?"+e.controller.getBrailleMode()},target:i.const("_blank")},function(){return e.controller.s("graphing-calculator-link-view-braille-examples")})))}))})),i.createElement("div",{class:i.const("dcg-top-section-flex dcg-grid-settings-container")},i.createElement("div",{class:i.const("dcg-grid-settings")},i.createElement(p.Checkbox,{ariaLabel:function(){return e.controller.s("graphing-calculator-label-settings-grid")},onChange:e.bindFn(e.toggleGrid),checked:e.bindFn(e.getShowGrid)},function(){return e.controller.s("graphing-calculator-label-settings-grid")}),i.createElement(E,{predicate:e.bindFn(e.getShowGrid)},function(){return i.createElement("div",{class:i.const("dcg-circle-icon-group dcg-grid-group")},i.createElement("div",{class:function(){return{"dcg-circle-icon":!0,"dcg-action-cartesian":!0,"dcg-active":!e.getPolarMode()}},role:i.const("button"),tabindex:i.const("0"),"aria-pressed":function(){return!e.getPolarMode()},"aria-label":function(){return e.controller.s("graphing-calculator-narration-settings-cartesian-grid")},onTap:e.bindFn(e.setCartesianMode)}),i.const(" "),i.createElement("div",{class:function(){return{"dcg-circle-icon":!0,"dcg-action-polar":!0,"dcg-active":e.getPolarMode()}},role:i.const("button"),tabindex:i.const("0"),"aria-pressed":function(){return e.getPolarMode()},"aria-label":function(){return e.controller.s("graphing-calculator-narration-settings-polar-grid")},onTap:e.bindFn(e.setPolarMode)}))}),i.createElement(p.Checkbox,{ariaLabel:function(){return e.controller.s("graphing-calculator-label-settings-arrows")},onChange:e.bindFn(e.toggleArrows),checked:function(){return e.getAxisArrowMode()!==l.AxisArrowModes.NONE}},function(){return e.controller.s("graphing-calculator-label-settings-arrows")}),i.createElement(E,{predicate:function(){return e.getAxisArrowMode()!==l.AxisArrowModes.NONE}},function(){return i.createElement("div",{class:i.const("dcg-circle-icon-group dcg-arrow-group")},i.createElement("div",{role:i.const("button"),tabindex:i.const("0"),class:function(){return{"dcg-circle-icon":!0,"dcg-arrows":!0,"dcg-active":e.getAxisArrowMode()===l.AxisArrowModes.BOTH}},"dcg-arrows":i.const("BOTH"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-settings-show-both")},"aria-pressed":function(){return e.getAxisArrowMode()===l.AxisArrowModes.BOTH},onTap:function(){return e.setAxisArrowMode(l.AxisArrowModes.BOTH)}},i.createElement("i",{class:i.const("dcg-icon-arrows-two"),"aria-hidden":i.const("true")})),i.const(" "),i.createElement("div",{role:i.const("button"),tabindex:i.const("0"),class:function(){return{"dcg-circle-icon":!0,"dcg-arrows":!0,"dcg-active":e.getAxisArrowMode()===l.AxisArrowModes.POSITIVE}},"dcg-arrows":i.const("POSITIVE"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-settings-show-positive")},"aria-pressed":function(){return e.getAxisArrowMode()===l.AxisArrowModes.POSITIVE},onTap:function(){return e.setAxisArrowMode(l.AxisArrowModes.POSITIVE)}},i.createElement("i",{class:i.const("dcg-icon-arrows-one"),"aria-hidden":i.const("true")})))})),i.createElement("div",{class:i.const("dcg-top-checkboxes-container")},i.createElement(p.Checkbox,{ariaLabel:function(){return e.controller.s("graphing-calculator-label-settings-axis-numbers")},onChange:e.bindFn(e.toggleAxisNumbers),checked:e.bindFn(e.getAxisNumbers),small:e.const(!0)},function(){return e.controller.s("graphing-calculator-label-settings-axis-numbers")}),i.createElement(E,{predicate:function(){return e.getShowGrid()&&!e.getPolarMode()}},function(){return i.createElement(p.Checkbox,{ariaLabel:function(){return e.controller.s("graphing-calculator-label-settings-minor-gridlines")},onChange:e.bindFn(e.toggleMinorGridlines),checked:e.bindFn(e.getMinorGridlines),small:e.const(!0)},function(){return e.controller.s("graphing-calculator-label-settings-minor-gridlines")})}),i.createElement(E,{predicate:function(){return e.controller.canUseAdvancedStyling()&&!e.getPolarMode()}},function(){return i.createElement(p.Checkbox,{checked:function(){return e.controller.getGraphSettings().restrictGridToFirstQuadrant},ariaLabel:e.const("One Quadrant"),onChange:function(t){return e.controller.dispatch({type:"set-graph-settings",restrictGridToFirstQuadrant:t})},small:e.const(!0)},i.const("One Quadrant"))}),i.createElement(E,{predicate:function(){return!e.getSquareAxes()}},function(){return i.createElement("div",{role:i.const("button"),tabindex:i.const("0"),class:i.const("dcg-action-zoom-square dcg-btn-light-gray"),onTap:e.bindFn(e.zoomSquare)},function(){return e.controller.s("graphing-calculator-button-settings-zoom-square")})}))),i.createElement("div",{class:i.const("dcg-axes-settings-container")},i.createElement("div",{class:i.const("dcg-checkbox-title dcg-x-axis-title")},i.createElement(p.Checkbox,{ariaLabel:function(){return e.controller.s("graphing-calculator-label-settings-x-axis")},onChange:e.bindFn(e.toggleXAxis),checked:e.bindFn(e.getShowXAxis)},function(){return e.controller.s("graphing-calculator-label-settings-x-axis")}),i.createElement(w,{class:e.const("dcg-axis-label dcg-x-axis-label"),placeholder:function(){return e.controller.s("graphing-calculator-label-settings-add-label")},"aria-label":function(){return e.controller.s("graphing-calculator-narration-settings-x-axis-label")},disabled:function(){return!e.getShowXAxis()||void 0},"aria-disabled":function(){return!e.getShowXAxis()||void 0},onInput:e.bindFn(e.onXAxisLabelInput),value:e.bindFn(e.getXAxisLabel)})),i.createElement("div",{class:i.const("dcg-editable-mathquill-container dcg-x-axis-options")},i.createElement(S,{limit:e.const("xmin"),ariaLabel:function(){return e.controller.s("graphing-calculator-narration-settings-x-axis-min")},needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()},parent:e.const(e),controller:e.props.controller}),i.createElement(a.default,{config:e.const({}),latex:e.const("\\le x\\le")},i.createElement("span",{class:i.const("dcg-interval-interior")})),i.createElement(S,{limit:e.const("xmax"),ariaLabel:function(){return e.controller.s("graphing-calculator-narration-settings-x-axis-max")},needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()},parent:e.const(e),controller:e.props.controller}),i.createElement(E,{predicate:function(){return!e.getPolarMode()}},function(){return i.createElement("span",{class:i.const("dcg-step-container")},i.createElement("span",{class:i.const("dcg-step-label"),"aria-hidden":i.const("true")},function(){return e.controller.s("graphing-calculator-label-settings-step")}),i.createElement(S,{limit:e.const("xstep"),ariaLabel:function(){return e.controller.s("graphing-calculator-narration-settings-x-axis-step")},needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()},parent:e.const(e),controller:e.props.controller}))})),i.createElement("div",{class:i.const("dcg-checkbox-title dcg-y-axis-title")},i.createElement(p.Checkbox,{ariaLabel:function(){return e.controller.s("graphing-calculator-label-settings-y-axis")},onChange:e.bindFn(e.toggleYAxis),checked:e.bindFn(e.getShowYAxis)},function(){return e.controller.s("graphing-calculator-label-settings-y-axis")}),i.createElement(w,{class:e.const("dcg-axis-label dcg-y-axis-label"),placeholder:function(){return e.controller.s("graphing-calculator-label-settings-add-label")},"aria-label":function(){return e.controller.s("graphing-calculator-narration-settings-y-axis-label")},disabled:function(){return!e.getShowYAxis()||void 0},"aria-disabled":function(){return!e.getShowYAxis()||void 0},onInput:e.bindFn(e.onYAxisLabelInput),value:e.bindFn(e.getYAxisLabel)})),i.createElement("div",{class:i.const("dcg-editable-mathquill-container dcg-y-axis-options")},i.createElement(S,{limit:e.const("ymin"),ariaLabel:function(){return e.controller.s("graphing-calculator-narration-settings-y-axis-min")},needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()},parent:e.const(e),controller:e.props.controller}),i.createElement(a.default,{config:e.const({}),latex:e.const("\\le y\\le")},i.createElement("span",{class:i.const("dcg-interval-interior")})),i.createElement(S,{limit:e.const("ymax"),ariaLabel:function(){return e.controller.s("graphing-calculator-narration-settings-y-axis-max")},needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()},parent:e.const(e),controller:e.props.controller}),i.createElement(E,{predicate:function(){return!e.getPolarMode()}},function(){return i.createElement("span",{class:i.const("dcg-step-container")},i.createElement("span",{class:i.const("dcg-step-label"),"aria-hidden":i.const("true")},function(){return e.controller.s("graphing-calculator-label-settings-step")}),i.createElement(S,{limit:e.const("ystep"),ariaLabel:function(){return e.controller.s("graphing-calculator-narration-settings-y-axis-step")},needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()},parent:e.const(e),controller:e.props.controller}))})),i.createElement(E,{predicate:function(){return!e.controller.getLockViewportConfigSetting()}},function(){return i.createElement("div",{class:i.const("dcg-checkbox-title dcg-lock-viewport-option")},i.createElement(p.Checkbox,{ariaLabel:function(){return e.controller.s("graphing-calculator-label-settings-lock-viewport")},onChange:function(){e.controller.dispatch({type:"toggle-lock-viewport"})},checked:function(){return e.controller.getLockViewportUserSetting()}},function(){return e.controller.s("graphing-calculator-label-settings-lock-viewport")}),i.createElement(v.LearnMoreLink,{href:e.const("https://help.desmos.com/hc/en-us/articles/4405296853517#h_01FZX4DBWKD83TZVMH615XF3QA"),controller:e.props.controller}))})),i.createElement("div",{class:i.const("dcg-radiangroup dcg-segmented-control-container"),role:i.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-settings-angle")}},i.createElement("div",{class:function(){return{"dcg-action-radianmode":!0,"dcg-segmented-control-btn":!0,"dcg-selected dcg-active":!e.getDegreeMode()}},"aria-pressed":function(){return!e.getDegreeMode()},role:i.const("button"),tabindex:i.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-button-settings-radians")},onTap:e.bindFn(e.setRadianMode)},function(){return e.controller.s("graphing-calculator-button-settings-radians")}),i.createElement("div",{class:function(){return{"dcg-action-degreemode":!0,"dcg-segmented-control-btn":!0,"dcg-selected dcg-active":e.getDegreeMode()}},"aria-pressed":e.bindFn(e.getDegreeMode),role:i.const("button"),tabindex:i.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-button-settings-degrees")},onTap:e.bindFn(e.setDegreeMode),manageFocus:e.const(h.manageFocusHelper({controller:e.controller,location:{type:"settings",location:"degree-mode"}}))},function(){return e.controller.s("graphing-calculator-button-settings-degrees")})),i.createElement("div",{class:i.const("dcg-arrow")})))}))},_.prototype.didMountContainer=function(e){var t=this;this.node=e,c(document).on("dcg-tapstart.settings-view wheel.settings-view",function(e){t.eventShouldClosePopover(e)&&t.controller.dispatch({type:"close-graph-settings",focusIconAfterClose:"keyboard"===e.device})}),c(document).on("keydown.settings-view",function(e){var r;"Esc"===n.lookup(e)&&t.controller.dispatch({type:"close-graph-settings",focusIconAfterClose:!0}),!t.controller.isGraphSettingsOpen()||"Tab"!==n.lookup(e)||e.altKey||e.metaKey||e.ctrlKey||(r=t.controller.getFocusLocation())&&"settings"===r.type&&(e.shiftKey||"degree-mode"!==r.location?e.shiftKey&&"icon"===r.location&&(t.controller.dispatch({type:"set-focus-location",location:{type:"settings",location:"degree-mode"}}),e.preventDefault(),e.stopPropagation()):(t.controller.dispatch({type:"set-focus-location",location:{type:"settings",location:"icon"}}),e.preventDefault(),e.stopPropagation()))})},_.prototype.didUnmountContainer=function(){c(document).off(".settings-view")},_.prototype.didUpdate=function(){var e;this.controller.isGraphSettingsOpen()&&((e=this.controller.getKeypadHeight())!==this.cachedKeypadHeight&&document.activeElement&&c(document.activeElement).closest(this.node).length&&o.scrollVisible(c(document.activeElement),c(this.node).find(".dcg-popover-interior"),50),this.cachedKeypadHeight=e)},_.prototype.eventShouldClosePopover=function(e){var t=!!(n=c(e.target)).closest(this.node).length,r=!!n.closest(".dcg-action-settings").length,n=(e=this.isMathquillFocused()&&n.closest(".dcg-keypad").length,!!n.closest(".dcg-action-undo").length||!!n.closest(".dcg-action-redo").length);return!(t||r||e||n)},_.prototype.onTapSettingsButton=function(e){this.controller.dispatch({type:"toggle-graph-settings",focusOnOpen:"keyboard"===e.device})},_.prototype.isMathquillFocused=function(){return void 0!==this.getFocusedLimit()},_.prototype.getLimitLatex=function(e){return this.controller.getSettingsViewModel().limitLatex[e]},_.prototype.setLimitLatex=function(e,t){t!==this.controller.getSettingsViewModel().limitLatex[e]&&this.controller.dispatch({type:"set-axis-limit-latex",limit:e,latex:t})},_.prototype.getFocusedLimit=function(){var e=this.controller.getFocusLocation();if(e&&"settings"===e.type)return e.location},_.prototype.getInvalidLimits=function(){var e=!!this.controller.getGraphSettings().degreeMode,t=u.default(this.getLimitLatex("xmin"),e),r=u.default(this.getLimitLatex("xmax"),e),n=u.default(this.getLimitLatex("ymin"),e),o=u.default(this.getLimitLatex("ymax"),e),i=""===this.getLimitLatex("xstep")?0:u.default(this.getLimitLatex("xstep"),e),a=""===this.getLimitLatex("ystep")?0:u.default(this.getLimitLatex("ystep"),e),s={};e=new d.Viewport(t,r,n,o);return isFinite(t)&&isFinite(r)?(s.xmin=!e.isXValid(),s.xmax=s.xmin):(s.xmin=!isFinite(t),s.xmax=!isFinite(r)),isFinite(n)&&isFinite(o)?(s.ymin=!e.isYValid(),s.ymax=s.ymin):(s.ymin=!isFinite(n),s.ymax=!isFinite(o)),s.xstep=!isFinite(i)||i<0,s.ystep=!isFinite(a)||a<0,s},_.prototype.isLimitInvalid=function(e){return this.getInvalidLimits()[e]},_.prototype.onFocusedChanged=function(e,t){t?this.controller.dispatch({type:"set-focus-location",location:{type:"settings",location:e}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"settings",location:e}})},_.prototype.onXAxisLabelInput=function(e){this.controller.dispatch({type:"set-graph-settings",xAxisLabel:e})},_.prototype.onYAxisLabelInput=function(e){this.controller.dispatch({type:"set-graph-settings",yAxisLabel:e})},_.prototype.getXAxisLabel=function(){return this.controller.getGraphSettings().xAxisLabel},_.prototype.getYAxisLabel=function(){return this.controller.getGraphSettings().yAxisLabel},_.prototype.getShowXAxis=function(){return!!this.controller.getGraphSettings().showXAxis},_.prototype.toggleXAxis=function(){this.controller.dispatch({type:"set-graph-settings",showXAxis:!this.getShowXAxis()})},_.prototype.getShowYAxis=function(){return!!this.controller.getGraphSettings().showYAxis},_.prototype.toggleYAxis=function(){this.controller.dispatch({type:"set-graph-settings",showYAxis:!this.getShowYAxis()})},_.prototype.getAxisNumbers=function(){return!!this.controller.getGraphSettings().xAxisNumbers},_.prototype.toggleAxisNumbers=function(){var e=this.getAxisNumbers();this.controller.dispatch({type:"set-graph-settings",xAxisNumbers:!e,yAxisNumbers:!e,polarNumbers:!e})},_.prototype.getMinorGridlines=function(){return 0===this.controller.getGraphSettings().xAxisMinorSubdivisions},_.prototype.toggleMinorGridlines=function(){var e=this.getMinorGridlines()?1:0;this.controller.dispatch({type:"set-graph-settings",yAxisMinorSubdivisions:e,xAxisMinorSubdivisions:e})},_.prototype.getPolarMode=function(){return!!this.controller.getGraphSettings().polarMode},_.prototype.setPolarMode=function(){this.controller.dispatch({type:"set-graph-settings",polarMode:!0})},_.prototype.setCartesianMode=function(){this.controller.dispatch({type:"set-graph-settings",polarMode:!1})},_.prototype.getDegreeMode=function(){return!!this.controller.getGraphSettings().degreeMode},_.prototype.setRadianMode=function(){this.controller.dispatch({type:"set-graph-settings",degreeMode:!1})},_.prototype.setDegreeMode=function(){this.controller.dispatch({type:"set-graph-settings",degreeMode:!0})},_.prototype.getProjectorMode=function(){return!!this.controller.getGraphSettings().config.projectorMode},_.prototype.toggleInvertedColors=function(){this.controller.dispatch({type:"set-inverted-colors",value:!this.controller.getInvertedColors()})},_.prototype.toggleBrailleMode=function(){this.controller.dispatch({type:"set-braille-mode",mode:"none"===this.controller.getBrailleMode()?"nemeth":"none"})},_.prototype.setDefaultDisplaySize=function(){this.controller.dispatch({type:"set-projector-mode",value:!1})},_.prototype.setLargeDisplaySize=function(){this.controller.dispatch({type:"set-projector-mode",value:!0})},_.prototype.getAxisArrowMode=function(){return this.controller.getGraphSettings().xAxisArrowMode},_.prototype.setAxisArrowMode=function(e){this.controller.dispatch({type:"set-graph-settings",xAxisArrowMode:e,yAxisArrowMode:e})},_.prototype.getShowGrid=function(){return this.controller.getGraphSettings().showGrid},_.prototype.toggleGrid=function(){this.controller.dispatch({type:"set-graph-settings",showGrid:!this.getShowGrid()})},_.prototype.toggleArrows=function(){var e=this.getAxisArrowMode()===l.AxisArrowModes.NONE?l.AxisArrowModes.BOTH:l.AxisArrowModes.NONE;this.controller.dispatch({type:"set-graph-settings",xAxisArrowMode:e,yAxisArrowMode:e})},_.prototype.getSquareAxes=function(){return!!this.controller.getGraphSettings().squareAxes},_.prototype.getContainerStyle=function(){return this.controller.getKeypadHeight()?"bottom: 0":""},_.prototype.zoomSquare=function(){this.controller.dispatch({type:"zoom",direction:"square"})},_.prototype.getCapExpressionSize=function(){return!!this.controller.getGraphSettings().config.capExpressionSize},_);function _(){return null!==b&&b.apply(this,arguments)||this}function I(){return null!==x&&x.apply(this,arguments)||this}t.default=k}),define("main/zoom-buttons-view",["require","exports","tslib","dcgview","../shared-components/tooltip","loadcss!pillboxes"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i;i=n.Class,r.__extends(a,i),a.prototype.init=function(){this.controller=this.props.controller()},a.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-zoom-container")},n.createElement("div",{class:n.const("dcg-zoominout-pillbox dcg-btn-flat-gray dcg-btn-flat-gray-group"),style:function(){return{background:e.controller.getPillboxBackgroundColor()}}},n.createElement(o.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-tooltip-zoom-in")},gravity:this.const("w")},n.createElement("div",{class:n.const("dcg-action-zoomin"),role:n.const("button"),tabindex:n.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-label-tooltip-zoom-in")},onTap:this.bindFn(this.zoomIn),style:function(){return{background:e.controller.getPillboxBackgroundColor()}}},n.createElement("i",{class:n.const("dcg-icon dcg-icon-plus"),"aria-hidden":n.const("true")}))),n.createElement(o.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-tooltip-zoom-out")},gravity:this.const("w")},n.createElement("div",{class:n.const("dcg-option dcg-action-zoomout dcg-tooltip-e"),tooltip:function(){return e.controller.s("graphing-calculator-label-tooltip-zoom-out")},role:n.const("button"),tabindex:n.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-label-tooltip-zoom-out")},onTap:this.bindFn(this.zoomOut),style:function(){return{background:e.controller.getPillboxBackgroundColor()}}},n.createElement("i",{class:n.const("dcg-icon dcg-icon-minus"),"aria-hidden":n.const("true")})))),n.createElement(o.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-tooltip-zoom-default")},gravity:this.const("w")},n.createElement("div",{class:function(){return{"dcg-btn-flat-gray":!0,"dcg-option":!0,"dcg-action-zoomrestore":!0,"dcg-disabled":e.getZoomedDefault()}},"aria-disabled":this.bindFn(this.getZoomedDefault),role:n.const("button"),tabindex:n.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-zoom-default")},onTap:this.bindFn(this.zoomRestore),style:function(){return{background:e.controller.getPillboxBackgroundColor()}}},n.createElement("i",{class:n.const("dcg-icon dcg-icon-home"),"aria-hidden":n.const("true")}))))},a.prototype.zoomIn=function(){this.controller.dispatch({type:"zoom",direction:"in"})},a.prototype.zoomOut=function(){this.controller.dispatch({type:"zoom",direction:"out"})},a.prototype.zoomRestore=function(){this.controller.dispatch({type:"zoom",direction:"default"})},a.prototype.getZoomedDefault=function(){return this.controller.getGraphSettings().zoomedDefault},r=a;function a(){return null!==i&&i.apply(this,arguments)||this}t.default=r}),define("main/reset-button-view",["require","exports","tslib","dcgview","../shared-components/tooltip","loadcss!pillboxes"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i;i=n.Class,r.__extends(a,i),a.prototype.init=function(){this.controller=this.props.controller()},a.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-reset-container")},n.createElement(o.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-tooltip-reset")},gravity:this.const("w")},n.createElement("div",{class:n.const("dcg-reset-pillbox dcg-action-reset dcg-btn-flat-gray"),role:n.const("button"),tabindex:n.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-label-tooltip-reset")},onTap:this.bindFn(this.reset),style:function(){return{background:e.controller.getPillboxBackgroundColor()}}},n.createElement("i",{class:n.const("dcg-icon dcg-icon-reset"),"aria-hidden":n.const("true")}))))},a.prototype.reset=function(){this.controller.dispatch({type:"reset-graph"})},r=a;function a(){return null!==i&&i.apply(this,arguments)||this}t.default=r}),define("main/pillbox-view",["require","exports","tslib","dcgview","./graphpaper-branding-view","./settings-view","./zoom-buttons-view","./reset-button-view","loadcss!pillboxes"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c,l=n.Components.If;c=n.Class,r.__extends(u,c),u.prototype.init=function(){this.controller=this.props.controller()},u.prototype.template=function(){var e=this;return n.createElement("div",null,n.createElement(l,{predicate:this.bindFn(this.shouldShowContainer)},function(){return n.createElement("div",{class:n.const("dcg-pillbox-container"),role:n.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-graph-settings-controls")}},n.createElement("div",{class:n.const("dcg-overgraph-pillbox-elements"),style:e.bindFn(e.getContainerStyle)},n.createElement(l,{predicate:e.bindFn(e.shouldShowSettings)},function(){return n.createElement(i.default,{controller:e.props.controller})}),n.createElement(l,{predicate:e.bindFn(e.shouldShowResetButton)},function(){return n.createElement(s.default,{controller:e.props.controller})}),n.createElement(l,{predicate:e.bindFn(e.shouldShowZoomButtons)},function(){return n.createElement(a.default,{controller:e.props.controller})})))}),n.createElement(o.default,{controller:function(){return e.props.controller()}}))},u.prototype.getContainerStyle=function(){var e=this.controller.isKeypadOpen()?this.controller.getKeypadHeight():0;return this.controller.isGraphSettingsOpen()?"bottom: "+e+"px;":"bottom: auto"},u.prototype.shouldShowContainer=function(){return this.shouldShowSettings()||this.shouldShowZoomButtons()||this.shouldShowResetButton()},u.prototype.shouldShowSettings=function(){return this.controller.getGraphSettings().config.settingsMenu},u.prototype.shouldShowZoomButtons=function(){return this.controller.getGraphSettings().config.zoomButtons&&!this.isViewportLocked()},u.prototype.isViewportLocked=function(){return this.controller.getGraphSettings().config.lockViewport||this.controller.getGraphSettings().userLockedViewport},u.prototype.shouldShowResetButton=function(){return this.controller.getGraphSettings().config.showResetButtonOnGraphpaper&&this.controller.hasDefaultState()},r=u;function u(){return null!==c&&c.apply(this,arguments)||this}t.default=r}),define("loadcss!main/toast-view",function(){}),define("main/toast-view",["require","exports","tslib","dcgview","loadcss!./toast-view"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToastView=void 0;var o,i,a=n.Components.If,s=(i=n.Class,r.__extends(u,i),u.prototype.template=function(){var e=this;return n.createElement("span",{class:n.const("dcg-toast")},n.createElement("i",{class:n.const("dcg-icon-error"),"aria-hidden":n.const("true")}),n.createElement(a,{predicate:function(){return!e.props.showUndo()&&(!e.props.showClose||e.props.showClose())}},function(){return n.createElement("i",{class:n.const("dcg-icon-remove"),onTap:function(){return e.props.onClose&&e.props.onClose()},role:n.const("link"),tabindex:n.const(0),"aria-label":n.const("Dismiss Notice")})}),n.createElement("span",{class:n.const("dcg-msg"),"aria-atomic":function(){return!e.props.noAria()},"aria-live":function(){return e.props.noAria()?"":"assertive"}},function(){return e.props.message()}),n.createElement(a,{predicate:this.props.showUndo},function(){return n.createElement("a",{role:n.const("link"),tabindex:n.const(0),class:n.const("dcg-undo"),onTap:function(){return e.props.onUndo&&e.props.onUndo()}},function(){return e.props.s("shared-calculator-label-toast-undo")})}),n.createElement(a,{predicate:this.props.showLearnMore},function(){return n.createElement("a",{role:n.const("link"),tabindex:n.const(0),class:n.const("dcg-learn-more-link"),target:n.const("_blank"),onTap:function(){return e.props.onLearnMore&&e.props.onLearnMore()}},function(){return e.props.s("shared-calculator-label-toast-learn-more")})}),n.createElement(a,{predicate:function(){return!!e.props.link&&!!e.props.link()}},function(){return n.createElement("a",{role:n.const("link"),tabindex:n.const(0),class:n.const("dcg-learn-more-link"),target:function(){var t;return null!==(t=e.props.link().target)&&void 0!==t?t:"_blank"},href:function(){return e.props.link().url}},function(){return e.props.link().text})}))},u.prototype.shouldUpdate=function(){return!!this.props.message()},u),c=(o=n.Class,r.__extends(l,o),l.prototype.template=function(){var e=this;return n.createElement("div",{class:function(){return{"dcg-toast-view":!0,"dcg-visible":!!e.props.message()}},"toast-style":function(){return e.props.toastStyle&&e.props.toastStyle()}},n.createElement(a,{predicate:function(){return!!e.props.message()}},function(){return n.createElement("div",{class:n.const("dcg-toast-wrapper")},n.createElement("div",{class:n.const("dcg-toast-cover")}),n.createElement(s,r.__assign({},e.props)))}))},l);function l(){return null!==o&&o.apply(this,arguments)||this}function u(){return null!==i&&i.apply(this,arguments)||this}t.ToastView=c}),define("main/disable-dragdrop-events",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.on("drag dragend dragenter dragover dragleave drop",function(e){e.preventDefault(),e.stopPropagation()})}}),define("graphing-calc/views/main",["require","exports","tslib","touchtracking","ipad.scrollfix","dcgview","jquery","../../expressions/list-view","graphing-calc/keypads/main","main/pillbox-view","main/toast-view","main/disable-dragdrop-events","main/manage-focus-helper","../../shared-components/tooltip"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f,g=i.Components.If;f=i.Class,r.__extends(m,f),m.prototype.init=function(){this.controller=this.props.controller()},m.prototype.settings=function(){return this.controller.getGraphSettings()},m.prototype.template=function(){var e=this;return i.createElement("div",{class:i.const("dcg-calculator-api-container"),style:i.const("width: 100%; height: 100%; position: relative;")},i.createElement("div",{class:function(){return{"dcg-container":!0,"dcg-fullscreen":!e.controller.isListVisible(),"dcg-narrow":e.controller.isNarrow(),"dcg-PROJECTOR-MODE":e.settings().config.projectorMode,"dcg-inverted-colors":!!e.settings().config.invertedColors,"dcg-EDIT-LIST-MODE":e.controller.isInEditListMode(),"dcg-no-graphpaper":!e.settings().config.graphpaper,"dcg-no-branding":!e.settings().config.branding,"dcg-no-expression-topbar":!e.settings().config.expressionsTopbar,"dcg-default-border":!!e.settings().config.border,"dcg-no-hyperlinks":!e.settings().config.links,"dcg-has-background-color":e.controller.hasBackgroundColor(),"dcg-is-interactive":e.settings().config.expressions||!(e.settings().config.lockViewport||e.settings().userLockedViewport)}},style:function(){return{"font-size":e.settings().config.fontSize+"px",background:e.getContainerBackgroundColor(),color:e.controller.getTextColor()}},role:i.const("application"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-main-desmos-graphing-calculator")},"x-ms-format-detection":i.const("none"),didMount:this.bindFn(this.didMountRoot)},i.createElement(g,{predicate:function(){return e.controller.getGraphSettings().config.expressions}},function(){return i.createElement(s.default,{controller:e.props.controller})}),i.createElement(g,{predicate:function(){return e.controller.isListEnabled()&&!e.controller.isListVisible()}},function(){return i.createElement("div",{class:function(){return{"dcg-overgraph-icon-container":!0,"dcg-bottom-right":e.controller.isNarrow()}}},i.createElement(h.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-tooltip-show-list")},gravity:function(){return e.controller.isNarrow()?"nw":"se"}},i.createElement("div",{class:function(){return{"dcg-show-expressions-tab":!0,"dcg-overgraph-icon":!0,"dcg-rotated":e.controller.isNarrow()}},"aria-label":function(){return e.controller.s("graphing-calculator-label-tooltip-show-list")},role:i.const("button"),tabindex:i.const("0"),onTap:function(t){e.controller.dispatch({type:"show-expressions-list",focusHideIcon:"keyboard"===t.device})},manageFocus:e.const(p.manageFocusHelper({controller:e.controller,location:{type:"show-expression-list-btn"}}))},i.createElement("i",{class:i.const("dcg-icon-show"),"aria-hidden":i.const("true")}))))}),i.createElement(g,{predicate:this.bindFn(this.showHamburger)},function(){return i.createElement("div",{class:i.const("dcg-overgraph-icon-container")},i.createElement(h.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-tooltip-open-graph")},gravity:e.const("se")},i.createElement("div",{role:i.const("button"),"aria-label":function(){return e.controller.s("graphing-calculator-label-tooltip-open-graph")},class:i.const("dcg-action-opendrawer dcg-in-api-action-opendrawer dcg-overgraph-icon"),onTap:function(){return e.controller.dispatch({type:"open-drawer"})}},i.createElement("i",{class:i.const("dcg-icon-hamburger"),"aria-hidden":i.const("true")}))))}),i.createElement(l.default,{controller:this.props.controller}),i.createElement(u.ToastView,{message:function(){var t=e.controller.getToastData().message;return e.controller.raw(t||"")},link:function(){return e.controller.getToastData().link||void 0},showUndo:function(){return!!e.controller.getToastData().undoCallback},showLearnMore:function(){return!!e.controller.getToastData().learnMoreCallback},noAria:function(){return!!e.controller.getToastData().noAria},toastStyle:function(){return e.controller.getToastData().toastStyle},s:this.controller.s,onUndo:function(){return e.controller.dispatch({type:"toast/undo"})},onLearnMore:function(){return e.controller.dispatch({type:"toast/learn-more"})},onClose:function(){return e.controller.dispatch({type:"toast/close"})}}),i.createElement("div",{class:i.const("dcg-grapher")}),i.createElement(g,{predicate:function(){return e.controller.getGraphSettings().config.keypad}},function(){return i.createElement(c.default,{controller:e.props.controller})})))},m.prototype.showHamburger=function(){return!!this.controller.getGraphSettings().config.showHamburger&&!this.controller.isInEditListMode()&&this.controller.isNarrow()},m.prototype.getContainerBackgroundColor=function(){return this.controller.hasTransparentBackground()?"none":this.controller.getBackgroundColor()},m.prototype.didMountRoot=function(e){n.monitor(e),this.controller.getGraphSettings().config.disableScrollFix||o.limitScrollOnElement(e),this.setupFileDragDrop(e)},m.prototype.setupFileDragDrop=function(e){var t=this,r=a(e);d.default(r);var n=a(),o=this;function i(){n=a(),r.off(".filedraggedover"),o.controller.dispatch({type:"file-is-not-dragged-over"})}r.on("dragenter",function(e){t.controller.areImagesEnabled()&&(0===n.length&&r.on("dcg-tapstart.filedraggedover",i),n=n.add(e.target),t.controller.dispatch({type:"file-is-dragged-over"}))}).on("dragleave",function(e){0===(n=n.not(e.target)).length&&i()}).on("drop",i)},r=m;function m(){return null!==f&&f.apply(this,arguments)||this}t.default=r}),define("worker/workerpoolconnection",["require","pjs","underscore_model"],function(e){"use strict";return e("pjs")(e("underscore_model").UnderscoreModel,function(e,t){e.init=function(e){t.init.call(this),this.workerPool=e,this.worker=e.allocateWorker(),this.worker.__connections[this.guid]=this},e.destroy=function(){this.sendMessage({type:"destroy"}),delete this.worker.__connections[this.guid]},e.killWorker=function(){this.worker.__isFake||this.workerPool.killWorker(this.worker)},e.onWorkerKilled=function(){},e.onResponse=function(e){},e.sendMessage=function(e){this.worker.__isFake?this.worker.postMessage(e):this.worker.postMessage({connectionId:this.guid,originalMessage:e})}})}),define("text!worker_src_underlying",[],function(){return'var requirejs,require,define;!function(e){var n,r,i,t,o={},u={},f={},c={},l=Object.prototype.hasOwnProperty,s=[].slice;function p(e,n){return l.call(e,n)}function a(e,n){var r,i,t,o,u,c,l,s,p,a,d=n&&n.split("/"),g=f.map,q=g&&g["*"]||{};if(e&&"."===e.charAt(0))if(n){for(e=(d=d.slice(0,d.length-1)).concat(e.split("/")),s=0;s<e.length;s+=1)if("."===(a=e[s]))e.splice(s,1),s-=1;else if(".."===a){if(1===s&&(".."===e[2]||".."===e[0]))break;s>0&&(e.splice(s-1,2),s-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((d||q)&&g){for(s=(r=e.split("/")).length;s>0;s-=1){if(i=r.slice(0,s).join("/"),d)for(p=d.length;p>0;p-=1)if((t=g[d.slice(0,p).join("/")])&&(t=t[i])){o=t,u=s;break}if(o)break;!c&&q&&q[i]&&(c=q[i],l=s)}!o&&c&&(o=c,u=l),o&&(r.splice(0,u,o),e=r.join("/"))}return e}function d(n,i){return function(){return r.apply(e,s.call(arguments,0).concat([n,i]))}}function g(e){return function(n){o[e]=n}}function q(r){if(p(u,r)){var i=u[r];delete u[r],c[r]=!0,n.apply(e,i)}if(!p(o,r)&&!p(c,r))throw new Error("No "+r);return o[r]}function O(e){var n,r=e?e.indexOf("!"):-1;return r>-1&&(n=e.substring(0,r),e=e.substring(r+1,e.length)),[n,e]}function h(e){return function(){return f&&f.config&&f.config[e]||{}}}i=function(e,n){var r,i=O(e),t=i[0];return e=i[1],t&&(r=q(t=a(t,n))),t?e=r&&r.normalize?r.normalize(e,function(e){return function(n){return a(n,e)}}(n)):a(e,n):(t=(i=O(e=a(e,n)))[0],e=i[1],t&&(r=q(t))),{f:t?t+"!"+e:e,n:e,pr:t,p:r}},t={require:function(e){return d(e)},exports:function(e){var n=o[e];return void 0!==n?n:o[e]={}},module:function(e){return{id:e,uri:"",exports:o[e],config:h(e)}}},n=function(n,r,f,l){var s,a,O,h,E,j,m=[];if(l=l||n,"function"==typeof f){for(r=!r.length&&f.length?["require","exports","module"]:r,E=0;E<r.length;E+=1)if("require"===(a=(h=i(r[E],l)).f))m[E]=t.require(n);else if("exports"===a)m[E]=t.exports(n),j=!0;else if("module"===a)s=m[E]=t.module(n);else if(p(o,a)||p(u,a)||p(c,a))m[E]=q(a);else{if(!h.p)throw new Error(n+" missing "+a);h.p.load(h.n,d(l,!0),g(a),{}),m[E]=o[a]}O=f.apply(o[n],m),n&&(s&&s.exports!==e&&s.exports!==o[n]?o[n]=s.exports:O===e&&j||(o[n]=O))}else n&&(o[n]=f)},requirejs=require=r=function(o,u,c,l,s){return"string"==typeof o?t[o]?t[o](u):q(i(o,u).f):(o.splice||(f=o,u.splice?(o=u,u=c,c=null):o=e),u=u||function(){},"function"==typeof c&&(c=l,l=s),l?n(e,o,u,c):setTimeout(function(){n(e,o,u,c)},4),r)},r.config=function(e){return(f=e).deps&&r(f.deps,f.callback),r},(define=function(e,n,r){n.splice||(r=n,n=[]),p(o,e)||p(u,e)||(u[e]=[e,n,r])}).amd={jQuery:!0}}(),"undefined"!=typeof ALMOND_OVERRIDES&&ALMOND_OVERRIDES&&(define=ALMOND_OVERRIDES.define||define,require=ALMOND_OVERRIDES.require||require,requirejs=ALMOND_OVERRIDES.requirejs||requirejs);\ndefine("core/vendor/almond", function(){});\n\ndefine("pjs",[],function(){return function(n,t,o){function r(n){return"object"==typeof n}function e(n){return"function"==typeof n}function i(){}return function n(o,p){function u(){var n=new c;return e(n.init)&&n.init.apply(n,arguments),n}function c(){}undefined===p&&(p=o,o=Object),u.Bare=c;var f,y=i.prototype=o.prototype,a=c.prototype=u.prototype=new i;return a.constructor=u,u.mixin=function(t){return c.prototype=u.prototype=n(u,t).prototype,u},(u.open=function(n){if(f={},e(n)?f=n.call(u,a,y,u,o):r(n)&&(f=n),r(f))for(var i in f)t.call(f,i)&&(a[i]=f[i]);return e(a.init)||(a.init=o),u})(p)}}(0,{}.hasOwnProperty)});\ndefine(\'core/math/parser/input-span\',["require","exports"],function(require,n){"use strict";function t(n,t,e){return{input:n,start:t,end:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.slice=n.joinSpans=n.emptySpanAt=n.Span=void 0,n.Span=t,n.emptySpanAt=function(n,e){return t(n,e,e)},n.joinSpans=function(n,e){if(n.input!==e.input)throw new Error("Programming Error: cannot form a span on different inputs");return t(n.input,n.start,e.end)},n.slice=function(n){return n.input.slice(n.start,n.end)}});\ndefine(\'core/math/domaintypes\',["require","exports"],function(require,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.intersectDomains=n.allReals=n.linearPositiveDomain=n.knownDomain=n.unknownDomain=n.emptyDomain=void 0;n.emptyDomain=function(){return{type:"empty"}};n.unknownDomain=function(){return{type:"unknown"}};n.knownDomain=function(e){return isNaN(e[0])||isNaN(e[1])||e[1]<e[0]?n.emptyDomain():{type:"known",bounds:e}};n.linearPositiveDomain=function(e,o){if(0===o)return e>0?n.allReals():n.emptyDomain();var t=-e/o,i=o<0?[-1/0,t]:[t,1/0];return n.knownDomain(i)};n.allReals=function(){return n.knownDomain([-1/0,1/0])};n.intersectDomains=function(e,o){if("empty"===e.type||"empty"===o.type)return n.emptyDomain();if("unknown"===e.type||"unknown"===o.type)return n.unknownDomain();if(e.bounds&&o.bounds){var t=[Math.max(e.bounds[0],o.bounds[0]),Math.min(e.bounds[1],o.bounds[1])];return n.knownDomain(t)}return n.emptyDomain()}});\ndefine(\'core/lib/worker-i18n\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.s=void 0,e.s=function(e,r){return{key:e,vars:r}}});\ndefine(\'core/math/types\',["require","exports","core/lib/worker-i18n"],function(require,e,t){"use strict";var r;function s(t){switch(t){case e.Any:return"Any";case e.Number:return"Number";case e.Bool:return"Bool";case e.Point:return"Point";case e.Distribution:return"Distribution";case e.Action:return"Action";case e.ListOfAny:return"ListOfAny";case e.ListOfNumber:return"ListOfNumber";case e.ListOfBool:return"ListOfBool";case e.ListOfPoint:return"ListOfPoint";case e.ListOfDistribution:return"ListOfDistribution";case e.EmptyList:return"EmptyList";case e.ErrorType:return"ErrorType";case e.SeedType:return"SeedType";case e.RGBColor:return"RGBColor";case e.ListOfColor:return"ListOfColor";case e.Polygon:return"Polygon";case e.ListOfPolygon:return"ListOfPolygon";default:throw new Error("Invalid type: "+t)}}Object.defineProperty(e,"__esModule",{value:!0}),e.isTypeOrListOfType=e.typesMatch=e.isSubType=e.isOneOf=e.hasListType=e.listType=e.elementType=e.isList=e.prettyPrint=e.repr=e.ListOfPolygon=e.Polygon=e.ListOfColor=e.RGBColor=e.SeedType=e.ErrorType=e.EmptyList=e.ListOfDistribution=e.ListOfPoint=e.ListOfBool=e.ListOfNumber=e.ListOfAny=e.Action=e.Distribution=e.Point=e.Bool=e.Number=e.Any=void 0,e.Any=0,e.Number=1,e.Bool=2,e.Point=3,e.Distribution=4,e.Action=5,e.ListOfAny=6,e.ListOfNumber=7,e.ListOfBool=8,e.ListOfPoint=9,e.ListOfDistribution=10,e.EmptyList=11,e.ErrorType=12,e.SeedType=13,e.RGBColor=14,e.ListOfColor=15,e.Polygon=16,e.ListOfPolygon=17,e.repr=s,e.prettyPrint=function(r){switch(r){case e.Any:return t.s("shared-calculator-label-value-type-any");case e.Number:return t.s("shared-calculator-label-value-type-number");case e.Bool:return t.s("shared-calculator-label-value-type-bool");case e.Point:return t.s("shared-calculator-label-value-type-point");case e.Distribution:return t.s("shared-calculator-label-value-type-distribution");case e.Action:return t.s("shared-calculator-label-value-type-action");case e.ListOfAny:return t.s("shared-calculator-label-value-type-list-of-any");case e.ListOfNumber:return t.s("shared-calculator-label-value-type-list-of-numbers");case e.ListOfBool:return t.s("shared-calculator-label-value-type-list-of-bool");case e.ListOfPoint:return t.s("shared-calculator-label-value-type-list-of-points");case e.ListOfDistribution:return t.s("shared-calculator-label-value-type-list-of-distributions");case e.EmptyList:return t.s("shared-calculator-label-value-type-empty-list");case e.ErrorType:return t.s("shared-calculator-label-value-type-error");case e.SeedType:return t.s("shared-calculator-label-value-type-seed");case e.RGBColor:return t.s("shared-calculator-label-value-type-color");case e.ListOfColor:return t.s("shared-calculator-label-value-type-list-of-colors");case e.Polygon:return t.s("shared-calculator-label-value-type-polygon");case e.ListOfPolygon:return t.s("shared-calculator-label-value-type-list-of-polygons");default:throw new Error("Invalid type: "+r)}};(r={})[e.ListOfAny]=e.Any,r[e.EmptyList]=e.Number,r[e.ListOfNumber]=e.Number,r[e.ListOfBool]=e.Bool,r[e.ListOfPoint]=e.Point,r[e.ListOfDistribution]=e.Distribution,r[e.ListOfColor]=e.RGBColor,r[e.ListOfPolygon]=e.Polygon;function o(t){switch(t){case e.ListOfAny:case e.ListOfNumber:case e.ListOfBool:case e.ListOfPoint:case e.ListOfDistribution:case e.ListOfColor:case e.ListOfPolygon:case e.EmptyList:return!0;case e.Any:case e.Number:case e.Bool:case e.Point:case e.Distribution:case e.ErrorType:case e.SeedType:case e.RGBColor:case e.Action:case e.Polygon:return!1;default:throw new Error("Invalid type: "+t)}}function i(t){switch(t){case e.EmptyList:case e.ListOfNumber:return e.Number;case e.ListOfBool:return e.Bool;case e.ListOfPoint:return e.Point;case e.ListOfDistribution:return e.Distribution;case e.ListOfColor:return e.RGBColor;case e.ListOfPolygon:return e.Polygon;case e.ListOfAny:return e.Any;case e.Any:case e.Number:case e.Bool:case e.Point:case e.Distribution:case e.ErrorType:case e.SeedType:case e.RGBColor:case e.Action:case e.Polygon:return e.Any;default:throw new Error("Invalid type: "+t)}}function a(t,r){return!(t!==e.EmptyList||!o(r))||(!(r!==e.ListOfAny||!o(t))||t===r)}e.isList=o,e.elementType=i,e.listType=function(t){switch(t){case e.Any:return e.ListOfAny;case e.Number:return e.ListOfNumber;case e.Bool:return e.ListOfBool;case e.Point:return e.ListOfPoint;case e.Distribution:return e.ListOfDistribution;case e.RGBColor:return e.ListOfColor;case e.Polygon:return e.ListOfPolygon;case e.EmptyList:case e.ListOfNumber:case e.ListOfBool:case e.ListOfPoint:case e.ListOfDistribution:case e.ListOfColor:case e.ListOfPolygon:case e.ListOfAny:case e.ErrorType:case e.SeedType:case e.Action:throw new Error("Type "+s(t)+" does not implement listType.");default:throw new Error("Invalid type: "+t)}},e.hasListType=function(t){switch(t){case e.Any:case e.Number:case e.Bool:case e.Point:case e.Distribution:case e.RGBColor:case e.Polygon:return!0;case e.EmptyList:case e.ListOfNumber:case e.ListOfBool:case e.ListOfPoint:case e.ListOfDistribution:case e.ListOfColor:case e.ListOfPolygon:case e.ListOfAny:case e.ErrorType:case e.SeedType:case e.Action:return!1;default:throw new Error("Invalid type: "+t)}},e.isOneOf=function(e,t){for(var r=0,s=t;r<s.length;r++){if(e===s[r])return!0}return!1},e.isSubType=a,e.typesMatch=function(e,t){return a(e,t)||a(t,e)},e.isTypeOrListOfType=function(t,r){return t===r||!!o(t)&&(t===e.EmptyList||i(t)===r)}});\ndefine(\'core/math/parsenode/base\',[\'require\',\'pjs\',\'core/math/parser/input-span\',\'core/math/domaintypes\',\'core/math/types\'],function(require){"use strict";var e=require("pjs"),n=require("core/math/parser/input-span"),t=require("core/math/domaintypes"),i=require("core/math/types");return e(function(e,s,d){e.init=function(){this._dependencies=[],this._dummyDependencies=[],this._updateSymbols=[],this._scope={definitions:[],dependencies:[],scopes:[]},this._exports=[]},e.exportPenalty=0,e.setInputSpan=function(e){this._inputSpan=e},e.getInputString=function(){return void 0===this.getInputSpan()?"":n.slice(this._inputSpan)},e.getInputSpan=function(){return this._inputSpan},e.shouldExportAns=function(){return!1},e.getAnsVariable=function(){return this.shouldExportAns()&&this.userData&&this.userData.hasOwnProperty("index")?["ans_"+this.userData.index]:[]},e.addDependency=function(e){-1===this._dependencies.indexOf(e)&&this._dependencies.push(e),-1===this._scope.dependencies.indexOf(e)&&this._scope.dependencies.push(e)},e.addDependencies=function(e){for(var n=0;n<e.length;n++)this.addDependency(e[n])},e.addDummyDependency=function(e){-1===this._dependencies.indexOf(e)&&this._dependencies.push(e),-1===this._dummyDependencies.indexOf(e)&&this._dummyDependencies.push(e)},e.addDummyDependencies=function(e){for(var n=0;n<e.length;n++)this.addDummyDependency(e[n])},e.addUpdateSymbol=function(e){-1===this._dependencies.indexOf(e)&&this._dependencies.push(e),-1===this._updateSymbols.indexOf(e)&&this._updateSymbols.push(e)},e.mergeDependencies=function(){for(var e=0;e<arguments.length;e++){var n,t=arguments[e];for(n=0;n<t._dependencies.length;n++)-1===this._dependencies.indexOf(t._dependencies[n])&&this._dependencies.push(t._dependencies[n]);for(n=0;n<t._updateSymbols.length;n++)-1===this._updateSymbols.indexOf(t._updateSymbols[n])&&this._updateSymbols.push(t._updateSymbols[n]);for(n=0;n<t._scope.dependencies.length;n++)-1===this._scope.dependencies.indexOf(t._scope.dependencies[n])&&this._scope.dependencies.push(t._scope.dependencies[n]);this.addDummyDependencies(t.getDummyDependencies()),Array.prototype.push.apply(this._scope.scopes,t._scope.scopes)}},e.mergeDependenciesInScope=function(e,n){this.addDummyDependencies(e);var t=n.getScope(),i={definitions:e,dependencies:t.dependencies,scopes:t.scopes};this._scope.scopes.push(i);for(var s=0;s<n._dependencies.length;s++)-1===this._dependencies.indexOf(n._dependencies[s])&&this._dependencies.push(n._dependencies[s]);for(s=0;s<n._updateSymbols.length;s++)-1===this._updateSymbols.indexOf(n._updateSymbols[s])&&this._updateSymbols.push(n._updateSymbols[s]);this.addDummyDependencies(n.getDummyDependencies())},e.getDependencies=function(){return this._dependencies},e.getDummyDependencies=function(){return this._dummyDependencies},e.getUpdateSymbols=function(){return this._updateSymbols},e.getScope=function(){return this._scope},e.dependsOn=function(e){return this._dependencies.indexOf(e)>-1},e.getExports=function(){return(this._exports||[]).concat(this.getAnsVariable())},e.getLegalExports=function(e){return this.getExports().filter(function(n){return!e.assignmentForbidden(n)})},e.exportsSymbol=function(e){return this._exports.indexOf(e)>-1},e.exportTo=function(e,n,t){for(var i=this.getLegalExports(e),s=0;s<i.length;s++){var d=i[s];if(t[d])return;t[d]=n.blocksExport?n:this}},e.getOperator=function(){return this.operator||"="},e.isInequality=function(){return!1},e.isShadeBetween=function(){return!1},e.getAllIds=function(){return this.userData?[this.userData.id]:[]},e.getEvaluationInfo=function(){return!1},e.shouldPromoteToSlider=function(e){return!1},e.getSliderVariables=function(e,n){var t=e.sliderVariables(n.getDependencies());return n.valueType===i.Point||n.valueType===i.ListOfPoint?t.filter(function(n){return!e.validParametricVariable(n)}):t},e.getCompiledDerivative=function(){var e=this.getDependencies();return this.takeDerivative(e[0]||"x").getCompiledFunction()},e.asValue=function(){},e.boundDomain=function(e){return t.unknownDomain()}})});\ndefine(\'core/math/parsenode/error\',[\'require\',\'pjs\',\'./base\'],function(require){"use strict";return require("pjs")(require("./base"),function(t,n){t.init=function(t){n.init.call(this),this._msg=t,this.blocksExport=!0},t.evaluateOnce=function(t){return this._msg},t.isError=!0,t.getError=function(){return this._msg},t.setDependencies=function(t){return this.addDependencies(t),this},t.setActionValue=function(t){this.actionValue=t},t.allowExport=function(){return this.blocksExport=!1,this}})});\n!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define("underscore",r):function(){var t=n._,e=r();n._=e,e.noConflict=function(){return n._=t,e}}()}(this,function(){var n="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},r=Array.prototype,t=Object.prototype,e="undefined"!=typeof Symbol?Symbol.prototype:null,u=r.push,o=r.slice,i=t.toString,a=t.hasOwnProperty,f=Array.isArray,c=Object.keys,l=Object.create,p=n.isNaN,s=n.isFinite,v=function(){};function h(n){return n instanceof h?n:this instanceof h?void(this._wrapped=n):new h(n)}var y=h.VERSION="1.10.2";function g(n,r,t){if(void 0===r)return n;switch(null==t?3:t){case 1:return function(t){return n.call(r,t)};case 3:return function(t,e,u){return n.call(r,t,e,u)};case 4:return function(t,e,u,o){return n.call(r,t,e,u,o)}}return function(){return n.apply(r,arguments)}}function d(n,r,t){return null==n?ur:Cn(n)?g(n,r,t):Ln(n)&&!Kn(n)?ir(n):or(n)}function m(n,r){return d(n,r,1/0)}function b(n,r,t){return h.iteratee!==m?h.iteratee(n,r):d(n,r,t)}function j(n,r){return r=null==r?n.length-1:+r,function(){for(var t=Math.max(arguments.length-r,0),e=Array(t),u=0;u<t;u++)e[u]=arguments[u+r];switch(r){case 0:return n.call(this,e);case 1:return n.call(this,arguments[0],e);case 2:return n.call(this,arguments[0],arguments[1],e)}var o=Array(r+1);for(u=0;u<r;u++)o[u]=arguments[u];return o[r]=e,n.apply(this,o)}}function _(n){if(!Ln(n))return{};if(l)return l(n);v.prototype=n;var r=new v;return v.prototype=null,r}function w(n){return function(r){return null==r?void 0:r[n]}}function x(n,r){return null!=n&&a.call(n,r)}function S(n,r){for(var t=r.length,e=0;e<t;e++){if(null==n)return;n=n[r[e]]}return t?n:void 0}h.iteratee=m;var A=Math.pow(2,53)-1,O=w("length");function M(n){var r=O(n);return"number"==typeof r&&r>=0&&r<=A}function E(n,r,t){var e,u;if(r=g(r,t),M(n))for(e=0,u=n.length;e<u;e++)r(n[e],e,n);else{var o=Sn(n);for(e=0,u=o.length;e<u;e++)r(n[o[e]],o[e],n)}return n}function N(n,r,t){r=b(r,t);for(var e=!M(n)&&Sn(n),u=(e||n).length,o=Array(u),i=0;i<u;i++){var a=e?e[i]:i;o[i]=r(n[a],a,n)}return o}function k(n){var r=function(r,t,e,u){var o=!M(r)&&Sn(r),i=(o||r).length,a=n>0?0:i-1;for(u||(e=r[o?o[a]:a],a+=n);a>=0&&a<i;a+=n){var f=o?o[a]:a;e=t(e,r[f],f,r)}return e};return function(n,t,e,u){var o=arguments.length>=3;return r(n,g(t,u,4),e,o)}}var I=k(1),T=k(-1);function B(n,r,t){var e=(M(n)?on:Tn)(n,r,t);if(void 0!==e&&-1!==e)return n[e]}function R(n,r,t){var e=[];return r=b(r,t),E(n,function(n,t,u){r(n,t,u)&&e.push(n)}),e}function F(n,r,t){r=b(r,t);for(var e=!M(n)&&Sn(n),u=(e||n).length,o=0;o<u;o++){var i=e?e[o]:o;if(!r(n[i],i,n))return!1}return!0}function q(n,r,t){r=b(r,t);for(var e=!M(n)&&Sn(n),u=(e||n).length,o=0;o<u;o++){var i=e?e[o]:o;if(r(n[i],i,n))return!0}return!1}function D(n,r,t,e){return M(n)||(n=On(n)),("number"!=typeof t||e)&&(t=0),ln(n,r,t)>=0}var W=j(function(n,r,t){var e,u;return Cn(r)?u=r:Kn(r)&&(e=r.slice(0,-1),r=r[r.length-1]),N(n,function(n){var o=u;if(!o){if(e&&e.length&&(n=S(n,e)),null==n)return;o=n[r]}return null==o?o:o.apply(n,t)})});function z(n,r){return N(n,or(r))}function P(n,r,t){var e,u,o=-1/0,i=-1/0;if(null==r||"number"==typeof r&&"object"!=typeof n[0]&&null!=n)for(var a=0,f=(n=M(n)?n:On(n)).length;a<f;a++)null!=(e=n[a])&&e>o&&(o=e);else r=b(r,t),E(n,function(n,t,e){((u=r(n,t,e))>i||u===-1/0&&o===-1/0)&&(o=n,i=u)});return o}function K(n,r,t){if(null==r||t)return M(n)||(n=On(n)),n[ar(n.length-1)];var e=M(n)?Dn(n):On(n),u=O(e);r=Math.max(Math.min(r,u),0);for(var o=u-1,i=0;i<r;i++){var a=ar(i,o),f=e[i];e[i]=e[a],e[a]=f}return e.slice(0,r)}function L(n,r){return function(t,e,u){var o=r?[[],[]]:{};return e=b(e,u),E(t,function(r,u){var i=e(r,u,t);n(o,r,i)}),o}}var V=L(function(n,r,t){x(n,t)?n[t].push(r):n[t]=[r]}),C=L(function(n,r,t){n[t]=r}),J=L(function(n,r,t){x(n,t)?n[t]++:n[t]=1}),U=/[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;var $=L(function(n,r,t){n[t?0:1].push(r)},!0);function G(n,r,t){return null==n||n.length<1?null==r?void 0:[]:null==r||t?n[0]:H(n,n.length-r)}function H(n,r,t){return o.call(n,0,Math.max(0,n.length-(null==r||t?1:r)))}function Q(n,r,t){return o.call(n,null==r||t?1:r)}function X(n,r,t,e){for(var u=(e=e||[]).length,o=0,i=O(n);o<i;o++){var a=n[o];if(M(a)&&(Kn(a)||Vn(a)))if(r)for(var f=0,c=a.length;f<c;)e[u++]=a[f++];else X(a,r,t,e),u=e.length;else t||(e[u++]=a)}return e}var Y=j(function(n,r){return rn(n,r)});function Z(n,r,t,e){er(r)||(e=t,t=r,r=!1),null!=t&&(t=b(t,e));for(var u=[],o=[],i=0,a=O(n);i<a;i++){var f=n[i],c=t?t(f,i,n):f;r&&!t?(i&&o===c||u.push(f),o=c):t?D(o,c)||(o.push(c),u.push(f)):D(u,f)||u.push(f)}return u}var nn=j(function(n){return Z(X(n,!0,!0))});var rn=j(function(n,r){return r=X(r,!0,!0),R(n,function(n){return!D(r,n)})});function tn(n){for(var r=n&&P(n,O).length||0,t=Array(r),e=0;e<r;e++)t[e]=z(n,e);return t}var en=j(tn);function un(n){return function(r,t,e){t=b(t,e);for(var u=O(r),o=n>0?0:u-1;o>=0&&o<u;o+=n)if(t(r[o],o,r))return o;return-1}}var on=un(1),an=un(-1);function fn(n,r,t,e){for(var u=(t=b(t,e,1))(r),o=0,i=O(n);o<i;){var a=Math.floor((o+i)/2);t(n[a])<u?o=a+1:i=a}return o}function cn(n,r,t){return function(e,u,i){var a=0,f=O(e);if("number"==typeof i)n>0?a=i>=0?i:Math.max(i+f,a):f=i>=0?Math.min(i+1,f):i+f+1;else if(t&&i&&f)return e[i=t(e,u)]===u?i:-1;if(u!=u)return(i=r(o.call(e,a,f),tr))>=0?i+a:-1;for(i=n>0?a:f-1;i>=0&&i<f;i+=n)if(e[i]===u)return i;return-1}}var ln=cn(1,on,fn),pn=cn(-1,an);function sn(n,r,t,e,u){if(!(e instanceof r))return n.apply(t,u);var o=_(n.prototype),i=n.apply(o,u);return Ln(i)?i:o}var vn=j(function(n,r,t){if(!Cn(n))throw new TypeError("Bind must be called on a function");var e=j(function(u){return sn(n,e,r,this,t.concat(u))});return e}),hn=j(function(n,r){var t=hn.placeholder,e=function(){for(var u=0,o=r.length,i=Array(o),a=0;a<o;a++)i[a]=r[a]===t?arguments[u++]:r[a];for(;u<arguments.length;)i.push(arguments[u++]);return sn(n,e,this,this,i)};return e});hn.placeholder=h;var yn=j(function(n,r){var t=(r=X(r,!1,!1)).length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var e=r[t];n[e]=vn(n[e],n)}});var gn=j(function(n,r,t){return setTimeout(function(){return n.apply(null,t)},r)}),dn=hn(gn,h,1);function mn(n){return function(){return!n.apply(this,arguments)}}function bn(n,r){var t;return function(){return--n>0&&(t=r.apply(this,arguments)),n<=1&&(r=null),t}}var jn=hn(bn,2),_n=!{toString:null}.propertyIsEnumerable("toString"),wn=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function xn(n,r){var e=wn.length,u=n.constructor,o=Cn(u)&&u.prototype||t,i="constructor";for(x(n,i)&&!D(r,i)&&r.push(i);e--;)(i=wn[e])in n&&n[i]!==o[i]&&!D(r,i)&&r.push(i)}function Sn(n){if(!Ln(n))return[];if(c)return c(n);var r=[];for(var t in n)x(n,t)&&r.push(t);return _n&&xn(n,r),r}function An(n){if(!Ln(n))return[];var r=[];for(var t in n)r.push(t);return _n&&xn(n,r),r}function On(n){for(var r=Sn(n),t=r.length,e=Array(t),u=0;u<t;u++)e[u]=n[r[u]];return e}function Mn(n){for(var r={},t=Sn(n),e=0,u=t.length;e<u;e++)r[n[t[e]]]=t[e];return r}function En(n){var r=[];for(var t in n)Cn(n[t])&&r.push(t);return r.sort()}function Nn(n,r){return function(t){var e=arguments.length;if(r&&(t=Object(t)),e<2||null==t)return t;for(var u=1;u<e;u++)for(var o=arguments[u],i=n(o),a=i.length,f=0;f<a;f++){var c=i[f];r&&void 0!==t[c]||(t[c]=o[c])}return t}}var kn=Nn(An),In=Nn(Sn);function Tn(n,r,t){r=b(r,t);for(var e,u=Sn(n),o=0,i=u.length;o<i;o++)if(r(n[e=u[o]],e,n))return e}function Bn(n,r,t){return r in t}var Rn=j(function(n,r){var t={},e=r[0];if(null==n)return t;Cn(e)?(r.length>1&&(e=g(e,r[1])),r=An(n)):(e=Bn,r=X(r,!1,!1),n=Object(n));for(var u=0,o=r.length;u<o;u++){var i=r[u],a=n[i];e(a,i,n)&&(t[i]=a)}return t}),Fn=j(function(n,r){var t,e=r[0];return Cn(e)?(e=mn(e),r.length>1&&(t=r[1])):(r=N(X(r,!1,!1),String),e=function(n,t){return!D(r,t)}),Rn(n,e,t)}),qn=Nn(An,!0);function Dn(n){return Ln(n)?Kn(n)?n.slice():kn({},n):n}function Wn(n,r){var t=Sn(r),e=t.length;if(null==n)return!e;for(var u=Object(n),o=0;o<e;o++){var i=t[o];if(r[i]!==u[i]||!(i in u))return!1}return!0}function zn(n,r,t,u){if(n===r)return 0!==n||1/n==1/r;if(null==n||null==r)return!1;if(n!=n)return r!=r;var o=typeof n;return("function"===o||"object"===o||"object"==typeof r)&&function(n,r,t,u){n instanceof h&&(n=n._wrapped);r instanceof h&&(r=r._wrapped);var o=i.call(n);if(o!==i.call(r))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+n==""+r;case"[object Number]":return+n!=+n?+r!=+r:0==+n?1/+n==1/r:+n==+r;case"[object Date]":case"[object Boolean]":return+n==+r;case"[object Symbol]":return e.valueOf.call(n)===e.valueOf.call(r)}var a="[object Array]"===o;if(!a){if("object"!=typeof n||"object"!=typeof r)return!1;var f=n.constructor,c=r.constructor;if(f!==c&&!(Cn(f)&&f instanceof f&&Cn(c)&&c instanceof c)&&"constructor"in n&&"constructor"in r)return!1}u=u||[];var l=(t=t||[]).length;for(;l--;)if(t[l]===n)return u[l]===r;if(t.push(n),u.push(r),a){if((l=n.length)!==r.length)return!1;for(;l--;)if(!zn(n[l],r[l],t,u))return!1}else{var p,s=Sn(n);if(l=s.length,Sn(r).length!==l)return!1;for(;l--;)if(!x(r,p=s[l])||!zn(n[p],r[p],t,u))return!1}return t.pop(),u.pop(),!0}(n,r,t,u)}function Pn(n){return function(r){return i.call(r)==="[object "+n+"]"}}var Kn=f||Pn("Array");function Ln(n){var r=typeof n;return"function"===r||"object"===r&&!!n}var Vn=Pn("Arguments"),Cn=Pn("Function"),Jn=Pn("String"),Un=Pn("Number"),$n=Pn("Date"),Gn=Pn("RegExp"),Hn=Pn("Error"),Qn=Pn("Symbol"),Xn=Pn("Map"),Yn=Pn("WeakMap"),Zn=Pn("Set"),nr=Pn("WeakSet");!function(){Vn(arguments)||(Vn=function(n){return x(n,"callee")})}();var rr=n.document&&n.document.childNodes;function tr(n){return Un(n)&&p(n)}function er(n){return!0===n||!1===n||"[object Boolean]"===i.call(n)}function ur(n){return n}function or(n){return Kn(n)?function(r){return S(r,n)}:w(n)}function ir(n){return n=In({},n),function(r){return Wn(r,n)}}function ar(n,r){return null==r&&(r=n,n=0),n+Math.floor(Math.random()*(r-n+1))}"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof rr&&(Cn=function(n){return"function"==typeof n||!1});var fr=Date.now||function(){return(new Date).getTime()},cr={"&":"&amp;","<":"&lt;",">":"&gt;",\'"\':"&quot;","\'":"&#x27;","`":"&#x60;"},lr=Mn(cr);function pr(n){var r=function(r){return n[r]},t="(?:"+Sn(n).join("|")+")",e=RegExp(t),u=RegExp(t,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,r):n}}var sr=pr(cr),vr=pr(lr);var hr=0;var yr=h.templateSettings={evaluate:/<%([\\s\\S]+?)%>/g,interpolate:/<%=([\\s\\S]+?)%>/g,escape:/<%-([\\s\\S]+?)%>/g},gr=/(.)^/,dr={"\'":"\'","\\\\":"\\\\","\\r":"r","\\n":"n","\\u2028":"u2028","\\u2029":"u2029"},mr=/\\\\|\'|\\r|\\n|\\u2028|\\u2029/g,br=function(n){return"\\\\"+dr[n]};function jr(n,r){return n._chain?h(r).chain():r}function _r(n){return E(En(n),function(r){var t=h[r]=n[r];h.prototype[r]=function(){var n=[this._wrapped];return u.apply(n,arguments),jr(this,t.apply(h,n))}}),h}E(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=r[n];h.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],jr(this,r)}}),E(["concat","join","slice"],function(n){var t=r[n];h.prototype[n]=function(){return jr(this,t.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped},h.prototype.valueOf=h.prototype.toJSON=h.prototype.value,h.prototype.toString=function(){return String(this._wrapped)};var wr=_r({default:h,VERSION:y,iteratee:m,restArguments:j,each:E,forEach:E,map:N,collect:N,reduce:I,foldl:I,inject:I,reduceRight:T,foldr:T,find:B,detect:B,filter:R,select:R,reject:function(n,r,t){return R(n,mn(b(r)),t)},every:F,all:F,some:q,any:q,contains:D,includes:D,include:D,invoke:W,pluck:z,where:function(n,r){return R(n,ir(r))},findWhere:function(n,r){return B(n,ir(r))},max:P,min:function(n,r,t){var e,u,o=1/0,i=1/0;if(null==r||"number"==typeof r&&"object"!=typeof n[0]&&null!=n)for(var a=0,f=(n=M(n)?n:On(n)).length;a<f;a++)null!=(e=n[a])&&e<o&&(o=e);else r=b(r,t),E(n,function(n,t,e){((u=r(n,t,e))<i||u===1/0&&o===1/0)&&(o=n,i=u)});return o},shuffle:function(n){return K(n,1/0)},sample:K,sortBy:function(n,r,t){var e=0;return r=b(r,t),z(N(n,function(n,t,u){return{value:n,index:e++,criteria:r(n,t,u)}}).sort(function(n,r){var t=n.criteria,e=r.criteria;if(t!==e){if(t>e||void 0===t)return 1;if(t<e||void 0===e)return-1}return n.index-r.index}),"value")},groupBy:V,indexBy:C,countBy:J,toArray:function(n){return n?Kn(n)?o.call(n):Jn(n)?n.match(U):M(n)?N(n,ur):On(n):[]},size:function(n){return null==n?0:M(n)?n.length:Sn(n).length},partition:$,first:G,head:G,take:G,initial:H,last:function(n,r,t){return null==n||n.length<1?null==r?void 0:[]:null==r||t?n[n.length-1]:Q(n,Math.max(0,n.length-r))},rest:Q,tail:Q,drop:Q,compact:function(n){return R(n,Boolean)},flatten:function(n,r){return X(n,r,!1)},without:Y,uniq:Z,unique:Z,union:nn,intersection:function(n){for(var r=[],t=arguments.length,e=0,u=O(n);e<u;e++){var o=n[e];if(!D(r,o)){var i;for(i=1;i<t&&D(arguments[i],o);i++);i===t&&r.push(o)}}return r},difference:rn,unzip:tn,zip:en,object:function(n,r){for(var t={},e=0,u=O(n);e<u;e++)r?t[n[e]]=r[e]:t[n[e][0]]=n[e][1];return t},findIndex:on,findLastIndex:an,sortedIndex:fn,indexOf:ln,lastIndexOf:pn,range:function(n,r,t){null==r&&(r=n||0,n=0),t||(t=r<n?-1:1);for(var e=Math.max(Math.ceil((r-n)/t),0),u=Array(e),o=0;o<e;o++,n+=t)u[o]=n;return u},chunk:function(n,r){if(null==r||r<1)return[];for(var t=[],e=0,u=n.length;e<u;)t.push(o.call(n,e,e+=r));return t},bind:vn,partial:hn,bindAll:yn,memoize:function(n,r){var t=function(e){var u=t.cache,o=""+(r?r.apply(this,arguments):e);return x(u,o)||(u[o]=n.apply(this,arguments)),u[o]};return t.cache={},t},delay:gn,defer:dn,throttle:function(n,r,t){var e,u,o,i,a=0;t||(t={});var f=function(){a=!1===t.leading?0:fr(),e=null,i=n.apply(u,o),e||(u=o=null)},c=function(){var c=fr();a||!1!==t.leading||(a=c);var l=r-(c-a);return u=this,o=arguments,l<=0||l>r?(e&&(clearTimeout(e),e=null),a=c,i=n.apply(u,o),e||(u=o=null)):e||!1===t.trailing||(e=setTimeout(f,l)),i};return c.cancel=function(){clearTimeout(e),a=0,e=u=o=null},c},debounce:function(n,r,t){var e,u,o=function(r,t){e=null,t&&(u=n.apply(r,t))},i=j(function(i){if(e&&clearTimeout(e),t){var a=!e;e=setTimeout(o,r),a&&(u=n.apply(this,i))}else e=gn(o,r,this,i);return u});return i.cancel=function(){clearTimeout(e),e=null},i},wrap:function(n,r){return hn(r,n)},negate:mn,compose:function(){var n=arguments,r=n.length-1;return function(){for(var t=r,e=n[r].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},after:function(n,r){return function(){if(--n<1)return r.apply(this,arguments)}},before:bn,once:jn,keys:Sn,allKeys:An,values:On,mapObject:function(n,r,t){r=b(r,t);for(var e=Sn(n),u=e.length,o={},i=0;i<u;i++){var a=e[i];o[a]=r(n[a],a,n)}return o},pairs:function(n){for(var r=Sn(n),t=r.length,e=Array(t),u=0;u<t;u++)e[u]=[r[u],n[r[u]]];return e},invert:Mn,functions:En,methods:En,extend:kn,extendOwn:In,assign:In,findKey:Tn,pick:Rn,omit:Fn,defaults:qn,create:function(n,r){var t=_(n);return r&&In(t,r),t},clone:Dn,tap:function(n,r){return r(n),n},isMatch:Wn,isEqual:function(n,r){return zn(n,r)},isEmpty:function(n){return null==n||(M(n)&&(Kn(n)||Jn(n)||Vn(n))?0===n.length:0===Sn(n).length)},isElement:function(n){return!(!n||1!==n.nodeType)},isArray:Kn,isObject:Ln,isArguments:Vn,isFunction:Cn,isString:Jn,isNumber:Un,isDate:$n,isRegExp:Gn,isError:Hn,isSymbol:Qn,isMap:Xn,isWeakMap:Yn,isSet:Zn,isWeakSet:nr,isFinite:function(n){return!Qn(n)&&s(n)&&!p(parseFloat(n))},isNaN:tr,isBoolean:er,isNull:function(n){return null===n},isUndefined:function(n){return void 0===n},has:function(n,r){if(!Kn(r))return x(n,r);for(var t=r.length,e=0;e<t;e++){var u=r[e];if(null==n||!a.call(n,u))return!1;n=n[u]}return!!t},identity:ur,constant:function(n){return function(){return n}},noop:function(){},property:or,propertyOf:function(n){return null==n?function(){}:function(r){return Kn(r)?S(n,r):n[r]}},matcher:ir,matches:ir,times:function(n,r,t){var e=Array(Math.max(0,n));r=g(r,t,1);for(var u=0;u<n;u++)e[u]=r(u);return e},random:ar,now:fr,escape:sr,unescape:vr,result:function(n,r,t){Kn(r)||(r=[r]);var e=r.length;if(!e)return Cn(t)?t.call(n):t;for(var u=0;u<e;u++){var o=null==n?void 0:n[r[u]];void 0===o&&(o=t,u=e),n=Cn(o)?o.call(n):o}return n},uniqueId:function(n){var r=++hr+"";return n?n+r:r},templateSettings:yr,template:function(n,r,t){!r&&t&&(r=t),r=qn({},r,h.templateSettings);var e,u=RegExp([(r.escape||gr).source,(r.interpolate||gr).source,(r.evaluate||gr).source].join("|")+"|$","g"),o=0,i="__p+=\'";n.replace(u,function(r,t,e,u,a){return i+=n.slice(o,a).replace(mr,br),o=a+r.length,t?i+="\'+\\n((__t=("+t+"))==null?\'\':_.escape(__t))+\\n\'":e?i+="\'+\\n((__t=("+e+"))==null?\'\':__t)+\\n\'":u&&(i+="\';\\n"+u+"\\n__p+=\'"),r}),i+="\';\\n",r.variable||(i="with(obj||{}){\\n"+i+"}\\n"),i="var __t,__p=\'\',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,\'\');};\\n"+i+"return __p;\\n";try{e=new Function(r.variable||"obj","_",i)}catch(n){throw n.source=i,n}var a=function(n){return e.call(this,n,h)},f=r.variable||"obj";return a.source="function("+f+"){\\n"+i+"}",a},chain:function(n){var r=h(n);return r._chain=!0,r},mixin:_r});return wr._=wr,wr});\ndefine(\'core/math/distance\',["require","exports"],function(require,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.halfRound=t.approx=t.pointToSegment=t.closestPointOnSegment=t.pointToSegmentParameter=t.mean=t.hypot=void 0;var n=Math.hypot&&Math.hypot(1/0,NaN)===1/0;function r(t){return t===1/0||t===-1/0}function e(n,r,e,o,a,i,u,h,f){var p=t.hypot(u-o,h-a,f-i);return 0===p?0:function(t,n,r,e,o,a){return t*e+n*o+r*a}((n-o)/p,(r-a)/p,(e-i)/p,(u-o)/p,(h-a)/p,(f-i)/p)}function o(t,n,r,o,a,i){var u=e(t,n,0,r,o,0,a,i,0);return u<=0?[r,o]:u>=1?[a,i]:[r+u*(a-r),o+u*(i-o)]}t.hypot=n?Math.hypot:function(t,n,e){if(r(t)||r(n)||void 0!==e&&r(e))return 1/0;if(isNaN(t)||isNaN(n)||void 0!==e&&isNaN(e))return NaN;if(0===t&&0===n&&(void 0===e||0===e))return 0;for(var o=0,a=0,i=0;i<arguments.length;i+=1){var u=Math.abs(Number(arguments[i]));u>o&&(a*=o/u*(o/u),o=u),a+=0===u&&0===o?0:u/o*(u/o)}return o===1/0?1/0:o*Math.sqrt(a)},t.mean=function(t,n){return t>0==n>0?t+.5*(n-t):.5*(t+n)},t.pointToSegmentParameter=e,t.closestPointOnSegment=o,t.pointToSegment=function(n,r,e,a,i,u){var h=o(n,r,e,a,i,u);return t.hypot(n-h[0],r-h[1])},t.approx=function(t,n,r){if(void 0===r&&(r=1),t===n)return!0;if(!isFinite(t)||!isFinite(n))return!1;if(r>50)throw new Error("Within "+(52-r)+" bits isn\'t really approximate any more");var e=Math.max(Math.max(Math.abs(t),Math.abs(n)),1);return e===e+(1===r?.5:Math.pow(.5,r))*Math.abs(n-t)},t.halfRound=function(t){return Math.round(t-.5)+.5}});\ndefine(\'core/math/tofraction\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,r){if(void 0===r&&(r=1e6),e===1/0)return{n:1/0,d:1};if(e===-1/0)return{n:-1/0,d:1};if(!isFinite(e))return{n:NaN,d:1};for(var n,t,i,u=0,f=1,d=1,o=0;!(t=(n=Math.floor(e))*f+u,(i=n*o+d)>r||(u=f,d=o,f=t,o=i,e===n));)e=1/(e-n);return{n:f,d:o}}});\ndefine(\'core/lib/label\',["require","exports","underscore","core/math/distance","core/math/tofraction"],function(require,e,t,n,r){"use strict";function a(e,t){if(void 0===t&&(t=e),isNaN(e)||!isFinite(e))return{string:"undefined",latex:"undefined",value:e};if(0===e)return{string:"0",latex:"0",value:e};Math.abs(e)>Math.abs(t)&&(t=e);var a,i,f,d,l,p=r.default(e/Math.PI,24);if(c(t)&&n.approx(p.n/p.d*Math.PI,e,3))return 0===p.n?(a="0",d="0"):1===p.n?(a="",d="\\\\pi"):-1===p.n?(a="-",d="-\\\\pi"):(a=p.n.toString()+"",d=p.n.toString()+"\\\\pi"),1===p.d?(i="",l=""):(i="/"+p.d.toString(),l=p.d.toString()),{string:f=a+i,latex:""===l?d:"-"===d[0]?"-\\\\frac{"+d.slice(1)+"}{"+l+"}":"\\\\frac{"+d+"}{"+l+"}",value:p.n/p.d*Math.PI};if(c(t))return{string:f=function(e){return"-0"===e?"0":e}(u(e.toFixed(s(t)))),latex:f,value:parseFloat(f)};var m=o(e.toExponential(s(t/e))).split("e"),v=m[0]+"10",h=m[1].replace("+","");return{string:f=o(e.toExponential(s(t/e))).replace("+",""),latex:m[0]+"\\\\times10^{"+h+"}",mantissa:v,superscript:h,value:parseFloat(f)}}Object.defineProperty(e,"__esModule",{value:!0}),e.trimLatex=e.latexToIdentifier=e.identifierToHTML=e.identifierToLatex=e.formatSymbol=e.truncatedLatexLabel=e.truncatedPlainmathLabel=e.truncatedHTMLLabel=e.numericLabel=e.canDisplayAsFraction=e.point=e.value=void 0,e.value=a,e.point=function(e,t,n,r){var i=a(e,t);return[i,a(r(i.value),n)]};var i=/\\.?0+$/;function u(e){return-1===e.indexOf(".")?e:e.replace(i,"")}function o(e){return e.replace(/\\.?0+e/,"e")}function c(e){return 1e-4<(e=Math.abs(e))&&e<1e7}function s(e){return e=Math.abs(e),e=Math.max(e,1e-16),Math.max(3,Math.floor(4.5-Math.log(e)/Math.LN10))}function f(e){return 1e6/Math.sqrt(Math.abs(e))}function d(e){var t=f(e);if(t<1)return!1;if(t>1e12)return!1;var n=r.default(e,t),a=n.n,i=n.d;return 1!==i&&e===e+Math.pow(2,-3)*Math.abs(a/i-e)}function l(e,t){if(t=t||{},isNaN(e)||!isFinite(e))return{type:"undefined"};if(0===e||t.zeroCutoff&&Math.abs(e)<t.zeroCutoff)return{type:"decimal",value:"0"};var n=t.smallCutoff||.001,a=t.bigCutoff||1e6,i=t.digits||10,c=o(e.toExponential(i-2)).match(/([\\d\\.\\-]+)e\\+?([\\d\\-]+)/);if(!c)return{type:"undefined"};var s=parseInt(c[2],10)>=i;if(d(e)&&t.displayAsFraction){var l=r.default(e,f(e));return{type:"fraction",numerator:l.n.toString(),denominator:l.d.toString()}}if(Math.abs(e)>a||Math.abs(e)<n||s)return{type:"scientific",mantissa:c[1],exponent:c[2]};var p=u(e.toPrecision(i));return e!==Number(p)&&t.addEllipses&&(p+="..."),{type:"decimal",value:p}}function p(e){e=e.replace("\\\\","");var t={pi:"",tau:"",theta:"",phi:"",div:"",cdot:"",times:"",lt:"<",gt:">",le:"",ge:"",sim:"",ldots:"",prime:"",approx:"",to:"","->":""};return t.hasOwnProperty(e)?t[e]:e}e.canDisplayAsFraction=d,e.numericLabel=l,e.truncatedHTMLLabel=function(e,t){var n=l(e,t);switch(n.type){case"undefined":return"undefined";case"decimal":return n.value;case"scientific":return n.mantissa+"<span class=\'dcg-cross\'></span>10<sup>"+n.exponent+"</sup>";case"fraction":return"1"===n.denominator?n.numerator:n.numerator+"/"+n.denominator;default:return n}},e.truncatedPlainmathLabel=function(e,t){var n=l(e,t);switch(n.type){case"undefined":return"undefined";case"decimal":return n.value;case"scientific":return n.mantissa+" * 10^"+n.exponent;case"fraction":return"1"===n.denominator?n.numerator:n.numerator+"/"+n.denominator;default:return n}},e.truncatedLatexLabel=function(e,t){var n=l(e,t);switch(n.type){case"undefined":return"undefined";case"decimal":return n.value;case"scientific":return n.mantissa+"\\\\times10^{"+n.exponent+"}";case"fraction":return"1"===n.denominator?n.numerator:"-"===n.numerator[0]?"-\\\\frac{"+n.numerator.slice(1)+"}{"+n.denominator+"}":"\\\\frac{"+n.numerator+"}{"+n.denominator+"}";default:return n}},e.formatSymbol=p,e.identifierToLatex=function(e){var t=e.match(/^\\$(\\d+)$/);if(t)return"\\\\token{"+t[1]+"}";var n=e.split("_"),r="";return n[0].length>1&&(r+="\\\\"),r+=n[0],n[1]&&(r+="_{"+n[1]+"}"),r},e.identifierToHTML=function(e){if(!e)return"";var n=e.split("_").map(p).map(t.escape),r=n[0];return n[1]&&(r+="<sub>"+n[1]+"</sub>"),r},e.latexToIdentifier=function(e){var t=e.match(/\\\\token\\{(\\d+)\\}/);return t?"$"+t[1]:(e=e.replace(/\\\\operatorname\\{(.*)\\}/,"$1")).replace(/[{}\\\\]/g,"")},e.trimLatex=function(e){return e.replace(/^(\\\\ | |\\\\space)+/,"").replace(/(\\\\ | |\\\\space)+$/,"")}});\ndefine(\'core/math/ir/constants\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MAX_LIST_SIZE=void 0,e.MAX_LIST_SIZE=1e4});\ndefine(\'core/math/errormsg\',["require","exports","core/math/parsenode/error","core/lib/worker-i18n","core/lib/label","core/math/types","core/math/ir/constants"],function(require,r,e,o,n,t,a){"use strict";function i(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-multiply-defined",{dependency:r}))}function l(r){var t=(r=r.map(n.formatSymbol)).pop()||"";return e(o.s("shared-calculator-error-dependency-cycle",{symbols:r.join("\', \'"),lastSymbol:t}))}Object.defineProperty(r,"__esModule",{value:!0}),r.variableLengthProductBodyDependsOnIndex=r.variableLengthSumBodyDependsOnIndex=r.variableLengthDistributionList=r.variableLengthTopLevelList=r.badListComprehensionInputDependency=r.shadowedListComprehensionInput=r.unexpectedForKeyword=r.listComprehensionIncorrectInput=r.listComprehensionInputListTypeError=r.matrixInvalidVariable=r.matrixElementTypeError=r.matrixPowerDimensions=r.matrixFractionalPower=r.matrixMultiplyDimensions=r.matrixSubtractDimensions=r.matrixAddDimensions=r.matrixAssignment=r.clickableObjectInvalidExpression=r.clickableObjectAssignmentNotIdentifier=r.clickableObjectAlreadyAssigned=r.clickableObjectAssignmentNotDefined=r.singularInverse=r.nonSquareInverse=r.nonSquareTrace=r.nonSquareDeterminant=r.fractionsUnavailable=r.featureUnavailable=r.pointsUnsupported=r.regressionsUnsupported=r.inequalitiesUnsupported=r.equationsUnsupported=r.functionDefinitionsUnsupported=r.assignmentsUnsupported=r.variableUnsupported=r.constantUnsupported=r.logbaseUnsupported=r.functionUnsupported=r.variablesUnsupported=r.ansUndefined=r.badSymbolContext=r.variableSeed=r.badSampleSize=r.ttestListTooShort=r.illegalBinWidth=r.percentMissingOf=r.badIntegralBoundDependency=r.shadowedIntegrationVariable=r.mismatchedBraces=r.derivativeMissingBody=r.integralMissingBody=r.productMissingBody=r.sumMissingBody=r.differentialWithSuperscript=r.integralMissingDifferential=r.integralMissingBound=r.badProductBoundDependency=r.badSumBoundDependency=r.incorrectProductLowerBound=r.incorrectSumLowerBound=r.productMissingBound=r.sumMissingBound=r.invalidHalfEmptyRange=r.nonArithmeticRange=r.functionFreeVariable=r.methodRequiresList=r.nonListParameterizedReducer=r.nonListDoubleReducer=r.optimizationError=r.invalidRegressionParameter=r.invalidDependentFirstTableColumn=r.invalidFirstTableColumn=r.invalidTableEntry=r.invalidTableHeader=r.distributionAsFunction=r.variableAsFunction=r.equationRequired=r.complicatedDoubleInequality=r.mismatchedDoubleInequality=r.invalidDoubleInequalityVariables=r.complicatedPolarImplicit=r.inequalitiesDisabled=r.implicitsDisabled=r.singleVariableImplicitEquationsDisabled=r.invalidImplicitVariables=r.invalidInequalityVariables=r.unplottablePolarFunction=r.invalidLHS=r.addArgumentsToDefinition=r.tooManyVariables=r.cdfMaxLessThanMin=r.cdfMaxInvalid=r.cdfMinInvalid=r.domainMaxLessThanMin=r.domainMaxInvalid=r.domainMinInvalid=r.sliderStepInvalid=r.sliderMaxLessThanMin=r.sliderMaxInvalid=r.sliderMinInvalid=r.sliderLimitReferencesExport=r.tickerMinStepNonNegativeNumber=r.selfReferentialFunction=r.tableCycleWithoutGlobalDefinition=r.cycle=r.shadowedIndex=r.multiplyDefinedByTables=r.multiplyDefined=r.cannotSubscript=r.cannotRedefine=r.parameterAlreadyDefined=r.functionNotDefined=r.blankExpression=r.colonMissingCondition=r.piecewisePartMissingCondition=r.piecewiseMissingCondition=r.inequalityChainTooLong=r.badLogExponent=r.badTrigExponent=r.emptyPipe=r.emptySquareBracket=r.emptyParen=r.emptyRadicalIndex=r.emptyRadical=r.primeWithoutParen=r.unexpectedPrime=r.superscriptWithPrime=r.unexpectedSubscript=r.invalidOperatorName=r.invalidSubscript=r.emptySuperscript=r.emptySubscript=r.fractionEmpty=r.fractionMissingDenominator=r.fractionMissingNumerator=r.unaryOperatorMissingRight=r.unaryOperatorMissingLeft=r.binaryOperatorMissingOperand=r.identifierAsFunction=r.tokenWithSubscript=r.adjacentNumbers=r.badImplicitCall=r.badTupleDimensions=r.malformedList=r.malformedPoint=r.zeroArgReducer=r.primedFunctionArity=r.wrongDoubleReducerArity=r.wrongParameterizedReducerArity=r.wrongArity=r.colorArity=r.randomFromBroadcastDistribution=r.randomArity=r.tdistWrongArity=r.cdfTooManyArguments=r.cdfRequiresArguments=r.pdfWrongArity=r.tooManyArguments=r.boxplotBreadthInvalid=r.boxplotOffsetInvalid=r.polygonTwoNumbersError=r.maxListSize=r.deeplyNested=r.combineTypeError=r.heterogeneousList=r.eventHandlerTypeError=r.actionMergeFreeVariable=r.updateRuleLocalLHS=r.updateRuleFunctionLHS=r.updateRuleIllegalLHS=r.updateRuleUndefinedLHS=r.duplicateUpdateRules=r.updateRuleNonIdentifierLHS=r.updateRuleTypeError=r.regressionTypeError=r.tableEntryTypeError=r.tableHeaderTypeError=r.piecewiseBranchTypeError=r.piecewiseConditionTypeError=r.derivativeVariableTypeError=r.derivativeTypeError=r.integralArgumentTypeError=r.integralUpperBoundTypeError=r.integralLowerBoundTypeError=r.productArgumentTypeError=r.productInfiniteBoundError=r.productUpperBoundTypeError=r.productLowerBoundTypeError=r.sumArgumentTypeError=r.sumInfiniteBoundError=r.sumUpperBoundTypeError=r.sumLowerBoundTypeError=r.dotLHSTypeError=r.illegalDotCall=r.functionTypeError=r.orderedPairAccessTypeError=r.indexTypeError=r.pointTypeError=r.listTypeError=r.andTypeError=r.comparatorTypeError=r.negativeTypeError=r.exponentTypeError=r.divideTypeError=r.multiplyTypeError=r.subtractTypeError=r.addTypeError=r.unexpectedSymbol=r.unexpectedInequality=r.unrecognizedSymbol=r.parseError=void 0,r.parseError=function(){return e(o.s("shared-calculator-error-parse-error"))},r.unrecognizedSymbol=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-unrecognized-symbol",{symbol:r}))},r.unexpectedInequality=function(){return e(o.s("shared-calculator-error-unexpected-inequality"))},r.unexpectedSymbol=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-unexpected-symbol",{symbol:r}))},r.addTypeError=function(r){return e(o.s("shared-calculator-error-add-type-error",{symbol1:r[0],symbol2:r[1]})).allowExport()},r.subtractTypeError=function(r){return e(o.s("shared-calculator-error-subtract-type-error",{symbol1:r[0],symbol2:r[1]})).allowExport()},r.multiplyTypeError=function(r){return e(o.s("shared-calculator-error-multiply-type-error",{symbol1:r[0],symbol2:r[1]})).allowExport()},r.divideTypeError=function(r){return e(o.s("shared-calculator-error-divide-type-error",{symbol1:r[0],symbol2:r[1]})).allowExport()},r.exponentTypeError=function(r){return e(o.s("shared-calculator-error-exponent-type-error",{symbol1:r[0],symbol2:r[1]})).allowExport()},r.negativeTypeError=function(r){return e(o.s("shared-calculator-error-negative-type-error",{symbol:r[0]})).allowExport()},r.comparatorTypeError=function(r){return e(o.s("shared-calculator-error-comparator-type-error",{symbol1:r[0],symbol2:r[1]})).allowExport()},r.andTypeError=function(r){return e(o.s("shared-calculator-error-and-type-error",{symbol:"and",symbol1:r[0],symbol2:r[1]})).allowExport()},r.listTypeError=function(r){return e(o.s("shared-calculator-error-list-type-error",{symbol1:r[0]})).allowExport()},r.pointTypeError=function(r){return e(o.s("shared-calculator-error-point-type-error",{symbol1:r,symbol2:t.prettyPrint(t.Point)})).allowExport()},r.indexTypeError=function(r){return e(o.s("shared-calculator-error-index-type-error",{symbol1:r[0],symbol2:r[1]})).allowExport()},r.orderedPairAccessTypeError=function(r){return e(o.s("shared-calculator-error-ordered-pair-access-type-error",{symbol:r[0]})).allowExport()},r.functionTypeError=function(r,t){switch(t.length){case 1:return e(o.s("shared-calculator-error-function-type-error-1",{fn:n.formatSymbol(r),arg:t[0]})).allowExport();case 2:return e(o.s("shared-calculator-error-function-type-error-2",{fn:n.formatSymbol(r),arg1:t[0],arg2:t[1]})).allowExport();default:return e(o.s("shared-calculator-error-function-type-error-many",{fn:n.formatSymbol(r)})).allowExport()}},r.illegalDotCall=function(r){return e(o.s("shared-calculator-error-illegal-dot-call",{symbol:n.formatSymbol(r)}))},r.dotLHSTypeError=function(r,t){return e(o.s("shared-calculator-error-dot-lhs-type-error",{symbol:n.formatSymbol(r),type:t})).allowExport()},r.sumLowerBoundTypeError=function(r){return e(o.s("shared-calculator-error-sum-lower-bound-type-error",{symbol:r[0]})).allowExport()},r.sumUpperBoundTypeError=function(r){return e(o.s("shared-calculator-error-sum-upper-bound-type-error",{symbol:r[0]})).allowExport()},r.sumInfiniteBoundError=function(){return e(o.s("shared-calculator-error-sum-infinite-bound-type-error"))},r.sumArgumentTypeError=function(r){return e(o.s("shared-calculator-error-sum-argument-type-error",{symbol:r[0]})).allowExport()},r.productLowerBoundTypeError=function(r){return e(o.s("shared-calculator-error-product-lower-bound-type-error",{symbol:r[0]})).allowExport()},r.productUpperBoundTypeError=function(r){return e(o.s("shared-calculator-error-product-upper-bound-type-error",{symbol:r[0]})).allowExport()},r.productInfiniteBoundError=function(){return e(o.s("shared-calculator-error-product-infinite-bound-type-error"))},r.productArgumentTypeError=function(r){return e(o.s("shared-calculator-error-product-argument-type-error",{symbol:r[0]})).allowExport()},r.integralLowerBoundTypeError=function(r){return e(o.s("shared-calculator-error-integral-lower-bound-type-error",{symbol:r[0]})).allowExport()},r.integralUpperBoundTypeError=function(r){return e(o.s("shared-calculator-error-integral-upper-bound-type-error",{symbol:r[0]})).allowExport()},r.integralArgumentTypeError=function(r){return e(o.s("shared-calculator-error-integral-argument-type-error",{symbol:r[0]})).allowExport()},r.derivativeTypeError=function(r){return e(o.s("shared-calculator-error-derivative-type-error",{symbol:r[0]})).allowExport()},r.derivativeVariableTypeError=function(r,t){return e(o.s("shared-calculator-error-derivative-variable-type-error",{symbol1:n.formatSymbol(r),symbol2:t[0]}))},r.piecewiseConditionTypeError=function(r){return e(o.s("shared-calculator-error-piecewise-condition-type-error",{symbol1:t.prettyPrint(t.Bool),symbol2:r[0]})).allowExport()},r.piecewiseBranchTypeError=function(r){return e(o.s("shared-calculator-error-piecewise-branch-type-error",{symbol1:r[0],symbol2:r[1]})).allowExport()},r.tableHeaderTypeError=function(r){return e(o.s("shared-calculator-error-table-header-type-error",{symbol:r[0]}))},r.tableEntryTypeError=function(r){return e(o.s("shared-calculator-error-table-entry-type-error",{symbol:r[0]}))},r.regressionTypeError=function(r){return e(o.s("shared-calculator-error-regression-type-error",{symbol1:r[0],symbol2:r[1]}))},r.updateRuleTypeError=function(r){return e(o.s("shared-calculator-error-update-rule-type-error",{symbol:r}))},r.updateRuleNonIdentifierLHS=function(){return e(o.s("shared-calculator-error-update-rule-non-identifier-lhs",{arrow:"",example:"a"}))},r.duplicateUpdateRules=function(r){return e(o.s("shared-calculator-error-duplicate-update-rules",{symbol:n.formatSymbol(r)}))},r.updateRuleUndefinedLHS=function(r){return e(o.s("shared-calculator-error-update-rule-undefined-lhs",{symbol:n.formatSymbol(r)}))},r.updateRuleIllegalLHS=function(r){return e(o.s("shared-calculator-error-update-rule-illegal-lhs",{symbol:n.formatSymbol(r)}))},r.updateRuleFunctionLHS=function(r){return e(o.s("shared-calculator-error-update-rule-function-lhs",{symbol:n.formatSymbol(r)}))},r.updateRuleLocalLHS=function(r){return e(o.s("shared-calculator-error-update-rule-local-lhs",{symbol:n.formatSymbol(r)}))},r.actionMergeFreeVariable=function(r){var t=r.filter(function(r){return"free"===r.scope}).map(function(r){return r.symbol});return e(o.s("shared-calculator-error-action-merge-free-variable",{symbol:n.formatSymbol(t[0]||"")})).setDependencies(t).allowExport()},r.eventHandlerTypeError=function(r){return e(o.s("shared-calculator-error-event-handler-type-error",{example:"aa+1"}))},r.heterogeneousList=function(){return e(o.s("shared-calculator-error-heterogeneous-list")).allowExport()},r.combineTypeError=function(r){return e(o.s("shared-calculator-error-combine-type-error",{symbol1:r[0],symbol2:r[1]})).allowExport()},r.deeplyNested=function(){return e(o.s("shared-calculator-error-deeply-nested")).allowExport()},r.maxListSize=function(){return e(o.s("shared-calculator-error-max-list-size",{maxListSize:a.MAX_LIST_SIZE.toLocaleString()})).allowExport()},r.polygonTwoNumbersError=function(){return e(o.s("shared-calculator-error-two-numbers-error"))},r.boxplotOffsetInvalid=function(){return e(o.s("shared-calculator-error-boxplot-offset-invalid"))},r.boxplotBreadthInvalid=function(){return e(o.s("shared-calculator-error-boxplot-breadth-invalid"))},r.tooManyArguments=function(r,n){return e(o.s("shared-calculator-error-too-many-arguments",{symbol:r,max:n}))},r.pdfWrongArity=function(){var r=o.s("shared-calculator-error-pdf-wrong-arity-recommendation"),n=o.s("shared-calculator-error-pdf-wrong-arity",{recommendation:r});return e(n)},r.cdfRequiresArguments=function(){var r=o.s("shared-calculator-error-cdf-wrong-arity-recommendation"),n=o.s("shared-calculator-error-cdf-wrong-arity",{recommendation:r});return e(n)},r.cdfTooManyArguments=function(){var r=o.s("shared-calculator-error-cdf-too-many-arguments-recommendation"),n=o.s("shared-calculator-error-cdf-too-many-arguments",{recommendation:r});return e(n)},r.tdistWrongArity=function(){return e(o.s("shared-calculator-error-tdist-wrong-arity"))},r.randomArity=function(){return e(o.s("shared-calculator-error-random-arity"))},r.randomFromBroadcastDistribution=function(){return e(o.s("shared-calculator-error-random-from-broadcast-distribution"))},r.colorArity=function(r){var t="rgb"===r?[150,30,100]:[180,.5,.5],a=o.s("shared-calculator-error-color-arity-recommendation",{recommendation:n.formatSymbol(r)+"("+t.join(", ")+")"}),i=o.s("shared-calculator-error-color-arity",{symbol:r,recommendation:a});return e(i)},r.wrongArity=function(r,t,a,i){var l,s;if(r=n.formatSymbol(r),1===t)i||(i=r+"(x)"),s=o.s("shared-calculator-error-wrong-arity-supplement",{recommendation:i}),l=a>1?o.s("shared-calculator-error-wrong-arity-single-arg-too-many",{dependency:r,supplement:s}):o.s("shared-calculator-error-wrong-arity-single-arg-too-few",{dependency:r,supplement:s});else{var u=[];if(!i){for(var c=0;c<t;c++)u[c]=c+1;i=n.formatSymbol(r)+"("+u.join(", ")+")"}s=o.s("shared-calculator-error-wrong-arity-supplement",{recommendation:i}),l=o.s("shared-calculator-error-wrong-arity-many-arg",{dependency:r,assignment_arity:t,supplement:s})}return e(l)},r.wrongParameterizedReducerArity=function(r){return e(o.s("shared-calculator-error-wrong-two-arg-arity",{symbol:n.formatSymbol(r),recommendation:n.formatSymbol(r)+"([1,2,3], 1)"}))},r.wrongDoubleReducerArity=function(r){return e(o.s("shared-calculator-error-wrong-two-arg-arity",{symbol:n.formatSymbol(r),recommendation:n.formatSymbol(r)+"([1,2,3], [3,2,1])"}))},r.primedFunctionArity=function(){return e(o.s("shared-calculator-error-primed-function-arity"))},r.zeroArgReducer=function(r){return e(o.s("shared-calculator-error-zero-arg-reducer",{symbol:n.formatSymbol(r)}))},r.malformedPoint=function(){return e(o.s("shared-calculator-error-malformed-point"))},r.malformedList=function(){return e(o.s("shared-calculator-error-malformed-list"))},r.badTupleDimensions=function(r){return e(o.s("shared-calculator-error-bad-tuple-dimensions",{symbol:r}))},r.badImplicitCall=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-bad-implicit-call",{symbol:r}))},r.adjacentNumbers=function(r,n){return e(o.s("shared-calculator-error-adjacent-numbers",{left:r,right:n}))},r.tokenWithSubscript=function(){return e(o.s("shared-calculator-error-token-with-subscript"))},r.identifierAsFunction=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-identifier-as-function",{symbol:r}))},r.binaryOperatorMissingOperand=function(r){return"%"===(r=n.formatSymbol(r))&&(r="% of"),e(o.s("shared-calculator-error-binary-operator-missing-operand",{symbol:r}))},r.unaryOperatorMissingLeft=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-unary-operator-missing-left",{symbol:r}))},r.unaryOperatorMissingRight=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-unary-operator-missing-right",{symbol:r}))},r.fractionMissingNumerator=function(){return e(o.s("shared-calculator-error-fraction-missing-numerator"))},r.fractionMissingDenominator=function(){return e(o.s("shared-calculator-error-fraction-missing-denominator"))},r.fractionEmpty=function(){return e(o.s("shared-calculator-error-fraction-empty"))},r.emptySubscript=function(){return e(o.s("shared-calculator-error-empty-subscript"))},r.emptySuperscript=function(){return e(o.s("shared-calculator-error-empty-superscript"))},r.invalidSubscript=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-invalid-subscript",{symbol:r}))},r.invalidOperatorName=function(){return e(o.s("shared-calculator-error-invalid-operator-name"))},r.unexpectedSubscript=function(){return e(o.s("shared-calculator-error-unexpected-subscript"))},r.superscriptWithPrime=function(){return e(o.s("shared-calculator-error-superscript-with-prime"))},r.unexpectedPrime=function(){return e(o.s("shared-calculator-error-unexpected-prime"))},r.primeWithoutParen=function(){return e(o.s("shared-calculator-error-prime-without-paren"))},r.emptyRadical=function(){return e(o.s("shared-calculator-error-empty-radical"))},r.emptyRadicalIndex=function(){return e(o.s("shared-calculator-error-empty-radical-index"))},r.emptyParen=function(){return e(o.s("shared-calculator-error-empty-paren"))},r.emptySquareBracket=function(){return e(o.s("shared-calculator-error-empty-square-bracket"))},r.emptyPipe=function(){return e(o.s("shared-calculator-error-empty-pipe"))},r.badTrigExponent=function(r){var n=r+"^2",t=r+"^-1";return e(o.s("shared-calculator-error-bad-trig-exponent",{form1:n,form2:t}))},r.badLogExponent=function(r){var n=r+"^2";return e(o.s("shared-calculator-error-bad-log-exponent",{form:n}))},r.inequalityChainTooLong=function(){return e(o.s("shared-calculator-error-inequality-chain-too-long"))},r.piecewiseMissingCondition=function(){return e(o.s("shared-calculator-error-piecewise-missing-condition"))},r.piecewisePartMissingCondition=function(){return e(o.s("shared-calculator-error-piecewise-part-missing-condition"))},r.colonMissingCondition=function(){return e(o.s("shared-calculator-error-colon-missing-condition"))},r.blankExpression=function(){return e(o.s("shared-calculator-error-blank-expression"))},r.functionNotDefined=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-function-not-defined",{dependency:r}))},r.parameterAlreadyDefined=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-parameter-already-defined",{dependency:r}))},r.cannotRedefine=function(r,t){return r=n.formatSymbol(r),e(void 0===t?o.s("shared-calculator-error-cannot-redefine",{symbol:r}):o.s("shared-calculator-error-cannot-redefine-root",{symbol:r,symbolRoot:t}))},r.cannotSubscript=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-cannot-subscript",{symbol:r}))},r.multiplyDefined=i,r.multiplyDefinedByTables=function(r){var e=i(r);return e.isMultiplyDefinedByTables=!0,e},r.shadowedIndex=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-shadowed-index",{symbol:r}))},r.cycle=l,r.tableCycleWithoutGlobalDefinition=function(r){var e=l(r);return e.isTableCycleWithoutGlobalDefinition=!0,e},r.selfReferentialFunction=function(r){return e(o.s("shared-calculator-error-self-referential-function",{symbol:n.formatSymbol(r)}))},r.tickerMinStepNonNegativeNumber=function(){return e(o.s("shared-calculator-error-ticker-min-step-nonnegative"))},r.sliderLimitReferencesExport=function(r){return e(o.s("shared-calculator-error-slider-limit-references-export",{symbol:n.formatSymbol(r)}))},r.sliderMinInvalid=function(){return e(o.s("shared-calculator-error-slider-min-invalid"))},r.sliderMaxInvalid=function(){return e(o.s("shared-calculator-error-slider-max-invalid"))},r.sliderMaxLessThanMin=function(){return e(o.s("shared-calculator-error-slider-max-less-than-min"))},r.sliderStepInvalid=function(){return e(o.s("shared-calculator-error-slider-step-invalid"))},r.domainMinInvalid=function(){return e(o.s("shared-calculator-error-domain-min-invalid"))},r.domainMaxInvalid=function(){return e(o.s("shared-calculator-error-domain-max-invalid"))},r.domainMaxLessThanMin=function(){return e(o.s("shared-calculator-error-domain-max-less-than-min"))},r.cdfMinInvalid=function(){return e(o.s("shared-calculator-error-cdf-min-invalid"))},r.cdfMaxInvalid=function(){return e(o.s("shared-calculator-error-cdf-max-invalid"))},r.cdfMaxLessThanMin=function(){return e(o.s("shared-calculator-error-cdf-max-less-than-min"))},r.tooManyVariables=function(r){if(0===(r=r.map(n.formatSymbol)).length)return e(o.s("shared-calculator-error-too-many-variables-no-symbols"));var t=r.pop()||"";return r.length>0?e(o.s("shared-calculator-error-too-many-variables-many-symbols",{variables:r.join("\', \'"),lastVariable:t})):e(o.s("shared-calculator-error-too-many-variables-one-symbol",{variable:t}))},r.addArgumentsToDefinition=function(r,t,a){r=r.map(n.formatSymbol);var i=(t=n.formatSymbol(t))+"("+(a=a.map(n.formatSymbol)).join(",")+","+r.join(",")+")",l=r.pop()||"",s={symbols:r.join("\', \'"),lastSymbol:l,newSignature:i};return r.length?e(o.s("shared-calculator-error-add-arguments-to-definition-many",s)):e(o.s("shared-calculator-error-add-arguments-to-definition-one",s))},r.invalidLHS=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-invalid-lhs",{symbol:r}))},r.unplottablePolarFunction=function(){return e(o.s("shared-calculator-error-unplottable-polar-function"))},r.invalidInequalityVariables=function(){return e(o.s("shared-calculator-error-invalid-inequality-variables"))},r.invalidImplicitVariables=function(){return e(o.s("shared-calculator-error-invalid-implicit-variables"))},r.singleVariableImplicitEquationsDisabled=function(){return e(o.s("shared-calculator-error-single-variable-implicit-equations-disabled"))},r.implicitsDisabled=function(){return e(o.s("shared-calculator-error-implicits-disabled"))},r.inequalitiesDisabled=function(){return e(o.s("shared-calculator-error-inequalities-disabled"))},r.complicatedPolarImplicit=function(){return e(o.s("shared-calculator-error-complicated-polar-implicit"))},r.invalidDoubleInequalityVariables=function(){return e(o.s("shared-calculator-error-invalid-double-inequality-variables"))},r.mismatchedDoubleInequality=function(){return e(o.s("shared-calculator-error-mismatched-double-inequality",{example:"1 < y < 2"}))},r.complicatedDoubleInequality=function(){return e(o.s("shared-calculator-error-complicated-double-inequality"))},r.equationRequired=function(r){return r?(r=n.formatSymbol(r),e(o.s("shared-calculator-error-equation-required-symbol",{lhs:r+"="}))):e(o.s("shared-calculator-error-equation-required"))},r.variableAsFunction=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-variable-as-function",{dependency:r}))},r.distributionAsFunction=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-distribution-as-function",{symbol:r}))},r.invalidTableHeader=function(r){return e(o.s("shared-calculator-error-invalid-table-header",{supplement:r}))},r.invalidTableEntry=function(r){return e(o.s("shared-calculator-error-invalid-table-entry",{supplement:r}))},r.invalidFirstTableColumn=function(){return e(o.s("shared-calculator-error-invalid-first-table-column",{most:"\'y\', \'r\',",last:"\'\'"}))},r.invalidDependentFirstTableColumn=function(){return e(o.s("shared-calculator-error-invalid-dependent-first-table-column"))},r.invalidRegressionParameter=function(r){return e(o.s("shared-calculator-error-invalid-regression-parameter",{symbol:n.formatSymbol(r)}))},r.optimizationError=function(){return e(o.s("shared-calculator-error-optimization-error"))},r.nonListDoubleReducer=function(r){return e(o.s("shared-calculator-error-non-list-double-reducer",{symbol:n.formatSymbol(r),recommendation:n.formatSymbol(r)+"([1,2,3], [3,2,1])"})).allowExport()},r.nonListParameterizedReducer=function(r){return e(o.s("shared-calculator-error-non-list-parameterized-reducer",{symbol:n.formatSymbol(r),recommendation:n.formatSymbol(r)+"([1,2,3], 1)"})).allowExport()},r.methodRequiresList=function(r){return e(o.s("shared-calculator-error-method-requires-list",{symbol:n.formatSymbol(r),recommendation:n.formatSymbol(r)+"([1,2,3])"})).allowExport()},r.functionFreeVariable=function(r,n){return e(o.s("shared-calculator-error-variable-function-free-variable",{functionSymbol:r,variableSymbol:n})).allowExport()},r.nonArithmeticRange=function(){return e(o.s("shared-calculator-error-non-arithmetic-range")).allowExport()},r.invalidHalfEmptyRange=function(){return e(o.s("shared-calculator-error-invalid-half-empty-range"))},r.sumMissingBound=function(){return e(o.s("shared-calculator-error-sum-missing-bound"))},r.productMissingBound=function(){return e(o.s("shared-calculator-error-product-missing-bound"))},r.incorrectSumLowerBound=function(){return e(o.s("shared-calculator-error-incorrect-sum-lower-bound"))},r.incorrectProductLowerBound=function(){return e(o.s("shared-calculator-error-incorrect-product-lower-bound"))},r.badSumBoundDependency=function(r){return e(o.s("shared-calculator-error-bad-sum-bound-dependency",{symbol:n.formatSymbol(r)}))},r.badProductBoundDependency=function(r){return e(o.s("shared-calculator-error-bad-product-bound-dependency",{symbol:n.formatSymbol(r)}))},r.integralMissingBound=function(){return e(o.s("shared-calculator-error-integral-missing-bound"))},r.integralMissingDifferential=function(){return e(o.s("shared-calculator-error-integral-missing-differential"))},r.differentialWithSuperscript=function(){return e(o.s("shared-calculator-error-differential-with-superscript"))},r.sumMissingBody=function(){return e(o.s("shared-calculator-error-sum-missing-body"))},r.productMissingBody=function(){return e(o.s("shared-calculator-error-product-missing-body"))},r.integralMissingBody=function(){return e(o.s("shared-calculator-error-integral-missing-body"))},r.derivativeMissingBody=function(){return e(o.s("shared-calculator-error-derivative-missing-body"))},r.mismatchedBraces=function(r,t){return r=n.formatSymbol(r),t=n.formatSymbol(t),e(o.s("shared-calculator-error-mismatched-braces",{symbol1:r,symbol2:t}))},r.shadowedIntegrationVariable=function(r){return e(o.s("shared-calculator-error-shadowed-integration-variable",{symbol:n.formatSymbol(r)}))},r.badIntegralBoundDependency=function(r){return e(o.s("shared-calculator-error-bad-integral-bound-dependency",{symbol:n.formatSymbol(r)}))},r.percentMissingOf=function(){return e(o.s("shared-calculator-error-percent-missing-of"))},r.illegalBinWidth=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-illegal-bin-width",{symbol:r}))},r.ttestListTooShort=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-ttest-list-too-short",{symbol:r}))},r.badSampleSize=function(){return e(o.s("shared-calculator-error-bad-sample-size"))},r.variableSeed=function(r){return e(o.s("shared-calculator-error-variable-seed",{symbol:n.formatSymbol(r[0].symbol)})).setDependencies(r.filter(function(r){return"free"===r.scope}).map(function(r){return r.symbol})).allowExport()},r.badSymbolContext=function(r){return e(o.s("shared-calculator-error-bad-symbol-context",{symbol:n.formatSymbol(r)}))},r.ansUndefined=function(){return e(o.s("shared-calculator-error-ans-undefined"))},r.variablesUnsupported=function(r){return e(o.s("shared-calculator-error-variables-unsupported",{variable:n.formatSymbol(r)}))},r.functionUnsupported=function(r){return e(o.s("shared-calculator-error-function-unsupported",{symbol:n.formatSymbol(r)}))},r.logbaseUnsupported=function(){return e(o.s("shared-calculator-error-logbase-unsupported"))},r.constantUnsupported=function(r){return e(o.s("shared-calculator-error-constant-unsupported",{symbol:n.formatSymbol(r)}))},r.variableUnsupported=function(r){return e(o.s("shared-calculator-error-variable-unsupported",{symbol:n.formatSymbol(r)}))},r.assignmentsUnsupported=function(){return e(o.s("shared-calculator-error-assignments-unsupported"))},r.functionDefinitionsUnsupported=function(){return e(o.s("shared-calculator-error-function-definition-unsupported"))},r.equationsUnsupported=function(){return e(o.s("shared-calculator-error-equations-unsupported"))},r.inequalitiesUnsupported=function(){return e(o.s("shared-calculator-error-inequalities-unsupported"))},r.regressionsUnsupported=function(){return e(o.s("shared-calculator-error-regressions-unsupported"))},r.pointsUnsupported=function(){return e(o.s("shared-calculator-error-points-unsupported"))},r.featureUnavailable=function(){return e(o.s("shared-calculator-error-feature-unavailable"))},r.fractionsUnavailable=function(){return e(o.s("basic-calculator-error-fractions-unavailable"))},r.nonSquareDeterminant=function(){return e(o.s("shared-calculator-error-non-square-determinant"))},r.nonSquareTrace=function(){return e(o.s("shared-calculator-error-non-square-trace"))},r.nonSquareInverse=function(){return e(o.s("shared-calculator-error-non-square-inverse"))},r.singularInverse=function(){return e(o.s("shared-calculator-error-non-singular-inverse"))},r.clickableObjectAssignmentNotDefined=function(r){return e(o.s("shared-calculator-error-clickable-object-assignment-not-defined",{symbol:r}))},r.clickableObjectAlreadyAssigned=function(r){return e(o.s("shared-calculator-error-multiply-defined",{dependency:r}))},r.clickableObjectAssignmentNotIdentifier=function(){return e(o.s("shared-calculator-error-clickable-object-assignment-not-identifier"))},r.clickableObjectInvalidExpression=function(){return e(o.s("shared-calculator-error-clickable-object-invalid-expression"))},r.matrixAssignment=function(){return e(o.s("shared-calculator-error-matrix-assignment"))},r.matrixAddDimensions=function(){return e(o.s("shared-calculator-error-matrix-add-dimensions"))},r.matrixSubtractDimensions=function(){return e(o.s("shared-calculator-error-matrix-subtract-dimensions"))},r.matrixMultiplyDimensions=function(){return e(o.s("shared-calculator-error-matrix-multiply-dimensions"))},r.matrixFractionalPower=function(){return e(o.s("shared-calculator-error-matrix-fractional-power"))},r.matrixPowerDimensions=function(){return e(o.s("shared-calculator-error-matrix-power-dimensions"))},r.matrixElementTypeError=function(r){return e(o.s("shared-calculator-error-matrix-element-type-error",{arg:r[0]}))},r.matrixInvalidVariable=function(r){return e(o.s("shared-calculator-error-matrix-invalid-variable",{symbol:n.formatSymbol(r)}))},r.listComprehensionInputListTypeError=function(r,n){return e(o.s("shared-calculator-error-list-comprehension-input-type-error",{identifier:r,actual:n}))},r.listComprehensionIncorrectInput=function(){return e(o.s("shared-calculator-error-incorrect-list-comprehension-input"))},r.unexpectedForKeyword=function(){return e(o.s("shared-calculator-error-unexpected-for-keyword"))},r.shadowedListComprehensionInput=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-shadowed-list-comprehension-input",{symbol:r}))},r.badListComprehensionInputDependency=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-bad-list-comprehension-input-dependency",{symbol:r}))},r.variableLengthTopLevelList=function(r){var t=r.filter(function(r){return"free"===r.scope}).map(function(r){return r.symbol});return e(o.s("shared-calculator-error-variable-length-top-level-list",{symbol:n.formatSymbol(t[0]||"")})).setDependencies(t).allowExport()},r.variableLengthDistributionList=function(r){return e(o.s("shared-calculator-error-variable-length-distribution-list",{symbol:r[0].symbol})).setDependencies(r.filter(function(r){return"free"===r.scope}).map(function(r){return r.symbol}))},r.variableLengthSumBodyDependsOnIndex=function(r){return e(o.s("shared-calculator-error-variable-length-sum-body-depends-on-index",{symbol:r}))},r.variableLengthProductBodyDependsOnIndex=function(r){return e(o.s("shared-calculator-error-variable-length-product-body-depends-on-index",{symbol:r}))}});\ndefine(\'core/math/parsenode/expression\',[\'require\',\'pjs\',\'./base\',\'core/math/errormsg\'],function(require){"use strict";var r=require("pjs"),e=require("./base");require("core/math/errormsg");return r(e,function(r,e){r.init=function(r){if(!Array.isArray(r))throw new TypeError("Argument to expression constructor must be an Array.");e.init.call(this),this.args=r,this.registerDependencies()},r.shouldExportAns=function(){return!0},r.registerDependencies=function(){for(var r=0;r<this.args.length;r++)this.mergeDependencies(this.args[r])},r.copyWithArgs=function(r){return new this.constructor(r)}})});\ndefine(\'core/math/parsenode/expressionTypes\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";var n=require("pjs"),t=require("./expression"),e={Add:n(t,{}),Subtract:n(t,{}),Multiply:n(t,{}),Divide:n(t,{}),Exponent:n(t,{}),Negative:n(t,{}),And:n(t,{isInequality:function(){return this.args[0].isInequality()&&this.args[1].isInequality()}}),PercentOf:n(t,{})};return e.RawExponent=n(e.Exponent,{}),e});\ndefine(\'core/math/builtin-common\',["require","exports","./tofraction","core/math/distance"],function(require,r,t,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.pow=r.gcd=void 0,r.gcd=function(r,t){if((r=Math.round(r))<0&&(r=-r),(t=Math.round(t))<0&&(t=-t),t>r){var e=t;t=r,r=e}if(0===t)return r;for(var n=r%t;n>0;)n=(r=t)%(t=n);return t},r.pow=function(r,n){if(!isFinite(r)&&0===n)return NaN;if(r>=0||n===Math.floor(n))return Math.pow(r,n);var o=t.default(n,100);return e.approx(o.n/o.d,n,2)&&o.d%2==1?(o.n%2==0?1:-1)*Math.pow(-r,n):NaN}});\ndefine(\'core/math/maybe-rational\',["require","exports","./builtin-common"],function(require,n,t){"use strict";function r(n,t){return{n:n,d:t}}function a(n){return"object"==typeof n&&"number"==typeof n.n&&"number"==typeof n.d}Object.defineProperty(n,"__esModule",{value:!0}),n.total=n.mod=n.nthroot=n.sqrt=n.pow=n.div=n.sub=n.mul=n.add=n.reciprocal=n.abs=n.neg=n.maybeRational=n.isNanFloat=n.asFloat=n.fromDecimalString=n.isRational=void 0,n.isRational=a;var o=Math.pow(2,53)-1;function e(n){return a(n)?n.n/n.d:+n}function u(n,a){if(!isFinite(n)||!isFinite(a)||0===a||Math.floor(n)!==n||Math.floor(a)!==a||Math.abs(n)>o||Math.abs(a)>o)return n/a;a<0&&(n=-n,a=-a);var e=t.gcd(n,a);return r(n/e,a/e)}function i(n){return a(n)?r(-n.n,n.d):-n}function d(n){return a(n)?0===n.n?n.d/n.n:r(n.n<0?-n.d:n.d,Math.abs(n.n)):1/n}function f(n,r){if(!a(n)||!a(r))return e(n)+e(r);var o=t.gcd(n.d,r.d);return u(n.n*(r.d/o)+r.n*(n.d/o),n.d/o*r.d)}function c(n,r){if(!a(n)||!a(r))return e(n)*e(r);var o=t.gcd(n.n,r.d),i=t.gcd(r.n,n.d);return u(n.n/o*(r.n/i),n.d/i*(r.d/o))}function s(n,t){return f(n,i(t))}function h(n,t){return a(n)&&a(t)?c(n,d(t)):e(n)/e(t)}function M(n,r){if(!a(n)||!a(r))return t.pow(e(n),e(r));var o=function(n,r){var o=n,f=r;if(r.n<0&&(f=i(r),o=d(n)),!a(o)||!a(f))return t.pow(e(n),e(r));if(n=o,1===(r=f).d)return u(Math.pow(n.n,r.n),Math.pow(n.d,r.n));var c=n.n<0;if(c&&r.d%2!=1)return NaN;var s=(c?-1:1)*Math.round(Math.pow(Math.abs(n.n),1/r.d)),h=Math.round(Math.pow(Math.abs(n.d),1/r.d));return Math.pow(s,r.d)!==n.n||Math.pow(h,r.d)!==n.d?t.pow(e(n),e(r)):u(Math.pow(s,r.n),Math.pow(h,r.n))}(n,r);return a(o)?o:t.pow(e(n),e(r))}n.fromDecimalString=function(n){var t=n.match(/^(-)?(\\d*)?(?:\\.(\\d*))?$/);if(!t)return NaN;var r=t[1],a=t[2],e=t[3];if(!a&&!e)return NaN;var i=!!r;if(e){var d,f=e.replace(/0+$/,""),c=f.length,s=Math.pow(10,c);return(d=parseInt(a||"0",10)*s+parseInt(f||"0",10))>o||s>o?parseFloat(n):u(i?-d:d,s)}return(d=parseInt(a,10))>o?parseFloat(n):u(i?-d:d,1)},n.asFloat=e,n.isNanFloat=function(n){return!a(n)&&isNaN(n)},n.maybeRational=u,n.neg=i,n.abs=function(n){return a(n)?r(Math.abs(n.n),Math.abs(n.d)):Math.abs(n)},n.reciprocal=d,n.add=f,n.mul=c,n.sub=s,n.div=h,n.pow=M,n.sqrt=function(n){if(!a(n))return Math.sqrt(n);var t=Math.round(Math.sqrt(n.n)),r=Math.round(Math.sqrt(n.d));return t*t!==n.n||r*r!==n.d?Math.sqrt(e(n)):u(t,r)},n.nthroot=function(n,t){return M(n,d(t))},n.mod=function(n,t){if(!a(n)||!a(t)){var o=e(n),u=e(t);return o-u*Math.floor(o/u)}return s(n,c(t,r(Math.floor(e(h(n,t))),1)))},n.total=function(n){for(var t=r(0,1),a=0,o=n;a<o.length;a++){t=f(t,o[a])}return t}});\ndefine(\'core/math/parsenode/constant\',[\'require\',\'pjs\',\'./expression\',\'core/math/maybe-rational\'],function(require){"use strict";var t=require("pjs"),n=require("./expression"),a=require("core/math/maybe-rational");return t(n,function(t,n){t.init=function(t){"number"==typeof t&&(t=a.maybeRational(t,1)),this._constantValue=t,n.init.call(this,[])},t.isConstant=!0,t.asValue=function(){return"boolean"==typeof this._constantValue?this._constantValue:a.asFloat(this._constantValue)},t.asCompilerValue=function(){return this._constantValue},t.scalarExprString=function(){return this.asValue()>0?String(this.asValue()):"("+String(this.asValue())+")"},t.getEvaluationInfo=function(){return[{val:this.asValue()}]},t.isNaN=function(){return"number"==typeof this.asValue()&&isNaN(this.asValue())}})});\ndefine(\'core/math/parsenode/mixednumber\',[\'require\',\'pjs\',\'./constant\'],function(require){"use strict";return require("pjs")(require("./constant"),function(n,i){n.init=function(n){i.init.call(this,n)},n.is_mixed_number=!0})});\ndefine(\'core/math/parsenode/identifier\',[\'require\',\'pjs\',\'./expression\',\'core/lib/label\',\'core/math/parser/input-span\'],function(require){"use strict";var t=require("pjs"),n=require("./expression"),i=require("core/lib/label"),e=require("core/math/parser/input-span");return t(n,function(t,n,s){t.init=function(t){n.init.call(this,[]),this._symbol=i.latexToIdentifier(t),this._errorSymbol=this._symbol,this.addDependency(this._symbol)},t.setInputSpan=function(t){n.setInputSpan.call(this,t),this._errorSymbol=i.latexToIdentifier(this.getInputString())},t.getInputSpan=function(){return void 0===this._inputSpan?new e.Span(this._symbol,0,this._symbol.length):this._inputSpan}})});\ndefine(\'core/math/parsenode/ans\',[\'require\',\'pjs\',\'./identifier\'],function(require){"use strict";return require("pjs")(require("./identifier"),function(i,n,e){})});\ndefine(\'core/math/parsenode/list\',[\'require\',\'pjs\',\'./expression\',\'core/math/types\'],function(require){"use strict";var t=require("pjs"),i=require("./expression"),n=require("core/math/types");return t(i,function(t,i,s){t.init=function(t){i.init.call(this,t),this.length=t.length},t.isList=!0,t.asValue=function(){for(var t=[],i=0;i<this.args.length;i++)t.push(this.args[i].asValue());return t},t.asCompilerValue=function(){for(var t=[],i=0;i<this.args.length;i++)t.push(this.args[i].asCompilerValue());return t},t.getEvaluationInfo=function(){if(this.args.every(function(t){return t.isConstant}))return[{val:this.args.map(function(t){return t.asValue()})}]},s.eachArgs=function(t,i){var s=function(t){for(var i=1/0,n=0;n<t.length;n++)(t[n].isList||t[n].isBroadcast)&&(i=Math.min(i,t[n].length));return i}(t);if(isFinite(s))for(var e=0;e<s;e++){for(var r=[],a=0;a<t.length;a++)r.push(t[a].isList||n.isList(t[a].valueType)?t[a].elementAt(e):t[a]);i(r,e)}else i(t)},s.wrap=function(t){return t.isList||n.isList(t.valueType)?t:s([t])}})});\ndefine(\'core/math/parsenode/range\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(n,i,t){n.init=function(n){i.init.call(this,n),this.beginning=n[0],this.end=n[1]},n.isHalfEmpty=function(){return this.end&&this.end.args&&0===this.end.args.length}})});\ndefine(\'core/math/parsenode/listaccess\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(i,n){i.init=function(i){n.init.call(this,i),this.list=i[0],this.index=i[1]}})});\ndefine(\'core/math/parsenode/dotaccess\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),{})});\ndefine(\'core/math/parsenode/parenseq\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),{})});\ndefine(\'core/math/parsenode/movablepoint\',[\'require\',\'pjs\',\'./parenseq\',\'core/math/types\'],function(require){"use strict";var t=require("pjs"),e=require("./parenseq"),a=require("core/math/types");return t(e,function(t,e){t.asValue=function(){return[+this.args[0].asValue(),+this.args[1].asValue()]},t.asCompilerValue=function(){return[this.args[0].asCompilerValue(),this.args[1].asCompilerValue()]},t.init=function(t,i,s){e.init.call(this,t),this.moveStrategy=i,this.defaultDragMode=s,this.valueType=a.Point},t.isMovablePoint=!0})});\ndefine(\'core/math/parsenode/orderedpairaccess\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(i,n){i.init=function(i){n.init.call(this,i),this.point=i[0],this.index=i[1]}})});\ndefine(\'core/math/parsenode/bareseq\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),{})});\ndefine(\'core/math/comparators\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.get=e.table=void 0,e.table={"<":{inclusive:!1,direction:-1},"!=":{inclusive:!1,direction:0},">":{inclusive:!1,direction:1},"<=":{inclusive:!0,direction:-1},"=":{inclusive:!0,direction:0},">=":{inclusive:!0,direction:1}},e.get=function(e,i){switch(i){case-1:return e?"<=":"<";case 0:return e?"=":"!=";case 1:return e?">=":">";default:throw"Programming error.  Comparators must have a direction of -1, 0, or 1"}}});\ndefine(\'core/math/parsenode/basecomparator\',[\'require\',\'pjs\',\'./expression\',\'./expressionTypes\',\'core/math/comparators\'],function(require){"use strict";var t=require("pjs"),n=require("./expression"),i=require("./expressionTypes").Subtract,r=require("core/math/comparators").table;return t(n,function(n,e,o){o.create=function(n){return t(o,function(t,i){t.operator=n,t.isInequality=function(){return 0!==r[n].direction}})},n.init=function(t){e.init.call(this,t),this._difference=-1===r[this.operator].direction?i([t[1],t[0]]):i([t[0],t[1]])},n.asComparator=function(){return this}})});\ndefine(\'core/math/parsenode/comparator\',[\'require\',\'core/math/parsenode/basecomparator\'],function(require){"use strict";var e=require("core/math/parsenode/basecomparator");return{"<":e.create("<"),">":e.create(">"),"<=":e.create("<="),">=":e.create(">="),"=":e.create("=")}});\ndefine(\'core/math/parsenode/doubleinequality\',[\'require\',\'pjs\',\'./base\',\'core/math/comparators\',\'./comparator\'],function(require){"use strict";var i=require("pjs"),e=require("./base"),s=require("core/math/comparators"),t=require("./comparator");return i(e,function(i,e){i.init=function(i){e.init.call(this),this.args=i,this._symbol=i[2]._symbol,this._operators=[i[1],i[3]],this._expressions=[i[0],i[4]];var n=s.get(s.table[i[1]].inclusive&&s.table[i[3]].inclusive,s.table[i[1]].direction);this._indicator=t[n]([i[0],i[4]]),this.addDependency(this._symbol),this.mergeDependencies(this._expressions[0],this._expressions[1])},i.isInequality=function(){return!0},i.isShadeBetween=function(){return!0}})});\ndefine(\'core/math/parsenode/repeatedoperator\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(e,i){e.init=function(e){this._index=e[0],i.init.call(this,e)},e.registerDependencies=function(){this.addDummyDependency(this._index._symbol),this.mergeDependencies(this.args[1]),this.mergeDependencies(this.args[2]),this.mergeDependenciesInScope([this._index._symbol],this.args[3])}})});\ndefine(\'core/math/parsenode/sum\',[\'require\',\'pjs\',\'./repeatedoperator\'],function(require){"use strict";return require("pjs")(require("./repeatedoperator"),function(t,n){t.in_place_operator="+=",t.starting_value=0,t.evaluateConstant=function(t){var n=1+Math.round(t[1])-Math.round(t[0]);return n<=0?this.starting_value:n*t[2]},t.update=function(t,n){return t+n}})});\ndefine(\'core/math/parsenode/product\',[\'require\',\'pjs\',\'./repeatedoperator\'],function(require){"use strict";return require("pjs")(require("./repeatedoperator"),function(t,n){t.in_place_operator="*=",t.starting_value=1,t.evaluateConstant=function(t){var n=1+Math.round(t[1])-Math.round(t[0]);return n<=0?this.starting_value:Math.pow(t[2],n)},t.update=function(t,n){return t*n}})});\ndefine(\'core/math/parsenode/integral\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(e,i){e.init=function(e){this._differential=e[0],i.init.call(this,e)},e.registerDependencies=function(){this.mergeDependencies(this.args[1]),this.mergeDependencies(this.args[2]),this.mergeDependenciesInScope([this._differential._symbol],this.args[3])}})});\ndefine(\'core/math/parsenode/assignmentexpression\',[\'require\',\'./expression\',\'pjs\'],function(require){"use strict";var i=require("./expression");return require("pjs")(i,function(i,n){i.init=function(i){n.init.call(this,i),this._symbol=i[0]._symbol}})});\ndefine(\'core/math/parsenode/listcomprehension\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(i,e){i.init=function(i,s,n){this._index=i,this._body=s,this._inputLists=n,e.init.call(this,[i,s].concat(n))},i.registerDependencies=function(){for(var i=[],e=0;e<this._inputLists.length;e++){var s=this._inputLists[e],n=s._symbol;this.addDummyDependency(n),i.push(n),this.mergeDependencies(s.args[1])}this.addDummyDependency(this._index._symbol),i.push(this._index._symbol),this.mergeDependenciesInScope(i,this._body)}})});\ndefine(\'core/math/ir/opcodes\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Action=e.BroadcastResult=e.BlockVar=e.ExtendSeed=e.Distribution=e.InboundsListAccess=e.DeferredListAccess=e.ListAccess=e.List=e.NativeFunction=e.Piecewise=e.And=e.GreaterEqual=e.LessEqual=e.Greater=e.Less=e.Equal=e.EndBroadcast=e.BeginBroadcast=e.EndIntegral=e.BeginIntegral=e.EndLoop=e.BeginLoop=e.OrderedPairAccess=e.OrderedPair=e.Negative=e.RawExponent=e.Exponent=e.Divide=e.Multiply=e.Subtract=e.Add=e.MAX_LEAF_OPCODE=e.SymbolicVar=e.LoadArg=e.Constant=e.Noop=void 0,e.Noop=0,e.Constant=1,e.LoadArg=2,e.SymbolicVar=3,e.MAX_LEAF_OPCODE=3,e.Add=8,e.Subtract=9,e.Multiply=10,e.Divide=11,e.Exponent=12,e.RawExponent=13,e.Negative=14,e.OrderedPair=15,e.OrderedPairAccess=16,e.BeginLoop=17,e.EndLoop=18,e.BeginIntegral=19,e.EndIntegral=20,e.BeginBroadcast=21,e.EndBroadcast=22,e.Equal=23,e.Less=24,e.Greater=25,e.LessEqual=26,e.GreaterEqual=27,e.And=30,e.Piecewise=31,e.NativeFunction=37,e.List=38,e.ListAccess=39,e.DeferredListAccess=40,e.InboundsListAccess=41,e.Distribution=42,e.ExtendSeed=44,e.BlockVar=47,e.BroadcastResult=48,e.Action=49});\ndefine(\'core/math/ir/builtin-table\',["require","exports","core/math/types","./opcodes","core/math/maybe-rational"],function(require,e,t,r,n){"use strict";function u(e,r,n){var u,a,l,i,m,o,s=null!==(u=null==n?void 0:n.tag)&&void 0!==u?u:"default",d=null!==(a=null==n?void 0:n.argumentTypes)&&void 0!==a?a:function(e){switch(e){case"default":case"trig":case"inverseTrig":case"never-broadcast":return[t.Number];case"reducer":return[t.ListOfNumber];case"doubleReducer":return[t.ListOfNumber,t.ListOfNumber];case"parameterizedReducer":return[t.ListOfNumber,t.Number];case"color":return[t.Number,t.Number,t.Number]}}(s),g=(null==n?void 0:n.defaultArguments)?n.defaultArguments.length:0,c=null!==(l=null==n?void 0:n.minArity)&&void 0!==l?l:d.length-g,p=null!==(i=null==n?void 0:n.maxArity)&&void 0!==i?i:function(e,t,r){return"reducer"===e?1/0:t+r}(s,c,g),b=null!==(m=null==n?void 0:n.allowDotCall)&&void 0!==m?m:function(e){switch(e){case"default":case"trig":case"inverseTrig":case"doubleReducer":case"color":case"never-broadcast":return!1;case"reducer":case"parameterizedReducer":return!0}}(s);return{module:e,symbol:r,argumentTypes:d,defaultArguments:null==n?void 0:n.defaultArguments,returnType:null!==(o=null==n?void 0:n.returnType)&&void 0!==o?o:t.Number,tag:s,minArity:c,maxArity:p,allowDotCall:b}}function a(e){if(!n.isRational(e))throw new Error("Programming Error: numeric constants should be rational");return{type:r.Constant,valueType:t.Number,value:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.CompilerFunctionTable=e.BuiltInTable=void 0;var l=a(n.maybeRational(0,1)),i=a(n.maybeRational(1,1)),m=a(n.maybeRational(1,2));function o(e,t){var r,n,u,a,l=null==t?void 0:t.defaultArguments,i=null!==(r=null==t?void 0:t.maxArity)&&void 0!==r?r:function(e,t){return t?t.length+e:e}(e,l),m=null!==(n=null==t?void 0:t.fallthroughUnlessDistribution)&&void 0!==n&&n,o=null!==(u=null==t?void 0:t.allowDotCall)&&void 0!==u&&u,s=null!==(a=null==t?void 0:t.isSeeded)&&void 0!==a&&a;return{minArity:e,maxArity:i,defaultArguments:l,fallthroughUnlessDistribution:m,minArityExampleArgs:null==t?void 0:t.minArityExampleArgs,maxArityExampleArgs:null==t?void 0:t.maxArityExampleArgs,dotMinArityExampleArgs:null==t?void 0:t.dotMinArityExampleArgs,dotMaxArityExampleArgs:null==t?void 0:t.dotMaxArityExampleArgs,allowDotCall:o,isSeeded:s}}function s(){return o(0,{maxArity:1/0})}e.BuiltInTable={sin:u("BuiltIn","sin",{tag:"trig"}),cos:u("BuiltIn","cos",{tag:"trig"}),tan:u("BuiltIn","tan",{tag:"trig"}),cot:u("BuiltIn","cot",{tag:"trig"}),sec:u("BuiltIn","sec",{tag:"trig"}),csc:u("BuiltIn","csc",{tag:"trig"}),arcsin:u("Math","asin",{tag:"inverseTrig"}),arccos:u("Math","acos",{tag:"inverseTrig"}),arctan:u("Math","atan2",{argumentTypes:[t.Number,t.Number],defaultArguments:[i],tag:"inverseTrig"}),arccot:u("BuiltIn","acot",{tag:"inverseTrig"}),arcsec:u("BuiltIn","asec",{tag:"inverseTrig"}),arccsc:u("BuiltIn","acsc",{tag:"inverseTrig"}),sinh:u("BuiltIn","sinh"),cosh:u("BuiltIn","cosh"),tanh:u("BuiltIn","tanh"),coth:u("BuiltIn","coth"),sech:u("BuiltIn","sech"),csch:u("BuiltIn","csch"),arcsinh:u("BuiltIn","asinh"),arccosh:u("BuiltIn","acosh"),arctanh:u("BuiltIn","atanh"),arccoth:u("BuiltIn","acoth"),arcsech:u("BuiltIn","asech"),arccsch:u("BuiltIn","acsch"),sqrt:u("Math","sqrt"),rtxsqpone:u("BuiltIn","sqrtxsqp1"),rtxsqmone:u("BuiltIn","sqrtxsqm1"),nthroot:u("BuiltIn","nthroot",{argumentTypes:[t.Number,t.Number]}),hypot:u("BuiltIn","hypot",{argumentTypes:[t.Number,t.Number]}),log:u("BuiltIn","common_log"),logbase:u("BuiltIn","log_base",{argumentTypes:[t.Number,t.Number]}),ln:u("BuiltIn","log"),exp:u("Math","exp"),floor:u("Math","floor"),ceil:u("Math","ceil"),round:u("Math","round"),abs:u("Math","abs"),sign:u("BuiltIn","sign"),mod:u("BuiltIn","mod",{argumentTypes:[t.Number,t.Number]}),nCr:u("BuiltIn","nCr",{argumentTypes:[t.Number,t.Number]}),nPr:u("BuiltIn","nPr",{argumentTypes:[t.Number,t.Number]}),factorial:u("BuiltIn","factorial"),polyGamma:u("BuiltIn","polyGamma",{argumentTypes:[t.Number,t.Number]}),lcm:u("BuiltIn","listLCM",{tag:"reducer"}),gcd:u("BuiltIn","listGCD",{tag:"reducer"}),distance:u("BuiltIn","distance",{argumentTypes:[t.Point,t.Point]}),polygon:u("BuiltIn","polygon",{tag:"reducer",argumentTypes:[t.ListOfPoint],returnType:t.Polygon}),mean:u("BuiltIn","mean",{tag:"reducer"}),total:u("BuiltIn","total",{tag:"reducer"}),stdev:u("BuiltIn","stdev",{tag:"reducer"}),stdevp:u("BuiltIn","stdevp",{tag:"reducer"}),mad:u("BuiltIn","mad",{tag:"reducer"}),length:u("BuiltIn","length",{tag:"reducer",argumentTypes:[t.ListOfAny]}),min:u("BuiltIn","listMin",{tag:"reducer"}),max:u("BuiltIn","listMax",{tag:"reducer"}),argmin:u("BuiltIn","argMin",{tag:"reducer"}),argmax:u("BuiltIn","argMax",{tag:"reducer"}),median:u("BuiltIn","median",{tag:"reducer"}),var:u("BuiltIn","variance",{tag:"reducer"}),varp:u("BuiltIn","varp",{tag:"reducer"}),cov:u("BuiltIn","cov",{tag:"doubleReducer"}),covp:u("BuiltIn","covp",{tag:"doubleReducer"}),corr:u("BuiltIn","corr",{tag:"doubleReducer"}),spearman:u("BuiltIn","spearman",{tag:"doubleReducer"}),quantile:u("BuiltIn","quantile",{tag:"parameterizedReducer"}),quartile:u("BuiltIn","quartile",{tag:"parameterizedReducer"}),upperQuantileIndex:u("BuiltIn","upperQuantileIndex",{tag:"parameterizedReducer"}),lowerQuantileIndex:u("BuiltIn","lowerQuantileIndex",{tag:"parameterizedReducer"}),quartileIndex:u("BuiltIn","quartileIndex",{tag:"parameterizedReducer"}),upperQuartileIndex:u("BuiltIn","upperQuartileIndex",{tag:"parameterizedReducer"}),lowerQuartileIndex:u("BuiltIn","lowerQuartileIndex",{tag:"parameterizedReducer"}),normalcdf:u("BuiltIn","normalcdf",{argumentTypes:[t.Number,t.Number,t.Number,t.Number],defaultArguments:[l,i]}),normalpdf:u("BuiltIn","normalpdf",{argumentTypes:[t.Number,t.Number,t.Number],defaultArguments:[l,i]}),binomcdf:u("BuiltIn","binomcdf",{argumentTypes:[t.Number,t.Number,t.Number,t.Number],defaultArguments:[m]}),binompdf:u("BuiltIn","binompdf",{argumentTypes:[t.Number,t.Number,t.Number],defaultArguments:[m]}),poissoncdf:u("BuiltIn","poissoncdf",{argumentTypes:[t.Number,t.Number,t.Number]}),poissonpdf:u("BuiltIn","poissonpdf",{argumentTypes:[t.Number,t.Number,t.Number]}),uniformcdf:u("BuiltIn","uniformcdf",{argumentTypes:[t.Number,t.Number,t.Number,t.Number],defaultArguments:[l,i]}),uniformpdf:u("BuiltIn","uniformpdf",{argumentTypes:[t.Number,t.Number,t.Number],defaultArguments:[l,i]}),invT:u("BuiltIn","invT",{argumentTypes:[t.Number,t.Number]}),invPoisson:u("BuiltIn","invPoisson",{argumentTypes:[t.Number,t.Number]}),invBinom:u("BuiltIn","invBinom",{argumentTypes:[t.Number,t.Number,t.Number]}),invUniform:u("BuiltIn","invUniform",{argumentTypes:[t.Number,t.Number,t.Number]}),tpdf:u("BuiltIn","tpdf",{argumentTypes:[t.Number,t.Number]}),tcdf:u("BuiltIn","tcdf",{argumentTypes:[t.Number,t.Number,t.Number]}),erf:u("BuiltIn","erf"),invNorm:u("BuiltIn","invNorm"),tscore:u("BuiltIn","tscore",{tag:"parameterizedReducer",defaultArguments:[l]}),normalSample:u("BuiltIn","normalSample",{argumentTypes:[t.SeedType,t.Number,t.Number]}),uniformSample:u("BuiltIn","uniformSample",{argumentTypes:[t.SeedType,t.Number,t.Number]}),tSample:u("BuiltIn","tSample",{argumentTypes:[t.SeedType,t.Number]}),poissonSample:u("BuiltIn","poissonSample",{argumentTypes:[t.SeedType,t.Number]}),binomSample:u("BuiltIn","binomSample",{argumentTypes:[t.SeedType,t.Number,t.Number]}),rgb:u("BuiltIn","rgb",{returnType:t.RGBColor,tag:"color"}),hsv:u("BuiltIn","hsv",{returnType:t.RGBColor,tag:"color"}),validateRangeLength:u("BuiltIn","validateRangeLength",{returnType:t.Number,argumentTypes:[t.ListOfNumber,t.ListOfNumber,t.Number,t.Number],tag:"never-broadcast"}),validateSampleCount:u("BuiltIn","validateSampleCount",{returnType:t.Number,argumentTypes:[t.Number]}),select:u("BuiltIn","select",{argumentTypes:[t.ListOfAny,t.ListOfBool],returnType:function(e){return e[0]},tag:"never-broadcast"}),shuffle:u("BuiltIn","shuffle",{argumentTypes:[t.SeedType,t.ListOfAny],returnType:function(e){return e[1]},tag:"never-broadcast"}),sortPerm:u("BuiltIn","sortPerm",{argumentTypes:[t.ListOfNumber],returnType:t.ListOfNumber,tag:"never-broadcast"}),elementsAt:u("BuiltIn","elementsAt",{argumentTypes:[t.ListOfAny,t.ListOfNumber],returnType:function(e){return e[0]},tag:"never-broadcast"}),uniquePerm:u("BuiltIn","uniquePerm",{argumentTypes:[t.ListOfAny],returnType:t.ListOfNumber,tag:"never-broadcast"})},e.CompilerFunctionTable={round:o(1,{maxArity:2}),midpoint:o(2),sort:o(1,{maxArity:2,minArityExampleArgs:"([3,2,1])",maxArityExampleArgs:"([1,2,3],[3,2,1])",dotMaxArityExampleArgs:"([3,4])",allowDotCall:!0}),shuffle:o(2,{maxArity:3,minArityExampleArgs:"([1,2,3])",maxArityExampleArgs:"([1,2,3],2)",dotMaxArityExampleArgs:"(2)",allowDotCall:!0,isSeeded:!0}),join:o(2,{maxArity:1/0,minArityExampleArgs:"([1,2],[3,4])",dotMinArityExampleArgs:"([3,4])",allowDotCall:!0}),unique:o(1,{minArityExampleArgs:"([1,2,3])",maxArityExampleArgs:"([1,2,3])",allowDotCall:!0}),normaldist:o(0,{defaultArguments:[l,i]}),tdist:o(1),binomialdist:o(1,{defaultArguments:[m]}),poissondist:o(1),uniformdist:o(0,{defaultArguments:[l,i]}),pdf:o(2,{allowDotCall:!0}),cdf:o(2,{maxArity:3,allowDotCall:!0}),mean:o(1,{fallthroughUnlessDistribution:!0,allowDotCall:!0}),median:o(1,{fallthroughUnlessDistribution:!0,allowDotCall:!0}),stdev:o(1,{fallthroughUnlessDistribution:!0,allowDotCall:!0}),var:o(1,{fallthroughUnlessDistribution:!0,allowDotCall:!0}),quantile:o(2,{fallthroughUnlessDistribution:!0,allowDotCall:!0,minArityExampleArgs:"([1,2,3], 1)",maxArityExampleArgs:"([1,2,3], 1)",dotMinArityExampleArgs:"(x)",dotMaxArityExampleArgs:"(x)"}),random:o(1,{maxArity:4,allowDotCall:!0,isSeeded:!0}),polygon:o(0,{maxArity:1/0}),histogram:s(),dotplot:s(),boxplot:s(),ttest:s(),ittest:s(),stats:s(),det:s(),inv:s(),transpose:s(),rref:s(),trace:s()}});\ndefine(\'core/math/parsenode/functioncall\',[\'require\',\'pjs\',\'./expression\',\'./identifier\',\'core/math/ir/builtin-table\'],function(require){"use strict";var i=require("pjs"),e=require("./expression"),t=require("./identifier"),r=require("core/math/ir/builtin-table").BuiltInTable;return i(e,function(i,e){i.init=function(i,r){"string"==typeof i&&(i=t(i)),this._identifier=i,this._symbol=i._symbol,this._errorSymbol="logbase"===i._errorSymbol?"log":i._errorSymbol,e.init.call(this,r)},i.registerDependencies=function(){this.addDependency(this._symbol),e.registerDependencies.call(this);var i=r[this._symbol];!i||"trig"!==i.tag&&"inverseTrig"!==i.tag||this.addDependency("trigAngleMultiplier")},i.copyWithArgs=function(i){return new this.constructor(t(this._symbol),i)}})});\ndefine(\'core/math/parsenode/seededfunctioncall\',[\'require\',\'pjs\',\'./functioncall\'],function(require){"use strict";return require("pjs")(require("./functioncall"),function(i,n){i.init=function(i,t){n.init.call(this,i,t),this.seed=t[0]}})});\ndefine(\'core/math/parsenode/functionexponent\',[\'require\',\'pjs\',\'./expression\',\'core/math/ir/builtin-table\'],function(require){"use strict";var e=require("pjs"),i=require("./expression"),t=require("core/math/ir/builtin-table").BuiltInTable;return e(i,function(e,i){e.registerDependencies=function(){if(i.registerDependencies.call(this),"Identifier"===this.args[0].type){var e=this.args[0]._symbol,n=t[e];!n||"trig"!==n.tag&&"inverseTrig"!==n.tag||this.addDependency("trigAngleMultiplier")}}})});\ndefine(\'core/math/parsenode/functionfactorial\',[\'require\',\'pjs\',\'./expression\',\'core/math/ir/builtin-table\'],function(require){"use strict";var e=require("pjs"),i=require("./expression"),t=require("core/math/ir/builtin-table").BuiltInTable;return e(i,function(e,i){e.registerDependencies=function(){if(this.addDependency("factorial"),i.registerDependencies.call(this),"Identifier"===this.args[0].type){var e=this.args[0]._symbol,n=t[e];!n||"trig"!==n.tag&&"inverseTrig"!==n.tag||this.addDependency("trigAngleMultiplier")}}})});\ndefine(\'core/math/parsenode/prime\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(t,i){t.init=function(t,n){i.init.call(this,n),this.order=t},t.copyWithArgs=function(t){return new this.constructor(this.order,t)}})});\ndefine(\'core/math/parsenode/piecewise\',[\'require\',\'pjs\',\'./expression\',\'./constant\',\'core/math/maybe-rational\'],function(require){"use strict";var n=require("pjs"),t=require("./expression"),e=require("./constant"),r=require("core/math/maybe-rational").maybeRational,a=n(t,{});return a.chain=function(n,t){for(var e,r=t;n.length;)e=n.pop(),r=a([e.condition,e.if_expr,r]);return r},a.empty=function(){return a([e(!0),e(r(1,1)),e(NaN)])},a});\ndefine(\'core/math/parsenode/derivative\',[\'require\',\'pjs\',\'./expression\',\'./identifier\'],function(require){"use strict";var i=require("pjs"),n=require("./expression"),s=require("./identifier");return i(n,function(i,n){i.init=function(i,t){this._symbol=i instanceof s?i._symbol:s(i)._symbol,n.init.call(this,t),this.addDependency(this._symbol)}})});\ndefine(\'core/math/parsenode/updaterule\',[\'require\',\'./expression\',\'pjs\'],function(require){"use strict";var e=require("./expression");return require("pjs")(e,function(e,i){e.init=function(e){this._symbol=e[0]._symbol,this._expression=e[1],i.init.call(this,e)},e.registerDependencies=function(){this.addUpdateSymbol(this._symbol),this.mergeDependencies(this._expression)}})});\ndefine(\'core/math/parsenode/histogram\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(i,n){i.init=function(i){n.init.call(this,i),this._symbol="histogram"}})});\ndefine(\'core/math/parsenode/object3d\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(i,n){i.init=function(i,t){n.init.call(this,i),this._symbol=t}})});\ndefine(\'core/math/parsenode/dotplot\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(i,t){i.init=function(i){t.init.call(this,i),this._symbol="dotplot"}})});\ndefine(\'core/math/parsenode/boxplot\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(i,n){i.init=function(i){n.init.call(this,i),this._symbol="boxplot"}})});\ndefine(\'core/math/parsenode/ttest\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(t,i){t.init=function(){i.init.apply(this,arguments),this._symbol="ttest"}})});\ndefine(\'core/math/parsenode/independent-ttest\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(i,t){i.init=function(){t.init.apply(this,arguments),this._symbol="ittest"}})});\ndefine(\'core/math/parsenode/stats\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(i,t){i.init=function(){t.init.apply(this,arguments),this._symbol="stats"}})});\ndefine(\'core/math/parsenode/equation\',[\'require\',\'./base\',\'pjs\',\'./expressionTypes\',\'core/math/parsenode/comparator\'],function(require){"use strict";var s=require("./base"),t=require("pjs"),i=require("./expressionTypes").Subtract,e=require("core/math/parsenode/comparator");return t(s,function(s,t){s.init=function(s,e){t.init.call(this),this.mergeDependencies(s,e),this._lhs=s,this._rhs=e,this._difference=i([this._lhs,this._rhs])},s.asComparator=function(){return e["="]([this._lhs,this._rhs])}})});\ndefine(\'core/math/parsenode/assignment\',[\'require\',\'./base\',\'./equation\',\'./identifier\',\'pjs\'],function(require){"use strict";var e=require("./base"),t=require("./equation"),i=require("./identifier");return require("pjs")(e,function(e,s){e.init=function(e,t){s.init.call(this),e=e._symbol,this.mergeDependencies(t),this._expression=t,this._symbol=e,this._exports=this.computeExports()},e.shouldExportAns=function(){return!0},e.computeExports=function(){for(var e=this._symbol,t=this.getDependencies(),i=0;i<t.length;i++)if(t[i]===e)return[];return[e]},e.isEquation=function(e){return-1!==e.getDependencies().indexOf(this._symbol)},e.asEquation=function(){var e=t(i(this._symbol),this._expression);return e.userData=this.userData,e.metaData=this.metaData,e},e.shouldPromoteToSlider=function(e){return!!this._expression.isConstant&&(!this._expression.is_mixed_number&&("number"==typeof this._expression.asValue()&&(!!isFinite(this._expression.asValue())&&e.isValidSlider(this._symbol))))}})});\ndefine(\'core/math/parsenode/functiondefinition\',[\'require\',\'pjs\',\'./base\',\'core/math/errormsg\',\'./equation\',\'./identifier\',\'./functioncall\'],function(require){"use strict";var t=require("pjs"),e=require("./base"),i=require("core/math/errormsg"),r=require("./equation"),n=require("./identifier"),s=require("./functioncall");return t(e,function(t,e){t.init=function(t,i,r){e.init.call(this),t=t._symbol,this._argSymbols=i.map(function(t){return t._symbol}),this._symbol=t,this._exports=[t],this._expression=r,this.mergeDependenciesInScope(this._argSymbols,this._expression)},t.isFunction=!0,t.getConcreteInvocationTree=function(t,e,r,n){if(r.length!==this._argSymbols.length)throw i.wrongArity(n,this._argSymbols.length,r.length);for(var s=Object.create(e),o=0;o<this._argSymbols.length;o++)s[this._argSymbols[o]]=r[o];return this._expression.getConcreteTree(t,s)},t.getSliderVariables=function(t,i){var r=this._argSymbols;return e.getSliderVariables.call(this,t,i).filter(function(t){return-1===r.indexOf(t)})},t.asEquation=function(){var t=this._argSymbols.map(function(t){return n(t)}),e=r(s(n(this._symbol),t),this._expression);return e.userData=this.userData,e.metaData=this.metaData,e}})});\ndefine(\'core/math/parsenode/regression\',[\'require\',\'pjs\',\'./base\',\'core/math/errormsg\',\'./functioncall\',\'./identifier\',\'./expressionTypes\'],function(require){"use strict";var e=require("pjs"),i=require("./base"),r=require("core/math/errormsg"),s=require("./functioncall"),n=require("./identifier"),t=require("./expressionTypes").Subtract;return e(i,function(e,i,a){e.init=function(e,r){i.init.call(this),this._lhs=e,this.isLhsSimple=e instanceof n,this._logLhs=s("ln",[e]),this._rhs=r,this._difference=t([e,r]),this._logDifference=t([s("ln",[e]),s("ln",[r])]),this.mergeDependencies(e,r)},e.isRegression=!0,e.exportTo=function(e,i,s){if(!i.isError){for(var n in i.parameters)i.parameters.hasOwnProperty(n)&&(e.assignmentForbidden(n)||(s[n]=s[n]?r.multiplyDefined(n):i.parameters[n]));e.assignmentForbidden(i.residualVariable)||(s[i.residualVariable]=i.residuals)}},e.getSliderVariables=function(){return[]}})});\ndefine(\'core/math/parsenode/image\',[\'require\',\'pjs\',\'./base\'],function(require){"use strict";return require("pjs")(require("./base"),function(i,t,e,h){i.isImage=!0,i.init=function(i,e){t.init.call(this),this.center=i.center,this.radianAngle=i.radianAngle,this.width=i.width,this.height=i.height,this.opacity=i.opacity,this.moveStrategy=e,this.mergeDependencies(this.center,this.radianAngle,this.width,this.height,this.opacity)}})});\ndefine(\'core/math/parsenode/ticker\',[\'require\',\'pjs\',\'./base\'],function(require){"use strict";return require("pjs")(require("./base"),function(e,i){e.init=function(e){i.init.call(this),this.handler=e.handler,this.minStep=e.minStep,this.mergeDependencies(this.handler),this.mergeDependencies(this.minStep)}})});\ndefine(\'core/math/parsenode/slider\',[\'require\',\'pjs\',\'./assignment\',\'./identifier\'],function(require){"use strict";var i=require("pjs"),s=require("./assignment"),e=require("./identifier");return i(s,function(i,t,n,r){i.isSlider=!0,i.init=function(i,s){t.init.call(this,e(i._symbol),i._expression),this.setInputSpan(i._inputSpan),this.sliderAssignment=i,this.sliderMin=s.sliderMin,this.sliderMax=s.sliderMax,this.sliderSoftMin=s.sliderSoftMin,this.sliderSoftMax=s.sliderSoftMax,this.sliderStep=s.sliderStep,this.sliderIsPlayingOnce=s.sliderIsPlayingOnce,this.sliderMin&&this.mergeDependencies(this.sliderMin),this.sliderMax&&this.mergeDependencies(this.sliderMax),this.sliderStep&&this.mergeDependencies(this.sliderStep)},i.shouldPromoteToSlider=function(i){return!1},i.asAssignment=function(){return s(this._symbol,this._expression)}})});\ndefine(\'core/math/parsenode/table\',[\'require\',\'pjs\',\'./base\'],function(require){"use strict";return require("pjs")(require("./base"),function(t,n){t.init=function(t){n.init.call(this),this.columns=t,this._exports=[],this.mergeDependencies.apply(this,t);for(var e=0;e<t.length;e++)Array.prototype.push.apply(this._exports,t[e].getExports())},t.exportPenalty=1,t.isTable=!0,t.exportTo=function(t,n,e){for(var s=0;s<this.columns.length;s++){var r=this.columns[s].getExports();if(r.length){var i=r[0];t.assignmentForbidden(i)||e[i]||(n.isError?e[i]=n:this.columns[s].exportTo(t,n.columns[s],e))}}},t.getAllIds=function(){return this.columns.map(function(t){return t.header.userData.id})}})});\ndefine(\'core/math/parsenode/tablecolumn\',[\'require\',\'pjs\',\'./base\',\'./list\',\'./constant\',\'./identifier\'],function(require){"use strict";var e=require("pjs"),t=require("./base"),n=require("./list"),i=require("./constant"),s=require("./identifier");return e(t,function(e,o){function r(e){return e.isConstant?i(e.asCompilerValue()):i(NaN)}e.init=function(e,t,n){o.init.call(this),this.header=e,this.length=t,this.values=n,this.isIndependent=!1,this.registerDependencies(),this._exports=this.computeExports()},e.registerDependencies=function(){this.mergeDependencies(this.header),this.mergeDependencies.apply(this,this.values)},e.computeExports=function(){return this.header instanceof s?[this.header._symbol]:[]},e.isDiscrete=function(e){return!this.continuousConcreteTree||1!==this.continuousConcreteTree.getDependencies().length||1!==e.header.getDependencies().length||this.continuousConcreteTree.getDependencies()[0]!==e.header.getDependencies()[0]},e._exportSymbolsTo=function(e,i,s){if(e.length){var o=e[0];if(i.isError)s[o]=i;else try{s[o]=n(i.values.map(r))}catch(e){if(!(e instanceof t))throw e;s[o]=e}}},e.exportTo=function(e,t,n){var i=this.getLegalExports(e);this._exportSymbolsTo(i,t,n)},e.exportToLocal=function(e,t){this._exportSymbolsTo(this.getExports(),e,t)}})});\ndefine(\'core/math/parsenode/solvedequation\',[\'require\',\'pjs\',\'./base\'],function(require){"use strict";return require("pjs")(require("./base"),function(i,e){i.init=function(i,n,t){e.init.call(this),this._symbol=i,this._expression=n,this.mergeDependencies(n),this.branchMultiplier=t}})});\ndefine(\'core/math/parsenode/optimizedregression\',[\'require\',\'pjs\',\'./base\'],function(require){"use strict";return require("pjs")(require("./base"),function(i,e){i.init=function(i,t,s,r,a){for(var n in e.init.call(this),this.parameters=i,this.residuals=t,this.statistics=s,this.model=r,this.isModelValid=a.isModelValid,this.residualVariable=a.residualVariable,this.residualSuggestionId=a.residualSuggestionId,this.shouldSuggestLogMode=a.shouldSuggestLogMode,this.isLinear=a.isLinear,this.parameterWarning=a.parameterWarning,this._exports=[this.residualVariable],i)i.hasOwnProperty(n)&&this._exports.push(n);this.mergeDependencies(r)},i.getCompiledFunction=function(){return this.model.getCompiledFunction.apply(this.model,arguments)},i.getCompiledDerivative=function(){return this.model.getCompiledDerivative.apply(this.model,arguments)}})});\ndefine(\'core/math/parsenode/seed\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(i,n){i.init=function(i){"string"!=typeof i&&(i=""+i),this._stringValue=i,n.init.call(this,[])},i.isString=!0,i.asValue=function(){return this._stringValue}})});\ndefine(\'core/math/parsenode/extendseed\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(t,s){t.init=function(t,e){s.init.call(this,e),this.seed=e[0],this.userSeed=e[1],this.tag=t},t.asValue=function(){return this.seed.asValue()+"::"+this.tag+this.userSeed.asValue()},t.copyWithArgs=function(t){return new this.constructor(this.tag,t)}})});\ndefine(\'core/math/context-types\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isActionCompilerValue=void 0,e.isActionCompilerValue=function(e){return!("object"!=typeof e||!e)&&"Action"===e.type}});\ndefine(\'core/math/ir/features/as-value\',["require","exports","../opcodes","core/math/context-types","core/math/maybe-rational"],function(require,e,t,a,r){"use strict";function u(e){if(Array.isArray(e))return e.map(u);switch(typeof e){case"boolean":case"number":case"string":return e;case"object":if(a.isActionCompilerValue(e)){var t={};for(var o in e.updateRules){var n=e.updateRules[o];t[o]={value:u(n.value),valueType:n.valueType}}return{type:"Action",updateRules:t}}return r.asFloat(e);default:throw new Error("Unexpected value: "+e)}}Object.defineProperty(e,"__esModule",{value:!0}),e.compilerValueToRuntimeValue=e.asValue=void 0,e.asValue=function(e,a){var r=e.getInstruction(a);switch(r.type){case t.Constant:return u(r.value);default:throw new Error("Unexpected opcode "+r.type+".")}},e.compilerValueToRuntimeValue=u});\ndefine(\'core/math/ir/features/nan-of-type\',["require","exports","core/math/types"],function(require,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nanOfType=e.isNanableValueType=void 0,e.isNanableValueType=function(e){switch(e){case a.Bool:case a.Number:case a.Point:case a.Action:case a.RGBColor:case a.Polygon:return!0;default:return!1}},e.nanOfType=function(e){switch(e){case a.Number:return NaN;case a.Point:return[NaN,NaN];case a.RGBColor:return[NaN,NaN,NaN];case a.Action:return{type:"Action",updateRules:{}};case a.Bool:return!1;case a.Polygon:return[];default:throw new Error(e+" does not have a NaN type.")}}});\ndefine(\'core/math/parsenode/irexpression\',[\'require\',\'pjs\',\'./base\',\'core/math/types\',\'core/math/ir/features/as-value\',\'core/math/ir/features/nan-of-type\',\'core/math/errormsg\'],function(require){"use strict";var e=require("pjs"),t=require("./base"),n=require("core/math/types"),i=require("core/math/ir/features/as-value").compilerValueToRuntimeValue,s=require("core/math/ir/features/nan-of-type").nanOfType,u=require("core/math/errormsg");return e(t,function(e,t,r){e.init=function(e){if(t.init.call(this),this._chunk=e,this.valueType=e.getReturnType(),this.addDependencies(e.getLiveArgNames()),this.isList=n.isList(this.valueType),this.isList&&(this.length=this._chunk.getConstantListLength(),void 0===this.length))throw u.variableLengthTopLevelList(e.getListLengthDependencies());var i=e.isConstant();this.isConstant=i&&(this.valueType===n.Number||this.valueType===n.Bool),this.isEmptyAction=i&&this.valueType===n.Action&&0===Object.keys(e.asValue().updateRules).length},e.shouldExportAns=function(){return!0},e.getCompiledFunction=function(e){return this._chunk.getCompiledFunction(e)},e.polynomialOrder=function(e){return this._chunk.polynomialOrder(e,{allowRestriction:!0,allowClosedBlockReferences:!1})},e.getPolynomialCoefficients=function(e){for(var t=this._chunk.getPolynomialCoefficients(e),n=t.chunk,i=t.coefficients,s=[],u=0;u<i.length;u++){var o=n.copy();o.returnIndex=i[u],o.close(),s.push(new r(o))}return s},e.takeDerivative=function(e){var t=this._chunk.copy().takeDerivative(e).close();return new r(t)},e.boundDomain=function(e){return this._chunk.boundDomain(e)},e.asValue=function(){if(this._chunk.isConstant())return this._chunk.asValue();if(this.isList){for(var e=[],t=i(s(n.elementType(this.valueType))),u=0;u<this.length;u++)e.push(t);return e}return i(s(this.valueType))},e.asCompilerValue=function(){return this._chunk.asCompilerValue()},e.isNaN=function(){return"number"==typeof this.asValue()&&isNaN(this.asValue())},e.getEvaluationInfo=function(){return!(!this._chunk.isConstant()||0!==this.getDependencies().length||!n.isTypeOrListOfType(this.valueType,n.Number)&&!n.isTypeOrListOfType(this.valueType,n.Bool))&&[{val:this.asValue()}]},e.elementAt=function(e){var t=this._chunk.elementAt(e);return new r(t)},e.findLinearSubset=function(e){return this._chunk.findLinearSubset(e)},e.deriveRegressionRestrictions=function(){var e=this._chunk.deriveRegressionRestrictions();return e===this._chunk?this:new r(e)},e.eachElement=function(e){for(var t=0;t<this.length;t++)e(this.elementAt(t),t)},e.mapElements=function(e){for(var t=[],n=0;n<this.length;n++)t.push(e(this.elementAt(n),n));return t}})});\ndefine(\'parsenodes\',[\'require\',\'core/math/parsenode/expressionTypes\',\'core/math/parsenode/base\',\'core/math/parsenode/expression\',\'core/math/parsenode/error\',\'core/math/parsenode/constant\',\'core/math/parsenode/mixednumber\',\'core/math/parsenode/identifier\',\'core/math/parsenode/ans\',\'core/math/parsenode/list\',\'core/math/parsenode/range\',\'core/math/parsenode/listaccess\',\'core/math/parsenode/dotaccess\',\'core/math/parsenode/parenseq\',\'core/math/parsenode/movablepoint\',\'core/math/parsenode/orderedpairaccess\',\'core/math/parsenode/bareseq\',\'core/math/parsenode/basecomparator\',\'core/math/parsenode/comparator\',\'core/math/parsenode/doubleinequality\',\'core/math/parsenode/repeatedoperator\',\'core/math/parsenode/sum\',\'core/math/parsenode/product\',\'core/math/parsenode/integral\',\'core/math/parsenode/assignmentexpression\',\'core/math/parsenode/listcomprehension\',\'core/math/parsenode/functioncall\',\'core/math/parsenode/seededfunctioncall\',\'core/math/parsenode/functionexponent\',\'core/math/parsenode/functionfactorial\',\'core/math/parsenode/prime\',\'core/math/parsenode/piecewise\',\'core/math/parsenode/derivative\',\'core/math/parsenode/updaterule\',\'core/math/parsenode/histogram\',\'core/math/parsenode/object3d\',\'core/math/parsenode/dotplot\',\'core/math/parsenode/boxplot\',\'core/math/parsenode/ttest\',\'core/math/parsenode/independent-ttest\',\'core/math/parsenode/stats\',\'core/math/parsenode/assignment\',\'core/math/parsenode/functiondefinition\',\'core/math/parsenode/equation\',\'core/math/parsenode/regression\',\'core/math/parsenode/image\',\'core/math/parsenode/ticker\',\'core/math/parsenode/slider\',\'core/math/parsenode/table\',\'core/math/parsenode/tablecolumn\',\'core/math/parsenode/solvedequation\',\'core/math/parsenode/optimizedregression\',\'core/math/parsenode/seed\',\'core/math/parsenode/extendseed\',\'core/math/parsenode/irexpression\'],function(require){"use strict";var e=require("core/math/parsenode/expressionTypes"),o={Base:require("core/math/parsenode/base"),Expression:require("core/math/parsenode/expression"),Error:require("core/math/parsenode/error"),Constant:require("core/math/parsenode/constant"),MixedNumber:require("core/math/parsenode/mixednumber"),Identifier:require("core/math/parsenode/identifier"),Ans:require("core/math/parsenode/ans"),List:require("core/math/parsenode/list"),Range:require("core/math/parsenode/range"),ListAccess:require("core/math/parsenode/listaccess"),DotAccess:require("core/math/parsenode/dotaccess"),ParenSeq:require("core/math/parsenode/parenseq"),MovablePoint:require("core/math/parsenode/movablepoint"),OrderedPairAccess:require("core/math/parsenode/orderedpairaccess"),BareSeq:require("core/math/parsenode/bareseq"),BaseComparator:require("core/math/parsenode/basecomparator"),Comparator:require("core/math/parsenode/comparator"),DoubleInequality:require("core/math/parsenode/doubleinequality"),RepeatedOperator:require("core/math/parsenode/repeatedoperator"),Sum:require("core/math/parsenode/sum"),Product:require("core/math/parsenode/product"),Integral:require("core/math/parsenode/integral"),AssignmentExpression:require("core/math/parsenode/assignmentexpression"),ListComprehension:require("core/math/parsenode/listcomprehension"),FunctionCall:require("core/math/parsenode/functioncall"),SeededFunctionCall:require("core/math/parsenode/seededfunctioncall"),FunctionExponent:require("core/math/parsenode/functionexponent"),FunctionFactorial:require("core/math/parsenode/functionfactorial"),Prime:require("core/math/parsenode/prime"),Piecewise:require("core/math/parsenode/piecewise"),Derivative:require("core/math/parsenode/derivative"),UpdateRule:require("core/math/parsenode/updaterule"),Histogram:require("core/math/parsenode/histogram"),Object3D:require("core/math/parsenode/object3d"),DotPlot:require("core/math/parsenode/dotplot"),BoxPlot:require("core/math/parsenode/boxplot"),TTest:require("core/math/parsenode/ttest"),IndependentTTest:require("core/math/parsenode/independent-ttest"),Stats:require("core/math/parsenode/stats"),Assignment:require("core/math/parsenode/assignment"),FunctionDefinition:require("core/math/parsenode/functiondefinition"),Equation:require("core/math/parsenode/equation"),Regression:require("core/math/parsenode/regression"),Image:require("core/math/parsenode/image"),Ticker:require("core/math/parsenode/ticker"),Slider:require("core/math/parsenode/slider"),Table:require("core/math/parsenode/table"),TableColumn:require("core/math/parsenode/tablecolumn"),SolvedEquation:require("core/math/parsenode/solvedequation"),OptimizedRegression:require("core/math/parsenode/optimizedregression"),Seed:require("core/math/parsenode/seed"),ExtendSeed:require("core/math/parsenode/extendseed"),IRExpression:require("core/math/parsenode/irexpression")};for(var r in e)o[r]=e[r];for(var a in o)o.hasOwnProperty(a)&&"Comparator"!==a&&(o[a].prototype.type=a);for(var t in o.Comparator)o.Comparator.hasOwnProperty(t)&&(o.Comparator[t].prototype.type="Comparator[\'"+t+"\']");return o});\ndefine(\'core/math/builtinconstants\',[\'require\',\'core/math/parsenode/constant\',\'core/math/maybe-rational\'],function(require){"use strict";var t=require("core/math/parsenode/constant"),a=require("core/math/maybe-rational").maybeRational;return{pi:t(Math.PI),tau:t(2*Math.PI),e:t(Math.E),trigAngleMultiplier:t(a(1,1)),infty:t(1/0)}});\ndefine(\'core/math/builtinframe\',[\'require\',\'core/math/builtinconstants\',\'core/math/ir/builtin-table\'],function(require){"use strict";var n,i=require("core/math/builtinconstants"),t=require("core/math/ir/builtin-table"),r={};for(n in i)i.hasOwnProperty(n)&&(r[n]=i[n]);for(n in t.BuiltInTable)t.BuiltInTable.hasOwnProperty(n)&&(r[n]={isFunction:!0});for(n in t.CompilerFunctionTable)t.CompilerFunctionTable.hasOwnProperty(n)&&(r[n]={isFunction:!0});return r});\ndefine(\'core/math/finddependencyorder\',["require","exports","core/math/builtinframe","underscore"],function(require,e,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findDependencyOrder=void 0,e.findDependencyOrder=function(e,i,t){var l=[],o={},a={},p={},f={},s={},h={},u={},d=0,v=[],c=[];if(!t)for(var y in t=[],i)i.hasOwnProperty(y)&&t.push(y);for(var y in i)if(i.hasOwnProperty(y)){for(var g=i[y].exportPenalty||0;l.length<g+1;)l.push([]);l[g].push(y)}for(var w=0,k=l;w<k.length;w++){for(var x={},D=0,O=k[w];D<O.length;D++){y=O[D];for(var P=i[y],b=(g=i[y].exportPenalty||0,P.isTable),m=0,M=P.getLegalExports(e);m<M.length;m++){var q=M[m];r[q]||(o[q]||(b&&(s[q]=!0),0===g&&(f[q]=!0),x[q]=x[q]||[],x[q].push(y),x[q].length>1&&(!a[q]&&b&&(p[q]=!0),a[q]=!0)))}}for(var q in x)p[q]||(o[q]=x[q])}for(var E=0,L=t;E<L.length;E++){q=L[E];u.hasOwnProperty(q)||T(q)}function T(r){u[r]=u[r]||{};var t,l=u[r];l.id=r,l.index=d,l.lowlink=d,v.push(l),l.instack=!0,d++;for(var a=0,p=i[r].getDependencies();a<p.length;a++){var f=p[a];if(o.hasOwnProperty(f))for(var s=0,y=o[f];s<y.length;s++){var g=y[s];u.hasOwnProperty(g)?(t=u[g]).instack&&(l.lowlink=Math.min(l.lowlink,t.index)):(T(g),t=u[g],l.lowlink=Math.min(l.lowlink,t.lowlink))}}if(l.lowlink===l.index)if((t=v.pop()).instack=!1,t===l)!function(e){c.push(e.id)}(l);else{for(var w=[t];(t=v.pop()).instack=!1,w.push(t),t!==l;);!function(r){for(var t=[],l=r.length-1;l>=0;l--){var o=r[l],a=i[o.id].getLegalExports(e);Array.prototype.push.apply(t,a),t.push(a[0]),c.push(o.id)}(t=n.unique(t)).sort();for(var p=0,f=t;p<f.length;p++){var s=f[p];h[s]=t}}(w)}}return{resolved:c,globallyDefined:f,tableDefined:s,multiplyDefined:a,multiplyDefinedByTables:p,cyclicallyDefined:h}}});\ndefine(\'core/math/workerconfig\',[],function(){"use strict";return{pointsOfInterest:!0,plotSingleVariableImplicitEquations:!0,plotImplicits:!0,plotInequalities:!0,sliders:!0}});\ndefine(\'core/types/graphmode\',["require","exports"],function(require,O){"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.POLYGON=O.ERROR=O.PARAMETRIC_CURVE_3D=O.Z_3D=O.OBJECT3D=O.VISUALIZATION=O.NONE=O.IMPLICIT=O.POLYGONFILL=O.POLAR=O.PARAMETRIC=O.XYPOINT_MOVABLE=O.XYPOINT=O.Y=O.X=void 0,O.X=1,O.Y=2,O.XYPOINT=3,O.XYPOINT_MOVABLE=4,O.PARAMETRIC=5,O.POLAR=6,O.POLYGONFILL=7,O.IMPLICIT=8,O.NONE=10,O.VISUALIZATION=11,O.OBJECT3D=12,O.Z_3D=13,O.PARAMETRIC_CURVE_3D=14,O.ERROR=15,O.POLYGON=16});\n!function(){var t,e,n,r,o,a,i,c,u,f,l,s,p,y,d,b,_,h,v,w,m,O,j,g,P={};!function(t){var e="object"==typeof P?P:"object"==typeof self?self:"object"==typeof this?this:{};function n(t,n){return t!==e&&("function"==typeof Object.create?Object.defineProperty(t,"__esModule",{value:!0}):t.__esModule=!0),function(e,r){return t[e]=n?n(e,r):r}}"function"==typeof define&&define.amd?define("tslib",["exports"],function(r){t(n(e,n(r)))}):"object"==typeof module&&"object"==typeof module.exports?t(n(e,n(module.exports))):t(n(e))}(function(P){var S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])};t=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}S(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},n=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},r=function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=function(t,e){return function(n,r){e(n,r,t)}},a=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=function(t,e,n,r){return new(n||(n=Promise))(function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,c)}u((r=r.apply(t,e||[])).next())})},c=function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},u=function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||g(e,t,n)},g=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]},f=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},s=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t},p=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)r[o]=a[i];return r},y=function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t},d=function(t){return this instanceof d?(this.v=t,this):new d(t)},b=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),a=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(t){o[t]&&(r[t]=function(e){return new Promise(function(n,r){a.push([t,e,n,r])>1||c(t,e)})})}function c(t,e){try{(n=o[t](e)).value instanceof d?Promise.resolve(n.value.v).then(u,f):l(a[0][2],n)}catch(t){l(a[0][3],t)}var n}function u(t){c("next",t)}function f(t){c("throw",t)}function l(t,e){t(e),a.shift(),a.length&&c(a[0][0],a[0][1])}},_=function(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){e[r]=t[r]?function(e){return(n=!n)?{value:d(t[r](e)),done:"return"===r}:o?o(e):e}:o}},h=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,o){(function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)})(r,o,(e=t[n](e)).done,e.value)})}}},v=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t};var x=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};w=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&g(e,t,n);return x(e,t),e},m=function(t){return t&&t.__esModule?t:{default:t}},O=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},j=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},P("__extends",t),P("__assign",e),P("__rest",n),P("__decorate",r),P("__param",o),P("__metadata",a),P("__awaiter",i),P("__generator",c),P("__exportStar",u),P("__createBinding",g),P("__values",f),P("__read",l),P("__spread",s),P("__spreadArrays",p),P("__spreadArray",y),P("__await",d),P("__asyncGenerator",b),P("__asyncDelegator",_),P("__asyncValues",h),P("__makeTemplateObject",v),P("__importStar",w),P("__importDefault",m),P("__classPrivateFieldGet",O),P("__classPrivateFieldSet",j)})}();\ndefine(\'core/math/poi\',["require","exports","core/math/distance"],function(require,i,t){"use strict";function r(i,r){var n;i>r&&(n=i,i=r,r=n);var e=i>0,a=r>0,s=Math.abs(i)>.01,f=Math.abs(r)>.01;if(s||f)return t.mean(i,r);if(0===i)return r*Math.abs(r);if(0===r)return i*Math.abs(i);if(e!==a)return 0;var u=e?Math.sqrt(i*r):-Math.sqrt(i*r);return u>=i&&r>=u?u:t.mean(i,r)}function n(i,t,n,s,f,u,o){var c,F,v,b;if(isFinite(s))return isFinite(t)||(c=e(i,t,n,s,o))&&(i=c[0],t=c[1]),isFinite(u)||(c=e(n,s,f,u,o))&&(f=c[0],u=c[1]),F=t===s?[i,t]:a(i,t,n,s,o,s),v=u===s?[f,u]:a(n,s,f,u,o,s),F&&v&&(b=r(F[0],v[0])),void 0!==b?[b,o(b)]:void 0}function e(i,t,n,e,a){if(isFinite(t)!==isFinite(e))for(;;){var s=r(i,n),f=a(s);if(s===i||s===n)return isFinite(t)?[i,t]:[n,e];isFinite(f)!==isFinite(t)?(n=s,e=f):(i=s,t=f)}}function a(i,t,n,e,a,s){if(t===s!=(e===s))for(;;){var f=r(i,n),u=a(f);if(f===i||f===n)return t===s?[i,t]:[n,e];u===s!=(t===s)?(n=f,e=u):(i=f,t=u)}}function s(i,t){var r=i[0],n=i[1],e=t[0],a=t[1];return(e-r)*(e-r)+(a-n)*(a-n)}function f(i,t,n,e,a,f){var u,o,c,F,v,b,M,h,m,d=f(i),l=f(t),P=f(n),p=s(d,e),C=s(l,e),O=s(P,e);if(!(t<=i||n<=t)&&isFinite(p)&&isFinite(C)&&isFinite(O)&&!(C>=p||C>=O))for(;;){if(Math.abs(P[0]-d[0])<a&&Math.abs(P[1]-d[1])<a)return[i,n];var x=r(i,t),N=f(x),q=s(N,e),E=r(t,n),J=f(E),L=s(J,e);if(!isFinite(q)||!isFinite(L))return;if(x===i||x===t||E===t||E===n)return q<C&&q<L?[x,x]:L<q&&L<C?[E,E]:[t,t];if(!(q!==C&&L!==C||q!==(C=s(l=f(t=.5*(x+t)),e))&&L!==C))return[i,n];q<C&&q<L?(n=(u=[t,x])[0],t=u[1],P=(o=[l,N])[0],l=o[1],O=(c=[C,q])[0],C=c[1]):L<q&&L<C?(i=(F=[t,E])[0],t=F[1],d=(v=[l,J])[0],l=v[1],p=(b=[C,L])[0],C=b[1]):(i=(M=[x,E])[0],n=M[1],d=(h=[N,J])[0],P=h[1],p=(m=[q,L])[0],O=m[1])}}function u(i,t,r){return void 0===t&&(t=-1/0),void 0===r&&(r=1/0),Math.min(r,Math.max(t,i))}function o(i,t,r,n,e,a){var o,c,F,v,b;void 0!==n&&void 0!==e?b=r+.01*(r<.5*(n+e)?e-n:n-e):b=Math.abs(r)>1?1.00001*r:r+1e-5;var M=i(r),h=i(b),m=s(M,t),d=s(h,t);if(isFinite(m)&&isFinite(d)){if(m===d)return[r,b];for(d>m&&(r=(o=[b,r])[0],b=o[1],M=(c=[h,M])[0],h=c[1],m=(F=[d,m])[0],d=F[1]);isFinite(r)&&isFinite(b)&&r!==b;){if(void 0!==e&&b>e)return[e,e];if(void 0!==n&&b<n)return[n,n];var l=r+3*(b-r),P=s(i(l),t);if(!isFinite(P))return[r,b];if(P===d)return[r,b];if(P>d){var p=b>r?f(r,b,l,t,a,i):f(l,b,r,t,a,i);return p?[u(p[0],n,e),u(p[1],n,e)]:p}r=(v=[b,d,l,P])[0],m=v[1],b=v[2],d=v[3]}return[r,b]}}function c(i,t,r,n){return!r||!!n&&Math.min(s(i(n[0]),t),s(i(n[1]),t))<Math.min(s(i(r[0]),t),s(i(r[1]),t))}function F(i,t,r,n,e,a,s,f){var u=Math.abs(n-t),o=Math.abs(a-n),c=Math.abs(f-a);return u>o&&u>c?[[i,t],[r,n]]:c>o&&c>u?[[e,a],[s,f]]:[[r,n],[e,a]]}Object.defineProperty(i,"__esModule",{value:!0}),i.bisectJump=i.findLocalClosestPointOnParametric=i.clamp=i.bisectClosestPointOnParametric=i.bisectExtremum=i.bisectFinite=i.flatCenter=i.bisectZero=i.floatMiddle=void 0,i.floatMiddle=r,i.bisectZero=function(i,t,e,a,s){if(!isNaN(t)&&!isNaN(a)&&t<0!=a<0)for(;;){var f=r(i,e),u=s(f);if(!isFinite(u))return;if(f===i||f===e)return Math.abs(t)<=Math.abs(a)?[i,t]:[e,a];if(0===u)return n(i,t,f,u,e,a,s);t<0!=u<0?(e=f,a=u):(i=f,t=u)}},i.flatCenter=n,i.bisectFinite=e,i.bisectExtremum=function(i,t,e,a,s,f,u){if(i<e&&e<s&&isFinite(t)&&isFinite(a)&&isFinite(f)&&t!==a&&a!==f&&a>t==a>f)for(;;){var o=r(i,e),c=u(o),F=r(e,s),v=u(F);if(!isFinite(c)||!isFinite(v))return;if(o===i||o===e||F===e||F===s)return c>a==a>t?[o,c]:v>a==a>t?[F,v]:[e,a];if(c===a||v===a)return n(i,t,e,a,s,f,u);c>t==a>t&&c>t==c>a?(s=e,f=a,e=o,a=c):v>f==a>f&&v>a==v>f?(i=e,t=a,e=F,a=v):(i=o,t=c,s=F,f=v)}},i.bisectClosestPointOnParametric=f,i.clamp=u,i.findLocalClosestPointOnParametric=function(i,t,r,n,e,a){var s=o(i,t,r,n,e,a);if(void 0!==n){var f=o(i,t,n,n,e,a);c(i,t,s,f)&&(s=f)}if(void 0!==e){var u=o(i,t,e,n,e,a);c(i,t,s,u)&&(s=u)}return s},i.bisectJump=function(i,n,a,s,f,u,o,c){if(c||(c=0),!((a-i)*(f-a)<=0)&&isFinite(i)&&isFinite(a)&&isFinite(f)&&isFinite(n)&&isFinite(u)){if(!isFinite(s)){var v=e(i,n,a,s,o),b=e(a,s,f,u,o);if(!v||!b)return;return[v,b]}if(!(Math.abs(s-((f-a)*n+(a-i)*u)/(f-i))<c))for(;;){var M=r(i,a),h=o(M),m=r(a,f),d=o(m),l=Math.abs(h-t.mean(n,s)),P=Math.abs(s-t.mean(h,d)),p=Math.abs(d-t.mean(s,u));if(l<=c&&P<=c&&p<=c)return;if(!isFinite(h)){v=e(i,n,M,h,o),b=e(M,h,f,u,o);if(!v||!b)return;return[v,b]}if(!isFinite(d)){v=e(i,n,m,d,o),b=e(m,d,f,u,o);if(!v||!b)return;return[v,b]}if(!(M!==i&&M!==a||m!==a&&m!==f))return Math.abs(s-n)>Math.abs(u-s)?[[i,n],[a,s]]:[[a,s],[f,u]];if(M===i||M===a)return F(i,n,a,s,m,d,f,u);if(m===a||m===f)return F(i,n,M,h,a,s,f,u);l>p&&l>=P?(f=a,u=s,a=M,s=h):p>l&&p>=P?(i=a,n=s,a=m,s=d):(i=M,n=h,f=m,u=d)}}}});\ndefine(\'core/math/curve-accumulator\',["require","exports","core/math/distance"],function(require,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Accumulator=void 0;var i=function(){function t(t){t?(this.xtolerance=t.xtolerance||t.tolerance||0,this.ytolerance=t.ytolerance||t.tolerance||0,this.ztolerance=t.ztolerance||t.tolerance||0,this.map=t.map):this.xtolerance=this.ytolerance=this.ztolerance=0,this.segments=[],this.segment=[],this.pivotPoint=void 0,this.pendingPoint=void 0}return t.prototype.colinear=function(t,i,n){this.map&&(t=this.map(t),i=this.map(i),n=this.map(n));var s=e.pointToSegmentParameter(n[0],n[1],n[2]||0,t[0],t[1],t[2]||0,i[0],i[1],i[2]||0);if(s<1)return!1;var h=[t[0]+s*(i[0]-t[0]),t[1]+s*(i[1]-t[1]),3===t.length?t[2]+s*(i[2]-t[2]):0];return Math.abs(n[0]-h[0])<=this.xtolerance&&Math.abs(n[1]-h[1])<=this.ytolerance&&(2===t.length||Math.abs(n[2]-h[2])<=this.ztolerance)},t.prototype.addPoint=function(t){if(this.dimensions=t.length,this.xtolerance<0&&this.ytolerance<0&&(2===this.dimensions||this.ztolerance<0))this.segment.push.apply(this.segment,t);else if(this.segment.length){var i=2===this.dimensions?[this.segment[this.segment.length-2],this.segment[this.segment.length-1]]:[this.segment[this.segment.length-3],this.segment[this.segment.length-2],this.segment[this.segment.length-1]];if(t[0]!==i[0]||t[1]!==i[1]||t[2]!==i[2]){if(!this.pivotPoint||!this.pendingPoint)return this.pivotPoint=t,void(this.pendingPoint=t);(!this.colinear(i,this.pivotPoint,t)||e.hypot(i[0]-t[0],i[1]-t[1],(i[2]||0)-(t[2]||0))<e.hypot(i[0]-this.pendingPoint[0],i[1]-this.pendingPoint[1],(i[2]||0)-(this.pendingPoint[2]||0)))&&(this.flushPending(),this.pivotPoint=t),this.pendingPoint=t}}else this.segment.push.apply(this.segment,t)},t.prototype.flushPending=function(){this.pendingPoint&&(this.segment.push.apply(this.segment,this.pendingPoint),this.pivotPoint=void 0,this.pendingPoint=void 0)},t.prototype.breakSegment=function(){this.flushPending(),this.segment.length>(this.dimensions||2)&&this.segments.push(this.segment),this.segment=[]},t.prototype.getSegments=function(){return this.breakSegment(),this.segments},t.prototype.finish=function(){return{segments:this.getSegments(),resolved:!0}},t}();t.Accumulator=i});\ndefine(\'core/math/implicit-plotter\',["require","exports","core/math/distance","./curve-accumulator"],function(require,e,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.displayTriangles=e.traceContours=e.triangulate=e.buildQuadTree=e.sampleImplicitDiagnostic=e.sampleImplicit=void 0;var n=Math.pow(2,14);function t(e,r){var i=Math.pow(2,-5),n=u(r,i),t=u(r,2*i),c=v(e,n,t),a=k(c.root,e,n);return{paddedDomain:n,rootDomain:t,quadTree:c,triangles:a,contours:I(a,e,n)}}function c(e,r,i){return{x:e,y:r,z:i}}function a(e,r,i){return{x:e,y:r,isZero:i}}function s(e,r,i){return{vertices:[e,r,i],visited:!1,next:void 0}}function u(e,r){var i=(1+r)*e.xmin-r*e.xmax,n=(1+r)*e.xmax-r*e.xmin;return{xmin:i,ymin:(1+r)*e.ymin-r*e.ymax,xmax:n,ymax:(1+r)*e.ymax-r*e.ymin,xtolerance:e.xtolerance,ytolerance:e.ytolerance}}function o(e,r){return{depth:e,vertices:r,children:void 0,center:void 0}}function l(e,r,i){e.center=p(e.vertices[0],e.vertices[1],e.vertices[2],e.vertices[3],r,i)}function v(e,r,i){var t=function(e,r){var i=r.xmin,n=r.xmax,t=r.ymin,c=r.ymax;return o(0,[m(i,c,e),m(n,c,e),m(n,t,e),m(i,t,e)])}(e,i),c=[],a=[];a.push(t);var s=1,u=!0;e:for(;a.length;){var v=c;c=a,a=v;for(var h=void 0;h=c.pop();)if(d(h,e,r)){if(f(h,e),!h.children){u=!1;break e}if(a.push(h.children[0]),a.push(h.children[1]),a.push(h.children[2]),a.push(h.children[3]),(s+=3)>=n){u=!1;break e}}else l(h,e,r)}for(var x=0;x<c.length;x++)l(c[x],e,r);for(x=0;x<a.length;x++)l(a[x],e,r);return{root:t,resolved:u}}function f(e,r){var i=e.depth+1,n=e.vertices[0],t=e.vertices[1],c=e.vertices[2],a=e.vertices[3],s=y(n,t,r),u=y(t,c,r),l=y(c,a,r),v=y(a,n,r),f=y(n,c,r);e.children=[o(i,[n,s,f,v]),o(i,[s,t,u,f]),o(i,[f,u,c,l]),o(i,[v,f,l,a])]}function d(e,r,i){if(e.depth<5)return!0;if(function(e,r){return e.vertices[0].x<r.xmin||e.vertices[0].y>r.ymax||e.vertices[2].x>r.xmax||e.vertices[2].y<r.ymin}(e,i))return!1;if(function(e,r){if(e.vertices[1].x-e.vertices[0].x<10*r.xtolerance)return!0;if(e.vertices[0].y-e.vertices[3].y<10*r.ytolerance)return!0;return!1}(e,i))return!1;var n=e.vertices[0],t=e.vertices[1],c=e.vertices[2],a=e.vertices[3];if(isNaN(n.z)&&isNaN(t.z)&&isNaN(c.z)&&isNaN(a.z))return!1;if(isNaN(n.z)||isNaN(t.z)||isNaN(c.z)||isNaN(a.z))return!0;var s=p(n,t,c,a,r,i),u=N(n,t,r,i),o=N(t,c,r,i),l=N(c,a,r,i),v=N(a,n,r,i);return x(n,u,r)||x(t,u,r)||x(t,o,r)||x(c,o,r)||x(c,l,r)||x(a,l,r)||x(a,v,r)||x(n,v,r)||h(n,u,s,r,i)||h(u,t,s,r,i)||h(t,o,s,r,i)||h(o,c,s,r,i)||h(c,l,s,r,i)||h(l,a,s,r,i)||h(a,v,s,r,i)||h(v,n,s,r,i)}function h(e,i,n,t,c){if(e.z>0==i.z>0&&i.z>0==n.z>0)return!1;var a,s,u,o;if(e.z>0==i.z>0){if((a=y(e,i,t)).z>0!=e.z>0)return!0;s=b(e,n,t,c),u=b(i,n,t,c),o=b(a,n,t,c)}else if(i.z>0==n.z>0){if((a=y(i,n,t)).z>0!=i.z>0)return!0;s=b(i,e,t,c),u=b(n,e,t,c),o=b(a,e,t,c)}else{if((a=y(n,e,t)).z>0!=n.z>0)return!0;s=b(n,i,t,c),u=b(e,i,t,c),o=b(a,i,t,c)}var l=c.xtolerance,v=c.ytolerance;return r.pointToSegment(v*o.x,l*o.y,v*s.x,l*s.y,v*u.x,l*u.y)>l*v}function x(e,r,i){if(isNaN(e.z)&&isNaN(r.z))return!1;if(isNaN(e.z)||isNaN(r.z))return e.z>0||r.z>0;var n=4*y(e,r,i).z-r.z-3*e.z,t=1e-4,c=(i(.9999*e.x+t*r.x,.9999*e.y+t*r.y)-e.z)/t,a=Math.max(Math.abs(e.z),Math.abs(r.z));return Math.abs(n-c)>.125*a}function z(e,r){return e.x<r.xmin||e.x>r.xmax||e.y<r.ymin||e.y>r.ymax}function m(e,r,i){return c(e,r,i(e,r))}function y(e,r,i){return m(.5*(e.x+r.x),.5*(e.y+r.y),i)}function N(e,r,i,n){if(z(e,n)||z(r,n))return y(e,r,i);if(isNaN(e.z)||isNaN(r.z))return function(e,r,i,n){if(isNaN(e.z)===isNaN(r.z))return y(e,r,i);if(isNaN(e.z)){var t=e;e=r,r=t}var a=e.x,s=r.x,u=e.y,o=r.y,l=e.z,v=n.xtolerance,f=n.ytolerance;for(;Math.abs(a-s)>v||Math.abs(u-o)>f;){var d=.5*(a+s),h=.5*(u+o),x=i(d,h);isNaN(x)===isNaN(l)?(a=d,u=h,l=x):(s=d,o=h)}return c(a,u,l)}(e,r,i,n);if(e.z>0!=r.z>0)return y(e,r,i);var t=.01,a=i(.99*e.x+t*r.x,.99*e.y+t*r.y)-e.z,s=r.z-i(t*e.x+.99*r.x,t*e.y+.99*r.y);return isNaN(a)||isNaN(s)||a>0==s>0?y(e,r,i):g(c(e.x,e.y,a),c(r.x,r.y,s),i)}function p(e,r,i,n,t,c){var a=N(e,i,t,c);return e.z>0==i.z>0&&a.z>0!=e.z>0?a:(a=N(r,n,t,c),r.z>0==n.z>0&&a.z>0!=r.z>0?a:y(e,i,t))}function g(e,r,i){if(isNaN(e.z))return r;if(isNaN(r.z))return e;if(isFinite(e.z)||isFinite(r.z)){if(isFinite(e.z)){if(isFinite(r.z)){var n=1-e.z/r.z,t=1-r.z/e.z;return m(e.x/n+r.x/t,e.y/n+r.y/t,i)}return e}return r}return y(e,r,i)}function b(e,r,i,n){var t=e.x,s=r.x,u=e.y,o=r.y,l=e.z,v=r.z,f=n.xtolerance,d=n.ytolerance;if(z(e,n)||z(r,n)){var h=y(e,r,i);return a(h.x,h.y,!1)}for(;Math.abs(t-s)>f||Math.abs(u-o)>d;){var x=.5*(t+s),m=.5*(u+o),N=i(x,m);N>0==l>0?(t=x,u=m,l=N):(s=x,o=m,v=N)}if(isNaN(l))return a(s,o,!1);if(isNaN(v))return a(t,u,!1);var p=g(c(t,u,l),c(s,o,v),i),b=0===l||0===v||0===p.z||p.z>=l==v>=p.z&&Math.abs(p.z)<1e250;return a(p.x,p.y,b)}function k(e,r,i){var n={triangles:[],edgeCache:{},domain:i,fn:r};return M(e,n),n.triangles}function M(e,r){e.children&&(M(e.children[0],r),M(e.children[1],r),M(e.children[2],r),M(e.children[3],r),A(e.children[0],e.children[1],r),A(e.children[3],e.children[2],r),S(e.children[1],e.children[2],r),S(e.children[0],e.children[3],r))}function A(e,r,i){e.children&&r.children?(A(e.children[1],r.children[0],i),A(e.children[2],r.children[3],i)):e.children?(A(e.children[1],r,i),A(e.children[2],r,i)):r.children?(A(e,r.children[0],i),A(e,r.children[3],i)):function(e,r,i){if(!e.center||!r.center)return;var n,t;e.depth>=r.depth?(n=N(e.vertices[1],e.vertices[2],i.fn,i.domain),t=T(e.vertices[1],r.center,e.vertices[2],e.center,n)):(n=N(r.vertices[0],r.vertices[3],i.fn,i.domain),t=T(r.vertices[0],r.center,r.vertices[3],e.center,n));D(t,i.edgeCache,i.domain);for(var c=0;c<4;c++)i.triangles.push(t[c])}(e,r,i)}function S(e,r,i){e.children&&r.children?(S(e.children[2],r.children[1],i),S(e.children[3],r.children[0],i)):e.children?(S(e.children[2],r,i),S(e.children[3],r,i)):r.children?(S(e,r.children[1],i),S(e,r.children[0],i)):function(e,r,i){if(!e.center||!r.center)return;var n,t;e.depth>=r.depth?(n=N(e.vertices[3],e.vertices[2],i.fn,i.domain),t=T(e.vertices[2],r.center,e.vertices[3],e.center,n)):(n=N(r.vertices[1],r.vertices[0],i.fn,i.domain),t=T(r.vertices[1],r.center,r.vertices[0],e.center,n));D(t,i.edgeCache,i.domain);for(var c=0;c<4;c++)i.triangles.push(t[c])}(e,r,i)}function T(e,r,i,n,t){return[s(e,t,r),s(r,t,i),s(i,t,n),s(n,t,e)]}function C(e,r,i){return e.z>0&&!z(e,i)&&(!(r.z>0)||z(r,i))}function w(e,r){return e.x+","+e.y+","+r.x+","+r.y}function D(e,r,i){F(e[0],e[1],e[2],w(e[1].vertices[2],e[1].vertices[0]),r,i),F(e[1],e[2],e[3],w(e[2].vertices[0],e[2].vertices[2]),r,i),F(e[2],e[3],e[0],w(e[3].vertices[2],e[3].vertices[0]),r,i),F(e[3],e[0],e[1],w(e[0].vertices[0],e[0].vertices[2]),r,i)}function F(e,r,i,n,t,c){var a=r.vertices[0],s=r.vertices[1],u=r.vertices[2];C(s,u,c)&&(r.next=i),C(a,s,c)&&(r.next=e),C(u,a,c)&&function(e,r,i){i[r]?e.next=i[r]:i[r]=e}(r,n,t),C(a,u,c)&&function(e,r,i){i[r]?i[r].next=e:i[r]=e}(r,n,t)}function I(e,r,n){for(var t={fillAccumulator:new i.Accumulator(n),strokeAccumulator:new i.Accumulator(n),fn:r,domain:n},c=0;c<e.length;c++){var a=e[c];a.next&&!a.visited&&q(a,t)}return{strokeSegments:t.strokeAccumulator.finish().segments,fillSegments:t.fillAccumulator.finish().segments}}function q(e,r){for(;;){var i=e.vertices[0],n=e.vertices[1],t=e.vertices[2];if(P(i,n,r),P(n,t,r),P(t,i,r),e.visited)break;if(!e.next)break;e.visited=!0,e=e.next}r.strokeAccumulator.breakSegment(),r.fillAccumulator.breakSegment()}function P(e,r,i){if(C(e,r,i.domain)){var n=b(e,r,i.fn,i.domain);i.fillAccumulator.addPoint([n.x,n.y]),n.isZero?i.strokeAccumulator.addPoint([n.x,n.y]):i.strokeAccumulator.breakSegment()}}e.sampleImplicit=function(e,r){var i=t(e,r);return{segments:i.contours.strokeSegments,fillSegments:i.contours.fillSegments,resolved:i.quadTree.resolved}},e.sampleImplicitDiagnostic=t,e.buildQuadTree=v,e.triangulate=k,e.traceContours=I,e.displayTriangles=function(e){for(var r=[],i=0;i<e.length;i++){var n=e[i];r.push([n.vertices[0].x,n.vertices[0].y,n.vertices[1].x,n.vertices[1].y,n.vertices[2].x,n.vertices[2].y,n.vertices[0].x,n.vertices[0].y])}return r}});\ndefine(\'core/math/poi-finding-accumulator\',["require","exports","core/math/workerconfig","tslib","./curve-accumulator","./poi"],function(require,e,t,i,r,s){"use strict";function u(e){return Math.abs(e)<5e-8}Object.defineProperty(e,"__esModule",{value:!0});var f=function(e){function r(t,i,r){var s=e.call(this,t)||this;return s.domain=t,s.fn=i,s.derivative=r,s.poiData={zeros:{x:[],y:[]},intercept:{x:[],y:[]},extrema:{x:[],y:[]}},s.zeroBuffer=[],s.extremumBuffer=[],s}return i.__extends(r,e),r.prototype.getPOI=function(){return t.pointsOfInterest?(void 0!==this.fn&&(this.poiData.intercept=this.findIntercept(this.fn)),this.poiData):{zeros:{x:[],y:[]},intercept:{x:[],y:[]},extrema:{x:[],y:[]}}},r.prototype.addLinearZero=function(e){var t=-e[0]/e[1];this.isOutsideDomain(t)||(this.poiData.zeros={x:[t],y:[0]})},r.prototype.addLinearIntercept=function(e){this.isOutsideDomain(0)||(this.poiData.intercept={x:[0],y:[e[0]]})},r.prototype.isOutsideDomain=function(e){return!this.domain||void 0===this.domain.min||void 0===this.domain.max||(e<this.domain.min||e>this.domain.max||isNaN(e))},r.prototype.addPoint=function(t){0===this.segment.length&&u(t[1])&&(this.poiData.zeros.x.push(t[0]),this.poiData.zeros.y.push(t[1])),this.updateZeroBuffer(t),this.updateExtremumBuffer(t),e.prototype.addPoint.call(this,t)},r.prototype.updateZeroBuffer=function(e){if(this.fn)if(isFinite(e[0])&&isFinite(e[1]))switch(this.zeroBuffer.length){case 0:if(u(e[1]))return;return void this.zeroBuffer.push(e);case 1:return 0===e[1]?void this.zeroBuffer.push(e):e[1]>0!=this.zeroBuffer[0][1]>0?((t=s.bisectZero(this.zeroBuffer[0][0],this.zeroBuffer[0][1],e[0],e[1],this.fn))&&(this.poiData.zeros.x.push(t[0]),this.poiData.zeros.y.push(t[1])),this.zeroBuffer.length=0,void this.zeroBuffer.push(e)):(this.zeroBuffer.length=0,void this.zeroBuffer.push(e));case 2:if(0===e[1])return;var t;return e[1]>0!=this.zeroBuffer[0][1]>0?((t=s.flatCenter(this.zeroBuffer[0][0],this.zeroBuffer[0][1],this.zeroBuffer[1][0],this.zeroBuffer[1][1],e[0],e[1],this.fn))&&(this.poiData.zeros.x.push(t[0]),this.poiData.zeros.y.push(t[1])),this.zeroBuffer.length=0,void this.zeroBuffer.push(e)):(this.zeroBuffer.length=0,void this.zeroBuffer.push(e))}else this.zeroBuffer.length=0},r.prototype.updateExtremumBuffer=function(e){if(this.fn)if(isFinite(e[0])&&isFinite(e[1]))switch(this.extremumBuffer.length){case 0:return void this.extremumBuffer.push(e);case 1:return e[1]===this.extremumBuffer[0][1]&&(this.extremumBuffer.length=0),void this.extremumBuffer.push(e);case 2:if(e[1]===this.extremumBuffer[1][1])return void this.extremumBuffer.push(e);if(e[1]>this.extremumBuffer[1][1]!=this.extremumBuffer[1][1]>this.extremumBuffer[0][1]){if(t=this.bisectExtremumUsingDerivative(this.extremumBuffer[0][0],this.extremumBuffer[0][1],this.extremumBuffer[1][0],this.extremumBuffer[1][1],e[0],e[1]))this.poiData.extrema.x.push(t[0]),this.poiData.extrema.y.push(t[1]),!!!s.bisectJump(this.extremumBuffer[0][0],this.extremumBuffer[0][1],t[0],t[1],e[0],e[1],this.fn,this.ytolerance)&&t[0]>this.segment[this.segment.length-2]&&(this.pendingPoint=t);return this.extremumBuffer.shift(),void this.extremumBuffer.push(e)}return this.extremumBuffer.shift(),void this.extremumBuffer.push(e);case 3:if(e[1]===this.extremumBuffer[1][1])return;if(e[1]>this.extremumBuffer[1][1]!=this.extremumBuffer[1][1]>this.extremumBuffer[0][1]){var t=void 0,i=.5*(this.extremumBuffer[1][0]+this.extremumBuffer[2][0]),r=this.fn(i);return(t=r===this.extremumBuffer[1][1]?s.flatCenter(this.extremumBuffer[0][0],this.extremumBuffer[0][1],this.extremumBuffer[1][0],this.extremumBuffer[1][1],e[0],e[1],this.fn):this.bisectExtremumUsingDerivative(this.extremumBuffer[1][0],this.extremumBuffer[1][1],i,r,this.extremumBuffer[2][0],this.extremumBuffer[2][1]))&&(this.poiData.extrema.x.push(t[0]),this.poiData.extrema.y.push(t[1])),this.extremumBuffer.shift(),this.extremumBuffer.shift(),void this.extremumBuffer.push(e)}return this.extremumBuffer.shift(),this.extremumBuffer.shift(),void this.extremumBuffer.push(e)}else this.zeroBuffer.length=0},r.prototype.bisectExtremumUsingDerivative=function(e,t,i,r,u,f){if(this.fn){var h;if(this.derivative){var n=this.derivative(e),m=this.derivative(u);if(!isNaN(n)&&!isNaN(m)&&n<0!=m<0){var o=s.bisectZero(e,n,u,m,this.derivative);o&&(h=[o[0],this.fn(o[0])])}}return h||(h=s.bisectExtremum(e,t,i,r,u,f,this.fn)),h}},r.prototype.breakSegment=function(){this.zeroBuffer.length=0,this.extremumBuffer.length=0,this.flushPending(),this.segment.length>2&&(this.segments.push(this.segment),u(this.segment[this.segment.length-1])&&(this.poiData.zeros.x.push(this.segment[this.segment.length-2]),this.poiData.zeros.y.push(this.segment[this.segment.length-1]))),this.segment=[]},r.prototype.findIntercept=function(e){if(!e)return{x:[],y:[]};var t=e(0);return isFinite(t)?{x:[0],y:[e(0)]}:{x:[],y:[]}},r.prototype.finish=function(){return{segments:this.getSegments(),resolved:!0,poi:this.getPOI()}},r}(r.Accumulator);e.default=f});\ndefine(\'core/math/copy-defined-pois\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(e){for(var r=[],t=[],u=e.length,n=0;n<u;n++)r.push(e[n][0]),t.push(e[n][1]);return{defined:{x:r,y:t}}}});\ndefine(\'core/math/plotter\',["require","exports","tslib","core/math/distance","./poi","./implicit-plotter","./curve-accumulator","./poi-finding-accumulator","core/types/graphmode","./domaintypes","core/math/copy-defined-pois"],function(require,e,i,n,t,r,a,o,s,m,c){"use strict";function l(e,i){var n=new o.default(i),t=e[0]+i.min*e[1],r=e[0]+i.max*e[1];return isFinite(t)&&isFinite(r)?(n.addPoint([i.min,t]),n.addPoint([i.max,r]),n.addLinearZero(e),n.addLinearIntercept(e),n.finish()):n.finish()}function u(e,n){var t=e(n);return{segments:[i.__spreadArray(i.__spreadArray([],t),t)],resolved:!0}}function p(e,i,r){var a=r.fn,o=r.jumpTolerance,s=e[0],m=e[1],c=i[0],l=i[1],u=n.mean(s,c),p=a(u);return t.bisectJump(s,m,u,p,c,l,a,o)}Object.defineProperty(e,"__esModule",{value:!0}),e.dropUndefinedPoints=e.polygonsFromSegments=e.polygonFromSegments=e.computeGraphData=e.computeDiscreteGraphData=e.computeDomain=e.validateViewState=e.subsampleParametricRecursive=e.sampleParametricRecursive=e.samplePolar=e.findPiPeriod=e.sampleXY=e.sampleLinear=e.errorBranch=void 0,e.errorBranch=function(e){return{graphMode:s.ERROR,error:e,segments:[]}},e.sampleLinear=l;var d=function(e,i,n){var t=n.fn,r=n.jumpTolerance,a=n.accumulator;if(!isFinite(r)||r<=0)return i;var o=p(e,i,n);if(!o)return i;for(var s=(i[0]-e[0])/10,m=[-s,s],c=i,l=0;l<m.length;l++){var u=e[0]+m[l],d=t(u);isFinite(d)||(u=e[0],d=e[1],u=e[0],d=e[1]);var f=i[0]+m[l],h=t(f);if(isFinite(h)?c=[f,h]:(f=i[0],h=i[1]),p([u,d],[f,h],n)){var v=o[0],g=o[1];return a.addPoint(v),a.breakSegment(),a.addPoint(g),i}}return c},f=function(e,i,n){this.derivative=n,this.accumulator=new o.default(i,e,n),this.fn=e,this.jumpTolerance=i.ytolerance||i.tolerance||0};function h(e,i,n){var t=i,r=e(t);return isFinite(r)||(r=e(t=i+n)),isFinite(r)||(r=e(t=i-n)),[t,r]}function v(e,i,n){var r,a,o,s,m,c,l,u=new f(e,i,n),p=i.step/10,v=i.min,g=[l=(r=h(e,v,p))[0],c=r[1]];isFinite(c)&&u.accumulator.addPoint([l,c]);for(var x=Math.ceil((i.max-i.min)/i.step),y=1;y<=x;y++)l=(a=h(e,v=(x-y)/x*i.min+y/x*i.max,p))[0],c=a[1],isFinite(c)&&isFinite(g[1])?(l=(o=d(g,[l,c],u))[0],c=o[1],u.accumulator.addPoint([l,c])):isFinite(c)&&!isFinite(g[1])?(m=t.bisectFinite(g[0],g[1],l,c,e))&&(m[0]!==l&&u.accumulator.addPoint(m),l=(s=d(m,[l,c],u))[0],c=s[1],u.accumulator.addPoint([l,c])):!isFinite(c)&&isFinite(g[1])&&(m=t.bisectFinite(g[0],g[1],l,c,e))&&((m=d(g,m,u))[0]!==g[0]&&u.accumulator.addPoint(m),u.accumulator.breakSegment()),g=[l,c];return u.accumulator.finish()}function g(e,i,n,t){var r,a,o,s=i.min,m=i.max-i.min,c=i.xtolerance&&i.ytolerance?Math.min(i.xtolerance,i.ytolerance):i.tolerance?i.tolerance:0,l=Math.floor(m/(Math.PI/n));function u(e,i){var r=i%2==0?1:-1;if(!t&&-1===r)return!1;for(var a=i*(Math.PI/n),o=[s,s+1,s+2,s+3],m=!1,l=0,u=o.length;l<u;l++){var p=e(o[l]),d=e(o[l]+a);if(isFinite(p)&&isFinite(d)&&(m=!0),isFinite(p)!==isFinite(d)||Math.abs(p-r*d)>c)return!1}return!!m}for(r=1;r<=l;r++)if(u(e,r)){for(o=r,a=2;a*r<=l;a++)u(e,a*r)||(o=void 0);if(o)break}return o?o*(Math.PI/n):null}function x(e){return[e[1]*Math.cos(e[0]),e[1]*Math.sin(e[0])]}function y(e,i){return i.map=x,v(e,i)}function F(e,i){if(i.max<i.min)return{segments:[],resolved:!0};var n,t=new a.Accumulator(i),r=i.min,o=e(r);return isFinite(o[0])&&isFinite(o[1])&&t.addPoint(o),function(e,i){for(var n=e.min,t=e.max,r=e.step,a=t-n,o=Math.ceil(a/r),s=a/o,m=0;m<o;m++)i(n+m*s);i(t)}(i,function(i){n=e(i),P(e,r,o,i,n,10,t),r=i,o=n}),t.finish()}function P(e,i,t,r,a,o,s){if(r!==i){var m=s.xtolerance,c=s.ytolerance,l=s.ztolerance,u=n.mean(i,r),p=e(u),d=isFinite(t[0])&&isFinite(t[1])&&(2===t.length||isFinite(t[2])),f=isFinite(a[0])&&isFinite(a[1])&&(2===a.length||isFinite(a[2])),h=isFinite(p[0])&&isFinite(p[1])&&(2===p.length||isFinite(p[2]));if(0===o||u===i||u===r)return s.breakSegment(),void(f&&s.addPoint(a));if(d||f)if(d===f){if(d&&h&&f){var v=n.pointToSegmentParameter(p[0],p[1],p[2]||0,t[0],t[1],t[2]||0,a[0],a[1],a[2]||0);if(v>.2&&v<.8&&Math.abs(p[0]-(t[0]+v*(a[0]-t[0])))<=m&&Math.abs(p[1]-(t[1]+v*(a[1]-t[1])))<=c&&(2===t.length||Math.abs(p[2]-(t[2]+v*(a[2]-t[2])))<=l))return void s.addPoint(a)}t[0]===p[0]&&t[1]===p[1]||P(e,i,t,u,p,o-1,s),a[0]===p[0]&&a[1]===p[1]||P(e,u,p,r,a,o-1,s)}else{for(var g=i,x=r,y=t,F=a;i!==u&&u!==r;)h==d?(i=u,t=p,d=h):(r=u,a=p,f=h),p=e(u=i+(r-i)/2),h=isFinite(p[0])&&isFinite(p[1])&&(2===p.length||isFinite(p[2]));d?(P(e,g,y,i,t,o-1,s),s.breakSegment()):(s.breakSegment(),s.addPoint(a),P(e,r,a,x,F,o-1,s))}}}function w(e,i,n){var t=e.viewport.xmin,r=e.viewport.xmax,a=e.viewport.ymin,o=e.viewport.ymax,c=i.lineWidth;if(c>3){var l=c*(r-t)/e.screen.width,u=c*(o-a)/e.screen.height;t-=l,r+=l,a-=u,o+=u}var p,d,f=e.trigAngleMultiplier||1,h=e.oversample||4,v=1/h*(r-t)/e.screen.width,x=1/h*(o-a)/e.screen.height,y=i.domainBound;switch(i.graphMode){case s.X:switch((p=m.intersectDomains(m.knownDomain([a,o]),y)).type){case"empty":return!1;case"known":a=p.bounds[0],o=p.bounds[1]}d={min:a,max:o,xtolerance:x,ytolerance:v,step:x};break;case s.Y:switch((p=m.intersectDomains(m.knownDomain([t,r]),y)).type){case"empty":return!1;case"known":t=p.bounds[0],r=p.bounds[1]}d={min:t,max:r,xtolerance:v,ytolerance:x,step:v};break;case s.POLAR:if(!i.domain)throw new Error("Expected polar graph to have domain");if(d={min:i.domain.min,max:i.domain.max,step:2*Math.PI/f/1e3,tolerance:Math.min(v,x)},!i.domain.isExplicit){var F=g(n,d,f,"="===i.operator);F&&(d.max=d.min+F)}d.step=Math.max(d.step,(d.max-d.min)/11999);break;case s.PARAMETRIC:case s.PARAMETRIC_CURVE_3D:var P=i.domain?i.domain.min:0,w=i.domain?i.domain.max:1,M=i.domain?i.domain.step:.01;switch((p=m.intersectDomains(m.knownDomain([P,w]),y)).type){case"empty":return!1;case"known":P=p.bounds[0],w=p.bounds[1]}d={min:P,max:w,step:M,xtolerance:v,ytolerance:x,ztolerance:Math.min(v,x)};break;case s.IMPLICIT:d={xmin:t,xmax:r,ymin:a,ymax:o,xtolerance:v,ytolerance:x};break;case s.Z_3D:return{xmin:-10,xmax:10,ymin:-10,ymax:10};default:return!1}return d}function M(e,i,n){var t,r,a,o,m=[],c=null;switch(n){case s.POLAR:c=x;break;case s.X:c=function(e){return[e[1],e[0]]}}for(t=0;t<e.length;t++)for(o=e[t],r=0;r<o.length;r+=2)a=[o[r],o[r+1]],c&&(a=c(a)),m.push(a[0],a[1]);for(t=i.length-1;t>=0;t--)for(r=(o=i[t]).length-2;r>=0;r-=2)a=[o[r],o[r+1]],c&&(a=c(a)),m.push(a[0],a[1]);return m}function b(e){for(var i=[],n={},t=0;t<e.length;t++){var r=e[t],a=r[0],o=r[1];isNaN(a)||isNaN(o)?n[t]=!0:i.push(r)}return{points:i,droppedIndices:n}}e.sampleXY=v,e.findPiPeriod=g,e.samplePolar=y,e.sampleParametricRecursive=F,e.subsampleParametricRecursive=P,e.validateViewState=function(e){if(!e)return!1;var i=e.viewport.xmin,n=e.viewport.xmax,t=e.viewport.ymin,r=e.viewport.ymax;return!(!isFinite(i)||!isFinite(n)||n<=i)&&(!(!isFinite(t)||!isFinite(r)||r<=t)&&(!(!isFinite(e.screen.width)||e.screen.width<=0)&&!(!isFinite(e.screen.height)||e.screen.height<=0)))},e.computeDomain=w,e.computeDiscreteGraphData=function(e){var i,n=e.viewState,t=e.graphInfo,r=e.compiled,a=e.maxOverride,o=e.showPoint,m=r.fn,l=w(n,t,m);l||(i={segments:[],resolved:!0});var u=l,p=u.min,d=u.max,f=u.step,h=b((i=function(e){for(var i=e.fn,n=e.domain,t=n.min,r=n.max,a=Math.floor(t),o=Math.ceil(r),s=[],m=a;m<=o;m++){var c=i(m);isFinite(m)&&isFinite(c)&&s.push([m,c])}return{segments:s,resolved:!0}}({fn:m,domain:{min:Math.max(p,0),max:void 0!==a?Math.min(a,d):d,step:f}})).segments);return{segments:[h.points],droppedIndices:h.droppedIndices,graphMode:s.XYPOINT,color:t.color,style:t.pointStyle,poi:c.default(i.segments),showPoint:o}},e.computeGraphData=function(e){var i,n,t,a=e.viewState,o=e.graphInfo,m=e.compiled,c=e.derivative,p=m.fn,d=w(a,o,p),f=o.graphMode;if(d){switch(f){case s.X:case s.Y:var h=c?c.fn:void 0;i=o.isLinear?l(o.linearCoefficients,d):v(p,d,h);break;case s.POLAR:i=y(p,d);break;case s.IMPLICIT:i=r.sampleImplicit(p,d);break;case s.PARAMETRIC:d.step||(d.step=(d.max-d.min)/1e3),i=d.max===d.min?u(p,d.min):o.isLinear?function(e,i){var n=l(e[0],i),t=l(e[1],i);return n.segments.length&&t.segments.length&&4===n.segments[0].length&&4===t.segments[0].length?{segments:[[n.segments[0][1],t.segments[0][1],n.segments[0][3],t.segments[0][3]]],resolved:!0}:{segments:[],resolved:!0}}(o.linearCoefficients,d):F(p,d);break;case s.PARAMETRIC_CURVE_3D:return d.step||(d.step=(d.max-d.min)/1e3),i=d.max===d.min?u(p,d.min):F(p,d),{graphMode:s.PARAMETRIC_CURVE_3D,segments:i.segments,cacheKey:m.source+":"+JSON.stringify(d),color:o.color,style:"dummy"};case s.Z_3D:return{meshData:function(e,i){for(var n=e.fn,t=i.xmin,r=i.xmax,a=i.ymin,o=30,s=(r-t)/30,m=(i.ymax-a)/o,c=[],l=[],u=[],p=s/1e3,d=m/1e3,f=0;f<30;f++)for(var h=0;h<o;h++){var v=t+f*s,g=a+h*m,x=n(v,g);c.push(v,g,x);var y=(n(v+p,g)-x)*d,F=(n(v,g+d)-x)*p,P=-p*d,w=Math.sqrt(y*y+F*F+P*P);l.push(y/w,F/w,P/w)}for(f=0;f<29;f++)for(h=0;h<29;h++){var M=h*o+f,b=h*o+f+1,I=(h+1)*o+f,k=(h+1)*o+f+1;u.push(M,I,b),u.push(I,k,b)}return{cacheKey:e.source+":"+JSON.stringify(i),positions:new Float32Array(c),normals:new Float32Array(l),faces:new Int16Array(u)}}(m,d),color:o.color,graphMode:s.Z_3D,poi:{zeros:{x:[],y:[]},extrema:{x:[],y:[]},intercept:{x:[],y:[]}},compiled:m,style:"dummy"};default:throw new Error("Programming Error: unexpected graphmode "+f)}t=i.poi}else i={segments:[],resolved:!0};if((!t||t.zeros.x.length+t.extrema.x.length+t.intercept.x.length>250)&&(t={zeros:{x:[],y:[]},extrema:{x:[],y:[]},intercept:{x:[],y:[]}}),f===s.X)for(var g in t)if(t.hasOwnProperty(g)){var x=g;n=t[x].y,t[x].y=t[x].x,t[x].x=n}var P={segments:i.segments,resolved:i.resolved,graphMode:f,color:o.color,style:o.lineStyle,lineWidth:o.lineWidth,lineOpacity:o.lineOpacity,listIndex:o.listIndex,operator:o.operator,poi:t,compiled:m};if(f===s.POLAR){var M=d;P.sampledDomain={min:M.min,max:M.max,step:M.step}}return i.fillSegments&&(P.fillSegments=i.fillSegments),P},e.polygonFromSegments=M,e.polygonsFromSegments=function(e,i,t){for(var r=function(e){var i=e[e.length-1];return i[i.length-2]},a=[],o=0,s=0,m=[],c=[],l=-1/0,u=-1/0;;){if(l<=u){if(o>=i.length)break;c.push(i[o++])}if(u<=l){if(s>=e.length)break;m.push(e[s++])}if(l=r(c),u=r(m),n.approx(l,u,4)){a.push(M(m,c,t)),c=[],m=[];var p=Math.max(l,u);l=p,u=p}}return a},e.dropUndefinedPoints=b});\ndefine(\'core/math/findIntersections\',[\'require\',\'core/types/graphmode\',\'./plotter\',\'parsenodes\',\'core/math/distance\'],function(require){"use strict";var n=require("core/types/graphmode"),t=require("./plotter"),e=require("parsenodes"),r=require("core/math/distance");function i(n){for(var t=[],e=0;e<n;e++)t[e]={x:[],y:[],intersects:[]};return t}function o(t,e,r,i){return r===n.X&&i===n.X||r===n.Y&&i===n.Y?function(n){return e(n)-t(n)}:(r===n.X&&i===n.Y||r===n.Y&&i===n.X)&&function(n){return n-e(t(n))}}function s(n,t){t instanceof e.SolvedEquation?t=t._expression:t instanceof e.OptimizedRegression&&(t=t.model);var r=[],i=[];return t instanceof e.DoubleInequality?e.List.eachArgs(t._expressions,function(n){r.push(n[0].getCompiledFunction()),i.push(n[0].isConstant&&n[1].isNaN()),r.push(n[1].getCompiledFunction()),i.push(n[1].isConstant&&n[1].isNaN())}):e.List.wrap(t).eachElement(function(n){r.push(n.getCompiledFunction()),i.push(n.isConstant&&n.isNaN())}),{functions:r,skipIntersecting:i}}function c(n,t){n.intersects=Array(n.x.length);for(var e=0;e<n.x.length;e++)n.intersects[e]=t}function p(t,e){if(e===n.X){var r=t.y;t.y=t.x,t.x=r}}function u(n,t){Array.prototype.push.apply(n.x,t.x),Array.prototype.push.apply(n.y,t.y),Array.prototype.push.apply(n.intersects,t.intersects)}function a(n,e,i){var o=t.sampleXY(n,e),s=o.poi.zeros,c=o.poi.extrema,p=[],u=0,a=0;for(u=0;u<s.x.length;u++){for(;a<c.x.length&&c.x[a]<s.x[u];a++)r.approx(c.y[a],0)&&p.push(c.x[a]);p.push(s.x[u])}for(;a<c.x.length;a++)r.approx(c.y[a],0)&&p.push(c.x[a]);return{x:p,y:p.map(i)}}return{findIntersections:function(n,e,r){var f,h,g,l=n[r],y=l.getGraphInfo(),x=l.getGraphMode();try{h=i((f=s(l.policy,l.concreteTree)).functions.length),g=function(n,t){var e=[];for(var r in n)if(n.hasOwnProperty(r)&&String(r)!==String(t)&&n[r].shouldIntersect()){var i=n[r],o=s(i.policy,i.concreteTree);e.push({id:r,graphMode:i.getGraphMode(),functions:o.functions,skipIntersecting:o.skipIntersecting})}return e}(n,r)}catch(n){return i(0)}if(!g)return h;for(var d=0,v=0;v<g.length;v++)for(var m=g[v],I=0;I<f.functions.length;I++)if(!f.skipIntersecting[I])for(var C=f.functions[I].fn,N=t.computeDomain(e,y,C),X=0;X<m.functions.length;X++)if(!g[v].skipIntersecting[X]){var k=o(C,m.functions[X].fn,x,m.graphMode);if(k){var A;try{A=a(k,N,C)}catch(n){return i(0)}if((d+=A.x.length)>100)return i(f.functions.length);c(A,m.id),p(A,x),u(h[I],A)}}return h},findIndicatorZeros:a}});\ndefine(\'core/vendor/d3-color\',[\'require\'],function(require){function e(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function t(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function r(){}var n=.7,i=1/n,a="\\\\s*([+-]?\\\\d+)\\\\s*",o="\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*",s="\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*",l=/^#([0-9a-f]{3,8})$/,h=new RegExp("^rgb\\\\("+[a,a,a]+"\\\\)$"),u=new RegExp("^rgb\\\\("+[s,s,s]+"\\\\)$"),g=new RegExp("^rgba\\\\("+[a,a,a,o]+"\\\\)$"),c=new RegExp("^rgba\\\\("+[s,s,s,o]+"\\\\)$"),d=new RegExp("^hsl\\\\("+[o,s,s]+"\\\\)$"),b=new RegExp("^hsla\\\\("+[o,s,s,o]+"\\\\)$"),p={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function m(){return this.rgb().formatHex()}function f(){return this.rgb().formatRgb()}function y(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=l.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?w(t):3===r?new v(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?k(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?k(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=h.exec(e))?new v(t[1],t[2],t[3],1):(t=u.exec(e))?new v(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=g.exec(e))?k(t[1],t[2],t[3],t[4]):(t=c.exec(e))?k(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=d.exec(e))?E(t[1],t[2]/100,t[3]/100,1):(t=b.exec(e))?E(t[1],t[2]/100,t[3]/100,t[4]):p.hasOwnProperty(e)?w(p[e]):"transparent"===e?new v(NaN,NaN,NaN,0):null}function w(e){return new v(e>>16&255,e>>8&255,255&e,1)}function k(e,t,r,n){return n<=0&&(e=t=r=NaN),new v(e,t,r,n)}function N(e){return e instanceof r||(e=y(e)),e?new v((e=e.rgb()).r,e.g,e.b,e.opacity):new v}function x(e,t,r,n){return 1===arguments.length?N(e):new v(e,t,r,null==n?1:n)}function v(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function M(){return"#"+q(this.r)+q(this.g)+q(this.b)}function R(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function q(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function E(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new C(e,t,r,n)}function $(e){if(e instanceof C)return new C(e.h,e.s,e.l,e.opacity);if(e instanceof r||(e=y(e)),!e)return new C;if(e instanceof C)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,a=Math.min(t,n,i),o=Math.max(t,n,i),s=NaN,l=o-a,h=(o+a)/2;return l?(s=t===o?(n-i)/l+6*(n<i):n===o?(i-t)/l+2:(t-n)/l+4,l/=h<.5?o+a:2-o-a,s*=60):l=h>0&&h<1?0:s,new C(s,l,h,e.opacity)}function H(e,t,r,n){return 1===arguments.length?$(e):new C(e,t,r,null==n?1:n)}function C(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function j(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}return e(r,y,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:m,formatHex:m,formatHsl:function(){return $(this).formatHsl()},formatRgb:f,toString:f}),e(v,x,t(r,{brighter:function(e){return e=null==e?i:Math.pow(i,e),new v(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?n:Math.pow(n,e),new v(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:M,formatHex:M,formatRgb:R,toString:R})),e(C,H,t(r,{brighter:function(e){return e=null==e?i:Math.pow(i,e),new C(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?n:Math.pow(n,e),new C(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new v(j(e>=240?e-240:e+120,i,n),j(e,i,n),j(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}})),{Color:r,darker:n,brighter:i,color:y,rgbConvert:N,rgb:x,Rgb:v,hslConvert:$,hsl:H}});\ndefine(\'core/math/policyFourFunction\',["require","exports"],function(require,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PolicySingleExpressionFourFunction=n.PolicyFourFunction=void 0;var e=function(){function n(n){this.singleExpression=n.singleExpression}return n.prototype.assignmentForbidden=function(n){return"ans"!==n.slice(0,3)},n.prototype.isValidSlider=function(n){return!1},n.prototype.sliderVariables=function(){return[]},n.prototype.graphingEnabled=function(){return!1},n.prototype.ansEnabled=function(){return!this.singleExpression},n.prototype.dimensionVarsEnabled=function(){return!1},n.prototype.disabledFeatures=function(){return["Sum","Product","Integral","List","Derivative","Piecewise","Exponent","PercentOf"]},n}();n.PolicyFourFunction=new e({singleExpression:!1}),n.PolicySingleExpressionFourFunction=new e({singleExpression:!0})});\ndefine(\'core/math/policyScientific\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PolicySingleExpressionScientific=e.PolicyScientific=void 0;var i=function(){function e(e){this.singleExpression=e.singleExpression}return e.prototype.assignmentForbidden=function(e){return this.singleExpression?"ans"!==e.slice(0,3):"tmp"===e.slice(0,3)},e.prototype.isValidSlider=function(e){return!1},e.prototype.sliderVariables=function(){return[]},e.prototype.graphingEnabled=function(){return!1},e.prototype.ansEnabled=function(){return!this.singleExpression},e.prototype.dimensionVarsEnabled=function(){return!1},e.prototype.disabledFeatures=function(){return this.singleExpression?["Sum","Product","Integral","Derivative","Piecewise","PercentOf"]:["Sum","Product","Integral","Derivative","Piecewise"]},e}();e.PolicyScientific=new i({singleExpression:!1}),e.PolicySingleExpressionScientific=new i({singleExpression:!0})});\ndefine(\'core/math/policyGraphing\',["require","exports","./builtinframe","core/types/graphmode"],function(require,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PolicyGraphing3D=t.PolicyGraphing=void 0;var e=function(){function t(){}return t.prototype.dimensions=function(){return 2},t.prototype.assignmentForbidden=function(t){return"x"===t||"y"===t||"theta"===t||"index"===t||"dt"===t||"tmp"===t.slice(0,3)||r.hasOwnProperty(t)},t.prototype.isValidSlider=function(t){return"x"===t||"y"===t||"ans"!==t.slice(0,3)&&!this.assignmentForbidden(t)},t.prototype.sliderVariables=function(t){var r=this;return-1!==t.indexOf("theta")&&(t=t.filter(function(t){return"r"!==t})),t.filter(function(t){return!r.assignmentForbidden(t)&&("ans"!==t.slice(0,3)&&"_"!==t[0])})},t.prototype.graphingEnabled=function(){return!0},t.prototype.ansEnabled=function(){return!1},t.prototype.dimensionVarsEnabled=function(){return!0},t.prototype.validRegressionParameter=function(t){return"x"!==t&&"y"!==t},t.prototype.validLHS=function(t){return"theta"!==t},t.prototype.unplottablePolarFunction=function(t,r){return"theta"===t&&-1!==r.indexOf("r")},t.prototype.validDoubleInequalitySymbol=function(t){return"x"===t||"y"===t},t.prototype.validDoubleInequalityVariables=function(t){return!(t.length>2)&&t.every(this.validDoubleInequalitySymbol)},t.prototype.validExpressionVariables=function(t){return 1===t.length&&"x"===t[0]},t.prototype.validSolvedVariable=function(t){return"x"===t||"y"===t||"r"===t},t.prototype.validImplicitVariables=function(t){switch(t.length){case 0:return!0;case 1:return"x"===t[0]||"y"===t[0]||"r"===t[0];case 2:return"x"===t[0]&&"y"===t[1]||"y"===t[0]&&"x"===t[1]||"r"===t[0]&&"theta"===t[1]||"theta"===t[0]&&"r"===t[1];default:return!1}},t.prototype.graphableListVariables=function(t,r){return"x"===t||"y"===t||"r"===t||"x"===r||"y"===r},t.prototype.validParametricVariable=function(t){return"t"===t},t.prototype.validParametricVariables=function(t){return 1===t.length&&this.validParametricVariable(t[0])},t.prototype.validInequalityVariables=function(t){switch(t.length){case 1:return"x"===t[0]||"y"===t[0]||"r"===t[0];case 2:return this.validImplicitVariables(t);default:return!1}},t.prototype.validFirstColumnVariable=function(t){return"y"!==t&&"r"!==t&&"theta"!==t&&!t.match(/y_(\\d+)/)},t.prototype.validActionVariable=function(t){return"dt"===t||"index"===t},t.prototype.complicatedPolarImplicit=function(t,r){return"theta"===t||"r"===t&&1!==r},t.prototype.constantGraphMode=function(t){return"x"===t?n.X:"r"===t?n.POLAR:n.Y},t.prototype.graphMode=function(t,r){var e=r[0];return"y"===e||"x"===t?n.X:"r"===t&&"theta"===e?n.POLAR:n.Y},t.prototype.tableableAsConstant=function(t){return"x"!==t&&("r"!==t&&"theta"!==t)},t.prototype.implicitIndependent=function(t){return"x"},t.prototype.implicitDependency=function(t){return 1!==t.length?"y":"y"===t[0]?"x":"theta"===t[0]?"r":"y"},t.prototype.graphableAsConstant=function(t){return"y"===t||"x"===t||"r"===t},t.prototype.disabledFeatures=function(){return[]},t}(),i=function(){function t(){}return t.prototype.dimensions=function(){return 3},t.prototype.assignmentForbidden=function(t){return"x"===t||"y"===t||"z"===t||"tmp"===t.slice(0,3)||r.hasOwnProperty(t)},t.prototype.isValidSlider=function(t){return"x"===t||"y"===t||"z"===t||"ans"!==t.slice(0,3)&&!this.assignmentForbidden(t)},t.prototype.sliderVariables=function(t){var r=this;return t.filter(function(t){return!r.assignmentForbidden(t)&&"ans"!==t.slice(0,3)})},t.prototype.graphingEnabled=function(){return!0},t.prototype.ansEnabled=function(){return!1},t.prototype.dimensionVarsEnabled=function(){return!0},t.prototype.validRegressionParameter=function(t){return!1},t.prototype.validLHS=function(t){return!0},t.prototype.unplottablePolarFunction=function(t,r){return!1},t.prototype.validDoubleInequalitySymbol=function(t){return!1},t.prototype.validDoubleInequalityVariables=function(t){return!1},t.prototype.validExpressionVariables=function(t){var r=t.join("");return"x"===r||"y"===r||"xy"===r||"yx"===r},t.prototype.validSolvedVariable=function(t){return"x"===t||"y"===t||"z"===t},t.prototype.validImplicitVariables=function(t){return!1},t.prototype.graphableListVariables=function(t,r){return"x"===t||"y"===t||"x"===r||"y"===r},t.prototype.validParametricVariable=function(t){return"t"===t},t.prototype.validParametricVariables=function(t){return 1===t.length&&this.validParametricVariable(t[0])},t.prototype.validInequalityVariables=function(t){return!1},t.prototype.validFirstColumnVariable=function(t){return!1},t.prototype.validActionVariable=function(t){return"dt"===t||"index"===t},t.prototype.complicatedPolarImplicit=function(t,r){return!1},t.prototype.constantGraphMode=function(t){return n.Z_3D},t.prototype.graphMode=function(t,r){return"z"===t&&this.validExpressionVariables(r)?n.Z_3D:n.NONE},t.prototype.tableableAsConstant=function(t){return"x"!==t&&"r"!==t},t.prototype.implicitIndependent=function(t){return"x"},t.prototype.implicitDependency=function(t){if(2!==t.length)return"z";var r=t[0]<t[1]?t[0]+t[1]:t[1]+t[0];return"xy"===r?"z":"xz"===r?"y":"yz"===r?"x":"z"},t.prototype.graphableAsConstant=function(t){return"z"===t},t.prototype.disabledFeatures=function(){return[]},t}();t.PolicyGraphing=new e,t.PolicyGraphing3D=new i});\ndefine(\'core/math/frameFourFunction\',[\'require\',\'core/math/builtinframe\'],function(require){"use strict";var t=require("core/math/builtinframe");return{getFrame:function(i){var n={};return i.additionalFunctions&&-1!==i.additionalFunctions.indexOf("sqrt")&&(n.sqrt=t.sqrt),i.width&&(n.width=i.width),i.height&&(n.height=i.height),n}}});\ndefine(\'core/math/frameScientific\',[\'require\',\'core/math/builtinframe\'],function(require){"use strict";var r=require("core/math/builtinframe"),t=["pi","e","trigAngleMultiplier"],n=["sqrt","nthroot","abs","ln","sin","cos","tan","log","arcsin","arccos","arctan","mean","round","stdev","stdevp","nCr","nPr","exp","factorial"];function e(r,t){for(var n=0;n<r.length;n++){var e=r[n];if(!t.hasOwnProperty(e))throw new Error("Programming Error: key \'"+e+"\' does not exist in table. Must be one of:\\n"+Object.keys(t).join("\\n"))}}return e(t,r),e(n,r),{getFrame:function(e){var i={};return t.forEach(function(t){i[t]=r[t]}),n.forEach(function(t){e.replaceRoundWithReciprocal&&"round"===t||(i[t]=r[t])}),e.trigAngleMultiplier&&(i.trigAngleMultiplier=e.trigAngleMultiplier),e.width&&(i.width=e.width),e.height&&(i.height=e.height),i}}});\ndefine(\'core/math/frameSingleExpressionScientific\',[\'require\',\'core/math/builtinframe\'],function(require){"use strict";var r=require("core/math/builtinframe"),t=["pi","e","trigAngleMultiplier"],i=["sqrt","nthroot","abs","ln","sin","cos","tan","log","arcsin","arccos","arctan","exp","factorial"];function n(r,t){for(var i=0;i<r.length;i++){var n=r[i];if(!t.hasOwnProperty(n))throw new Error("Programming Error: key \'"+n+"\' does not exist in table. Must be one of:\\n"+Object.keys(t).join("\\n"))}}return n(t,r),n(i,r),{getFrame:function(n){var e={};return t.forEach(function(t){e[t]=r[t]}),i.forEach(function(t){e[t]=r[t]}),n.trigAngleMultiplier&&(e.trigAngleMultiplier=n.trigAngleMultiplier),n.width&&(e.width=n.width),n.height&&(e.height=n.height),e}}});\ndefine(\'core/math/frameGraphing\',[\'require\',\'core/math/builtinframe\'],function(require){"use strict";var t=require("core/math/builtinframe"),i=["csc","sec","cot","arccsc","arcsec","arccot","csch","sech","coth","arccsch","arcsech","arccoth","mad","cov","distance","midpoint"],e=["erf","ttest","tscore","ittest","normaldist","tdist","poissondist","binomialdist","pdf","cdf","random","histogram","dotplot","boxplot"],n=["distance","midpoint"],o=["det","inv","transpose","rref","trace"];function r(t,i){for(var e=0;e<t.length;e++){var n=t[e];if(!i.hasOwnProperty(n))throw new Error("Programming Error: key \'"+n+"\' does not exist in table. Must be one of:\\n"+Object.keys(i).join("\\n"))}}return r(i,t),r(e,t),{getFrame:function(r){var a,c={};for(a in t)t.hasOwnProperty(a)&&(!0!==r.restrictedFunctions||-1===i.indexOf(a)||!0===r.forceEnableGeometryFunctions&&-1!==n.indexOf(a))&&(!1===r.distributions&&-1!==e.indexOf(a)||-1===o.indexOf(a)&&(c[a]=t[a]));return r.trigAngleMultiplier&&(c.trigAngleMultiplier=r.trigAngleMultiplier),r.globalRandomSeed&&(c.globalRandomSeed=r.globalRandomSeed),r.initialEvaluation&&(c.initialEvaluation=r.initialEvaluation),r.globalEventCount&&(c.globalEventCount=r.globalEventCount),r.width&&(c.width=r.width),r.height&&(c.height=r.height),c}}});\ndefine(\'core/math/parser/char-codes\',["require","exports"],function(require,e){"use strict";function t(e){return 97<=e&&e<=122}function i(e){return 65<=e&&e<=90}Object.defineProperty(e,"__esModule",{value:!0}),e.isWhitespace=e.isSingleQuote=e.isDot=e.isBackslash=e.isLetter=e.isUpperCaseLetter=e.isLowerCaseLetter=e.isDigit=void 0,e.isDigit=function(e){return 48<=e&&e<=57},e.isLowerCaseLetter=t,e.isUpperCaseLetter=i,e.isLetter=function(e){return t(e)||i(e)},e.isBackslash=function(e){return 92===e},e.isDot=function(e){return 46===e},e.isSingleQuote=function(e){return 39===e},e.isWhitespace=function(e){if(9<=e&&e<=13)return!0;if(8192<=e&&e<=8202)return!0;switch(e){case 32:case 160:case 5760:case 8232:case 8233:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}}});\ndefine(\'core/math/parser/latex-lexer\',["require","exports","./char-codes","./input-span"],function(require,e,t,n){"use strict";function r(e,t,n){return{type:e,span:t,val:n}}function a(e,a,i){for(;t.isWhitespace(e.charCodeAt(a));)a+=1;var o=function(e,a){var i=a;if(a>=e.length)return r("End",n.emptySpanAt(e,a),"");var o=e.charCodeAt(a);if(t.isDigit(o))return r("Digit",u=n.Span(e,i,a+1),e.charAt(i));if(t.isLetter(o))return r("Letter",u=n.Span(e,i,a+1),e.charAt(i));if(t.isBackslash(o)){if(a+=1,t.isLetter(e.charCodeAt(a))){for(;t.isLetter(e.charCodeAt(a));)a+=1;var u=n.Span(e,i,a),c=n.slice(u);return r(p[c]||"Cmd",u,c)}return a+=1,r("EscapedSymbol",u=n.Span(e,i,a),c=n.slice(u))}if(t.isSingleQuote(o)){for(a+=1;t.isSingleQuote(e.charCodeAt(a));)a+=1;return"^"===e.charAt(a)?(a+=1,r("Primes^",u=n.Span(e,i,a),c=n.slice(u))):r("Primes",u=n.Span(e,i,a),c=n.slice(u))}u=n.Span(e,i,a+1),c=e.charAt(i);return r(s[c]||"Symbol",u,c)}(e,a);return function(e,t,n,r){return{input:e,prevSpan:t,pos:n,token:r}}(e,i,a,o)}function i(e){return a(e.input,e.token.span.end,e.token.span)}function o(e){return e.token}Object.defineProperty(e,"__esModule",{value:!0}),e.isDone=e.isAt=e.eat=e.peek=e.advance=e.lex=e.LatexToken=e.spanStates=void 0,e.spanStates=function(e,t){return n.joinSpans(e.token.span,t.prevSpan)},e.LatexToken=r,e.lex=function(e){return a(e,0,n.emptySpanAt(e,0))},e.advance=i,e.peek=o,e.eat=function(e,t){if(o(e).type!==t)throw"Parse Error: expected "+t+".";return i(e)},e.isAt=function(e,t){return o(e).type===t},e.isDone=function(e){return e.pos>=e.input.length};var p={"\\\\left":"Left","\\\\right":"Right","\\\\sqrt":"Sqrt","\\\\frac":"Frac","\\\\operatorname":"OperatorName","\\\\token":"Token"},s={"[":"[","]":"]","{":"{","}":"}","^":"^",_:"_"}});\ndefine(\'core/math/parser/latex-node\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Symbol=e.TokenNode=e.OperatorName=e.LeftRight=e.SupSub=e.Frac=e.Sqrt=e.Group=void 0,e.Group=function(e,r){return{type:"Group",span:e,args:r}},e.Sqrt=function(e,r,t){return{type:"Sqrt",span:e,optArg:r,arg:t}},e.Frac=function(e,r,t){return{type:"Frac",span:e,num:r,den:t}},e.SupSub=function(e,r,t,n){return{type:"SupSub",span:e,sup:r,sub:t,nprimes:n}},e.LeftRight=function(e,r,t,n){return{type:"LeftRight",span:e,left:r,right:t,arg:n}},e.OperatorName=function(e,r){return{type:"OperatorName",span:e,arg:r}},e.TokenNode=function(e,r){return{type:"TokenNode",span:e,arg:r}},e.Symbol=function(e,r){return{type:"Symbol",span:e,val:r}}});\ndefine(\'core/math/parser/latex-parser\',["require","exports","./latex-lexer","./input-span","./latex-node"],function(require,e,r,a,t){"use strict";function s(e){switch(e){case"Frac":return 2;case"^":case"_":case"Primes^":case"Left":case"Sqrt":case"OperatorName":case"Token":return 1;default:return 0}}function n(e,r){return{state:e,tree:r}}function c(e,a){var s,c=e,p=[];e:for(;!r.isDone(e);){var u=r.peek(e);switch(u.type){case"Cmd":case"EscapedSymbol":case"Letter":case"Digit":case"Symbol":case"[":case"{":case"^":case"_":case"Primes":case"Primes^":case"Left":case"Frac":case"Sqrt":case"OperatorName":case"Token":case"]":if("]"===u.type&&a)break e;var i;if(e=(s=o(e)).state,"Group"===(i=s.tree).type)for(var v=0,f=i.args;v<f.length;v++){var d=f[v];p.push(d)}else p.push(i);break;case"}":case"Right":case"End":break e;default:throw"Unexpected token type "+u.type+"."}}var l=r.spanStates(c,e);return n(e,t.Group(l,p))}function o(e){var a,s=r.peek(e);switch(s.type){case"Cmd":case"EscapedSymbol":case"Letter":case"Digit":case"Symbol":return n(e=r.advance(e),s);case"[":case"]":return n(e=r.advance(e),t.Symbol(s.span,s.val));case"{":var o;return e=(a=c(e=r.advance(e),!1)).state,o=a.tree,n(e=r.eat(e,"}"),o);case"^":case"_":case"Primes":case"Primes^":return function(e){var a,s,c,o,u,i=e,v=0;e:for(;!r.isDone(e);){var f=r.peek(e);switch(f.type){case"^":if(e=r.advance(e),o)throw"Parse Error: double superscript.";e=(a=p(e,f)).state,o=a.tree;break;case"_":if(e=r.advance(e),u)throw"Parse Error: double subscript.";e=(s=p(e,f)).state,u=s.tree;break;case"Primes":if(e=r.advance(e),v>0)throw"Parse Error: double primes.";v=f.val.length;break;case"Primes^":if(e=r.advance(e),v>0)throw"Parse Error: double primes.";if(o)throw"Parse Error: double superscript";v=f.val.length-1,e=(c=p(e,f)).state,o=c.tree;break;default:break e}}var d=r.spanStates(i,e);return n(e,t.SupSub(d,o,u,v))}(e);case"Left":return function(e){var a,s=e;e=r.eat(e,"Left");var o,p=r.peek(e);e=r.advance(e),a=c(e,!1),e=a.state,o=a.tree,e=r.eat(e,"Right");var u=r.peek(e);e=r.advance(e);var i=r.spanStates(s,e);return n(e,t.LeftRight(i,p,u,o))}(e);case"Frac":return function(e){var a,s,c,o,u=e,i=r.peek(e);e=r.eat(e,"Frac"),a=p(e,i),e=a.state,c=a.tree,s=p(e,i),e=s.state,o=s.tree;var v=r.spanStates(u,e);return n(e,t.Frac(v,c,o))}(e);case"Sqrt":return function(e){var a,s,o,u,i=e,v=r.peek(e);e=r.eat(e,"Sqrt"),r.isAt(e,"[")&&(a=function(e){var a,t;return e=r.eat(e,"["),a=c(e,!0),e=a.state,t=a.tree,n(e=r.eat(e,"]"),t)}(e),e=a.state,o=a.tree);s=p(e,v),e=s.state,u=s.tree;var f=r.spanStates(i,e);return n(e,t.Sqrt(f,o,u))}(e);case"OperatorName":return function(e){var a,s,c=e,o=r.peek(e);e=r.eat(e,"OperatorName"),a=p(e,o),e=a.state,s=a.tree;var u=r.spanStates(c,e);return n(e,t.OperatorName(u,s))}(e);case"Token":return function(e){var a,s,c=e,o=r.peek(e);e=r.eat(e,"Token"),a=p(e,o),e=a.state,s=a.tree;var u=r.spanStates(c,e);return n(e,t.TokenNode(u,s))}(e);case"}":case"Right":throw"Parse Error: unexpected "+s.val+".";case"End":throw"Parse Error: unexpected end.";default:throw"Unexpected token type "+s.type+"."}}function p(e,c){var p,u,i=s(c.type);if(i<=0)throw new Error("Programming Error: greediness must be greater than 0.");var v=s(r.peek(e).type);if(v>0&&v<=i){var f=a.slice(c.span);throw"Parse Error: can\'t use "+a.slice(r.peek(e).span)+" as argument of "+f+". Use {}."}return e=(p=o(e)).state,"Group"!==(u=p.tree).type&&(u=t.Group(u.span,[u])),n(e,u)}Object.defineProperty(e,"__esModule",{value:!0}),e.parse=void 0,e.parse=function(e){var t=c(r.lex(e),!1),s=t.state,n=t.tree;if(!r.isDone(s))throw"Parse error: unexpected "+a.slice(r.peek(s).span)+".";return n}});\ndefine(\'core/math/parser/command-aliases\',["require","exports","./char-codes"],function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.translateCmd=void 0;var s={mcd:"gcd",gcf:"gcd",mcm:"lcm",signum:"sign",sgn:"sign",stdDevP:"stdevp",stddevp:"stdevp",stdDev:"stdev",stddev:"stdev",variance:"var",TTest:"ttest",TScore:"tscore",IndependentTTest:"ittest",iTTest:"ittest",inverseCdf:"quantile",inversecdf:"quantile",arsinh:"arcsinh",arcosh:"arccosh",artanh:"arctanh",arcsch:"arccsch",arsech:"arcsech",arcoth:"arccoth"};e.translateCmd=function(e){for(var c=0;t.isBackslash(e.charCodeAt(c));)c+=1;return c>0&&(e=e.slice(c)),s[e]||e}});\ndefine(\'core/math/parser/surface-node\',["require","exports","./command-aliases"],function(require,n,t){"use strict";function e(n){if("Subscript"===n.type){if("Alphanumeric"!==n.args[1].type)return!1;n=n.args[0]}switch(n.type){case"Cmd":case"Letter":return!0;default:return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.unwrapSeq=n.isDerivative=n.isSuperscriptedIdentifier=n.isIdentifier=n.MixedNumber=n.Alphanumeric=n.Cmd=n.Decimal=n.Letter=n.Juxt=n.RightArrow=n.PercentOf=n.Dot=n.For=n.Ellipsis=n.Colon=n.EmptyRangeEnd=n.EmptyPiecewise=n.Piecewise=n.Product=n.Sum=n.EmptyIntegral=n.Integral=n.Derivative=n.Frac=n.Nthroot=n.Sqrt=n.Seq=n.Prime=n.Superscript=n.Subscript=n.Pipes=n.List=n.Paren=n.Index=n.ImplicitCall=n.Call=n.Bang=n.Div=n.Mul=n.Sub=n.Add=n.Neg=n.Pos=n.Tilde=n.InequalityChain=n.TrailingInequalityPiece=n.Inequality=n.Equals=void 0,n.Equals=function(n,t){return{type:"Equals",span:n,args:t}},n.Inequality=function(n,t,e){return{type:"Inequality",span:n,symbol:t,args:e}},n.TrailingInequalityPiece=function(n,t,e){return{type:"TrailingInequalityPiece",span:n,symbol:t,args:e}},n.InequalityChain=function(n,t,e){return{type:"InequalityChain",span:n,first:t,chain:e}},n.Tilde=function(n,t){return{type:"Tilde",span:n,args:t}},n.Pos=function(n,t){return{type:"Pos",span:n,args:t}},n.Neg=function(n,t){return{type:"Neg",span:n,args:t}},n.Add=function(n,t){return{type:"Add",span:n,args:t}},n.Sub=function(n,t){return{type:"Sub",span:n,args:t}},n.Mul=function(n,t){return{type:"Mul",span:n,args:t}},n.Div=function(n,t){return{type:"Div",span:n,args:t}},n.Bang=function(n,t){return{type:"Bang",span:n,args:t}},n.Call=function(n,t){return{type:"Call",span:n,args:t}},n.ImplicitCall=function(n,t){return{type:"ImplicitCall",span:n,args:t}},n.Index=function(n,t){return{type:"Index",span:n,args:t}},n.Paren=function(n,t){return{type:"Paren",span:n,args:t}},n.List=function(n,t){return{type:"List",span:n,args:t}},n.Pipes=function(n,t){return{type:"Pipes",span:n,args:t}},n.Subscript=function(n,t){return{type:"Subscript",span:n,args:t}},n.Superscript=function(n,t){return{type:"Superscript",span:n,args:t}},n.Prime=function(n,t,e){return{type:"Prime",span:n,nprimes:t,args:e}},n.Seq=function(n,t){return{type:"Seq",span:n,args:t}},n.Sqrt=function(n,t){return{type:"Sqrt",span:n,args:t}},n.Nthroot=function(n,t){return{type:"Nthroot",span:n,args:t}},n.Frac=function(n,t){return{type:"Frac",span:n,args:t}},n.Derivative=function(n,t){return{type:"Derivative",span:n,args:t}},n.Integral=function(n,t){return{type:"Integral",span:n,args:t}},n.EmptyIntegral=function(n,t){return{type:"EmptyIntegral",span:n,args:t}},n.Sum=function(n,t){return{type:"Sum",span:n,args:t}},n.Product=function(n,t){return{type:"Product",span:n,args:t}},n.Piecewise=function(n,t){return{type:"Piecewise",span:n,args:t}},n.EmptyPiecewise=function(n){return{type:"EmptyPiecewise",span:n}},n.EmptyRangeEnd=function(n){return{type:"EmptyRangeEnd",span:n}},n.Colon=function(n,t){return{type:"Colon",span:n,args:t}},n.Ellipsis=function(n,t){return{type:"Ellipsis",span:n,args:t}},n.For=function(n,t){return{type:"For",span:n,args:t}},n.Dot=function(n,t){return{type:"Dot",span:n,args:t}},n.PercentOf=function(n,t){return{type:"PercentOf",span:n,args:t}},n.RightArrow=function(n,t){return{type:"RightArrow",span:n,args:t}},n.Juxt=function(n,t){return{type:"Juxt",span:n,args:t}},n.Letter=function(n,t){return{type:"Letter",span:n,val:t}},n.Decimal=function(n,t){return{type:"Decimal",span:n,val:t}},n.Cmd=function(n,e){return{type:"Cmd",span:n,val:t.translateCmd(e)}},n.Alphanumeric=function(n,t){return{type:"Alphanumeric",span:n,val:t}},n.MixedNumber=function(n,t,e,r){return{type:"MixedNumber",span:n,whole:t,num:e,den:r}},n.isIdentifier=e,n.isSuperscriptedIdentifier=function(n){return"Superscript"===n.type&&e(n.args[0])},n.isDerivative=function(n,t){if("Letter"!==n.type||"d"!==n.val)return!1;if("Juxt"!==t.type)return!1;var r=t.args,i=r[0],a=r[1];return"Letter"===i.type&&"d"===i.val&&e(a)},n.unwrapSeq=function(n){return"Seq"===n.type?n.args:[n]}});\ndefine(\'core/math/parser/surface-node-error\',["require","exports"],function(require,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenWithSubscript=t.UnexpectedFor=t.AdjacentNumbers=t.FractionEmpty=t.FractionMissingDenominator=t.FractionMissingNumerator=t.DifferentialWithSuperscript=t.IntegralMissingDifferential=t.DerivativeMissingBody=t.IntegralMissingBody=t.ProductMissingBody=t.SumMissingBody=t.IntegralMissingBound=t.MissingBound=t.ProductMissingBound=t.SumMissingBound=t.UnexpectedPrime=t.SuperscriptWithPrime=t.PrimeWithoutParen=t.PercentMissingOf=t.FunctionMissingArgument=t.UnexpectedSubscript=t.InvalidSubscript=t.InvalidOperatorName=t.UnrecognizedSymbol=t.UnexpectedDifferential=t.UnexpectedCloseDelimiter=t.MissingCloseDelimiter=t.UnaryOperatorMissingLeft=t.UnaryOperatorMissingRight=t.BinaryOperatorMissingLeft=t.BinaryOperatorMissingRight=t.UnexpectedEnd=t.EmptyRadicalIndex=t.EmptyPipe=t.EmptySquareBracket=t.EmptyRadical=t.EmptySuperscript=t.EmptySubscript=t.EmptyGroup=t.EmptyInput=t.UnexpectedParseError=t.Err=void 0,t.Err=function(t,n){return{type:"Err",span:t,error:n}},t.UnexpectedParseError=function(){return{type:"UnexpectedParseError"}},t.EmptyInput=function(){return{type:"EmptyInput"}},t.EmptyGroup=function(){return{type:"EmptyGroup"}},t.EmptySubscript=function(){return{type:"EmptySubscript"}},t.EmptySuperscript=function(){return{type:"EmptySuperscript"}},t.EmptyRadical=function(){return{type:"EmptyRadical"}},t.EmptySquareBracket=function(){return{type:"EmptySquareBracket"}},t.EmptyPipe=function(){return{type:"EmptyPipe"}},t.EmptyRadicalIndex=function(){return{type:"EmptyRadicalIndex"}},t.UnexpectedEnd=function(){return{type:"UnexpectedEnd"}},t.BinaryOperatorMissingRight=function(t){return{type:"BinaryOperatorMissingRight",val:t}},t.BinaryOperatorMissingLeft=function(t){return{type:"BinaryOperatorMissingLeft",val:t}},t.UnaryOperatorMissingRight=function(t){return{type:"UnaryOperatorMissingRight",val:t}},t.UnaryOperatorMissingLeft=function(t){return{type:"UnaryOperatorMissingLeft",val:t}},t.MissingCloseDelimiter=function(t,n){return{type:"MissingCloseDelimiter",open:t,close:n}},t.UnexpectedCloseDelimiter=function(t,n){return{type:"UnexpectedCloseDelimiter",open:t,close:n}},t.UnexpectedDifferential=function(){return{type:"UnexpectedDifferential"}},t.UnrecognizedSymbol=function(t){return{type:"UnrecognizedSymbol",val:t}},t.InvalidOperatorName=function(t){return{type:"InvalidOperatorName",val:t}},t.InvalidSubscript=function(t){return{type:"InvalidSubscript",val:t}},t.UnexpectedSubscript=function(t){return{type:"UnexpectedSubscript",base:t}},t.FunctionMissingArgument=function(t){return{type:"FunctionMissingArgument",val:t}},t.PercentMissingOf=function(){return{type:"PercentMissingOf"}},t.PrimeWithoutParen=function(){return{type:"PrimeWithoutParen"}},t.SuperscriptWithPrime=function(){return{type:"SuperscriptWithPrime"}},t.UnexpectedPrime=function(){return{type:"UnexpectedPrime"}},t.SumMissingBound=function(){return{type:"SumMissingBound"}},t.ProductMissingBound=function(){return{type:"ProductMissingBound"}},t.MissingBound=function(){return{type:"MissingBound"}},t.IntegralMissingBound=function(){return{type:"IntegralMissingBound"}},t.SumMissingBody=function(){return{type:"SumMissingBody"}},t.ProductMissingBody=function(){return{type:"ProductMissingBody"}},t.IntegralMissingBody=function(){return{type:"IntegralMissingBody"}},t.DerivativeMissingBody=function(){return{type:"DerivativeMissingBody"}},t.IntegralMissingDifferential=function(){return{type:"IntegralMissingDifferential"}},t.DifferentialWithSuperscript=function(){return{type:"DifferentialWithSuperscript"}},t.FractionMissingNumerator=function(){return{type:"FractionMissingNumerator"}},t.FractionMissingDenominator=function(){return{type:"FractionMissingDenominator"}},t.FractionEmpty=function(){return{type:"FractionEmpty"}},t.AdjacentNumbers=function(t){return{type:"AdjacentNumbers",args:t}},t.UnexpectedFor=function(){return{type:"UnexpectedFor"}},t.TokenWithSubscript=function(){return{type:"TokenWithSubscript"}}});\ndefine(\'core/math/parser/expression-token-tables\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allTokenTypes=e.rightTable=e.leftTable=e.escapedSymbolTable=e.symbolTable=e.commandTable=void 0;e.commandTable={"\\\\lt":"<","\\\\gt":">","\\\\le":"<=","\\\\ge":">=","\\\\leq":"<=","\\\\geq":">=","\\\\ldots":"...","\\\\sim":"~","\\\\to":"->","\\\\cdot":"*","\\\\times":"*","\\\\div":"/","\\\\ln":"Ln","\\\\log":"Log","\\\\int":"Int","\\\\sum":"Sum","\\\\prod":"Prod","\\\\backslash":"Err","\\\\for":"for"};for(var a=0,l=["sin","cos","tan","cot","sec","csc"];a<l.length;a++){var o=l[a];e.commandTable["\\\\"+o]="Trig",e.commandTable["\\\\"+o+"h"]="Trig",e.commandTable["\\\\arc"+o]="Trig",e.commandTable["\\\\arc"+o+"h"]="Trig",e.commandTable["\\\\ar"+o+"h"]="Trig"}e.symbolTable={"+":"+","-":"-","*":"*","/":"/","!":"!","(":"(",")":")","[":"[","]":"]",",":",","...":"...",":":":","=":"=",">=":">=","<=":"<=",">":">","<":"<","~":"~",".":"."},e.escapedSymbolTable={"\\\\{":"\\\\{","\\\\}":"\\\\}","\\\\%":"%"},e.leftTable={"|":"(|","\\\\{":"\\\\{","[":"[","(":"("},e.rightTable={"|":"|)","\\\\}":"\\\\}","]":"]",")":")"},e.allTokenTypes=Object.keys({"+":!0,"-":!0,"*":!0,"/":!0,"!":!0,"(":!0,")":!0,"\\\\{":!0,"\\\\}":!0,"(|":!0,"|)":!0,"[":!0,"]":!0,",":!0,"...":!0,":":!0,"=":!0,">":!0,"<":!0,">=":!0,"<=":!0,"->":!0,"~":!0,"%":!0,".":!0,for:!0,Letter:!0,Decimal:!0,Cmd:!0,TokenNode:!0,Differential:!0,End:!0,Trig:!0,Ln:!0,Log:!0,Int:!0,Sum:!0,Prod:!0,Err:!0})});\ndefine(\'core/math/parser/expression-lexer\',["require","exports","./expression-token-tables","./input-span","./input-span","./surface-node"],function(require,e,n,r,t,a){"use strict";function s(e,n,r,t,a,s,i,p){return{opts:e,input:n,prevSpan:r,startIndex:t,endIndex:a,token:s,mode:i,parent:p}}function i(e,n,r){return{type:e,span:n,val:r}}function p(e,r,t,a,p,u){var f=r.args;if(t>f.length&&u)return o(u,a);var v=g(r,t=m(f,t),p),d=v.token,y=v.endIndex;if("End"===d.type&&u){var S=u.input.args[u.startIndex];if("LeftRight"===S.type){var h=S.right;return s(e,r,a,t,y,i(n.rightTable[h.val]||"Err",h.span,h.val),p,u)}}else"Int"===d.type?p=l(p):"Differential"===d.type&&(p=c(p));return s(e,r,a,t,y,d,p,u)}function o(e,n){var r=e.input,t=e.endIndex,a=e.mode,s=e.parent;return p(e.opts,r,t+1,n,a,s)}function u(e){return e.token}function l(e){return{type:"integral",parent:e}}function c(e){if(!e||"integral"!==e.type)throw new Error("Programming Error: expected lexer to be in integral mode.");return e.parent}function f(e,n){return{token:n,endIndex:e}}function g(e,t,a){if(t>=e.args.length)return f(t,i("End",r.emptySpanAt(e.span.input,e.span.end),""));var s=e.args[t];switch(s.type){case"Sqrt":case"Frac":case"SupSub":return f(t,s);case"Letter":if(!a||"integral"!==a.type)return f(t,s);if("d"!=s.val)return f(t,s);var p=g(e,t+1,a),o=p.endIndex,u=p.token;return"Letter"===u.type||"Cmd"===u.type?f(o,function(e,n){return{type:"Differential",span:e,val:n}}(r.joinSpans(s.span,u.span),u.val)):f(t,s);case"LeftRight":var l=s.left;return f(t,i(n.leftTable[l.val]||"Err",r.joinSpans(s.span,l.span),l.val));case"OperatorName":for(var c=[],d=0,h=s.arg.args;d<h.length;d++){var b=h[d];if("Letter"!==b.type)return f(t,i("Err",s.span,r.slice(s.arg.span)));c.push(b.val)}var k="\\\\"+c.join("");return f(t,i(n.commandTable[k]||"Cmd",s.span,k));case"TokenNode":var x="$";if(0===s.arg.args.length)return f(t,i("Err",s.span,r.slice(s.arg.span)));for(var j=0,E=s.arg.args;j<E.length;j++){var I=E[j];if("Digit"!==I.type)return f(t,i("Err",s.span,r.slice(s.arg.span)));x+=I.val}return f(t,i("TokenNode",s.span,x));case"Cmd":return f(t,i(n.commandTable[s.val]||"Cmd",s.span,s.val));case"EscapedSymbol":return f(t,i(n.escapedSymbolTable[s.val]||"Err",s.span,s.val));case"Symbol":return function(e,t,a){switch(a.val){case".":return function(e,t){var a=e.args[t];if("Symbol"!==a.type||"."!==a.val)throw new Error("Programming Error: expected \'.\'");if(t+2<e.args.length&&y(e.args[t+1])&&y(e.args[t+2])){var s=r.joinSpans(a.span,e.args[t+2].span);return f(t+2,i("...",s,r.slice(s)))}var p=m(e.args,t+1);if(p<e.args.length&&"Digit"===e.args[p].type)return v(e,t);var o=n.symbolTable[a.val]||"Err";return f(t,i(o,a.span,a.val))}(e,t);case"-":if((s=e.args[t+1])&&S(s,">"))return f(t+1,i("->",r.joinSpans(a.span,s.span),"->"));break;case"<":if((s=e.args[t+1])&&S(s,"="))return f(t+1,i("<=",r.joinSpans(a.span,s.span),"<="));break;case">":var s;if((s=e.args[t+1])&&S(s,"="))return f(t+1,i(">=",r.joinSpans(a.span,s.span),">="))}var p=n.symbolTable[a.val]||"Err";return f(t,i(p,a.span,a.val))}(e,t,s);case"Digit":return v(e,t);default:throw"Unexpected atom "+s.type+"."}}function v(e,n){var t=function(e,n){for(var t=e.args,s=t[n].span,i=[];n<t.length;n++){var p=m(t,n);if(p>=t.length)break;if("Digit"!==(S=t[p]).type)break;n=p,i.push(S.val)}if((n=m(t,n))>=t.length)return;var o=t[n];if("Frac"!==o.type)return;for(var u=[],l=[],c=0,g=o.num.args;c<g.length;c++){if(!d(S=g[c])){if("Digit"!==S.type)return;u.push(S.val)}}for(var v=0,y=o.den.args;v<y.length;v++){var S;if(!d(S=y[v])){if("Digit"!==S.type)return;l.push(S.val)}}var h=r.joinSpans(s,o.span);return f(n,a.MixedNumber(h,i.join(""),u.join(""),l.join("")))}(e,n);if(t)return t;for(var s=e.args,p=e.args[n].span,o=[],u=!1,l=!1;n<s.length;n++){var c=m(s,n);if(c>=s.length)break;var g=s[c];if("Digit"===g.type)n=c,u=!0,o.push(g.val);else{if(l||!y(g))break;if(c+1<s.length&&y(e.args[c+1]))break;n=c,l=!0,o.push(".")}}if(!u)throw new Error("Programming Error: decimals must have at least one digit.");return f(n-1,i("Decimal",r.joinSpans(p,e.args[n-1].span),o.join("")))}function d(e){switch(e.type){case"Sqrt":case"Frac":case"SupSub":case"LeftRight":case"OperatorName":case"TokenNode":case"Symbol":case"Letter":case"Digit":return!1;case"Cmd":return"\\\\space"===e.val;case"EscapedSymbol":return"\\\\ "===e.val||"\\\\:"===e.val||"\\\\,"===e.val||"\\\\;"===e.val;default:throw"Unexpected atom "+e.type+"."}}function m(e,n){for(;n<e.length&&d(e[n]);)n+=1;return n}function y(e){return S(e,".")}function S(e,n){return"Symbol"===e.type&&e.val===n}Object.defineProperty(e,"__esModule",{value:!0}),e.didAdvance=e.isDone=e.isAt=e.endIntegral=e.beginIntegral=e.peek=e.advance=e.lexAt=e.lex=e.emptySpanAtState=e.joinState=e.spanStates=e.Span=void 0,Object.defineProperty(e,"Span",{enumerable:!0,get:function(){return t.Span}}),e.spanStates=function(e,n){return r.joinSpans(e.token.span,n.prevSpan)},e.joinState=function(e,n){return r.joinSpans(e,n.prevSpan)},e.emptySpanAtState=function(e){return r.emptySpanAt(e.token.span.input,e.token.span.start)},e.lex=function(e,n){return p(n,e,0,r.emptySpanAt(e.span.input,e.span.start),undefined,undefined)},e.lexAt=p,e.advance=function(e){var n=e.input.args[e.startIndex],r=e.token.span;return n&&"LeftRight"===n.type?p(e.opts,n.arg,0,r,e.mode,e):o(e,r)},e.peek=u,e.beginIntegral=l,e.endIntegral=c,e.isAt=function(e,n){return u(e).type===n},e.isDone=function(e){return e.startIndex>=e.input.args.length},e.didAdvance=function(e,n){return n.token.span.start>e.token.span.start}});\ndefine(\'core/math/parser/precspec\',["require","exports","./expression-token-tables"],function(require,e,r){"use strict";function t(e,t){for(var n=0,i=r.allTokenTypes;n<i.length;n++){var o=i[n];if(void 0===t[o])throw new Error("Programming Error: token "+o+" must be a assigned a "+e+" precedence")}}function n(e,r,t,n){if(void 0!==r[t])throw new Error("Programming Error: duplicate "+e+" entry for token "+t+".");r[t]=n}Object.defineProperty(e,"__esModule",{value:!0}),e.precSpec=e.ra=e.la=e.r=e.l=e.initial=void 0,e.initial=function(e){return{type:"initial",tokenType:e}},e.l=function(e){return{type:"l",tokenType:e}},e.r=function(e){return{type:"r",tokenType:e}},e.la=function(e){return{type:"la",tokenType:e}},e.ra=function(e){return{type:"ra",tokenType:e}},e.precSpec=function(e){for(var r={},i={},o={},a=0;a<e.length;a++)for(var c=0,l=e[a];c<l.length;c++){var u=l[c],f=u.type,p=u.tokenType;switch(f){case"initial":n("initial",r,p,a);break;case"l":n("left",i,p,a);break;case"r":n("right",o,p,a);break;case"la":n("left",i,p,a),n("right",o,p,a);break;case"ra":n("left",i,p,a),n("right",o,p,a-1)}}function s(e){return o[e]}return t("left",i),t("right",o),{rightPrec:s,leftPrec:function(e){return i[e]},initialPrec:function(e){var t=r[e];return void 0===t?s(e):t}}}});\ndefine(\'core/math/inverses\',[],function(){"use strict";var c={};return["sin","cos","tan","cot","sec","csc","sinh","cosh","tanh","coth","sech","csch"].forEach(function(n){c[n]="arc"+n,c["arc"+n]=n}),c});\ndefine(\'core/math/parser/lower\',["require","exports","core/math/inverses","tslib","core/math/errormsg","./input-span","./surface-node","../maybe-rational"],function(require,e,r,t,a,n,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isLegalAssignmentLhs=e.isFunctionSignature=e.lower=void 0;var c=0;function u(e,r){for(var t=[],a=0;a<r.length;a++)t.push(d(e,r[a]));return t}function o(e){if("Call"===e.type){var r=e.args,t=r[0],a=r[1],n=s.unwrapSeq(a);return s.isIdentifier(t)&&n.every(s.isIdentifier)?{base:t,args:n}:void 0}}function p(e){return s.isIdentifier(e)}function l(e){if("Paren"!==e.type)return!1;var r=e.args[0];return"Seq"===r.type&&2===r.args.length}function d(e,r){return e.setInput(g(e,r),r.span)}function g(e,r){var t=e.nodes;switch(r.type){case"Pos":return g(e,r.args[0]);case"Neg":for(var o=-1,p=r.args[0];;)if("Pos"===p.type||"Paren"===p.type&&!l(p))p=p.args[0];else{if("Neg"!==p.type)break;p=p.args[0],o*=-1}switch(p.type){case"Decimal":var P=w(p);return t.Constant(-1===o?i.neg(P):P);case"MixedNumber":P=S(p);return t.MixedNumber(-1===o?i.neg(P):P);default:return-1===o?t.Negative([d(e,p)]):g(e,p)}case"Add":return t.Add(u(e,r.args));case"Sub":return t.Subtract(u(e,r.args));case"Mul":return t.Multiply(u(e,r.args));case"Div":return t.Divide(u(e,r.args));case"Bang":var M=r.args[0];return"Call"===M.type?t.FunctionFactorial(u(e,M.args)):t.FunctionCall("\\\\factorial",u(e,r.args));case"PercentOf":return t.PercentOf(u(e,r.args));case"Call":return m(e,r);case"ImplicitCall":return function(e){var r=e.args,t=r[0],n=r[1];"Superscript"===t.type&&(t=t.args[0]);if("Cmd"===t.type&&"logbase"===t.val&&"Seq"===n.type&&2===n.args.length){if(!I(n.args[0]))throw a.badImplicitCall("log")}else if(!I(n)){if("Cmd"===t.type)throw a.badImplicitCall(t.val);throw a.parseError()}}(r),m(e,r);case"Dot":var D=r.args[1],A=u(e,r.args),L=A[0],F=A[1];if(C(D)){var B=n.emptySpanAt(D.span.input,D.span.end),O=e.setInput(q(e),B);F=e.setInput(t.SeededFunctionCall(F,[O]),D.span)}else if("Letter"===D.type)switch(D.val){case"x":return t.OrderedPairAccess([L,t.Constant(1)]);case"y":return t.OrderedPairAccess([L,t.Constant(2)])}else if("Call"===D.type){if("Letter"===(U=D.args[0]).type)switch(U.val){case"x":return t.Multiply([t.OrderedPairAccess([L,t.Constant(1)]),d(e,D.args[1])]);case"y":return t.Multiply([t.OrderedPairAccess([L,t.Constant(2)]),d(e,D.args[1])])}}return t.DotAccess([L,F]);case"Prime":var N=r.args[0];if("Call"===N.type){var R=N.args,U=R[0],_=R[1],k=s.unwrapSeq(_).length;if("Cmd"===U.type&&"logbase"===U.val){if(2!==k)throw a.primedFunctionArity()}else if(1!==k)throw a.primedFunctionArity();return t.Prime(r.nprimes,u(e,r.args))}throw"ImplicitCall"===N.type?a.primeWithoutParen():a.unexpectedPrime();case"Index":var T=r.args,W=T[0],j=T[1];if("Seq"===j.type)return t.ListAccess([g(e,W),t.List(u(e,j.args))]);if("Ellipsis"===j.type){var z=j.args,H=z[0],J=z[1];return t.ListAccess([g(e,W),t.Range([t.List(u(e,s.unwrapSeq(H))),t.List("EmptyRangeEnd"===J.type?[]:u(e,s.unwrapSeq(J)))])])}return h(j)?t.ListAccess([g(e,W),v(e,j)]):t.ListAccess(u(e,r.args));case"Paren":var K=r.args[0];if("Seq"===K.type){if(0===K.args.length)throw a.emptyParen();return t.ParenSeq(u(e,K.args))}return g(e,K);case"List":if(0===r.args.length)return t.List([]);var G=r.args[0];if("Ellipsis"===G.type){var Q=G.args;H=Q[0],J=Q[1];return t.Range([t.List(u(e,s.unwrapSeq(H))),t.List(u(e,s.unwrapSeq(J)))])}if("For"===G.type){for(var V=G.args,X=V[0],Y=V[1],Z=e.setInput(t.Identifier("_comprehensionIndex_"+c++),X.span),$=d(E(e,{prefix:"li",expr:Z}),X),ee=[],re=0,te=s.unwrapSeq(Y);re<te.length;re++){var ae=te[re];if(!x(ae))throw a.listComprehensionIncorrectInput();ee.push(e.setInput(t.AssignmentExpression(u(e,ae.args)),ae.span))}return t.ListComprehension(Z,$,ee)}return t.List(u(e,s.unwrapSeq(G)));case"Pipes":return t.FunctionCall("\\\\abs",u(e,r.args));case"Subscript":var ne=r.args,se=ne[0],ie=ne[1];if(0===ie.val.length)throw a.emptySubscript();var ce=void 0;switch(se.type){case"Letter":case"Cmd":ce=se.val;break;default:throw a.unexpectedSubscript()}return t.Identifier(ce+"_"+ie.val);case"Superscript":var ue=r.args,oe=(se=ue[0],ue[1]);if("Call"!==se.type||"Seq"===se.args[1].type||function(e){if("Call"!==e.type)return!1;var r=e.args[0];for(;"Superscript"===r.type||"Subscript"===r.type||"Prime"===r.type;)r=r.args[0];return"Cmd"===r.type&&(f(r.val)||y(r.val))}(se)){if("Dot"===se.type){D=se.args[1];var pe=u(e,se.args),le=(L=pe[0],F=pe[1],d(e,oe));if("Letter"===D.type)switch(D.val){case"x":return t.Exponent([t.OrderedPairAccess([L,t.Constant(1)]),le]);case"y":return t.Exponent([t.OrderedPairAccess([L,t.Constant(2)]),le])}else if("Call"===D.type){if("Letter"===(U=D.args[0]).type)switch(U.val){case"x":return t.Multiply([t.OrderedPairAccess([L,t.Constant(1)]),t.Exponent([d(e,D.args[1]),le])]);case"y":return t.Multiply([t.OrderedPairAccess([L,t.Constant(2)]),t.Exponent([d(e,D.args[1]),le])])}}return t.Exponent([t.DotAccess([L,F]),le])}return t.Exponent(u(e,r.args))}return t.FunctionExponent(u(e,[se.args[0],se.args[1],oe]));case"Sqrt":return t.FunctionCall("sqrt",u(e,r.args));case"Nthroot":return t.FunctionCall("nthroot",u(e,[r.args[1],r.args[0]]));case"Frac":return t.Divide(u(e,r.args));case"Derivative":var de=u(e,r.args);if(!s.isIdentifier(r.args[0]))throw a.parseError();return t.Derivative(de[0],[de[1]]);case"Integral":var ge=r.args;de=u(e,[ye=ge[0],ge[1],he=ge[2],ve=ge[3]]);return t.Integral(de);case"EmptyIntegral":var fe=u(e,r.args),ye=fe[0],me=fe[1],he=fe[2],ve=t.Constant(i.maybeRational(1,1));return t.Integral([ye,me,he,ve]);case"Sum":var we=r.args,Se=(X=we[0],we[1]);he=we[2];if(!x(Se))throw a.incorrectSumLowerBound();var xe=d(E(e,{prefix:"ro",expr:(de=u(e,[Se.args[0],Se.args[1],he]))[0]}),X);return t.Sum(de.concat(xe));case"Product":var be=r.args,Ie=(X=be[0],be[1]);he=be[2];if(!x(Ie))throw a.incorrectProductLowerBound();xe=d(E(e,{prefix:"ro",expr:(de=u(e,[Ie.args[0],Ie.args[1],he]))[0]}),X);return t.Product(de.concat(xe));case"Juxt":return t.Multiply(u(e,r.args));case"Letter":return t.Identifier(r.val);case"Cmd":var Ce=r.val;switch(Ce){case"ans":if(void 0===e.currentIndex)throw a.badSymbolContext("ans");return t.Ans("ans_{"+(e.currentIndex-1)+"}");case"approx":throw a.unrecognizedSymbol(Ce);case"dt":if(!e.allowDt)throw a.badSymbolContext(Ce);return t.Identifier(Ce);case"index":if(!e.allowIndex)throw a.badSymbolContext(Ce);return t.Identifier(Ce);default:return t.Identifier(Ce)}case"Decimal":return t.Constant(w(r));case"MixedNumber":return t.MixedNumber(S(r));case"Piecewise":return function(e,r){var t,n=e.nodes,c=r.args[0],u=s.unwrapSeq(c),o=[];e:for(t=0;t<u.length;t++){var p=u[t];switch(p.type){case"Colon":var l=p.args,g=l[0],f=l[1];if(!h(g))throw a.colonMissingCondition();o.push({condition:v(e,g),if_expr:d(e,f)});break;case"Equals":case"Inequality":case"InequalityChain":o.push({condition:v(e,p),if_expr:n.Constant(i.maybeRational(1,1))});break;default:break e}}if(0===t)throw a.piecewiseMissingCondition();if(t<u.length-1)throw a.piecewisePartMissingCondition();var y=t===u.length-1?d(e,u[t]):n.Constant(NaN);if(!n.Piecewise.chain)throw a.featureUnavailable();return n.Piecewise.chain(o,y)}(e,r);case"RightArrow":return function(e,r){var t=e.nodes;if(!s.isIdentifier(r.args[0]))throw a.updateRuleNonIdentifierLHS();return e=E(e,{prefix:"ec",expr:e.setInput(t.Identifier("globalEventCount"),n.emptySpanAt(r.span.input,r.span.start))}),t.UpdateRule(u(e,r.args))}(e,r);case"Seq":return t.BareSeq(u(e,r.args));case"EmptyPiecewise":if(!t.Piecewise.empty)throw a.featureUnavailable();return t.Piecewise.empty();case"Equals":throw a.unexpectedSymbol("=");case"Inequality":case"InequalityChain":throw a.unexpectedInequality();case"Tilde":throw a.unexpectedSymbol("~");case"Colon":throw a.unexpectedSymbol(":");case"Ellipsis":throw a.unexpectedSymbol("...");case"For":throw a.unexpectedForKeyword();case"EmptyRangeEnd":throw a.invalidHalfEmptyRange();case"Err":throw function(e){switch(e.type){case"UnexpectedParseError":case"MissingBound":case"EmptyGroup":case"UnexpectedDifferential":case"UnexpectedEnd":return a.parseError();case"InvalidOperatorName":return a.invalidOperatorName();case"UnexpectedCloseDelimiter":case"MissingCloseDelimiter":return a.mismatchedBraces(e.open,e.close);case"UnrecognizedSymbol":return"."===e.val?a.unexpectedSymbol(e.val):a.unrecognizedSymbol(e.val);case"EmptyInput":return a.blankExpression();case"BinaryOperatorMissingRight":case"BinaryOperatorMissingLeft":return a.binaryOperatorMissingOperand("%"===e.val?"% of":e.val);case"UnaryOperatorMissingLeft":return a.unaryOperatorMissingLeft(e.val);case"UnaryOperatorMissingRight":return a.unaryOperatorMissingRight(e.val);case"UnexpectedSubscript":return a.cannotSubscript(e.base);case"PercentMissingOf":return a.percentMissingOf();case"SumMissingBound":return a.sumMissingBound();case"ProductMissingBound":return a.productMissingBound();case"IntegralMissingBound":return a.integralMissingBound();case"SumMissingBody":return a.sumMissingBody();case"ProductMissingBody":return a.productMissingBody();case"IntegralMissingBody":return a.integralMissingBody();case"DerivativeMissingBody":return a.derivativeMissingBody();case"IntegralMissingDifferential":return a.integralMissingDifferential();case"DifferentialWithSuperscript":return a.differentialWithSuperscript();case"FractionMissingNumerator":return a.fractionMissingNumerator();case"FractionMissingDenominator":return a.fractionMissingDenominator();case"FractionEmpty":return a.fractionEmpty();case"EmptySuperscript":return a.emptySuperscript();case"EmptySubscript":return a.emptySubscript();case"InvalidSubscript":return a.invalidSubscript(e.val);case"SuperscriptWithPrime":return a.superscriptWithPrime();case"PrimeWithoutParen":return a.primeWithoutParen();case"UnexpectedPrime":return a.unexpectedPrime();case"EmptyRadical":return a.emptyRadical();case"EmptyRadicalIndex":return a.emptyRadicalIndex();case"EmptySquareBracket":return a.emptySquareBracket();case"EmptyPipe":return a.emptyPipe();case"FunctionMissingArgument":return a.wrongArity(e.val,1,0);case"AdjacentNumbers":return a.adjacentNumbers(b(e.args[0]),b(e.args[1]));case"TokenWithSubscript":return a.tokenWithSubscript();case"UnexpectedFor":return a.unexpectedForKeyword();default:throw"Unexpected surface node "+e.type+"."}}(r.error);default:throw"Unexpected surface node "+r.type+"."}}function f(e){return r.hasOwnProperty(e)}function y(e){return"ln"===e||"log"===e||"logbase"===e}function m(e,t){var i=e.nodes,c=t.args,o=c[0],p=c[1],l=d(e,o),g=u(e,s.unwrapSeq(p));if(C(o)){var m=n.emptySpanAt(p.span.input,p.span.start),h=e.setInput(q(e),m);return i.SeededFunctionCall(l,[h].concat(g))}if(s.isIdentifier(o))return i.FunctionCall(l,g);if("Superscript"===o.type){var v=o.args,w=v[0],S=v[1];if("Cmd"===w.type){var x=w.val;if(f(x)||y(x)){if(function(e){return"Decimal"===e.type&&"2"===e.val}(S))return i.Exponent([i.FunctionCall(x,g),d(e,S)]);if(function(e){return"Neg"===e.type&&"Decimal"===(e=e.args[0]).type&&"1"===e.val}(S)&&void 0!==r[x])return i.FunctionCall(r[x],g);throw f(x)?a.badTrigExponent(x):a.badLogExponent("logbase"===x?"log":x)}}}return i.Multiply([l,d(e,p)])}function h(e){return"Equals"===e.type||"Inequality"===e.type||"InequalityChain"===e.type}function v(e,r){var t=e.nodes;switch(r.type){case"Equals":return t.Comparator["="](u(e,r.args));case"Inequality":return t.Comparator[r.symbol](u(e,r.args));case"InequalityChain":if(r.chain.length>1)throw a.inequalityChainTooLong();var i=r.first,c=i.symbol,o=i.args,p=o[0],l=o[1],d=r.chain[0],g=d.symbol,f=d.args[0],y=n.emptySpanAt(r.span.input,r.span.start);return t.And([v(e,s.Inequality(y,c,[p,l])),v(e,s.Inequality(y,g,[l,f]))]);default:throw a.parseError()}}function w(e){return i.fromDecimalString(e.val)}function S(e){var r=i.fromDecimalString(e.whole),t=i.fromDecimalString(e.num),a=i.fromDecimalString(e.den);return i.add(r,i.div(t,a))}function x(e){return"Equals"===e.type&&s.isIdentifier(e.args[0])}function b(e){switch(e.type){case"Decimal":return e.val;case"MixedNumber":return e.whole+" "+e.num+"/"+e.den;default:throw new Error("Unexpected node type "+e.type)}}function I(e){switch(e.type){case"Letter":case"Decimal":case"MixedNumber":case"Cmd":case"EmptyPiecewise":return!0;case"Neg":for(var r=e.args[0];;)if("Pos"===r.type||"Paren"===r.type&&!l(r))r=r.args[0];else{if("Neg"!==r.type)break;r=r.args[0]}return"Decimal"===r.type||"MixedNumber"===r.type;case"Pos":case"Paren":return I(e.args[0]);case"Juxt":case"Mul":case"Div":return I(e.args[0])&&I(e.args[1]);case"Subscript":return I(e.args[0]);case"Superscript":case"Frac":case"Add":case"Sub":return I(e.args[0])&&I(e.args[1]);case"Piecewise":return"Equals"===(r=e.args[0]).type||"Inequality"===r.type||"InequalityChain"===r.type;case"Call":var t=e.args,a=t[0],n=t[1];return!s.isIdentifier(a)&&!s.isSuperscriptedIdentifier(a)&&(I(a)&&I(n));case"Derivative":case"Sqrt":case"Nthroot":case"Pipes":case"Bang":return!1;case"Equals":case"Inequality":case"InequalityChain":case"Tilde":case"ImplicitCall":case"Index":case"List":case"Seq":case"Integral":case"EmptyIntegral":case"Sum":case"Product":case"Colon":case"Ellipsis":case"For":case"Dot":case"PercentOf":case"Prime":case"EmptyRangeEnd":case"RightArrow":return!1;default:throw"Unexpected surface node "+e.type+"."}}function C(e){return"Cmd"===e.type&&("random"===e.val||"shuffle"===e.val)}function q(e){var r=e.nodes.ExtendSeed("",[e.nodes.Identifier("globalRandomSeed"),e.nodes.Seed(e.nextSeed())]);if(!e.seedExtensions)return r;for(var t=0,a=e.seedExtensions;t<a.length;t++){var n=a[t],s=n.prefix,i=n.expr;r=e.nodes.ExtendSeed(s,[r,i])}return r}function E(e,r){var a=e.seedExtensions||[];return t.__assign(t.__assign({},e),{seedExtensions:a.concat(r)})}e.lower=function(e,r){return function(e,r){return e.setInput(function(e,r){var t=e.nodes;switch(r.type){case"Equals":var n=r.args,i=n[0],c=n[1],l=o(i);if(l){var f=l.base,y=l.args;return t.FunctionDefinition(d(e,f),u(e,y),d(e,c))}return p(i)?t.Assignment(d(e,i),d(e,c)):t.Equation(d(e,i),d(e,c));case"Tilde":var m=u(e,r.args);i=m[0],c=m[1];return t.Regression(i,c);case"Inequality":return v(e,r);case"InequalityChain":if(r.chain.length>1)throw a.inequalityChainTooLong();var h=r.first,w=h.symbol,S=h.args,x=S[0],b=S[1],I=r.chain[0],C=I.symbol,q=I.args[0];return s.isIdentifier(b)?t.DoubleInequality([d(e,x),w,d(e,b),C,d(e,q)]):v(e,r);case"Call":var E=r.args,P=E[0],M=E[1];if("Cmd"===P.type)switch(P.val){case"histogram":return t.Histogram(u(e,s.unwrapSeq(M)));case"cube":case"sphere":case"cone":case"dodecahedron":case"octahedron":case"tetrahedron":return t.Object3D(u(e,s.unwrapSeq(M)),P.val);case"dotplot":return t.DotPlot(u(e,s.unwrapSeq(M)));case"boxplot":return t.BoxPlot(u(e,s.unwrapSeq(M)));case"ttest":return t.TTest(u(e,s.unwrapSeq(M)));case"ittest":return t.IndependentTTest(u(e,s.unwrapSeq(M)));case"stats":return t.Stats(u(e,s.unwrapSeq(M)));default:return g(e,r)}return g(e,r);default:return g(e,r)}}(e,r),r.span)}(e,r)},e.isFunctionSignature=function(e){return void 0!==o(e)},e.isLegalAssignmentLhs=p});\ndefine(\'core/math/parser/expression-parser\',["require","exports","tslib","core/math/errormsg","./surface-node","./surface-node-error","./input-span","./expression-lexer","./precspec","./lower"],function(require,e,r,t,a,n,s,i,p,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parse=void 0;var c=[[p.initial("("),p.la(")"),p.initial("\\\\{"),p.la("\\\\}"),p.r("["),p.la("]"),p.initial("(|"),p.la("|)"),p.la("Differential"),p.la("End")],[p.r("for")],[p.ra("...")],[p.la(",")],[p.ra(":")],[p.r("->")],[p.la("="),p.la(">"),p.la("<"),p.la(">="),p.la("<="),p.la("~")],[p.l("->")],[p.l("for")],[p.la("+"),p.la("-")],[p.la("*"),p.la("/"),p.la("Decimal"),p.la("MixedNumber"),p.la("Letter"),p.la("Cmd"),p.la("TokenNode"),p.la("%"),p.r("("),p.la("\\\\{"),p.la("(|"),p.la("Frac"),p.la("Sqrt"),p.la("Trig"),p.la("Ln"),p.la("Log"),p.ra("Int"),p.ra("Sum"),p.ra("Prod")],[p.initial("+"),p.initial("-")],[p.la("!")],[p.la("SupSub")],[p.l("["),p.la(".")],[p.l("(")],[p.la("Err")]],o=p.precSpec(c),l=o.leftPrec,d=o.rightPrec,E=o.initialPrec,f={trailingComma:!1};function y(e,r){var t=(void 0===r?{isToplevel:!1}:r).isToplevel;if(i.isDone(e))return n.Err(i.spanStates(e,e),n.EmptyGroup());var a=S(e,0,{isToplevel:t}),s=a.state,p=a.tree;return"Err"===p.type||i.isDone(s)?p:j(s).tree}function v(e,r){return{state:e,tree:r}}function S(e,r,s){var p,u,c,o=(void 0===s?{isToplevel:!1}:s).isToplevel,f=e;if(p=function(e){var r,s,p,u,c,o,d,f,g,b,x,P,C,w,B,I,L,N,O,T=e,q=i.peek(e),F=E(q.type);switch(q.type){case"+":if(e=(r=S(e=i.advance(e),F)).state,"Err"===(O=r.tree).type){if(!m(O.error))return v(e,O);var R=i.spanStates(T,e);return v(e,n.Err(R,n.UnaryOperatorMissingRight(q.val)))}return v(e,a.Pos(i.spanStates(T,e),[O]));case"-":if(e=(s=S(e=i.advance(e),F)).state,"Err"===(O=s.tree).type){if(!m(O.error))return v(e,O);R=i.spanStates(T,e);return v(e,n.Err(R,n.UnaryOperatorMissingRight(q.val)))}return v(e,a.Neg(i.spanStates(T,e),[O]));case"(":return A(e);case"\\\\{":return e=i.advance(e),i.isAt(e,"\\\\}")?v(e=i.advance(e),a.EmptyPiecewise(i.spanStates(T,e))):(e=(u=U(T,e=(p=S(e,F)).state,O=p.tree,"\\\\{","\\\\}")).state,"Err"===(O=u.tree).type?v(e,O):v(e,a.Piecewise(i.spanStates(T,e),[O])));case"[":return e=i.advance(e),i.isAt(e,"]")?v(e=i.advance(e),a.List(i.spanStates(T,e),[])):(e=(o=U(T,e=(c=S(e,F)).state,O=c.tree,"[","]")).state,"Err"===(O=o.tree).type?v(e,O):v(e,a.List(i.spanStates(T,e),[O])));case"(|":if(e=i.advance(e),i.isAt(e,"|)")){e=i.advance(e);R=i.spanStates(T,e);return v(e,n.Err(R,n.EmptyPipe()))}return e=(f=U(T,e=(d=S(e,F)).state,O=d.tree,"(|","|)")).state,"Err"===(O=f.tree).type?v(e,O):v(e,a.Pipes(i.spanStates(T,e),[O]));case"Frac":if(e.opts.disallowFrac)throw t.fractionsUnavailable();e=i.advance(e);var G=y(i.lex(q.num,e.opts)),_=y(i.lex(q.den,e.opts));if("Err"===G.type&&"EmptyGroup"===G.error.type&&"Err"===_.type&&"EmptyGroup"===_.error.type){R=i.spanStates(T,e);return v(e,n.Err(R,n.FractionEmpty()))}if("Err"===G.type&&"EmptyGroup"===G.error.type){R=i.spanStates(T,e);return v(e,n.Err(R,n.FractionMissingNumerator()))}if("Err"===_.type&&"EmptyGroup"===_.error.type){R=i.spanStates(T,e);return v(e,n.Err(R,n.FractionMissingDenominator()))}if("Err"===G.type)return v(e,G);if("Err"===_.type)return v(e,_);if(a.isDerivative(G,_)&&"Juxt"===_.type){var W=_.args[1],J=void 0;if(e=(g=S(e,l("*")-1)).state,"Err"===(J=g.tree).type){if(m(J.error)){R=i.spanStates(T,e);return v(e,n.Err(R,n.DerivativeMissingBody()))}return v(e,J)}return v(e,a.Derivative(i.spanStates(T,e),[W,J]))}return v(e,a.Frac(i.spanStates(T,e),[G,_]));case"Sqrt":if(e=i.advance(e),q.optArg){var z=y(i.lex(q.optArg,e.opts));return"Err"===z.type?"EmptyGroup"===z.error.type?v(e,n.Err(z.span,n.EmptyRadicalIndex())):v(e,z):"Err"===(H=y(i.lex(q.arg,e.opts))).type?"EmptyGroup"===H.error.type?v(e,n.Err(H.span,n.EmptyRadical())):v(e,H):v(e,a.Nthroot(i.spanStates(T,e),[z,H]))}var H;return"Err"===(H=y(i.lex(q.arg,e.opts))).type?"EmptyGroup"===H.error.type?v(e,n.Err(H.span,n.EmptyRadical())):v(e,H):v(e,a.Sqrt(i.spanStates(T,e),[H]));case"Trig":case"Ln":e=i.advance(e);var K=a.Cmd(i.spanStates(T,e),q.val),Q=0;if("SupSub"===(ie=i.peek(e)).type){if(e=i.advance(e),ie.sub){R=i.spanStates(T,e);return v(e,n.Err(R,n.UnexpectedSubscript(K.val)))}if(Z=h(ie,e.opts)){if("Err"===Z.type)return v(e,Z);K=a.Superscript(i.spanStates(T,e),[K,Z])}Q=ie.nprimes}if(V=i.isAt(e,"(")){if(e=(b=A(e)).state,"Err"===(O=b.tree).type)return v(e,O);O=a.Call(i.spanStates(T,e),[K,O.args[0]])}else{if(e=(x=S(e,F-1)).state,"Err"===(O=x.tree).type)return m(O.error)?v(e,n.Err(i.spanStates(T,e),n.FunctionMissingArgument(q.val))):v(e,O);O=a.ImplicitCall(i.spanStates(T,e),[K,O])}if(Q>0){R=i.spanStates(T,e);if(!V)return v(e,n.Err(R,n.PrimeWithoutParen()));O=a.Prime(R,Q,[O])}return v(e,O);case"Log":e=i.advance(e);var V,X=i.spanStates(T,e),Y=(K=a.Cmd(X,q.val),Q=0,void 0),Z=void 0;if("SupSub"===(ie=i.peek(e)).type&&(Y=M(ie,(e=i.advance(e)).opts),Z=h(ie,e.opts),Q=ie.nprimes),Y&&"Err"===Y.type)return v(e,Y);if(Z&&"Err"===Z.type)return v(e,Z);if(V=i.isAt(e,"(")){if(e=(P=A(e)).state,"Err"===(O=P.tree).type)return v(e,O);O=O.args[0]}else if(e=(C=S(e,F-1)).state,"Err"===(O=C.tree).type)return m(O.error)?v(e,n.Err(i.spanStates(T,e),n.FunctionMissingArgument(q.val))):v(e,O);var $=Y?a.Cmd(X,"\\\\logbase"):K,ee=Y?a.Seq(i.spanStates(T,e),a.unwrapSeq(O).concat(Y)):O;if(Z&&($=a.Superscript(i.spanStates(T,e),[$,Z])),O=V?a.Call(i.spanStates(T,e),[$,ee]):a.ImplicitCall(i.spanStates(T,e),[$,ee]),Q>0){R=i.spanStates(T,e);if(!V)return v(e,n.Err(R,n.PrimeWithoutParen()));O=a.Prime(R,Q,[O])}return v(e,O);case"Int":if(e=i.advance(e),"Err"===(te=D(ie=i.peek(e),T,e=i.advance(e))).type)return"MissingBound"===te.error.type?v(e,n.Err(te.span,n.IntegralMissingBound())):v(e,te);Z=te.sup,Y=te.sub,W=void 0;if(i.isAt(e,"Differential"))return e=(w=k(e)).state,"Err"===(W=w.tree).type?v(e,W):v(e,a.EmptyIntegral(i.spanStates(T,e),[W,Y,Z]));if(e=(B=S(e,F)).state,"Err"===(O=B.tree).type)return m(O.error)?v(e,n.Err(O.span,n.IntegralMissingBody())):v(e,O);var re=O;return i.isAt(e,"Differential")?(e=(I=k(e)).state,"Err"===(W=I.tree).type?v(e,W):v(e,a.Integral(i.spanStates(T,e),[W,Y,Z,re]))):v(e,n.Err(i.spanStates(T,e),n.IntegralMissingDifferential()));case"Sum":if(e=i.advance(e),"Err"===(te=D(ie=i.peek(e),T,e=i.advance(e))).type)return"MissingBound"===te.error.type?v(e,n.Err(te.span,n.SumMissingBound())):v(e,te);Z=te.sup,Y=te.sub;return e=(L=S(e,F)).state,"Err"===(O=L.tree).type?m(O.error)?v(e,n.Err(O.span,n.SumMissingBody())):v(e,O):v(e,a.Sum(i.spanStates(T,e),[O,Y,Z]));case"Prod":var te;if(e=i.advance(e),"Err"===(te=D(ie=i.peek(e),T,e=i.advance(e))).type)return"MissingBound"===te.error.type?v(e,n.Err(te.span,n.ProductMissingBound())):v(e,te);Z=te.sup,Y=te.sub;return e=(N=S(e,F)).state,"Err"===(O=N.tree).type?m(O.error)?v(e,n.Err(O.span,n.ProductMissingBody())):v(e,O):v(e,a.Product(i.spanStates(T,e),[O,Y,Z]));case"Cmd":return v(e=i.advance(e),O=a.Cmd(i.spanStates(T,e),q.val));case"TokenNode":return e=i.advance(e),"SupSub"===(ie=i.peek(e)).type&&ie.sub?v(e=i.advance(e),n.Err(i.spanStates(T,e),n.TokenWithSubscript())):v(e,O=a.Cmd(i.spanStates(T,e),q.val));case"Letter":return v(e=i.advance(e),O=a.Letter(i.spanStates(T,e),q.val));case"Decimal":e=i.advance(e);var ae=a.Decimal(i.spanStates(T,e),q.val);if("Decimal"===(ie=e.token).type||"MixedNumber"===ie.type){var ne=e;e=i.advance(e);R=i.spanStates(T,e);var se="MixedNumber"===ie.type?ie:a.Decimal(i.spanStates(ne,e),ie.val);return v(e,n.Err(R,n.AdjacentNumbers([ae,se])))}return v(e,ae);case"MixedNumber":if(e.opts.disallowFrac)throw t.fractionsUnavailable();var ie;if("Decimal"===(ie=(e=i.advance(e)).token).type||"MixedNumber"===ie.type){ne=e;e=i.advance(e);R=i.spanStates(T,e),se="MixedNumber"===ie.type?ie:a.Decimal(i.spanStates(ne,e),ie.val);return v(e,n.Err(R,n.AdjacentNumbers([q,se])))}return v(e,q);case"*":case"/":case",":case"=":case">":case"<":case">=":case"<=":case"->":case"~":case":":case"...":case"%":case".":e=i.advance(e);R=i.spanStates(T,e);return v(e,n.Err(R,n.BinaryOperatorMissingLeft(q.val)));case"for":e=i.advance(e);R=i.spanStates(T,e);return v(e,n.Err(R,n.UnexpectedFor()));case"!":e=i.advance(e);R=i.spanStates(T,e);return v(e,n.Err(R,n.UnaryOperatorMissingLeft(q.val)));case"SupSub":e=i.advance(e);var pe="supsub";q.sub?pe="subscript":q.sup?pe="superscript":q.nprimes>0&&(pe="prime");R=i.spanStates(T,e);return v(e,n.Err(R,n.UnaryOperatorMissingLeft(pe)));case")":case"\\\\}":case"]":case"|)":case"Differential":return j(e);case"Err":e=i.advance(e);R=i.spanStates(T,e);return v(e,n.Err(R,n.UnrecognizedSymbol(q.val)));case"End":R=i.spanStates(T,e);return v(e,n.Err(R,n.UnexpectedEnd()));default:throw"Unexpected token type "+q.type+"."}}(f),f=p.state,"Err"===(c=p.tree).type)return v(f,c);if(!i.didAdvance(e,f))throw new Error("Programming Error: parseInitial did not advance state.");for(;!i.isDone(f);){if(r>=(i.isAt(f,"(")&&!x(c)?d("("):l(i.peek(f).type)))break;var P=f;if(f=(u=b(f,c,g(f,c,o)?l(",")-1:d(i.peek(f).type))).state,"Err"===(c=u.tree).type)return v(f,c);if(!i.didAdvance(P,f))throw new Error("Programming Error: parseSuccessor did not advance state.")}return v(f,c)}function m(e){return"UnexpectedDifferential"===e.type||"UnexpectedCloseDelimiter"===e.type||"UnexpectedEnd"===e.type||"BinaryOperatorMissingLeft"===e.type}function g(e,r,t){return i.isAt(e,"=")&&t&&(u.isFunctionSignature(r)||u.isLegalAssignmentLhs(r))}function b(e,r,t){var s,p,u,c,o,d,E,f,y,g,b,x,M,D=i.peek(e);switch(D.type){case"+":case"-":case"*":case"/":case"=":case"~":case":":case".":case"->":case"for":if(e=(s=S(e=i.advance(e),t)).state,"Err"===(M=s.tree).type){if(m(M.error)){var k=i.joinState(r.span,e);return v(e,n.Err(k,n.BinaryOperatorMissingRight(D.val)))}return v(e,M)}return v(e,function(e,r,t){switch(e){case"+":return a.Add(r,t);case"-":return a.Sub(r,t);case"*":return a.Mul(r,t);case"/":return a.Div(r,t);case"=":return a.Equals(r,t);case"~":return a.Tilde(r,t);case":":return a.Colon(r,t);case".":return a.Dot(r,t);case"->":return a.RightArrow(r,t);case"for":return a.For(r,t);default:throw"Unexpected token type "+e+"."}}(D.type,i.joinState(r.span,e),[r,M]));case"%":e=i.advance(e);var w=i.peek(e);if("Cmd"!==w.type||"of"!==w.val&&"\\\\of"!==w.val)return v(e,n.Err(D.span,n.PercentMissingOf()));if(e=(p=S(e=i.advance(e),t)).state,"Err"===(M=p.tree).type){if(m(M.error)){k=i.joinState(r.span,e);return v(e,n.Err(k,n.BinaryOperatorMissingRight(D.val)))}return v(e,M)}return v(e,a.PercentOf(i.joinState(r.span,e),[r,M]));case">=":case"<=":case">":case"<":var B=D.type;if(e=(u=S(e=i.advance(e),t)).state,"Err"===(M=u.tree).type){if(m(M.error)){k=i.joinState(r.span,e);return v(e,n.Err(k,n.BinaryOperatorMissingRight(D.val)))}return v(e,M)}for(var I=a.Inequality(i.joinState(r.span,e),B,[r,M]),L=[],N=i.peek(e).type;">="===N||"<="===N||">"===N||"<"===N;){var O=e;if(B=N,e=(c=S(e=i.advance(e),t)).state,"Err"===(M=c.tree).type){if(m(M.error)){k=i.joinState(r.span,e);return v(e,n.Err(k,n.BinaryOperatorMissingRight(D.val)))}return v(e,M)}L.push(a.TrailingInequalityPiece(i.spanStates(O,e),B,[M])),N=i.peek(e).type}return L.length?v(e,a.InequalityChain(i.joinState(r.span,e),I,L)):v(e,I);case"!":return v(e=i.advance(e),a.Bang(i.joinState(r.span,e),[r]));case"[":O=e;if(e=i.advance(e),i.isAt(e,"]")){e=i.advance(e);k=i.spanStates(O,e);return v(e,n.Err(k,n.EmptySquareBracket()))}return e=(d=U(O,e=(o=S(e,t)).state,M=o.tree,"[","]")).state,"Err"===(M=d.tree).type?v(e,M):v(e,a.Index(i.joinState(r.span,e),[r,M]));case"Sqrt":case"Frac":case"Letter":case"Cmd":case"TokenNode":case"Trig":case"Ln":case"Log":case"Sum":case"Int":case"Prod":case"Decimal":case"MixedNumber":case"\\\\{":case"(|":return e=(E=S(e,t)).state,"Err"===(M=E.tree).type?v(e,M):v(e,a.Juxt(i.joinState(r.span,e),[r,M]));case"(":if(a.isIdentifier(r)){if(e=(f=A(e)).state,"Err"===(M=f.tree).type)return v(e,M);k=i.joinState(r.span,e);return v(e,a.Call(k,[r,M.args[0]]))}if("Prime"===r.type&&a.isIdentifier(r.args[0])){if(e=(y=A(e)).state,"Err"===(M=y.tree).type)return v(e,M);k=i.joinState(r.span,e);return v(e,a.Prime(k,r.nprimes,[a.Call(k,[r.args[0],M.args[0]])]))}return e=(g=S(e,t)).state,"Err"===(M=g.tree).type?v(e,M):v(e,a.Juxt(i.joinState(r.span,e),[r,M]));case"SupSub":e=i.advance(e);var T=P(D),q=h(D,e.opts);if(T&&"Err"===T.type)return v(e,T);if(q&&"Err"===q.type)return v(e,q);if(T&&(r=a.Subscript(i.joinState(r.span,e),[r,T])),q&&(r=a.Superscript(i.joinState(r.span,e),[r,q])),D.nprimes>0){k=i.joinState(r.span,e);if(!a.isIdentifier(r))return v(e,n.Err(k,n.UnexpectedPrime()));r=a.Prime(k,D.nprimes,[r])}return v(e,r);case",":for(var F=[r];i.isAt(e,",")&&(e=i.advance(e),!i.isAt(e,"..."))&&(!e.opts.trailingComma||!C(e));){if(e=(b=S(e,t)).state,"Err"===(M=b.tree).type){if(m(M.error)){k=i.joinState(r.span,e);return v(e,n.Err(k,n.BinaryOperatorMissingRight(D.val)))}return v(e,M)}F.push(M)}return v(e,a.Seq(i.joinState(r.span,e),F));case"...":if(e=i.advance(e),i.isAt(e,",")&&(e=i.advance(e)),t>=l(i.peek(e).type))return v(e,a.Ellipsis(i.joinState(r.span,e),[r,a.EmptyRangeEnd(i.emptySpanAtState(e))]));if(e=(x=S(e,t)).state,"Err"===(M=x.tree).type){if(m(M.error)){k=i.joinState(r.span,e);return v(e,n.Err(k,n.BinaryOperatorMissingRight(D.val)))}return v(e,M)}return v(e,a.Ellipsis(i.joinState(r.span,e),[r,M]));case"]":case")":case"\\\\}":case"|)":case"Differential":return j(e);case"Err":return S(e,t);case"End":k=i.spanStates(e,e);return v(e,n.Err(k,n.UnexpectedEnd()));default:throw"Unexpected token type "+D.type+"."}}function x(e){return!!a.isIdentifier(e)||!("Prime"!==e.type||!a.isIdentifier(e.args[0]))}function M(e,r){if(e.sub){var t=e.sub,a=y(i.lex(t,r));return"Err"===a.type&&"EmptyGroup"===a.error.type?n.Err(a.span,n.EmptySubscript()):a}}function P(e){if(e.sub){var r=e.sub;if(0===r.args.length)return n.Err(r.span,n.EmptySubscript());for(var t=[],i=0,p=r.args;i<p.length;i++){var u=p[i];if("Digit"!==u.type&&"Letter"!==u.type){var c=u.span;return n.Err(c,n.InvalidSubscript(s.slice(c)))}t.push(u.val)}return a.Alphanumeric(r.span,t.join(""))}}function h(e,r){if(e.sup){var t=y(i.lex(e.sup,r));return"Err"===t.type?"EmptyGroup"===t.error.type?n.Err(t.span,n.EmptySuperscript()):t:e.nprimes>0?n.Err(e.span,n.SuperscriptWithPrime()):t}}function D(e,r,t){if("SupSub"!==e.type){var a=i.spanStates(r,t);return n.Err(a,n.MissingBound())}if(e.nprimes>0){a=i.spanStates(r,t);return n.Err(a,n.UnexpectedPrime())}var s=M(e,t.opts),p=h(e,t.opts);if(!s||"Err"===s.type&&"EmptySubscript"===s.error.type||!p||"Err"===p.type&&"EmptySuperscript"===p.error.type){a=i.spanStates(r,t);return n.Err(a,n.MissingBound())}return"Err"===s.type?s:"Err"===p.type?p:{type:"Bounds",sup:p,sub:s}}function A(e){var r,t,n,s=e,p=i.peek(e),u=E(p.type);if(!i.isAt(e,"("))throw new Error("Programming Error: expected \'(\' at start of parseParen.");if(e=i.advance(e),i.isAt(e,")")){var c=a.Seq(i.emptySpanAtState(e),[]);e=i.advance(e);var o=i.spanStates(s,e);return v(e,a.Paren(o,[c]))}return e=(t=U(s,e=(r=S(e,u)).state,n=r.tree,"(",")")).state,"Err"===(n=t.tree).type?v(e,n):v(e,a.Paren(i.spanStates(s,e),[n]))}function k(e){var r=e,t=i.peek(e);if("Differential"!==t.type)throw new Error("Programming Error: expected differential");e=i.advance(e);var s=a.Cmd(t.span,t.val),p=i.peek(e);if("SupSub"===p.type){e=i.advance(e);var u=i.spanStates(r,e),c=P(p);if(c){if("Err"===c.type)return v(e,c);s=a.Subscript(u,[s,c])}if(p.sup)return v(e,n.Err(u,n.DifferentialWithSuperscript()));if(p.nprimes>0)return v(e,n.Err(u,n.UnexpectedPrime()))}return v(e,s)}function U(e,r,t,a,s){if("Err"===t.type&&"UnexpectedEnd"!==t.error.type)return v(r,t);if("Err"===t.type||!i.isAt(r,s)){var p=i.spanStates(e,r);return v(r,n.Err(p,n.MissingCloseDelimiter(a,s)))}return v(r=i.advance(r),t)}function j(e){var r=e;switch(i.peek(e).type){case")":e=i.advance(e);var t=i.spanStates(r,e);return v(e,n.Err(t,n.UnexpectedCloseDelimiter("(",")")));case"]":e=i.advance(e);t=i.spanStates(r,e);return v(e,n.Err(t,n.UnexpectedCloseDelimiter("[","]")));case"\\\\}":e=i.advance(e);t=i.spanStates(r,e);return v(e,n.Err(t,n.UnexpectedCloseDelimiter("\\\\{","\\\\}")));case"|)":e=i.advance(e);t=i.spanStates(r,e);return v(e,n.Err(t,n.UnexpectedCloseDelimiter("|","|")));case"Differential":e=i.advance(e);t=i.spanStates(r,e);return v(e,n.Err(t,n.UnexpectedDifferential()));default:e=i.advance(e);t=i.spanStates(r,e);return v(e,n.Err(t,n.UnexpectedParseError()))}}function C(e){return i.isAt(e,")")||i.isAt(e,"]")||i.isAt(e,"\\\\}")}e.parse=function(e,t){var a=t?r.__assign(r.__assign({},f),t):f,s=y(i.lex(e,a),{isToplevel:!0});return"Err"===s.type&&"EmptyGroup"===s.error.type?n.Err(s.span,n.EmptyInput()):s}});\ndefine(\'core/math/baseparser\',["require","exports","parsenodes","core/math/errormsg","core/math/parser/latex-parser","core/math/parser/expression-parser","core/math/parser/lower"],function(require,r,e,a,t,o,n){"use strict";function i(){throw a.featureUnavailable()}function s(r,e){return r.setInputSpan(e),r}Object.defineProperty(r,"__esModule",{value:!0}),r.parse=void 0,r.parse=function(r,l){void 0===l&&(l={});var d=typeof r;if("string"!==d)throw new Error("Type Error: parse can only be called with strings, got "+JSON.stringify(r)+" of type "+d);var c=e;if(l.disabledFeatures){c=Object.create(c);for(var p=0,u=l.disabledFeatures;p<u.length;p++){var f=u[p];if(!c[f])throw new Error("Programming Error: "+f+" cannot be disabled because it is not a parsenode.");c[f]=i}}var v=void 0===l.seedPrefix?"":l.seedPrefix,w=0,m={nodes:c,currentIndex:l.index,setInput:s,nextSeed:function(){var r=v+"::vc"+w;return w+=1,r},allowDt:!!l.allowDt,allowIndex:!!l.allowIndex},g={};void 0!==l.trailingComma&&(g.trailingComma=l.trailingComma),l.disallowFrac&&(g.disallowFrac=!0);try{var h=t.parse(r),x=o.parse(h,g);return n.lower(m,x)}catch(r){return r instanceof e.Error?r:"string"==typeof r?e.Error(r):a.parseError()}}});\ndefine(\'core/math/sliders\',["require","exports"],function(require,e){"use strict";function a(e,a){var r=Math.round(1e6*e)/1e6;return Math.abs(r-e)<a?r:e}function r(e){var r=e.target,t=e.hardMin,i=e.hardMax,n=e.step,o=1e-10;if(void 0!==t&&void 0!==i&&(o=Math.min(o,Math.abs(i-t)/1e3)),n&&(o=Math.min(o,n/10)),void 0!==t&&(t=a(t,o)),void 0!==i&&(i=a(i,o)),e.forceSliderToMax&&void 0!==i&&(r=i),t>i)return t;if(r<=t)return t;if(r>=i)return i;if(n){var d=void 0!==t?t:0;r=n*Math.round((r-d)/n)+d}var u=a(r,o);return(n||t===u||i===u)&&(r=u),r<=t?t:r>=i?i:r}Object.defineProperty(e,"__esModule",{value:!0}),e.computeSoftMax=e.constrainSliderValueLikeEvaluator=e.determineWhichLimitsAreCompatibleWithValue=e.roundToReasonableDecimal=void 0,e.roundToReasonableDecimal=a,e.determineWhichLimitsAreCompatibleWithValue=function(e){var a=!0,t=!0,i=!0;return void 0!==e.hardMin&&e.target<e.hardMin&&(a=!1),void 0!==e.hardMax&&e.target>e.hardMax&&(t=!1),e.step&&r({target:e.target,step:e.step,hardMin:a?e.hardMin:void 0,hardMax:t?e.hardMax:void 0})!==e.target&&(i=!1),{min:a,max:t,step:i}},e.constrainSliderValueLikeEvaluator=r,e.computeSoftMax=function(e){var a=e.storedMax,t=e.sliderValue,i=e.hardMin,n=e.step,o=10;if(a>o&&(o=a),t>o&&(o=t),i>o&&(o=i),n){var d=r({target:o,hardMin:i,hardMax:void 0,step:n});o=d>=o?d:d+n}return o}});\ndefine(\'core/math/features/getConcreteTree\',[\'require\',\'parsenodes\',\'core/math/errormsg\',\'core/math/types\',\'core/math/maybe-rational\',\'core/math/sliders\'],function(require){"use strict";var e=require("parsenodes"),t=require("core/math/errormsg"),r=require("core/math/types"),i=require("core/math/maybe-rational"),s=(e.List,e.ParenSeq,e.Constant),n=e.Identifier,o=require("core/math/sliders");function a(e,r){return e.isError?e:-1===r.indexOf(e.valueType)?t.parseError():e}function l(e,t,r){if(t){var i=t.getDependencies();if(t.isError)r.errors[e]=!0;else if(i.length>0){r.errors[e]=!0;for(var s=0;s<i.length;s++)i[s]===r.exportedSymbol?r.errors.cycle=!0:r.missingVars.push(i[s])}else r.values[e]=+t.asValue();r.valids[e]=isFinite(r.values[e]),r.valids[e]||(r.values[e]=void 0)}else r.valids[e]=!0}function c(e){return e&&e.valueType===r.ListOfNumber&&1===e.length&&e.args?e.args[0]:e}function u(i,s){if(!s[this._symbol])throw t.functionUnsupported(this._symbol);var n=this.args.map(function(e){return e.getConcreteTree(i,s)});if(n.length>0){if(1===n.length&&n.push(e.Constant(1).getConcreteTree(i,s)),n[1].getDependencies().length)throw t.illegalBinWidth(this._symbol).setDependencies(n[1].getDependencies());if(n[1].valueType!==r.Number)throw t.illegalBinWidth(this._symbol);var o=n[1].asValue();if(!isFinite(o)||o<=0)throw t.illegalBinWidth(this._symbol)}return this.typeCheck(i,n),new this.constructor(n)}function h(e,r){if(!r[this._symbol])throw t.functionUnsupported(this._symbol);var i=this.args.map(function(t){return t.getConcreteTree(e,r)});return this.typeCheck(e,i),new this.constructor(i)}e.Base.prototype.tryGetConcreteTree=function(){var r;try{r=this.getConcreteTree.apply(this,arguments)}catch(i){r=i instanceof e.Base?i:t.parseError()}return r},e.Base.prototype.getConcreteTree=function(e,t){var r=this.buildIRExpression(e,t);if(r.isError)throw r;return r},e.DoubleInequality.prototype.getConcreteTree=function(t,r){return new this.constructor([e.Piecewise([this._indicator,this._expressions[0],s(NaN)]).getConcreteTree(t,r),this._operators[0],n(this._symbol),this._operators[1],e.Piecewise([this._indicator,this._expressions[1],s(NaN)]).getConcreteTree(t,r)])},e.Error.prototype.getConcreteTree=function(e,t){return this},e.Image.prototype.getConcreteTree=function(t,i){var s=this.center.tryGetConcreteTree(t,i),n=this.radianAngle.tryGetConcreteTree(t,i),o=this.width.tryGetConcreteTree(t,i),l=this.height.tryGetConcreteTree(t,i),c=this.opacity.tryGetConcreteTree(t,i),u=[r.Point,r.ListOfPoint,r.EmptyList],h=[r.Number,r.ListOfNumber,r.EmptyList];return s=a(s,u),n=a(n,h),o=a(o,h),l=a(l,h),c=a(c,h),e.Image({center:s,radianAngle:n,width:o,height:l,opacity:c},this.moveStrategy)},e.Ticker.prototype.getConcreteTree=function(i,s){var n=this.handler.tryGetConcreteTree(i,s);n.isError||n.valueType===r.Action||(n=t.eventHandlerTypeError(r.prettyPrint(n.valueType)));var o=n.getDependencies().filter(function(e){return!i.validActionVariable(e)});return o.length&&(n=t.tooManyVariables(i.sliderVariables(o)).setDependencies(o)),e.Ticker({handler:n,minStep:this.minStep.tryGetConcreteTree(i,s)})},e.Slider.prototype.getConcreteTree=function(e,r){var n=this._expression.getConcreteTree(e,r),a=c(this.sliderMin&&this.sliderMin.tryGetConcreteTree(e,r)),u=c(this.sliderMax&&this.sliderMax.tryGetConcreteTree(e,r)),h=c(this.sliderStep&&this.sliderStep.tryGetConcreteTree(e,r)),p={exportedSymbol:this._symbol,errors:{},values:{},valids:{},missingVars:[],errMsg:void 0};if(l("min",a,p),l("max",u,p),l("step",h,p),h&&p.valids.step&&(0===p.values.step?delete p.values.step:p.values.step=Math.abs(p.values.step)),p.errors.cycle?n=t.sliderLimitReferencesExport(p.exportedSymbol):(p.errors.min||!p.valids.min?p.errMsg=t.sliderMinInvalid():p.errors.max||!p.valids.max?p.errMsg=t.sliderMaxInvalid():!p.errors.step&&p.valids.step||(p.errMsg=t.sliderStepInvalid()),p.values.min>p.values.max&&(p.valids.min=!1,p.valids.max=!1,p.errMsg||(p.errMsg=t.sliderMaxLessThanMin()))),n.isConstant){var d=r.initialEvaluation&&r.initialEvaluation.asValue()&&this.sliderIsPlayingOnce,y=p.values.max,v=+n.asValue(),g=p.values.min,T=p.values.step;if(d&&!isFinite(y)){var m=c(this.sliderSoftMax&&this.sliderSoftMax.tryGetConcreteTree(e,r));m&&(y=o.computeSoftMax({storedMax:+m.asValue(),sliderValue:v,step:T,hardMin:g}))}var f=o.constrainSliderValueLikeEvaluator({target:v,hardMin:g,hardMax:y,step:T,forceSliderToMax:d}),C=i.fromDecimalString(f.toString()),b=isFinite(i.asFloat(C))?C:f;n=s(b).getConcreteTree(e,r)}return n.sliderInfo=p,n},e.Histogram.prototype.getConcreteTree=u,e.DotPlot.prototype.getConcreteTree=u,e.BoxPlot.prototype.getConcreteTree=function(e,i){if(!i[this._symbol])throw t.functionUnsupported(this._symbol);var s=this.args.map(function(t){return t.getConcreteTree(e,i)});return this.typeCheck(e,s),1!==s.length||s[0].valueType!==r.ListOfNumber&&s[0].valueType!==r.EmptyList?t.parseError():new this.constructor(s)},e.TTest.prototype.getConcreteTree=h,e.IndependentTTest.prototype.getConcreteTree=h,e.Stats.prototype.getConcreteTree=h,e.Table.prototype.getConcreteTree=function(e,t){for(var r=[],i=Object.create(t),s=0;s<this.columns.length;s++){var n=this.columns[s].getConcreteTree(e,i);n.isIndependent&&this.columns[s].exportToLocal(n,i),r.push(n)}return new this.constructor(r)},e.TableColumn.prototype.getConcreteTree=function(i,s,n){var o,a,l=this.header.getConcreteTree(i,s);if(this.header instanceof e.Identifier&&!s[this.header._symbol]){o=[];for(var c=0;c<this.values.length;c++)if(this.values[c].tableError())o.push(t.invalidTableEntry(this.values[c].tableError()));else{var u=this.values[c].tryGetConcreteTree(i,s);u.isError?o.push(u):u.tableError()?o.push(t.invalidTableEntry(u.tableError())):u.valueType===r.Number?o.push(u):o.push(t.tableEntryTypeError([r.prettyPrint(u.valueType)]))}return(a=new this.constructor(l,this.length,o)).isIndependent=!0,a}if(l.isConstant){for(var h=[],p=0;p<this.length;p++)h.push(l);o=h}else o=l.isList?l.mapElements(function(e){return e}):[];if(l.isError||l.valueType===r.Number||l.valueType===r.ListOfNumber||l.valueType===r.EmptyList||(l=t.tableHeaderTypeError([r.prettyPrint(l.valueType)])),a=new this.constructor(l,this.length,o),void 0!==n){var d=this.header.tryGetConcreteTree(i,n);d.isError||d.valueType!==r.Number||(a.continuousConcreteTree=d)}return a}});\ndefine(\'core/math/ir/scope\',["require","exports"],function(require,e){"use strict";function o(e,o){return{symbolMap:e,maxIndex:o}}Object.defineProperty(e,"__esModule",{value:!0}),e.childScope=e.setSymbol=e.getSymbol=e.Scope=void 0,e.Scope=o,e.getSymbol=function(e,o){return e.symbolMap[o]},e.setSymbol=function(e,o,t){e.symbolMap[o]=t,e.maxIndex=Math.max(e.maxIndex,t)},e.childScope=function(e){return o(Object.create(e.symbolMap),e.maxIndex)}});\ndefine(\'core/math/mathshim\',["require","exports"],function(require,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sign=n.sqrtxsqm1=n.sqrtxsqp1=n.log1p=n.expm1=n.atanh=n.asinh=n.acosh=n.tanh=n.sinh=n.cosh=void 0;var t=Math;n.cosh=t.cosh||function(n){return.5*(Math.exp(n)+Math.exp(-n))},n.sinh=t.sinh&&0!==t.sinh(1e-20)?t.sinh:function(t){var a=t>0?1:-1;return t=t>0?t:-t,.5*-a*Math.exp(t)*n.expm1(-2*t)},n.tanh=t.tanh&&0!==t.tanh(1e-20)?t.tanh:function(t){var a=t>0?1:-1;t=t>0?t:-t;var r=n.expm1(-2*t);return-a*r/(2+r)},n.acosh=t.acosh||function(t){return t<1?NaN:Math.log(t+n.sqrtxsqm1(t))},n.asinh=t.asinh&&0!==t.asinh(1e-20)?t.asinh:function(t){var a=t>0?1:-1;return 1+(t=t>0?t:-t)*t==1?a*n.log1p(t):a*Math.log(t+n.sqrtxsqp1(t))},n.atanh=t.atanh&&0!==t.atanh(1e-20)?t.atanh:function(t){return.5*(n.log1p(t)-n.log1p(-t))},n.expm1=t.expm1||function(n){return n+.5*n*n===n?n:Math.exp(n)-1},n.log1p=t.log1p||function(n){return n-.5*n*n===n?n:Math.log(1+n)};n.sqrtxsqp1=function(n){var t=n*n;return 1+t===1?1:1+t===t?Math.abs(n):Math.sqrt(t+1)};n.sqrtxsqm1=function(n){var t=n*n;return t<1?NaN:t-1===t?Math.abs(n):Math.sqrt(t-1)},n.sign=t.sign||function(n){return 0===n?0:n>0?1:n<0?-1:NaN}});\ndefine(\'core/math/quadrature\',[\'require\',\'core/math/mathshim\',\'core/math/poi\'],function(require){"use strict";var a=require("core/math/mathshim"),r=require("core/math/poi"),t=r.bisectJump,i=r.bisectFinite,n=Math.pow(2,-13),e=n*n,o=e*e,s=e,u=[],h=[];!function(r,t){for(var i=32;i>0;i--){var n=.09856311095410075*i,e=a.sinh(n),o=a.cosh(Math.PI/2*e),s=1/(Math.exp(Math.PI/2*e)*o),u=a.cosh(n)/(o*o);r.push(s),t.push(u)}}(u,h);for(var N=0,f=0;f<h.length;f++)N+=h[f];var m=1/(1+2*N);function x(a,r,t){return.5*(r*(2-t)+a*t)}function M(a,r,i){var n=.5*(r+i),e=t(r,a(r),n,a(n),i,a(i),a,0);return e?.5*(e[0][0]+e[1][0]):n}function v(a,r,t,i,n){return{x1:a,x2:r,value:t,error:i,minerror:n}}function b(a,r,t){var i=Math.abs(a(x(r,t,e))),n=Math.abs(a(x(r,t,2*e))),o=Math.abs(a(x(r,t,4*e)));return!(i<e||n<e)&&(i>1.95*n&&n>1.95*o)}function c(a,r,t){var n,e,o=x(t,r,u[0]),N=x(r,t,u[0]),f=a(o),M=a(N),c=x(r,t,1),l=a(c);if(isFinite(l)&&!isFinite(f)){if(n=i(o,f,c,l,a),Math.abs((n[0]-r)/(t-r))>s)return v(r,t,NaN,NaN,NaN);r=n[0],f=n[1]}if(isFinite(l)&&!isFinite(M)){if(e=i(c,l,N,M,a),Math.abs((e[0]-t)/(t-r))>s)return v(r,t,NaN,NaN,NaN);t=e[0],M=e[1]}if(isFinite(f)&&isFinite(M)&&!isFinite(l)){if(n=i(o,f,c,l,a),e=i(c,l,N,M,a),Math.abs((e[0]-n[0])/(t-r))>s)return v(r,t,NaN,NaN,NaN);l=.5*(n[1]+e[1])}if(b(a,r,t)||b(a,t,r))return v(r,t,NaN,NaN,NaN);for(var F=l,p=0,d=0,g=0,I=0,P=0,q=0,w=0;w<32;w+=4)P=a(x(r,t,u[w])),q=a(x(t,r,u[w])),I=Math.max(I,Math.abs(P),Math.abs(q)),p+=h[w]*(P+q),P=a(x(r,t,u[w+1])),q=a(x(t,r,u[w+1])),I=Math.max(I,Math.abs(P),Math.abs(q)),g+=h[w+1]*(P+q),P=a(x(r,t,u[w+2])),q=a(x(t,r,u[w+2])),I=Math.max(I,Math.abs(P),Math.abs(q)),d+=h[w+2]*(P+q),P=a(x(r,t,u[w+3])),q=a(x(t,r,u[w+3])),I=Math.max(I,Math.abs(P),Math.abs(q)),g+=h[w+3]*(P+q);var J,j=F+p,k=j+d,y=k+g,z=Math.abs(d-j),A=Math.abs(g-k),B=m*(t-r)*y,C=m*Math.abs(t-r)*I*h[0];return J=0===z?m*Math.abs(t-r)*A:m*Math.abs(t-r)*A*(A/z)*(A/z),v(r,t,B,J=Math.max(J,C),C)}function l(a){for(var r=-1/0,t=-1/0,i=-1,n=0,e=0;e<a.length;e++){var o=a[e];n+=o.value,o.error>r&&(r=o.error,i=e),o.minerror>t&&(t=o.minerror)}return{maxerror:r,maxminerror:t,maxindex:i,totalvalue:n}}return{quad:function a(r,t,i,n){if(void 0===n&&(n=32),isNaN(t)||isNaN(i))return NaN;var e=1;if(t>i){var s=t;t=i,i=s,e=-1}if(t===1/0&&i===1/0)return NaN;if(t===-1/0&&i===-1/0)return NaN;if(t===-1/0&&i===1/0)return e*a(function(a){return r(a/((1+a)*(1-a)))*(1+a*a)/((1+a)*(1+a)*(1-a)*(1-a))},-1,1,n);if(t===-1/0)return e*a(function(a){return-r(i-a/(1-a))/((1-a)*(1-a))},1,0,n);if(i===1/0)return e*a(function(a){return r(t+a/(1-a))/((1-a)*(1-a))},0,1,n);for(var u=[c(r,t,i)],h=l(u),N=1;N<n&&(!(Math.abs(h.maxerror/h.totalvalue)<=32*o||h.maxerror<=32*o||h.maxerror<=32*h.maxminerror)&&isFinite(h.maxerror)&&isFinite(h.maxminerror));N++){var f=u[u.length-1];u[u.length-1]=u[h.maxindex],u[h.maxindex]=f;var m=u.pop(),v=M(r,x(m.x2,m.x1,.125),x(m.x1,m.x2,.125));u.push(c(r,m.x1,v)),u.push(c(r,v,m.x2)),h=l(u)}return isFinite(h.maxerror)&&isFinite(h.maxminerror)?Math.abs(h.totalvalue)<=10*h.maxminerror?0:e*h.totalvalue:NaN}}});\ndefine(\'core/lib/md5\',["require","exports"],function(require,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(n){function r(n,r){var t=(65535&n)+(65535&r);return(n>>16)+(r>>16)+(t>>16)<<16|65535&t}function t(n,t,e,u,o,c){return r((f=r(r(t,n),r(u,c)))<<(i=o)|f>>>32-i,e);var f,i}function e(n,r,e,u,o,c,f){return t(r&e|~r&u,n,r,o,c,f)}function u(n,r,e,u,o,c,f){return t(r&u|e&~u,n,r,o,c,f)}function o(n,r,e,u,o,c,f){return t(r^e^u,n,r,o,c,f)}function c(n,r,e,u,o,c,f){return t(e^(r|~u),n,r,o,c,f)}function f(n,t){var f,i,a,h,l;n[t>>5]|=128<<t%32,n[14+(t+64>>>9<<4)]=t;var v=1732584193,d=-271733879,g=-1732584194,s=271733878;for(f=0;f<n.length;f+=16)i=v,a=d,h=g,l=s,v=e(v,d,g,s,n[f],7,-680876936),s=e(s,v,d,g,n[f+1],12,-389564586),g=e(g,s,v,d,n[f+2],17,606105819),d=e(d,g,s,v,n[f+3],22,-1044525330),v=e(v,d,g,s,n[f+4],7,-176418897),s=e(s,v,d,g,n[f+5],12,1200080426),g=e(g,s,v,d,n[f+6],17,-1473231341),d=e(d,g,s,v,n[f+7],22,-45705983),v=e(v,d,g,s,n[f+8],7,1770035416),s=e(s,v,d,g,n[f+9],12,-1958414417),g=e(g,s,v,d,n[f+10],17,-42063),d=e(d,g,s,v,n[f+11],22,-1990404162),v=e(v,d,g,s,n[f+12],7,1804603682),s=e(s,v,d,g,n[f+13],12,-40341101),g=e(g,s,v,d,n[f+14],17,-1502002290),v=u(v,d=e(d,g,s,v,n[f+15],22,1236535329),g,s,n[f+1],5,-165796510),s=u(s,v,d,g,n[f+6],9,-1069501632),g=u(g,s,v,d,n[f+11],14,643717713),d=u(d,g,s,v,n[f],20,-373897302),v=u(v,d,g,s,n[f+5],5,-701558691),s=u(s,v,d,g,n[f+10],9,38016083),g=u(g,s,v,d,n[f+15],14,-660478335),d=u(d,g,s,v,n[f+4],20,-405537848),v=u(v,d,g,s,n[f+9],5,568446438),s=u(s,v,d,g,n[f+14],9,-1019803690),g=u(g,s,v,d,n[f+3],14,-187363961),d=u(d,g,s,v,n[f+8],20,1163531501),v=u(v,d,g,s,n[f+13],5,-1444681467),s=u(s,v,d,g,n[f+2],9,-51403784),g=u(g,s,v,d,n[f+7],14,1735328473),v=o(v,d=u(d,g,s,v,n[f+12],20,-1926607734),g,s,n[f+5],4,-378558),s=o(s,v,d,g,n[f+8],11,-2022574463),g=o(g,s,v,d,n[f+11],16,1839030562),d=o(d,g,s,v,n[f+14],23,-35309556),v=o(v,d,g,s,n[f+1],4,-1530992060),s=o(s,v,d,g,n[f+4],11,1272893353),g=o(g,s,v,d,n[f+7],16,-155497632),d=o(d,g,s,v,n[f+10],23,-1094730640),v=o(v,d,g,s,n[f+13],4,681279174),s=o(s,v,d,g,n[f],11,-358537222),g=o(g,s,v,d,n[f+3],16,-722521979),d=o(d,g,s,v,n[f+6],23,76029189),v=o(v,d,g,s,n[f+9],4,-640364487),s=o(s,v,d,g,n[f+12],11,-421815835),g=o(g,s,v,d,n[f+15],16,530742520),v=c(v,d=o(d,g,s,v,n[f+2],23,-995338651),g,s,n[f],6,-198630844),s=c(s,v,d,g,n[f+7],10,1126891415),g=c(g,s,v,d,n[f+14],15,-1416354905),d=c(d,g,s,v,n[f+5],21,-57434055),v=c(v,d,g,s,n[f+12],6,1700485571),s=c(s,v,d,g,n[f+3],10,-1894986606),g=c(g,s,v,d,n[f+10],15,-1051523),d=c(d,g,s,v,n[f+1],21,-2054922799),v=c(v,d,g,s,n[f+8],6,1873313359),s=c(s,v,d,g,n[f+15],10,-30611744),g=c(g,s,v,d,n[f+6],15,-1560198380),d=c(d,g,s,v,n[f+13],21,1309151649),v=c(v,d,g,s,n[f+4],6,-145523070),s=c(s,v,d,g,n[f+11],10,-1120210379),g=c(g,s,v,d,n[f+2],15,718787259),d=c(d,g,s,v,n[f+9],21,-343485551),v=r(v,i),d=r(d,a),g=r(g,h),s=r(s,l);return[v,d,g,s]}function i(n){var r,t="",e=32*n.length;for(r=0;r<e;r+=8)t+=String.fromCharCode(n[r>>5]>>>r%32&255);return t}function a(n){var r,t=[];for(t[(n.length>>2)-1]=void 0,r=0;r<t.length;r+=1)t[r]=0;var e=8*n.length;for(r=0;r<e;r+=8)t[r>>5]|=(255&n.charCodeAt(r/8))<<r%32;return t}function h(n){var r,t,e="0123456789abcdef",u="";for(t=0;t<n.length;t+=1)r=n.charCodeAt(t),u+=e.charAt(r>>>4&15)+e.charAt(15&r);return u}function l(n){return unescape(encodeURIComponent(n))}function v(n){return function(n){return i(f(a(n),8*n.length))}(l(n))}function d(n,r){return function(n,r){var t,e,u=a(n),o=[],c=[];for(o[15]=c[15]=void 0,u.length>16&&(u=f(u,8*n.length)),t=0;t<16;t+=1)o[t]=909522486^u[t],c[t]=1549556828^u[t];return e=f(o.concat(a(r)),512+8*r.length),i(f(c.concat(e),640))}(l(n),l(r))}return function(n,r,t){return r?t?d(r,n):h(d(r,n)):t?v(n):h(v(n))}}()});\ndefine(\'core/math/builtin\',["require","exports","core/vendor/d3-color","core/math/quadrature","core/lib/md5","core/math/mathshim","core/math/mathshim","core/math/distance","core/math/distance","core/math/tofraction","core/math/poi","./maybe-rational","./builtin-common"],function(require,t,r,n,e,a,u,o,i,f,h,c,s){"use strict";function l(t,r,n){return Math.max(r,Math.min(n,t))}function M(r,n){r=Math.round(r),n=Math.round(n);var e=t.gcd(r,n);return Math.abs(r/e*n)}function v(t){return p(t+1)}function p(t){if(t<0)return Math.PI/(P(Math.PI*t)*p(1-t));if(t>170)return 1/0;var r,n=Math.round(t)===t;return r=t<15?g(t):t<120?function(t){var r=t-1;return Math.pow(r,r)*Math.exp(T(r)-r)*Math.sqrt(2*Math.PI*r)}(t):Math.exp(d(t)),n?Math.round(r):r}function g(t){var r=1+t*(4.077131788261185+t*(7.024675027156382+t*(6.657107767450176+t*(3.766266976716022+t*(1.2792371666711133+t*(.24304596436338005+.020049769312165774*t)))))),n=1+t*(4.154347453162709+t*(7.270007565107539+t*(6.97805297331391+t*(3.989651532924167+t*(1.367176195613119+t*(.26175627691546965+.021742722739397567*t))))));return Math.E*Math.pow((1+t)/Math.E,1+t)/(t*Math.sqrt(1+t))*(r/n)}function d(t){var r=t-1;return r*(Math.log(r)-1)+.5*Math.log(2*Math.PI*r)+T(r)}function m(t,r){if(t!==Math.floor(t))return NaN;if(t<0)return NaN;if(0===t)return 1/I(r);var n=P(r);if(1===t)return-1/(n*n);var e=w(r);if(2===t)return 2*e/(n*n*n);for(var a=[0,2],u=[],o=3;o<=t;o++){u=[];for(var i=0;i<o;i++){var f=0,h=0;i>0&&(f=(o-i+1)*a[i-1]),i+2<o&&(h=(i+1)*a[i+1]),u.push(-(f+h))}a=u}var c=0;for(i=t-1;i>=0;i--)c=u[i]+e*c;return c/Math.pow(n,t+1)}function N(t,r){return 0===r?NaN:(n=r===Math.E?Math.log(t):2===r&&Math.log2?Math.log2(t):10===r&&Math.log10?Math.log10(t):Math.log(t)/Math.log(r),Math.pow(r,Math.round(n))===t?Math.round(n):n);var n}Object.defineProperty(t,"__esModule",{value:!0}),t.uniquePerm=t.elementsAt=t.select=t.polygon=t.hsv=t.rgb=t.distance=t.quad=t.stdevp=t.stdev=t.spearman=t.rank=t.validateSampleCount=t.validateRangeLength=t.corr=t.cov=t.covp=t.variance=t.mad=t.varp=t.argMax=t.argMin=t.median=t.lowerQuartileIndex=t.upperQuartileIndex=t.lowerQuantileIndex=t.upperQuantileIndex=t.quartileIndex=t.sortPerm=t.quartile=t.quantile=t.listMax=t.listMin=t.length=t.stats=t.ittest=t.ttest=t.itscore=t.tscore=t.invUniform=t.invT=t.invBinom=t.invPoisson=t.invNorm=t.erfcx=t.erf=t.uniformcdf=t.uniformpdf=t.poissoncdf=t.poissonpdf=t.binompdf=t.binomcdf=t.poissonSample=t.binomSample=t.tSample=t.normalSample=t.uniformSample=t.randomPerm=t.shuffle=t.random=t.normalpdf=t.normalcdf=t.tcdf=t.tpdf=t.total=t.mean=t.acoth=t.acsch=t.asech=t.coth=t.csch=t.sech=t.asec=t.acsc=t.acot=t.cot=t.csc=t.sec=t.tan=t.cos=t.sin=t.nthroot=t.common_log=t.log_base=t.log=t.polyGamma=t.cotDerivative=t.bernoulliTable=t.lnGamma=t.gamma=t.factorial=t.nPr=t.nCr=t.listLCM=t.listGCD=t.lcm=t.mod=t.pow=t.gcd=t.toFraction=t.hypot=t.sign=t.sqrtxsqm1=t.sqrtxsqp1=t.log1p=t.expm1=t.atanh=t.asinh=t.acosh=t.tanh=t.sinh=t.cosh=t.md5Spyable=void 0,t.md5Spyable=e.default,Object.defineProperty(t,"cosh",{enumerable:!0,get:function(){return u.cosh}}),Object.defineProperty(t,"sinh",{enumerable:!0,get:function(){return u.sinh}}),Object.defineProperty(t,"tanh",{enumerable:!0,get:function(){return u.tanh}}),Object.defineProperty(t,"acosh",{enumerable:!0,get:function(){return u.acosh}}),Object.defineProperty(t,"asinh",{enumerable:!0,get:function(){return u.asinh}}),Object.defineProperty(t,"atanh",{enumerable:!0,get:function(){return u.atanh}}),Object.defineProperty(t,"expm1",{enumerable:!0,get:function(){return u.expm1}}),Object.defineProperty(t,"log1p",{enumerable:!0,get:function(){return u.log1p}}),Object.defineProperty(t,"sqrtxsqp1",{enumerable:!0,get:function(){return u.sqrtxsqp1}}),Object.defineProperty(t,"sqrtxsqm1",{enumerable:!0,get:function(){return u.sqrtxsqm1}}),Object.defineProperty(t,"sign",{enumerable:!0,get:function(){return u.sign}}),Object.defineProperty(t,"hypot",{enumerable:!0,get:function(){return i.hypot}}),t.toFraction=f.default,t.gcd=s.gcd,t.pow=s.pow,t.mod=function(t,r){var n=t%r;return t*r<0&&0!==n?n+r:n},t.lcm=M,t.listGCD=function(r){if(0===r.length)return NaN;for(var n=r[0],e=1;e<r.length;e++)n=t.gcd(n,r[e]);return n},t.listLCM=function(t){if(0===t.length)return NaN;for(var r=t[0],n=1;n<t.length;n++)r=M(r,t[n]);return r},t.nCr=function(t,r){if(t=Math.round(t),(r=Math.round(r))>t||t<0||r<0)return 0;if(r===1/0||t===1/0)return NaN;r>t-r&&(r=t-r);for(var n=1,e=0;e<r;e++)n*=(t-e)/(e+1);return Math.round(n)},t.nPr=function(t,r){if(t=Math.round(t),(r=Math.round(r))>t||t<0||r<0)return 0;if(r===1/0||t===1/0)return NaN;for(var n=1,e=0;e<r;e++)n*=t-e;return n},t.factorial=v,t.gamma=p,t.lnGamma=function(t){return t<0?NaN:t<15?Math.log(g(t)):d(t)},t.bernoulliTable=[1/6,-1/30,1/42,-1/30,5/66,-691/2730,7/6,-3617/510,43867/798,-174611/330,854513/138,-236364091/2730,8553103/6,-23749461029/870],t.cotDerivative=m,t.polyGamma=function r(n,e){if(n<0)return NaN;if(n!==Math.floor(n))return NaN;var a=n%2==0?-1:1;if(e<0)return-a*r(n,1-e)-Math.pow(Math.PI,n+1)*m(n,Math.PI*e);for(var u=v(n),o=0,i=Math.pow(e,-(n+1));e<10;)o+=i,e++,i=Math.pow(e,-(n+1));o+=0===n?-Math.log(e):i*e/n,o+=.5*i;for(var f=t.bernoulliTable,h=n+1,c=2,s=i*e*h/c,l=1/(e*e),M=1;M<=14;M++)o+=(s*=l)*f[M-1],s*=++h/++c,s*=++h/++c;return u*a*o},t.log=function(t){var r=Math.log(t);return Math.exp(Math.round(r))===t?Math.round(r):r},t.log_base=N,t.common_log=function(t){return N(t,10)},t.nthroot=function(r,n){return t.pow(r,1/n)};var b=1/Math.PI;function q(t){return!(t>1e12)&&Math.round(b*t)*Math.PI===t}function x(t){if(t>1e12)return!1;var r=Math.round(2*b*t);return r%2==1&&r*Math.PI==2*t}function P(t){return q(Math.abs(t))?0:Math.sin(t)}function w(t){return x(Math.abs(t))?0:Math.cos(t)}function I(t){var r=Math.abs(t);return q(r)?0:x(r)?1/0:Math.tan(t)}function y(t){for(var r=0,n=0;n<t.length;n++)r+=t[n];return r/t.length}function S(t){return t>50?Math.exp(.5*((1-t)*a.log1p(-1/(t-1))-1)+O(.5*(t-1))-O(.5*(t-2)))*Math.sqrt((1-1/t)/(2*Math.PI)):p((t+1)/2)/(p(t/2)*Math.sqrt(t*Math.PI))}function j(t,r,n){if(void 0===n&&(n=t-r),Math.abs(n)<.1*(t+r))for(var e=n/(t+r),a=n*n/(t+r),u=2*t*e,o=1;o<10;o++){var i=a+(u*=e*e)/(2*o+1);if(i==a)return i;a=i}return t*Math.log(t/r)+r-t}t.sin=P,t.cos=w,t.tan=I,t.sec=function(t){return x(Math.abs(t))?1/0:1/Math.cos(t)},t.csc=function(t){return q(Math.abs(t))?1/0:1/Math.sin(t)},t.cot=function(t){var r=Math.abs(t);return q(r)?1/0:x(r)?0:1/Math.tan(t)},t.acot=function(t){return Math.PI/2-Math.atan(t)},t.acsc=function(t){return Math.asin(1/t)},t.asec=function(t){return Math.acos(1/t)},t.sech=function(t){return 1/a.cosh(t)},t.csch=function(t){return 1/a.sinh(t)},t.coth=function(t){return 1/a.tanh(t)},t.asech=function(t){return a.acosh(1/t)},t.acsch=function(t){return a.asinh(1/t)},t.acoth=function(t){return a.atanh(1/t)},t.mean=y,t.total=function(t){for(var r=0,n=0;n<t.length;n++)r+=t[n];return r};var F=[0,.08106146679532726,.0413406959554093,.02767792568499834,.020790672103765093,.016644691189821193,.013876128823070748,.01189670994589177,.010411265261972096,.009255462182712733,.00833056343336287,.007573675487951841,.00694284010720953,.006408994188004207,.0059513701127588475,.005554733551962801];function O(t){return t>15?T(t):t<0?NaN:t===Math.floor(t)?F[t]:Math.log(v(t)/(Math.pow(t,t)*Math.exp(-t)*Math.sqrt(2*Math.PI*t)))}function T(t){var r=t*t;return(.08333333333333333-(.002777777777777778-(.0007936507936507937-(.0005952380952380953-.0008417508417508417/r)/r)/r)/r)/t}function Q(t,r){return r<=0?NaN:S(r)*Math.pow(1+t*t/r,-(r+1)/2)}function C(t,r){if(r>0)return 1-C(t,-r);if(r===-1/0)return 0;if(0===r)return.5;if(t>=40&&r>-1)return.5+S(t)*function(t,r){for(var n=r*r/t,e=r,a=e,u=1;u<=15;u++)a+=e*=-(2*u-1)/(2*u+1)*(.5*(t+1)+u-1)/u*n;return a}(t,r);if(r/t<-1e3){var n=r*r;return S(t)*Math.pow(t,.5*(t-1))*Math.pow(Math.abs(r),-t)*(1-t*t*(t+1)*(1/(2+t)+t*(t+3)/(4*(4+t)*n))/(2*n))}var e=Math.sqrt(r*r+t);return function(t,r,n){if(t<0||t>1)throw new RangeError("First argument must be between 0 and 1.");if(1===r&&1===n)return t;if(0===t)return 0;if(1===t)return 1;if(0===r)return 1;if(0===n)return 0;var e=O(r+n)-O(r)-O(n)-j(r,(r+n)*t)-j(n,(r+n)*(1-t),(r+n)*t-r),a=Math.exp(e)*Math.sqrt(r*n/(2*Math.PI*(r+n)));return t<(r+1)/(r+n+2)?a*R(t,r,n)/r:1-a*R(1-t,n,r)/n}((r+e)/(2*e),t/2,t/2)}function E(t,r,n){return n<=0?NaN:t===-1/0?C(n,r):t>0&&r>0?C(n,-t)-C(n,-r):C(n,r)-C(n,t)}function R(t,r,n){var e=Math.pow(2,-52),a=1e-300,u=r+n,o=r+1,i=r-1,f=1,h=1-u*t/o;Math.abs(h)<a&&(h=a);for(var c=h=1/h,s=1;s<=100;s++){var l=2*s,M=s*(n-s)*t/((i+l)*(r+l));h=1+M*h,Math.abs(h)<a&&(h=a),f=1+M/f,Math.abs(f)<a&&(f=a),c*=(h=1/h)*f,h=1+(M=-(r+s)*(u+s)*t/((r+l)*(o+l)))*h,Math.abs(h)<a&&(h=a),f=1+M/f,Math.abs(f)<a&&(f=a);var v=(h=1/h)*f;if(c*=v,Math.abs(v-1)<=e)return c}return c}function _(t,r,n){return(t-r)/(Math.SQRT2*Math.abs(n))}function G(t){return t<0?.5*Math.exp(-t*t)*K(-t):1-.5*Math.exp(-t*t)*K(t)}function A(r){var n=t.md5Spyable(r);return(4294967296*(2097151&parseInt(n.slice(0,8),16))+parseInt(n.slice(8,16),16))/9007199254740992}function D(t,r){for(var n=r.length-1;n>0;n--){var e=t+"::sc"+n,a=Math.floor(A(e)*(n+1)),u=r[n];r[n]=r[a],r[a]=u}}function L(t,r,n){return A(t)*(n-r)+r}function k(t,r,n){return t>=r?1:t<0?0:t<Math.floor((r+1)*n)?B(t,r,n):1-B(r-t-1,r,1-n)}function B(t,r,n){for(var e=(1-n)/n,a=U(t,r,n),u=a;t>0&&u+(a*=t/(r-t+1)*e)!==u;t--)u+=a;return u}function U(t,r,n){if(t=Math.round(t),(r=l(Math.round(r),0,1/0))===1/0)return NaN;if(n=l(n,0,1),t<0||t>r)return 0;if(0===n)return 0===t?1:0;if(1===n)return t===r?1:0;if(0===t)return Math.exp(r*a.log1p(-n));if(t===r)return Math.pow(n,r);var e=O(r)-O(t)-O(r-t)-j(t,r*n)-j(r-t,r*(1-n),r*n-t);return Math.exp(e)*Math.sqrt(r/(2*Math.PI*t*(r-t)))}function z(t,r){return r<0?NaN:(t=Math.round(t))<0?0:0===r?0===t?1:0:0===t?Math.exp(-r):Math.exp(-O(t)-j(t,r))/Math.sqrt(2*Math.PI*t)}function H(t,r){if(isNaN(t)||isNaN(r))return NaN;if(t===1/0)return 1;if((t=Math.floor(t))<0)return 0;if(0===r)return 1;if(t+1>12&&2.35*(t+1)>r&&.3*(t+1)<r)return function(t,r){for(var n=r/t,e=a.sign(r-t)*Math.sqrt(2*j(1,n)),u=[1,-.3333333333333333,.08333333333333333,-.014814814814814815,.0011574074074074073,.0003527336860670194,-.0001787551440329218,3919263178522438e-20,-2185448510679992e-21,-185406221071516e-20,8.296711340953087e-7,-1.7665952736826078e-7,6.707853543401498e-9,1.0261809784240309e-8,-4.382036018453353e-9,9.14769958223679e-10,-25514193994946248e-27,-5830772132550426e-26,24361948020667415e-27,-50276692801141755e-28,11004392031956135e-29,3371763262400985e-28,-1392388722418162e-28,28534893807047445e-30,-5139111834242572e-31,-19752288294349442e-31,8099521156704561e-31],o=u.length-2,i=0,f=0,h=0,c=0;o>=0;o--)c=e*c+(h=(o+2)*i/t+u[o+1]),i=f,f=h;if(c*=t/(t+i),r<t){var s=Math.exp(-.5*t*e*e)*(.5*K(-e*Math.sqrt(t/2))-c/Math.sqrt(2*Math.PI*t));return isFinite(s)?1-s:1}var l=Math.exp(-.5*t*e*e)*(.5*K(e*Math.sqrt(t/2))+c/Math.sqrt(2*Math.PI*t));return isFinite(l)?l:0}(t+1,r);if(t+1>=r){var n=function(t,r){var n=Math.pow(2,-52),e=1e-300,a=1/t,u=1/e,o=1/t,i=2,f=0,h=t,c=-(t-1),s=0;do{0===(o=o*(c-=1)*r+(h+=1))&&(o=e),0===(u=h+c*r/u)&&(u=e),a*=f=u*(o=1/o),0===(o=o*(s+=1)*r+(h+=1))&&(o=e),0===(u=h+s*r/u)&&(u=e),a*=f=u*(o=1/o),i+=2}while(i<100&&Math.abs(f-1)>n);return a}(t+1,r);return isFinite(n)?1-r*z(t,r)*n:1}n=function(t,r){var n=Math.pow(2,-52),e=1e-300,a=r+1-t,u=1/a,o=1/e,i=1/a,f=2,h=0,c=a;do{var s=-(f-1)*(f-t-1);0===(i=i*s+(c+=2))&&(i=e),0===(o=c+s/o)&&(o=e),u*=h=o*(i=1/i),f+=1}while(f<100&&Math.abs(h-1)>n);return u}(t+1,r);return isFinite(n)?r*z(t,r)*n:0}function J(t,r,n){return n<=r?NaN:t<r?0:t>n?1:(t-r)/(n-r)}function K(t){if(t<0)return t<-6.1?2*Math.exp(t*t):2*Math.exp(t*t)-K(-t);if(t>50){var r=.5641895835477563,n=t*t;return t>5e7?r/t:r*(n*(n+4.5)+2)/(t*(n*(n+5)+3.75))}return(.9999999999999999+t*(2.224574423459406+t*(2.444115549920689+t*(1.7057986861852539+t*(.8257463703357973+t*(.28647031042892007+t*(.07124513844341643+t*(.012296749268608364+t*(.001347817214557592+7263959403471071e-20*t)))))))))/(1+t*(3.352953590554884+t*(5.227518529742423+t*(5.003720878235473+t*(3.266590890998987+t*(1.5255421920765353+t*(.5185887413188858+t*(.12747319185915415+t*(.02185979575963238+t*(.0023889438122503674+.00012875032817508128*t))))))))))}function V(t){var r,n,e;return t>.5?-V(1-t):.5===t?0:t<0?NaN:0===t?-1/0:(e=t<.02425?(((((-.00778489400243029*(r=Math.sqrt(-2*Math.log(t)))-.322396458041136)*r-2.40075827716184)*r-2.54973253934373)*r+4.37466414146497)*r+2.93816398269878)/((((.00778469570904146*r+.32246712907004)*r+2.445134137143)*r+3.75440866190742)*r+1):(((((-39.6968302866538*(n=(r=t-.5)*r)+220.946098424521)*n-275.928510446969)*n+138.357751867269)*n-30.6647980661472)*n+2.50662827745924)*r/(((((-54.4760987982241*n+161.585836858041)*n-155.698979859887)*n+66.8013118877197)*n-13.2806815528857)*n+1))-Math.sqrt(2*Math.PI)*(.5*K(-e/Math.SQRT2)-Math.exp(.5*e*e)*t)}function W(t,r){if(r<=0||t<0||t>1)return NaN;if(0===t)return 0;if(1===t)return 1/0;for(var n=1,e=1,a=1;Math.exp(-r)*e<t;){if(e+(n*=r/a)===e)return 1/0;e+=n,a+=1}return a-1}function X(t,r,n){if(r!==Math.round(r))return NaN;if(n<0||n>1)return NaN;if(t<0||t>1)return NaN;if(0===t)return 0;if(1===t)return r;if(0===r)return 0;if(1===n)return r;if(0===n)return 0;for(var e=n/(1-n),a=Math.pow(1-n,r),u=a,o=1;u<t;){if(u+(a*=(r-o+1)/o*e)===u)return r;if(o>r)return r;u+=a,o+=1}return o-1}function Y(t,r){var n=4*r*(1-r);switch(t){case 1:return Math.tan(Math.PI*(r-.5));case 2:return 2*(r-.5)*Math.sqrt(2/n);case 4:var e=Math.cos(Math.acos(Math.sqrt(n))/3)/Math.sqrt(n);return 2*a.sign(r-.5)*Math.sqrt(e-1);default:throw new Error("_invTSimple() must be called with 1, 2, or 4 df.")}}function Z(t,r){var n=Mt(t);return(y(t)-r)*Math.sqrt(t.length)/n}function $(t,r){var n=t.length,e=y(t),a=Mt(t),u=r.length,o=y(r),i=Mt(r);return(e-o)/(Math.sqrt(((n-1)*a*a+(u-1)*i*i)/(n+u-2))*Math.sqrt(1/n+1/u))}function tt(t,r,n){return n<0?E(-1/0,t,r):n>0?E(-1/0,-t,r):2*E(-1/0,-Math.abs(t),r)}function rt(t){if(t.length<1)return NaN;var r=t[0];if(isNaN(r))return NaN;for(var n=1;n<t.length;n++){if(isNaN(t[n]))return NaN;t[n]<r&&(r=t[n])}return r}function nt(t){if(t.length<1)return NaN;var r=t[0];if(isNaN(r))return NaN;for(var n=1;n<t.length;n++){if(isNaN(t[n]))return NaN;t[n]>=r&&(r=t[n])}return r}function et(t,r){if(!isFinite(r)||r<0||r>1)return NaN;if(t.some(isNaN))return NaN;if(0===t.length)return NaN;var n=t.length,e=ut(t),a=r*(n-1);return Math.floor(a)===a?t[e[a]]:(Math.ceil(a)-a)*t[e[Math.floor(a)]]+(a-Math.floor(a))*t[e[Math.ceil(a)]]}function at(t,r){if(!isFinite(r)||r<0||r>4)return NaN;if(t.some(isNaN))return NaN;var n=ut(t),e=ot(t,r),a=Math.floor(e),u=Math.ceil(e);return(t[n[a]]+t[n[u]])/2}function ut(t){for(var r=t.length,n=[],e=0;e<r;e++)n.push(e);return n.sort(function(r,n){return c.asFloat(c.sub(t[r],t[n]))}),n}function ot(t,r){r=Math.round(r);var n,e=t.length,a=e%2==1;return 1===e?0:(0===r&&(n=0),2===r&&(n=(e-1)/2),4===r&&(n=e-1),1===r&&(n=a?(e+1)/4-1:(e+2)/4-1),3===r&&(n=a?(3*e+3)/4-1:(3*e+2)/4-1),void 0===n?NaN:n)}function it(t){return et(t,.5)}function ft(t){for(var r=y(t),n=0,e=0;e<t.length;e++){var a=t[e]-r;n+=a*a}return n/t.length}function ht(t){var r=t.length;return ft(t)*r/(r-1)}function ct(t,r){var n=Math.min(t.length,r.length);t.length!==n&&(t=t.slice(0,n)),r.length!==n&&(r=r.slice(0,n));for(var e=y(t),a=y(r),u=0,o=0;o<n;o++)u+=(t[o]-e)*(r[o]-a);return u/n}function st(t,r){var n=Math.min(t.length,r.length);t.length!==n&&(t=t.slice(0,n)),r.length!==n&&(r=r.slice(0,n));for(var e=y(t),a=y(r),u=0,o=0,i=0,f=0;f<n;f++){var h=t[f]-e,c=r[f]-a;u+=h*h,o+=c*c,i+=h*c}return i/Math.sqrt(u*o)}function lt(t){var r=t.length;if(0===r)return[];for(var n=[],e=[],a=0;a<r;a++)e.push([t[a],a]);e.sort(function(t,r){var n=t[0],e=r[0];return n===1/0&&e===1/0||n===-1/0&&e===-1/0?0:n-e});for(var u=0,o=1,i=1;u<r;){for(var f=u;f<r-1&&e[f][0]===e[f+1][0];)f+=1;i=f-u+1;var h=void 0;for(f=0;f<i;f++)n[h=e[u+f][1]]=isNaN(t[h])?NaN:o+.5*(i-1);o+=i,u+=i}return n}function Mt(t){return Math.sqrt(ht(t))}function vt(t,r,n){return[l(Math.round(t),0,255),l(Math.round(r),0,255),l(Math.round(n),0,255)]}function pt(t){if(Array.isArray(t))return"["+t.map(pt).join(",")+"]";switch(typeof t){case"string":return t;case"boolean":case"number":return t.toString();case"object":if("object"==typeof(e=t)&&e&&"Action"===e.type){var r=[];for(var n in t.updateRules)r.push(\'"\'+n+\'": \'+pt(t.updateRules[n].value));return"{"+r.join(",")+"}"}return t.n+"/"+t.d;default:return t}var e}t.tpdf=Q,t.tcdf=E,t.normalcdf=function(t,r,n,e){var a=_(r,n,e);if(t===-1/0)return G(a);var u=_(t,n,e);return t>0&&r>0?G(-u)-G(-a):G(a)-G(u)},t.normalpdf=function(t,r,n){return 1/Math.sqrt(2*Math.PI*n*n)*Math.exp(-(t-r)*(t-r)/(2*n*n))},t.random=A,t.shuffle=function(t,r){var n=r.slice();return D(t,n),n},t.randomPerm=function(t,r){for(var n=[],e=0;e<r;e++)n.push(e);return D(t,n),n},t.uniformSample=L,t.normalSample=function(t,r,n){var e,a,u,o,i=0;do{e=t+"::sc"+i,i+=1,a=2*L(e,0,1)-1,e=t+"::sc"+i,i+=1,o=a*a+(u=2*L(e,0,1)-1)*u}while(o>=1||0===o);return r+n*a*Math.sqrt(-2*Math.log(o)/o)},t.tSample=function(t,r){if(r<=0)return NaN;var n,e,a,u,o=0;do{n=t+"::sc"+o,o+=1,e=2*L(n,0,1)-1,n=t+"::sc"+o,o+=1,u=e*e+(a=2*L(n,0,1)-1)*a}while(u>1);var i=e*e/u,f=r*(Math.pow(u,-2/r)-1);return n=t+"::sc"+o,o+=1,(L(n,0,1)<.5?-1:1)*Math.sqrt(i*f)},t.binomSample=function(t,r,n){return(r=l(Math.round(r),0,1/0))===1/0?NaN:(n=l(n,0,1),X(L(t,0,1),r,n))},t.poissonSample=function(t,r){return r<=0?NaN:W(L(t,0,1),r)},t.binomcdf=function(t,r,n,e){return(n=l(Math.round(n),0,1/0))===1/0?NaN:(e=l(e,0,1),r<0?0:(t=Math.ceil(t),r=Math.floor(r),t===-1/0?k(r,n,e):k(r,n,e)-k(t-1,n,e)))},t.binompdf=U,t.poissonpdf=z,t.poissoncdf=function(t,r,n){return n<=0?NaN:(t=Math.ceil(t),(r=Math.floor(r))<0?0:t===-1/0?H(r,n):H(r,n)-H(t-1,n))},t.uniformpdf=function(t,r,n){return n<=r?NaN:t<r||t>n?0:1/(n-r)},t.uniformcdf=function(t,r,n,e){return J(r,n,e)-J(t,n,e)},t.erf=function(t){var r=-t*t;return r<-750?t>=0?1:-1:t>=.065?1-Math.exp(r)*K(t):t<=-.065?Math.exp(r)*K(-t)-1:t*(1.1283791670955126+r*(.37612638903183754+r*(.11283791670955126+r*(.026866170645131252+.005223977625442188*r))))},t.erfcx=K,t.invNorm=V,t.invPoisson=W,t.invBinom=X,t.invT=function t(r,n){return isNaN(n)||n<=0||r<0||r>1?NaN:0===r?-1/0:1===r?1/0:1===n||2===n||4===n?Y(n,r):.5===r?0:r>.5?function(t,r,n,e){if(!isFinite(n)||!isFinite(e))return NaN;var a=n,u=e;for(;;){var o=h.floatMiddle(a,u),i=C(t,o);if(o===a||o===u)return i>r?a:u;i<r?a=o:u=o}}(n,r,n>1?V(r):Y(1,r),n>1?Y(1,r):Math.pow(Q(0,n)*Math.pow(n,(n-1)/2)/(1-r),1/n)):-t(1-r,n)},t.invUniform=function(t,r,n){return t<0||t>1||n<=r?NaN:0===t?r:1===t?n:r+t*(n-r)},t.tscore=Z,t.itscore=$,t.ttest=function(t,r){1===arguments.length&&(r=0);var n=Z(t,r),e=t.length-1;return{lessThan:tt(n,e,-1),greaterThan:tt(n,e,1),notEqual:tt(n,e,0)}},t.ittest=function(t,r){var n=$(t,r),e=t.length+r.length-2;return{lessThan:tt(n,e,-1),greaterThan:tt(n,e,1),notEqual:tt(n,e,0)}},t.stats=function(t){return{min:rt(t),q1:at(t,1),median:it(t),q3:at(t,3),max:nt(t)}},t.length=function(t){return t.length},t.listMin=rt,t.listMax=nt,t.quantile=et,t.quartile=at,t.sortPerm=ut,t.quartileIndex=ot,t.upperQuantileIndex=function(t,r){return ut(t)[Math.ceil(r*(t.length-1))]+1},t.lowerQuantileIndex=function(t,r){return ut(t)[Math.floor(r*(t.length-1))]+1},t.upperQuartileIndex=function(t,r){return ut(t)[Math.ceil(ot(t,r))]+1},t.lowerQuartileIndex=function(t,r){return ut(t)[Math.floor(ot(t,r))]+1},t.median=it,t.argMin=function(t){if(t.length<1)return 0;var r=t[0];if(isNaN(r))return 0;for(var n=0,e=1;e<t.length;e++){if(isNaN(t[e]))return 0;t[e]<r&&(n=e,r=t[e])}return n+1},t.argMax=function(t){if(t.length<1)return 0;var r=t[0];if(isNaN(r))return 0;for(var n=0,e=1;e<t.length;e++)if(t[e]>=r){if(isNaN(t[e]))return 0;n=e,r=t[e]}return n+1},t.varp=ft,t.mad=function(t){for(var r=y(t),n=0,e=0;e<t.length;e++)n+=Math.abs(t[e]-r);return n/t.length},t.variance=ht,t.covp=ct,t.cov=function(t,r){var n=Math.min(t.length,r.length);return ct(t,r)*n/(n-1)},t.corr=st,t.validateRangeLength=function(t,r,n,e){for(var a=t[0],u=2;u<t.length;u++){var i=c.asFloat(c.div(c.sub(t[u],a),n));if(!o.approx(i,u,10))return 0}var f=c.asFloat(e);for(u=0;u<r.length-1;u++){i=c.asFloat(c.div(c.sub(r[u],a),n));if(!o.approx(i,f-r.length+u,10))return 0}return!isFinite(f)||f<t.length||f<r.length?0:f},t.validateSampleCount=function(t){return t<0||!isFinite(t)?0:t},t.rank=lt,t.spearman=function(t,r){var n=Math.min(t.length,r.length);return t.length!==n&&(t=t.slice(0,n)),r.length!==n&&(r=r.slice(0,n)),st(lt(t),lt(r))},t.stdev=Mt,t.stdevp=function(t){return Math.sqrt(ft(t))},t.quad=n.quad,t.distance=function(t,r){return o.hypot(r[0]-t[0],r[1]-t[1])},t.rgb=vt,t.hsv=function(t,n,e){t=l(t,0,360),n=l(n,0,1);var a=(e=l(e,0,1))*(1-n/2);n=0===a||1===a?0:(e-a)/Math.min(a,1-a);var u=r.hsl(t,n,a).rgb();return vt(u.r,u.g,u.b)},t.polygon=function(t){return t},t.select=function(t,r){for(var n=[],e=0;e<t.length;e++)r[e]&&n.push(t[e]);return n},t.elementsAt=function(t,r){for(var n=[],e=0,a=r;e<a.length;e++){var u=a[e];n.push(t[u])}return n},t.uniquePerm=function(t){for(var r=[],n={},e=0;e<t.length;e++){var a=pt(t[e]);n.hasOwnProperty(a)||(n[a]=!0,r.push(e))}return r}});\ndefine(\'core/math/functions\',["require","exports","core/math/builtin","core/math/errormsg"],function(require,e,t,r){"use strict";function n(e){delete e.fn}function o(e){e.fn=i(e.args,e.source,e.constants)}function i(e,n,o){var i=e.join(",");return new Function("BuiltIn","ErrorMsg","_C","return (function("+i+\'){"use strict"; \'+n+"})")(t,r,o)}Object.defineProperty(e,"__esModule",{value:!0}),e.closureFunctionWithBuiltIn=e.rehydrateCompiledFunction=e.dehydrateCompiledFunction=e.rehydrateGraphData=e.dehydrateGraphData=void 0,e.dehydrateGraphData=function(e){for(var t=0,r=e;t<r.length;t++){var o=r[t].compiled;o&&n(o)}},e.rehydrateGraphData=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t].compiled;n&&o(n)}},e.dehydrateCompiledFunction=n,e.rehydrateCompiledFunction=o,e.closureFunctionWithBuiltIn=i});\ndefine(\'core/math/ir/instructions\',["require","exports","./opcodes"],function(require,e,n){"use strict";function t(e){return e.type<=n.MAX_LEAF_OPCODE}Object.defineProperty(e,"__esModule",{value:!0}),e.endsBlock=e.beginsBlock=e.isInternalInstruction=e.isLeafInstruction=void 0,e.isLeafInstruction=t,e.isInternalInstruction=function(e){return!t(e)},e.beginsBlock=function(e){switch(e.type){case n.BeginIntegral:case n.BeginBroadcast:case n.BeginLoop:return!0;default:return!1}},e.endsBlock=function(e){switch(e.type){case n.EndLoop:case n.EndIntegral:case n.EndBroadcast:return!0;default:return!1}}});\ndefine(\'core/math/ir/features/print\',["require","exports","../instructions","../opcodes","core/math/types","../../context-types"],function(require,e,r,t,n,s){"use strict";function a(e,r){var s=e.getInstruction(r);switch(s.type===t.Noop&&s.removedInstructionForDebuggingOnly&&(s=s.removedInstructionForDebuggingOnly),s.type){case t.Noop:return c(s.type);case t.LoadArg:return c(s.type)+" "+n.repr(s.valueType)+" "+e.argNames[r];case t.SymbolicVar:return c(s.type)+" "+n.repr(s.valueType);case t.Constant:return c(s.type)+" "+n.repr(s.valueType)+" "+o(s.value);case t.NativeFunction:case t.Distribution:return c(s.type)+" "+n.repr(s.valueType)+" "+s.symbol+" "+s.args.join(" ");case t.ExtendSeed:return c(s.type)+" "+n.repr(s.valueType)+" "+s.tag+" "+s.args.join(" ");case t.BroadcastResult:return c(s.type)+" "+n.repr(s.valueType)+" "+s.args.join(" ")+(s.isConstantBroadcast?" (constant)":"");case t.Add:case t.Subtract:case t.Multiply:case t.Divide:case t.RawExponent:case t.Exponent:case t.Negative:case t.OrderedPair:case t.OrderedPairAccess:case t.BeginLoop:case t.EndLoop:case t.BeginIntegral:case t.EndIntegral:case t.BeginBroadcast:case t.EndBroadcast:case t.Equal:case t.Less:case t.Greater:case t.LessEqual:case t.GreaterEqual:case t.And:case t.Piecewise:case t.List:case t.ListAccess:case t.DeferredListAccess:case t.InboundsListAccess:case t.BlockVar:case t.Action:return c(s.type)+" "+n.repr(s.valueType)+" "+s.args.join(" ");default:throw new Error("Unexpected opcode "+s.type)}}function c(e){switch(e){case t.Noop:return"Noop";case t.Constant:return"Constant";case t.Add:return"Add";case t.Subtract:return"Subtract";case t.Multiply:return"Multiply";case t.Divide:return"Divide";case t.Exponent:return"Exponent";case t.RawExponent:return"RawExponent";case t.Negative:return"Negative";case t.OrderedPair:return"OrderedPair";case t.OrderedPairAccess:return"OrderedPairAccess";case t.BeginLoop:return"BeginLoop";case t.EndLoop:return"EndLoop";case t.BeginIntegral:return"BeginIntegral";case t.EndIntegral:return"EndIntegral";case t.BeginBroadcast:return"BeginBroadcast";case t.EndBroadcast:return"EndBroadcast";case t.Equal:return"Equal";case t.Less:return"Less";case t.Greater:return"Greater";case t.LessEqual:return"LessEqual";case t.GreaterEqual:return"GreaterEqual";case t.And:return"And";case t.Piecewise:return"Piecewise";case t.List:return"List";case t.ListAccess:return"ListAccess";case t.DeferredListAccess:return"DeferredListAccess";case t.InboundsListAccess:return"InboundsListAccess";case t.NativeFunction:return"NativeFunction";case t.Distribution:return"Distribution";case t.LoadArg:return"LoadArg";case t.BlockVar:return"BlockVar";case t.BroadcastResult:return"BroadcastResult";case t.SymbolicVar:return"SymbolicVar";case t.ExtendSeed:return"ExtendSeed";case t.Action:return"Action";default:throw new Error("Unexpected opcode "+e.type)}}function o(e){if(Array.isArray(e))return"["+e.map(o).join(",")+"]";switch(typeof e){case"string":return e;case"boolean":case"number":return e.toString();case"object":if(s.isActionCompilerValue(e)){var r=[];for(var t in e.updateRules)r.push(\'"\'+t+\'": \'+o(e.updateRules[t].value));return"{"+r.join(", ")+"}"}return e.n+"/"+e.d;default:throw new Error("Unexpected value: "+e)}}function i(e,r){var t=e.toString();return u(r-t.length)+t}function u(e){for(var r="",t=0;t<e;t++)r+=" ";return r}Object.defineProperty(e,"__esModule",{value:!0}),e.printValue=e.printOp=e.printInstruction=e.print=void 0,e.print=function(e){for(var n="",s=(e.instructionsLength()-1).toString().length,c=0,o=!1,d=0;d<e.instructionsLength();d++){var p=e.getInstruction(d),l=e.comments[d]||"",g=p.type===t.Noop&&p.removedInstructionForDebuggingOnly;if((r.endsBlock(p)||g&&r.endsBlock(g))&&(c-=1),p.type!==t.Noop||g){o=!1;var y=g?" [X]":"    ";n+=i(d,s)+":"+y+" "+u(2*c)+a(e,d)+(l?"\\t\\t# "+l:"")+"\\n"}else o||(n+=i(d,s)+": "+u(2*c)+"...\\n"),o=!0;(r.beginsBlock(p)||g&&r.beginsBlock(g))&&(c+=1)}return n},e.printInstruction=a,e.printOp=c,e.printValue=o});\ndefine(\'core/math/ir/features/is-constant\',["require","exports","../opcodes","./print"],function(require,t,n,s){"use strict";function o(t){return t.type===n.Constant}function r(t){return t.type===n.BroadcastResult&&t.isConstantBroadcast}Object.defineProperty(t,"__esModule",{value:!0}),t.isConstantOrConstantBroadcast=t.isConstantBroadcast=t.assertConstant=t.isConstant=void 0,t.isConstant=o,t.assertConstant=function(t){if(!o(t))throw new Error("Programming error: expected constant instruction but found "+s.printOp(t.type)+" instead.")},t.isConstantBroadcast=r,t.isConstantOrConstantBroadcast=function(t){return o(t)||r(t)}});\ndefine(\'core/math/ir/features/depends-on-outer-variable\',["require","exports","../instructions","./is-constant"],function(require,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dependsOnOuterVariable=void 0,t.dependsOnOuterVariable=function(t,e,s){var i=t.getInstruction(s);if(!n.isLeafInstruction(i))for(var a=0,o=i.args;a<o.length;a++){var u=o[a];if(!r.isConstantOrConstantBroadcast(t.getInstruction(u)))return!0}if(e<s)return!r.isConstantOrConstantBroadcast(t.getInstruction(e));for(var f=[!0],c=s+1;c<=e;c++)f.push(!1);for(var d=[e];d.length;){if(!f[(c=d.pop())-s]){f[c-s]=!0;var g=t.getInstruction(c);if(!n.isLeafInstruction(g))for(var v=0,l=g.args;v<l.length;v++){if((u=l[v])<s){if(!r.isConstantOrConstantBroadcast(t.getInstruction(u)))return!0}else f[u-s]||d.push(u)}}}return!1}});\ndefine(\'core/math/ir/features/reconstitute-ir\',["require","exports","core/math/types"],function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reconstituteIR=void 0,e.reconstituteIR=function e(r,n,o){if(t.isList(n)){for(var s=[],i=0;i<o.length;i++)s.push(e(r,t.elementType(n),o[i]));return r.ConstantOfType(n,s)}switch(n){case t.Number:return r.Constant(o);case t.Bool:case t.Point:case t.RGBColor:return r.ConstantOfType(n,o);default:throw new Error("Cannot reconstitute value of a "+t.prettyPrint(n)+".")}}});\ndefine(\'core/math/ir/features/list-length\',["require","exports","../opcodes","core/math/types","./print"],function(require,t,n,e,r){"use strict";function s(t,n){var e=i(t,n);if(!(e<0))return e}function i(t,s,a){var o,u=a&&a[s];if(u)return u;var c,g=t.getInstruction(s);switch(g.type){case n.List:c=g.args.length;break;case n.Constant:c=g.value.length;break;case n.BroadcastResult:c=null!==(o=g.constantLength)&&void 0!==o?o:-1}return void 0===c&&(c=function(t,s,a){switch(s.type){case n.Piecewise:var o=i(t,s.args[1],a);return o===i(t,s.args[2],a)?o:-1;case n.NativeFunction:switch(s.symbol){case"elementsAt":return i(t,s.args[1],a);case"sortPerm":return i(t,s.args[0],a);case"shuffle":return i(t,s.args[1],a);default:return-1}default:if(e.isList(s.valueType))return-1;throw new Error("Programming Error: cannot find the list length of "+r.printOp(s.type)+" "+e.prettyPrint(s.valueType)+".")}}(t,g,a=a||{})),a&&(a[s]=c),c}function a(t,r){var s=t.getInstruction(r);if(!e.isList(s.valueType))throw new Error("Programming Error: cannot find the list length of "+t.printInstruction(r));switch(s.type){case n.List:return t.Constant(s.args.length);case n.Constant:return t.Constant(s.value.length);case n.BroadcastResult:var i=t.getInstruction(s.args[0]);return t.getInstruction(i.args[0]).args[0];case n.NativeFunction:switch(s.symbol){case"elementsAt":return a(t,s.args[1]);case"sortPerm":return a(t,s.args[0]);case"shuffle":return a(t,s.args[1])}}return t.SyntheticNativeFunction("length",[r])}Object.defineProperty(t,"__esModule",{value:!0}),t.minListLengthIndex=t.listLengthIndex=t.getConstantListLength=t.assertConstantListLength=void 0,t.assertConstantListLength=function(t,n,e){var i=s(t,n);if(void 0===i)throw new Error(e+\'\\nNon-constant instruction: "\'+r.printInstruction(t,a(t,n))+\'"\');return i},t.getConstantListLength=s,t.listLengthIndex=a,t.minListLengthIndex=function(t,n){for(var r=[],i=0,o=n;i<o.length;i++){var u=o[i];e.isList(t.getInstruction(u).valueType)&&r.push(u)}if(0!==r.length){if(1===r.length)return a(t,r[0]);for(var c,g=[],h=0,l=r;h<l.length;h++){var f=l[h];g.push(s(t,f))}for(var v=1/0,p=0;p<g.length;p++){var L=r[p],d=g[p];if(void 0===d)return t.SyntheticNativeFunction("min",[t.List(r.map(function(n){return a(t,n)}))]);d<v&&(c=L,v=d)}return void 0!==c?a(t,c):t.Constant(v)}}});\ndefine(\'core/math/ir/features/contains-nan-value\',["require","exports","core/math/types","core/math/maybe-rational"],function(require,e,t,n){"use strict";function a(e,a){switch(e){case t.Number:return n.isNanFloat(a);case t.Point:var r=a,o=r[0],i=r[1];return n.isNanFloat(o)||n.isNanFloat(i);case t.RGBColor:var s=a,u=s[0],c=s[1],l=s[2];return n.isNanFloat(u)||n.isNanFloat(c)||n.isNanFloat(l);case t.Action:return 0===Object.keys(a.updateRules).length;case t.Bool:return!1;default:throw new Error("Type cannot contain a NaN value: "+t.prettyPrint(e)+".")}}Object.defineProperty(e,"__esModule",{value:!0}),e.containsNanValue=void 0,e.containsNanValue=function(e,n){if(t.isList(e)){for(var r=t.elementType(e),o=0;o<n.length;o++)if(a(r,n[o]))return!0;return!1}return a(e,n)}});\ndefine(\'core/math/ir/features/interpret\',["require","exports","tslib","core/math/maybe-rational","../opcodes","core/math/types","../instructions","../builtin-table","./as-value","./nan-of-type","../../builtin","../../errormsg"],function(require,r,e,t,a,n,s,u,o,c,i,l){"use strict";function g(r,e){return t.add(r,e)}function d(r,e){return t.sub(r,e)}function p(r,e){return t.mul(r,e)}function f(r,e){return t.div(r,e)}function v(r,e){return t.pow(r,e)}function h(r,e){return v(r,e)}function y(r){return t.neg(r)}function m(r,e){return[r,e]}function E(r,e){return r[t.asFloat(e)-1]}function L(r,e){return t.asFloat(r)===t.asFloat(e)}function A(r,e){return t.asFloat(r)<t.asFloat(e)}function I(r,e){return t.asFloat(r)>t.asFloat(e)}function b(r,e){return t.asFloat(r)<=t.asFloat(e)}function F(r,e){return t.asFloat(r)>=t.asFloat(e)}function B(r){return r}function w(r,e,a){var n=Math.floor(t.asFloat(a))-1;return!isFinite(n)||n<0||n>=e.length?c.nanOfType(r):e[n]}function R(r,e){return r[Math.floor(t.asFloat(e))-1]}function q(r,e,a){return t.isRational(a)&&(a=t.asFloat(a)),e+"::"+r+a}function P(r,e){switch(r){case"mod":return t.mod(e[0],e[1]);case"abs":return t.abs(e[0]);case"sqrt":return t.sqrt(e[0]);case"nthroot":return t.nthroot(e[0],e[1]);case"total":return t.total(e[0]);case"length":return e[0].length;case"validateRangeLength":var a=e[0],n=e[1],s=e[2],c=e[3];if(0===(g=i.validateRangeLength(a,n,s,c)))throw l.nonArithmeticRange();return g;case"validateSampleCount":var g;c=o.compilerValueToRuntimeValue(e[0]);if(0===(g=i.validateSampleCount(c))&&0!==c)throw l.badSampleSize();return g;case"select":case"elementsAt":case"uniquePerm":case"sortPerm":var d=u.BuiltInTable[r];return i[d.symbol].apply(null,e);default:return("Math"===(d=u.BuiltInTable[r]).module?Math:i)[d.symbol].apply(null,o.compilerValueToRuntimeValue(e))}}function T(r,e,a){if(e.constantLength)return e.constantLength;var n=e.args[0],s=r.getInstruction(n).args[0],u=r.getInstruction(s);return t.asFloat(M(r,u.args[0],a))}function x(r,e,t,a){var s=r.getInstruction(e),u=T(r,s,a);if(!isFinite(t)||t<0||t>=u)return c.nanOfType(n.elementType(s.valueType));var o=s.args[0],i=e-o,l=r.getInstruction(o),g=l.args[0],d=l.args[i];a[g]=t+1;for(var p=M(r,d,a),f=g;f<=o;f++)a[f]=void 0;return p}function S(r,n,s){var u=M(r,n.args[1],s),o=n.args[0],c=r.getInstruction(o);if(c.type===a.BroadcastResult)return x(r,o,t.asFloat(u)-1,s);if(c.type===a.Piecewise){var i=M(r,c.args[0],s);return S(r,e.__assign(e.__assign({},n),{args:[i?c.args[1]:c.args[2],n.args[1]]}),s)}var l=M(r,n.args[0],s);return w(n.valueType,l,u)}function M(r,e,a){var n=a[e];if(void 0!==n)return n;var s=O(r,e,a);return"number"==typeof s&&s===Math.floor(s)&&(s=t.maybeRational(s,1)),a[e]=s,s}function O(r,e,t){var n=r.getInstruction(e);switch(n.type){case a.Constant:return n.value;case a.Add:return g(M(r,n.args[0],t),M(r,n.args[1],t));case a.Subtract:return d(M(r,n.args[0],t),M(r,n.args[1],t));case a.Multiply:return p(M(r,n.args[0],t),M(r,n.args[1],t));case a.Divide:return f(M(r,n.args[0],t),M(r,n.args[1],t));case a.Exponent:return v(M(r,n.args[0],t),M(r,n.args[1],t));case a.RawExponent:return h(M(r,n.args[0],t),M(r,n.args[1],t));case a.Negative:return y(M(r,n.args[0],t));case a.OrderedPair:return m(M(r,n.args[0],t),M(r,n.args[1],t));case a.OrderedPairAccess:return E(M(r,n.args[0],t),M(r,n.args[1],t));case a.Equal:return L(M(r,n.args[0],t),M(r,n.args[1],t));case a.Less:return A(M(r,n.args[0],t),M(r,n.args[1],t));case a.Greater:return I(M(r,n.args[0],t),M(r,n.args[1],t));case a.LessEqual:return b(M(r,n.args[0],t),M(r,n.args[1],t));case a.GreaterEqual:return F(M(r,n.args[0],t),M(r,n.args[1],t));case a.And:return M(r,n.args[0],t)&&M(r,n.args[1],t);case a.ExtendSeed:return q(n.tag,M(r,n.args[0],t),M(r,n.args[1],t));case a.Piecewise:var u=M(r,n.args[0],t);return M(r,u?n.args[1]:n.args[2],t);case a.NativeFunction:for(var o=[],c=0,i=n.args;c<i.length;c++){var l=i[c];o.push(M(r,l,t))}return P(n.symbol,o);case a.List:o=[];for(var B=0,w=n.args;B<w.length;B++){l=w[B];o.push(M(r,l,t))}return o;case a.ListAccess:case a.DeferredListAccess:case a.InboundsListAccess:return S(r,n,t);case a.BroadcastResult:return function(r,e,t){for(var a=r.getInstruction(e),n=[],s=T(r,a,t)-1;s>=0;s--)n[s]=x(r,e,s,t);return n}(r,e,t);case a.BlockVar:var R=n.args[0],O=r.getInstruction(R).args[0],D=e-R,N=r.getInstruction(R).args[D],V=[];V[N]=!0;for(var _=N;_>=O;_--)if(V[_]){var C=r.getInstruction(_);if(!s.isLeafInstruction(C))for(var G=0,k=C.args;G<k.length;G++){(l=k[G])<O?M(r,l,t):V[l]=!0}}var W=r.copy();W.truncate(O);for(_=0;_<O;_++){var j=t[_],z=r.getInstruction(_);if(void 0!==j){var H=z.valueType;W.replaceInstructionWithConstant(_,{type:a.Constant,valueType:H,value:j})}}var J=[];for(_=O;_<e;_++){var K=r.getInstruction(_);if(s.isLeafInstruction(K))J.push(W.copyInstruction(K));else{for(var Q=[],U=0,X=K.args;U<X.length;U++){l=X[U];Q.push(l<O?l:J[l-O])}K.type===a.DeferredListAccess?J.push(W.InboundsListAccess(Q)):J.push(W.copyInstructionWithArgs(K,Q))}}return W.Noop(),W.replaceInstructionWithBlockVar(W.returnIndex,{type:a.BlockVar,valueType:n.valueType,args:[R<O?R:J[R-O]]}),W.close().getCompiledFunction().fn();case a.BeginLoop:case a.EndLoop:case a.BeginIntegral:case a.EndIntegral:case a.BeginBroadcast:case a.EndBroadcast:case a.Distribution:case a.Noop:case a.LoadArg:case a.SymbolicVar:case a.Action:throw new Error("Programming Error: cannot interpret opcode "+n.type);default:throw new Error("Programming Error: unexpected opcode "+n.type)}}Object.defineProperty(r,"__esModule",{value:!0}),r._interpretRecursive=r.interpretBroadcastElements=r.interpretBroadcastElement=r.interpret=r.NativeFunction=r.ExtendSeed=r.InboundsListAccess=r.DeferredListAccess=r.ListAccess=r.List=r.And=r.GreaterEqual=r.LessEqual=r.Greater=r.Less=r.Equal=r.OrderedPairAccess=r.OrderedPair=r.Negative=r.RawExponent=r.Exponent=r.Divide=r.Multiply=r.Subtract=r.Add=void 0,r.Add=g,r.Subtract=d,r.Multiply=p,r.Divide=f,r.Exponent=v,r.RawExponent=h,r.Negative=y,r.OrderedPair=m,r.OrderedPairAccess=E,r.Equal=L,r.Less=A,r.Greater=I,r.LessEqual=b,r.GreaterEqual=F,r.And=function(r,e){return r&&e},r.List=B,r.ListAccess=w,r.DeferredListAccess=function(r,e){return R(r,e)},r.InboundsListAccess=R,r.ExtendSeed=q,r.NativeFunction=P,r.interpret=function(r,e){return M(r,e,Array(e+1))},r.interpretBroadcastElement=function(r,e,t){return x(r,e,t,Array(e+1))},r.interpretBroadcastElements=function(r,e,t){for(var a=Array(e+1),n=[],s=0,u=t;s<u.length;s++){var o=u[s];n.push(x(r,e,o,a))}return n},r._interpretRecursive=O});\ndefine(\'core/math/ir/features/find-dependency-symbols\',["require","exports","../instructions","../opcodes"],function(require,e,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findDependencySymbols=void 0,e.findDependencySymbols=function(e,r){for(var n=[],a=[],t=0;t<r;t++)a.push(!1);for(a.push(!0),t=r;t>=0;t--)if(a[t]){var i=e.getInstruction(t);if(i.type===s.LoadArg)n.push({symbol:e.argNames[t],scope:"free"});else if(o.beginsBlock(i))switch(i.type){case s.BeginIntegral:n.push({symbol:i.callData.indexSymbol,scope:"integral"});break;case s.BeginLoop:n.push({symbol:i.callData.indexSymbol,scope:i.callData.type});break;case s.BeginBroadcast:if(i.listComprehensionCallData)for(var l=0,c=i.listComprehensionCallData.inputListSymbols;l<c.length;l++){var p=c[l];n.push({symbol:p,scope:"comprehension"})}break;default:throw new Error("Programming Error: unexpected loop instruction "+i.type)}else i.type===s.SymbolicVar&&i.symbol&&n.push({symbol:i.symbol,scope:"symbolic-var"});if(!o.isLeafInstruction(i))for(var y=0,u=i.args;y<u.length;y++){a[u[y]]=!0}}return n.reverse()}});\ndefine(\'core/math/ir/features/fuse-broadcast\',["require","exports","../opcodes","core/math/types","../instructions","./interpret","./list-length","../../errormsg","./find-dependency-symbols"],function(require,t,r,e,n,s,i,o,u){"use strict";function a(t,r,n){if(n.valueType===e.ListOfDistribution){var a=i.getConstantListLength(t,r);if(null==a)throw o.variableLengthDistributionList(u.findDependencySymbols(t,r));for(var c=[],f=0;f<a;f++){var d=t.InboundsListAccess([r,t.Constant(f+1)]);c.push(d)}return t.List(c)}var p=s.interpret(t,r);return r===t.returnIndex&&t.popInstruction(),t.ConstantOfType(n.valueType,p)}Object.defineProperty(t,"__esModule",{value:!0}),t.fuseBroadcast=void 0,t.fuseBroadcast=function(t,e){var s=t.getInstruction(e);if(s.type!==r.BroadcastResult)return e;if(s.isConstantBroadcast)return a(t,e,s);for(var i=s.args[0],o=t.getInstruction(i),u=o.args[0],c=!1,f=u+1;f<i;f++){var d=t.getInstruction(f);if(d.type===r.DeferredListAccess&&d.args[1]===u){c=!0;break}}if(!c)return e;for(var p=[],g=u;g<=i+o.args.length-1;g++){var v=t.getInstruction(g);if(n.isLeafInstruction(v))p.push(t.copyInstruction(v));else{for(var l=[],y=0,I=v.args;y<I.length;y++){var h=I[y];l.push(h>=u?p[h-u]:h)}v.type===r.DeferredListAccess?p.push(t.InboundsListAccess(l)):p.push(t.copyInstructionWithArgs(v,l))}}var L=t.getInstruction(t.returnIndex);return L.type===r.BroadcastResult&&L.isConstantBroadcast?a(t,t.returnIndex,L):t.returnIndex}});\ndefine(\'core/math/ir/features/element-at\',["require","exports","./list-length","./interpret","../opcodes","core/math/types","./nan-of-type"],function(require,t,e,n,s,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elementsAt=t.elementAt=void 0,t.elementAt=function(t,r,o){var i=t.getInstruction(r);if(a.isList(i.valueType)){var p=e.getConstantListLength(t,r);if(o=Math.floor(o),isNaN(o)||o<0||void 0!==p&&o>=p){var l=a.elementType(i.valueType);return t.NanOfType(l)}return i.type===s.List?i.args[o]:i.type===s.Constant&&a.isList(i.valueType)?t.ConstantOfType(a.elementType(i.valueType),i.value[o]):i.type===s.BroadcastResult&&i.isConstantBroadcast?t.ConstantOfType(a.elementType(i.valueType),n.interpretBroadcastElement(t,r,o)):void 0!==p?t.InboundsListAccess([r,t.Constant(o+1)]):t.ListAccess([r,t.Constant(o+1)])}if(i.valueType===a.Point)return isNaN(o)||o<0||o>2?t.Constant(NaN):i.type===s.OrderedPair?i.args[o]:i.type===s.Constant?t.Constant(i.value[o]):t.OrderedPairAccess([r,t.Constant(o+1)]);throw new Error("Cannot access elements of "+a.prettyPrint(i.valueType))},t.elementsAt=function(t,o,i){var p=t.getInstruction(o);if(0===i.length)return t.ConstantOfType(p.valueType,[]);if(p.type===s.Constant&&a.isList(p.valueType)){for(var l=[],u=a.elementType(p.valueType),y=0,c=i;y<c.length;y++){var v=c[y],f=Math.floor(v);isNaN(f)||f<0||f>=e.assertConstantListLength(t,o,"Programming error: expected Constant list instruction to have constant length.")?l.push(r.nanOfType(u)):l.push(p.value[f])}return t.ConstantOfType(p.valueType,l)}if(p.type===s.List){l=[];for(var T=0,h=i;T<h.length;T++){v=h[T],f=Math.floor(v);if(isNaN(f)||f<0||f>=e.assertConstantListLength(t,o,"Programming error: expected List instruction to have constant length.")){var d=a.elementType(p.valueType);l.push(t.NanOfType(d))}else l.push(p.args[f])}return t.List(l)}if(p.type===s.BroadcastResult&&p.isConstantBroadcast)return t.ConstantOfType(p.valueType,n.interpretBroadcastElements(t,o,i));for(var g=[],C=!0,L=e.getConstantListLength(t,o),m=0,N=i;m<N.length;m++){v=N[m],f=Math.floor(v);g.push(t.Constant(f+1)),(isNaN(f)||f<0||void 0===L||f>=L)&&(C=!1)}var O=[o,t.List(g)];return C?t.InboundsListAccess(O):t.ListAccess(O)}});\ndefine(\'core/math/ir/features/constant-collapse\',["require","exports","../opcodes","../instructions","core/math/types","core/math/maybe-rational","./depends-on-outer-variable","./is-constant","./as-value","./reconstitute-ir","./list-length","./contains-nan-value","./interpret","./fuse-broadcast","./element-at","../../builtin"],function(require,t,n,e,r,s,a,o,u,i,c,p,l,g,I,v){"use strict";function y(t,n){for(var e=[],r=0,s=n;r<s.length;r++){var a=s[r],u=t.getInstruction(a);if(!o.isConstant(u))return;e.push(u.value)}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.constantCollapse=void 0,t.constantCollapse=function(t){if(t.instructionsLength()-1!==t.returnIndex)throw new Error("Programming Error: only the final instruction in a chunk can be constant collapsed");var d=t.getInstruction(t.returnIndex);if(e.isLeafInstruction(d))return t.returnIndex;switch(d.type){case n.Add:var C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.Constant&&f.type===n.Constant?(t.popInstruction(),t.Constant(l.Add(C.value,f.value))):C.type===n.Constant&&0===s.asFloat(C.value)?(t.popInstruction(),d.args[1]):f.type===n.Constant&&0===s.asFloat(f.value)?(t.popInstruction(),d.args[0]):t.returnIndex;case n.Subtract:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.Constant&&f.type===n.Constant?(t.popInstruction(),t.Constant(l.Subtract(C.value,f.value))):C.type===n.Constant&&0===s.asFloat(C.value)?(t.popInstruction(),t.Negative([d.args[1]])):f.type===n.Constant&&0===s.asFloat(f.value)?(t.popInstruction(),d.args[0]):t.returnIndex;case n.Multiply:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.Constant&&f.type===n.Constant?(t.popInstruction(),t.Constant(l.Multiply(C.value,f.value))):C.type===n.Constant&&1===s.asFloat(C.value)?(t.popInstruction(),d.args[1]):f.type===n.Constant&&1===s.asFloat(f.value)?(t.popInstruction(),d.args[0]):t.returnIndex;case n.Divide:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.Constant&&f.type===n.Constant?(t.popInstruction(),t.Constant(l.Divide(C.value,f.value))):f.type===n.Constant&&1===s.asFloat(f.value)?(t.popInstruction(),d.args[0]):t.returnIndex;case n.Exponent:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);if(C.type===n.Constant&&f.type===n.Constant)return t.popInstruction(),t.Constant(l.Exponent(C.value,f.value));if(C.type===n.Constant&&C.valueType===r.Number){if((x=s.asFloat(C.value))===Math.E)return t.popInstruction(),t.SyntheticNativeFunction("exp",[d.args[1]]);if(x>0)return t.popInstruction(),t.RawExponent(d.args)}if(f.type===n.Constant&&f.valueType===r.Number){var x;if(1===(x=s.asFloat(f.value)))return t.popInstruction(),d.args[0];if(x===Math.floor(x))return t.popInstruction(),t.RawExponent(d.args);if(s.isRational(f.value)){var h=f.value,T=h.n;if(h.d%2==1){t.popInstruction();var L=t.RawExponent([t.SyntheticNativeFunction("abs",[d.args[0]]),d.args[1]]);return T%2==0?L:t.Multiply([t.SyntheticNativeFunction("sign",[d.args[0]]),L])}}}return t.returnIndex;case n.RawExponent:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.Constant&&f.type===n.Constant?(t.popInstruction(),t.Constant(l.Exponent(C.value,f.value))):f.type===n.Constant&&1===s.asFloat(f.value)?(t.popInstruction(),d.args[0]):t.returnIndex;case n.Negative:return(C=t.getInstruction(d.args[0])).type===n.Constant?(t.popInstruction(),t.Constant(l.Negative(C.value))):t.returnIndex;case n.Equal:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.Constant&&f.type===n.Constant?(t.popInstruction(),t.ConstantOfType(r.Bool,l.Equal(C.value,f.value))):t.returnIndex;case n.Less:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.Constant&&f.type===n.Constant?(t.popInstruction(),t.ConstantOfType(r.Bool,l.Less(C.value,f.value))):t.returnIndex;case n.Greater:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.Constant&&f.type===n.Constant?(t.popInstruction(),t.ConstantOfType(r.Bool,l.Greater(C.value,f.value))):t.returnIndex;case n.LessEqual:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.Constant&&f.type===n.Constant?(t.popInstruction(),t.ConstantOfType(r.Bool,l.LessEqual(C.value,f.value))):t.returnIndex;case n.GreaterEqual:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.Constant&&f.type===n.Constant?(t.popInstruction(),t.ConstantOfType(r.Bool,l.GreaterEqual(C.value,f.value))):t.returnIndex;case n.And:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.Constant&&f.type===n.Constant?(t.popInstruction(),t.ConstantOfType(r.Bool,l.And(C.value,f.value))):t.returnIndex;case n.Piecewise:return(C=t.getInstruction(d.args[0])).type===n.Constant?(t.popInstruction(),C.value?d.args[1]:d.args[2]):t.returnIndex;case n.OrderedPairAccess:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.OrderedPair&&f.type===n.Constant?(t.popInstruction(),C.args[s.asFloat(f.value)-1]):C.type===n.Constant&&C.valueType===r.Point&&f.type===n.Constant?(t.popInstruction(),t.Constant(C.value[s.asFloat(f.value)-1])):t.returnIndex;case n.List:if(function(t,n){for(var e=0,r=n;e<r.length;e++){var s=r[e],a=t.getInstruction(s);if(!o.isConstant(a))return!1}return!0}(t,d.args)){t.popInstruction();for(var E=[],b=0,A=d.args;b<A.length;b++){var m=A[b];E.push(t.getInstruction(m).value)}return t.ConstantOfType(d.valueType,E)}return t.returnIndex;case n.ListAccess:case n.InboundsListAccess:var O=d.args[0],N=t.getInstruction(O),F=t.getInstruction(d.args[1]);if(N.type===n.Piecewise&&F.type===n.Constant){var B=d.type===n.ListAccess?t.ListAccess([N.args[1],d.args[1]]):t.InboundsListAccess([N.args[1],d.args[1]]),w=d.type===n.ListAccess?t.ListAccess([N.args[2],d.args[1]]):t.InboundsListAccess([N.args[2],d.args[1]]);return t.Piecewise([N.args[0],B,w])}if(N.type===n.BroadcastResult){if(F.type===n.Constant&&N.isConstantBroadcast&&N.valueType!==r.ListOfDistribution)return t.ConstantOfType(d.valueType,l.interpret(t,t.returnIndex));t.popInstruction();var q=N.args[0],P=O-q,R=(et=t.getInstruction(q)).args[0],M=void 0,S=void 0;if(d.type===n.InboundsListAccess)M=d.args[1];else{var V=c.getConstantListLength(t,O);if(F.type===n.Constant&&F.valueType===r.Number&&void 0!==V){var D=s.asFloat(F.value),G=Math.floor(D);if(G<1||G>V)return t.NanOfType(d.valueType);M=D===G?d.args[1]:t.Constant(G)}else{var k=t.Constant(1),_=t.getInstruction(R).args[0],j=t.SyntheticNativeFunction("floor",[d.args[1]]),U=t.GreaterEqual([j,k]),W=t.LessEqual([j,_]);M=t.Piecewise([U,t.Piecewise([W,j,_]),k]),S={one:k,lengthIndex:_,roundedIndex:j,greaterEqualIndex:U,lessEqualIndex:W}}}if(et.args[P]<R)return et.args[P];for(var z=[M],H=R+1;H<=et.args[P];H++){var J=t.getInstruction(H);if(e.isLeafInstruction(J))z.push(t.copyInstruction(J));else{for(var K=[],Q=0,X=J.args;Q<X.length;Q++){m=X[Q];K.push(m>=R?z[m-R]:m)}J.type===n.DeferredListAccess?z.push(t.InboundsListAccess(K)):z.push(t.copyInstructionWithArgs(J,K))}}if(S){U=S.greaterEqualIndex,W=S.lessEqualIndex,_=S.lengthIndex,k=S.one;var Y=r.elementType(N.valueType),Z=t.NanOfType(Y),$=z[z.length-1],tt=t.And([t.And([U,W]),t.GreaterEqual([_,k])]);return t.Piecewise([tt,$,Z])}return z[z.length-1]}if(F.type===n.Constant&&F.valueType===r.Number){if(N.type===n.List){t.popInstruction();var nt=Math.floor(s.asFloat(F.value))-1;return isNaN(nt)||nt<0||nt>=N.args.length?t.NanOfType(d.valueType):N.args[nt]}if(N.type===n.Constant){t.popInstruction();nt=Math.floor(s.asFloat(F.value))-1;return isNaN(nt)||nt<0||nt>=N.value.length?t.NanOfType(d.valueType):t.ConstantOfType(r.elementType(N.valueType),N.value[nt])}return t.returnIndex}return t.returnIndex;case n.BlockVar:var et=t.getInstruction(d.args[0]);if(!e.endsBlock(et))return t.returnIndex;P=t.returnIndex-d.args[0];if(a.dependsOnOuterVariable(t,et.args[P],et.args[0]))return t.returnIndex;var rt=t.copy();rt.close();E=rt.getCompiledFunction().fn();return t.popInstruction(),i.reconstituteIR(t,d.valueType,E);case n.NativeFunction:switch(d.symbol){case"nthroot":if(void 0!==(gt=y(t,d.args)))return t.Constant(s.nthroot(gt[0],gt[1]));var st=t.getInstruction(d.args[1]);return st.type===n.Constant&&st.valueType===r.Number?t.Exponent([d.args[0],t.Constant(s.reciprocal(st.value))]):t.returnIndex;case"length":return void 0!==(V=c.getConstantListLength(t,d.args[0]))?(t.popInstruction(),t.Constant(V)):t.returnIndex;case"select":if(o.isConstant(t.getInstruction(d.args[1]))){t.popInstruction();var at=u.asValue(t,d.args[1]),ot=[];for(H=0;H<at.length;H++)at[H]&&ot.push(H);return I.elementsAt(t,d.args[0],ot)}return t.returnIndex;case"shuffle":var ut=d.args[0];N=d.args[1];if(void 0!==(V=c.getConstantListLength(t,N))&&o.isConstant(t.getInstruction(ut))){t.popInstruction();var it=v.randomPerm(u.asValue(t,ut),V);return I.elementsAt(t,N,it)}return t.returnIndex;case"elementsAt":var ct=d.args[0],pt=d.args[1];if(o.isConstant(t.getInstruction(pt))){t.popInstruction();var lt=u.asValue(t,pt);return I.elementsAt(t,ct,lt)}return t.returnIndex;default:var gt;return void 0===(gt=y(t,d.args))?t.returnIndex:(t.popInstruction(),t.ConstantOfType(d.valueType,l.NativeFunction(d.symbol,gt)))}case n.ExtendSeed:var It=t.getInstruction(d.args[0]),vt=t.getInstruction(d.args[1]);return o.isConstant(It)&&o.isConstant(vt)?t.ConstantOfType(r.SeedType,l.ExtendSeed(d.tag,u.asValue(t,d.args[0]),u.asValue(t,d.args[1]))):t.returnIndex;case n.OrderedPair:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.Constant&&C.valueType===r.Number&&f.type===n.Constant&&f.valueType===r.Number?t.ConstantOfType(r.Point,[C.value,f.value]):t.returnIndex;case n.BroadcastResult:return void 0!==(V=c.getConstantListLength(t,t.returnIndex))&&0===V?(t.popInstruction(),t.ConstantOfType(d.valueType,[])):t.returnIndex;case n.Action:for(var yt=0,dt=d.args;yt<dt.length;yt++){m=dt[yt];if(!o.isConstantOrConstantBroadcast(t.getInstruction(m)))return t.returnIndex}t.popInstruction();var Ct={};for(H=0;H<d.symbols.length;H++){var ft=d.symbols[H],xt=t.getInstruction(d.args[H]);if(xt.type===n.BroadcastResult&&(xt=t.getInstruction(g.fuseBroadcast(t,d.args[H]))),xt.type!==n.Constant)throw new Error("Expected instruction to be constant");var ht=xt.valueType;E=xt.value;p.containsNanValue(ht,E)||(Ct[ft]={value:E,valueType:ht})}return t.ConstantOfType(r.Action,{type:"Action",updateRules:Ct});case n.EndLoop:case n.EndIntegral:case n.BeginBroadcast:case n.EndBroadcast:case n.DeferredListAccess:case n.Distribution:case n.BeginIntegral:case n.BeginLoop:return t.returnIndex;default:throw new Error("Unexpected opcode "+d.type)}}});\ndefine(\'core/math/ir/features/type-check\',["require","exports","core/math/errormsg","../opcodes","core/math/types","../builtin-table","../instructions"],function(require,e,r,t,a,s,n){"use strict";function i(e,r){for(var t=[],s=0,n=r;s<n.length;s++){var i=n[s];t.push(a.prettyPrint(e.getInstruction(i).valueType))}return t}function u(e,r,t){for(var s=0;s<r.length;s++){var n=e.getInstruction(r[s]).valueType,i=t[s];if(!a.isSubType(n,i))return!1}return!0}Object.defineProperty(e,"__esModule",{value:!0}),e.typeCheck=e.argIsTypeOrListOfType=e.argTypesMatch=e.extractScalarValueTypes=e.extractValueTypes=void 0,e.extractValueTypes=i,e.extractScalarValueTypes=function(e,r){for(var t=[],s=0,n=r;s<n.length;s++){var i=n[s],u=e.getInstruction(i).valueType,o=a.isList(u)?a.elementType(u):u;t.push(a.prettyPrint(o))}return t},e.argTypesMatch=u,e.argIsTypeOrListOfType=function(e,r,t){return a.isTypeOrListOfType(e.getInstruction(r).valueType,t)},e.typeCheck=function(e,o){var c=e.getInstruction(o);if(!n.isLeafInstruction(c))switch(c.type){case t.Add:var p=[a.Number,a.Number];if(!u(e,c.args,p))throw r.addTypeError(i(e,c.args));return;case t.Subtract:p=[a.Number,a.Number];if(!u(e,c.args,p))throw r.subtractTypeError(i(e,c.args));return;case t.Multiply:p=[a.Number,a.Number];if(!u(e,c.args,p))throw r.multiplyTypeError(i(e,c.args));return;case t.Divide:p=[a.Number,a.Number];if(!u(e,c.args,p))throw r.divideTypeError(i(e,c.args));return;case t.Exponent:case t.RawExponent:p=[a.Number,a.Number];if(!u(e,c.args,p))throw r.exponentTypeError(i(e,c.args));return;case t.Negative:p=[a.Number];if(!u(e,c.args,p))throw r.negativeTypeError(i(e,c.args));return;case t.Equal:case t.Less:case t.Greater:case t.LessEqual:case t.GreaterEqual:p=[a.Number,a.Number];if(!u(e,c.args,p))throw r.comparatorTypeError(i(e,c.args));return;case t.And:p=[a.Bool,a.Bool];if(!u(e,c.args,p))throw r.andTypeError(i(e,c.args));return;case t.Piecewise:if(e.getInstruction(c.args[0]).valueType!==a.Bool)throw r.piecewiseConditionTypeError(i(e,c.args));if(!a.isSubType(e.getInstruction(c.args[1]).valueType,c.valueType)||!a.isSubType(e.getInstruction(c.args[2]).valueType,c.valueType))throw r.piecewiseBranchTypeError([a.prettyPrint(e.getInstruction(c.args[1]).valueType),a.prettyPrint(e.getInstruction(c.args[2]).valueType)]);return;case t.OrderedPair:for(var g=0,y=c.args;g<y.length;g++){var l=y[g];if((m=e.getInstruction(l).valueType)!==a.Number)throw r.pointTypeError(a.prettyPrint(m))}return;case t.OrderedPairAccess:p=[a.Point,a.Number];if(!u(e,c.args,p))throw r.orderedPairAccessTypeError(i(e,c.args));return;case t.BeginIntegral:var T=e.getInstruction(c.args[0]).valueType,v=e.getInstruction(c.args[1]).valueType;if(T!==a.Number)throw r.integralLowerBoundTypeError([a.prettyPrint(T)]);if(v!==a.Number)throw r.integralUpperBoundTypeError([a.prettyPrint(v)]);return;case t.EndIntegral:var f=e.getInstruction(c.args[1]).valueType;if(f!==a.Number)throw r.integralArgumentTypeError([a.prettyPrint(f)]);return;case t.List:if(0===c.args.length)return;var d=e.getInstruction(c.args[0]).valueType;if(!a.hasListType(d))throw r.listTypeError([a.prettyPrint(d)]);for(var h=0,b=c.args;h<b.length;h++){l=b[h];var m=e.getInstruction(l).valueType;if(!a.hasListType(m))throw r.listTypeError([a.prettyPrint(m)]);if(m!==d)throw r.heterogeneousList()}return;case t.ListAccess:case t.DeferredListAccess:case t.InboundsListAccess:var w=e.getInstruction(c.args[0]).valueType,I=a.isList(w),E=e.getInstruction(c.args[1]).valueType===a.Number;if(!I||!E)throw r.indexTypeError(i(e,c.args));return;case t.NativeFunction:var L=c.args,N=c.symbol,P=s.BuiltInTable[N],B=(p=P.argumentTypes,c.callData.errorSymbol);if(!u(e,c.args,p)){if("doubleReducer"===P.tag){if(!a.isList(e.getInstruction(L[0]).valueType)||!a.isList(e.getInstruction(L[1]).valueType))throw r.nonListDoubleReducer(B)}else if("parameterizedReducer"===P.tag&&!a.isList(e.getInstruction(L[0]).valueType))throw r.nonListParameterizedReducer(B);var O=L;throw r.functionTypeError(B,i(e,O))}return;case t.ExtendSeed:if(e.getInstruction(c.args[0]).valueType!==a.SeedType||e.getInstruction(c.args[1]).valueType!==a.SeedType&&e.getInstruction(c.args[1]).valueType!==a.Number)throw r.parseError();return;case t.Action:for(var x=0,S=c.args;x<S.length;x++){l=S[x];var A=e.getInstruction(l).valueType;if(!a.isTypeOrListOfType(A,a.Number)&&!a.isTypeOrListOfType(A,a.Point))throw r.updateRuleTypeError(a.prettyPrint(A))}for(var R={},D=0,V=c.symbols;D<V.length;D++){if(R[N=V[D]])throw r.duplicateUpdateRules(N);R[N]=!0}return;case t.BroadcastResult:case t.BlockVar:case t.BeginBroadcast:case t.EndBroadcast:case t.BeginLoop:case t.EndLoop:case t.Distribution:return;default:throw new Error("Unexpected opcode: "+c.type)}}});\ndefine(\'core/math/ir/features/count-references\',["require","exports","../opcodes","../instructions"],function(require,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.countReferences=void 0,e.countReferences=function(e){for(var t=[],s=0;s<e.instructionsLength();s++){t.push(0);var o=e.getInstruction(s);if(!r.isLeafInstruction(o))if(r.endsBlock(o)&&o.type!==n.EndIntegral)for(var i=0,c=o.args;i<c.length;i++){t[c[i]]=1/0}else for(var u=0,f=o.args;u<f.length;u++){t[f[u]]+=1}}return t}});\ndefine(\'core/math/ir/features/emit-js\',["require","exports","../opcodes","./print","../instructions","core/math/maybe-rational","core/math/types","../builtin-table","./count-references","core/math/context-types","./as-value","./nan-of-type","core/math/ir/constants"],function(require,e,r,t,n,a,s,o,c,u,i,g,d){"use strict";function l(e){return"_"+e}function p(e,r){var t=r[e];return void 0!==t?t:l(e)}function f(e,n,a,c,u,d){var f=a+1;switch(n.type){case r.Noop:case r.BlockVar:case r.BroadcastResult:case r.EndIntegral:case r.Action:return{source:"",nextIdx:f};case r.BeginIntegral:return{source:v(e,n,a,c,u,d),nextIdx:n.endIndex};case r.LoadArg:return u[a]=e.argNames[a],{source:"",nextIdx:f};case r.BeginBroadcast:return{source:x(e,n,a,u),nextIdx:f};case r.EndBroadcast:return{source:y(e,n,a,u),nextIdx:f};case r.BeginLoop:return{source:h(e,n,a,u),nextIdx:f};case r.EndLoop:return{source:B(e,n,a,u),nextIdx:f};default:var I=function(e,n,a){switch(e.type){case r.Constant:return e.valueType===s.Number||e.valueType===s.Bool||e.valueType===s.Point?m(e.value):(a.push(i.compilerValueToRuntimeValue(e.value)),"_C["+(a.length-1)+"]");case r.Add:return p(e.args[0],n)+"+"+p(e.args[1],n);case r.Subtract:return p(e.args[0],n)+"-"+p(e.args[1],n);case r.Multiply:return p(e.args[0],n)+"*"+p(e.args[1],n);case r.Divide:return p(e.args[0],n)+"/"+p(e.args[1],n);case r.Exponent:return"BuiltIn.pow("+p(e.args[0],n)+","+p(e.args[1],n)+")";case r.RawExponent:return"Math.pow("+p(e.args[0],n)+","+p(e.args[1],n)+")";case r.Negative:return"-"+p(e.args[0],n);case r.Equal:return p(e.args[0],n)+"==="+p(e.args[1],n);case r.Less:return p(e.args[0],n)+"<"+p(e.args[1],n);case r.Greater:return p(e.args[0],n)+">"+p(e.args[1],n);case r.LessEqual:return p(e.args[0],n)+"<="+p(e.args[1],n);case r.GreaterEqual:return p(e.args[0],n)+">="+p(e.args[1],n);case r.And:return p(e.args[0],n)+"&&"+p(e.args[1],n);case r.Piecewise:return p(e.args[0],n)+"?"+p(e.args[1],n)+":"+p(e.args[2],n);case r.OrderedPair:return"["+p(e.args[0],n)+","+p(e.args[1],n)+"]";case r.OrderedPairAccess:return p(e.args[0],n)+"["+p(e.args[1],n)+"-1]";case r.List:return"["+e.args.map(function(e){return p(e,n)}).join(",")+"]";case r.DeferredListAccess:case r.Distribution:case r.SymbolicVar:throw new Error("Programming Error: expect "+t.printOp(e.type)+" to be removed before emitting code.");case r.ListAccess:var c=p(e.args[0],n);return"(Math.floor("+(u=p(e.args[1],n))+")>=1&&Math.floor("+u+")<="+c+".length)?"+c+"[Math.floor("+u+")-1]:"+m(g.nanOfType(e.valueType));case r.InboundsListAccess:var u;return(c=p(e.args[0],n))+"["+(u=p(e.args[1],n))+"-1]";case r.NativeFunction:var d=o.BuiltInTable[e.symbol],l=e.args.map(function(e){return p(e,n)}).join(",");return d.module+"."+d.symbol+"("+l+")";case r.ExtendSeed:return p(e.args[0],n)+"+\'::"+e.tag+"\'+"+p(e.args[1],n);case r.LoadArg:case r.Noop:case r.BeginIntegral:case r.EndIntegral:case r.BeginLoop:case r.EndLoop:case r.BeginBroadcast:case r.EndBroadcast:case r.BlockVar:case r.BroadcastResult:case r.Action:throw new Error("Unexpected opcode "+e.type);default:throw new Error("Unexpected opcode "+e.type)}}(n,u,d);return c[a]<=1?(u[a]="("+I+")",{source:"",nextIdx:f}):{source:l(a)+"="+I+";\\n",nextIdx:f}}}function v(e,r,t,n,a,s){var o="BuiltIn.quad(";o+=function(e,r,t,n,a,s){var o=r.endIndex,c="function("+l(t)+") {\\n";c+=I(e,t+1,o-1,n);for(var u=t+1;u<o;){var i=e.getInstruction(u),g=f(e,i,u,n,a,s);c+=g.source,u=g.nextIdx}return c+"return "+p(e.getInstruction(o).args[1],a)+";\\n}"}(e,r,t,n,a,s),o+=","+p(r.args[0],a)+","+p(r.args[1],a)+")";var c=r.endIndex;return n[c+1]<=1?(a[c+1]=o,""):l(c+1)+"="+o+";"}function I(e,t,a,s){for(var o="",c=!1,u=t;u<=a;u++){var i=e.getInstruction(u);if(i.type!==r.Noop&&i.type!==r.EndBroadcast&&i.type!==r.EndLoop)if(i.type!==r.BeginIntegral)s[u]<=1&&!n.beginsBlock(i)&&!n.endsBlock(i)&&i.type!==r.BlockVar&&i.type!==r.BroadcastResult||(c?o+=",":(o+="var ",c=!0),o+=l(u));else{var g=i.endIndex;u=s[g+1]<=1?g+1:g}}return c&&(o+=";\\n"),o}function x(e,t,n,a){for(var s=l(n),o=e.getInstruction(t.endIndex),c=p(t.args[0],a),u="",i=1;i<o.args.length;i++){var g=t.endIndex+i;if(e.getInstruction(g).type===r.BroadcastResult)u+=l(g)+"=[];\\n"}return u+="if("+c+">"+d.MAX_LIST_SIZE+") throw ErrorMsg.maxListSize();\\n",u+="for("+s+"=1;"+s+"<="+c+";"+s+"++){\\n"}function y(e,t,n,a){for(var s="",o=1;o<t.args.length;o++){var c=n+o;if(!(c>=e.instructionsLength()))if(e.getInstruction(c).type===r.BroadcastResult)s+=l(n+o)+".push("+p(t.args[o],a)+");\\n"}return s+="}\\n"}function h(e,t,n,a){for(var s=l(n),o=""+p(t.args[0],a),c=""+p(t.args[1],a),u="if(!isFinite("+c+"-"+o+")){\\n",i=2;i<t.args.length;i++){var d=t.endIndex+i-1;if(!(d>=e.instructionsLength())){var f=e.getInstruction(d);if(f.type===r.BlockVar)u+=l(d)+"="+m(g.nanOfType(f.valueType))+";\\n"}}u+="}else{\\n";for(i=2;i<t.args.length;i++){var v=n+i-1;if(e.getInstruction(v).type===r.BlockVar)u+=l(v)+"="+p(t.args[i],a)+";\\n"}return u+="for("+s+"="+o+";"+s+"<="+c+";"+s+"++){\\n"}function B(e,t,n,a){for(var s="",o=1;o<t.args.length;o++){var c=t.args[0]+o;if(e.getInstruction(c).type===r.BlockVar)s+=l(c)+"="+p(t.args[o],a)+";\\n"}s+="}\\n";for(o=1;o<t.args.length;o++){var u=n+o;if(!(u>=e.instructionsLength()))if(e.getInstruction(u).type===r.BlockVar)s+=l(u)+"="+p(t.args[0]+o,a)+";\\n"}return s+="}\\n"}function m(e){if(Array.isArray(e))return"["+e.map(m).join(",")+"]";switch(typeof e){case"boolean":case"number":return e.toString();case"string":return""+JSON.stringify(e);case"object":if(u.isActionCompilerValue(e))throw new Error("Action values cannot be compiled");return a.asFloat(e).toString();default:throw new Error("Unexpected value: "+e)}}Object.defineProperty(e,"__esModule",{value:!0}),e.emitJS=void 0,e.emitJS=function(e){for(var r=c.countReferences(e),t=[],n=[],a=I(e,e.argNames.length,e.instructionsLength()-1,r),s=0;s<e.instructionsLength();){var o=e.getInstruction(s),u=f(e,o,s,r,t,n);a+=u.source,s=u.nextIdx}return{source:a+="return "+p(e.returnIndex,t)+";",constants:n}}});\ndefine(\'core/math/ir/features/get-value-type\',["require","exports","../opcodes","core/math/types"],function(require,e,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getValueType=void 0,e.getValueType=function(e,a,c){switch(a){case s.Add:case s.Subtract:case s.Multiply:case s.Divide:case s.Exponent:case s.RawExponent:case s.Negative:case s.OrderedPairAccess:case s.BeginIntegral:case s.BeginLoop:case s.BeginBroadcast:return t.Number;case s.Equal:case s.Less:case s.Greater:case s.LessEqual:case s.GreaterEqual:case s.And:return t.Bool;case s.Piecewise:var r=e.getInstruction(c[1]).valueType,n=e.getInstruction(c[2]).valueType;return r===t.EmptyList&&t.isList(n)?n:r;case s.OrderedPair:return t.Point;case s.List:if(0===c.length)return t.EmptyList;var i=e.getInstruction(c[0]).valueType;return t.hasListType(i)?t.listType(i):t.ListOfAny;case s.ListAccess:case s.DeferredListAccess:case s.InboundsListAccess:var o=e.getInstruction(c[0]).valueType;return t.isList(o)?t.elementType(o):t.Any;case s.ExtendSeed:return t.SeedType;case s.Action:return t.Action;case s.Constant:case s.LoadArg:case s.NativeFunction:case s.Distribution:case s.BlockVar:case s.BroadcastResult:case s.SymbolicVar:case s.Noop:case s.EndIntegral:case s.EndBroadcast:case s.EndLoop:return t.Any;default:throw new Error("Unexpected opcode "+a)}}});\ndefine(\'core/math/ir/features/drop-unreferenced-instructions\',["require","exports","../instructions"],function(require,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dropUnreferencedInstructions=void 0,e.dropUnreferencedInstructions=function(e){for(var r=[],t=0;t<e.instructionsLength();t++)r.push(!1);for(r[e.returnIndex]=!0,t=e.instructionsLength()-1;t>=0;t--)if(r[t]){var i=e.getInstruction(t);if(!n.isLeafInstruction(i))for(var o=0,s=i.args;o<s.length;o++){r[s[o]]=!0}}else e.replaceInstructionWithNoop(t)}});\ndefine(\'core/math/ir/features/copy-instruction\',["require","exports","../opcodes"],function(require,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.copyInstructionWithArgs=e.copyInstruction=void 0,e.copyInstruction=function(e,r){return e.pushLeafInstruction(r)},e.copyInstructionWithArgs=function(e,t,s){switch(t.type){case r.Add:return e.Add(s);case r.Subtract:return e.Subtract(s);case r.Multiply:return e.Multiply(s);case r.Divide:return e.Divide(s);case r.Exponent:return e.Exponent(s);case r.RawExponent:return e.RawExponent(s);case r.Negative:return e.Negative(s);case r.Equal:return e.Equal(s);case r.Less:return e.Less(s);case r.Greater:return e.Greater(s);case r.LessEqual:return e.LessEqual(s);case r.GreaterEqual:return e.GreaterEqual(s);case r.And:return e.And(s);case r.Piecewise:return e.Piecewise(s);case r.BlockVar:return e.BlockVar(t.valueType,s);case r.BroadcastResult:return e.BroadcastResult(t.valueType,s);case r.OrderedPair:return e.OrderedPair(s);case r.OrderedPairAccess:return e.OrderedPairAccess(s);case r.NativeFunction:return e.NativeFunction(t.symbol,t.callData,s);case r.Distribution:return e.Distribution(t.symbol,s);case r.BeginIntegral:return e.BeginIntegral(t.callData,s);case r.EndIntegral:return e.EndIntegral(s);case r.BeginBroadcast:return e.BeginBroadcast(s);case r.EndBroadcast:return e.EndBroadcast(s);case r.BeginLoop:return e.BeginLoop(t.callData,s);case r.EndLoop:return e.EndLoop(s);case r.List:return e.List(s);case r.ListAccess:return e.ListAccess(s);case r.DeferredListAccess:return e.DeferredListAccess(s);case r.InboundsListAccess:return e.InboundsListAccess(s);case r.ExtendSeed:return e.ExtendSeed(t.tag,s);case r.Action:return e.Action(t.symbols,s);default:throw new Error("Unexpected opcode "+t.type)}}});\ndefine(\'core/math/ir/features/convert-to-broadcast\',["require","exports","../opcodes","core/math/types","./list-length","../instructions","../builtin-table","./fuse-broadcast","./is-constant","./as-value","./copy-instruction"],function(require,e,r,t,s,n,a,c,i,o,u){"use strict";function d(e,n,a){for(var d=n.args,f=!1,l=[],p=0;p<d.length;p++)if(!a||a[p]){var v=d[p],h=e.getInstruction(v).valueType;t.isList(h)&&-1===l.indexOf(v)&&l.push(v),h===t.EmptyList&&(f=!0)}if(0===l.length)return e.returnIndex;if(n.type===r.Piecewise&&-1==l.indexOf(n.args[0])&&l.indexOf(n.args[1])>=0&&l.indexOf(n.args[2])>=0){var I=c.fuseBroadcast(e,n.args[1]),y=c.fuseBroadcast(e,n.args[2]);return I!==n.args[1]||y!==n.args[2]?u.copyInstructionWithArgs(e,n,[n.args[0],I,y]):e.returnIndex}e.popInstruction();var x=s.minListLengthIndex(e,l);if(void 0===x)throw new Error("Programming Error: expected minListLength to be defined for "+l.length+" lists");var L=x;if(i.isConstant(e.getInstruction(L))&&0===o.asValue(e,L)&&f)return e.ConstantOfType(t.EmptyList,[]);for(var B=e.BeginBroadcast([L]),m=[],E=0,b=l;E<b.length;E++){var A=b[E];m.push(g(e,A,B))}var w=[];for(p=0;p<d.length;p++){v=d[p];if(a&&!a[p])w.push(v);else{var T=l.indexOf(v);w.push(-1===T?v:m[T])}}var O=e.copyInstructionWithArgs(n,w),P=e.EndBroadcast([B,O]);return e.BroadcastResult(t.listType(e.getInstruction(O).valueType),[P])}function g(e,t,s){return e.getInstruction(t).type==r.BroadcastResult?e.DeferredListAccess([t,s]):e.InboundsListAccess([t,s])}Object.defineProperty(e,"__esModule",{value:!0}),e.deferredOrInboundsAccess=e.convertToBroadcast=void 0,e.convertToBroadcast=function(e){if(e.instructionsLength()-1!==e.returnIndex)throw new Error("Programming Error: only the final instruction in a chunk can be converted to broadcast");var s=e.getInstruction(e.returnIndex);if(n.isLeafInstruction(s))return e.returnIndex;switch(s.type){case r.Add:case r.Subtract:case r.Multiply:case r.Divide:case r.Exponent:case r.RawExponent:case r.Equal:case r.Less:case r.Greater:case r.LessEqual:case r.GreaterEqual:case r.And:case r.OrderedPair:case r.Negative:case r.Piecewise:case r.OrderedPairAccess:return d(e,s);case r.Distribution:return c.fuseBroadcast(e,d(e,s));case r.NativeFunction:var i=a.BuiltInTable[s.symbol];switch(i.tag){case"default":case"trig":case"inverseTrig":case"color":return d(e,s);case"never-broadcast":for(var o=[],u=!1,g=0,f=s.args;g<f.length;g++){var l=f[g],p=c.fuseBroadcast(e,l);p!==l?(u=!0,o.push(p)):o.push(l)}return u?e.copyInstructionWithArgs(s,o):e.returnIndex;case"reducer":if(function(e,r){for(var s=0,n=r;s<n.length;s++){var a=n[s];if(t.isList(e.getInstruction(a).valueType))return!0}return!1}(e,s.args)){if(1===s.args.length){var v=s.args[0],h=c.fuseBroadcast(e,v);return h!==v?e.copyInstructionWithArgs(s,[h]):e.returnIndex}return d(e,s)}var I=function(e,r){var s=e.getInstruction(r[0]).valueType;if(!t.hasListType(s))return t.ListOfAny;for(var n=0,a=r;n<a.length;n++){var c=a[n];if(e.getInstruction(c).valueType!==s)return t.ListOfAny}return t.listType(s)}(e,s.args);if(t.isSubType(I,i.argumentTypes[0])){e.popInstruction();var y=e.List(s.args);return e.copyInstructionWithArgs(s,[y])}return e.returnIndex;case"doubleReducer":if(2!==s.args.length)throw new Error("Programming error: double reducers must have two arguments");var x=c.fuseBroadcast(e,s.args[0]),L=c.fuseBroadcast(e,s.args[1]);return x!==s.args[0]||L!==s.args[1]?e.copyInstructionWithArgs(s,[x,L]):e.returnIndex;case"parameterizedReducer":if(2!==s.args.length)throw new Error("Programming error: double reducers must have two arguments");return(x=c.fuseBroadcast(e,s.args[0]))===s.args[0]?d(e,s,[!1,!0]):e.copyInstructionWithArgs(s,[x,s.args[1]]);default:var B=i.tag;throw new Error("Programming Error: unexpected tag "+B)}case r.ListAccess:case r.DeferredListAccess:case r.InboundsListAccess:return d(e,s,[!1,!0]);case r.BeginIntegral:case r.EndIntegral:case r.BeginLoop:case r.EndLoop:return e.returnIndex;case r.List:case r.BlockVar:case r.BeginBroadcast:case r.EndBroadcast:case r.BroadcastResult:case r.ExtendSeed:case r.Action:return e.returnIndex;default:throw new Error("Unexpected opcode "+s.type)}},e.deferredOrInboundsAccess=g});\ndefine(\'core/math/ir/features/to-dot\',["require","exports","../instructions","./print","../opcodes"],function(require,t,n,r,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){var i=[];i.push("digraph {");for(var s=0;s<t.instructionsLength();s++){(o=t.getInstruction(s)).type!==e.Noop&&i.push(s+\' [label="\'+s+": "+r.printInstruction(t,s)+\'"];\')}for(s=0;s<t.instructionsLength();s++){var o=t.getInstruction(s);if(n.isInternalInstruction(o))for(var u=0,c=o.args;u<c.length;u++){var p=c[u];i.push(s+" -> "+p+";")}}return i.push("}"),i.join("\\n")}});\ndefine(\'core/math/ir/features/get-dependency-mask\',["require","exports","../instructions"],function(require,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDependencyMask=void 0,e.getDependencyMask=function(e,n){for(var t=[],s=0;s<e.instructionsLength();s++)t.push(!1);t[n]=!0;for(var i=0;i<=1;i++){var o=!1;for(s=n+1;s<e.instructionsLength();s++){var a=e.getInstruction(s);if(!r.isLeafInstruction(a)&&!t[s]){for(var u=!1,c=0,f=a.args;c<f.length;c++){if(t[f[c]]){u=!0;break}}t[s]=u,u&&r.endsBlock(a)&&!t[a.args[0]]&&(t[a.args[0]]=!0,o=!0)}}if(!o)break}return t}});\ndefine(\'core/math/ir/features/polynomial-order\',["require","exports","../opcodes","core/math/maybe-rational","./get-dependency-mask","../instructions"],function(require,e,r,a,s,t){"use strict";function n(e,r,a){var t=a.allowRestriction,n=a.allowClosedBlockReferences;return{chunk:e,argIndex:r,orderTable:[],mask:s.getDependencyMask(e,r),allowRestriction:t,allowClosedBlockReferences:n}}function c(e,s){var n=e.orderTable[s];if(void 0!==n)return n;var o=function(e,s){var n=e.chunk,o=e.mask,i=e.argIndex,l=e.allowRestriction;if(!e.allowClosedBlockReferences&&n.isInClosedBlock(s))return 1/0;if(s===i)return 1;var u=n.getInstruction(s);if(t.beginsBlock(u)||t.endsBlock(u))return 1/0;switch(u.type){case r.Add:case r.Subtract:case r.Less:case r.LessEqual:case r.Greater:case r.GreaterEqual:var d=u.args,f=d[0],v=d[1];return Math.max(c(e,f),c(e,v));case r.Multiply:var p=u.args;f=p[0],v=p[1];return c(e,f)+c(e,v);case r.Negative:return c(e,u.args[0]);case r.Divide:var g=u.args;f=g[0];return c(e,v=g[1])>0?1/0:c(e,f);case r.Exponent:case r.RawExponent:var y=u.args,k=(f=y[0],v=y[1],n.getInstruction(v));if(0===c(e,f)&&0===c(e,v))return 0;if(k.type===r.Constant){var m=a.asFloat(k.value);return m===Math.round(m)&&m>0?c(e,f)*m:1/0}return 1/0;case r.Piecewise:if(!o[s])return 0;var x=n.getInstruction(u.args[2]);return l&&x.type===r.Constant&&isNaN(a.asFloat(x.value))?c(e,u.args[1]):1/0;case r.LoadArg:case r.Noop:case r.Constant:case r.Equal:case r.And:case r.OrderedPair:case r.OrderedPairAccess:case r.List:case r.ListAccess:case r.DeferredListAccess:case r.InboundsListAccess:case r.NativeFunction:case r.Distribution:case r.BroadcastResult:case r.BlockVar:case r.SymbolicVar:case r.ExtendSeed:case r.Action:return o[s]?1/0:0;default:throw new Error("Unexpected opcode "+u.type)}}(e,s);return e.orderTable[s]=o,o}Object.defineProperty(e,"__esModule",{value:!0}),e.instructionOrder=e.polynomialOrderContext=e.polynomialOrder=void 0,e.polynomialOrder=function(e,r,a){var s=e.argNames.indexOf(r);return-1===s?0:c(n(e,s,a),e.returnIndex)},e.polynomialOrderContext=n,e.instructionOrder=c});\ndefine(\'core/math/ir/features/get-polynomial-coefficients\',["require","exports","../chunk","../opcodes","core/math/maybe-rational","./polynomial-order","../instructions","./copy-instruction"],function(require,e,n,r,t,a,s,o){"use strict";function i(e){var t,a,i=e.chunk,c=e.argIndex;if(i.isInClosedBlock(c))throw new Error("Programming Error: cannot find polynomial coefficients of an instruction in a closed block");c>=0&&c<i.argNames.length?(t=i.argNames.slice(),a=i.argTypes.slice(),t.splice(c,1),a.splice(c,1)):(t=i.argNames,a=i.argTypes);for(var u=new n.Chunk({argNames:t,argTypes:a}),l=[],p=0;p<i.instructionsLength();p++){var d=i.getInstruction(p);if(d.type===r.LoadArg)p<c||c<0?l.push(p):p===c?l.push(u.SymbolicVar(i.argTypes[p])):l.push(p-1);else if(s.isLeafInstruction(d))l.push(o.copyInstruction(u,d));else{for(var f=[],g=0,h=d.args;g<h.length;g++){var y=h[g];f.push(l[y])}l.push(o.copyInstructionWithArgs(u,d,f))}}var m=u.Constant(0),v=u.Constant(1),C=u.Constant(NaN);return{chunk:i,newChunk:u,orderCtx:e,coefficientTable:[],mask:e.mask,valueMap:l,argIndex:c,zero:m,one:v,nan:C}}function c(e,n){var s,o=e.newChunk,i=e.orderCtx,u=e.coefficientTable,l=e.mask,p=e.valueMap,d=e.argIndex,f=e.zero,g=e.one,h=e.nan,y=u[n];if(void 0!==y)return y;for(s=l[n]?n===d?[f,g]:a.instructionOrder(i,n)>2?[h]:function(e,n){var a,s=e.chunk.getInstruction(n),o=e.newChunk;switch(s.type){case r.Add:for(var i=s.args,u=i[0],l=i[1],p=c(e,u),d=c(e,l),f=p.length-1,g=d.length-1,h=[],y=0;y<=Math.max(f,g);y++)f>=y&&g>=y?h.push(o.Add([p[y],d[y]])):h.push(f>g?p[y]:d[y]);return h;case r.Subtract:case r.Less:case r.LessEqual:case r.Greater:case r.GreaterEqual:var m=s.args;u=m[0],l=m[1];s.type!==r.Less&&s.type!=r.LessEqual||(u=(a=[l,u])[0],l=a[1]);p=c(e,u),d=c(e,l),f=p.length-1,g=d.length-1,h=[];for(var v=0;v<=Math.max(f,g);v++)f>=v&&g>=v?h.push(o.Subtract([p[v],d[v]])):h.push(f>g?p[v]:o.Negative([d[v]]));return h;case r.Negative:p=c(e,u=s.args[0]),h=[];for(var C=0;C<p.length;C++)h.push(o.Negative([p[C]]));return h;case r.Multiply:for(var w=s.args,x=(u=w[0],l=w[1],p=c(e,u),d=c(e,l),f=p.length-1,g=d.length-1,h=[],0);x<=f;x++)for(var I=0;I<=g;I++)if(!(x+I>2)){var k=o.Multiply([p[x],d[I]]),E=h[x+I];h[x+I]=void 0===E?k:o.Add([E,k])}return h;case r.Divide:for(var L=s.args,b=(u=L[0],l=L[1],p=c(e,u),d=c(e,l),h=[],0);b<p.length;b++)h.push(o.Divide([p[b],d[0]]));return h;case r.Exponent:case r.RawExponent:var A=s.args;u=A[0],l=A[1],p=c(e,u),d=c(e,l);if(0===(f=p.length-1))return[o.RawExponent([p[0],d[0]])];var M=o.getInstruction(d[0]);switch(t.asFloat(M.value)){case 0:return[o.Constant(0)];case 1:return p;case 2:return[o.Multiply([p[0],p[0]]),o.Multiply([o.Constant(2),o.Multiply([p[0],p[1]])]),o.Multiply([p[1],p[1]])]}case r.Piecewise:return c(e,s.args[1]);case r.Noop:case r.BeginBroadcast:case r.LoadArg:case r.Constant:case r.Equal:case r.And:case r.OrderedPair:case r.OrderedPairAccess:case r.List:case r.ListAccess:case r.DeferredListAccess:case r.InboundsListAccess:case r.NativeFunction:case r.Distribution:case r.BeginIntegral:case r.EndIntegral:case r.BeginLoop:case r.EndLoop:case r.EndBroadcast:case r.BroadcastResult:case r.BlockVar:case r.SymbolicVar:case r.ExtendSeed:case r.Action:throw new Error("Cannot find polynomial coefficients of opcode "+s.type+" that depends on symbol.");default:throw new Error("Unexpected opcode "+s.type)}}(e,n):[p[n]];s.length>1;){var m=o.getInstruction(s[s.length-1]);if(m.type!==r.Constant||0!==t.asFloat(m.value))break;s.pop()}if(0===s.length)throw new Error("Programming Error: coefficients cannot be empty");return u[n]=s,s}Object.defineProperty(e,"__esModule",{value:!0}),e.instructionCoefficients=e.polynomialCoefficientContext=e.getPolynomialCoefficients=void 0,e.getPolynomialCoefficients=function(e,n){var t=e.argNames.indexOf(n),s=i(a.polynomialOrderContext(e,t,{allowRestriction:!0,allowClosedBlockReferences:!1}));if(a.instructionOrder(s.orderCtx,e.returnIndex)>2)throw new Error("Programming Error: cannot compute polynomial coefficients for polynomials of order greater than 2");for(var o=c(s,e.returnIndex),u=!1,l=0;l<e.instructionsLength();l++)e.getInstruction(l).type===r.Piecewise&&s.mask[l]&&(u=!0);return{chunk:s.newChunk,coefficients:o,mappedArgIndex:s.valueMap[t],mappedReturnIndex:s.valueMap[e.returnIndex],isRestrictedPolynomial:u}},e.polynomialCoefficientContext=i,e.instructionCoefficients=c});\ndefine(\'core/math/ir/features/lift-point-operations\',["require","exports","../opcodes","core/math/types","../instructions"],function(require,e,r,s,a){"use strict";function t(e,r){return e.getInstruction(r).valueType===s.Point}function n(e,r){return e.getInstruction(r).valueType===s.Number}Object.defineProperty(e,"__esModule",{value:!0}),e.liftPointOperations=void 0,e.liftPointOperations=function(e){if(e.instructionsLength()-1!==e.returnIndex)throw new Error("Programming Error: only the final instruction in a chunk can be converted to broadcast");var s=e.getInstruction(e.returnIndex);if(a.isLeafInstruction(s))return e.returnIndex;switch(s.type){case r.Add:if(t(e,s.args[0])&&t(e,s.args[1])){var c=e.Constant(1),i=e.Constant(2);return e.OrderedPair([e.Add([e.OrderedPairAccess([s.args[0],c]),e.OrderedPairAccess([s.args[1],c])]),e.Add([e.OrderedPairAccess([s.args[0],i]),e.OrderedPairAccess([s.args[1],i])])])}return e.returnIndex;case r.Subtract:if(t(e,s.args[0])&&t(e,s.args[1])){c=e.Constant(1),i=e.Constant(2);return e.OrderedPair([e.Subtract([e.OrderedPairAccess([s.args[0],c]),e.OrderedPairAccess([s.args[1],c])]),e.Subtract([e.OrderedPairAccess([s.args[0],i]),e.OrderedPairAccess([s.args[1],i])])])}return e.returnIndex;case r.Negative:if(t(e,s.args[0])){c=e.Constant(1),i=e.Constant(2);return e.OrderedPair([e.Negative([e.OrderedPairAccess([s.args[0],c])]),e.Negative([e.OrderedPairAccess([s.args[0],i])])])}return e.returnIndex;case r.Multiply:if(t(e,s.args[0])&&n(e,s.args[1])){c=e.Constant(1),i=e.Constant(2);return e.OrderedPair([e.Multiply([e.OrderedPairAccess([s.args[0],c]),s.args[1]]),e.Multiply([e.OrderedPairAccess([s.args[0],i]),s.args[1]])])}if(n(e,s.args[0])&&t(e,s.args[1])){c=e.Constant(1),i=e.Constant(2);return e.OrderedPair([e.Multiply([s.args[0],e.OrderedPairAccess([s.args[1],c])]),e.Multiply([s.args[0],e.OrderedPairAccess([s.args[1],i])])])}return e.returnIndex;case r.Divide:if(t(e,s.args[0])&&n(e,s.args[1])){c=e.Constant(1),i=e.Constant(2);return e.OrderedPair([e.Divide([e.OrderedPairAccess([s.args[0],c]),s.args[1]]),e.Divide([e.OrderedPairAccess([s.args[0],i]),s.args[1]])])}return e.returnIndex;case r.Exponent:case r.RawExponent:case r.Equal:case r.Less:case r.Greater:case r.LessEqual:case r.GreaterEqual:case r.And:case r.OrderedPair:case r.Piecewise:case r.OrderedPairAccess:case r.NativeFunction:case r.Distribution:case r.ListAccess:case r.DeferredListAccess:case r.InboundsListAccess:case r.BeginIntegral:case r.EndIntegral:case r.BeginLoop:case r.EndLoop:case r.List:case r.BlockVar:case r.BeginBroadcast:case r.EndBroadcast:case r.BroadcastResult:case r.ExtendSeed:case r.Action:return e.returnIndex;default:throw new Error("Unexpected opcode "+s.type)}}});\ndefine(\'core/math/policy\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultPolicy=void 0;var n=["Sum","Product","Integral","List","Derivative","Piecewise","Exponent","PercentOf","FunctionDefinition","UpdateRule"];e.defaultPolicy={assignmentForbidden:function(e){return!0},graphingEnabled:function(){return!1},isValidSlider:function(e){return!1},sliderVariables:function(e){return[]},ansEnabled:function(){return!1},disabledFeatures:function(){return n},dimensionVarsEnabled:function(){return!1}}});\ndefine(\'core/math/ir/features/substitute\',["require","exports","../instructions","./copy-instruction","../opcodes"],function(require,r,t,n,e){"use strict";function s(r,n){var o=r.chunk,a=r.argMap,u=r.start;if(n<u)return n;var c=a[n-u];if(void 0!==c)return c;var g=i(r,n);r.argMap[n-u]=g;var f=o.getInstruction(n);if(t.beginsBlock(f))switch(f.type){case e.BeginBroadcast:case e.BeginIntegral:break;case e.BeginLoop:for(var p=f.args.length-2,v=0;v<p;v++)s(r,n+1+v);break;default:throw new Error("Programming Error. Unexpected OpCode: "+f.type)}else if(t.endsBlock(f))for(p=f.args.length-1,v=0;v<p;v++)s(r,n+1+v);return g}function i(r,e){var i=r.chunk,o=r.start,a=i.getInstruction(e);if(t.endsBlock(a))for(var u=a.args[0],c=u;c<=e;c++){var g=i.getInstruction(c);if(!t.isLeafInstruction(g))for(var f=0,p=g.args;f<p.length;f++){(h=p[f])<u&&s(r,h)}}if(t.isLeafInstruction(a))return n.copyInstruction(i,a);for(var v=[],d=0,l=a.args;d<l.length;d++){var h=l[d];v.push(s(r,h))}var I=r.argMap[e-o];return void 0!==I?I:n.copyInstructionWithArgs(i,a,v)}Object.defineProperty(r,"__esModule",{value:!0}),r._substituteInstruction=r.substitute=void 0,r.substitute=function(r,t,n,e){return s(function(r,t,n){return{chunk:r,argMap:t,start:n}}(r,[t],n),e)},r._substituteInstruction=i});\ndefine(\'core/math/ir/dependencies\',["require","exports","core/math/builtinframe"],function(require,e,n){"use strict";function r(e,n){return"FunctionDefinition"===n.type&&(n=n._expression),i(e,n,{})}function t(e,n,r){for(var i=[],p=[],f=0,o=n.scopes;f<o.length;f++){for(var d=t(e,o[f],r),u=0,a=d.freeDependencies;u<a.length;u++){var c=a[u];-1===i.indexOf(c)&&-1===n.definitions.indexOf(c)&&i.push(c)}for(var l=0,y=d.updateSymbols;l<y.length;l++){c=y[l];-1===p.indexOf(c)&&p.push(c)}}for(var h=0,g=n.dependencies;h<g.length;h++){for(var v=s(e,g[h],r),D=0,S=v.freeDependencies;D<S.length;D++){c=S[D];-1===i.indexOf(c)&&-1===n.definitions.indexOf(c)&&i.push(c)}for(var m=0,b=v.updateSymbols;m<b.length;m++){c=b[m];-1===p.indexOf(c)&&p.push(c)}}return{freeDependencies:i,updateSymbols:p}}function i(e,n,r){if("Slider"===n.type||"Assignment"===n.type)return i(e,n._expression,r);var s=t(e,n.getScope(),r),p=s.freeDependencies,f=s.updateSymbols,o=n.getUpdateSymbols();if(o.length>0){f=f.slice();for(var d=0,u=o;d<u.length;d++){var a=u[d];-1===f.indexOf(a)&&f.push(a)}}return{freeDependencies:p,updateSymbols:f}}function s(e,r,t){if(t[r])return t[r];if(n[r])return t[r]={freeDependencies:[],updateSymbols:[]},t[r];var s=e[r];return s?(t[r]={freeDependencies:[r],updateSymbols:[]},t[r]=i(e,s,t),t[r]):(t[r]={freeDependencies:[r],updateSymbols:[]},t[r])}Object.defineProperty(e,"__esModule",{value:!0}),e.getCacheKeys=e.analyzeDependencies=e.getFreeDependencies=e.FRAME_SENTINEL=void 0,e.FRAME_SENTINEL={},e.getFreeDependencies=function(e,n){return r(e,n).freeDependencies},e.analyzeDependencies=r,e.getCacheKeys=function(n,r){for(var t={},i=r.getDependencies().slice();i.length;){var s=i.pop();if(!t.hasOwnProperty(s)){var p=n[s];if(p===e.FRAME_SENTINEL)return;t[s]=p,p&&p.getDependencies&&Array.prototype.push.apply(i,p.getDependencies())}}return function(e){var n=[];for(var r in e)n.push([r,e[r]]);return n}(t)}});\ndefine(\'core/math/ir/features/take-derivative\',["require","exports","core/math/builtinframe","tslib","core/math/errormsg","../scope","../instructions","../opcodes","./get-dependency-mask","core/math/policy","core/math/baseparser","../build-ir","./copy-instruction","core/math/types","./substitute","./list-length","../dependencies","core/math/maybe-rational"],function(require,t,e,r,n,a,s,x,i,o,u,c,p,y,l,d,f,g){"use strict";function v(t,e,r){for(var n=t.chunk,a=t.valueMap,i=t.derivativeMap,o=t.backwardMask,u=e;u<=r;u++){var c=n.getInstruction(u);if(o[u]&&s.beginsBlock(c)&&-1!==c.endIndex)switch(c.type){case x.BeginIntegral:u=_(t,u);continue;case x.BeginLoop:case x.BeginBroadcast:u=h(t,u);continue}a.push(m(t,u)),i.push(I(t,u))}return r}function _(t,e){var n=t.chunk,a=t.forwardMask,x=t.valueMap,i=t.derivativeMap,o=t.ZERO,u=n.getInstruction(e),c=u.endIndex,y=n.getInstruction(c),d=o;if(a[u.args[1]]){var f=x[u.args[1]];d=n.Add([d,n.Multiply([i[u.args[1]],l.substitute(n,f,e,y.args[1])])])}if(a[u.args[0]]){f=x[u.args[0]];d=n.Subtract([d,n.Multiply([i[u.args[0]],l.substitute(n,f,e,y.args[1])])])}if(function(t,e,r){var n=t.getInstruction(e),a=t.getInstruction(n.endIndex);if(a.args[1]<e+1)return r[a.args[1]];for(var x=e+1;x<=a.args[1];x++){var i=t.getInstruction(x);if(!s.isLeafInstruction(i))for(var o=0,u=i.args;o<u.length;o++){var c=u[o];if(c<e&&r[c])return!0}}return!1}(n,e,a)){var g=x.slice();g.push(p.copyInstructionWithArgs(n,u,[g[u.args[0]],g[u.args[1]]])),i.push(o),v(r.__assign(r.__assign({},t),{valueMap:g,mustCopy:!0}),e+1,c-1);var _=p.copyInstructionWithArgs(n,y,[g[y.args[0]],i[y.args[1]]]);i.push(_),d=n.Add([d,p.copyInstructionWithArgs(n,n.getInstruction(c+1),[_])])}else for(var h=e;h<=c;h++)i.push(o);if(function(t,e,r){for(var n=t.getInstruction(e),a=e;a<=n.endIndex;a++){var x=t.getInstruction(a);if(!s.isLeafInstruction(x))for(var i=0,o=x.args;i<o.length;i++){var u=o[i];if(r[u]!==u)return!0}}return!1}(n,e,x)){var I=r.__assign(r.__assign({},t),{mustCopy:!0});for(h=e;h<=c+1;h++)x.push(m(I,h))}else for(h=e;h<=c+1;h++)x.push(h);return i.push(d),c+y.args.length-1}function h(t,e){var n=t.chunk,a=t.derivativeMap,s=t.valueMap,i=t.ZERO,o=n.getInstruction(e),u=o.endIndex,c=n.getInstruction(u);if(o.type===x.BeginBroadcast)s.push(p.copyInstructionWithArgs(n,o,o.args)),a.push(i);else{var y=[];y.push(s[o.args[0]],s[o.args[1]]);for(var l=2;l<o.args.length;l++)y.push(s[o.args[l]],a[o.args[l]]);s.push(p.copyInstructionWithArgs(n,o,y)),a.push(i);for(l=2;l<o.args.length;l++)s.push(p.copyInstructionWithArgs(n,n.getInstruction(e+l-1),[s[e]])),a.push(p.copyInstructionWithArgs(n,n.getInstruction(e+l-1),[s[e]]))}v(r.__assign(r.__assign({},t),{mustCopy:!0}),a.length,u-1);var d=[];d.push(s[c.args[0]]);for(l=1;l<c.args.length;l++)d.push(s[c.args[l]],a[c.args[l]]);s.push(p.copyInstructionWithArgs(n,c,d)),a.push(i);for(l=1;l<c.args.length;l++)s.push(p.copyInstructionWithArgs(n,n.getInstruction(u+l),[s[u]])),a.push(p.copyInstructionWithArgs(n,n.getInstruction(u+l),[s[u]]));return u+c.args.length-1}function m(t,e){var r=t.chunk,n=t.valueMap,a=t.mustCopy,x=r.getInstruction(e);if(s.isLeafInstruction(x))return a?p.copyInstruction(r,x):e;for(var i=[],o=!1,u=0,c=x.args;u<c.length;u++){var y=c[u];i.push(n[y]),n[y]!==y&&(o=!0)}return o||a?p.copyInstructionWithArgs(r,x,i):e}function I(t,e){var r=t.chunk,n=t.derivativeVarIndex,a=t.forwardMask,i=t.backwardMask,o=t.valueMap,u=t.derivativeMap,c=t.ZERO,l=t.ONE,f=t.NAN,v=r.getInstruction(e);if(!i[e])return c;if(e===n){if(y.isList(v.valueType)){var _=d.listLengthIndex(r,e),h=r.BeginBroadcast([_]),m=r.EndBroadcast([h,l]);return r.BroadcastResult(y.ListOfNumber,[m])}return l}if(s.beginsBlock(v)||s.endsBlock(v)||v.type===x.BlockVar||v.type===x.BroadcastResult||v.type===x.Equal||v.type===x.Greater||v.type===x.Less||v.type===x.GreaterEqual||v.type===x.LessEqual||v.type===x.And||v.type===x.Distribution||v.type===x.ExtendSeed||v.type===x.Action)return c;if(!a[e]||s.isLeafInstruction(v))return v.valueType!==y.Number?r.Multiply([c,o[e]]):v.type!==x.Constant||isFinite(g.asFloat(v.value))?c:f;if(v.type===x.List||v.type===x.OrderedPair){for(var I=[],b=0,M=v.args;b<M.length;b++){var A=M[b];I.push(u[A])}return p.copyInstructionWithArgs(r,v,I)}if(v.type===x.Piecewise)return p.copyInstructionWithArgs(r,v,[o[v.args[0]],u[v.args[1]],u[v.args[2]]]);for(var q=c,w=[],E=0,N=v.args;E<N.length;E++){var k=N[E];w.push(o[k])}for(var L=0;L<v.args.length;L++)if(a[v.args[L]]){var O=u[v.args[L]];if(O!==c){var T=z(t,v,L,w,O);T!==c&&(q=q===c?T:r.Add([T,q]))}}return q}function z(t,r,n,s,i){var u=t.chunk,y=t.ZERO,l=t.ONE,d=t.NAN;switch(r.type){case x.Add:return i;case x.Subtract:switch(n){case 0:return i;default:return u.Negative([i])}case x.Multiply:switch(n){case 0:return u.Multiply([i,s[1]]);default:return u.Multiply([s[0],i])}case x.Divide:switch(n){case 0:return u.Divide([i,s[1]]);default:return u.Multiply([s[0],u.Divide([u.Negative([i]),u.Multiply([s[1],s[1]])])])}case x.Negative:return u.Negative([i]);case x.Exponent:case x.RawExponent:switch(n){case 0:return u.Multiply([u.Multiply([s[1],u.Exponent([s[0],u.Subtract([s[1],l])])]),i]);default:return u.Multiply([u.Piecewise([u.Equal([s[0],y]),u.Piecewise([u.GreaterEqual([s[1],y]),y,d]),u.Multiply([u.SyntheticNativeFunction("ln",[s[0]]),u.Exponent([s[0],s[1]])])]),i])}case x.NativeFunction:return function(t,r,n,s){for(var x=Object.create(e),i=a.Scope({},-1),u=0;u<n.length;u++){var p=b[u];a.setSymbol(i,p,n[u]),x[p]=f.FRAME_SENTINEL}return a.setSymbol(i,"x_1",s),x.x_1=f.FRAME_SENTINEL,c.addToIR(c.Ctx(o.defaultPolicy,x,t,i,void 0),r)}(u,A[r.symbol][n],s,i);case x.ListAccess:case x.DeferredListAccess:case x.InboundsListAccess:case x.OrderedPairAccess:switch(n){case 0:return p.copyInstructionWithArgs(u,r,[i,s[1]]);default:return y}default:throw new Error("Unimplemented derivative for opcode "+r.type)}}Object.defineProperty(t,"__esModule",{value:!0}),t.takeDerivative=void 0,t.takeDerivative=function(t,e,r){var a=t.getInstruction(e);if(!y.isTypeOrListOfType(a.valueType,y.Number)&&!y.isTypeOrListOfType(a.valueType,y.Point))throw n.derivativeTypeError([y.prettyPrint(a.valueType)]);var o=t.getInstruction(r);if(!y.isTypeOrListOfType(o.valueType,y.Number)&&o.type!==x.Noop)throw n.parseError();var u=t.Constant(0);if(e<r)return u;for(var c=t.Constant(1),p=t.Constant(NaN),l=i.getDependencyMask(t,r),d=function(t,e){for(var r=[],n=0;n<e;n++)r.push(!1);r.push(!0);for(n=e;n>=0;n--)if(r[n]){var a=t.getInstruction(n);if(!s.isLeafInstruction(a))if(a.type===x.Piecewise)r[a.args[1]]=!0,r[a.args[2]]=!0;else for(var i=0,o=a.args;i<o.length;i++){r[o[i]]=!0}}return r}(t,e),f=[],g=[],_=0;_<r;_++)g.push(_),f.push(u);return v({chunk:t,derivativeVarIndex:r,forwardMask:l,backwardMask:d,valueMap:g,derivativeMap:f,mustCopy:!1,ZERO:u,ONE:c,NAN:p},r,e),f[e]};var b=["x","y","z","u"],M={exp:["\\\\exp(x)*x_1"],ln:["\\\\{x >= 0: x_1/x \\\\}"],log:["\\\\{x >= 0: x_1/(x*\\\\ln(10)) \\\\}"],sqrt:["x_1/(2*\\\\sqrt{x})"],rtxsqpone:["x*x_1/\\\\rtxsqpone(x)"],rtxsqmone:["x*x_1/\\\\rtxsqmone(x)"],sin:["\\\\cos(x)*x_1"],cos:["-\\\\sin(x)*x_1"],tan:["\\\\sec(x)^2*x_1"],arcsin:["x_1/\\\\sqrt{1 - x^2}"],arccos:["-x_1/\\\\sqrt{1 - x^2}"],sinh:["\\\\cosh(x)*x_1"],cosh:["\\\\sinh(x)*x_1"],tanh:["(\\\\sech(x))^2*x_1"],arcsinh:["x_1/\\\\sqrt{x^2 + 1}"],arccosh:["\\\\{ x > 0: x_1/\\\\rtxsqmone(x) \\\\}"],arctanh:["\\\\{ \\\\abs(x) < 1: x_1/(1 - x^2) \\\\}"],csc:["-\\\\cot(x)*\\\\csc(x)*x_1"],sec:["\\\\tan(x)*\\\\sec(x)*x_1"],cot:["-\\\\csc(x)^2*x_1"],arccsc:["-x_1/(\\\\abs(x)*\\\\rtxsqmone(x))"],arcsec:["x_1/(\\\\abs(x)*\\\\rtxsqmone(x))"],arccot:["-x_1/(1+x^2)"],csch:["-\\\\coth(x)*\\\\csch(x)*x_1"],sech:["-\\\\tanh(x)*\\\\sech(x)*x_1"],coth:["-(\\\\csch(x))^2*x_1"],arccsch:["-x_1/(\\\\abs(x)*\\\\rtxsqpone(x))"],arcsech:["\\\\{ x >= 0: -x_1/(x*\\\\sqrt{1 - x^2}) \\\\}"],arccoth:["\\\\{ \\\\abs(x) > 1 : x_1/(1 - x^2) \\\\}"],factorial:["(x)!*\\\\polyGamma(0, x + 1)*x_1"],floor:["\\\\{ \\\\mod(x, 1) > 0: 0*x_1 \\\\}"],ceil:["\\\\{ \\\\mod(x, 1) > 0: 0*x_1 \\\\}"],round:["\\\\{ \\\\abs(\\\\mod(x, 1) - 0.5) > 0: 0*x_1 \\\\}"],abs:["\\\\{ \\\\abs(x) > 0: \\\\sign(x)*x_1 \\\\}"],sign:["\\\\{ \\\\abs(x) > 0: 0*x_1 \\\\}"],distance:["-((y.x-x.x)*x_1.x+(y.y-x.y)*x_1.y)/\\\\distance(x,y)","((y.x-x.x)*x_1.x+(y.y-x.y)*x_1.y)/\\\\distance(x,y)"],mean:["\\\\mean(x_1)"],total:["\\\\total(x_1)"],length:["0"],var:["2*\\\\cov(x, x_1)"],varp:["2*\\\\cov(x, x_1)*(\\\\length(x)-1)/\\\\length(x)"],stdev:["\\\\cov(x, x_1)/\\\\stdev(x)"],stdevp:["\\\\covp(x, x_1)/\\\\stdevp(x)"],mad:["\\\\mean(\\\\sign(x-\\\\mean(x))*(x_1 - \\\\mean(x_1)))"],min:["x_1[\\\\argmin(x)]"],max:["x_1[\\\\argmax(x)]"],median:["0.5*(x_1[\\\\lowerQuantileIndex(x, 0.5)] + x_1[\\\\upperQuantileIndex(x, 0.5)])"],argmin:["0/0"],argmax:["0/0"],gcd:["0/0"],lcm:["0/0"],erf:["\\\\frac{2x_1}{\\\\sqrt{\\\\pi }}e^{-x^2}"],invNorm:["\\\\frac{x_1}{\\\\pdf(\\\\normaldist(0,1),\\\\invNorm(x))}"],logbase:["\\\\{x > 0: \\\\frac{x_1}{x*\\\\ln(y)} \\\\}","\\\\frac{-\\\\log_{y}(x)*x_1}{y*\\\\ln(y)}"],nthroot:["x^{1/y - 1}/y*x_1","-\\\\frac{x^{1/y}*\\\\ln(x)*x_1}{y^2}"],hypot:["x_1*x/\\\\hypot(x,y)","x_1*y/\\\\hypot(x,y)"],polyGamma:["0/0","\\\\polyGamma(1 + x, y)*x_1"],mod:["\\\\{ \\\\abs(\\\\mod(x, y)) > 0: x_1 \\\\}","\\\\{ \\\\mod(x/y, 1) > 0: -\\\\floor(x/y)*x_1 \\\\}"],cov:["\\\\cov(x_1, y)","\\\\cov(x, x_1)"],covp:["\\\\covp(x_1, y)","\\\\covp(x, x_1)"],corr:["(\\\\cov(x_1, y) - (\\\\cov(x, y)*\\\\cov(x, x_1)/\\\\var(x)))/(\\\\stdevp(x)\\\\stdevp(y))","(\\\\cov(x, x_1) - (\\\\cov(x, y)*\\\\cov(y, x_1)/\\\\var(y)))/(\\\\stdevp(x)\\\\stdevp(y))"],spearman:["0/0","0/0"],quantile:["\\\\{ \\\\floor(y*(\\\\length(x)-1)) = y*(\\\\length(x)-1) :   x_1[\\\\upperQuantileIndex(x, y)],  (\\\\ceil(y*(\\\\length(x)-1)) - y*(\\\\length(x)-1))*x_1[\\\\lowerQuantileIndex(x, y)] +   (y*(\\\\length(x)-1) - \\\\floor(y*(\\\\length(x)-1)))*x_1[\\\\upperQuantileIndex(x, y)]\\\\}","\\\\{ \\\\floor(y*(\\\\length(x)-1)) < y*(\\\\length(x)-1) :   (x[\\\\upperQuantileIndex(x, y)] - x[\\\\lowerQuantileIndex(x, y)])*x_1\\\\}"],quartile:["0.5*(x_1[\\\\lowerQuartileIndex(x, y)] + x_1[\\\\upperQuartileIndex(x, y)])","0/0"],tscore:["\\\\frac{\\\\sqrt{\\\\length(x)}(\\\\stdev(x)*\\\\mean(x_1)-(\\\\mean(x)-y)*\\\\frac{\\\\cov(x,x_1)}{\\\\stdev(x)})}{\\\\stdev(x)^2}","-x_1*\\\\sqrt{\\\\length(x)}/\\\\stdev(x)"],quartileIndex:["0/0","0/0"],upperQuartileIndex:["0/0","0/0"],lowerQuartileIndex:["0/0","0/0"],upperQuantileIndex:["0/0","0/0"],lowerQuantileIndex:["0/0","0/0"],nCr:["0/0","0/0"],nPr:["0/0","0/0"],arctan:["x_1*y/(y^2+x^2)","-x_1*x/(y^2+x^2)"],poissonpdf:["0/0","x_1\\\\frac{e^{-y}(\\\\floor(x)-y)y^{(\\\\floor(x)-1)}}{(\\\\floor(x))!}"],invPoisson:["0/0","0/0"],tpdf:["x_1*\\\\pdf(\\\\tdist(y),x)*\\\\frac{-(y+1)*x}{y+x^2}","x_1*\\\\frac{1}{2}\\\\pdf(\\\\tdist(y),x)(  \\\\frac{x^2-1}{y + x^2} + \\\\ln(\\\\frac{y}{y + x^2}) +   \\\\polyGamma(0, \\\\frac{1+y}{2}) - \\\\polyGamma(0, y/2))"],invT:["x_1/\\\\pdf(\\\\tdist(y),\\\\invT(x, y))","0/0"],tcdf:["-x_1*\\\\pdf(\\\\tdist(z),x)","x_1*\\\\pdf(\\\\tdist(z),y)","0/0"],poissoncdf:["0/0","0/0","x_1\\\\sum _{n=\\\\max(0,\\\\floor(\\\\min(x,y)))}^{\\\\floor(\\\\max(x,y))}\\\\frac{e^{-z}(n-z)z^{(n-1)}}{n!}"],normalpdf:["-x_1*\\\\frac{x-y}{z^2} \\\\pdf(\\\\normaldist(y,z),x)","x_1*\\\\frac{x-y}{z^2} \\\\pdf(\\\\normaldist(y,z),x)","x_1*(\\\\frac{(x-y-z)*(x-y+z)}{z^3}) \\\\pdf(\\\\normaldist(y,z),x)"],binompdf:["0/0","0/0","\\\\{0<=z<=1: x_1*\\\\pdf(\\\\binomialdist(y,z),x)*(\\\\frac{\\\\round(x)}{z}-\\\\frac{\\\\round(y)-\\\\round(x)}{1-z}), 0 \\\\}"],invBinom:["0/0","0/0","0/0"],uniformpdf:["0","\\\\{y<=x: \\\\frac{x_1}{(z-y)^2}, 0\\\\}","\\\\{z>=x: -\\\\frac{x_1}{(z-y)^2}, 0\\\\}"],invUniform:["\\\\{y<=x<=z: x_1*(z-y), 0\\\\}","\\\\{y<=x<=z: x_1*(1-x), 0\\\\}","\\\\{y<=x<=z: x_1*x, 0\\\\}"],normalcdf:["-x_1\\\\pdf(\\\\normaldist(z,u), x)","x_1\\\\pdf(\\\\normaldist(z,u), y)","-x_1*(\\\\pdf(\\\\normaldist(z,u), y) - \\\\pdf(\\\\normaldist(z,u), x))","x_1*(  \\\\{\\\\abs(y)=1/0:0,\\\\frac{z-y}{u}\\\\pdf(\\\\normaldist(z,u),y)\\\\} -   \\\\{\\\\abs(x)=1/0:0,\\\\frac{z-x}{u}\\\\pdf(\\\\normaldist(z,u),x)\\\\})"],binomcdf:["0/0","0/0","0/0","\\\\{0<=u<=1: x_1*\\\\sum _{n=\\\\max(0,\\\\round(\\\\min(x,y)))}^{\\\\round(\\\\max(x,y))}(  \\\\pdf(\\\\binomialdist(z,u),n)*(\\\\frac{n}{u}-\\\\frac{\\\\round(z)-n}{1-u})), 0 \\\\}"],uniformcdf:["\\\\{z>u: 0/0, -x_1\\\\pdf(\\\\uniformdist(z,u), x)\\\\}","\\\\{z>u: 0/0, x_1\\\\pdf(\\\\uniformdist(z,u), y)\\\\}","\\\\{z>u: 0/0, x_1*(\\\\frac{\\\\{z<x<u:u-x,0\\\\} + \\\\{z<y<u:y-u,0\\\\}}{(u-z)^2})\\\\}","\\\\{z>u: 0/0, x_1*(\\\\frac{\\\\{z<x<u:x-z,0\\\\} + \\\\{z<y<u:z-y,0\\\\}}{(u-z)^2})\\\\}"],normalSample:["0/0","0/0","0/0"],uniformSample:["0/0","0/0","0/0"],tSample:["0/0","0/0"],poissonSample:["0/0","0/0"],binomSample:["0/0","0/0","0/0"],rgb:["0/0","0/0","0/0"],hsv:["0/0","0/0","0/0"],polygon:["\\\\polygon(x_1)"],validateRangeLength:["0","0","0","\\\\{\\\\validateRangeLength(x,y,z,u) \\\\ge 1: x_1, 0\\\\}"],validateSampleCount:["\\\\{x<0:0,1\\\\}*x_1"],select:["\\\\select(x_1, y)","0*\\\\select(x,y)"],shuffle:["0*y","\\\\shuffle(x, x_1)"],sortPerm:["0*x"],elementsAt:["\\\\elementsAt(x_1, y)","0*\\\\elementsAt(x,y)"],uniquePerm:["0*\\\\uniquePerm(x)"]},A={};for(var q in M){for(var w=q,E=M[w],N=[],k=0;k<E.length;k++){var L=E[k];N.push(u.parse(L,{}))}A[w]=N}});\ndefine(\'core/math/ir/features/bound-domain\',["require","exports","core/math/domaintypes","core/math/types","core/math/maybe-rational","../opcodes","./polynomial-order","./get-polynomial-coefficients","../instructions","./is-constant","./as-value"],function(require,e,a,n,t,r,s,i,o,c,u){"use strict";function l(e,m){var f=e.domainTable,d=f[m];if(void 0!==d)return d;var v=function(e,m){var f=e.chunk,d=e.mask,v=e.orderCtx,p=f.getInstruction(m);if(o.isLeafInstruction(p)){if(p.type===r.Constant)if(p.valueType==n.Number){if(isNaN(t.asFloat(p.value)))return a.emptyDomain()}else if(p.valueType===n.ListOfNumber)for(var y=0,g=p.value;y<g.length;y++){var D=g[y];if(isNaN(t.asFloat(D)))return a.unknownDomain()}return a.allReals()}switch(p.type){case r.And:case r.Add:case r.Subtract:case r.Multiply:case r.Divide:case r.Exponent:case r.RawExponent:case r.Negative:case r.BlockVar:case r.BroadcastResult:case r.OrderedPair:case r.OrderedPairAccess:case r.NativeFunction:case r.Distribution:case r.BeginIntegral:case r.EndIntegral:case r.BeginBroadcast:case r.EndBroadcast:case r.BeginLoop:case r.EndLoop:case r.ListAccess:case r.DeferredListAccess:case r.InboundsListAccess:case r.ExtendSeed:case r.Action:for(var k=a.allReals(),b=0,N=p.args;b<N.length;b++){var w=N[b];k=a.intersectDomains(k,l(e,w))}return k;case r.List:if(!d[m])return a.allReals();var C=l(e,p.args[0]);if("known"!==C.type)return a.unknownDomain();for(var h=1;h<p.args.length;h++){if("known"!==(k=l(e,p.args[h])).type)return a.unknownDomain();if(k.bounds[0]!==C.bounds[0]||k.bounds[1]!==C.bounds[1])return a.unknownDomain()}return C;case r.Equal:return d[m]?a.unknownDomain():a.allReals();case r.Piecewise:var x=f.getInstruction(p.args[2]);return x.type===r.Constant&&x.valueType===n.Number&&isNaN(t.asFloat(x.value))?a.intersectDomains(l(e,p.args[0]),l(e,p.args[1])):a.unknownDomain();case r.Less:case r.Greater:case r.LessEqual:case r.GreaterEqual:if(!d[m])return a.allReals();if(s.instructionOrder(v,m)>1)return a.unknownDomain();var E=e.coefficientCtx;void 0===E&&(E=i.polynomialCoefficientContext(v),e.coefficientCtx=E);var L=E.newChunk,R=i.instructionCoefficients(E,m),B=R[0],I=R[1];if(!c.isConstant(L.getInstruction(B)))return a.unknownDomain();var A=u.asValue(L,B);if(isNaN(A))return a.emptyDomain();for(var O=a.allReals(),q=0,T=p.args;q<T.length;q++){w=T[q];O=a.intersectDomains(O,l(e,w))}if(void 0===I)return p.type===r.LessEqual||p.type===r.GreaterEqual?A>=0?O:a.emptyDomain():A>0?O:a.emptyDomain();var F=u.asValue(L,I);return a.intersectDomains(O,a.linearPositiveDomain(A,F))}}(e,m);return f[m]=v,v}Object.defineProperty(e,"__esModule",{value:!0}),e.boundDomain=void 0,e.boundDomain=function(e,i,o){var c=e.argNames.indexOf(i);if(-1===c){var u=e.getInstruction(o);return u.type===r.Constant&&u.valueType===n.Number&&isNaN(t.asFloat(u.value))?a.emptyDomain():a.allReals()}return l(function(e){var a=e.chunk,n=e.mask;return{chunk:a,mask:n,orderCtx:e,domainTable:[]}}(s.polynomialOrderContext(e,c,{allowRestriction:!0,allowClosedBlockReferences:!1})),o)}});\ndefine(\'core/math/ir/features/find-linear-subset\',["require","exports","../opcodes","core/math/types","../instructions"],function(require,e,r,s,a){"use strict";function t(e,r,s){var t=e.getInstruction(s),n=function(e){for(var r=[],s=0;s<e;s++)r.push(!1);return r}(e.argNames.length);if(a.isLeafInstruction(t))return n;for(var c=0,u=t.args;c<u.length;c++)for(var o=r[u[c]],i=0;i<o.length;i++)n[i]=n[i]||o[i];return n}function n(e,s,t,n){var u=e.getInstruction(n);if(a.isLeafInstruction(u))return c(e.argNames.length);switch(u.type){case r.Add:case r.Subtract:case r.Negative:case r.List:for(var o=c(e.argNames.length),i=0;i<u.args.length;i++)for(var g=t[u.args[i]],d=0;d<g.length;d++)o[d]=o[d]&&g[d];return o;case r.Divide:for(var f=[],h=t[u.args[0]],l=s[u.args[1]],p=0;p<h.length;p++)f.push(h[p]&&!l[p]);return f;case r.Multiply:for(var v=t[u.args[0]].slice(),L=t[u.args[1]].slice(),E=s[u.args[0]],I=s[u.args[1]],N=0,m=0,b=0;b<v.length;b++){var x=v[b]&&!I[b],A=L[b]&&!E[b];v[b]=x,L[b]=A,x&&(N+=1),A&&(m+=1)}return N>=m?v:L;case r.Piecewise:var B=s[u.args[0]],y=t[u.args[1]],w=t[u.args[2]],q=[];for(n=0;n<B.length;n++)q.push(!B[n]&&y[n]&&w[n]);return q;case r.ListAccess:case r.DeferredListAccess:case r.InboundsListAccess:var P=t[u.args[0]],S=s[u.args[1]],D=[];for(n=0;n<S.length;n++)D.push(P[n]&&!S[n]);return D;case r.BroadcastResult:var O=u.args[0],G=n-O;return t[e.getInstruction(O).args[G]];case r.OrderedPair:case r.OrderedPairAccess:case r.Exponent:case r.RawExponent:case r.Less:case r.LessEqual:case r.Greater:case r.GreaterEqual:case r.Equal:case r.And:case r.NativeFunction:case r.Distribution:case r.BeginIntegral:case r.EndIntegral:case r.BeginLoop:case r.EndLoop:case r.BeginBroadcast:case r.EndBroadcast:case r.BlockVar:case r.ExtendSeed:case r.Action:for(var M=[],R=0,_=s[n];R<_.length;R++){var j=_[R];M.push(!j)}return M;default:throw new Error("Unexpected opcode "+u.type)}}function c(e){for(var r=[],s=0;s<e;s++)r.push(!0);return r}Object.defineProperty(e,"__esModule",{value:!0}),e.findLinearSubset=void 0,e.findLinearSubset=function(e){for(var r=[],a=[],c=0;c<e.argNames.length;c++){for(var u=[],o=[],i=0;i<e.argNames.length;i++)u.push(e.argTypes[i]===s.Number),o.push(c===i);a.push(o),r.push(u)}for(c=e.argNames.length;c<=e.returnIndex;c++)a.push(t(e,a,c)),r.push(n(e,a,r,c));return r[e.returnIndex]}});\ndefine(\'core/math/ir/features/derive-regression-restrictions\',["require","exports","../opcodes","core/math/types","../instructions","./is-constant","./as-value","./polynomial-order","./get-polynomial-coefficients","core/math/domaintypes","./list-length"],function(require,n,e,t,i,o,r,s,a,u,c){"use strict";function l(n,e,t,i,o,r){if("known"!==e.type)return t;if(e.bounds[0]===-1/0&&e.bounds[1]===1/0)return t;var s=n.And([n.LessEqual([n.Constant(e.bounds[0]),i]),n.LessEqual([i,n.Constant(e.bounds[1])])]);return n.Multiply([t,n.Piecewise([s,o,r])])}function f(n,e){for(var t=[],i=0;i<n.argNames.length;i++)t.push(i);var o=[];for(i=0;i<=e;i++)o.push(p(n,t,o,i));return o[e]}function g(n){return n.type===e.NativeFunction&&("sin"===n.symbol||"cos"===n.symbol)}function v(n){for(var e=1/0,t=-1/0,i=n.length,o=0,r=n;o<r.length;o++){var s=r[o];e=Math.min(e,s),t=Math.max(t,s)}return{min:e,max:t,length:i}}function p(n,e,t,o){for(var r=n.getInstruction(o),s=function(n){for(var e=[],t=0;t<n;t++)e.push(!1);return e}(e.length),a=0;a<e.length;a++)if(e[a]===o)return s[a]=!0,s;if(i.isLeafInstruction(r))return s;for(var u=0,c=r.args;u<c.length;u++)for(var l=t[c[u]],f=0;f<l.length;f++)s[f]=s[f]||l[f];return s}Object.defineProperty(n,"__esModule",{value:!0}),n.deriveRegressionRestrictions=void 0,n.deriveRegressionRestrictions=function(n){var i=n.getInstruction(n.returnIndex);if(i.type!==e.BroadcastResult)return n;var h=i.args[0],d=n.returnIndex-h,m=n.getInstruction(h),C=m.args[0],y=m.args[d],w=[],x=[];w.push(C);var I=c.assertConstantListLength(n,n.returnIndex,"Programming error: cannot optimize regression on non-constant-length list");x.push({min:1,max:I,length:I});for(var k=!1,R=!1,b=C+1;b<=y;b++){if((W=n.getInstruction(b)).type===e.ListAccess||W.type===e.InboundsListAccess||W.type===e.DeferredListAccess){if(W.args[1]!==C)continue;var L=W.args[0];if(n.getInstruction(L).valueType!==t.ListOfNumber)continue;if(!o.isConstant(n.getInstruction(L)))continue;var D=v(r.asValue(n,L));if(!isFinite(D.min)||!isFinite(D.max))continue;w.push(b),x.push(D)}else g(W)?k=!0:W.type!==e.Exponent&&W.type!==e.RawExponent||(R=!0)}if(0===w.length)return n;if(!R&&!k)return n;var O=[],P=[];for(b=0;b<n.argNames.length;b++)P.push(b),O.push(u.allReals());var N=[],B=[];for(b=0;b<=y;b++)N.push(p(n,P,N,b)),B.push(p(n,w,B,b));for(b=0;b<=y;b++){if((W=n.getInstruction(b)).type===e.Piecewise)for(var E=N[b],F=0;F<E.length;F++)E[F]&&(O[F]=u.unknownDomain());else if(W.type===e.Exponent||W.type===e.RawExponent){var M=!1,V=!1;for(F=0;F<w.length;F++)B[W.args[0]][F]&&(M=!0),B[W.args[1]][F]&&(V=!0);if(M)continue;if(!V)continue;E=N[W.args[0]];var A=0,q=void 0;for(F=0;F<E.length;F++)E[F]&&(q=F,A+=1);if(1!==A)continue;if(void 0===q)continue;var _=P[q],j=s.polynomialOrderContext(n.copy().reopenFinalBlock(),_,{allowRestriction:!1,allowClosedBlockReferences:!1});if(1!==s.instructionOrder(j,W.args[0]))continue;var z=a.polynomialCoefficientContext(j),T=a.instructionCoefficients(z,W.args[0]),G=T[0];if(void 0===(en=T[1]))continue;var H=r.asValue(z.newChunk,en),J=r.asValue(z.newChunk,G);O[q]=u.intersectDomains(O[q],u.linearPositiveDomain(J,H))}}if(k)for(var K=n.copy().reopenFinalBlock(),Q=0;Q<w.length;Q++){var S=s.polynomialOrderContext(K,w[Q],{allowRestriction:!1,allowClosedBlockReferences:!1}),U=a.polynomialCoefficientContext(S);for(b=C+1;b<=y;b++){var W;if(g(W=K.getInstruction(b))){var X=W.args[0];if(1!==s.instructionOrder(S,X))continue;var Y=a.instructionCoefficients(U,X)[1];if(void 0===Y)continue;var Z=f(U.newChunk,Y),$=(q=void 0,0);for(F=0;F<Z.length;F++)Z[F]&&(q=F,$+=1);if(1!==$)continue;if(void 0===q)continue;var nn=s.polynomialOrderContext(U.newChunk,q,{allowRestriction:!1,allowClosedBlockReferences:!1});if(1!==s.instructionOrder(nn,Y))continue;var en,tn=a.polynomialCoefficientContext(nn),on=a.instructionCoefficients(tn,Y);G=on[0];if(void 0===(en=on[1])||!o.isConstant(tn.newChunk.getInstruction(G))||!o.isConstant(tn.newChunk.getInstruction(en)))continue;J=r.asValue(tn.newChunk,G),H=r.asValue(tn.newChunk,en);var rn=(x[Q].max-x[Q].min)/Math.min(x[Q].length-1,31),sn=Math.PI/rn;if(!isFinite(sn))continue;if(sn<=0)continue;O[q]=u.intersectDomains(O[q],u.linearPositiveDomain(J,H)),O[q]=u.intersectDomains(O[q],u.linearPositiveDomain(sn-J,-H))}}}for(var an=!1,un=0,cn=O;un<cn.length;un++){var ln=cn[un];if("known"!==ln.type)return n;ln.bounds[0]===-1/0&&ln.bounds[1]===1/0||(an=!0)}if(!an)return n;var fn=n.copy(),gn=n.returnIndex,vn=fn.Constant(1),pn=fn.Constant(NaN);for(F=0;F<fn.argNames.length;F++)gn=l(fn,O[F],gn,F,vn,pn);return fn.close(),fn}});\ndefine(\'core/math/ir/chunk\',["require","exports","core/math/errormsg","core/math/types","core/math/maybe-rational","core/math/functions","./opcodes","./builtin-table","./features/constant-collapse","./features/type-check","./features/emit-js","./features/get-value-type","./features/is-constant","./features/list-length","./features/drop-unreferenced-instructions","./features/convert-to-broadcast","./features/print","./features/to-dot","./features/fuse-broadcast","./features/polynomial-order","./features/get-polynomial-coefficients","./features/copy-instruction","./features/lift-point-operations","./features/element-at","./features/take-derivative","./features/bound-domain","./features/find-linear-subset","./features/derive-regression-restrictions","./features/as-value","./features/depends-on-outer-variable","./features/nan-of-type","./features/find-dependency-symbols","./constants"],function(require,t,e,n,r,s,i,o,u,a,p,c,h,y,l,g,f,d,v,I,T,m,b,L,x,k,V,C,A,B,E,N,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chunk=void 0;var S=function(){function t(t){if(this.instructions=[],this.blockMask=[],this.comments=[],t.argNames.length!==t.argTypes.length)throw new Error("Programming Error: length of argNames must match length of argTypes");this.argNames=t.argNames,this.argTypes=t.argTypes;for(var e=0;e<this.argTypes.length;e++){var n=this.argTypes[e];this.LoadArg(n)}this.returnIndex=-1}return t.prototype.addComments=function(t){for(var e in t){var n=this.comments[e]||"";this.comments[e]=n+t[e]}return this},t.prototype.instructionsLength=function(){return this.instructions.length},t.prototype.getInstruction=function(t){return this.instructions[t]},t.prototype.popInstruction=function(){return this.instructions.pop()},t.prototype.truncate=function(t){this.instructions.length=t,this.blockMask.length=t,this.comments.length=t},t.prototype.pushInstructionChecked=function(t){if(this.instructions.length>=32768)throw e.deeplyNested();this.instructions.push(t),this.returnIndex=this.instructions.length-1},t.prototype.pushLeafInstruction=function(t){return this.pushInstructionChecked(t),this.returnIndex},t.prototype.pushInstruction=function(t){return this.checkInstructionArguments(t),this.pushInstructionChecked(t),this.returnIndex=g.convertToBroadcast(this),this.returnIndex=b.liftPointOperations(this),a.typeCheck(this,this.returnIndex),this.returnIndex=u.constantCollapse(this),this.returnIndex},t.prototype.checkInstructionArguments=function(t){for(var e=0,n=t.args;e<n.length;e++){var r=n[e];if(this.blockMask[r])throw new Error("Programming Error: cannot reference an instruction in a closed block")}},t.prototype.markClosedBlock=function(t,e){for(var n=t;n<e;n++)this.blockMask[n]=!0},t.prototype.LoadArg=function(t){return this.pushLeafInstruction({type:i.LoadArg,valueType:t})},t.prototype.BlockVar=function(t,e){return this.pushInstruction({type:i.BlockVar,valueType:t,args:e})},t.prototype.SymbolicVar=function(t,e){return this.pushLeafInstruction({type:i.SymbolicVar,valueType:t,symbol:e})},t.prototype.BroadcastResult=function(t,e){var n=e[0],r=this.instructions[n],s=r.args[0],o=this.instructions.length-n,u=r.args[o],a=!B.dependsOnOuterVariable(this,u,s),p=this.getInstruction(s).args[0],c=this.getInstruction(p);return this.pushInstruction({type:i.BroadcastResult,valueType:t,args:e,isConstantBroadcast:a,constantLength:h.isConstant(c)?A.asValue(this,p):void 0})},t.prototype.Constant=function(t){return this.ConstantOfType(n.Number,t)},t.prototype.ConstantOfType=function(t,s){if("number"==typeof s&&(s=r.maybeRational(s,1)),n.isList(t)&&s.length>D.MAX_LIST_SIZE)throw e.maxListSize();return this.pushLeafInstruction({type:i.Constant,valueType:t,value:s})},t.prototype.NanOfType=function(t){if(t===n.Distribution){var e=this.Constant(NaN);return this.Distribution("uniformdist",[e,e])}return this.ConstantOfType(t,E.nanOfType(t))},t.prototype.Add=function(t){var e=i.Add,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.Subtract=function(t){var e=i.Subtract,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.Multiply=function(t){var e=i.Multiply,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.Divide=function(t){var e=i.Divide,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.Exponent=function(t){var e=i.Exponent,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.RawExponent=function(t){var e=i.RawExponent,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.Negative=function(t){var e=i.Negative,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.Equal=function(t){var e=i.Equal,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.Less=function(t){var e=i.Less,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.Greater=function(t){var e=i.Greater,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.LessEqual=function(t){var e=i.LessEqual,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.GreaterEqual=function(t){var e=i.GreaterEqual,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.And=function(t){var e=i.And,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.Piecewise=function(t){var e=i.Piecewise,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.OrderedPair=function(t){var e=i.OrderedPair,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.OrderedPairAccess=function(t){var e=i.OrderedPairAccess,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.List=function(t){var n=i.List,r=c.getValueType(this,n,t);if(t.length>D.MAX_LIST_SIZE)throw e.maxListSize();return this.pushInstruction({type:n,valueType:r,args:t})},t.prototype.ListAccess=function(t){var e=i.ListAccess,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.DeferredListAccess=function(t){var e=i.DeferredListAccess,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.InboundsListAccess=function(t){var e=i.InboundsListAccess,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.NativeFunction=function(t,e,n){var r=this,s=i.NativeFunction,u=o.BuiltInTable[t].returnType,a="function"==typeof u?u(n.map(function(t){return r.getInstruction(t).valueType})):u;return this.pushInstruction({type:s,valueType:a,args:n,symbol:t,callData:e})},t.prototype.SyntheticNativeFunction=function(t,e){var n=this,r=i.NativeFunction,s=o.BuiltInTable[t].returnType,u="function"==typeof s?s(e.map(function(t){return n.getInstruction(t).valueType})):s,a={errorSymbol:t,providedArity:e.length,isDotCall:!1};return this.pushInstruction({type:r,valueType:u,args:e,symbol:t,callData:a})},t.prototype.Distribution=function(t,e){var r=i.Distribution,s=n.Distribution;return this.pushInstruction({type:r,valueType:s,args:e,symbol:t})},t.prototype.BeginIntegral=function(t,e){var n=i.BeginIntegral,r=c.getValueType(this,n,[]);return this.pushInstruction({type:n,valueType:r,args:e,endIndex:-1,callData:t})},t.prototype.EndIntegral=function(t){var e=i.EndIntegral,n=c.getValueType(this,e,t),r=t[0],s=this.getInstruction(r);this.instructions[r]={type:s.type,valueType:s.valueType,args:s.args,endIndex:this.instructionsLength(),callData:s.callData};var o=this.pushInstruction({type:e,valueType:n,args:t});return this.markClosedBlock(r,o),o},t.prototype.BeginBroadcast=function(t,n){var r=i.BeginBroadcast,s=c.getValueType(this,r,[]),o=this.getInstruction(t[0]);if(h.isConstant(o)&&A.asValue(this,t[0])>D.MAX_LIST_SIZE)throw e.maxListSize();return this.pushInstruction({type:r,valueType:s,endIndex:-1,args:t,listComprehensionCallData:n})},t.prototype.EndBroadcast=function(t){var e=i.EndBroadcast,n=c.getValueType(this,e,t),r=t[0],s=this.getInstruction(r),o={type:s.type,valueType:s.valueType,args:s.args,endIndex:this.instructionsLength()};this.instructions[r]=o;var u=this.pushInstruction({type:e,valueType:n,args:t});return this.markClosedBlock(r,u),u},t.prototype.BeginLoop=function(t,e){var n=i.BeginLoop,r=c.getValueType(this,n,e);return this.pushInstruction({type:n,valueType:r,args:e,endIndex:-1,callData:t})},t.prototype.EndLoop=function(t){var e=i.EndLoop,n=c.getValueType(this,e,t),r=t[0],s=this.getInstruction(r);this.instructions[r]={type:s.type,valueType:s.valueType,args:s.args,endIndex:this.instructionsLength(),callData:s.callData};var o=this.pushInstruction({type:e,valueType:n,args:t});return this.markClosedBlock(r,o),o},t.prototype.ExtendSeed=function(t,e){var r=i.ExtendSeed,s=n.SeedType;return this.pushInstruction({type:r,valueType:s,args:e,tag:t})},t.prototype.Noop=function(){var t=i.Noop,e=n.Any;return this.pushLeafInstruction({type:t,valueType:e})},t.prototype.Action=function(t,e){return this.pushInstruction({type:i.Action,valueType:n.Action,args:e,symbols:t})},t.prototype.replaceInstructionWithConstant=function(t,e){this.instructions[t]=e,this.blockMask[t]=void 0},t.prototype.replaceInstructionWithBlockVar=function(t,e){this.instructions[t]=e},t.prototype.reopenFinalBlock=function(){var t=this.getInstruction(this.returnIndex);if(t.type!==i.BroadcastResult)return this;for(var e=t.args[0],n=this.getInstruction(e).args[0];n<e;n++)this.blockMask[n]=void 0;return this.truncate(e),this},t.prototype.isInClosedBlock=function(t){return this.blockMask[t]},t.prototype.copy=function(){var e=new t({argNames:this.argNames,argTypes:this.argTypes});return e.instructions=this.instructions.slice(),e.blockMask=this.blockMask.slice(),e.comments=this.comments.slice(),e.returnIndex=this.returnIndex,e},t.prototype.close=function(){return this.returnIndex=v.fuseBroadcast(this,this.returnIndex),l.dropUnreferencedInstructions(this),this},t.prototype.copyInstruction=function(t){return m.copyInstruction(this,t)},t.prototype.copyInstructionWithArgs=function(t,e){return m.copyInstructionWithArgs(this,t,e)},t.prototype.replaceInstructionWithNoop=function(t){this.instructions[t]={type:i.Noop,valueType:n.Any}},t.prototype.getReturnType=function(){return this.instructions[this.returnIndex].valueType},t.prototype.isConstant=function(){return h.isConstant(this.instructions[this.returnIndex])},t.prototype.asValue=function(){return A.asValue(this,this.returnIndex)},t.prototype.asCompilerValue=function(){var t=this.instructions[this.returnIndex];switch(t.type){case i.Constant:return t.value;default:throw new Error("Unexpected opcode "+t.type+".")}},t.prototype.getConstantListLength=function(){return y.getConstantListLength(this,this.returnIndex)},t.prototype.getListLengthDependencies=function(){var t=this.copy(),e=y.listLengthIndex(t,t.returnIndex);return N.findDependencySymbols(t,e)},t.prototype.elementAt=function(t){var e=this.copy(),n=e.returnIndex;return e.returnIndex=L.elementAt(e,n,t),e.close(),e},t.prototype.getCompiledFunction=function(t){var e;if(t){e=t.slice();for(var n=0,r=this.argNames;n<r.length;n++){var i=r[n];-1===e.indexOf(i)&&e.push(i)}}else e=this.argNames;var o=p.emitJS(this),u=o.source,a=o.constants;return{args:e,source:u,constants:a,fn:s.closureFunctionWithBuiltIn(e,u,a)}},t.prototype.polynomialOrder=function(t,e){return I.polynomialOrder(this,t,e)},t.prototype.getPolynomialCoefficients=function(t){return T.getPolynomialCoefficients(this,t)},t.prototype.takeDerivative=function(t){var e=this.copy(),n=this.argNames.indexOf(t);return-1===n?(e.Constant(0),e.close(),e):(e.returnIndex=x.takeDerivative(e,e.returnIndex,n),e.close(),e)},t.prototype.deriveRegressionRestrictions=function(){return C.deriveRegressionRestrictions(this)},t.prototype.boundDomain=function(t){return k.boundDomain(this,t,this.returnIndex)},t.prototype.findLinearSubset=function(t){for(var e=V.findLinearSubset(this),n=[],r=0,s=t;r<s.length;r++){var i=s[r],o=this.argNames.indexOf(i);if(-1===o)throw new Error("Programming Error: findLinearSubset called with a non-dependency");n.push(e[o])}return n},t.prototype.print=function(){return f.print(this)},t.prototype.printInstruction=function(t){return f.printInstruction(this,t)},t.prototype.toDot=function(){return d.default(this)},t.prototype.getLiveArgNames=function(){for(var t=[],e=0;e<this.argNames.length;e++){this.instructions[e].type===i.LoadArg&&t.push(this.argNames[e])}return t},t}();t.Chunk=S});\ndefine(\'core/math/ir/distribution-table\',["require","exports","./features/list-length"],function(require,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomSampleFromList=t.DistributionTable=void 0,t.DistributionTable={normaldist:{pdf:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("normalpdf",i.concat(r.args))},cdf:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("normalcdf",i.concat(r.args))},mean:function(t,n,i){return t.getInstruction(n).args[0]},median:function(n,i,r){return t.DistributionTable.normaldist.mean(n,i,r)},stdev:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("abs",[r.args[1]])},var:function(t,n,i){var r=t.getInstruction(n);return t.Multiply([r.args[1],r.args[1]])},quantile:function(t,n,i){var r=t.getInstruction(n);return t.Add([t.Multiply([t.SyntheticNativeFunction("invNorm",i),t.SyntheticNativeFunction("abs",[r.args[1]])]),r.args[0]])},random:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("normalSample",[i[0],r.args[0],r.args[1]])}},tdist:{pdf:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("tpdf",i.concat(r.args))},cdf:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("tcdf",i.concat(r.args))},mean:function(t,n,i){return t.Constant(0)},median:function(t,n,i){return t.Constant(0)},stdev:function(n,i,r){return n.SyntheticNativeFunction("sqrt",[t.DistributionTable.tdist.var(n,i,r)])},var:function(t,n,i){var r=t.getInstruction(n),e=t.Constant(2),a=r.args[0];return t.Piecewise([t.GreaterEqual([a,e]),t.Divide([a,t.Subtract([a,e])]),t.Constant(NaN)])},quantile:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("invT",[i[0],r.args[0]])},random:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("tSample",[i[0],r.args[0]])}},poissondist:{pdf:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("poissonpdf",i.concat(r.args))},cdf:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("poissoncdf",i.concat(r.args))},mean:function(t,n,i){return t.getInstruction(n).args[0]},median:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("invPoisson",[t.Constant(.5),r.args[0]])},stdev:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("sqrt",[r.args[0]])},var:function(n,i,r){return t.DistributionTable.poissondist.mean(n,i,r)},quantile:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("invPoisson",[i[0],r.args[0]])},random:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("poissonSample",[i[0],r.args[0]])}},binomialdist:{pdf:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("binompdf",i.concat(r.args))},cdf:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("binomcdf",i.concat(r.args))},mean:function(t,n,i){var r=t.getInstruction(n);return t.Multiply([r.args[0],r.args[1]])},median:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("invBinom",[t.Constant(.5),r.args[0],r.args[1]])},stdev:function(n,i,r){return n.SyntheticNativeFunction("sqrt",[t.DistributionTable.binomialdist.var(n,i,r)])},var:function(t,n,i){var r=t.getInstruction(n).args,e=r[0],a=r[1];return t.Multiply([e,t.Multiply([a,t.Subtract([t.Constant(1),a])])])},quantile:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("invBinom",[i[0],r.args[0],r.args[1]])},random:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("binomSample",[i[0],r.args[0],r.args[1]])}},uniformdist:{pdf:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("uniformpdf",i.concat(r.args))},cdf:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("uniformcdf",i.concat(r.args))},mean:function(t,n,i){var r=t.getInstruction(n);return t.Divide([t.Add([r.args[0],r.args[1]]),t.Constant(2)])},median:function(n,i,r){return t.DistributionTable.uniformdist.mean(n,i,r)},stdev:function(n,i,r){return n.SyntheticNativeFunction("sqrt",[t.DistributionTable.uniformdist.var(n,i,r)])},var:function(t,n,i){var r=t.getInstruction(n),e=t.Subtract([r.args[1],r.args[0]]);return t.Divide([t.Multiply([e,e]),t.Constant(12)])},quantile:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("invUniform",[i[0],r.args[0],r.args[1]])},random:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("uniformSample",[i[0],r.args[0],r.args[1]])}}},t.randomSampleFromList=function(t,i,r){var e=r[0],a=t.Constant(0),o=t.Constant(1);if(0===n.getConstantListLength(t,i))return t.Constant(NaN);var u=n.listLengthIndex(t,i);return t.InboundsListAccess([i,t.Add([t.SyntheticNativeFunction("floor",[t.Multiply([t.SyntheticNativeFunction("uniformSample",[e,a,o]),u])]),o])])}});\ndefine(\'core/math/ir/features/depends-on-instruction\',["require","exports","../instructions"],function(require,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.dependsOnInstruction=void 0,r.dependsOnInstruction=function(r,e,t){if(e===t)return!0;if(e<t)return!1;for(var i=[!0],u=t+1;u<=e;u++)i.push(!1);for(var s=[e];s.length;){if(!i[(u=s.pop())-t]){i[u-t]=!0;var o=r.getInstruction(u);if(!n.isLeafInstruction(o))for(var f=0,c=o.args;f<c.length;f++){var a=c[f];if(a===t)return!0;a<t||(i[a-t]||s.push(a))}}}return!1}});\ndefine(\'core/math/cache-stats\',["require","exports"],function(require,e){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.markCacheRead=e.markCacheWrite=e.markCacheMiss=e.markCacheHit=e.setCacheStatStore=void 0,e.setCacheStatStore=function(e){a=e},e.markCacheHit=function(){a&&(a.cacheHits+=1)},e.markCacheMiss=function(){a&&(a.cacheMisses+=1)},e.markCacheWrite=function(){a&&(a.cacheWrites+=1)},e.markCacheRead=function(){a&&(a.cacheReads+=1)}});\ndefine(\'core/math/ir/build-ir\',["require","exports","parsenodes","core/math/builtinframe","core/math/errormsg","./scope","./chunk","core/math/types","core/math/maybe-rational","./opcodes","./builtin-table","./features/list-length","./features/is-constant","./features/type-check","./distribution-table","./features/fuse-broadcast","./features/find-dependency-symbols","./features/element-at","./features/take-derivative","./features/substitute","./features/convert-to-broadcast","./features/copy-instruction","./features/depends-on-instruction","./dependencies","../cache-stats","./features/nan-of-type"],function(require,e,t,r,n,i,a,s,o,u,c,l,d,p,y,g,f,v,m,h,b,T,L,S,I,w){"use strict";function A(e,t,r,n,i){return{policy:e,frame:t,chunk:r,scope:n,parentNode:i}}function E(e){var t=e.policy,r=e.frame,n=e.argNames,s=e.argTypes,o=new a.Chunk({argNames:n,argTypes:s});return A(t,r,o,function(e){for(var t=i.Scope({},-1),r=0;r<e.argNames.length;r++)i.setSymbol(t,e.argNames[r],r);return t}(o),void 0)}function x(e,t,r){if("FunctionDefinition"===t.type)for(var i=0,a=r;i<a.length;i++){var o=a[i];if(-1!==t._argSymbols.indexOf(o)||t._symbol===o)throw n.updateRuleLocalLHS(o);if(t._sybmol===o)throw n.updateRuleFunctionLHS(o)}for(var u=[],c=0,l=r;c<l.length;c++){o=l[c];e.frame[o]||u.push(o)}if(u.length){var d=U(e,u[0]).setDependencies(e.chunk.argNames.concat(u));throw e.chunk.isConstant()&&e.chunk.getReturnType()===s.Action&&d.setActionValue(e.chunk.asValue()),d}}function C(e,a){var c;if(I.markCacheRead(),_(e.frame,a))I.markCacheHit(),c=e.chunk.copyInstruction(a.__IRCache.instruction);else{I.markCacheMiss();var y=e.chunk.instructionsLength(),f=e.policy,v=e.frame,T=e.chunk,E=e.scope,x=e.parentNode;if(c=function(e,a){var c=e.policy,y=e.frame,f=e.chunk,v=e.scope,T=e.parentNode;switch(a.type){case"Constant":var I=a._constantValue,E="boolean"==typeof I?s.Bool:s.Number;return f.ConstantOfType(E,I);case"MixedNumber":return f.Constant(a._constantValue);case"Negative":return f.Negative(function(e,t){return[C(e,t[0])]}(e,a.args));case"Add":return f.Add(D(e,a.args));case"Subtract":return f.Subtract(D(e,a.args));case"Multiply":return f.Multiply(D(e,a.args));case"Divide":return f.Divide(D(e,a.args));case"Exponent":return f.Exponent(D(e,a.args));case"Comparator[\'=\']":return f.Equal(D(e,a.args));case"Comparator[\'>\']":return f.Greater(D(e,a.args));case"Comparator[\'<\']":return f.Less(D(e,a.args));case"Comparator[\'>=\']":return f.GreaterEqual(D(e,a.args));case"Comparator[\'<=\']":return f.LessEqual(D(e,a.args));case"And":return f.And(D(e,a.args));case"PercentOf":return f.Divide([f.Multiply(D(e,a.args)),f.Constant(100)]);case"ParenSeq":return function(e,t){for(var r,i,a,o,u=e.chunk,c=e.policy,l=B(e,t.args),d=!1,p=0;p<l.length;p++){var y=u.getInstruction(l[p]).valueType;if(y===s.Action){if(d=!0,void 0!==o)throw n.combineTypeError([s.prettyPrint(o),s.prettyPrint(s.Action)])}else{if(d)throw n.combineTypeError([s.prettyPrint(s.Action),s.prettyPrint(y)]);o=y}}if(d)return V(e,l);var g=null!==(a=null===(i=(r=c).dimensions)||void 0===i?void 0:i.call(r))&&void 0!==a?a:2;if(2!==g)throw new Error("3D points not implemented.");if(l.length!==g)throw n.badTupleDimensions(g);return u.OrderedPair(l)}(e,a);case"BareSeq":return function(e,t){var r=e.chunk,i=B(e,t.args);if(i.length<2)throw n.unexpectedSymbol(",");for(var a=r.getInstruction(i[0]).valueType,o=1;o<i.length;o++){var u=r.getInstruction(i[o]).valueType;if(a!==u)throw n.combineTypeError([s.prettyPrint(a),s.prettyPrint(u)])}if(a===s.Number)throw 2===i.length?n.malformedPoint():n.malformedList();return a===s.Action?V(e,i):r.List(i)}(e,a);case"OrderedPairAccess":return f.OrderedPairAccess(D(e,a.args));case"UpdateRule":var x=y[ne=a._symbol];if(x){if(x.isError)throw x;if("Assignment"!==x.type&&"Slider"!==x.type)throw U(e,ne)}return f.Action([ne],[C(e,a.args[1])]);case"List":if(a.getDependencies().length>0)return f.List(B(e,a.args));if(0===a.args.length)return f.ConstantOfType(s.EmptyList,[]);for(var N=f.instructionsLength(),F=[],O=void 0,_=void 0,R=0,k=a.args;R<k.length;R++){var M=C(e,k[R]),H=f.getInstruction(M);if(void 0===O){if(O=H.valueType,!s.hasListType(O))throw n.listTypeError([s.prettyPrint(O)]);_=s.listType(O)}else if(H.valueType!==O)throw n.heterogeneousList();if(H.type!==u.Constant)throw new Error("Programming error: expected list with no dependencies to constant collapse.");F.push(H.value),f.truncate(N)}return f.ConstantOfType(_,F);case"ListAccess":var j=C(e,a.args[0]),z=f.getInstruction(j);if("Range"===a.args[1].type&&0===a.args[1].args[1].length){if(!s.isList(z.valueType))throw n.indexTypeError([s.prettyPrint(z.valueType),s.prettyPrint(s.Number)]);var W=l.listLengthIndex(f,j),G=q(e,C(e,a.args[1].args[0]),f.List([W]),{stepMustBePositive:!0});return f.ListAccess([j,G])}G=C(e,a.args[1]);var K=f.getInstruction(G);if(!s.isList(z.valueType))throw n.indexTypeError([s.prettyPrint(z.valueType),s.prettyPrint(K.valueType)]);return K.valueType===s.ListOfBool?f.SyntheticNativeFunction("select",[j,G]):f.ListAccess([j,G]);case"Range":var J=D(e,a.args);return q(e,J[0],J[1],{stepMustBePositive:!1});case"ListComprehension":return function(e,t){for(var r=e.policy,a=e.frame,o=e.chunk,c=e.scope,d=e.parentNode,p=t._body,y=[],g=o.Constant(1),f=Object.create(a),v=0,m=t._inputLists;v<m.length;v++){var h=m[v]._symbol;f[h]=n.badListComprehensionInputDependency(h)}for(var b=i.childScope(c),T=t._inputLists.length-1;T>=0;T--){var L=t._inputLists[T],I=L._symbol,w=C(A(r,f,o,b,d),L.args[1]),E=o.getInstruction(w);if(!s.isList(E.valueType))throw n.listComprehensionInputListTypeError(I,s.prettyPrint(E.valueType));var x=l.listLengthIndex(o,w);y.push({symbol:I,assignedList:w,lengthIndex:x}),g=o.Multiply([g,x])}var N=o.Constant(1),F=o.BeginBroadcast([g],{inputListSymbols:y.map(function(e){return e.symbol})}),O=i.childScope(c);i.setSymbol(O,t._index._symbol,F);var _=N;for(T=y.length-1;T>=0;T--){var D=y[T],B=(I=D.symbol,w=D.assignedList,x=D.lengthIndex,void 0);if(1===y.length)B=F;else{var P=o.SyntheticNativeFunction("floor",[o.Divide([o.Subtract([F,N]),_])]);B=o.Add([o.SyntheticNativeFunction("mod",[P,x]),N]),T>0&&(_=o.Multiply([_,x]))}var R=i.getSymbol(O,I);if(void 0!==a[I]||void 0!==R&&o.getInstruction(R).type!==u.LoadArg)throw n.shadowedListComprehensionInput(I);i.setSymbol(O,I,o.ListAccess([w,B]))}for(var k=Object.create(a),M=0,V=y;M<V.length;M++){k[V[M].symbol]=S.FRAME_SENTINEL}var U=C(A(r,k,o,O,d),p),q=o.getInstruction(U);if(!s.hasListType(q.valueType))throw n.listTypeError([s.prettyPrint(q.valueType)]);var H=o.EndBroadcast([F,U]);return o.BroadcastResult(s.listType(q.valueType),[H])}(e,a);case"Piecewise":var Q=function(e,t){return[C(e,t[0]),C(e,t[1]),C(e,t[2])]}(e,a.args),X=f.getInstruction(Q[0]),Y=f.getInstruction(Q[1]),Z=f.getInstruction(Q[2]);if(X.type===u.Constant&&X.valueType===s.Bool&&s.typesMatch(Y.valueType,Z.valueType)){var $=Q[X.value?1:2],ee=f.getInstruction($),te=Y.valueType!==s.EmptyList?Y.valueType:Z.valueType;return ee.valueType===s.EmptyList&&te!==s.EmptyList?f.ConstantOfType(te,[]):$}if(!s.typesMatch(Y.valueType,Z.valueType)&&d.isConstant(Z)&&Z.valueType===s.Number&&o.isNanFloat(Z.value)&&w.isNanableValueType(Y.valueType)){var re=f.NanOfType(Y.valueType);Q=[Q[0],Q[1],re]}return f.Piecewise(Q);case"Ans":case"Identifier":var ne=a._symbol,ie=a._errorSymbol;if("Ans"===a.type&&-1!==f.argNames.indexOf(ne))throw n.ansUndefined();G=i.getSymbol(v,ne);var ae=y[ne];if(void 0!==G){if(v.symbolMap.hasOwnProperty(ne))return G;if(void 0===ae||ae===S.FRAME_SENTINEL)return G}if(void 0===ae){if(r[a._symbol])throw r[a._symbol].isFunction?n.functionUnsupported(ie):n.constantUnsupported(ie);throw new Error("Programming Error: reached undefined symbol "+ne)}if(ae.isError)throw ae;if(ae.isFunction)throw n.identifierAsFunction(ie);var se=C(A(c,y,f,v,void 0),ae);return i.setSymbol(v,ne,se),se;case"FunctionCall":case"SeededFunctionCall":Q=B(e,a.args);return P(e,a._symbol,a._errorSymbol,Q);case"FunctionExponent":return y[tt=a.args[0]._symbol]&&y[tt].isFunction?C(e,t.Exponent([t.FunctionCall(tt,[a.args[1]]),a.args[2]])):C(e,t.Multiply([a.args[0],t.Exponent([a.args[1],a.args[2]])]));case"FunctionFactorial":return y[tt=a.args[0]._symbol]&&y[tt].isFunction?C(e,t.FunctionCall("\\\\factorial",[t.FunctionCall(tt,[a.args[1]])])):C(e,t.Multiply([a.args[0],t.FunctionCall("\\\\factorial",[a.args[1]])]));case"DotAccess":var oe=a.args[0],ue=a.args[1];if(("Identifier"===ue.type||"FunctionCall"===ue.type)&&y[ue._symbol]&&y[ue._symbol].isFunction)return P(e,ne=ue._symbol,ie=ue._errorSymbol,Q=B(e,"Identifier"===ue.type?[oe]:[oe].concat(ue.args)),{dotLHSIndex:Q[0]});if("SeededFunctionCall"===ue.type)return P(e,ne=ue._symbol,ie=ue._errorSymbol,Q=B(e,[ue.seed,oe].concat(ue.args.slice(1))),{dotLHSIndex:Q[1]});throw n.unexpectedSymbol(".");case"Seed":return f.ConstantOfType(s.SeedType,a._stringValue);case"ExtendSeed":return f.ExtendSeed(a.tag,D(e,a.args));case"Integral":var ce=a._differential._symbol,le=i.getSymbol(v,ce);if(void 0!==y[ce]||void 0!==le&&f.getInstruction(le).type!==u.LoadArg)throw n.shadowedIntegrationVariable(ce);(xe=Object.create(y))[ce]=n.badIntegralBoundDependency(ce);var de=C(Ne=A(c,xe,f,i.childScope(v),T),a.args[1]),pe=C(Ne,a.args[2]),ye=f.getInstruction(de),ge=f.getInstruction(pe),fe=f.SymbolicVar(s.Number,ce),ve=i.childScope(v);i.setSymbol(ve,ce,fe);var me=Object.create(y);me[ce]=S.FRAME_SENTINEL;var he=C(A(c,me,f,ve,T),a.args[3]);if(!L.dependsOnInstruction(f,he,fe))return f.Multiply([he,f.Subtract([pe,de])]);var be=de;void 0!==(Ue=void 0!==(Re=l.minListLengthIndex(f,[de,pe,he]))?f.BeginBroadcast([Re]):void 0)&&s.isList(ye.valueType)&&(be=b.deferredOrInboundsAccess(f,de,Ue));var Te=pe;void 0!==Ue&&s.isList(ge.valueType)&&(Te=b.deferredOrInboundsAccess(f,pe,Ue));var Le=f.BeginIntegral({indexSymbol:ce},[be,Te]),Se=h.substitute(f,Le,fe,he),Ie=f.getInstruction(Se);void 0!==Ue&&s.isList(Ie.valueType)&&(Se=b.deferredOrInboundsAccess(f,Se,Ue));var we=f.EndIntegral([Le,Se]),Ae=f.BlockVar(s.Number,[we]);if(void 0!==Ue){var Ee=f.EndBroadcast([Ue,Ae]);return f.BroadcastResult(s.ListOfNumber,[Ee])}return Ae;case"Sum":case"Product":ce=a._index._symbol,le=i.getSymbol(v,ce);if(void 0!==y[ce]||void 0!==le&&f.getInstruction(le).type!==u.LoadArg)throw n.shadowedIndex(ce);var xe,Ce="Sum"===a.type;(xe=Object.create(y))[ce]=Ce?n.badSumBoundDependency(ce):n.badProductBoundDependency(ce);var Ne,Fe=C(Ne=A(c,xe,f,i.childScope(v),T),a.args[1]),Oe=C(Ne,a.args[2]);if(!p.argIsTypeOrListOfType(f,Fe,s.Number)){var _e=p.extractScalarValueTypes(f,[Fe]);throw Ce?n.sumLowerBoundTypeError(_e):n.productLowerBoundTypeError(_e)}if(!p.argIsTypeOrListOfType(f,Oe,s.Number)){_e=p.extractScalarValueTypes(f,[Oe]);throw Ce?n.sumUpperBoundTypeError(_e):n.productUpperBoundTypeError(_e)}de=f.SyntheticNativeFunction("round",[Fe]),pe=f.SyntheticNativeFunction("round",[Oe]),ye=f.getInstruction(de),ge=f.getInstruction(pe);if(ye.type===u.Constant&&ye.valueType===s.Number&&!isFinite(o.asFloat(ye.value)))throw Ce?n.sumInfiniteBoundError():n.productInfiniteBoundError();if(ge.type===u.Constant&&ge.valueType===s.Number&&!isFinite(o.asFloat(ge.value)))throw Ce?n.sumInfiniteBoundError():n.productInfiniteBoundError();var De=f.SymbolicVar(s.Number,ce),Be=i.childScope(v);i.setSymbol(Be,ce,De);var Pe=Object.create(y);Pe[ce]=S.FRAME_SENTINEL;var Re,ke=C(A(c,Pe,f,Be,T),a.args[3]);if(!L.dependsOnInstruction(f,ke,De)){var Me=f.Add([f.Subtract([pe,de]),f.Constant(1)]);Me=f.SyntheticNativeFunction("max",[Me,f.Constant(0)]);var Ve=Ce?f.Multiply([ke,Me]):f.Exponent([ke,Me]);return f.Piecewise([f.Less([Me,f.Constant(1/0)]),Ve,f.Constant(NaN)])}if(!p.argIsTypeOrListOfType(f,ke,s.Number)){_e=p.extractScalarValueTypes(f,[ke]);throw Ce?n.sumArgumentTypeError(_e):n.productArgumentTypeError(_e)}if(void 0!==(Re=l.minListLengthIndex(f,[de,pe,ke]))&&L.dependsOnInstruction(f,Re,De))throw Ce?n.variableLengthSumBodyDependsOnIndex(ce):n.variableLengthProductBodyDependsOnIndex(ce);var Ue;be=de;void 0!==(Ue=void 0!==Re?f.BeginBroadcast([Re]):void 0)&&s.isList(ye.valueType)&&(be=b.deferredOrInboundsAccess(f,de,Ue));Te=pe;null!=Ue&&s.isList(ge.valueType)&&(Te=b.deferredOrInboundsAccess(f,pe,Ue));var qe=f.Constant(Ce?0:1),He=(Le=f.BeginLoop({type:Ce?"sum":"product",indexSymbol:ce},[be,Te,qe]),f.BlockVar(s.Number,[Le])),je=h.substitute(f,Le,De,ke),ze=f.getInstruction(je);void 0!==Ue&&s.isList(ze.valueType)&&(je=b.deferredOrInboundsAccess(f,je,Ue));var We=Ce?f.Add([He,je]):f.Multiply([He,je]),Ge=(we=f.EndLoop([Le,We]),f.BlockVar(s.Number,[we]));if(void 0!==Ue){Ee=f.EndBroadcast([Ue,Ge]);return f.BroadcastResult(s.ListOfNumber,[Ee])}return Ge;case"Derivative":var Ke=C(e,t.Identifier(a._symbol));if(!p.argIsTypeOrListOfType(f,Ke,s.Number))throw n.derivativeVariableTypeError(a._symbol,p.extractScalarValueTypes(f,[Ke]));var Je=void 0,Qe=void 0;if((rt=f.getInstruction(Ke)).type===u.LoadArg&&rt.valueType===s.Number)Je=e,Qe=Ke;else{var Xe=i.childScope(v);Qe=f.SymbolicVar(rt.valueType),i.setSymbol(Xe,a._symbol,Qe);var Ye=Object.create(y);Ye[a._symbol]=S.FRAME_SENTINEL,Je=A(c,Ye,f,Xe,T)}for(var Ze=1;"Derivative"===a.args[0].type&&a.args[0]._symbol===a._symbol;)Ze+=1,a=a.args[0];for(var $e=g.fuseBroadcast(f,C(Je,a.args[0])),et=0;et<Ze;et++)$e=m.takeDerivative(f,$e,Qe);return Qe===Ke?$e:h.substitute(f,Ke,Qe,$e);case"Prime":var tt;if(!y[(tt=a.args[0])._symbol])throw n.functionNotDefined(tt._symbol);var rt;Ke=C(e,tt.args[0]),Qe=void 0;Qe=(rt=f.getInstruction(Ke)).type===u.LoadArg&&rt.valueType===s.Number?Ke:f.SymbolicVar(rt.valueType);Q=void 0;if("logbase"===tt._symbol){if(2!==tt.args.length)throw n.primedFunctionArity();Q=[Qe,C(e,tt.args[1])]}else{if(1!==tt.args.length)throw n.primedFunctionArity();Q=[Qe]}$e=g.fuseBroadcast(f,P(e,tt._symbol,tt._errorSymbol,Q));for(var nt=0;nt<a.order;nt++)$e=m.takeDerivative(f,$e,Qe);return Qe===Ke?$e:h.substitute(f,Ke,Qe,$e);case"Slider":return e.chunk.Constant(a.getConcreteTree(c,y).asCompilerValue());case"Assignment":return C(e,a._expression);case"FunctionDefinition":for(var it=0;it<a._argSymbols.length;it++){if(y[a._argSymbols[it]])throw n.parameterAlreadyDefined(a._argSymbols[it]);if(a._argSymbols[it]===a._symbol)throw n.parameterAlreadyDefined(a._argSymbols[it])}return C(e,a._expression);default:throw new Error("Programming error, unimplemented node type "+a.type)}}(A(f,v,T,E,a),a),!F(a,x)){var R=T.getInstruction(c);R.type===u.BroadcastResult&&R.isConstantBroadcast&&(c=g.fuseBroadcast(T,c))}O(e,a,c=N(e,y,c))}return e.chunk.returnIndex=c,c}function N(e,t,r){var n=e.chunk,i=e.scope;if(r<=t)return r;var a=n.getInstruction(r);return d.isConstant(a)?(n.truncate(Math.max(t,i.maxIndex+1)),T.copyInstruction(n,a)):r}function F(e,t){if(!t)return!1;if(!e.getScope||!t.getScope)return!1;var n=t.getScope().dependencies,i=e.getScope().dependencies;if(i.length===n.length)return!0;for(var a=0,s=0,o=i;s<o.length;s++){var u=o[s];r[u]||(a+=1)}for(var c=0,l=0,d=n;l<d.length;l++){u=d[l];r[u]||(c+=1)}return a===c}function O(e,t,r){var n=e.frame,i=e.chunk,a=e.parentNode,s=i.getInstruction(r);if(d.isConstant(s)&&!F(t,a)){var o=S.getCacheKeys(n,t);o&&(I.markCacheWrite(),t.__IRCache={keys:o,instruction:s})}}function _(e,t){if(!t.__IRCache)return!1;for(var r=0,n=t.__IRCache.keys;r<n.length;r++){var i=n[r],a=i[0],s=i[1];if(e[a]!==s)return!1}return!0}function D(e,t){return[C(e,t[0]),C(e,t[1])]}function B(e,t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];r.push(C(e,a))}return r}function P(e,a,m,h,b){var T=e.policy,L=e.frame,I=e.chunk,w=e.scope,E=e.parentNode,x=i.getSymbol(w,a);if(void 0!==x){if(1==h.length)return I.Multiply([x,h[0]]);throw I.getInstruction(x).type===u.LoadArg?n.functionNotDefined(m):I.getInstruction(x).valueType===s.Distribution?n.distributionAsFunction(m):n.variableAsFunction(m)}var N=L[a];if(N&&N.isError)throw N;if(void 0===N||!N.isFunction){if(r[a]&&r[a].isFunction){if("logbase"===a&&L.ln&&L.log)throw n.logbaseUnsupported();throw n.functionUnsupported(m)}if(N){var F=C(e,N);if(I.getInstruction(F).valueType===s.Distribution)throw n.distributionAsFunction(m)}if(1==h.length)return I.Multiply([C(e,t.Identifier(a)),h[0]]);throw N?n.variableAsFunction(m):new Error("Programming Error: reached undefined symbol "+a)}if("FunctionDefinition"===N.type){if(b&&void 0!==b.dotLHSIndex)throw n.illegalDotCall(m);if(h.length!==N._argSymbols.length)throw n.wrongArity(m,N._argSymbols.length,h.length);for(var O=i.childScope(w),_=Object.create(L),D=0;D<N._argSymbols.length;D++)i.setSymbol(O,N._argSymbols[D],h[D]),_[N._argSymbols[D]]=S.FRAME_SENTINEL;return C(A(T,_,I,O,E),N._expression)}if(c.CompilerFunctionTable.hasOwnProperty(a))return function(e,t,r,i,a){var m=e.chunk,h=!(!a||void 0===a.dotLHSIndex),b=c.CompilerFunctionTable[t];if(b.fallthroughUnlessDistribution&&(0===i.length||m.getInstruction(i[0]).valueType===s.EmptyList||!s.isTypeOrListOfType(m.getInstruction(i[0]).valueType,s.Distribution)))return k(e,t,r,i,a);var T=b.minArity,L=b.maxArity,S=b.allowDotCall;if(a&&void 0!==a.dotLHSIndex){if(!S)throw n.illegalDotCall(r);R(m,a.dotLHSIndex,"."+r)}var I,w=i.length;if(w<T)throw function(e,t,r,i,a){var s=a.isDotCall;s&&(r-=1,i-=1,t="."+t);var o=c.CompilerFunctionTable[e];o.isSeeded&&(r-=1,i-=1);var u=void 0;s&&o.dotMinArityExampleArgs?u=t+o.dotMinArityExampleArgs:o.minArityExampleArgs&&(u=t+o.minArityExampleArgs);switch(e){case"pdf":return s?n.wrongArity(t,r,i,u):n.pdfWrongArity();case"cdf":return s?n.wrongArity(t,r,i,u):n.cdfRequiresArguments();case"tdist":return n.tdistWrongArity();case"random":return n.randomArity();case"round":case"midpoint":case"normaldist":case"poissondist":case"binomialdist":case"uniformdist":case"mean":case"median":case"stdev":case"var":case"quantile":case"sort":case"shuffle":case"join":case"unique":case"polygon":return n.wrongArity(t,r,i,u);case"histogram":case"dotplot":case"boxplot":case"ttest":case"ittest":case"stats":case"det":case"inv":case"transpose":case"rref":case"trace":throw n.parseError();default:throw new Error("Unexpected compiler function "+e)}}(t,r,T,w,{isDotCall:h});if(w>L)throw function(e,t,r,i,a){var s=a.isDotCall;s&&(r-=1,i-=1,t="."+t);var o=c.CompilerFunctionTable[e];o.isSeeded&&(r-=1,i-=1);var u=void 0;s&&o.dotMaxArityExampleArgs?u=t+o.dotMaxArityExampleArgs:o.maxArityExampleArgs&&(u=t+o.maxArityExampleArgs);switch(e){case"pdf":return s?n.wrongArity(t,r,i,u):n.pdfWrongArity();case"cdf":return s?n.wrongArity(t,r,i,u):n.cdfTooManyArguments();case"tdist":return n.tdistWrongArity();case"random":return n.randomArity();case"round":case"midpoint":case"normaldist":case"poissondist":case"binomialdist":case"uniformdist":case"mean":case"median":case"stdev":case"var":case"quantile":case"sort":case"shuffle":case"join":case"unique":case"polygon":return n.wrongArity(t,r,i,u);case"histogram":case"dotplot":case"boxplot":case"ttest":case"ittest":case"stats":case"det":case"inv":case"transpose":case"rref":case"trace":throw n.parseError();default:throw new Error("Unexpected compiler function "+e)}}(t,r,L,w,{isDotCall:h});if("cdf"===t)I=2===w?[i[0],m.Constant(-1/0),i[1]]:i;else if("random"===t)if(1===w||w<4&&!s.isList(m.getInstruction(i[1]).valueType)&&m.getInstruction(i[1]).valueType!==s.Distribution){var A=m.Distribution("uniformdist",[m.Constant(0),m.Constant(1)]);I=[i[0],A].concat(i.slice(1))}else I=i;else I=M(m,i,b);switch(t){case"round":if(1===I.length)return m.SyntheticNativeFunction("round",I);if(!p.argIsTypeOrListOfType(m,I[0],s.Number)||!p.argIsTypeOrListOfType(m,I[1],s.Number))throw n.functionTypeError(r,p.extractScalarValueTypes(m,I));var E=m.SyntheticNativeFunction("round",[I[1]]),x=m.RawExponent([m.Constant(10),E]);return m.Divide([m.SyntheticNativeFunction("round",[m.Multiply([I[0],x])]),x]);case"midpoint":if(!p.argIsTypeOrListOfType(m,I[0],s.Point)||!p.argIsTypeOrListOfType(m,I[1],s.Point))throw n.functionTypeError(r,p.extractScalarValueTypes(m,I));var C=m.Constant(o.maybeRational(1,2));return m.Multiply([C,m.Add(I)]);case"normaldist":case"tdist":case"poissondist":case"binomialdist":case"uniformdist":for(var N=0,F=I;N<F.length;N++){var O=F[N];if(!p.argIsTypeOrListOfType(m,O,s.Number))throw n.functionTypeError(r,p.extractScalarValueTypes(m,i))}return m.Distribution(t,I);case"pdf":case"cdf":case"mean":case"median":case"stdev":case"var":case"quantile":var _=I[0],D=m.getInstruction(_);if(!s.isTypeOrListOfType(D.valueType,s.Distribution))throw n.functionTypeError(r,p.extractScalarValueTypes(m,i));for(var B=I.slice(1),P=0,V=B;P<V.length;P++){O=V[P];if(!s.isTypeOrListOfType(m.getInstruction(O).valueType,s.Number))throw n.functionTypeError(r,p.extractScalarValueTypes(m,i))}if(s.isList(D.valueType)){for(var U=[],H=1/0,j=0,z=I;j<z.length;j++){O=z[j];var W=g.fuseBroadcast(m,O);U.push(W);var G=m.getInstruction(W);if(s.isList(G.valueType)){if(void 0===(se=l.getConstantListLength(m,W)))throw n.variableLengthDistributionList(f.findDependencySymbols(m,W));H=Math.min(H,se)}}for(var K=[],J=0;J<H;J++){var Q=v.elementAt(m,U[0],J),X=m.getInstruction(Q);if(X.type!==u.Distribution)throw n.parseError();for(var Y=[],Z=0,$=U.slice(1);Z<$.length;Z++){O=$[Z];s.isList(m.getInstruction(O).valueType)?Y.push(v.elementAt(m,O,J)):Y.push(O)}K.push(y.DistributionTable[X.symbol][t](m,Q,Y))}return m.List(K)}if(D.type!==u.Distribution)throw n.parseError();return y.DistributionTable[D.symbol][t](m,_,B);case"random":var ee=I[0],te=(_=I[1],m.getInstruction(I[0]));D=m.getInstruction(_);if(te.valueType!==s.SeedType)throw n.parseError();if(D.valueType===s.ListOfDistribution)throw n.randomFromBroadcastDistribution();var re=void 0;if(s.isList(D.valueType))re=y.randomSampleFromList;else{if(D.valueType!==s.Distribution)throw n.randomArity();if(D.type!==u.Distribution)throw n.parseError();re=y.DistributionTable[D.symbol][t]}if(I.length>2){var ne=I[2];if(m.getInstruction(ne).valueType!==s.Number)throw n.randomArity();if(4===I.length){var ie=m.getInstruction(I[3]);if(ie.valueType!==s.Number)throw n.randomArity();if(!d.isConstant(ie))throw n.variableSeed(f.findDependencySymbols(m,I[3]));ee=m.ExtendSeed("us",[ee,I[3]])}var ae=m.Constant(1),se=m.SyntheticNativeFunction("round",[m.SyntheticNativeFunction("validateSampleCount",[ne])]),oe=m.BeginBroadcast([se]);ee=m.ExtendSeed("lc",[ee,m.Subtract([oe,ae])]);var ue=re(m,_,[ee]),ce=m.EndBroadcast([oe,ue]);return m.BroadcastResult(s.listType(m.getInstruction(ue).valueType),[ce])}return re(m,_,[ee]);case"shuffle":ee=I[0];var le=I[1],de=I[2];if(!s.isList(m.getInstruction(le).valueType)||void 0!==de&&m.getInstruction(de).valueType!==s.Number)throw n.functionTypeError(r,p.extractValueTypes(m,i.slice(1)));if(void 0!==de){if(!d.isConstant(m.getInstruction(de)))throw n.variableSeed(f.findDependencySymbols(m,de));ee=m.ExtendSeed("us",[ee,de])}return m.SyntheticNativeFunction("shuffle",[ee,le]);case"sort":var pe=2===I.length?I[1]:I[0],ye=m.getInstruction(pe);if(!s.isList(m.getInstruction(I[0]).valueType)||ye.valueType!==s.ListOfNumber&&ye.valueType!==s.EmptyList)throw n.functionTypeError(r,p.extractValueTypes(m,i));if(0===l.getConstantListLength(m,pe))return pe;var ge=m.SyntheticNativeFunction("min",[l.listLengthIndex(m,I[0]),l.listLengthIndex(m,pe)]);return pe=m.ListAccess([pe,q(e,m.List([m.Constant(1)]),m.List([ge]),{stepMustBePositive:!0})]),m.SyntheticNativeFunction("elementsAt",[I[0],m.SyntheticNativeFunction("sortPerm",[pe])]);case"join":for(var fe=[],ve=!0,me=0,he=I;me<he.length;me++){O=he[me];var be=m.getInstruction(O);d.isConstantOrConstantBroadcast(be)||(ve=!1);var Te=be.valueType;if(Te!==s.EmptyList)if(s.isList(Te))fe.push({isList:!0,index:O,elementType:s.elementType(Te)});else{if(!s.hasListType(Te))throw n.functionTypeError(r,p.extractValueTypes(m,i));fe.push({isList:!1,index:O,elementType:Te})}}if(0===fe.length)return m.ConstantOfType(s.EmptyList,[]);for(var Le=0,Se=fe;Le<Se.length;Le++){if((Ee=Se[Le]).elementType!==fe[0].elementType)throw n.functionTypeError(r,p.extractValueTypes(m,i))}if(ve){for(var Ie=[],we=0,Ae=fe;we<Ae.length;we++){var Ee=Ae[we],xe=m.getInstruction(g.fuseBroadcast(m,Ee.index));d.assertConstant(xe),Ee.isList?Ie.push.apply(Ie,xe.value):Ie.push(xe.value)}return m.ConstantOfType(s.listType(fe[0].elementType),Ie)}for(var Ce=m.Constant(0),Ne=m.Constant(1),Fe={},Oe=0,_e=fe;Oe<_e.length;Oe++){(Ee=_e[Oe]).isList&&void 0===Fe[Ee.index]&&(Fe[Ee.index]=l.listLengthIndex(m,Ee.index))}for(var De=m.SyntheticNativeFunction("total",fe.map(function(e){return e.isList?Fe[e.index]:Ne})),Be=(oe=m.BeginBroadcast([De]),Ce),Pe=[],Re=[],ke=0,Me=fe;ke<Me.length;ke++){var Ve=(Ee=Me[ke]).isList?m.ListAccess([Ee.index,m.Subtract([oe,Be])]):Ee.index;if(Re.push(Ve),Ee!==fe[fe.length-1]){se=Ee.isList?Fe[Ee.index]:Ne;Be=m.Add([Be,se]),Pe.push(m.LessEqual([oe,Be]))}}var Ue=Re[Re.length-1];for(J=Re.length-2;J>=0;J--)Ue=m.Piecewise([Pe[J],Re[J],Ue]);ce=m.EndBroadcast([oe,Ue]);return m.BroadcastResult(s.listType(fe[0].elementType),[ce]);case"unique":var qe=I[0],He=m.getInstruction(qe);if(!s.isList(He.valueType)||He.valueType===s.ListOfDistribution)throw n.functionTypeError("unique",[s.prettyPrint(He.valueType)]);return m.SyntheticNativeFunction("elementsAt",[qe,m.SyntheticNativeFunction("uniquePerm",[qe])]);case"polygon":var je=I.map(function(e){return m.getInstruction(e)});if(0===je.length){var ze=m.ConstantOfType(s.ListOfPoint,[]);return m.SyntheticNativeFunction("polygon",[ze])}if(2===je.length&&s.isTypeOrListOfType(je[0].valueType,s.Number)&&s.isTypeOrListOfType(je[1].valueType,s.Number)){if(je[0].valueType===s.Number&&je[1].valueType===s.Number)throw n.polygonTwoNumbersError();ze=m.OrderedPair(I);return m.SyntheticNativeFunction("polygon",[ze])}return m.SyntheticNativeFunction("polygon",I);case"histogram":case"dotplot":case"boxplot":case"ttest":case"ittest":case"stats":case"det":case"inv":case"transpose":case"rref":case"trace":throw n.unexpectedSymbol(r);default:throw new Error("Programming Error: unexpected compiler function "+t)}}(e,a,m,h,b);if(c.BuiltInTable.hasOwnProperty(a))return k(e,a,m,h,b);throw n.functionUnsupported(m)}function R(e,t,r){var i=e.getInstruction(t).valueType;if(!s.isList(i)&&i!==s.Distribution)throw n.dotLHSTypeError(r,s.prettyPrint(i))}function k(e,r,i,a,s){var o=e.chunk,u=c.BuiltInTable[r],l=!(!s||void 0===s.dotLHSIndex),d=a.length,p=u.minArity,y=u.maxArity,g=u.allowDotCall;if(s&&void 0!==s.dotLHSIndex){if(!g)throw n.illegalDotCall(i);R(o,s.dotLHSIndex,"."+i)}if("logbase"===r&&2!==d)throw n.wrongArity(i,1,d-1);if(d>y)throw l&&(p-=1,y-=1,d-=1,i="."+i),"doubleReducer"===u.tag?n.wrongDoubleReducerArity(i):"parameterizedReducer"===u.tag?n.wrongParameterizedReducerArity(i):"color"===u.tag?n.colorArity(i):n.wrongArity(i,y,d);if(d<p)throw l&&(p-=1,y-=1,d-=1,i="."+i),"reducer"===u.tag&&0===d?n.zeroArgReducer(i):"doubleReducer"===u.tag?n.wrongDoubleReducerArity(i):"parameterizedReducer"===u.tag?n.wrongParameterizedReducerArity(i):"color"===u.tag?n.colorArity(i):n.wrongArity(i,p,d);var f=M(o,a,u),v={errorSymbol:i,providedArity:d,isDotCall:l};switch(u.tag){case"default":case"reducer":case"doubleReducer":case"parameterizedReducer":case"color":case"never-broadcast":return o.NativeFunction(r,v,f);case"trig":var m=C(e,t.Identifier("trigAngleMultiplier")),h=o.Multiply([f[0],m]);return o.NativeFunction(r,v,[h]);case"inverseTrig":m=C(e,t.Identifier("trigAngleMultiplier"));var b=o.NativeFunction(r,v,f);return o.Divide([b,m]);default:var T=u.tag;throw new Error("Programming Error: unexpected tag "+T)}}function M(e,t,r){var n=r.minArity,i=r.defaultArguments;if(!i)return t;if(!(t.length-n<i.length))return t;for(var a=t.slice();a.length-n<i.length;)a.push(e.copyInstruction(i[a.length-n]));return a}function V(e,t){for(var r=e.chunk,i=[],a=[],s=0,o=t;s<o.length;s++){var c=o[s],l=r.getInstruction(c);switch(l.type){case u.Action:Array.prototype.push.apply(i,l.symbols),Array.prototype.push.apply(a,l.args);break;case u.Constant:var d=l.value.updateRules;for(var p in d)i.push(p),a.push(r.ConstantOfType(d[p].valueType,d[p].value));break;default:var y=f.findDependencySymbols(r,c);throw y.length>0?n.actionMergeFreeVariable(y):n.parseError()}}return r.Action(i,a)}function U(e,t){var r=e.frame[t];return e.policy.assignmentForbidden(t)?n.updateRuleIllegalLHS(t):r===S.FRAME_SENTINEL?n.updateRuleLocalLHS(t):r&&"FunctionDefinition"===r.type?n.updateRuleFunctionLHS(t):n.updateRuleUndefinedLHS(t).allowExport()}function q(e,t,r,i){var a,o=i.stepMustBePositive,u=e.chunk,c=u.getInstruction(t),d=u.getInstruction(r),p=l.assertConstantListLength(u,t,"Programming error: expected range start list to have constant length."),y=l.assertConstantListLength(u,r,"Programming error: expected range start list to have constant length.");if(c.valueType!==s.ListOfNumber||d.valueType!==s.ListOfNumber)throw n.nonArithmeticRange();var g=u.Constant(1),f=u.Constant(0),v=u.ListAccess([t,g]),m=u.ListAccess([t,u.Constant(2)]),h=u.ListAccess([r,u.Constant(y)]),b=u.Subtract([h,v]),T=p>1?u.Subtract([m,v]):u.Piecewise([u.GreaterEqual([b,f]),g,u.Constant(-1)]),L=u.Add([g,u.SyntheticNativeFunction("round",[u.Divide([b,T])])]),S=u.SyntheticNativeFunction("validateRangeLength",[t,r,T,L]);o&&(S=u.Piecewise([u.GreaterEqual([T,f]),S,f]));var I=u.BeginBroadcast([S]),w=u.Add([v,u.Multiply([T,u.Subtract([I,g])])]),A=u.EndBroadcast([I,w]);return u.addComments(((a={})[v]="start",a[m]="second",a[h]="last",a[L]="proposedLength",a[T]="step",a[w]="body",a)),u.BroadcastResult(s.listType(u.getInstruction(w).valueType),[A])}Object.defineProperty(e,"__esModule",{value:!0}),e.isCacheValid=e.maybeCacheIR=e.hasSameUserDependenciesAsParent=e.maybeDropIntermediates=e.addToIR=e.checkForUndefinedUpdateSymbols=e.buildIR=e.buildIRContext=e.Ctx=void 0,e.Ctx=A,e.buildIRContext=E,e.buildIR=function(e,t){var r=e.policy,n=e.frame,i=e.argNames,a=e.argTypes,o=S.analyzeDependencies(n,t),u=o.freeDependencies,c=o.updateSymbols;if(i||(i=u),!a){a=[];for(var l=0;l<i.length;l++)a.push(s.Number)}var d=E({policy:r,frame:n,argNames:i,argTypes:a});return C(d,t),e.wrapInList&&!s.isList(d.chunk.getReturnType())&&d.chunk.List([d.chunk.returnIndex]),d.chunk.close(),x(d,t,c),d.chunk},e.checkForUndefinedUpdateSymbols=x,e.addToIR=C,e.maybeDropIntermediates=N,e.hasSameUserDependenciesAsParent=F,e.maybeCacheIR=O,e.isCacheValid=_});\ndefine(\'core/math/features/buildIRExpression\',[\'require\',\'core/math/ir/build-ir\',\'core/math/parsenode/base\',\'core/math/parsenode/irexpression\',\'core/math/errormsg\',\'core/math/parsenode/error\'],function(require){"use strict";var r=require("core/math/ir/build-ir").buildIR,e=require("core/math/parsenode/base"),t=require("core/math/parsenode/irexpression"),o=require("core/math/errormsg"),i=require("core/math/parsenode/error");e.prototype.buildIRExpression=function(i,n,s){try{var a=r({policy:i,frame:n,wrapInList:s&&s.wrapInList},this);return new t(a)}catch(r){return r instanceof e?r:o.parseError()}},i.prototype.buildIRExpression=function(){return this}});\ndefine(\'core/math/features/typeCheck\',[\'require\',\'parsenodes\',\'core/math/types\',\'core/math/errormsg\'],function(require){"use strict";var t=require("parsenodes"),e=require("core/math/types"),i=require("core/math/errormsg"),o=e.isOneOf;function s(t){for(var i=[],o=0;o<t.length;o++)i.push(e.prettyPrint(t[o].valueType));return i}function r(t,s){var r=s.length,h=s[0];if(r<2)throw i.methodRequiresList(this._symbol);if(!o(h.valueType,[e.ListOfNumber,e.EmptyList]))throw i.methodRequiresList(this._symbol);if(r>2)throw i.tooManyArguments(this._symbol,2)}var h={Object3D:function(t,e){if(e.length<3)throw i.wrongArity(this._symbol,3,e.length)},Histogram:r,DotPlot:r,BoxPlot:function(t,s){var r=s.length,h=s[0];if(0===r)throw i.methodRequiresList(this._symbol);if(!o(h.valueType,[e.ListOfNumber,e.EmptyList]))throw i.methodRequiresList(this._symbol);if(r>1)throw i.methodRequiresList(this._symbol)},TTest:function(t,o){var r=this._symbol;if(0===o.length)throw i.methodRequiresList(r);if(o[0].valueType===e.EmptyList)throw i.ttestListTooShort(r);if(o[0].valueType!==e.ListOfNumber)throw i.methodRequiresList(r);if(o.length>2)throw i.tooManyArguments(r,2);if(o[0].length<2)throw i.ttestListTooShort(r);if(o[1]&&o[1].valueType!==e.Number)throw i.functionTypeError(r,s(o))},IndependentTTest:function(t,o){var r=this._symbol;if(2!==o.length)throw i.wrongDoubleReducerArity(r);if(!e.isList(o[0].valueType)||!e.isList(o[1].valueType))throw i.nonListDoubleReducer(r);if(o[0].valueType===e.EmptyList||o[1].valueType===e.EmptyList)throw i.ttestListTooShort("ittest");if(o[0].valueType!==e.ListOfNumber||o[1].valueType!==e.ListOfNumber)throw i.functionTypeError(r,s(o));if(o[0].length<2||o[1].length<2)throw i.ttestListTooShort("ittest")},Stats:function(t,o){var r=o.length,h=o[0];if(0===r)throw i.methodRequiresList(this._symbol);if(h.valueType===e.EmptyList)throw i.functionTypeError(this._symbol,s(o));if(h.valueType!==e.ListOfNumber)throw i.methodRequiresList(this._symbol);if(r>1)throw i.methodRequiresList(this._symbol)}};for(var n in h)t[n].prototype.typeCheck=h[n]});\ndefine(\'core/math/features/repr\',[\'require\',\'parsenodes\'],function(require){"use strict";var r=require("parsenodes"),t=function(r,t,e){e=e||0;var i=Array(e+1).join("  "),n=i+"  ";return"[\\n"+n+r.map(function(r){return r.repr(t,e+1)}).join(",\\n"+n)+"\\n"+i+"]"},e=function(r,t){return""+(t=t||"")+r};r.Expression.prototype.repr=function(r,i){return e(this.type,r)+"("+t(this.args,r,i)+")"},r.IRExpression.prototype.repr=function(r,t){t=t||0;var i=Array(t+1).join("  "),n=i+"  ",s=this._chunk.print().split("\\n");return s.pop(),e(this.type,r)+"(`\\n"+n+s.join("\\n"+n)+"\\n"+i+"`)"},r.DoubleInequality.prototype.repr=function(r,t){t=t||0;var i=Array(t+1).join("  "),n=i+"  ";return e(this.type,r)+"([\\n"+n+this.args[0].repr(r,t+1)+",\\n"+n+"\'"+this.args[1]+"\',\\n"+n+this.args[2].repr(r,t+1)+",\\n"+n+"\'"+this.args[3]+"\',\\n"+n+this.args[4].repr(r,t+1)+"\\n"+i+"])"},r.Identifier.prototype.repr=function(r){return e(this.type,r)+"(\'"+this._symbol+"\')"},r.Constant.prototype.repr=function(r){return e(this.type,r)+"("+this.asValue()+")"},r.ExtendSeed.prototype.repr=function(r,i){return e(this.type,r)+"(\'"+this.tag+"\', "+t(this.args,r,i)+")"},r.Seed.prototype.repr=function(r){return e(this.type,r)+"("+this.asValue()+")"},r.FunctionCall.prototype.repr=function(r,i){return e(this.type,r)+"(\'"+this._symbol+"\', "+t(this.args,r,i)+")"},r.Assignment.prototype.repr=function(t,i){return e(this.type,t)+"("+r.Identifier(this._symbol).repr(t,i)+", "+this._expression.repr(t,i)+")"},r.Regression.prototype.repr=r.Equation.prototype.repr=function(r,t){return e(this.type,r)+"("+this._lhs.repr(r,t)+", "+this._rhs.repr(r,t)+")"},r.FunctionDefinition.prototype.repr=function(i,n){return e(this.type,i)+"("+r.Identifier(this._symbol).repr(i,n)+", "+t(this._argSymbols.map(function(t){return r.Identifier(t)}),i,n)+", "+this._expression.repr(i,n)+")"},r.Error.prototype.repr=function(r,t){return e(this.type,r)+"(\'"+this._msg+"\')"},r.Derivative.prototype.repr=function(r,i){return e(this.type,r)+"(\'"+this._symbol+"\', "+t(this.args,r,i)+")"},r.SolvedEquation.prototype.repr=function(r,t){return e(this.type,r)+"(\'"+this._symbol+"\', "+this._expression.repr(r,t)+")"},r.OptimizedRegression.prototype.repr=function(r,t){return e(this.type,r)+"("+JSON.stringify(this.parameters)+", "+JSON.stringify(this.residuals)+", "+JSON.stringify(this.statistics)+", "+this.model.repr(r,t+1)+", "+JSON.stringify({isModelValid:this.isModelValid,residualVariable:this.residualVariable,residualSuggestionId:this.residualSuggestionId,shouldSuggestLogMode:this.shouldSuggestLogMode,isLinear:this.isLinear,parameterWarning:this.parameterWarning})+")"},r.Table.prototype.repr=function(r,i){return e(this.type,r)+"("+t(this.columns,r,i)+")"},r.TableColumn.prototype.repr=function(r,i){return e(this.type,r)+"("+this.header.repr(r,i)+", "+this.length+", "+t(this.values,r,i)+")"},r.Image.prototype.repr=function(r,t){var i=Array(t+1).join("  "),n=i+"  ";return e(this.type,r)+"({\\n"+n+"center: "+this.center.repr(r,t+1)+",\\n"+n+"radianAngle: "+this.radianAngle.repr(r,t+1)+",\\n"+n+"width: "+this.width.repr(r,t+1)+",\\n"+n+"height: "+this.height.repr(r,t+1)+"},\\n"+n+"opacity: "+this.opacity.repr(r,t+1)+",\\n"+n+JSON.stringify(this.moveStrategy)+"\\n"+i+"})"},r.Ticker.prototype.repr=function(r,t){var i=Array(t+1).join("  "),n=i+"  ";return e(this.type,r)+"({\\n"+n+"handler: "+this.handler.repr(r,t+1)+",\\n"+n+"minStep: "+this.minStep.repr(r,t+1)+"\\n"+i+"})"},r.Slider.prototype.repr=function(r,t){var i=Array(t+1).join("  "),n=i+"  ";return e(this.type,r)+"({\\n"+n+"sliderAssignment: "+this.sliderAssignment.repr(r,t+1)+",\\n"+n+"sliderMin: "+(this.sliderMin&&this.sliderMin.repr(r,t+1))+",\\n"+n+"sliderMax: "+(this.sliderMax&&this.sliderMax.repr(r,t+1))+",\\n"+n+"sliderStep: "+(this.sliderStep&&this.sliderStep.repr(r,t+1))+"},\\n"+i+")"}});\ndefine(\'core/math/features/substitute\',[\'require\',\'parsenodes\'],function(require){"use strict";var t=require("parsenodes"),i=function(t,i){return t.map(function(t){return t.substitute(i)})},r={Identifier:function(t){return t[this._symbol]?t[this._symbol]:this},FunctionCall:function(r){var n=r[this._symbol];if(n){if("Identifier"===n.type)return t.FunctionCall(n,i(this.args,r));if("Constant"===n.type)return t.Multiply([n,1===this.args.length?this.args[0].substitute(r):t.Constant(NaN)])}return t.Expression.prototype.substitute.call(this,r)},Constant:function(t){return this},Expression:function(t){return this.copyWithArgs(i(this.args,t))},Derivative:function(r){var n=r[this._symbol];if(n){if("Identifier"===n.type)return t.Derivative(n,i(this.args,r));throw new Error("Cannot substitute for a derivative variable with a non-Identifier")}return t.Derivative(this._symbol,i(this.args,r))}};for(var n in r)t[n].prototype.substitute=r[n]});\ndefine(\'core/math/features/simpleFunctionExpression\',[\'require\',\'parsenodes\'],function(require){"use strict";var n=require("parsenodes");n.Expression.prototype.simpleFunctionExpression=function(){return this},n.Assignment.prototype.simpleFunctionExpression=function(){return this._expression},n.FunctionDefinition.prototype.simpleFunctionExpression=function(){return this._expression},n.Equation.prototype.simpleFunctionExpression=function(){return this.asComparator().simpleFunctionExpression()}});\ndefine(\'core/math/distribution-spec\',["require","exports","core/math/baseparser","tslib"],function(require,t,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionSpecFromTree=t.parseToplevelFunction=t.DistributionParameterDefaultsMap=void 0,t.DistributionParameterDefaultsMap={normaldist:{type:"distribution",symbol:"normaldist",params:["mean","stdev"],defaults:["0","1"],discrete:!1},tdist:{type:"distribution",symbol:"tdist",params:["dof"],defaults:[void 0],discrete:!1},binomialdist:{type:"distribution",symbol:"binomialdist",params:["trials","probsuccess"],defaults:[void 0,"0.5"],discrete:!0},poissondist:{type:"distribution",symbol:"poissondist",params:["mean"],defaults:[void 0],discrete:!0},uniformdist:{type:"distribution",symbol:"uniformdist",params:["min","max"],defaults:["0","1"],discrete:!1}};var e={Histogram:{type:"visualization",symbol:"histogram",params:["data","binwidth"],defaults:[void 0,"1"]},DotPlot:{type:"visualization",symbol:"dotplot",params:["data","binwidth"],defaults:[void 0,"1"]},BoxPlot:{type:"visualization",symbol:"boxplot",params:["data"],defaults:[void 0]}};function a(i){var a=i,o=e[a.type];if(!o)switch("Assignment"===a.type&&(a=a._expression),a.type){case"FunctionCall":o=t.DistributionParameterDefaultsMap[a._symbol];break;default:return}if(o){for(var r={},n=o.params,d=a.args,l=0;l<n.length;l++){var u=d[l];r[n[l]]=u&&u.getInputString()||""}return s.__assign(s.__assign({},o),{span:a.getInputSpan(),values:r})}}t.parseToplevelFunction=function(t){return a(i.parse(t,{trailingComma:!0}))},t.getFunctionSpecFromTree=a});\ndefine(\'core/lib/number-to-latex\',["require","exports"],function(require,e){"use strict";function r(e){var r=e+"";if(/\\d+\\.?\\d*e[\\+\\-]*\\d+/i.test(r)){var t=String(r).toLowerCase().split("e"),n=parseFloat(t[0]),i=parseInt(t[1],10),a=Math.abs(i),o=Math.abs(n).toString().split(".");if(i<0)r="0."+new Array(a).join("0")+o.join("");else{var f=o[1];f&&(a-=f.length),r=o.join("")+new Array(a+1).join("0")}n<0&&(r="-"+r)}return r}Object.defineProperty(e,"__esModule",{value:!0}),e.numberToStatsConfidenceLatex=e.numberToDecimalString=void 0,e.default=function(e){if("string"==typeof e)return e;if(void 0===e)return"";if(isNaN(e))return"\\\\frac{0}{0}";if(e===1/0)return"\\\\infty";if(e===-1/0)return"-\\\\infty";var r=e+"";return r=(r=r.replace(/^1e\\+?([-\\d]+)/,"10^{$1}")).replace(/([-\\d\\.]+)e\\+?([-\\d]+)/,"$1\\\\cdot 10^{$2}")},e.numberToDecimalString=r,e.numberToStatsConfidenceLatex=function(e,t){void 0===t&&(t=2);var n,i=r(e),a=i.indexOf(".");if(-1===a)return i;for(var o=a+1;o<i.length;o++)if(n){if(i[o]!==n)break}else{if("0"!==i[o]&&"9"!==i[o])break;n=i[o]}return i.substr(0,Math.max(a+5,o+t))}});\ndefine(\'core/math/ir/features/value-to-latex\',["require","exports","core/math/types","../../../lib/number-to-latex"],function(require,e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.valueToLatex=void 0,e.valueToLatex=function e(a,i){if(t.isList(a)){for(var u=[],n=0;n<i.length;n++)u.push(e(t.elementType(a),i[n]));return"\\\\left["+u.join(",")+"\\\\right]"}switch(a){case t.Number:return r.default(i);case t.Point:var o=i,l=o[0],f=o[1];return"\\\\left("+r.default(l)+","+r.default(f)+"\\\\right)";default:throw new Error("Cannot serialize a value of type "+t.prettyPrint(a)+".")}}});\ndefine(\'core/math/ir/features/action-to-latex\',["require","exports","../../../lib/label","./value-to-latex"],function(require,e,t,a){"use strict";function o(e,o){var i=e.updateRules[o],r=i.valueType,u=i.value;return t.identifierToLatex(o)+"="+a.valueToLatex(r,u)}Object.defineProperty(e,"__esModule",{value:!0}),e.actionLatexForSymbol=e.actionToLatex=void 0,e.actionToLatex=function(e){var t={};for(var a in e.updateRules)t[a]=o(e,a);return t},e.actionLatexForSymbol=o});\ndefine(\'core/math/evaluationstate\',["require","exports","core/vendor/d3-color","parsenodes","tslib","core/math/errormsg","core/types/graphmode","core/lib/label","core/math/distribution-spec","./types","./ir/features/action-to-latex"],function(require,e,r,i,a,t,n,s,o,l,u){"use strict";function d(e){return e.isError?e.getError():void 0===e.asValue()?"":+e.asValue()}function c(){return{operator:"=",variables:[]}}function p(e,r,i){var a=e.variables;if(a&&a.length){for(var t={},n=0,s=a;n<s.length;n++){t[o=s[n]]=!0}for(var o in i)t[o]=!0;i=t}e.variables=r.sliderVariables(Object.keys(i))}function g(e,r){if(r.blocksExport)return!1;var i=r.getDependencies();if(0===i.length)return!1;for(var a=0,t=i;a<t.length;a++){var n=t[a];if(!e.validActionVariable(n))return!1}return!0}Object.defineProperty(e,"__esModule",{value:!0}),e.isErrorExportableActionDefinition=e.addSliderPrompts=e.EvaluationState=e.defaultEvaluationState=void 0,e.defaultEvaluationState=c,e.EvaluationState=function(e,c,v){if(c.isTable)return function(e,r,i){for(var a=[],t=0;t<r.columns.length;t++){var n=i.columns[t],s=n.isError?[]:n.values.map(d),o={dependent:!n.isIndependent,discrete:!!n.isIndependent,values:s};n.isError&&(o.error=n.getError()),a.push(o)}return{column_data:a}}(0,c,v);if(c.isImage)return function(e,r,a){var t={variables:[],errorMap:{},dimensions:{}};if(a.center.isError&&(t.errorMap.center=!0),a.radianAngle.isError&&(t.errorMap.angle=!0),a.width.isError&&(t.errorMap.width=!0),a.height.isError&&(t.errorMap.height=!0),a.opacity.isError&&(t.errorMap.opacity=!0),a.center.isError||a.radianAngle.isError||a.width.isError||a.height.isError||a.opacity.isError)return t.variables=r.getSliderVariables(e,a),t;t.dimensions.x=[],t.dimensions.y=[],t.dimensions.radianAngle=[],t.dimensions.width=[],t.dimensions.height=[],t.dimensions.opacity=[];var s=[a.center,a.radianAngle,a.width,a.height,a.opacity];return s.some(function(e){return e&&e.valueType&&l.isList(e.valueType)})&&(t.is_concrete_list=!0),i.List.eachArgs(s,function(e){var r=e[0].asValue(),i=+e[1].asValue(),a=Math.atan2(Math.sin(i),Math.cos(i));t.dimensions.x.push(+r[0]),t.dimensions.y.push(+r[1]),t.dimensions.radianAngle.push(a),t.dimensions.width.push(+e[2].asValue()),t.dimensions.height.push(+e[3].asValue()),t.dimensions.opacity.push(Math.max(0,Math.min(1,+e[4].asValue())))}),(e.graphingEnabled()?r.getGraphMode(e,a):n.NONE)!==n.NONE&&(t.is_graphable=!0),a.moveStrategy&&(t.move_strategy=a.moveStrategy),r.center&&("Identifier"===r.center.type?(t.center_reference_id=r.center.referencedStatementId,t.center_reference_symbol=r.center._symbol):"ParenSeq"===r.center.type&&a.center.valueType===l.Point&&(t.center_is_point_literal=!0)),t}(e,c,v);if(c instanceof i.Ticker)return function(e,r,i){for(var n,s=i.handler,o=i.minStep,l={},u={},d=0,c=s.getDependencies();d<c.length;d++){var v=c[d];e.validActionVariable(v)||(l[v]=!0)}for(var f=0,m=o.getDependencies();f<m.length;f++)u[v=m[f]]=!0;if(o.isError)n={status:"error",error:o.getError()};else{var h=o.asValue();n="number"==typeof h&&!isNaN(h)&&h>=0?{status:"valid",value:h}:{status:"error",error:t.tickerMinStepNonNegativeNumber().getError()}}var b=Object.keys(l);b.length>0&&(s=t.tooManyVariables(b).setDependencies(s.getDependencies()));var _={handler:s.isError&&!g(e,s)?{status:"error",error:s.getError()}:s.isEmptyAction?{status:"empty"}:{status:"maybe-valid"},minStep:n,variables:[]};return p(_,e,a.__assign(a.__assign({},l),u)),_}(e,0,v);var f={operator:"=",variables:[]};if(v.isError&&(!(c instanceof i.FunctionDefinition)||v.blocksExport))return f.error=v.getError(),f.variables=c.getSliderVariables(e,v),f.is_single_identifier=c instanceof i.Identifier,v.actionValue&&(f.action_value=u.actionToLatex(v.actionValue)),f;if(v.valueType===l.RGBColor&&0===v.getDependencies().length){var m=v.asValue();f.rgb_value=r.rgb(m[0],m[1],m[2]).formatHex()}v.valueType===l.Action&&0===v.getDependencies().length&&(f.action_value=u.actionToLatex(v.asValue())),v.moveStrategy&&(f.move_strategy=v.moveStrategy,f.default_drag_mode=v.defaultDragMode),c.isInequality()&&(f.is_inequality=!0),f.operator=c.getOperator(),v instanceof i.SolvedEquation?!0!==v._expression.asValue()&&!1!==v._expression.asValue()&&(f.assignment=v._symbol):c instanceof i.Assignment&&(f.assignment=c._symbol);var h=e.graphingEnabled()?c.getGraphMode(e,v):n.NONE;if(h!==n.NONE){f.is_graphable=!0,f.expression_type=c.getExpressionType(h,v.valueType),v.isShadeBetween()&&(f.is_shade_between=!0);var b=c.tableInfo(e,v);b&&(f.is_tableable=!0,f.table_info=b)}if(void 0!==v.valueType&&l.isList(v.valueType)&&(f.is_concrete_list=!0,v.valueType===l.ListOfColor&&0===v.getDependencies().length)){var _=v.asValue();_&&(f.rgb_value=_.map(function(e){return r.rgb(e[0],e[1],e[2]).formatHex()}))}f.variables=f.is_graphable?[]:c.getSliderVariables(e,v),f.is_single_identifier=c instanceof i.Identifier,v.isConstant&&(f.constant_value=v.asValue());var y=v.getEvaluationInfo();if(!y||"="!==f.operator||c.isConstant||c.isFunction||v.valueType===l.Bool||v.valueType===l.ListOfBool||c instanceof i.Equation||c instanceof i.And||(f.is_evaluable=!0,f.zero_values=y),v instanceof i.OptimizedRegression){var E=v,V={};for(var S in E.parameters)E.parameters.hasOwnProperty(S)&&(V[s.identifierToLatex(S)]=+E.parameters[S].asValue());f.is_regression=!0,f.regression={parameters:V,residualVariable:s.identifierToLatex(E.residualVariable),residualSuggestionId:E.residualSuggestionId,shouldSuggestLogMode:E.shouldSuggestLogMode,isLinear:E.isLinear,statistics:E.statistics,parameterWarning:E.parameterWarning}}var x=o.getFunctionSpecFromTree(c);return x&&x.discrete&&(f.is_discrete_distribution=!0),f},e.addSliderPrompts=p,e.isErrorExportableActionDefinition=g});\ndefine(\'core/math/statementanalysis\',[\'require\',\'core/math/evaluationstate\',\'pjs\',\'core/types/graphmode\',\'core/math/workerconfig\'],function(require){"use strict";var e=require("core/math/evaluationstate").EvaluationState,t=require("pjs"),r=require("core/types/graphmode"),i=require("core/math/workerconfig");return t(function(t){t.init=function(t,r,i){this.policy=t,this.rawTree=r,this.concreteTree=i,this.evaluationState=e(t,r,i)},t.exportTo=function(e,t){this.rawTree.exportTo(e,this.concreteTree,t)},t.graph=function(e){return this.rawTree.tryGraph(this.policy,this.concreteTree,e)},t.getGraphMode=function(){return this.rawTree.getGraphMode(this.policy,this.concreteTree)},t.getGraphInfo=function(){return this.rawTree.getGraphInfo(this.policy,this.concreteTree)},t.shouldIntersect=function(){if(!this.evaluationState.is_graphable)return!1;if(!this.rawTree.userData.shouldGraph)return!1;if(!i.pointsOfInterest)return!1;var e=this.getGraphMode();return e===r.X||e===r.Y}})});\ndefine(\'core/math/expression-types\',["require","exports"],function(require,i){"use strict";var s;Object.defineProperty(i,"__esModule",{value:!0}),i.isClickableExpressionType=i.getReconciledExpressionProps=i.EXPRESSION_PROP_DEFAULTS=i.ExpressionType=void 0,function(i){i.X_OR_Y="X_OR_Y",i.SINGLE_POINT="SINGLE_POINT",i.POINT_LIST="POINT_LIST",i.PARAMETRIC="PARAMETRIC",i.POLAR="POLAR",i.IMPLICIT="IMPLICIT",i.POLYGON="POLYGON",i.HISTOGRAM="HISTOGRAM",i.DOTPLOT="DOTPLOT",i.BOXPLOT="BOXPLOT",i.TTEST="TTEST",i.STATS="STATS",i.CUBE="CUBE",i.SPHERE="SPHERE"}(s=i.ExpressionType||(i.ExpressionType={})),i.EXPRESSION_PROP_DEFAULTS={X_OR_Y:{points:!1,lines:!0,fill:!1},SINGLE_POINT:{points:!0,lines:!1,fill:!1},POINT_LIST:{points:!0,lines:!1,fill:!1},PARAMETRIC:{points:!1,lines:!0,fill:!1},POLAR:{points:!1,lines:!0,fill:!1},IMPLICIT:{points:!1,lines:!0,fill:!1},POLYGON:{points:!1,lines:!0,fill:!0},HISTOGRAM:{points:!1,lines:!0,fill:!0},DOTPLOT:{points:!0,lines:!1,fill:!1},BOXPLOT:{points:!1,lines:!0,fill:!1},TTEST:{points:!1,lines:!1,fill:!1},STATS:{points:!1,lines:!1,fill:!1},CUBE:{points:!1,lines:!1,fill:!0},SPHERE:{points:!1,lines:!1,fill:!0}},i.getReconciledExpressionProps=function(e,T){if(void 0===e)return{points:!1,lines:!1,fill:!1};var l=i.EXPRESSION_PROP_DEFAULTS[e];switch(e){case s.SINGLE_POINT:return{points:!0,lines:!1,fill:!1};case s.POINT_LIST:case s.DOTPLOT:return{points:void 0===T.points?l.points:T.points,lines:void 0===T.lines?l.lines:T.lines,fill:!1};case s.PARAMETRIC:case s.POLYGON:case s.X_OR_Y:case s.POLAR:case s.IMPLICIT:case s.HISTOGRAM:case s.BOXPLOT:case s.TTEST:case s.STATS:case s.CUBE:case s.SPHERE:return{points:!1,lines:void 0===T.lines?l.lines:T.lines,fill:void 0===T.fill?l.fill:T.fill};default:return e}},i.isClickableExpressionType=function(i){if(void 0===i)return!1;switch(i){case s.SINGLE_POINT:case s.POINT_LIST:case s.PARAMETRIC:case s.POLYGON:case s.X_OR_Y:case s.POLAR:case s.IMPLICIT:return!0;case s.HISTOGRAM:case s.BOXPLOT:case s.DOTPLOT:case s.TTEST:case s.STATS:case s.CUBE:case s.SPHERE:return!1;default:return i}}});\ndefine(\'core/math/ir/features/reapply-restrictions\',["require","exports","../instructions","../opcodes","./get-dependency-mask"],function(require,e,r,n,t){"use strict";function s(e,r){for(var n=[],t=0,s=r;t<s.length;t++){var i=s[t];n.push(e[i])}return n}Object.defineProperty(e,"__esModule",{value:!0}),e.reapplyRestrictions=void 0,e.reapplyRestrictions=function(e,i){for(var p=[],o=e.returnIndex,u=t.getDependencyMask(e,i.mappedArgIndex),c=function(e,t,s){for(var i=[],p=0;p<s;p++)i.push(!1);i[s]=t[s];for(p=s;p>=0;p--)if(i[p]&&t[p]){var o=e.getInstruction(p);if(o.type===n.Piecewise)i[o.args[1]]=!0;else if(!r.isLeafInstruction(o))for(var u=0,c=o.args;u<c.length;u++){i[c[u]]=!0}}return i}(e,u,i.mappedReturnIndex),a=o,f=e.NanOfType(e.getReturnType()),d=0;d<i.mappedReturnIndex;d++){var g=e.getInstruction(d);if(d!==i.mappedArgIndex)if(u[d]||e.isInClosedBlock(d))if(r.isLeafInstruction(g))p.push(e.copyInstruction(g));else{var l=s(p,g.args);p.push(e.copyInstructionWithArgs(g,l)),g.type===n.Piecewise&&c[d]&&(a=e.Piecewise([l[0],a,f]))}else p.push(d);else p.push(o)}return a}});\ndefine(\'core/math/ir/features/solve\',["require","exports","parsenodes","core/math/workerconfig","core/math/parsenode/irexpression","core/math/errormsg","../build-ir","../dependencies","core/math/comparators","../opcodes","./fuse-broadcast","./reapply-restrictions","core/math/types","core/math/maybe-rational"],function(require,e,i,r,t,a,n,s,c,l,o,u,d,v){"use strict";function f(e,i){return i?function(e){var i=e.chunk,r=e.coefficients,t=r[0],a=r[1],n=r[2],s=i.Constant(v.maybeRational(0,1));void 0===n&&(n=s);void 0===a&&(a=s);void 0===t&&(t=s);var c=i.Constant(v.maybeRational(2,1)),l=i.Constant(NaN),o=i.Constant(v.maybeRational(1e305,1)),u=i.Negative([o]),d=i.Multiply([c,n]),f=i.Negative([a]),p=i.Subtract([i.Multiply([a,a]),i.Multiply([c,i.Multiply([d,t])])]),g=i.SyntheticNativeFunction("sqrt",[p]),m=i.Divide([i.Add([f,g]),d]),y=i.Divide([i.Subtract([f,g]),d]),b=i.Negative([i.Divide([t,a])]),h=i.Equal([n,s]),w=i.Greater([n,s]),P=i.Equal([a,s]),I=i.Greater([a,s]),N=i.Less([a,s]),O=i.Greater([t,s]),q=i.Less([p,s]);return[i.Piecewise([h,i.Piecewise([N,b,l]),i.Piecewise([w,y,l])]),i.Piecewise([h,i.Piecewise([P,i.Piecewise([O,u,l]),l]),i.Piecewise([w,i.Piecewise([q,u,l]),m])]),i.Piecewise([h,i.Piecewise([P,i.Piecewise([O,o,l]),l]),i.Piecewise([w,i.Piecewise([q,o,l]),y])]),i.Piecewise([h,i.Piecewise([I,b,l]),i.Piecewise([w,m,l])])]}(e):function(e){var i=e.chunk,r=e.coefficients,t=r[0],a=r[1],n=r[2],s=i.Constant(v.maybeRational(0,1)),c=i.Constant(NaN);if(void 0===n){void 0===a&&(a=s);var o=i.Negative([i.Divide([t,a])]),u=i.Equal([a,s]);return[i.Piecewise([u,c,o])]}var d=i.Constant(v.maybeRational(2,1)),f=i.Multiply([d,n]),p=i.Negative([a]),g=i.Subtract([i.Multiply([a,a]),i.Multiply([d,i.Multiply([f,t])])]),m=i.Equal([n,s]),y=i.getInstruction(g);if(y.type===l.Constant&&0===v.asFloat(y.value))return[i.Piecewise([m,c,i.Divide([p,f])])];var b=i.SyntheticNativeFunction("sqrt",[g]),h=i.Less([a,s]),w=i.Greater([a,s]),P=i.Divide([i.Add([p,b]),f]),I=i.Divide([i.Subtract([p,b]),f]);o=i.Negative([i.Divide([t,a])]);return[i.Piecewise([m,i.Piecewise([h,o,c]),I]),i.Piecewise([m,i.Piecewise([w,o,c]),P])]}(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.trySolve=void 0,e.trySolve=function(e,v){try{return function(e,v){for(var p=e.policy,g=e.frame,m=s.getFreeDependencies(g,v),y=[],b=0;b<m.length;b++)y.push(d.Number);var h=n.buildIRContext({policy:p,frame:g,argNames:m,argTypes:y}),w=h.chunk,P=n.addToIR(h,v.args[0]),I=n.addToIR(h,v.args[1]),N=v.getOperator(),O="="!==N;switch(N){case"<":w.Less([P,I]);break;case">":w.Greater([P,I]);break;case"<=":w.LessEqual([P,I]);break;case">=":w.GreaterEqual([P,I]);break;case"=":w.Equal([P,I])}if(w.returnIndex=o.fuseBroadcast(w,w.returnIndex),w.isConstant())return new t(w.close());var q=w.getInstruction(P).type!==l.LoadArg||-1!==s.getFreeDependencies(g,v.args[1]).indexOf(w.argNames[P]);if(!r.plotImplicits&&q)throw a.implicitsDisabled();-1===c.table[N].direction?w.Subtract([I,P]):w.Subtract([P,I]);w.close();var D=w.getLiveArgNames();if(0===D.length)throw a.parseError();if(1===D.length&&!O&&!r.plotSingleVariableImplicitEquations)return a.singleVariableImplicitEquationsDisabled();if(D.length>2)return a.tooManyVariables(p.sliderVariables(D)).setDependencies(D);if(O&&!p.validInequalityVariables(D))return a.invalidInequalityVariables().setDependencies(D);var C=function(e,i){var r=e.chunk,t=e.policy,a=r.argNames,n=d.isList(r.getReturnType()),s=[];e:for(var c=0;c<a.length;c++){var l=a[c],o=a.length>1&&!t.validSolvedVariable(l);s[c]={localFrames:[],effectiveOrder:0,variableOfInterest:l};var u=!i;if(o)s[c].effectiveOrder=1/0;else{var v=n?r.getConstantListLength():1;if(null==v)throw new Error("Programming error: cannot solve a variable-length list expression");for(var f=0;f<v;f++){var p=n?r.elementAt(f):r;if(p.polynomialOrder(l,{allowRestriction:u,allowClosedBlockReferences:!1})>2){s[c].effectiveOrder=1/0;continue e}var g=p.getPolynomialCoefficients(l);s[c].localFrames.push(g),s[c].effectiveOrder=Math.max(s[c].effectiveOrder,g.coefficients.length-1)}}}return 1===a.length?s[0]:("y"===a[0]&&(s=[s[1],s[0]]),0===s[0].effectiveOrder?s[1]:0===s[1].effectiveOrder?s[0]:s[s[0].effectiveOrder<s[1].effectiveOrder?0:1])}(h,O),E=C.localFrames,R=C.effectiveOrder,S=C.variableOfInterest;if(p.complicatedPolarImplicit(S,R))return a.complicatedPolarImplicit().setDependencies(D);if(!p.validImplicitVariables(D))return a.invalidImplicitVariables();if(R>2)return new t(w.close());for(var k=[],L=1,M=0,x=E;M<x.length;M++){var V=x[M],F=f(V,O);L=F.length;for(var G=0,A=F;G<A.length;G++){var T=A[G],B=V.chunk.copy();B.returnIndex=T,V.isRestrictedPolynomial&&(B.returnIndex=u.reapplyRestrictions(B,V)),B.close(),k.push(new t(B))}}return i.SolvedEquation(S,i.List(k),L)}(e,v)}catch(e){return e instanceof i.Base?e:a.parseError()}}});\ndefine(\'numeric\',[],function(){"use strict";var r="undefined"==typeof exports?function(){}:exports;return"undefined"!=typeof global&&(global.numeric=r),r.version="1.2.6",r._myIndexOf=function(r){var n,e=this.length;for(n=0;n<e;++n)if(this[n]===r)return n;return-1},r.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:r._myIndexOf,r.precision=4,r.largeArray=50,r.compile=function(){var n=Array.prototype.slice.call(arguments),e=n.pop();return e="return function ("+n.join(",")+") {"+e+"}",new Function(["numeric"],e)(r)},r._dim=function(r){for(var n=[];"object"==typeof r;)n.push(r.length),r=r[0];return n},r.dim=function(n){var e;return"object"==typeof n?"object"==typeof(e=n[0])?"object"==typeof e[0]?r._dim(n):[n.length,e.length]:[n.length]:[]},r.mapreduce=function(n,e){return r.compile("x","accum","_s","_k",\'if(typeof accum === "undefined") accum = \'+e+\';\\nif(typeof x === "number") { var xi = x; \'+n+\'; return accum; }\\nif(typeof _s === "undefined") _s = numeric.dim(x);\\nif(typeof _k === "undefined") _k = 0;\\nvar _n = _s[_k];\\nvar i,xi;\\nif(_k < _s.length-1) {\\n    for(i=_n-1;i>=0;i--) {\\n        accum = arguments.callee(x[i],accum,_s,_k+1);\\n    }    return accum;\\n}\\nfor(i=_n-1;i>=1;i-=2) { \\n    xi = x[i];\\n    \'+n+";\\n    xi = x[i-1];\\n    "+n+";\\n}\\nif(i === 0) {\\n    xi = x[i];\\n    "+n+"\\n}\\nreturn accum;")},r.mapreduce2=function(n,e){return r.compile("x","var n = x.length;\\nvar i,xi;\\n"+e+"\\nfor(i=n-1;i!==-1;--i) { \\n    xi = x[i];\\n    "+n+"\\n}\\nreturn accum;")},r.rep=function(n,e,t){void 0===t&&(t=0);var i,o=n[t],a=Array(o);if(t===n.length-1){for(i=o-2;i>=0;i-=2)a[i+1]=e,a[i]=e;return-1===i&&(a[0]=e),a}for(i=o-1;i>=0;i--)a[i]=r.rep(n,e,t+1);return a},r.dotMMsmall=function(r,n){var e,t,i,o,a,f,u,c,s,m,l;for(o=r.length,a=n.length,f=n[0].length,u=Array(o),e=o-1;e>=0;e--){for(c=Array(f),s=r[e],i=f-1;i>=0;i--){for(m=s[a-1]*n[a-1][i],t=a-2;t>=1;t-=2)l=t-1,m+=s[t]*n[t][i]+s[l]*n[l][i];0===t&&(m+=s[0]*n[0][i]),c[i]=m}u[e]=c}return u},r._getCol=function(r,n,e){var t;for(t=r.length-1;t>0;--t)e[t]=r[t][n],e[--t]=r[t][n];0===t&&(e[0]=r[0][n])},r.dotMMbig=function(n,e){var t,i,o,a=r._getCol,f=e.length,u=Array(f),c=n.length,s=e[0].length,m=new Array(c),l=r.dotVV;for(--f,i=--c;-1!==i;--i)m[i]=Array(s);for(i=--s;-1!==i;--i)for(a(e,i,u),o=c;-1!==o;--o)0,t=n[o],m[o][i]=l(t,u);return m},r.dotMV=function(n,e){var t,i=n.length,o=(e.length,Array(i)),a=r.dotVV;for(t=i-1;t>=0;t--)o[t]=a(n[t],e);return o},r.dotVM=function(r,n){var e,t,i,o,a,f,u;for(i=r.length,o=n[0].length,a=Array(o),t=o-1;t>=0;t--){for(f=r[i-1]*n[i-1][t],e=i-2;e>=1;e-=2)u=e-1,f+=r[e]*n[e][t]+r[u]*n[u][t];0===e&&(f+=r[0]*n[0][t]),a[t]=f}return a},r.dotVV=function(r,n){var e,t,i=r.length,o=r[i-1]*n[i-1];for(e=i-2;e>=1;e-=2)t=e-1,o+=r[e]*n[e]+r[t]*n[t];return 0===e&&(o+=r[0]*n[0]),o},r.dot=function(n,e){var t=r.dim;switch(1e3*t(n).length+t(e).length){case 2002:return e.length<10?r.dotMMsmall(n,e):r.dotMMbig(n,e);case 2001:return r.dotMV(n,e);case 1002:return r.dotVM(n,e);case 1001:return r.dotVV(n,e);case 1e3:return r.mulVS(n,e);case 1:return r.mulSV(n,e);case 0:return n*e;default:throw new Error("numeric.dot only works on vectors and matrices")}},r.diag=function(r){var n,e,t,i,o=r.length,a=Array(o);for(n=o-1;n>=0;n--){for(i=Array(o),e=n+2,t=o-1;t>=e;t-=2)i[t]=0,i[t-1]=0;for(t>n&&(i[t]=0),i[n]=r[n],t=n-1;t>=1;t-=2)i[t]=0,i[t-1]=0;0===t&&(i[0]=0),a[n]=i}return a},r.getDiag=function(r){var n,e=Math.min(r.length,r[0].length),t=Array(e);for(n=e-1;n>=1;--n)t[n]=r[n][n],t[--n]=r[n][n];return 0===n&&(t[0]=r[0][0]),t},r.identity=function(n){return r.diag(r.rep([n],1))},r.pointwise=function(n,e,t){void 0===t&&(t="");var i,o,a=[],f=/\\[i\\]$/,u="",c=!1;for(i=0;i<n.length;i++)f.test(n[i])?u=o=n[i].substring(0,n[i].length-3):o=n[i],"ret"===o&&(c=!0),a.push(o);return a[n.length]="_s",a[n.length+1]="_k",a[n.length+2]=\'if(typeof _s === "undefined") _s = numeric.dim(\'+u+\');\\nif(typeof _k === "undefined") _k = 0;\\nvar _n = _s[_k];\\nvar i\'+(c?"":", ret = Array(_n)")+";\\nif(_k < _s.length-1) {\\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+n.join(",")+",_s,_k+1);\\n    return ret;\\n}\\n"+t+"\\nfor(i=_n-1;i!==-1;--i) {\\n    "+e+"\\n}\\nreturn ret;",r.compile.apply(null,a)},r.pointwise2=function(n,e,t){void 0===t&&(t="");var i,o,a=[],f=/\\[i\\]$/,u="",c=!1;for(i=0;i<n.length;i++)f.test(n[i])?u=o=n[i].substring(0,n[i].length-3):o=n[i],"ret"===o&&(c=!0),a.push(o);return a[n.length]="var _n = "+u+".length;\\nvar i"+(c?"":", ret = Array(_n)")+";\\n"+t+"\\nfor(i=_n-1;i!==-1;--i) {\\n"+e+"\\n}\\nreturn ret;",r.compile.apply(null,a)},r._biforeach=function r(n,e,t,i,o){var a;if(i!==t.length-1)for(a=t[i]-1;a>=0;a--)r("object"==typeof n?n[a]:n,"object"==typeof e?e[a]:e,t,i+1,o);else o(n,e)},r._biforeach2=function r(n,e,t,i,o){if(i===t.length-1)return o(n,e);var a,f=t[i],u=Array(f);for(a=f-1;a>=0;--a)u[a]=r("object"==typeof n?n[a]:n,"object"==typeof e?e[a]:e,t,i+1,o);return u},r._foreach=function r(n,e,t,i){var o;if(t!==e.length-1)for(o=e[t]-1;o>=0;o--)r(n[o],e,t+1,i);else i(n)},r._foreach2=function r(n,e,t,i){if(t===e.length-1)return i(n);var o,a=e[t],f=Array(a);for(o=a-1;o>=0;o--)f[o]=r(n[o],e,t+1,i);return f},r.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},r.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},r.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],r.mathfuns2=["atan2","pow","max","min"],r.ops1={neg:"-",not:"!",bnot:"~",clone:""},r.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi);","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var n,e;for(n=0;n<r.mathfuns2.length;++n)e=r.mathfuns2[n],r.ops2[e]=e;for(n in r.ops2)if(r.ops2.hasOwnProperty(n)){e=r.ops2[n];var t,i,o="";-1!==r.myIndexOf.call(r.mathfuns2,n)?(o="var "+e+" = Math."+e+";\\n",t=function(r,n,t){return r+" = "+e+"("+n+","+t+")"},i=function(r,n){return r+" = "+e+"("+r+","+n+")"}):(t=function(r,n,t){return r+" = "+n+" "+e+" "+t},i=r.opseq.hasOwnProperty(n+"eq")?function(r,n){return r+" "+e+"= "+n}:function(r,n){return r+" = "+r+" "+e+" "+n}),r[n+"VV"]=r.pointwise2(["x[i]","y[i]"],t("ret[i]","x[i]","y[i]"),o),r[n+"SV"]=r.pointwise2(["x","y[i]"],t("ret[i]","x","y[i]"),o),r[n+"VS"]=r.pointwise2(["x[i]","y"],t("ret[i]","x[i]","y"),o),r[n]=r.compile("var n = arguments.length, i, x = arguments[0], y;\\nvar VV = numeric."+n+"VV, VS = numeric."+n+"VS, SV = numeric."+n+\'SV;\\nvar dim = numeric.dim;\\nfor(i=1;i!==n;++i) { \\n  y = arguments[i];\\n  if(typeof x === "object") {\\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\\n  else \'+i("x","y")+"\\n}\\nreturn x;\\n"),r[e]=r[n],r[n+"eqV"]=r.pointwise2(["ret[i]","x[i]"],i("ret[i]","x[i]"),o),r[n+"eqS"]=r.pointwise2(["ret[i]","x"],i("ret[i]","x"),o),r[n+"eq"]=r.compile("var n = arguments.length, i, x = arguments[0], y;\\nvar V = numeric."+n+"eqV, S = numeric."+n+\'eqS\\nvar s = numeric.dim(x);\\nfor(i=1;i!==n;++i) { \\n  y = arguments[i];\\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\\n  else numeric._biforeach(x,y,s,0,S);\\n}\\nreturn x;\\n\')}for(n=0;n<r.mathfuns2.length;++n)e=r.mathfuns2[n],delete r.ops2[e];for(n=0;n<r.mathfuns.length;++n)e=r.mathfuns[n],r.ops1[e]=e;for(n in r.ops1)r.ops1.hasOwnProperty(n)&&(o="",e=r.ops1[n],-1!==r.myIndexOf.call(r.mathfuns,n)&&Math.hasOwnProperty(e)&&(o="var "+e+" = Math."+e+";\\n"),r[n+"eqV"]=r.pointwise2(["ret[i]"],"ret[i] = "+e+"(ret[i]);",o),r[n+"eq"]=r.compile("x",\'if(typeof x !== "object") return \'+e+"x\\nvar i;\\nvar V = numeric."+n+"eqV;\\nvar s = numeric.dim(x);\\nnumeric._foreach(x,s,0,V);\\nreturn x;\\n"),r[n+"V"]=r.pointwise2(["x[i]"],"ret[i] = "+e+"(x[i]);",o),r[n]=r.compile("x",\'if(typeof x !== "object") return \'+e+"(x)\\nvar i;\\nvar V = numeric."+n+"V;\\nvar s = numeric.dim(x);\\nreturn numeric._foreach2(x,s,0,V);\\n"));for(n=0;n<r.mathfuns.length;++n)e=r.mathfuns[n],delete r.ops1[e];for(n in r.mapreducers)r.mapreducers.hasOwnProperty(n)&&(e=r.mapreducers[n],r[n+"V"]=r.mapreduce2(e[0],e[1]),r[n]=r.compile("x","s","k",e[1]+\'if(typeof x !== "object") {    xi = x;\\n\'+e[0]+\'\\n    return accum;\\n}if(typeof s === "undefined") s = numeric.dim(x);\\nif(typeof k === "undefined") k = 0;\\nif(k === s.length-1) return numeric.\'+n+"V(x);\\nvar xi;\\nvar n = x.length, i;\\nfor(i=n-1;i!==-1;--i) {\\n   xi = arguments.callee(x[i]);\\n"+e[0]+"\\n}\\nreturn accum;\\n"))}(),r.inv=function(n){var e,t,i,o,a,f,u,c=r.dim(n),s=Math.abs,m=c[0],l=c[1],h=r.clone(n),d=r.identity(m);for(f=0;f<l;++f){var p=-1,y=-1;for(a=f;a!==m;++a)(u=s(h[a][f]))>y&&(p=a,y=u);for(t=h[p],h[p]=h[f],h[f]=t,o=d[p],d[p]=d[f],d[f]=o,n=t[f],u=f;u!==l;++u)t[u]/=n;for(u=l-1;-1!==u;--u)o[u]/=n;for(a=m-1;-1!==a;--a)if(a!==f){for(e=h[a],i=d[a],n=e[f],u=f+1;u!==l;++u)e[u]-=t[u]*n;for(u=l-1;u>0;--u)i[u]-=o[u]*n,i[--u]-=o[u]*n;0===u&&(i[0]-=o[0]*n)}}return d},r.det=function(n){var e=r.dim(n);if(2!==e.length||e[0]!==e[1])throw new Error("numeric: det() only works on square matrices");var t,i,o,a,f,u,c,s,m=e[0],l=1,h=r.clone(n);for(i=0;i<m-1;i++){for(o=i,t=i+1;t<m;t++)Math.abs(h[t][i])>Math.abs(h[o][i])&&(o=t);for(o!==i&&(c=h[o],h[o]=h[i],h[i]=c,l*=-1),a=h[i],t=i+1;t<m;t++){for(u=(f=h[t])[i]/a[i],o=i+1;o<m-1;o+=2)s=o+1,f[o]-=a[o]*u,f[s]-=a[s]*u;o!==m&&(f[o]-=a[o]*u)}if(0===a[i])return 0;l*=a[i]}return l*h[i][i]},r.transpose=function(r){var n,e,t,i,o,a=r.length,f=r[0].length,u=Array(f);for(e=0;e<f;e++)u[e]=Array(a);for(n=a-1;n>=1;n-=2){for(i=r[n],t=r[n-1],e=f-1;e>=1;--e)(o=u[e])[n]=i[e],o[n-1]=t[e],(o=u[--e])[n]=i[e],o[n-1]=t[e];0===e&&((o=u[0])[n]=i[0],o[n-1]=t[0])}if(0===n){for(t=r[0],e=f-1;e>=1;--e)u[e][0]=t[e],u[--e][0]=t[e];0===e&&(u[0][0]=t[0])}return u},r.negtranspose=function(r){var n,e,t,i,o,a=r.length,f=r[0].length,u=Array(f);for(e=0;e<f;e++)u[e]=Array(a);for(n=a-1;n>=1;n-=2){for(i=r[n],t=r[n-1],e=f-1;e>=1;--e)(o=u[e])[n]=-i[e],o[n-1]=-t[e],(o=u[--e])[n]=-i[e],o[n-1]=-t[e];0===e&&((o=u[0])[n]=-i[0],o[n-1]=-t[0])}if(0===n){for(t=r[0],e=f-1;e>=1;--e)u[e][0]=-t[e],u[--e][0]=-t[e];0===e&&(u[0][0]=-t[0])}return u},r.norm2=function(n){return Math.sqrt(r.norm2Squared(n))},r.linspace=function(r,n,e){if(void 0===e&&(e=Math.max(Math.round(n-r)+1,1)),e<2)return 1===e?[r]:[];var t,i=Array(e);for(t=--e;t>=0;t--)i[t]=(t*n+(e-t)*r)/e;return i},r.getBlock=function(n,e,t){var i=r.dim(n);return function r(n,o){var a,f=e[o],u=t[o]-f,c=Array(u);if(o===i.length-1){for(a=u;a>=0;a--)c[a]=n[a+f];return c}for(a=u;a>=0;a--)c[a]=r(n[a+f],o+1);return c}(n,0)},r.setBlock=function(n,e,t,i){var o=r.dim(n);return function r(n,i,a){var f,u=e[a],c=t[a]-u;if(a===o.length-1)for(f=c;f>=0;f--)n[f+u]=i[f];for(f=c;f>=0;f--)r(n[f+u],i[f],a+1)}(n,i,0),n},r.getRange=function(r,n,e){var t,i,o,a,f=n.length,u=e.length,c=Array(f);for(t=f-1;-1!==t;--t)for(c[t]=Array(u),o=c[t],a=r[n[t]],i=u-1;-1!==i;--i)o[i]=a[e[i]];return c},r.blockMatrix=function(n){var e=r.dim(n);if(e.length<4)return r.blockMatrix([n]);var t,i,o,a,f,u=e[0],c=e[1];for(t=0,i=0,o=0;o<u;++o)t+=n[o][0].length;for(a=0;a<c;++a)i+=n[0][a][0].length;var s=Array(t);for(o=0;o<t;++o)s[o]=Array(i);var m,l,h,d,p,y=0;for(o=0;o<u;++o){for(m=i,a=c-1;-1!==a;--a)for(m-=(f=n[o][a])[0].length,h=f.length-1;-1!==h;--h)for(p=f[h],l=s[y+h],d=p.length-1;-1!==d;--d)l[m+d]=p[d];y+=n[o][0].length}return s},r.tensor=function(n,e){if("number"==typeof n||"number"==typeof e)return r.mul(n,e);var t=r.dim(n),i=r.dim(e);if(1!==t.length||1!==i.length)throw new Error("numeric: tensor product is only defined for vectors");var o,a,f,u,c=t[0],s=i[0],m=Array(c);for(a=c-1;a>=0;a--){for(o=Array(s),u=n[a],f=s-1;f>=3;--f)o[f]=u*e[f],o[--f]=u*e[f],o[--f]=u*e[f],o[--f]=u*e[f];for(;f>=0;)o[f]=u*e[f],--f;m[a]=o}return m},r.epsilon=2220446049250313e-31,r.LU=function(n,e){e=e||!1;var t,i,o,a,f,u,c,s,m,l=Math.abs,h=n.length,d=h-1,p=new Array(h);for(e||(n=r.clone(n)),o=0;o<h;++o){for(c=o,m=l((u=n[o])[o]),i=o+1;i<h;++i)m<(a=l(n[i][o]))&&(m=a,c=i);for(p[o]=c,c!=o&&(n[o]=n[c],n[c]=u,u=n[o]),f=u[o],t=o+1;t<h;++t)n[t][o]/=f;for(t=o+1;t<h;++t){for(s=n[t],i=o+1;i<d;++i)s[i]-=s[o]*u[i],s[++i]-=s[o]*u[i];i===d&&(s[i]-=s[o]*u[i])}}return{LU:n,P:p}},r.LUsolve=function(n,e){var t,i,o,a,f,u=n.LU,c=u.length,s=r.clone(e),m=n.P;for(t=c-1;-1!==t;--t)s[t]=e[t];for(t=0;t<c;++t)for(o=m[t],m[t]!==t&&(f=s[t],s[t]=s[o],s[o]=f),a=u[t],i=0;i<t;++i)s[t]-=s[i]*a[i];for(t=c-1;t>=0;--t){for(a=u[t],i=t+1;i<c;++i)s[t]-=s[i]*a[i];s[t]/=a[t]}return s},r.solve=function(n,e,t){return r.LUsolve(r.LU(n,t),e)},r});\ndefine(\'core/math/qr\',["require","exports"],function(require,r){"use strict";function t(r,t){for(var n=r.length,e=t.length,a=0,l=0,h=e-n;h<e;h++)a+=r[h+n-e]*t[h],l+=r[h+n-e]*r[h+n-e];var o=a/l;for(h=e-n;h<e;h++)t[h]=2*o*r[h+n-e]-t[h]}function n(r,t,n){for(var e=r.length,a=t.length,l=0,h=0,o=a-e;o<a;o++)l+=r[o+e-a]*t[o][n],h+=r[o+e-a]*r[o+e-a];var f=l/h;for(o=a-e;o<a;o++)t[o][n]=2*f*r[o+e-a]-t[o][n]}function e(r,t,n,e){var a=Array(r.length-t);if(1===a.length)return a[0]=1,a;if(0===e){a[0]=1;for(var l=1;l<a.length;l++)a[l]=0;return a}var h=r[t][n]<0?-1:1;a[0]=r[t][n]+h*Math.sqrt(e);for(var o=t+1;o<r.length;o++)a[o-t]=r[o][n];return a}function a(r,t,n){for(var e=0;t<r.length;t++)e+=r[t][n]*r[t][n];return e}function l(r,n,e){for(var a=r.reflectors,l=r.r,h=r.p,o=n.slice(),f=0;f<a.length;f++)t(a[f],o);for(f=a.length;f<l[0].length;f++)o[f]=0;o.length=l[0].length;var g=Math.pow(2,-52),i=e.regularize?g*Math.abs(l[0][0])*Math.max(l.length,l[0].length):0;for(f=a.length-1;f>=0;f--){var u=l[f];if(Math.abs(u[f])<=i)o[f]=0;else{for(var v=f+1;v<a.length;v++)o[f]-=o[v]*u[v];o[f]/=u[f]}}for(f=h.length-1;f>=0;f--)if(h[f]!==f){var c=o[f];o[f]=o[h[f]],o[h[f]]=c}return o}function h(r){var t=r.r,n=Math.min(t.length,t[0].length),e=t[0][0],a=t[n-1][n-1];return 0===e?1/0:Math.abs(e/a)}Object.defineProperty(r,"__esModule",{value:!0}),r.isNumericallyFullRank=r.conditionNumber=r.qrSolve=r.qr=void 0,r.qr=function(r,t){if(!t||!t.mutateInput){var l=r;r=Array(r.length);for(var h=0;h<l.length;h++)r[h]=l[h].slice()}for(var o=Math.min(r.length,r[0].length),f=Array(o),g=[],i=0;i<o;i++){for(var u=-1/0,v=i,c=i;c<r[i].length;c++){var s=a(r,i,c);s>u&&(u=s,v=c)}if(f[i]=v,v!==i)for(h=0;h<r.length;h++){var y=r[h][v];r[h][v]=r[h][i],r[h][i]=y}var M=e(r,i,i,u);for(c=i;c<r[i].length;c++)n(M,r,c);g.push(M)}return{reflectors:g,r:r,p:f}},r.qrSolve=function(r,t,n){return Array.isArray(t[0])?function(r,t,n){for(var e=Array(r.r[0].length),a=0;a<e.length;a++)e[a]=Array(t[0].length);for(var h=Array(t.length),o=0;o<t[0].length;o++){for(a=0;a<t.length;a++)h[a]=t[a][o];var f=l(r,h,n);for(a=0;a<f.length;a++)e[a][o]=f[a]}return e}(r,t,n):l(r,t,n)},r.conditionNumber=h,r.isNumericallyFullRank=function(r){var t=Math.pow(2,-52);return Math.max(r.r.length,r.r[0].length)*t*h(r)<1}});\ndefine(\'core/math/least-squares\',["require","exports","numeric","core/math/distance","./qr"],function(require,r,e,n,t){"use strict";function a(r,e){for(var n=[],t=0;t<e;t++)n.push(r);return n}function i(r,e){for(var n=o(r,e),t=0,a=0,i=n;a<i.length;a++){var u=i[a];t+=u*u}return t/n.length}function o(r,e){return r.apply(void 0,e)}function u(r,e){for(var n=[],t=0,a=r;t<a.length;t++){var i=a[t].apply(void 0,e);n.push(i)}return n}function s(r,e){for(var n=[],t=0;t<r.length;t++)e[t]&&n.push(r[t]);return n}function l(r,e,n){for(var t=[],a=0,i=0;a<r.length;a++){var o=0;n[a]&&(o=e[i],i+=1),t.push(r[a]+o)}return t}function v(r,n,v,f){var S,p=f.maxIterations,g=f.linearSubset||a(!1,v.length),h=e.not(g),d=s(n,g),M=s(n,h),c=v,E=0,m=.001;if(e.any(g)){S={Jv:G=e.transpose(u(d,c)),F:N=t.qr(G)};var q=o(r,c);c=l(c,e.neg(t.qrSolve(N,q,{regularize:!0})),g)}for(var b=!1,x=i(r,c);E<p&&!b&&isFinite(x);){q=o(r,c);var y=u(M,c),z=e.transpose(y),I=void 0,F=void 0;if(S){var N=S.F,G=S.Jv;I=e.dot(y,e.sub(q,e.dot(G,t.qrSolve(N,q,{regularize:!0})))),F=e.dot(y,e.sub(z,e.dot(G,t.qrSolve(N,z,{regularize:!0}))))}else I=e.dot(y,q),F=e.dot(y,z);for(var L=c,J=!1;E<p&&!b&&!J;){E+=1;var O=e.add(F,e.diag(a(m,M.length)));L=l(c,e.neg(e.solve(O,I,!0)),h),b=e.all(e.eq(L,c));var P=void 0;if(S){P={Jv:G=e.transpose(u(d,L)),F:N=t.qr(G)};var R=o(r,L);L=l(L,e.neg(t.qrSolve(N,R,{regularize:!0})),g)}var k=i(r,L);(J=k<x)?(c=L,x=k,S=P,m*=.1):(m=Math.max(m,1e-64),m*=2)}}return{solution:c,MSE:x}}Object.defineProperty(r,"__esModule",{value:!0}),r.testOnlyExports=r.optimizeNonLinear=r.optimizeLinear=r.tryRoundingSmallParametersToZero=r.evaluateMeanSquare=void 0,r.evaluateMeanSquare=i,r.tryRoundingSmallParametersToZero=function(r,e){var n=e.solution.map(function(r){return Math.abs(r)<1e-6?0:r}),t=i(r,n);return isFinite(e.MSE)&&!isFinite(e.MSE)||t<e.MSE||e.MSE!==e.MSE+Math.pow(.5,8)*(t-e.MSE)?e:{solution:n,MSE:t}},r.optimizeLinear=function(r,n){for(var s=a(0,n.length),l=u(n,s),v=t.qr(e.transpose(l),{mutateInput:!0}),f=0;f<2;f++){var S=o(r,s),p=e.neg(t.qrSolve(v,S,{regularize:!1}));s=e.add(s,p)}var g=i(r,s);if(t.isNumericallyFullRank(v))return{solution:s,MSE:g};var h=a(0,n.length);for(f=0;f<2;f++){S=o(r,h),p=e.neg(t.qrSolve(v,S,{regularize:!0}));h=e.add(h,p)}var d=i(r,h);return.999*d<=g?{solution:h,MSE:d}:{solution:s,MSE:g}};var f=[18.9,.105,.0113,.089,4.414,.373,.06,.149,1.84,9.26,5,.7,.2,1.13,2.61,1,.007,30,120,1500,4e-4,7.23,-1,-.0081,-.03,-28.6,-1.71,-.4,-6.94,-.777,-500],S=function(r){for(var e=[],n=0;n<f.length;n++){for(var t=[],a=0;a<r;a++)t[a]=0===n&&1!==r?0:1===n&&1!==r?1:f[503*(n*r+a)%f.length];e.push(t)}return e},p=function(r,e,n,t,a){for(var i=[],o=0,u=n;o<u.length;o++){var s=u[o];i.push({soln:v(r,e,s,a),initialGuess:s})}i.sort(function(r,e){return isNaN(r.soln.MSE)?1:isNaN(e.soln.MSE)?-1:r.soln.MSE-e.soln.MSE});for(var l=[],f=0;f<t;f++)l.push(i[f].initialGuess);return l};function g(r,e,n,t){if(!e)return r;if("known"!==e.type)return r;var a=e.bounds;return a[0]===-1/0&&a[1]===1/0?r:a[0]===-1/0?a[1]-Math.exp(-r):a[1]===1/0?a[0]+Math.exp(r):n/(t-1)*a[1]+(t-1-n)/(t-1)*a[0]}var h=[3,5,7,11,13,17,19];function d(r,e){for(var n=[],t=0;t<r.length;t++){for(var a=r[t],i=[],o=0;o<a.length;o++){var u=h[o%h.length]*t%r.length;i.push(g(a[o],e[o],u,r.length))}n.push(i)}return n}r.optimizeNonLinear=function(r,e,t){t||(t={});var a=t.linearSubset,i=t.bounds,o=t.preferredInitialGuess,u=S(e.length);i&&(u=d(u,i));var s=p(r,e,u,5,{maxIterations:3,linearSubset:a}),l=v(r,e,p(r,e,s,1,{maxIterations:60,linearSubset:a})[0],{maxIterations:250,linearSubset:a});if(!o)return l;var f=v(r,e,o,{maxIterations:100,linearSubset:a});return isFinite(f.MSE)&&(f.MSE<l.MSE||n.approx(f.MSE,l.MSE,8))?f:l},r.testOnlyExports={generateInitialGuesses:S,mapInitialGuesses:d}});\ndefine(\'core/math/ir/features/reparameterize-regression\',["require","exports","core/math/builtin","../opcodes","core/math/types","../instructions","./is-constant","./as-value","./polynomial-order","./get-polynomial-coefficients","./copy-instruction","core/math/maybe-rational","./list-length"],function(require,e,r,t,a,n,i,s,o,u,c,l,v){"use strict";function p(e){return{chunk:e,isLazy:!0}}function f(e){return e.slice()}function h(e){if(!e.isLazy)return e;var r=e.chunk.copy();return r.reopenFinalBlock(),{chunk:r,forwardParameterMap:f,reverseParameterMap:f,isLazy:!1,valueMap:F(e.chunk.instructionsLength()),replacementMask:N(e.chunk.argNames.length)}}function d(e){var r=e.chunk,t=e.forwardParameterMap,a=e.reverseParameterMap,n=e.isLazy,i=e.valueMap,s=e.replacementMask,o=e.didShiftScale;return{chunk:r.copy(),forwardParameterMap:t,reverseParameterMap:a,isLazy:n,valueMap:i.slice(),replacementMask:s.slice(),didShiftScale:o}}function g(e){for(var r=1/0,t=-1/0,a=e.length,n=0,i=e;n<i.length;n++){var s=i[n];r=Math.min(r,s),t=Math.max(t,s)}return{min:r,max:t,length:a}}function m(e,r,t,a){if(void 0!==t){var i=e.getInstruction(a);if(n.isLeafInstruction(i))for(var s=0,o=t;s<o.length;s++){(v=o[s]).valueMap[a]=a}else for(var u=0,l=t;u<l.length;u++){for(var v,p=(v=l[u]).chunk,f=v.valueMap,h=[],d=0,g=0,m=i.args;g<m.length;g++){var M=m[g];if(f[M]!==M){if((d+=1)>1)return void(t.length=0)}else for(var y=r[M],k=0;k<y.length;k++)if(y[k]&&v.replacementMask[k])return void(t.length=0);h.push(f[M])}f[a]=d>0?c.copyInstructionWithArgs(p,i,h):a}}}function M(e,r){for(var t,a=e.listAccessDependencyTable,n=e.listAccesses,i=e.listStatisticsTable,s=a[r],o=0;o<s.length;o++)if(s[o]){if(t)return;t={listAccessIndex:n[o],listStatistics:i[o]}}return t}function y(e,r){for(var t=0,a=e.listAccessDependencyTable[r];t<a.length;t++){if(a[t])return!0}return!1}function k(e,r){for(var a,n=[],i=0;i<=r;i++){if(e.getInstruction(i).type===t.LoadArg){var s=N(e.argNames.length);s[i]=!0,n.push(s)}else n.push(L(e,n,e.argNames.length,i))}var o=n[r];for(i=0;i<o.length;i++)if(o[i]){if(void 0!==a)return;a=i}return a}function x(e,a,n,i,s){var o=e.chunk,u=k(o,n);if(void 0!==u){var c=w(e,n,u);if(void 0!==c){var l=o.getInstruction(i),v=l.args[0];if(void 0!==(c=b(c,v,s))){var p=c.chunk,f=c.valueMap,h=p.getInstruction(f[v]);if(h.type===t.Add){var d=h.args[1],g=p.getInstruction(h.args[0]);if(g.type===t.Multiply){var m=g.args,M=m[0],y=m[1],x=u,P=d,C=M,I=y,L=p.Multiply([C,I]),N=p.SyntheticNativeFunction("cos",[L]),F=p.SyntheticNativeFunction("sin",[L]),S="sin"===l.symbol?p.Add([p.Multiply([x,F]),p.Multiply([P,N])]):p.Subtract([p.Multiply([x,N]),p.Multiply([P,F])]);f[a]=S;var A=c.replacementMask.slice();return A[u]=!0,A[M]=!0,A[d]=!0,{chunk:p,forwardParameterMap:function(e){var r=c.forwardParameterMap(e),t=r[u],a=r[d],n=t*Math.cos(a),i=t*Math.sin(a);return r[u]=n,r[d]=i,r},reverseParameterMap:function(e){var t=e.slice(),a=e[u],n=e[d],i=r.hypot(a,n),s=Math.atan2(n,a);return t[u]=i,t[d]=s,c.reverseParameterMap(t)},valueMap:f,replacementMask:A,isLazy:!1}}}}}}}function P(e,r,n,i){var s=e.chunk,o=s.getInstruction(r).args,u=o[0],c=o[1],v=s.getInstruction(u);if(v.type===t.Constant&&v.valueType===a.Number&&l.asFloat(v.value)>0){var p=h(e),f=p.chunk,d=p.valueMap,g=f.Multiply([f.SyntheticNativeFunction("ln",[d[u]]),d[c]]);return d[c]=g,d[r]=f.SyntheticNativeFunction("exp",[g]),I(p,r,c,n,i)||p}var m=k(s,u);if(void 0!==m){var M=w(e,u,m);if(void 0!==M){var y=M.chunk,x=M.valueMap,P=y.Multiply([x[u],x[c]]);x[c]=P,x[r]=y.SyntheticNativeFunction("exp",[P]);var C=M.replacementMask.slice();C[m]=!0;var b={chunk:y,forwardParameterMap:function(e){var r=M.forwardParameterMap(e),t=r[m],a=Math.log(t);return r[m]=a,r},reverseParameterMap:function(e){var r=e.slice(),t=r[m],a=Math.exp(t);return r[m]=a,M.reverseParameterMap(r)},isLazy:!1,valueMap:x,replacementMask:C};return I(b,r,c,n,i)||b}}}function C(e,r,t,a,n,i){if(e.isLazy||!e.didShiftScale){var s=e.isLazy?e:d(e),o=k(e.chunk,t);if(void 0!==o){var u=w(e,t,o);if(void 0!==u){var c=u.chunk,l=u.valueMap,v=c.getInstruction(l[a]).args[0],p=c.Add([v,l[t]]);l[t]=p,l[r]=c.SyntheticNativeFunction("exp",[p]);var f=u.replacementMask.slice();f[o]=!0;var g=h(s);g.valueMap[r]=g.chunk.Multiply([g.valueMap[t],g.valueMap[a]]);var m={chunk:c,forwardParameterMap:function(e){var r=u.forwardParameterMap(e),t=r[o],a=Math.log(t);return r[o]=a,r},reverseParameterMap:function(e){var r=e.slice(),t=r[o],a=Math.exp(t);return r[o]=a,u.reverseParameterMap(r)},isLazy:!1,valueMap:l,replacementMask:f},M=d(m);return M.forwardParameterMap=function(e){var r=u.forwardParameterMap(e),t=r[o],a=Math.log(-t);return r[o]=a,r},M.reverseParameterMap=function(e){var r=e.slice(),t=r[o],a=-Math.exp(t);return r[o]=a,u.reverseParameterMap(r)},m=I(m,r,t,n,i)||m,(M=I(M,r,t,n,i)||M).valueMap[r]=M.chunk.Negative([M.valueMap[r]]),[g,m,M]}}}}function I(e,r,a,n,i){var s=function(e,r,a,n){var i=b(e,r,a);if(void 0===i)return;var s=i.chunk,o=i.valueMap,u=s.getInstruction(o[r]);if(u.type!==t.Add)return;var c=u.args[1],l=s.getInstruction(u.args[0]);if(l.type!==t.Multiply)return;var v=l.args,p=v[0],f=v[1],h=n.min,d=n.max,g=d-h,m=.5*(d+h),M=s.Divide([s.Subtract([f,s.Constant(m)]),s.Constant(g)]),y=s.Add([s.Multiply([p,M]),c]);function k(e){var r=i.forwardParameterMap(e),t=r[p],a=r[c],n=t*g,s=a+m*t;return r[p]=n,r[c]=s,r}function x(e){var r=e.slice(),t=e[p],a=e[c],n=t/g,s=a-n*m;return r[p]=n,r[c]=s,i.reverseParameterMap(r)}return o[r]=y,{chunk:s,forwardParameterMap:k,reverseParameterMap:x,isLazy:!1,valueMap:o,replacementMask:i.replacementMask,didShiftScale:!0}}(e,a,n,i);if(void 0!==s)return s.valueMap[r]=s.chunk.SyntheticNativeFunction("exp",[s.valueMap[a]]),s}function w(e,r,n){var i=e.chunk,s=o.polynomialOrderContext(i,n,{allowRestriction:!1,allowClosedBlockReferences:!1});if(1===o.instructionOrder(s,r)){var c=u.polynomialCoefficientContext(s),v=u.instructionCoefficients(c,r),p=v[0],f=v[1];if(void 0!==f){var d=c.newChunk.getInstruction(p);if(d.type===t.Constant&&d.valueType===a.Number){var g=c.newChunk.getInstruction(f);if(g.type===t.Constant&&g.valueType===a.Number){var m=h(e),M=m.chunk,y=m.valueMap,k=l.asFloat(d.value),x=l.asFloat(g.value);y[r]=n;var P=m.replacementMask.slice();return P[n]=!0,{chunk:M,forwardParameterMap:function(e){var r=m.forwardParameterMap(e),t=r[n],a=k+x*t;return r[n]=a,r},reverseParameterMap:function(e){var r=e.slice(),t=(r[n]-k)/x;return r[n]=t,m.reverseParameterMap(r)},isLazy:!1,valueMap:y,replacementMask:P}}}}}}function b(e,r,n){var i=e.chunk,s=e.isLazy?r:e.valueMap[r],c=o.polynomialOrderContext(i,n,{allowRestriction:!1,allowClosedBlockReferences:!0});if(1===o.instructionOrder(c,s)){e.isLazy&&(c=o.polynomialOrderContext(i.copy().reopenFinalBlock(),n,{allowRestriction:!1,allowClosedBlockReferences:!1}));var v=u.polynomialCoefficientContext(c),p=u.instructionCoefficients(v,s),f=p[0],d=p[1];if(void 0!==d){for(var g,m,M=v.newChunk,y=Math.max(d,f),k=[],x=0;x<=y;x++){if(M.getInstruction(x).type===t.LoadArg){var P=N(M.argNames.length);P[x]=!0,k.push(P)}else k.push(L(M,k,M.argNames.length,x))}for(x=0;x<i.argNames.length;x++)if(k[d][x]){if(void 0!==g)return;g=x}else if(k[f][x]){if(void 0!==m)return;m=x}if(void 0!==g&&void 0!==m){var C=o.polynomialOrderContext(M,g,{allowRestriction:!1,allowClosedBlockReferences:!1});if(1===o.instructionOrder(C,d)){var I=o.polynomialOrderContext(M,m,{allowRestriction:!1,allowClosedBlockReferences:!1});if(1===o.instructionOrder(I,f)){var w=u.polynomialCoefficientContext(C),b=u.polynomialCoefficientContext(I),F=u.instructionCoefficients(w,d),S=F[0],A=F[1],z=w.newChunk.getInstruction(S);if(z.type===t.Constant&&z.valueType===a.Number){var R=w.newChunk.getInstruction(A);if(R.type===t.Constant&&R.valueType===a.Number){var O=h(e),T=O.chunk,B=O.valueMap,D=T.Add([T.Multiply([g,n]),m]);B[r]=D;var E=M.copy();E.List([d,f]);var _=E.close().getCompiledFunction().fn,j=l.asFloat(z.value),q=l.asFloat(R.value),V=u.instructionCoefficients(b,f),W=V[0],G=V[1],H=b.newChunk.copy();H.List([W,G]);var J=H.close().getCompiledFunction().fn,K=O.replacementMask.slice();return K[g]=!0,K[m]=!0,{chunk:T,forwardParameterMap:function(e){var r=O.forwardParameterMap(e),t=_.apply(null,r),a=t[0],n=t[1];return r[g]=a,r[m]=n,r},reverseParameterMap:function(e){var r=e.slice(),t=e[g],a=e[m],n=(t-j)/q,i=e.slice();i[g]=n,i.splice(m,1);var s=J.apply(null,i),o=(a-s[0])/s[1];return r[g]=n,r[m]=o,O.reverseParameterMap(r)},isLazy:!1,valueMap:B,replacementMask:K}}}}}}}}}function L(e,r,t,a){var i=e.getInstruction(a),s=N(t);if(n.isLeafInstruction(i))return s;for(var o=0,u=i.args;o<u.length;o++)for(var c=r[u[o]],l=0;l<c.length;l++)s[l]=s[l]||c[l];return s}function N(e){for(var r=[],t=0;t<e;t++)r.push(!1);return r}function F(e){for(var r=[],t=0;t<e;t++)r.push(t);return r}function S(e){return e.type===t.NativeFunction&&("sin"===e.symbol||"cos"===e.symbol)}Object.defineProperty(e,"__esModule",{value:!0}),e.reparameterizeRegression=void 0,e.reparameterizeRegression=function(e){var r=e.getInstruction(e.returnIndex);if(r.type===t.BroadcastResult){var o=r.args[0],u=e.returnIndex-o,c=e.getInstruction(o);if(2===c.args.length){var l=c.args[0],f=c.args[u],h=[],d=[];h.push(l),d.push({min:1,max:v.assertConstantListLength(e,e.returnIndex,"Programming error: cannot optimize regression on non-constant-length list"),length:v.assertConstantListLength(e,e.returnIndex,"Programming error: cannot optimize regression on non-constant-length list")});for(var k=!1,w=!1,b=l+1;b<=f;b++){if((D=e.getInstruction(b)).type===t.ListAccess||D.type===t.InboundsListAccess||D.type===t.DeferredListAccess){if(D.args[1]!==l)continue;var F=D.args[0];if(e.getInstruction(F).valueType!==a.ListOfNumber)continue;if(!i.isConstant(e.getInstruction(F)))continue;var A=g(s.asValue(e,F));if(!isFinite(A.min)||!isFinite(A.max))continue;h.push(b),d.push(A)}else if(D.type===t.NativeFunction)"exp"===D.symbol?w=!0:S(D)&&(k=!0);else if(D.type===t.Exponent||D.type===t.RawExponent)w=!0;else if(n.beginsBlock(D)||n.endsBlock(D))return}if(0!==h.length&&(w||k)){var z=[];for(b=0;b<=f;b++){if(-1!==(ie=h.indexOf(b)))(O=N(h.length))[ie]=!0,z.push(O);else z.push(L(e,z,h.length,b))}var R=[];for(b=0;b<=e.returnIndex;b++){var O;if((D=e.getInstruction(b)).type===t.LoadArg)(O=N(e.argNames.length))[b]=!0,R.push(O);else R.push(L(e,R,e.argNames.length,b))}var T={listAccessDependencyTable:z,listAccesses:h,listStatisticsTable:d},B=void 0;for(b=l+1;b<=e.returnIndex;b++){var D;switch((D=e.getInstruction(b)).type){case t.NativeFunction:if("exp"===D.symbol){var E=D.args[0],_=M(T,E);if(void 0===_){m(e,R,B,b);break}var j=_.listStatistics,q=_.listAccessIndex;(ve=I(p(e),b,E,q,j))?B=[ve]:m(e,R,B,b)}break;case t.Exponent:case t.RawExponent:var V=D.args,W=V[0],G=M(T,V[1]);if(void 0===G||y(T,W)){m(e,R,B,b);break}var H=G.listStatistics,J=G.listAccessIndex;(ve=P(p(e),b,J,H))?B=[ve]:m(e,R,B,b);break;case t.Multiply:if(B&&B.length>1){m(e,R,B,b);break}var K=B&&B.length>0?B[0]:p(e),Q=D.args,U=Q[0],X=Q[1],Y=K.isLazy?U:K.valueMap[U],Z=K.isLazy?X:K.valueMap[X],$=K.chunk.getInstruction(Y),ee=K.chunk.getInstruction(Z),re=void 0,te=void 0,ae=void 0;if($.type===t.NativeFunction)re=U,ae=$,te=X;else{if(ee.type!==t.NativeFunction){m(e,R,B,b);break}re=X,ae=ee,te=U}var ne=M(T,re);if(void 0===ne||y(T,te)){m(e,R,B,b);break}var ie=ne.listAccessIndex,se=ne.listStatistics;if("exp"===ae.symbol){var oe=C(K,b,te,re,ie,se);if(oe){B=oe;break}}else if(S(ae)){if(ve=x(K,b,te,re,ie)){B=[ve];break}}m(e,R,B,b);break;default:m(e,R,B,b)}}if(void 0!==B&&0!==B.length){for(var ue=[],ce=0,le=B;ce<le.length;ce++){var ve=le[ce];ue.push({chunk:ve.chunk.close(),forwardParameterMap:ve.forwardParameterMap,reverseParameterMap:ve.reverseParameterMap})}return ue}}}}}});\ndefine(\'core/math/parsenode-from-value\',["require","exports","parsenodes","core/math/types"],function(require,e,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseNodeFromValue=void 0,e.parseNodeFromValue=function e(t,s){switch(t){case o.Number:case o.Bool:return r.Constant(s);case o.SeedType:return r.Seed(s);case o.Point:return r.ParenSeq([e(o.Number,s[0]),e(o.Number,s[1])]);case o.RGBColor:return r.FunctionCall("rgb",[e(o.Number,s[0]),e(o.Number,s[1]),e(o.Number,s[2])]);case o.EmptyList:case o.ListOfNumber:case o.ListOfBool:case o.ListOfPoint:case o.ListOfColor:case o.ListOfPolygon:case o.ErrorType:for(var n=[],a=o.elementType(t),i=0,c=s;i<c.length;i++){var u=c[i];n.push(e(a,u))}return r.List(n);case o.Polygon:return r.FunctionCall("\\\\polygon",[e(o.ListOfPoint,s)]);case o.Any:case o.Distribution:case o.ListOfAny:case o.ListOfDistribution:case o.Action:throw new Error("Programming error: cannot create parse node from valueType: "+o.repr(t));default:var l=t;throw new Error("Programming error: unexpected valueType: "+o.repr(l))}}});\ndefine(\'core/math/ir/features/optimize-regression\',["require","exports","parsenodes","core/math/builtin","core/math/parsenode/irexpression","tslib","core/math/errormsg","core/math/distance","core/lib/label","core/math/types","core/math/least-squares","./reparameterize-regression","core/math/ir/build-ir","../../parsenode-from-value"],function(require,e,r,i,n,t,a,s,o,u,l,f,p,d){"use strict";function v(e,r,i){for(var n,t,a=e.policy,s=e.frame,o=0,l=r._rhs.getDependencies();o<l.length;o++){var f=l[o];if(!i.hasOwnProperty(f)){var p=s[f];if(p&&("Assignment"===p.type&&(p=p._expression),p.buildIRExpression)){var d=p.buildIRExpression(a,s);if(!d.isError&&d.valueType===u.ListOfNumber){if(void 0!==n){n=void 0,t=void 0;break}0===d.getDependencies().length&&(n=f,t=d)}}}}var v=Object.create(s);void 0!==n&&(v[n]=void 0);var c=r._rhs.buildIRExpression(a,v),g=Object.create(v);for(var m in i)g[m]=i[m];var h=r._rhs.buildIRExpression(a,g);return t?{node:c,substituted:h,listNode:t,isValid:!0}:{node:c,substituted:h,listNode:t,isValid:!1}}function c(e,r){var i=r.getDependencies(),n=r.getCompiledFunction(i).fn;if(i.length){for(var a=r.findLinearSubset(i),s=a.every(function(e){return e}),o=[],u=0,f=i;u<f.length;u++){var p=f[u];o.push(r.takeDerivative(p).getCompiledFunction(i).fn)}if(s)return t.__assign(t.__assign({},l.tryRoundingSmallParametersToZero(n,l.optimizeLinear(n,o))),{isLinear:s});for(var d=[],v=0,c=i;v<c.length;v++){p=c[v];d.push(r.boundDomain(p))}var g={linearSubset:a,bounds:d,preferredInitialGuess:e};return t.__assign(t.__assign({},l.tryRoundingSmallParametersToZero(n,l.optimizeNonLinear(n,o,g))),{isLinear:s})}return{solution:[],MSE:l.evaluateMeanSquare(n,[]),isLinear:!0}}function g(e,i){for(var n={},t=i.getDependencies(),a=0;a<t.length;a++)n[t[a]]=r.Constant(e[a]);return n}function m(e,n,t,o,f,p){if(o.getDependencies().length)throw a.optimizationError();var d=function(e){var r=0;return e.eachElement(function(e){var i=+e.asValue();r+=i*i}),r/e.length}(o);if(!isFinite(d))throw a.optimizationError();if(n.getDependencies().length>0)return{RMSE:Math.sqrt(d)};var v=u.isList(n.valueType)?i.varp(n.asValue()):0;if(n.getDependencies().length||!isFinite(v)||v<=0||!e.isLhsSimple)return{RMSE:Math.sqrt(d)};var c=1-d/v;if(t.isValid){var g=[],m=[],h=f&&(p===L.LINLOG||p===L.LOGLOG);r.List.eachArgs([t.listNode,n],function(e){g.push(h?Math.log(+e[0].asValue()):+e[0].asValue()),m.push(+e[1].asValue())});var E=i.corr(g,m);if(s.approx(function(e,r){function i(i,n){for(var t=[],a=0;a<e.length;a++)t.push(r[a]-(i*e[a]+n));return t}var n=[function(){return e.map(function(e){return-e})},function(){return e.map(function(){return-1})}];return l.optimizeLinear(i,n)}(g,m).MSE,d,8))return{r:E,rsquared:E*E}}return{Rsquared:c}}function h(e,r){var i=e.length,n=e[0],t=r[0],a=e[i-1],o=r[i-1];if(!(isFinite(n)&&isFinite(a)&&isFinite(t)&&isFinite(o)))return!1;if(o-t==0)return!1;var u=a-n;if(0===u)return!1;for(var l=1;l<i-1;l++){var f=e[l],p=r[l],d=(o*(f-n)+t*(a-f))/u;if(!s.approx(p,d,5))return!1}return!0}Object.defineProperty(e,"__esModule",{value:!0}),e.tryOptimize=void 0,e.tryOptimize=function(e,i){try{return function(e,i){var n,t=e.policy,s=e.frame,l=e.exportFrame,f=e.lastExportFrame,p=e.priorAnalysis,d=i._lhs.buildIRExpression(t,s),c=i._rhs.buildIRExpression(t,s);if(d.isError)throw d;if(c.isError)throw c;if(d.valueType!==u.Number&&d.valueType!==u.ListOfNumber||c.valueType!==u.Number&&c.valueType!==u.ListOfNumber)throw a.regressionTypeError([u.prettyPrint(d.valueType),u.prettyPrint(c.valueType)]);var g=i._difference.buildIRExpression(t,s,{wrapInList:!0});if(g.isError)throw g;for(var N=0,b=g.getDependencies();N<b.length;N++){var y=b[N];if(!t.validRegressionParameter(y))throw a.invalidRegressionParameter(y)}var R,_=function(e,r,i){var n=[];r||(r={});i||(i={});for(var t=0,a=e;t<a.length;t++){var s=a[t],u=o.identifierToLatex(s);i[s]&&isFinite(i[s].asValue())?n.push(+i[s].asValue()):r.hasOwnProperty(u)&&isFinite(+r[u])?n.push(+r[u]):n.push(1)}return n}(g.getDependencies(),i.userData.regressionParameters,f),D=O(_,g),I=D.parameters,x=D.isLinear,M=D.parameterWarning,w={policy:t,frame:s},V=v(w,i,I),T=E(w,i._difference,I),F=function(e,i,n){if(!e.isLhsSimple)return L.NONE;if(!n.isValid)return L.NONE;var t=n.substituted;if(t.isError)return L.NONE;if(t.valueType!==u.Number)return L.NONE;var a=t.getDependencies();if(1!==a.length)return L.NONE;if(isFinite(n.node.polynomialOrder(a[0])))return L.NONE;var s=t.getCompiledFunction(a).fn,o=n.listNode;if(t.valueType!==u.Number)return L.NONE;var l=o.mapElements(function(e){return+e.asValue()});if(l.length<3)return L.NONE;l.sort(function(e,r){return e-r});var f=l.map(s),p=f.map(Math.log),d=l.map(Math.log),v=!0;return r.List.wrap(i).eachElement(function(e){isFinite(Math.log(+e.asValue()))||(v=!1)}),h(l,p)&&v?L.LOGLIN:h(d,p)&&v?L.LOGLOG:h(d,f)?L.LINLOG:L.NONE}(i,d,V);if(!i.userData.isLogModeRegression||F!==L.LOGLIN&&F!==L.LOGLOG)R=m(i,d,V,T,i.userData.isLogModeRegression,F);else{var S=i._logDifference.buildIRExpression(t,s,{wrapInList:!0});if(S.isError)throw S;var G=i._logLhs.buildIRExpression(t,s,{wrapInList:!0});if(G.isError)throw G;I=(n=O(_,S)).parameters,x=n.isLinear,M=n.parameterWarning,V=v(w,i,I),T=E(w,i._difference,I),R=m(i,G,V,E(w,i._logDifference,I),i.userData.isLogModeRegression,F)}var P=function(e,r){if(e.userData&&e.userData.residualVariable){var i=o.latexToIdentifier(e.userData.residualVariable);if(!r[i])return i}for(var n,t=e.getDependencies(),a=0,s=t;a<s.length;a++){var u=s[a].match(/_(.*)/);if(u&&!r[n="e_"+u[1]])return n}var l=1;for(;;){if(!r[n="e_"+l])return n;l++}}(i,l),z=function(e,r,i){var n,t=e._rhs.getDependencies();for(var a in i)if(i.hasOwnProperty(a)){var s=i[a].concreteTree;if(s.isTable&&s.columns[0]){var o=i[a].rawTree.columns;if(o&&o.length){var u=o[0].getExports();if(1===u.length&&-1!==t.indexOf(u[0])){for(var l=1;l<o.length;l++)if(-1!==o[l].getDependencies().indexOf(r))return;n=n||a}}}}return n||void 0}(i,P,p);return i.userData.residualVariable=o.identifierToLatex(P),r.OptimizedRegression(I,T,R,V.substituted,{isModelValid:V.isValid,residualVariable:P,residualSuggestionId:z,shouldSuggestLogMode:F!==L.NONE,isLinear:x,parameterWarning:M})}(e,i)}catch(e){return e instanceof r.Error?e:a.parseError()}};var L={NONE:0,LOGLIN:1,LOGLOG:2,LINLOG:3};function E(e,r,i){var n=e.policy,t=e.frame,a=Object.create(t);for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s]);var o=p.buildIR({policy:n,frame:a,wrapInList:!0},r);return d.parseNodeFromValue(o.getReturnType(),o.asCompilerValue())}function O(e,r){var i,t,a=r._chunk;if(a&&(t=f.reparameterizeRegression(a)),!t||0===t.length)return{parameters:g((i=c(e,r=r.deriveRegressionRestrictions())).solution,r),isLinear:i.isLinear,parameterWarning:!1};for(var s=r.getDependencies(),o=r.getCompiledFunction(s).fn,u=1/0,p={},d=!1,v=0,m=t;v<m.length;v++){var h=m[v],L=new n(h.chunk);if(L=L.deriveRegressionRestrictions(),(i=c(h.forwardParameterMap(e),L)).MSE<u){var E=h.reverseParameterMap(i.solution),O=l.evaluateMeanSquare(o,E);if(p&&(!isFinite(O)||O>=u)){isFinite(O)||(d=!0);continue}u=i.MSE,p=g(E,r)}}return{parameters:p,isLinear:!1,parameterWarning:d}}});\ndefine(\'core/math/features/analyze\',[\'require\',\'underscore\',\'parsenodes\',\'core/math/statementanalysis\',\'core/math/builtin\',\'core/math/builtinframe\',\'core/math/errormsg\',\'core/math/comparators\',\'core/math/types\',\'core/types/graphmode\',\'core/math/expression-types\',\'core/math/distribution-spec\',\'core/math/workerconfig\',\'core/math/ir/features/solve\',\'core/math/ir/features/optimize-regression\',\'core/math/ir/dependencies\'],function(require){"use strict";var e=require("underscore"),t=require("parsenodes"),i=require("core/math/statementanalysis"),r=require("core/math/builtin"),n=require("core/math/builtinframe"),a=require("core/math/errormsg"),s=require("core/math/comparators"),o=require("core/math/types"),l=require("core/types/graphmode"),c=require("core/math/expression-types").ExpressionType,u=require("core/math/distribution-spec").DistributionParameterDefaultsMap,h=require("core/math/workerconfig"),p=require("core/math/ir/features/solve").trySolve,d=require("core/math/ir/features/optimize-regression").tryOptimize,y=require("core/math/ir/dependencies").getFreeDependencies;function v(e,t,r,n){if(n.isError)return i(e,r,n);var s=n.getDependencies();switch(n.valueType){case o.Distribution:case o.ListOfDistribution:case o.EmptyList:return i(e,r,n);case o.RGBColor:case o.ListOfColor:case o.Action:case o.Polygon:case o.ListOfPolygon:return s.length?i(e,r,a.tooManyVariables(r.getSliderVariables(e,n)).setDependencies(s)):i(e,r,n);case o.Point:case o.ListOfPoint:if(s.length){if(!e.validParametricVariables(s)){var l=r.getSliderVariables(e,n);return i(e,r,a.tooManyVariables(l).setDependencies(l))}return i(e,r,n)}return i(e,r,n);case o.Number:case o.ListOfNumber:return 0===s.length?i(e,r,n):s.length<=e.dimensions()-1?e.validExpressionVariables(s)?i(e,r,n):i(e,r,a.equationRequired(e.implicitDependency(s)).setDependencies(s)):e.validImplicitVariables(s)?i(e,r,a.equationRequired().setDependencies(s)):i(e,r,a.tooManyVariables(r.getSliderVariables(e,n)).setDependencies(s));default:return i(e,r,a.parseError())}}function f(e){return t.FunctionCall("pdf",[e,t.Identifier("x")])}function g(e,t){var r=this.tryGetConcreteTree(e,t),n=r.getDependencies();return n.length?i(e,this,a.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(n)):i(e,this,this.tryGetConcreteTree(e,t))}function b(e){return function(t,r){var n=this.tryGetConcreteTree(t,r),s=n.getDependencies();if(s.length)return i(t,this,a.tooManyVariables(this.getSliderVariables(t,n)).setDependencies(s));var o=i(t,this,this.tryGetConcreteTree(t,r));if(!n.isError){o.evaluationState.expression_type=c.TTEST;var l=n.args.map(function(e){return e.asValue()});o.evaluationState.ttest_results=e.apply(null,l)}return o}}function m(e,t){return e.filter(function(e){return!t[e]})}t.Base.prototype.analyze=function(e,t){return i(e,this,this.tryGetConcreteTree(e,t))},t.FunctionCall.prototype.analyze=function(e,t){return v(e,0,this,u[this._symbol]&&0===y(t,this).length?f(this).tryGetConcreteTree(e,t):this.tryGetConcreteTree(e,t))},t.Expression.prototype.analyze=function(e,t){return v(e,0,this,this.tryGetConcreteTree(e,t))},t.FunctionDefinition.prototype.analyze=function(e,t){if(n[this._symbol])return this.asEquation().analyze(e,t);var r=this._symbol.split("_")[0];if(n[r]&&n[r].isFunction)return i(e,this,a.cannotRedefine(this._symbol,r));var s=this.tryGetConcreteTree(e,t);if(s.isError)return i(e,this,s);var o=this._argSymbols,l=s.getDependencies();if(-1!==l.indexOf(this._symbol))return i(e,this,a.selfReferentialFunction(this._symbol));var c=l.filter(function(e){return-1===o.indexOf(e)});if(e.unplottablePolarFunction(this._symbol,l))return i(e,this,a.unplottablePolarFunction());if(c.some(e.assignmentForbidden))return i(e,this,a.addArgumentsToDefinition(c,this._symbol,o).setDependencies(l));if(c.length){var u=this.getSliderVariables(e,s);return i(e,this,a.tooManyVariables(u).setDependencies(u))}return i(e,this,s)},t.Assignment.prototype.analyze=function(e,r,s){var l,c=this._symbol;if(!e.validLHS(c))return i(e,this,a.invalidLHS(c));if(n[c])return this.asEquation().analyze(e,r);if(this._expression instanceof t.FunctionCall&&u[this._expression._symbol]&&0===y(r,this).length)l=f(this._expression).tryGetConcreteTree(e,r);else{var h=Object.create(r);h[c]=e.validSolvedVariable(c)?void 0:a.invalidImplicitVariables(),l=this.tryGetConcreteTree(e,h)}if(l.isError)return i(e,this,l);var p=l.getDependencies();if(this.isEquation(l))return this.asEquation().analyze(e,r);var d=l.valueType===o.RGBColor||l.valueType===o.ListOfColor;if(p.length>1||d&&p.length){var v=this.getSliderVariables(e,l);return d||v.length?i(e,this,a.tooManyVariables(v).allowExport().setDependencies(v)):i(e,this,l)}var g=this.getMoveStrategy(e,r,l,s,this.userData);if(g){var b=this.getDefaultDragMode(g);return i(e,this,t.MovablePoint([l.elementAt(0),l.elementAt(1)],g,b))}return i(e,this,l)},t.Regression.prototype.analyze=function(e,t,r,n,a){return i(e,this,d({policy:e,frame:t,exportFrame:r,lastExportFrame:n,priorAnalysis:a},this))},t.Histogram.prototype.analyze=g,t.Object3D.prototype.analyze=g,t.DotPlot.prototype.analyze=g,t.BoxPlot.prototype.analyze=g,t.TTest.prototype.analyze=b(r.ttest),t.IndependentTTest.prototype.analyze=b(r.ittest),t.Stats.prototype.analyze=function(e,t){var n=this.tryGetConcreteTree(e,t),s=n.getDependencies();if(s.length)return i(e,this,a.tooManyVariables(this.getSliderVariables(e,n)).setDependencies(s));var o=i(e,this,this.tryGetConcreteTree(e,t));if(!n.isError){o.evaluationState.expression_type=c.STATS;var l=n.args.map(function(e){return e.asValue()});o.evaluationState.stats_results=r.stats.apply(null,l)}return o},t.Equation.prototype.analyze=t.BaseComparator.prototype.analyze=function(e,r){var n="="!==this.getOperator();if(!h.plotInequalities&&n)return i(e,this,a.inequalitiesDisabled());var s=p({policy:e,frame:r},this.asComparator());if(s.isError)return i(e,this,s);if(s instanceof t.SolvedEquation&&s.getDependencies().length){var o=s.getDependencies().concat(s._symbol);if(!e.validImplicitVariables(o))return i(e,this,a.invalidImplicitVariables().setDependencies(o))}return this.getGraphMode(e,s)!==l.IMPLICIT||e.validImplicitVariables(s.getDependencies())?i(e,this,s):i(e,this,a.invalidImplicitVariables().setDependencies(s.getDependencies()))},t.DoubleInequality.prototype.analyze=function(e,t){if(!h.plotInequalities)return i(e,this,a.inequalitiesDisabled());var r=this.tryGetConcreteTree(e,t);if(r.isError)return i(e,this,r);var n=r.getDependencies();return s.table[this._operators[0]].direction!==s.table[this._operators[1]].direction?i(e,this,a.mismatchedDoubleInequality()):e.validDoubleInequalitySymbol(r._symbol)&&e.validDoubleInequalityVariables(n)?n.length>2?i(e,this,a.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(n)):-1!==r._expressions[0].getDependencies().indexOf(r._symbol)||-1!==r._expressions[1].getDependencies().indexOf(r._symbol)?i(e,this,a.complicatedDoubleInequality().setDependencies(n)):i(e,this,r):i(e,this,a.invalidDoubleInequalityVariables().setDependencies(n))},t.And.prototype.analyze=function(e,t){var r=this.tryGetConcreteTree(e,t);if(r.isError)return i(e,this,r);var n=r.getDependencies();return n.length?e.validDoubleInequalityVariables(n)?i(e,this,a.complicatedDoubleInequality().setDependencies(n)):i(e,this,a.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(n)):i(e,this,r)},t.ParenSeq.prototype.analyze=function(e,r,n){var a=this.tryGetConcreteTree(e,r);if(a.isError)return i(e,this,a);var s=this.getMoveStrategy(e,r,a,n,this.userData);if(s){var o=this.getDefaultDragMode(s),l=a.asCompilerValue(),c=[t.Constant(l[0]),t.Constant(l[1])];return i(e,this,t.MovablePoint(c,s,o))}return v(e,0,this,a)},t.Table.prototype.analyze=function(e,r){for(var n=Object.create(r),s=Object.create(n),o=[],l=function(e){for(var i={},r=0;r<e.length;r++){var n=e[r];if(n.header instanceof t.Identifier){var a=n.header._symbol;void 0===i[a]&&(i[a]=0),i[a]+=1}}return i}(this.columns),c=0;c<this.columns.length;c++){var u=this.columns[c];if(u.header instanceof t.Identifier){var h=u.header._symbol,p=n[h],d=l[h]>1;p&&p.isError&&(p.isTableCycleWithoutGlobalDefinition||p.isMultiplyDefinedByTables&&!d)&&(n[h]=void 0)}var y=u.analyze(e,n,s);if(0===c)if(y.concreteTree.isIndependent){var v=y.concreteTree.getDependencies()[0];e.validFirstColumnVariable(v)?s[v]=void 0:y=i(e,u,a.invalidFirstTableColumn())}else y=i(e,u,a.invalidDependentFirstTableColumn());if(y.concreteTree.isIndependent)y.rawTree.exportToLocal(y.concreteTree,n);else if(!y.concreteTree.isError){var f=m(y.concreteTree.header.getDependencies(),n);f.length&&(y=i(e,u,a.tooManyVariables(f).setDependencies(f)))}o.push(y.concreteTree)}var g=t.Table(o),b=i(e,this,g);return b.evaluationState.is_graphable=!0,b},t.TableColumn.prototype.analyze=function(e,t,r){var n=this.header.tableError();if(n)return i(e,this,a.invalidTableHeader(n));var s=this.tryGetConcreteTree(e,t,r);if(s.isError)return i(e,this,s);if(s.header.isError)return i(e,this,s.header);if(s.values.isError)return i(e,this,s.values);for(var o=0;o<s.values.length;o++)if(!s.values[o].isError){var l=this.values[o]&&this.values[o].tableError();if(l)s.values[o]=a.invalidTableEntry(l);else{var c=s.values[o].getDependencies();c.length&&(s.values[o]=a.tooManyVariables(c).setDependencies(c))}}return i(e,this,s)},t.Image.prototype.analyze=function(e,r,n){var s=this.tryGetConcreteTree(e,r);if(s.radianAngle.isError||s.center.isError||s.width.isError||s.height.isError||s.opacity.isError)return i(e,this,s);var o=s.center.getDependencies(),l=s.radianAngle.getDependencies(),c=s.width.getDependencies(),u=s.height.getDependencies(),h=s.opacity.getDependencies();return o.length||l.length||c.length||u.length||h.length?i(e,this,t.Image({center:o.length?a.tooManyVariables(l).setDependencies(o):s.center,radianAngle:l.length?a.tooManyVariables(l).setDependencies(l):s.radianAngle,width:c.length?a.tooManyVariables(c).setDependencies(c):s.width,height:u.length?a.tooManyVariables(u).setDependencies(u):s.height,opacity:h.length?a.tooManyVariables(h).setDependencies(h):s.opacity})):(s.moveStrategy=this.getMoveStrategy(e,r,s,n,this.userData),i(e,this,s))},t.Slider.prototype.analyze=function(t,r){var n,s=this.tryGetConcreteTree(t,r),o=s.sliderInfo;if(o.missingVars.length){var l=e.unique(o.missingVars);n=i(t,this,a.tooManyVariables(t.sliderVariables(l)).setDependencies(l).allowExport())}else n=i(t,this,s);var c=n.evaluationState;if(h.sliders){c.assignment=o.exportedSymbol,c.slider_min_number=o.values.min,c.slider_max_number=o.values.max,c.slider_step_number=o.values.step,c.slider_min_valid=o.valids.min,c.slider_max_valid=o.valids.max,c.slider_step_valid=o.valids.step;var u=c.slider_min_valid&&c.slider_max_valid&&c.slider_step_valid;c.is_slider=!0,c.raw_slider_latex=this.getInputString(),c.is_slidable=u,c.is_animatable=c.is_slidable&&!c.is_graphable,o.errMsg&&(c.error=o.errMsg.getError())}return delete c.is_evaluable,delete c.zero_values,n}});\ndefine(\'core/math/features/analyzeFourFunction\',[\'require\',\'parsenodes\',\'core/math/statementanalysis\',\'core/math/errormsg\',\'core/math/builtinframe\'],function(require){"use strict";var n=require("parsenodes"),t=require("core/math/statementanalysis"),e=require("core/math/errormsg"),r=require("core/math/builtinframe");function o(n,r){return t(n,this,e.inequalitiesUnsupported())}n.Base.prototype.analyzeFourFunction=function(n,r){var o=this.tryGetConcreteTree(n,r);return o.isError?t(n,this,o):t(n,this,e.parseError())},n.Expression.prototype.analyzeFourFunction=function(n,o){var i=this.tryGetConcreteTree(n,o);if(i.isError)return t(n,this,i);var u=i.getDependencies();if(u.length>0){var s,a=u[0],p=r[a];return s=p?p.isFunction?e.functionUnsupported(a):e.constantUnsupported(a):e.variablesUnsupported(a),t(n,this,s)}return t(n,this,i)},n.Assignment.prototype.analyzeFourFunction=function(n,r){return t(n,this,e.assignmentsUnsupported())},n.FunctionDefinition.prototype.analyzeFourFunction=function(n,r){return t(n,this,e.functionDefinitionsUnsupported())},n.Equation.prototype.analyzeFourFunction=function(n,r){return t(n,this,e.equationsUnsupported())},n.And.prototype.analyzeFourFunction=o,n.DoubleInequality.prototype.analyzeFourFunction=o,n.BaseComparator.prototype.analyzeFourFunction=o,n.Regression.prototype.analyzeFourFunction=function(n,r){return t(n,this,e.regressionsUnsupported())},n.ParenSeq.prototype.analyzeFourFunction=function(n,r){return t(n,this,e.pointsUnsupported())}});\ndefine(\'core/math/features/analyzeScientific\',[\'require\',\'parsenodes\',\'core/math/statementanalysis\',\'core/math/errormsg\',\'core/math/builtinframe\'],function(require){"use strict";var t=require("parsenodes"),e=require("core/math/statementanalysis"),i=require("core/math/errormsg"),n=require("core/math/builtinframe");function r(t,n){return e(t,this,i.inequalitiesUnsupported())}t.Base.prototype.analyzeScientific=function(t,n){var r=this.tryGetConcreteTree(t,n);return r.isError?e(t,this,r):e(t,this,i.parseError())},t.Expression.prototype.analyzeScientific=function(t,n){var r=this.tryGetConcreteTree(t,n);if(r.isError)return e(t,this,r);var s=r.getDependencies();return s.length>0?e(t,this,i.tooManyVariables(s)):e(t,this,r)},t.Assignment.prototype.analyzeScientific=function(t,r){var s=this._symbol;if(n[s])return e(t,this,i.cannotRedefine(s));var o=Object.create(r);o[s]=i.equationsUnsupported();var a=this.tryGetConcreteTree(t,o);if(a.isError)return e(t,this,a);var c=a.getDependencies();return this.isEquation(a)?e(t,this,i.equationsUnsupported()):c.length>0?e(t,this,i.tooManyVariables(c)):e(t,this,a)},t.FunctionDefinition.prototype.analyzeScientific=function(t,r){if(n[this._symbol])return e(t,this,i.cannotRedefine(this._symbol));var s=this.tryGetConcreteTree(t,r);if(s.isError)return e(t,this,s);var o=this._argSymbols,a=s.getDependencies();if(-1!==a.indexOf(this._symbol))return e(t,this,i.selfReferentialFunction(this._symbol));var c=a.filter(function(t){return-1===o.indexOf(t)});return c.length?e(t,this,i.addArgumentsToDefinition(c,this._symbol,o)):e(t,this,s)},t.Equation.prototype.analyzeScientific=function(t,n){return e(t,this,i.equationsUnsupported())},t.And.prototype.analyzeScientific=r,t.DoubleInequality.prototype.analyzeScientific=r,t.BaseComparator.prototype.analyzeScientific=r,t.Regression.prototype.analyzeScientific=function(t,n){return e(t,this,i.regressionsUnsupported())},t.ParenSeq.prototype.analyzeScientific=function(t,n){return e(t,this,i.pointsUnsupported())}});\ndefine(\'core/math/features/analyzeSingleExpressionScientific\',[\'require\',\'parsenodes\',\'core/math/statementanalysis\',\'core/math/errormsg\',\'core/math/builtinframe\'],function(require){"use strict";var e=require("parsenodes"),n=require("core/math/statementanalysis"),i=require("core/math/errormsg"),t=require("core/math/builtinframe");function r(e,t){return n(e,this,i.inequalitiesUnsupported())}e.Base.prototype.analyzeSingleExpressionScientific=function(e,t){var r=this.tryGetConcreteTree(e,t);return r.isError?n(e,this,r):n(e,this,i.parseError())},e.Expression.prototype.analyzeSingleExpressionScientific=function(e,r){var s=this.tryGetConcreteTree(e,r);if(s.isError)return n(e,this,s);var o=s.getDependencies();if(o.length>0){var p,a=o[0],c=t[a];return p=c?c.isFunction?i.functionUnsupported(a):i.constantUnsupported(a):i.variablesUnsupported(a),n(e,this,p)}return n(e,this,s)},e.Assignment.prototype.analyzeSingleExpressionScientific=function(e,t){return n(e,this,i.assignmentsUnsupported())},e.FunctionDefinition.prototype.analyzeSingleExpressionScientific=function(e,t){return n(e,this,i.functionDefinitionsUnsupported())},e.Equation.prototype.analyzeSingleExpressionScientific=function(e,t){return n(e,this,i.equationsUnsupported())},e.And.prototype.analyzeSingleExpressionScientific=r,e.DoubleInequality.prototype.analyzeSingleExpressionScientific=r,e.BaseComparator.prototype.analyzeSingleExpressionScientific=r,e.Regression.prototype.analyzeSingleExpressionScientific=function(e,t){return n(e,this,i.regressionsUnsupported())},e.ParenSeq.prototype.analyzeSingleExpressionScientific=function(e,t){return n(e,this,i.pointsUnsupported())}});\ndefine(\'core/lib/dragmode\',["require","exports"],function(require,e){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.reconcileDragMode=e.DragMode=void 0,function(e){e.NONE="NONE",e.X="X",e.Y="Y",e.XY="XY",e.AUTO="AUTO"}(r=e.DragMode||(e.DragMode={})),e.reconcileDragMode=function(e,n){var t=function(e){return e?"none"===e[0].type&&"none"===e[1].type?r.NONE:"none"===e[1].type?r.X:"none"===e[0].type?r.Y:r.XY:r.NONE}(n);switch(e){case r.NONE:return r.NONE;case r.AUTO:case r.XY:return t;case r.X:return t===r.X||t===r.XY?r.X:r.NONE;case r.Y:return t===r.Y||t===r.XY?r.Y:r.NONE;default:return r.NONE}}});\ndefine(\'core/math/features/getgraphmode\',[\'require\',\'parsenodes\',\'core/types/graphmode\',\'core/lib/dragmode\',\'core/lib/dragmode\',\'core/math/types\'],function(require){"use strict";var e=require("parsenodes"),t=require("core/types/graphmode"),r=require("core/lib/dragmode").reconcileDragMode,o=require("core/lib/dragmode").DragMode,n=require("core/math/types");function s(e,s){if(s.isMovablePoint&&function(e,t){var n;return n=e&&e.hasOwnProperty("dragMode")?e.dragMode===o.AUTO?t.defaultDragMode:e.dragMode:t.defaultDragMode,r(n,t.moveStrategy)}(this.userData,s)!==o.NONE)return t.XYPOINT_MOVABLE;var i=s.getDependencies();switch(s.valueType){case n.Point:case n.ListOfPoint:return 0===i.length?t.XYPOINT:e.validParametricVariables(i)?2===e.dimensions()?t.PARAMETRIC:t.PARAMETRIC_CURVE_3D:t.NONE;case n.Number:case n.ListOfNumber:return 2===e.dimensions()&&1===i.length?t.Y:3===e.dimensions()&&2===i.length?t.Z_3D:t.NONE;case n.Polygon:case n.ListOfPolygon:return t.POLYGON;default:return t.NONE}}function i(e,r){var o=r._expression.getDependencies();if(o.length>1)return t.NONE;if(r._expression.isList&&0===r._expression.length)return t.NONE;var n=r._symbol;return e.graphMode(n,o)}function a(e,r){return r.isError?t.NONE:t.VISUALIZATION}e.Base.prototype.getGraphMode=function(e,r){return t.NONE},e.Expression.prototype.getGraphMode=s,e.Equation.prototype.getGraphMode=e.BaseComparator.prototype.getGraphMode=function(r,o){var n=o.getDependencies();return o.isConstant?t.NONE:o instanceof e.SolvedEquation?0===n.length?r.graphableAsConstant(o._symbol)?r.constantGraphMode(o._symbol):t.NONE:i(r,o):1===n.length||2===n.length?t.IMPLICIT:t.NONE},e.DoubleInequality.prototype.getGraphMode=function(e,t){return e.constantGraphMode(t._symbol)},e.Assignment.prototype.getGraphMode=function(r,o){if(o instanceof e.SolvedEquation)return i(r,o);if(this.isEquation(o))return this.asEquation().getGraphMode(r,o);var a=o.getDependencies();switch(o.valueType){case n.Number:case n.ListOfNumber:case n.EmptyList:switch(a.length){case 0:return r.graphableAsConstant(this._symbol)?r.constantGraphMode(this._symbol):t.NONE;case 1:return o.valueType!==n.ListOfNumber||r.graphableListVariables(this._symbol,a[0])?this.isSlider?t.NONE:r.graphMode(this._symbol,a):t.NONE;case 2:return 3===r.dimensions()&&"z"===this._symbol?t.Z_3D:t.NONE;default:return t.NONE}break;default:return s.call(this,r,o)}},e.FunctionDefinition.prototype.getGraphMode=function(e,r){if(1!==this._argSymbols.length)return t.NONE;var o=e.graphMode(this._symbol,this._argSymbols),s=r.getDependencies();switch(r.valueType){case n.Number:case n.ListOfNumber:switch(s.length){case 0:return o;case 1:return s[0]!==this._argSymbols[0]?t.NONE:o;default:return t.NONE}break;default:return t.NONE}},e.Regression.prototype.getGraphMode=function(e,r){return this.isLhsSimple&&r.isModelValid?1!==r.model.getDependencies().length?t.NONE:t.Y:t.NONE},e.Object3D.prototype.getGraphMode=function(e,r){return r.isError?t.NONE:t.OBJECT3D},e.Histogram.prototype.getGraphMode=a,e.DotPlot.prototype.getGraphMode=a,e.BoxPlot.prototype.getGraphMode=a,e.Image.prototype.getGraphMode=function(e,r){return this.userData.showPoints?this.center.isError||this.radianAngle.isError||this.width.isError||this.height.isError||this.opacity.isError?t.NONE:t.XYPOINT:t.NONE}});\ndefine(\'core/lib/color-helpers\',["require","exports"],function(require,e){"use strict";function r(e){return t(e)?(e.match(/^#([A-Fa-f0-9]{3})$/g)&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),e.toLowerCase()):e}function t(e){return"string"==typeof e&&(e.match(/^#([A-Fa-f0-9]{3})$/g)||e.match(/^#([A-Fa-f0-9]{6})$/g))}Object.defineProperty(e,"__esModule",{value:!0}),e.colors=e.getDisplayColor=e.mutateOpacity=e.parseHex=e.invertColor=e.shadeColor=e.isValidHexColor=e.normalizeColor=void 0,e.normalizeColor=r,e.isValidHexColor=t,e.shadeColor=function(e,a){if(!t(e=r(e)))return e;a>1&&(a=1),a<-1&&(a=-1);var o=parseInt(e.slice(1),16),n=a<0?0:255,i=a<0?-1*a:a,l=o>>16,c=o>>8&255,s=255&o;return"#"+(16777216+65536*(Math.round((n-l)*i)+l)+256*(Math.round((n-c)*i)+c)+(Math.round((n-s)*i)+s)).toString(16).slice(1)},e.invertColor=function(e){if(!t(e=r(e)))return e;var a="0123456789abcdef";return"#"+e.slice(1).split("").map(function(e){return a[15-a.indexOf(e)]}).join("")},e.parseHex=function(e){if(3===(e=e.replace(/#/,"")).length)var r=parseInt(e.slice(0,1)+e.slice(0,1),16),t=parseInt(e.slice(1,2)+e.slice(1,2),16),a=parseInt(e.slice(2,3)+e.slice(2,3),16);else if(6===e.length)r=parseInt(e.slice(0,2),16),t=parseInt(e.slice(2,4),16),a=parseInt(e.slice(4,6),16);else r=0,t=0,a=0;return{r:r,g:t,b:a}},e.mutateOpacity=function(e,r){var t=/(rgba\\([\\d]+\\,\\ ?[\\d]+\\,\\ ?[\\d]+\\,\\ ?)[\\d.]+(\\))/;return e.match(t)?e.replace(t,"$1"+r+"$2"):e},e.getDisplayColor=function(e,r){if(r&&r.colorLatexValue){var t=r.colorLatexValue;return Array.isArray(t)?t[0]:t}return e.color},e.colors={RED:"#c74440",BLUE:"#2d70b3",GREEN:"#388c46",PURPLE:"#6042a6",ORANGE:"#fa7e19",BLACK:"#000000",GRAY:"#aaaaaa"}});\ndefine(\'core/math/features/getgraphinfo\',[\'require\',\'parsenodes\',\'core/math/domaintypes\',\'core/math/types\',\'core/lib/color-helpers\'],function(require){"use strict";var e=require("parsenodes"),t=require("core/math/domaintypes"),n=require("core/math/types"),a=require("core/lib/color-helpers").getDisplayColor;function r(e){switch(e.valueType){case n.Number:return o(e);case n.Point:var t=o(e.elementAt(0)),a=o(e.elementAt(1));if(!t||!a)return;return[t,a];default:return}}function o(e){var t=e.getDependencies();switch(t.length){case 0:return[+e.asValue(),0];case 1:if(e.polynomialOrder(t[0])>1)return;var n=e.getPolynomialCoefficients(t[0]);return[n[0]?+n[0].asValue():0,n[1]?+n[1].asValue():0];default:return}}e.Base.prototype.getGraphInfo=function(e,n){var o,i,s=n.getDependencies();switch(s.length){case 0:o=r(n),i=n.boundDomain("x");break;case 1:"known"===(i=n.boundDomain(s[0])).type&&(o=r(n));break;case 2:i=t.unknownDomain()}return{graphMode:this.getGraphMode(e,n),color:a(this.userData,this.metaData),pointStyle:this.userData.pointStyle,lineStyle:this.userData.lineStyle,operator:this.getOperator(),isLinear:!!o,linearCoefficients:o,domainBound:i}}});\ndefine(\'core/math/features/getMoveStrategy\',["require","exports","parsenodes","core/math/types","core/math/maybe-rational","core/math/functions"],function(require,e,t,n,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t.Constant(i.maybeRational(0,1));function o(e,t,n,i,r){return{type:"updateSliderNonlinear",inputString:e,id:t,initialValue:n.constant_value,min:n.slider_min_number,max:n.slider_max_number,compiled:i,hasLinearComponent:r}}function s(e,t,n,i,r,o){for(var s=t.getDependencies(),p=0,u=s;p<u.length;p++){if(r[u[p]])return}for(var c=s.length-1;c>=0;c--){var d=s[c];if(!o[d]){var f=i[d];if(void 0!==f){var l=n[d];if(1===l.order){var g=l.tree.getPolynomialCoefficients(d),y=g[1]||a,v=g[0]||a;if(v.isConstant&&y.isConstant)if(isFinite(v.asValue())&&isFinite(y.asValue()))if(0!==y.asValue())return{symbol:d,id:f,coefficients:[-v.asValue()/y.asValue(),1/y.asValue()]}}}}}}function p(e,t){var n=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}(e),i={};for(var r in t){var a=t[r].evaluationState.assignment;t[r].evaluationState.is_slidable&&n[a]&&(i[a]=r)}return i}function u(e,t,n,i){for(var r=[],a=0;a<n.length;a++){var o=n[a],s={};r.push(s);for(var p=0;p<i.length;p++){var u=i[p],c=Object.create(t);c[u]=void 0;var d=o.tryGetConcreteTree(e,c);d.isError?s[u]={tree:d,order:1/0}:s[u]={tree:d,order:d.polynomialOrder(u)}}}return r}function c(e,t,n){for(var i=0;i<e.length;i++){var r=e[i];0!==t[r].order&&(n[r]=!0)}}t.Base.prototype.getMoveStrategy=function(){},t.Assignment.prototype.getMoveStrategy=function(e,n,i,r,a){if(this._expression instanceof t.ParenSeq)return this._expression.getMoveStrategy(e,n,i,r,a)},t.ParenSeq.prototype.getMoveStrategy=function(e,t,i,a,d){if(i.valueType===n.Point&&0===i.getDependencies().length){for(var f=p(this.getDependencies(),a),l=Object.keys(f),g=this.args,y=u(e,t,g,l),v=[],h={},S={},m=0;m<2;m++){var C=g[m],b=C.getInputString();if(C.isConstant)v[m]={type:"updateCoordinate",inputString:b};else{var _=s(0,C,y[m],f,h,S);_&&(v[m]={type:"updateSlider",inputString:b,id:_.id,coefficients:_.coefficients},h[_.symbol]=!0,c(l,y[m],S)),v[m]||(v[m]={type:"none",inputString:b})}}var D,I=v[0],P=v[1];if("none"===I.type&&"updateSlider"===P.type)for(var V=0,M=g[0].getDependencies();V<M.length;V++){f[x=M[V]]===P.id&&(D=x)}else if("updateSlider"===I.type&&"none"===P.type)for(var O=0,j=g[1].getDependencies();O<j.length;O++){var x;f[x=j[O]]===I.id&&(D=x)}else"none"===I.type&&"none"===P.type&&1===l.length&&(D=l[0]);if(!D)return"none"!==I.type||"none"!==P.type?v:void 0;var q,F=f[D];try{var T=Object.create(t);T[D]=void 0,q=this.getConcreteTree(e,T).getCompiledFunction()}catch(e){return}return r.dehydrateCompiledFunction(q),[o(g[0].getInputString(),F,a[F].evaluationState,q,"updateSlider"===I.type||"updateSlider"===P.type),{type:"none",inputString:g[1].getInputString()}]}},t.Image.prototype.getMoveStrategy=function(e,t,i,r,a){if(i.center.valueType===n.Point&&0===i.center.getDependencies().length&&i.width.isConstant&&i.height.isConstant&&i.radianAngle.isConstant&&i.opacity.isConstant){var o=p(this.getDependencies(),r),d=Object.keys(o),f=[this.width,this.height];"ParenSeq"===this.center.type?f.push(this.center.args[0],this.center.args[1]):"Identifier"===this.center.type&&(this.center.referencedStatementId=function(e,t){for(var n in t)if(t[n].evaluationState.assignment===e)return n}(this.center._symbol,r));for(var l={},g={},y=u(e,t,f,d),v=[],h=[2,3,0,1],S=0;S<h.length;S++){var m=h[S],C=f[m];if(C){var b=C.getInputString();if(C.isConstant)v[m]={type:"updateCoordinate",inputString:b};else{var _=s(0,C,y[m],o,l,g);_&&(v[m]={type:"updateSlider",inputString:b,id:_.id,coefficients:_.coefficients},l[_.symbol]=!0,c(d,y[m],g)),v[m]||(v[m]={type:"none",inputString:b})}}else v[m]={type:"none",inputString:""}}if("none"!==v[0].type||"none"!==v[1].type||"none"!==v[2].type||"none"!==v[3].type)return v}}});\ndefine(\'core/math/features/getDefaultDragMode\',[\'require\',\'parsenodes\',\'core/lib/dragmode\'],function(require){"use strict";var e=require("parsenodes"),t=require("core/lib/dragmode").DragMode;e.Base.prototype.getMoveStrategy=function(){return t.NONE},e.Assignment.prototype.getDefaultDragMode=function(e){return"none"!==e[0].type&&"none"!==e[1].type?t.XY:"none"!==e[0].type?t.X:"none"!==e[1].type?t.Y:t.NONE},e.ParenSeq.prototype.getDefaultDragMode=function(e){return"updateSlider"===e[0].type&&"updateSlider"===e[1].type?t.XY:"updateSlider"===e[0].type?t.X:"updateSlider"===e[1].type?t.Y:"updateSliderNonlinear"===e[0].type&&e[0].hasLinearComponent?t.X:t.NONE}});\ndefine(\'core/math/features/tableinfo\',[\'require\',\'parsenodes\',\'core/math/types\',\'core/lib/label\',\'core/math/distribution-spec\'],function(require){"use strict";var e=require("parsenodes"),t=e.List,n=require("core/math/types"),i=require("core/lib/label"),r=require("core/math/distribution-spec").getFunctionSpecFromTree;e.Base.prototype.tableInfo=function(e,t){return!1},e.Identifier.prototype.tableInfo=function(e,t){return!!e.validFirstColumnVariable(this._symbol)&&{independent_variable:this._symbol,dependent_column:this.getInputString(),by_reference:!1}},e.Expression.prototype.tableInfo=function(e,i){var o=i.getDependencies();if(r(this))return!1;switch(i.valueType){case n.Point:case n.ListOfPoint:return 0===o.length&&((!i.isMovablePoint||"updateSlider"!==i.moveStrategy[0].type&&"updateSlider"!==i.moveStrategy[1].type)&&{independent_variable:"x",dependent_column:"y",by_reference:!1,values:t.wrap(i).asValue()});case n.Number:if(1!==o.length)return!1;var a=o[0];return!!e.validFirstColumnVariable(a)&&{independent_variable:a,dependent_column:this.getInputString(),by_reference:!1};default:return!1}},e.Assignment.prototype.tableInfo=function(t,n){if(n instanceof e.SolvedEquation)return!1;if(!this.getInputString().length)return!1;if(r(this))return!1;var o,a=n.getDependencies();if(a.length>1)return!1;if(0===a.length){if(!t.tableableAsConstant(this._symbol))return!1;o=t.implicitIndependent(this._symbol)}else o=a[0];return!!t.validFirstColumnVariable(o)&&{independent_variable:o,dependent_column:t.assignmentForbidden(this._symbol)?i.trimLatex(this.getInputString().replace(/[^=]*=/,"")):i.trimLatex(this.getInputString().split("=")[0]),by_reference:!t.assignmentForbidden(this._symbol)}},e.FunctionDefinition.prototype.tableInfo=function(e,t){if(1!==this._argSymbols.length)return!1;if(!this.getInputString().length)return!1;if(t.getDependencies().length>1)return!1;var n=this._argSymbols[0];if(!e.validFirstColumnVariable(n))return!1;var r=e.assignmentForbidden(this._symbol);return{independent_variable:n,dependent_column:r?i.trimLatex(this.getInputString().replace(/[^=]*=/,"")):i.trimLatex(this.getInputString().split("=")[0]),by_reference:!r}},e.BaseComparator.prototype.tableInfo=function(e,t){return!1},e.DoubleInequality.prototype.tableInfo=function(e,t){return!1},e.Equation.prototype.tableInfo=function(e,t){return!1}});\ndefine(\'core/math/features/tableerror\',[\'require\',\'parsenodes\',\'core/lib/worker-i18n\'],function(require){"use strict";var r=require("parsenodes"),e=require("core/lib/worker-i18n");r.Base.prototype.tableError=function(){return this.isInequality()?e.s("shared-calculator-error-table-inequality-supplement"):!(this instanceof r.Expression||this instanceof r.IRExpression)&&e.s("shared-calculator-error-table-generic-supplement")},r.List.prototype.tableError=function(){return e.s("shared-calculator-error-table-list-supplement")},r.Equation.prototype.tableError=r.Assignment.prototype.tableError=function(){return e.s("shared-calculator-error-table-equation-supplement")},r.FunctionDefinition.prototype.tableError=function(){return e.s("shared-calculator-error-table-function-definition-supplement")},r.Regression.prototype.tableError=function(){return e.s("shared-calculator-error-table-regression-supplement")}});\ndefine(\'core/lib/deepCopy\',["require","exports"],function(require,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function r(e){var t=e;if(t&&"function"==typeof t.toJSON&&(t=t.toJSON()),!t)return t;if("object"!=typeof t)return t;if(Array.isArray(t))return t.map(r);var n={};for(var o in t)t.hasOwnProperty(o)&&(n[o]=r(t[o]));return n}});\ndefine(\'core/types/styles\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineStyle=e.PointStyle=void 0,function(e){e.POINT="POINT",e.OPEN="OPEN",e.CROSS="CROSS"}(e.PointStyle||(e.PointStyle={})),function(e){e.SOLID="SOLID",e.DASHED="DASHED",e.DOTTED="DOTTED"}(e.LineStyle||(e.LineStyle={}))});\ndefine(\'core/math/cdf-branches\',["require","exports","tslib","core/lib/deepCopy","core/math/plotter","core/math/domaintypes","core/types/styles"],function(require,e,o,n,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makeContinuousCDFTopBranches=e.makeDiscreteCDFTopBranches=void 0;function d(e){var o=e.viewState,d=e.graphInfo,r=e.compiled,s=e.bounds,p=e.included,c=e.showPoint,u=n.default(d),h=t.intersectDomains(d.domainBound,t.knownDomain(s));if("known"===h.type)return u.domainBound=h,u.pointStyle=p?a.PointStyle.POINT:a.PointStyle.OPEN,i.computeDiscreteGraphData({graphInfo:u,viewState:o,compiled:r,showPoint:c,maxOverride:void 0})}e.makeDiscreteCDFTopBranches=function(e){var n,i=e.viewState,t=e.graphInfo,a=e.compiled,r=e.bounds,s=e.maxOverride,p=e.showPoint,c=r[0],u=r[1],h=[];c=Math.ceil(c),u=Math.floor(u);var l,v,m,f,w,S=void 0!==s?s:1/0;if(c===-1/0&&u>=S)n=d({bounds:[c,S],included:!0,viewState:i,graphInfo:t,compiled:a,showPoint:p}),h.push(n);else if(c===-1/0&&u<1/0)n=d({bounds:[c,u],included:!0,viewState:i,graphInfo:t,compiled:a,showPoint:p}),h.push(n),h.push(d({bounds:[u+1,S],included:!1,viewState:i,graphInfo:t,compiled:a,showPoint:p}));else if(c>-1/0&&u>=S)n=d({bounds:[c,S],included:!0,viewState:i,graphInfo:t,compiled:a,showPoint:p}),h.push(d({bounds:[-1/0,c-1],included:!1,viewState:i,graphInfo:t,compiled:a,showPoint:p})),h.push(n);else{n=d({bounds:[c,u],included:!0,viewState:i,graphInfo:t,compiled:a,showPoint:p});var g=d({bounds:[-1/0,c-1],included:!1,viewState:i,graphInfo:t,compiled:a,showPoint:p}),I=d({bounds:[u+1,S],included:!1,viewState:i,graphInfo:t,compiled:a,showPoint:p});h.push(n);var b=void 0;g&&I&&(v=I,m=(l=g).segments[0],f=v.segments[0],w=[o.__spreadArray(o.__spreadArray([],m),f)],b=o.__assign(o.__assign({},l),{segments:w}),h.push(b))}return{cdfTopBranch:n,topBranches:h}};e.makeContinuousCDFTopBranches=function(e){var o=e.viewState,d=e.graphInfo,r=e.compiled,s=e.derivative,p=e.bounds;return{cdfTopBranch:function(e){var o=e.viewState,d=e.graphInfo,r=e.compiled,s=e.derivative,p=e.bounds,c=n.default(d),u=t.intersectDomains(d.domainBound,t.knownDomain(p));if("known"===u.type)return c.domainBound=u,c.lineStyle=a.LineStyle.SOLID,i.computeGraphData({graphInfo:c,viewState:o,compiled:r,derivative:s})}({bounds:[p[0],p[1]],viewState:o,graphInfo:d,compiled:r,derivative:s}),topBranches:[i.computeGraphData({viewState:o,graphInfo:d,compiled:r,derivative:s})]}}});\ndefine(\'core/types/opacity\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HIGH=e.DEFAULT=e.LOW=void 0,e.LOW=.2,e.DEFAULT=.4,e.HIGH=.8});\ndefine(\'core/types/slider-loop-modes\',["require","exports"],function(require,e){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.getSliderIcon=e.SliderLoopMode=void 0,function(e){e.LOOP_FORWARD_REVERSE="LOOP_FORWARD_REVERSE",e.LOOP_FORWARD="LOOP_FORWARD",e.PLAY_ONCE="PLAY_ONCE",e.PLAY_INDEFINITELY="PLAY_INDEFINITELY"}(o=e.SliderLoopMode||(e.SliderLoopMode={})),e.getSliderIcon=function(e){switch(e){case o.LOOP_FORWARD:return"dcg-icon-arrow-one-way";case o.LOOP_FORWARD_REVERSE:return"dcg-icon-arrow-two-way";case o.PLAY_ONCE:return"dcg-icon-arrow-once";case o.PLAY_INDEFINITELY:return"dcg-icon-arrow-infinite"}}});\ndefine(\'core/types/label-sizes\',["require","exports"],function(require,e){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.maybeMigrateLabelSizeEnumToLatex=e.LabelSize=void 0,function(e){e.SMALL="small",e.MEDIUM="medium",e.LARGE="large"}(i=e.LabelSize||(e.LabelSize={})),e.maybeMigrateLabelSizeEnumToLatex=function(e){return e===i.SMALL?".85":e===i.MEDIUM?"1":e===i.LARGE?"1.35":void 0}});\ndefine(\'core/types/label-orientations\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LabelOrientation=void 0,function(e){e.DEFAULT="default",e.CENTER="center",e.CENTER_AUTO="center_auto",e.AUTO_CENTER="auto_center",e.ABOVE="above",e.ABOVE_LEFT="above_left",e.ABOVE_RIGHT="above_right",e.ABOVE_AUTO="above_auto",e.BELOW="below",e.BELOW_LEFT="below_left",e.BELOW_RIGHT="below_right",e.BELOW_AUTO="below_auto",e.LEFT="left",e.AUTO_LEFT="auto_left",e.RIGHT="right",e.AUTO_RIGHT="auto_right"}(e.LabelOrientation||(e.LabelOrientation={}))});\ndefine(\'core/lib/default-spec\',["require","exports","underscore","core/lib/deepCopy"],function(require,e,r,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.populateDefaults=e.stripDefaultsAndMaybeReturnUndefined=e.stripDefaults=void 0,e.stripDefaults=function(e,t){var n={};for(var a in t)t.hasOwnProperty(a)&&(r.isEqual(e[a],t[a])||(n[a]=t[a]));return n},e.stripDefaultsAndMaybeReturnUndefined=function(e,t){var n=void 0,a={};for(var u in t)t.hasOwnProperty(u)&&(r.isEqual(e[u],t[u])||(a[u]=t[u],n=a));return n},e.populateDefaults=function(e,r){r||(r={});var n={};for(var a in e)e.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(n[a]=t.default(e[a]));for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a]);return n}});\ndefine(\'core/lib/copy-properties\',["require","exports","core/lib/deepCopy"],function(require,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.makeTrueMap=r.extractPropertiesLike=r.copyAllProperties=r.copyProperties=void 0,r.copyProperties=function(r){var o=r.from,t=r.to,i=r.props;for(var n in i)i[n]&&o.hasOwnProperty(n)&&(t[n]=e.default(o[n]))},r.copyAllProperties=function(r,e){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])},r.extractPropertiesLike=function(r,e){var o={};for(var t in e)e.hasOwnProperty(t)&&(o[t]=r[t]);return o},r.makeTrueMap=function(r){var e={};for(var o in r)r.hasOwnProperty(o)&&(e[o]=!0);return e}});\ndefine(\'core/graphing-calc/json/expression\',["require","exports","tslib","core/types/opacity","core/types/styles","core/lib/dragmode","core/types/slider-loop-modes","core/types/label-sizes","core/types/label-orientations","core/lib/default-spec","../../lib/copy-properties"],function(require,e,i,a,l,t,s,r,n,o,d){"use strict";var L;function D(i){return d.extractPropertiesLike(i,e.DEFAULTS_DYNAMIC)}Object.defineProperty(e,"__esModule",{value:!0}),e.computeParsableState=e.areDynamicPropertiesStrictEqual=e.extractDynamicProperties=e.stripDefaults=e.inflateDefaults=e.SLIDER_DEFAULTS=e.DEFAULTS=e.DEFAULTS_DYNAMIC=e.DEFAULT_SLIDER_PERIOD=e.EditableLabelMode=e.CLICKABLEINFO_DEFAULTS=e.VIZ_DEFAULTS=e.CDF_DEFAULTS=void 0,e.CDF_DEFAULTS={show:!1,min:"",max:""},e.VIZ_DEFAULTS={breadth:"",axisOffset:"",alignedAxis:"x",showBoxplotOutliers:!0,binAlignment:"center",dotplotXMode:"exact",histogramMode:""},e.CLICKABLEINFO_DEFAULTS={enabled:!1,latex:""},function(e){e.None="NONE",e.Math="MATH",e.Text="TEXT"}(L=e.EditableLabelMode||(e.EditableLabelMode={})),e.DEFAULT_SLIDER_PERIOD=4e3,e.DEFAULTS_DYNAMIC={polarDomain:{min:"",max:""},parametricDomain:{min:"",max:""},cdf:e.CDF_DEFAULTS,colorLatex:"",description:"",fillOpacity:""+a.DEFAULT,lineOpacity:"",pointOpacity:"",pointSize:"",lineWidth:"",labelAngle:"",vizProps:e.VIZ_DEFAULTS,clickableInfo:e.CLICKABLEINFO_DEFAULTS},e.DEFAULTS=i.__assign(i.__assign({folderId:"",latex:"",color:"",showLabel:!1,label:"",hidden:!1,secret:!1,dragMode:t.DragMode.AUTO,labelSize:"",labelOrientation:n.LabelOrientation.DEFAULT,suppressTextOutline:!1,interactiveLabel:!1,editableLabelMode:L.None,residualVariable:"",isLogModeRegression:!1,pointStyle:l.PointStyle.POINT,lineStyle:l.LineStyle.SOLID,regressionParameters:{},displayEvaluationAsFraction:!1,slider:{}},e.DEFAULTS_DYNAMIC),{points:void 0,lines:void 0,fill:void 0}),e.SLIDER_DEFAULTS={hardMin:!1,hardMax:!1,animationPeriod:e.DEFAULT_SLIDER_PERIOD,loopMode:s.SliderLoopMode.LOOP_FORWARD_REVERSE,playDirection:1,isPlaying:!1,min:"-10",max:"10",step:""},e.inflateDefaults=function(a){return i.__assign(i.__assign(i.__assign({},e.DEFAULTS),a),{slider:i.__assign(i.__assign({},e.SLIDER_DEFAULTS),a.slider),cdf:i.__assign(i.__assign({},e.CDF_DEFAULTS),a.cdf),vizProps:i.__assign(i.__assign({},e.VIZ_DEFAULTS),a.vizProps),clickableInfo:i.__assign(i.__assign({},e.CLICKABLEINFO_DEFAULTS),a.clickableInfo)})},e.stripDefaults=function(a){var l=o.stripDefaults(e.DEFAULTS,i.__assign(i.__assign({},a),{slider:o.stripDefaults(e.SLIDER_DEFAULTS,a.slider)})),t=o.stripDefaultsAndMaybeReturnUndefined(e.CDF_DEFAULTS,a.cdf);void 0===t?delete l.cdf:l.cdf=t;var s=o.stripDefaultsAndMaybeReturnUndefined(e.VIZ_DEFAULTS,a.vizProps);void 0===s?delete l.vizProps:l.vizProps=s;var r=o.stripDefaultsAndMaybeReturnUndefined(e.CLICKABLEINFO_DEFAULTS,a.clickableInfo);return void 0===r?delete l.clickableInfo:l.clickableInfo=r,l},e.extractDynamicProperties=D,e.areDynamicPropertiesStrictEqual=function(i,a){for(var l in e.DEFAULTS_DYNAMIC)if(e.DEFAULTS_DYNAMIC.hasOwnProperty(l)&&i[l]!==a[l])return!1;return!0},e.computeParsableState=function(e){var a=r.maybeMigrateLabelSizeEnumToLatex(e.labelSize),l=a||e.labelSize;return i.__assign({type:"statement",id:e.id,latex:e.latex,label:e.label,color:e.color,fill:e.fill,points:e.points,lines:e.lines,pointStyle:e.pointStyle,lineStyle:e.lineStyle,dragMode:e.dragMode,labelSize:l,labelOrientation:e.labelOrientation,suppressTextOutline:e.suppressTextOutline,interactiveLabel:e.interactiveLabel,editableLabelMode:e.editableLabelMode,residualVariable:e.residualVariable,regressionParameters:e.regressionParameters,isLogModeRegression:e.isLogModeRegression,showLabel:e.showLabel,shouldGraph:e.hidden,slider:{min:e.slider.hardMin?e.slider.min:"",max:e.slider.hardMax?e.slider.max:"",softMin:e.slider.hardMin?"":e.slider.min,softMax:e.slider.hardMax?"":e.slider.max,step:e.slider.step,isPlayingOnce:e.slider.isPlaying&&e.slider.loopMode===s.SliderLoopMode.PLAY_ONCE}},D(e))}});\ndefine(\'core/math/features/getListIdx\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getListIdxFromBranchIdx=void 0,e.getListIdxFromBranchIdx=function(e,r){var t;switch(r){case"solvedEquation":t=2;break;case"baseComparator":t=4;break;default:t=1}return Math.floor(e/t)}});\ndefine(\'core/types/point-size\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOVABLE_PROJECTOR=e.MOVABLE=e.DOTPLOT_DEFAULT=e.DEFAULT=void 0,e.DEFAULT=9,e.DOTPLOT_DEFAULT=14,e.MOVABLE=22,e.MOVABLE_PROJECTOR=30});\ndefine(\'core/math/features/graph\',["require","exports","parsenodes","core/math/comparators","core/math/parsenode/irexpression","tslib","core/math/errormsg","core/math/builtin","core/math/plotter","core/types/graphmode","core/lib/dragmode","core/math/expression-types","core/math/cdf-branches","core/math/copy-defined-pois","core/math/distribution-spec","core/graphing-calc/json/expression","core/types/opacity","core/lib/color-helpers","core/types/styles","core/math/types","../ir/opcodes","core/math/ir/features/as-value","./getListIdx","core/types/point-size"],function(require,e,t,a,i,o,r,s,n,l,p,u,h,c,d,m,g,f,y,v,D,x,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var O=t.List;function I(e,t,a){for(var i=1/0,o=0,r=t;o<r.length;o++){var s=e[r[o]];Array.isArray(s)&&s.length<i&&(i=s.length)}var n=1;return"solvedEquation"===a?n=2:"baseComparator"===a&&(n=4),n*i}function M(e,t,a){return Array.isArray(e)?e[L.getListIdxFromBranchIdx(t,a)]:e}function P(e,t){for(var a=1/0,i=-1/0,o=1/0,r=-1/0,s=0,n=t;s<n.length;s++)for(var l=n[s],p=0;p<l.length;p+=2){var u=l[p],h=l[p+1];u<a&&(a=u),u>i&&(i=u),h<o&&(o=h),h>r&&(r=h)}if(isFinite(a)&&isFinite(o))return{type:e,xmin:a,ymin:o,xmax:i,ymax:r}}function V(e,t){if(void 0!==e&&"binomialdist"===e.symbol&&t instanceof i){var a=t._chunk,o=a.getInstruction(a.returnIndex);if(o.type===D.NativeFunction&&"binompdf"===o.symbol)return x.asValue(a,o.args[1])}}function A(e,t,a){var i={};a-=.5*t;for(var o=e.length-1;o>=0;o--){var r=e[o],s=Math.floor((r-a)/t);i[s]?i[s].data.push(r):i[s]={id:s,data:[r],min:s*t+a,max:s*t+a+t,center:s*t+a+t/2}}return i}t.Base.prototype._graph=function(e,a,r,p,g){var y=this;if(a instanceof t.SolvedEquation)return this._graph(e,a._expression,r,p,2===a.branchMultiplier?"solvedEquation":void 0);function b(e){var t=e.editableLabelMode;return t===m.EditableLabelMode.Text||t===m.EditableLabelMode.Math}var P=a.getExpressionType(p.graphMode,a.valueType),A=u.getReconciledExpressionProps(P,{points:this.userData.points,lines:this.userData.lines,fill:this.userData.fill});switch(p.graphMode){case l.XYPOINT_MOVABLE:var E=n.dropUndefinedPoints([a.asValue()]),F=E.points,S=E.droppedIndices,N=this.userData.shouldGraph&&A.points,C=this.userData.showLabel&&!N;return N?[{segments:[F],graphMode:p.graphMode,droppedIndices:S,color:f.getDisplayColor(this.userData,this.metaData),style:this.userData.pointStyle,showLabel:!!this.userData.showLabel,labelSize:this.metaData.computedLabelSize,labelAngle:this.metaData.computedLabelAngle,labelOrientation:this.userData.labelOrientation,pointOpacity:this.metaData.computedPointOpacity,suppressTextOutline:this.userData.suppressTextOutline,editableLabel:b(this.userData),labels:this.computedLabels||[],poi:c.default(F),movablePointInfo:[]}]:C?[{segments:[F],graphMode:l.XYPOINT,color:f.getDisplayColor(this.userData,this.metaData),style:this.userData.pointStyle,showLabel:!!this.userData.showLabel,nakedLabel:!0,labelSize:this.metaData.computedLabelSize,labelAngle:this.metaData.computedLabelAngle,labelOrientation:this.userData.labelOrientation,pointOpacity:this.metaData.computedPointOpacity,suppressTextOutline:this.userData.suppressTextOutline,editableLabel:b(this.userData),labels:this.computedLabels||[],poi:c.default(F),showPoint:!1}]:[];case l.XYPOINT:var B=[],w=this.userData.shouldGraph&&A.points,_=this.userData.shouldGraph&&A.lines,z=["colorLatexValue"];w&&z.push("computedPointOpacity","computedPointSize"),(this.userData.showLabel||w)&&z.push("computedLabelSize","computedLabelAngle");var G=I(this.metaData,z,g),W=O.wrap(a).asValue();W.length>G&&(W.length=G);var Y=this.userData.showLabel&&!w&&!_,R=n.dropUndefinedPoints(W);return(this.userData.showLabel||w)&&B.push({segments:[R.points],graphMode:p.graphMode,droppedIndices:R.droppedIndices,color:this.metaData.colorLatexValue||this.userData.color,style:this.userData.pointStyle,showLabel:!!this.userData.showLabel,showPoint:w,labelSize:this.metaData.computedLabelSize,labelAngle:this.metaData.computedLabelAngle,labelOrientation:this.userData.labelOrientation,pointSize:this.metaData.computedPointSize,pointOpacity:this.metaData.computedPointOpacity,suppressTextOutline:this.userData.suppressTextOutline,interactiveLabel:!!this.userData.interactiveLabel,editableLabel:b(this.userData),nakedLabel:Y,labels:this.computedLabels||[],poi:c.default(W)}),_&&B.push({segments:T(W),graphMode:l.PARAMETRIC,color:f.getDisplayColor(this.userData,this.metaData),style:this.userData.lineStyle,lineWidth:this.metaData.computedLineWidth,lineOpacity:this.metaData.computedLineOpacity,poi:{}}),B;case l.PARAMETRIC:case l.PARAMETRIC_CURVE_3D:var X=this.userData,q=this.metaData,k=[];z=["colorLatexValue"];A.lines&&z.push("computedLineOpacity","computedLineWidth"),A.fill&&z.push("computedFillOpacity");var U=I(this.metaData,z,g);B=O.wrap(a).mapElements(function(t,a){if(a>=U)return{segments:[],poi:{},graphMode:l.X,color:""};var i=L.getListIdxFromBranchIdx(a,g),o=M(y.metaData.computedLineWidth,a,g),s=M(y.metaData.computedLineOpacity,a,g),u=y.metaData.colorLatexValue?M(y.metaData.colorLatexValue,a,g):y.userData.color;if(0===t.getDependencies().length){var h=n.dropUndefinedPoints([t.asValue()]),d=h.points,m=h.droppedIndices;return{segments:[d],graphMode:l.XYPOINT,droppedIndices:m,color:f.getDisplayColor(X,q),style:X.lineStyle,lineWidth:o,lineOpacity:s,poi:c.default(d)}}var v=t.getCompiledFunction(),D=y.getGraphInfo(e,t);return D.graphMode=p.graphMode,D.domain={min:y.metaData.evaluatedDomainMin,max:y.metaData.evaluatedDomainMax},D.style=y.userData.lineStyle,D.lineWidth=o,D.lineOpacity=s,D.color=u,D.listIndex=i,n.computeGraphData({viewState:r,graphInfo:D,compiled:v})});if(A.fill){if(B.forEach(function(e,t){t>=U||k.push({segments:e.segments,color:y.metaData.colorLatexValue?M(y.metaData.colorLatexValue,t,g):y.userData.color,fillOpacity:M(y.metaData.computedFillOpacity,t,g),listIndex:L.getListIdxFromBranchIdx(t,g),graphMode:l.POLYGONFILL,poi:{}})}),!A.lines)return k;B=B.concat(k)}return B;case l.X:case l.Y:case l.IMPLICIT:case l.POLAR:case l.Z_3D:var j=[],Z=a.valueType===v.Number,J=I(this.metaData,["computedLineOpacity","computedLineWidth","colorLatexValue","fillOpacity"],g);return O.wrap(a).eachElement(function(t,a){if(!(a>=J)){var u,c=p.graphMode===l.IMPLICIT||p.graphMode===l.Z_3D?t.getCompiledFunction(["x","y"]):t.getCompiledFunction(),m=d.getFunctionSpecFromTree(y),f=m&&m.discrete,v=function(e,t){if(!e)return;if(!(t instanceof i))return;var a=t._chunk,o=a.getInstruction(a.returnIndex);if(o.type!==D.NativeFunction)return;var r=e.discrete?"discreteDistribution":"continuousDistribution";if("binomialdist"===e.symbol&&"binompdf"===o.symbol){var n=x.asValue(a,o.args[1]),l=x.asValue(a,o.args[2]);return{type:r,xmin:0,xmax:n,ymin:0,ymax:h=s.binompdf(l*n,n,l)}}if("poissondist"===e.symbol&&"poissonpdf"===o.symbol){return{type:r,xmin:0,xmax:2.5*(p=x.asValue(a,o.args[1])),ymin:0,ymax:h=Math.max(s.poissonpdf(Math.floor(p),p),s.poissonpdf(Math.ceil(p),p))}}if("normaldist"===e.symbol&&"normalpdf"===o.symbol){var p=x.asValue(a,o.args[1]),u=x.asValue(a,o.args[2]),h=s.normalpdf(p,p,u);return{type:r,xmin:p-2*Math.abs(u),xmax:p+2*Math.abs(u),ymin:0,ymax:h}}if("uniformdist"===e.symbol&&"uniformpdf"===o.symbol){var c=x.asValue(a,o.args[1]),d=x.asValue(a,o.args[2]),m=(p=(c+d)/2,d-c);return{type:r,xmin:c-m/3,xmax:d+m/3,ymin:0,ymax:h=s.uniformpdf(p,c,d)}}if("tdist"===e.symbol&&"tpdf"===o.symbol){var g=x.asValue(a,o.args[1]);return{type:r,xmin:-3,xmax:3,ymin:0,ymax:h=s.tpdf(0,g)}}return}(m,t);try{u=t.getCompiledDerivative()}catch(e){}var b=y.getGraphInfo(e,t);b.listIndex=L.getListIdxFromBranchIdx(a,g),b.graphMode=p.graphMode,b.style=y.userData.lineStyle,b.lineWidth=M(y.metaData.computedLineWidth,a,g),b.lineOpacity=M(y.metaData.computedLineOpacity,a,g);var O=M(y.metaData.computedFillOpacity,a,g);b.fillOpacity=O,p.graphMode===l.POLAR&&(b.domain={min:y.metaData.evaluatedDomainMin,max:y.metaData.evaluatedDomainMax,isExplicit:y.metaData.isExplicitDomain});var I=y.metaData.colorLatexValue?M(y.metaData.colorLatexValue,a,g):y.userData.color;b.color=I;var P=y.metaData.evaluatedCDFMin,A=y.metaData.evaluatedCDFMax;if(isNaN(P)||isNaN(A)||!Z)if(f){var E=n.computeDiscreteGraphData({viewState:r,graphInfo:b,compiled:c,showPoint:y.userData.shouldGraph,maxOverride:V(m,t)});v&&(E.boundingBox=v),j.push(E)}else{var F=void 0===y.userData.lines||y.userData.lines,S={viewState:r,graphInfo:b,compiled:c,derivative:u};E=n.computeGraphData(S);if(v&&(E.boundingBox=v),E.fillSegments){E.fillSegments;var T=o.__rest(E,["fillSegments"]);F||(T.lineWidth=0),j.push(T)}else F||(E.lineWidth=0),j.push(E);b.graphMode===l.IMPLICIT&&"="!==b.operator&&j.push({graphMode:l.POLYGONFILL,segments:E.fillSegments,poi:{},listIndex:b.listIndex,color:I,fillOpacity:O})}else if(f){var N={viewState:r,graphInfo:b,compiled:c,bounds:[P,A],maxOverride:V(m,t),showPoint:y.userData.shouldGraph},C=(w=h.makeDiscreteCDFTopBranches(N)).cdfTopBranch;if((_=w.topBranches).forEach(function(e){e&&v&&(e.boundingBox=v)}),_.every(function(e){return void 0!==e})&&(j=_,C&&C.segments[0].length)){var B=[];C.segments[0].forEach(function(e){isNaN(e[0])||isNaN(e[1])||B.push([e[0],0,e[0],e[1]])}),j.push({graphMode:l.PARAMETRIC,segments:B,boundingBox:v,poi:{},color:I})}}else{var w,_;N={viewState:r,graphInfo:b,compiled:c,derivative:u,bounds:[P,A]},C=(w=h.makeContinuousCDFTopBranches(N)).cdfTopBranch;if((_=w.topBranches).forEach(function(e){e&&v&&(e.boundingBox=v)}),j=_,C&&C.segments.length){for(var z=void 0,G=void 0,W=0;W<C.segments.length;W++){if((Y=C.segments[W]).length>=4){z=Y[0];break}}for(W=C.segments.length-1;W>=0;W--){var Y;if((Y=C.segments[W]).length>=4){G=Y[Y.length-2];break}}if(void 0!==z&&void 0!==G&&isFinite(z)&&isFinite(G)){var R=n.polygonsFromSegments(C.segments,[[z,0,G,0]],C.graphMode);j.push({graphMode:l.POLYGONFILL,segments:R,poi:{},color:I})}}}}}),j;case l.POLYGON:B=[];var H=void 0===this.userData.lines||this.userData.lines,K=void 0===this.userData.fill||this.userData.fill;if(!K&&!H)return B;G=I(this.metaData,["computedLineOpacity","computedLineWidth","colorLatexValue","fillOpacity"],g);var Q=a.asValue();v.isList(a.valueType)||(Q=[Q]);for(var $=0;$<Q.length;$++)if(!($>G-1)){var ee=Q[$];if(ee.length){var te=this.getGraphInfo(e,a),ae=L.getListIdxFromBranchIdx($,g),ie=M(this.metaData.computedLineWidth,$,g),oe=M(this.metaData.computedLineOpacity,$,g),re=M(this.metaData.computedFillOpacity,$,g),se=this.metaData.colorLatexValue?M(this.metaData.colorLatexValue,$,g):this.userData.color,ne=T(ee=o.__spreadArray(o.__spreadArray([],ee),[ee[0]]));ne.length&&(K&&B.push({segments:ne,graphMode:l.POLYGONFILL,poi:{},color:se,fillOpacity:re,style:te.style,listIndex:ae}),H&&B.push({segments:ne,graphMode:l.PARAMETRIC,poi:{},color:se,style:this.userData.lineStyle,lineWidth:ie,lineOpacity:oe,listIndex:ae}))}}return B;case l.POLYGONFILL:case l.VISUALIZATION:case l.OBJECT3D:case l.NONE:case l.ERROR:return!1;default:var le=p.graphMode;throw new Error("Unexpected graphMode: "+le)}},t.Base.prototype.tryGraph=function(e,a,i){try{return this.graph(e,a,i)}catch(e){var o=e instanceof t.Error?e.getError():r.parseError().getError();return[n.errorBranch(o)]}},t.Base.prototype.graph=function(e,t,a){var i=this.getGraphInfo(e,t);return this._graph(e,t,a,i)},t.BaseComparator.prototype.graph=function(e,i,o){var r=this.getGraphInfo(e,i),s=r.graphMode,p="baseComparator",u=void 0===this.userData.lines||this.userData.lines;if(s===l.IMPLICIT)return this._graph(e,i,o,r);if(s===l.NONE)return!1;if(!(i instanceof t.SolvedEquation))return!1;var h=this.getOperator(),c=[],d=[],m=!0;i._expression.eachElement(function(e){c.push(e.getCompiledFunction());try{d.push(e.getCompiledDerivative())}catch(e){m=!1}}),m||(d=void 0);for(var g=[],f=[-1,0,0,1],y=I(this.metaData,["computedLineWidth","computedLineOpacity","computedFillOpacity","colorLatexValue"],p),v=Math.min(c.length,y),D=0;D<v;D++){var x=this.getGraphInfo(e,i._expression.args[D]);x.graphMode=s,x.listIndex=L.getListIdxFromBranchIdx(D,p),x.style=this.userData.lineStyle,x.color=this.metaData.colorLatexValue?M(this.metaData.colorLatexValue,D,p):this.userData.color,r.graphMode===l.POLAR&&(x.domain={min:this.metaData.evaluatedDomainMin,max:this.metaData.evaluatedDomainMax,isExplicit:this.metaData.isExplicitDomain});var b=n.computeGraphData({viewState:o,graphInfo:x,compiled:c[D],derivative:d?d[D]:void 0});b.lineWidth=M(this.metaData.computedLineWidth,D,p),b.lineOpacity=M(this.metaData.computedLineOpacity,D,p),b.fillOpacity=M(this.metaData.computedFillOpacity,D,p),b.operator=a.get(a.table[h].inclusive,f[D%4]),u||(b.lineWidth=0),g.push(b)}for(D=0;D<v;D+=4){var O=n.polygonsFromSegments(g[D+1].segments,g[D+2].segments,s);g.push({graphMode:l.POLYGONFILL,listIndex:g[D].listIndex,segments:O,poi:{},fillOpacity:g[D].fillOpacity,color:g[D].color})}return g},t.DoubleInequality.prototype.graph=function(e,t,i){var o=this,r=this.getGraphInfo(e,t);if(r.graphMode===l.NONE)return!1;var s=[],p=a.get(a.table[this._operators[0]].inclusive,0),u=a.get(a.table[this._operators[1]].inclusive,0),h=this.userData,c=this.metaData,d=void 0===h.lines||h.lines,m=["colorLatexValue","computedFillOpacity"];d&&m.push("computedLineWidth","computedLineOpacity");var g=I(c,m);return O.eachArgs(t._expressions,function(t,a){if(!(a>=g)){t[0].userData=t[1].userData=h,t[0].metaData=t[1].metaData=c;var m=o.metaData.colorLatexValue?M(c.colorLatexValue,a):h.color,f=M(c.computedLineWidth,a),y=M(c.computedLineOpacity,a),v=M(c.computedFillOpacity,a),D=o._graph(e,t[0],i,r)[0];D.listIndex=a,D.operator=p,D.color=m,D.lineWidth=f,D.lineOpacity=y,s.push(D);var x=o._graph(e,t[1],i,r)[0];x.listIndex=a,x.operator=u,x.color=m,x.lineWidth=f,x.lineOpacity=y,s.push(x);var L=n.polygonsFromSegments(D.segments,x.segments,D.graphMode);d||(D.lineWidth=0,x.lineWidth=0),s.push({graphMode:l.POLYGONFILL,listIndex:D.listIndex,segments:L,lineOpacity:y,fillOpacity:v,poi:{},color:m})}}),s},t.Regression.prototype.graph=function(e,t,a){var i=this.getGraphInfo(e,t);return this._graph(e,t.model,a,i)};var E=function(e){var t=[];return O.wrap(e).eachElement(function(e){t.push(e.args.map(function(e){return e.asValue()}))}),t};function F(e){return Array.prototype.concat.apply([],e)}function S(e,t,a){return!!e&&(0===t&&0===a?"none"!==e[2].type||"none"!==e[3].type:0!==t&&0!==a?"none"!==e[0].type&&"none"!==e[1].type:0!==t?"none"!==e[0].type:0!==a&&"none"!==e[1].type)}function T(e){for(var t=[],a=[],i=0,o=e;i<o.length;i++){var r=o[i],s=r[0],n=r[1];isNaN(s)||isNaN(n)?(t.length>=4&&a.push(t),t=[]):t.push(s,n)}return t.length>=4&&a.push(t),a}t.Object3D.prototype.graph=function(e,t,a){var i=this.getGraphInfo(e,t);return[{segments:[E(t)],color:i.color,objectName:this._symbol,graphMode:l.OBJECT3D}]},t.Histogram.prototype.graph=function(e,t,a){var i=this.getGraphInfo(e,t),o=t.args[0].asValue(),r=t.args[1].asValue(),s=A(o,r,this.userData.vizProps&&"left"===this.userData.vizProps.binAlignment?r/2:0),n=1;this.userData.vizProps&&"density"===this.userData.vizProps.histogramMode?n=1/(o.length*r):this.userData.vizProps&&"relative"===this.userData.vizProps.histogramMode&&(n=1/o.length);var p=[],u=[];for(var h in s){var c=s[h],d=c.data.length;u.push([c.min,0*n,c.min,d*n,c.max,d*n,c.max,0*n]);var m=0;s[c.id+1]&&(m=s[c.id+1].data.length);var f=[c.min,0*n,c.min,d*n,c.max,d*n];m<d&&f.push(c.max,m*n),p.push(f)}var y=P("histogram",u);return y&&r&&(y.binWidth=r),[{segments:u,graphMode:l.POLYGONFILL,boundingBox:y,poi:{},color:i.color,fillOpacity:g.DEFAULT},{segments:p,graphMode:l.Y,poi:{zeros:{x:[],y:[]},extrema:{x:[],y:[]},intercept:{x:[],y:[]}},color:i.color}]},t.DotPlot.prototype.graph=function(e,t,a){var i,o=this.getGraphInfo(e,t),r=t.args[1].asValue(),s=this.userData.vizProps&&"left"===this.userData.vizProps.binAlignment?r/2:0,n=A(t.args[0].asValue(),r,s),p=!1,u=[];for(var h in n)for(var d=(g=n[h]).data.length-1;d>=0;d--)g.center!==g.data[d]&&(p=!0);if(this.userData.vizProps&&"exact"===this.userData.vizProps.dotplotXMode)for(var h in n){(i=(g=n[h]).data).reverse();for(var m=0;m<i.length;m++)u.push([i[m],m+1])}else for(var h in n){var g;i=(g=n[h]).data;for(m=0;m<i.length;m++)u.push([g.center,m+1])}var f=P("dotplot",u);f&&r&&(f.ymin=0,f.xmin-=.5*r,f.xmax+=.5*r,f.binWidth=r);var y=this.metaData,v=y.computedPointOpacity,D=y.computedPointSize,x=M(v,0),L=this.userData.pointSize?M(D,0):b.DOTPLOT_DEFAULT;return[{segments:[u],graphMode:l.XYPOINT,boundingBox:f,poi:c.default(u),color:o.color,style:this.userData.pointStyle,pointSize:L,pointOpacity:x,showPoint:!0,needsDotplotXMode:p}]},t.BoxPlot.prototype.graph=function(e,t,a){var i=this.getGraphInfo(e,t),o=this.metaData.evaluatedAxisOffset,r=this.metaData.evaluatedBreadth,n=t.args[0].asValue();if(isNaN(r)||isNaN(o))return!1;var p=Math.min.apply(null,n),u=Math.max.apply(null,n),h=s.quartile(n,1),d=s.quartile(n,2),m=s.quartile(n,3),g=o,f=g-r/2,v=g+r/2,D=r/10,x=[];if(this.userData.vizProps.showBoxplotOutliers){var L=m-h,b=h-1.5*L,O=m+1.5*L;p=1/0,u=-1/0,n.forEach(function(e){b<=e&&e<p&&(p=e),u<e&&e<=O&&(u=e),(e<b||e>O)&&x.push([e,g])})}var I=[[h,f,m,f,m,v,h,v,h,f],[d,f,d,v],[h,g,p,g],[m,g,u,g],[p,g-D,p,g+D],[u,g-D,u,g+D]];if(this.userData.vizProps&&"y"===this.userData.vizProps.alignedAxis){for(var M=0,V=I;M<V.length;M++)for(var A=V[M],E=0;E<A.length;E+=2){var F=A[E];A[E]=A[E+1],A[E+1]=F}for(var S=0,T=x;S<T.length;S++){var N=T[S];F=N[0];N[0]=N[1],N[1]=F}}var C=[{segments:I,graphMode:l.PARAMETRIC,boundingBox:P("boxplot",I.concat(x)),poi:{},color:i.color}];return x.length&&C.push({segments:[x],graphMode:l.XYPOINT,color:i.color,style:y.PointStyle.OPEN,showPoint:!0,poi:c.default(x)}),C},t.Table.prototype.isValueDraggable=function(e,t,a){if(!e.columns[t].isIndependent)return!1;var i=this.columns[t].values,o=i&&i[a];return!(!o||!isFinite(o.asValue())||0!==o.getDependencies().length)},t.Table.prototype.graph=function(e,t,a){var i={};if(t.columns[0].isError)return i;for(var o=t.columns[0],r=o.values,s=1;s<this.columns.length;s++){var n=t.columns[s];if(!n.isError){var u=this.columns[s].header.userData,h=this.columns[s].header.metaData;if(!u.hidden){for(var d=I(h,["colorLatexValue","computedPointSize","computedPointOpacity"]),m=u.dragMode,g=m===p.DragMode.X||m===p.DragMode.XY,y=m===p.DragMode.Y||m===p.DragMode.XY,v=!!u.points,D=!!u.lines,x=n.isDiscrete(o),L=D&&x,b=D&&!x,O=[],M=[],P=[],V=[],A=[],E=[],S=1/0,T=-1/0,N=1/0,C=-1/0,B={},w=0;w<r.length;w++){var _=r[w],z=n.values[w];if(_&&z&&isFinite(_.asValue())&&isFinite(z.asValue())){var G=_.asValue(),W=z.asValue();if(v){if(w>=d)continue;var Y=g&&this.isValueDraggable(t,0,w),R=y&&this.isValueDraggable(t,s,w);Y||R?(P.push([G,W]),V.push({index:w,dragX:Y,dragY:R})):M.push([G,W])}L&&E.push([G,W]),G<S&&(S=G),G>T&&(T=G),W<N&&(N=W),W>C&&(C=W)}else B[w]=!0,L&&(E.length>1&&A.push(E),E=[])}var X={type:"table",xmin:S,xmax:T,ymin:N,ymax:C};if(P.length&&O.push({graphMode:l.XYPOINT_MOVABLE,segments:[P],color:h.colorLatexValue||u.color,tableId:u.tableId,poi:c.default(P),movablePointInfo:V,boundingBox:X,pointOpacity:h.computedPointOpacity}),M.length&&O.push({segments:[M],droppedIndices:B,graphMode:l.XYPOINT,showPoint:!0,poi:c.default(M),color:h.colorLatexValue||u.color,pointSize:h.computedPointSize,pointOpacity:h.computedPointOpacity,style:u.pointStyle,tableId:u.tableId,boundingBox:X}),(A.length||E.length)&&(A.push(E),O.push({segments:A.map(F),graphMode:l.PARAMETRIC,poi:{},color:f.getDisplayColor(u,h),style:u.lineStyle,lineWidth:Array.isArray(h.computedLineWidth)?h.computedLineWidth[0]:h.computedLineWidth,lineOpacity:Array.isArray(h.computedLineOpacity)?h.computedLineOpacity[0]:h.computedLineOpacity,tableId:u.tableId,boundingBox:X})),b){var q=this.columns[s].header.graph(e,t.columns[s].continuousConcreteTree,a);q.length&&Array.prototype.push.apply(O,q)}O.length&&(i[u.id]=O)}}}return i},t.Image.prototype.graph=function(e,t,a){var i=[];if(!(t.center.valueType===v.Point&&0===t.center.getDependencies().length&&t.radianAngle.isConstant&&t.width.isConstant&&t.height.isConstant&&t.opacity.isConstant))return i;for(var o=[],r=[],s=t.width.asValue()/2,n=t.height.asValue()/2,p=t.radianAngle.asValue(),u=-1;u<=1;u++)for(var h=-1;h<=1;h++){var d=t.center.asValue(),m=d[0],g=d[1],y=[m+u*s*Math.cos(p)+h*n*Math.sin(p),g-u*s*Math.sin(p)+h*n*Math.cos(p)];S(t.moveStrategy,u,h)&&(o.push(y),r.push([u,h]))}return i.push({segments:[o],scaleFactors:[r],graphMode:l.XYPOINT_MOVABLE,color:f.getDisplayColor(this.userData,this.metaData),style:this.userData.style,poi:c.default(o),movablePointInfo:[],pointOpacity:1}),i}});\ndefine(\'core/math/features/elementAt\',[\'require\',\'parsenodes\'],function(require){"use strict";var t=require("parsenodes");t.List.prototype.elementAt=function(e){return(e=Math.floor(e))>=0&&e<this.args.length?this.args[e]:t.Constant(NaN)},t.List.prototype.eachElement=function(t){for(var e=0;e<this.length;e++)t(this.elementAt(e),e)},t.List.prototype.mapElements=function(t){for(var e=[],n=0;n<this.length;n++)e.push(t(this.elementAt(n),n));return e},t.ParenSeq.prototype.elementAt=function(e){return e<0||e>this.args.length-1?t.Constant(NaN):this.args[e]}});\ndefine(\'core/math/features/printLatex\',[\'require\',\'parsenodes\',\'core/lib/label\',\'core/lib/number-to-latex\'],function(require){"use strict";var t=require("parsenodes"),r=require("core/lib/label"),i=require("core/lib/number-to-latex").default;function e(t){switch(t){case">":return">";case"<":return"<";case">=":return"\\\\ge ";case"<=":return"\\\\le ";case"=":return"="}}function n(t){return t.printLatex()}function a(t){return t.isConstant&&!0===t.asValue()}t.Identifier.prototype.printLatex=function(){return r.identifierToLatex(this._symbol)+" "},t.Constant.prototype.printLatex=function(){return i(this.asValue())},t.Ticker.prototype.printLatex=function(){return"\\\\ticker\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},t.Negative.prototype.printLatex=function(){return"-\\\\left("+this.args[0].printLatex()+"\\\\right)"},t.Add.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)+\\\\left("+this.args[1].printLatex()+"\\\\right)"},t.PercentOf.prototype.printLatex=function(){return this.args[0].printLatex()+" \\\\% \\\\operatorname{of} "+this.args[1].printLatex()},t.Subtract.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)-\\\\left("+this.args[1].printLatex()+"\\\\right)"},t.Multiply.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)*\\\\left("+this.args[1].printLatex()+"\\\\right)"},t.Divide.prototype.printLatex=function(){return"\\\\frac{"+this.args[0].printLatex()+"}{"+this.args[1].printLatex()+"}"},t.Exponent.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)^{"+this.args[1].printLatex()+"}"},t.Assignment.prototype.printLatex=function(){return r.identifierToLatex(this._symbol)+"="+this._expression.printLatex()},t.Equation.prototype.printLatex=function(){return this._lhs.printLatex()+"="+this._rhs.printLatex()},t.BaseComparator.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)"+e(this.operator)+"\\\\left("+this.args[1].printLatex()+"\\\\right)"},t.DoubleInequality.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)"+e(this.args[1])+this.args[2].printLatex()+e(this.args[3])+"\\\\left("+this.args[4].printLatex()+"\\\\right)"},t.And.prototype.printLatex=function(){if(!(this.args[0]instanceof t.BaseComparator&&this.args[1]instanceof t.BaseComparator))throw new Error("Not implemented");if(this.args[0].args[1].printLatex()!==this.args[1].args[0].printLatex())throw new Error("Not implemented");return"\\\\left("+this.args[0].args[0].printLatex()+"\\\\right)"+e(this.args[0].operator)+"\\\\left("+this.args[0].args[1].printLatex()+"\\\\right)"+e(this.args[1].operator)+"\\\\left("+this.args[1].args[1].printLatex()+"\\\\right)"},t.FunctionCall.prototype.printLatex=function(){switch(this._symbol){case"sqrt":return"\\\\sqrt{"+this.args[0].printLatex()+"}";case"nthroot":return"\\\\sqrt["+this.args[1].printLatex()+"]{"+this.args[0].printLatex()+"}";case"logbase":return"\\\\log_{"+this.args[1].printLatex()+"}\\\\left("+this.args[0].printLatex()+"\\\\right)";default:return r.identifierToLatex(this._symbol)+"\\\\left("+this.args.map(n).join(", ")+"\\\\right)"}},t.SeededFunctionCall.prototype.printLatex=function(){return r.identifierToLatex(this._symbol)+"\\\\left("+this.args.slice(1).map(n).join(", ")+"\\\\right)"},t.DotAccess.prototype.printLatex=function(){return"("+this.args[0].printLatex()+").("+this.args[1].printLatex()+")"},t.Prime.prototype.printLatex=function(){switch(this.args[0]._symbol){case"logbase":return"\\\\log_{"+this.args[0].args[1].printLatex()+"}"+Array(this.order+1).join("\'")+"\\\\left("+this.args[0].args[0].printLatex()+"\\\\right)";default:return r.identifierToLatex(this.args[0]._symbol)+Array(this.order+1).join("\'")+"\\\\left("+this.args[0].args.map(n).join(", ")+"\\\\right)"}},t.List.prototype.printLatex=function(){return"\\\\left["+this.args.map(n).join(", ")+"\\\\right]"},t.Range.prototype.printLatex=function(){return"\\\\left["+this.args[0].args.map(n).join(", ")+" ... "+this.args[1].args.map(n).join(", ")+"\\\\right]"},t.UpdateRule.prototype.printLatex=function(){return this.args[0].printLatex()+"\\\\to("+this.args[1].printLatex()+")"},t.ListAccess.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)\\\\left["+this.args[1].printLatex()+"\\\\right]"},t.ParenSeq.prototype.printLatex=function(){return"\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},t.BareSeq.prototype.printLatex=function(){return this.args.map(n).join(", ")},t.Sum.prototype.printLatex=function(){return"\\\\sum_{"+this.args[0].printLatex()+"="+this.args[1].printLatex()+"}^{"+this.args[2].printLatex()+"}\\\\left("+this.args[3].printLatex()+"\\\\right)"},t.Product.prototype.printLatex=function(){return"\\\\prod_{"+this.args[0].printLatex()+"="+this.args[1].printLatex()+"}^{"+this.args[2].printLatex()+"}\\\\left("+this.args[3].printLatex()+"\\\\right)"},t.Integral.prototype.printLatex=function(){return"\\\\int_{"+this.args[1].printLatex()+"}^{"+this.args[2].printLatex()+"}\\\\left("+this.args[3].printLatex()+"\\\\right)d"+this.args[0].printLatex()},t.FunctionExponent.prototype.printLatex=function(){return this.args[0].printLatex()+"\\\\left("+this.args[1].printLatex()+"\\\\right)^{"+this.args[2].printLatex()+"}"},t.FunctionFactorial.prototype.printLatex=function(){return this.args[0].printLatex()+"\\\\left("+this.args[1].printLatex()+"\\\\right)!"},t.Piecewise.prototype.printLatex=function(){var r=this;if(a(r.args[0]))return r.args[1].printLatex();for(var i,e=["\\\\left\\\\{"];;){if(a(r.args[0])){e.push(r.args[1].printLatex());break}if(e.push(r.args[0].printLatex(),": "),(i=r.args[2]).isConstant&&i.isNaN()){e.push(r.args[1].printLatex());break}if(e.push(r.args[1].printLatex(),", "),!(r.args[2]instanceof t.Piecewise)){e.push(r.args[2].printLatex());break}r=r.args[2]}return e.push("\\\\right\\\\}"),e.join("")},t.FunctionDefinition.prototype.printLatex=function(){return r.identifierToLatex(this._symbol)+"\\\\left("+this._argSymbols.map(r.identifierToLatex).join(", ")+"\\\\right) = "+this._expression.printLatex()},t.Derivative.prototype.printLatex=function(){return"\\\\frac{d}{d"+r.identifierToLatex(this._symbol)+"}\\\\left("+this.args[0].printLatex()+"\\\\right)"},t.Regression.prototype.printLatex=function(){return"\\\\left("+this._lhs.printLatex()+"\\\\right)\\\\sim\\\\left("+this._rhs.printLatex()+"\\\\right)"},t.Histogram.prototype.printLatex=function(){return"\\\\histogram\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},t.Object3D.prototype.printLatex=function(){return"\\\\"+this._symbol+"\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},t.DotPlot.prototype.printLatex=function(){return"\\\\dotplot\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},t.BoxPlot.prototype.printLatex=function(){return"\\\\boxplot\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},t.TTest.prototype.printLatex=function(){return"\\\\TTest\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},t.IndependentTTest.prototype.printLatex=function(){return"\\\\IndependentTTest\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},t.Stats.prototype.printLatex=function(){return"\\\\Stats\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},t.AssignmentExpression.prototype.printLatex=function(){return r.identifierToLatex(this._symbol)+"="+this.args[1].printLatex()},t.ListComprehension.prototype.printLatex=function(){return"\\\\left["+this._body.printLatex()+"\\\\operatorname{for}"+this._inputLists.map(n).join(", ")+"\\\\right]"}});\ndefine(\'core/math/features/getExpressionType\',[\'require\',\'parsenodes\',\'core/types/graphmode\',\'core/math/expression-types\',\'core/math/types\'],function(require){"use strict";var e=require("parsenodes"),t=require("core/types/graphmode"),o=require("core/math/expression-types").ExpressionType,r=require("core/math/types");e.Base.prototype.getExpressionType=function(e,p){return e===t.X||e===t.Y?o.X_OR_Y:e===t.XYPOINT||e===t.XYPOINT_MOVABLE?p===r.Point?o.SINGLE_POINT:o.POINT_LIST:e===t.PARAMETRIC||e===t.PARAMETRIC_CURVE_3D?o.PARAMETRIC:e===t.POLAR?o.POLAR:e===t.IMPLICIT?o.IMPLICIT:r.isTypeOrListOfType(p,r.Polygon)?o.POLYGON:o.X_OR_Y},e.Histogram.prototype.getExpressionType=function(e,t){return o.HISTOGRAM},e.Object3D.prototype.getExpressionType=function(e,t){return o.CUBE},e.DotPlot.prototype.getExpressionType=function(e,t){return o.DOTPLOT},e.BoxPlot.prototype.getExpressionType=function(e,t){return o.BOXPLOT}});\ndefine(\'core/math/parser\',["require","exports","tslib","core/math/baseparser","core/math/features/getConcreteTree","core/math/features/buildIRExpression","core/math/features/typeCheck","core/math/features/repr","core/math/features/substitute","core/math/features/simpleFunctionExpression","core/math/features/analyze","core/math/features/analyzeFourFunction","core/math/features/analyzeScientific","core/math/features/analyzeSingleExpressionScientific","core/math/features/getgraphmode","core/math/features/getgraphinfo","core/math/features/getMoveStrategy","core/math/features/getDefaultDragMode","core/math/features/tableinfo","core/math/features/tableerror","core/math/features/graph","core/math/features/elementAt","core/math/features/printLatex","core/math/features/getExpressionType"],function(require,e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),t.__exportStar(r,e)});\ndefine(\'core/math/interpolatedlabel\',["require","exports","parsenodes","core/lib/label","./policy","core/math/types"],function(require,e,t,n,r,a){"use strict";function u(e){if(e.length<2)return"text";var t=e.split("`").length-1;return t<2?"text":2===t&&"`"===e[0]&&"`"===e[e.length-1]?"latex":"mixed"}function i(e){if(0===e.length)return[""];for(var t=[],n=e.split(/(`)/),r=!1,a="",u=0;u<n.length;u++){var i=n[u];i.length&&("`"===i?(a+="`",(r=!r)||(t.push(a),a="")):(a+=i,r||(t.push(a),a="")))}return a.length&&t.push(a),t}function l(e){for(var t,n="\\\\$({"+["[a-zA-Z][0-9]*","[a-zA-Z]_[a-zA-Z0-9]+","[a-zA-Z]_\\\\{[a-zA-Z0-9]+\\\\}","\\\\\\\\[a-zA-Z]+","\\\\\\\\[a-zA-Z]+_{[a-zA-Z0-9]+}","\\\\\\\\[a-zA-Z]+_[a-zA-Z0-9]+"].join("})|\\\\$({")+"})",r=new RegExp(n,"g"),a=[],u=0,i=0;t=r.exec(e);){(i=t.index)>u&&a.push(e.substr(u,i-u));var l=t[0],s=l.replace(/[{}\\$]/g,"").replace(/^([a-zA-Z])([0-9]+)$/,"$1_$2");a.push({symbol:s,str:l}),u=t.index+l.length}return u<e.length&&a.push(e.substr(u)),{raw:e,parts:a}}function s(e,t){return t?"{"+n.truncatedLatexLabel(e,{bigCutoff:1e7,digits:8})+"}":n.truncatedPlainmathLabel(e,{bigCutoff:1e7,digits:8})}Object.defineProperty(e,"__esModule",{value:!0}),e.interpolate=e.parse=e.chunkLabel=e.classifyLabelText=void 0,e.classifyLabelText=u,e.chunkLabel=i,e.parse=function(e){return i(e).map(l)},e.interpolate=function(e,n,i){return e.map(function(e){return function(e,n,i){for(var l=[],o="latex"===u(e.raw),p=0,f=e.parts;p<f.length;p++){var c=f[p];if("string"==typeof c)l.push(c);else{var h=t.Identifier(c.symbol).tryGetConcreteTree(r.defaultPolicy,n);if(h.valueType===a.Number&&0===h.getDependencies().length){if("number"==typeof(g=h.asValue())){l.push(s(g,o));continue}}else if(h.valueType===a.ListOfNumber&&i<h.length&&0===h.getDependencies().length){var g;if("number"==typeof(g=h.elementAt(i).asValue())){l.push(s(g,o));continue}}o?l.push("{?}"):l.push("?")}}return l.join("")}(e,n,i)}).join("")}});\ndefine(\'core/math/getCLSymbolMap\',["require","exports","underscore","core/lib/label"],function(require,e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCLSymbolMap=void 0,e.getCLSymbolMap=function(){var e={},a={},s={},i=[];for(var n in this.statements){if(this.statements.hasOwnProperty(n))switch((u=this.statements[n]).type){case"Error":break;case"Regression":s[n]=[],i.push(n);break;default:var o=u.getLegalExports(this.policy);if(o){for(var p=0,l=o;p<l.length;p++){var c=l[p];u.exportPenalty>0?a[c]=n:e[c]=n}s[n]=t.difference(u.getDependencies(),u.getDummyDependencies(),o)}}}for(var d=0,f=i;d<f.length;d++){n=f[d];var u=this.statements[n],h=r.latexToIdentifier(u.userData.residualVariable);h&&(a[h]=n);var v=u.getDependencies().slice(),g={};for(c=void 0;c=v.pop();)if(!g[c]){g[c]=!0;var y=e[c]||a[c];y?(v.push.apply(v,s[y]),s[n].push(c)):a[c]=n}}return{exportMap:e,weakExportMap:a,dependencyMap:s}}});\ndefine(\'core/types/line-width\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.THICK=e.DEFAULT=e.THIN=void 0,e.THIN=1,e.DEFAULT=2.5,e.THICK=5});\ndefine(\'core/types/point-opacity\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT=void 0,e.DEFAULT=.9});\ndefine(\'core/math/context\',["require","exports","parsenodes","./finddependencyorder","./workerconfig","./findIntersections","core/vendor/d3-color","./policyFourFunction","./policyScientific","./policyGraphing","./frameFourFunction","./frameScientific","./frameSingleExpressionScientific","./frameGraphing","tslib","core/math/parser","core/math/errormsg","core/math/finddependencyorder","underscore","./plotter","core/types/graphmode","./interpolatedlabel","./expression-types","./getCLSymbolMap","./distribution-spec","./maybe-rational","core/lib/label","./functions","core/types/line-width","core/types/point-opacity","core/types/point-size","./evaluationstate","core/math/types","./cache-stats","./parsenode-from-value","./ir/features/action-to-latex"],function(require,e,t,i,a,s,r,n,o,l,p,d,c,u,h,f,m,v,y,g,_,x,b,D,S,P,O,E,T,F,w,R,M,A,C,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Context=void 0;var N="undefined"!=typeof performance?function(){return performance.now()}:function(){return Date.now()},k=t.Constant,L=t.Seed,G=t.FunctionCall,V=t.Image,z=t.Slider,W=t.Table,j=t.TableColumn,B=s.findIntersections,q={fourFunction:n.PolicyFourFunction,scientific:o.PolicyScientific,singleExpressionScientific:o.PolicySingleExpressionScientific,singleExpressionFourFunction:n.PolicySingleExpressionFourFunction,graphing:l.PolicyGraphing,graphing_3d:l.PolicyGraphing3D},H={fourFunction:p,singleExpressionFourFunction:p,scientific:d,singleExpressionScientific:c,graphing:u,graphing_3d:u};function U(e,i){var a=f.parse(e,i);return a.isError||a instanceof t.Expression?a:m.parseError()}function X(e){var t=e.rawTree.userData,i=e.rawTree.metaData;return!!(t.cdf&&t.cdf.show&&i.distributionSpec)}function Y(e){var t=e.evaluationState.expression_type,i=e.rawTree.userData;return!(!i.clickableInfo||!i.clickableInfo.enabled)&&(!!e.rawTree.isImage||e.getGraphMode()!==_.XYPOINT_MOVABLE&&b.isClickableExpressionType(t))}function J(e,t){for(var i="id"+e,a=0,s=t||[];a<s.length;a++){var r=s[a];i+="::"+r[0]+r[1]}return i}var K=k(P.maybeRational(0,1)),Q=k(P.maybeRational(1,1)),Z=k(NaN);function $(e,t){return e?"0"===e?K:"1"===e?Q:U(e,t):Z}function ee(e,t){if(e)return U(e,t)}function te(e){return"ans"!==e.slice(0,3)}function ie(e,t){var i=e.multiplyDefined,a=e.multiplyDefinedByTables,s=e.cyclicallyDefined;for(var r in i)i.hasOwnProperty(r)&&(t[r]=a[r]?m.multiplyDefinedByTables(r):m.multiplyDefined(r));for(var r in s)if(s.hasOwnProperty(r)){var n=e.tableDefined[r]&&!e.globallyDefined[r],o=s[r].filter(te);t[r]=n?m.tableCycleWithoutGlobalDefinition(o):m.cycle(o)}}function ae(e,t,i){for(var a=0,s=i;a<s.length;a++){var r=s[a];e[r]||(e[r]=[]),e[r].push(t)}}function se(e,t,i){if(i.extraDepNodes)for(var a=0,s=i.extraDepNodes;a<s.length;a++){var r=s[a];r&&ae(e,t,r.getDependencies())}i.clickHandler&&ae(e,t,i.clickHandler.getDependencies())}function re(e,t,i){var a=e.evaluationState,s=e.rawTree,r=s.metaData.cdfMin,n=s.metaData.cdfMax,o={},l=NaN,p=NaN,d="Assignment"===s.type?s._expression:s,c=d&&d.metaData&&d.metaData.distributionSpec;if(r){var u=r.tryGetConcreteTree(t,i);u.isConstant&&(l=+u.asValue());for(var h=0,f=u.getDependencies();h<f.length;h++){o[f[h]]=!0}}else l=-1/0;if(n){var v=n.tryGetConcreteTree(t,i);v.isConstant&&(p=+v.asValue());for(var y=0,g=v.getDependencies();y<g.length;y++){o[g[y]]=!0}}else p=1/0;var _=!0,x=!0;if(isNaN(l)&&(_=!1,l=NaN),isNaN(p)&&(x=!1,p=NaN),_?x?l>p&&(_=!1,x=!1,a.error=m.cdfMaxLessThanMin().getError()):a.error=m.cdfMaxInvalid().getError():a.error=m.cdfMinInvalid().getError(),_&&x){var b=G("cdf",[d,k(l),k(p)]);a.cdf_evaluation=+b.tryGetConcreteTree(t,i).asValue()}var D=-1/0,S=1/0;if(c&&(c.discrete&&(D=0),"binomialdist"===c.symbol&&d.args&&d.args[0])){var P=+d.args[0].asValue();isFinite(P)&&(S=P)}s.metaData.evaluatedCDFMin=l,s.metaData.evaluatedCDFMax=p,a.cdf_min_valid=_,a.cdf_max_valid=x,a.cdf_min_default=D,a.cdf_max_default=S,a.is_single_identifier=!1,R.addSliderPrompts(a,t,o)}var ne={lineWidth:{parseNode:"lineWidth",valueOutputProp:"computedLineWidth",formulaOutputProp:"",validOutputProp:"line_width_valid",default:function(){return T.DEFAULT},transform:void 0,shouldEvaluate:void 0,seed:"lw"},lineOpacity:{parseNode:"lineOpacity",valueOutputProp:"computedLineOpacity",formulaOutputProp:"",validOutputProp:"line_opacity_valid",default:void 0,transform:void 0,shouldEvaluate:void 0,seed:"lo"},pointOpacity:{parseNode:"pointOpacity",valueOutputProp:"computedPointOpacity",formulaOutputProp:"",validOutputProp:"point_opacity_valid",default:function(e,t,i){return e&&t&&e.getGraphMode(i,t)===_.XYPOINT_MOVABLE?1:F.DEFAULT},transform:void 0,shouldEvaluate:void 0,seed:"po"},pointSize:{parseNode:"pointSize",valueOutputProp:"computedPointSize",formulaOutputProp:"",validOutputProp:"point_size_valid",default:function(){return w.DEFAULT},shouldEvaluate:void 0,transform:void 0,seed:"ps"},fillOpacity:{parseNode:"fillOpacity",valueOutputProp:"computedFillOpacity",formulaOutputProp:"",validOutputProp:"fill_opacity_valid",default:void 0,transform:void 0,shouldEvaluate:function(e){if(!e)return!1;var t=e.evaluationState,i=t.expression_type,a=t.is_inequality;return!(i!==b.ExpressionType.POLYGON&&i!==b.ExpressionType.PARAMETRIC&&!a)},seed:"fo"},labelSize:{parseNode:"labelSize",valueOutputProp:"computedLabelSize",formulaOutputProp:"",validOutputProp:"label_size_valid",transform:void 0,default:function(){return 1},shouldEvaluate:void 0,seed:"ls"},labelAngle:{parseNode:"labelAngle",valueOutputProp:"computedLabelAngle",formulaOutputProp:"label_angle_value",validOutputProp:"label_angle_valid",default:function(){return 0},transform:function(e){return"-\\\\trigAngleMultiplier*("+e+")"},shouldEvaluate:void 0,seed:"la"}};function oe(e,t,i,a,s,r){var n,o=ne[r];e&&(n=e.tryGetConcreteTree(a,s));var l=o.default&&o.default(e,n,a),p=function(e,t,i,a){var s,r={},n=!0,o=NaN,l=!1;if(i){var p=i.tryGetConcreteTree(e,t);s=0===p.getDependencies().length?p.asValue():NaN,o=(l=Array.isArray(s))?s:+s;for(var d=0,c=p.getDependencies();d<c.length;d++)r[c[d]]=!0}if(l)for(var u=0,h=o;u<h.length;u++){var f=h[u];if(!isFinite(+f)){n=!1,o=NaN;break}}else isFinite(+o)||(n=!1,o=NaN);return i||(n=!0,void 0!==a&&(o=a)),{value:o,valid:n,missingVarsMap:r}}(a,s,i[o.parseNode],l);i[o.valueOutputProp]=p.value,o.formulaOutputProp&&(t[o.formulaOutputProp]=p.value),t[o.validOutputProp]=p.valid,R.addSliderPrompts(t,a,p.missingVarsMap)}function le(e,t,i,a){var s,r;if(e.rawTree.isTable&&e.evaluationState.column_data&&e.rawTree.columns)for(var n=0;n<e.evaluationState.column_data.length;n++)s=e.evaluationState.column_data[n],oe((r=e.rawTree.columns[n].header.metaData)[a],s,r,t,i,a);else s=e.evaluationState,oe((r=e.rawTree.metaData)[a],s,r,t,i,a)}function pe(e){return r.rgb(e[0],e[1],e[2]).formatHex()}function de(e,t,i,a,s){var r;if(e){var n=e.tryGetConcreteTree(a,s),o=n.getDependencies().length>0?void 0:n.asValue(),l=n.valueType;if(r=!(!o||l!==M.RGBColor&&l!==M.ListOfColor)){var p=n&&n.valueType===M.RGBColor?pe(o):o.map(pe);t.colorLatexValue=p,i.color_latex_value=p}}else r=!0;i.color_latex_valid=r}function ce(e,t,i){var a,s;if(e.rawTree.isTable&&e.evaluationState.column_data&&e.rawTree.columns)for(var r=0;r<e.evaluationState.column_data.length;r++)a=e.evaluationState.column_data[r],de((s=e.rawTree.columns[r].header.metaData).colorLatex,s,a,t,i);else a=e.evaluationState,de((s=e.rawTree.metaData).colorLatex,s,a,t,i)}function ue(e,t,i){var a=e.evaluationState,s={},r=e.rawTree.metaData.clickHandler;if(r){var n=r.tryGetConcreteTree(t,i);n.isError||n.valueType===M.Action||(n=m.eventHandlerTypeError(M.prettyPrint(n.valueType)));for(var o=0,l=n.getDependencies();o<l.length;o++){var p=l[o];t.validActionVariable(p)||(s[p]=!0)}var d=Object.keys(s);d.length>0&&(n=m.tooManyVariables(d).setDependencies(n.getDependencies())),n.isError&&!R.isErrorExportableActionDefinition(t,n)?a.click_handler={status:"error",error:n.getError()}:n.isEmptyAction?a.click_handler={status:"empty"}:a.click_handler={status:"maybe-valid"},R.addSliderPrompts(a,t,s)}}function he(e,t,i){var a=e.evaluationState,s=e.rawTree,r=a.expression_type===b.ExpressionType.POLAR?s.metaData.polarDomainMin:s.metaData.parametricDomainMin,n=a.expression_type===b.ExpressionType.POLAR?s.metaData.polarDomainMax:s.metaData.parametricDomainMax,o={},l=NaN,p=NaN,d=!1;if(r){d=!0;var c=r.tryGetConcreteTree(t,i);c.isConstant&&(l=+c.asValue());for(var u=0,h=c.getDependencies();u<h.length;u++){o[h[u]]=!0}}else l=0;if(n){d=!0;var f=n.tryGetConcreteTree(t,i);f.isConstant&&(p=+f.asValue());for(var v=0,y=f.getDependencies();v<y.length;v++){o[y[v]]=!0}}else a.expression_type===b.ExpressionType.PARAMETRIC?p=1:a.expression_type===b.ExpressionType.POLAR&&(p=12*Math.PI/+i.trigAngleMultiplier.asValue());var g=!0,_=!0;isFinite(l)||(g=!1,l=NaN),isFinite(p)||(_=!1,p=NaN),g?_?l>p&&(g=!1,_=!1,a.error=m.domainMaxLessThanMin().getError()):a.error=m.domainMaxInvalid().getError():a.error=m.domainMinInvalid().getError(),s.metaData.evaluatedDomainMin=l,s.metaData.evaluatedDomainMax=p,a.expression_type===b.ExpressionType.POLAR&&(s.metaData.isExplicitDomain=d),a.domain_min_number=l,a.domain_max_number=p,a.domain_min_valid=g,a.domain_max_valid=_,a.expression_type===b.ExpressionType.PARAMETRIC&&(delete o.t,R.addSliderPrompts(a,t,o))}function fe(e,t,i){var a=e.evaluationState,s=e.rawTree,r=s.metaData.vizAxisOffset,n=s.metaData.vizBreadth,o={},l=NaN,p=NaN;if(r){var d=r.tryGetConcreteTree(t,i);d.isConstant&&(l=+d.asValue());for(var c=0,u=d.getDependencies();c<u.length;c++){o[u[c]]=!0}}else l=1;if(n){var h=n.tryGetConcreteTree(t,i);h.isConstant&&(p=+h.asValue());for(var f=0,v=h.getDependencies();f<v.length;f++){o[v[f]]=!0}}else p=1;var y=!0,g=!0;isFinite(l)||(y=!1,l=NaN),isFinite(p)||(g=!1,p=NaN),y?g||(a.error=m.boxplotBreadthInvalid().getError()):a.error=m.boxplotOffsetInvalid().getError(),s.metaData.evaluatedAxisOffset=l,s.metaData.evaluatedBreadth=p,a.viz_values={axisOffset:l,breadth:p},a.viz_valids={axisOffset:y,breadth:g},R.addSliderPrompts(a,t,o)}function me(e,i,a){if(!e.isError&&!e.getDependencies().length&&e.valueType===M.Action){var s=e.asValue();if(s)for(var r in s.updateRules){i[r]=I.actionLatexForSymbol(s,r);var n=s.updateRules[r],o=n.value,l=n.valueType;a[r]=t.Assignment(r,C.parseNodeFromValue(l,o))}}}var ve=function(){function e(){this.getCLSymbolMap=D.getCLSymbolMap,this.statements={},this.analysis={},this.currentStatus={},this.currentLabel={},this.unpublishedIds={},this.dimensions={width:0,height:0},this.intersectId=void 0,this.dirtyExportedSymbolRoots={},this.dirtyStatementRoots={},this.markedRegressionDirty=!1,this.use_degrees=!1,this.initialEvaluation=!1,this.globalEventCount=0,this.actions=!0,this.setEvaluationMode("graphing"),this.setRestrictedFunctions(!1),this.setForceEnableGeometryFunctions(!1),this.setFunctionDefinition(!0),this.setReplaceRoundWithReciprocal(!1),this.setDistributions(!0),this.invalidate()}return e.prototype.invalidate=function(){for(var e in this.statements)this.statements.hasOwnProperty(e)&&this.markAsDirtyRoot(e);this.currentStatus={},this.analysis={},this.parent_frame=H[this.evaluationMode].getFrame({restrictedFunctions:this.restrictedFunctions,forceEnableGeometryFunctions:this.forceEnableGeometryFunctions,replaceRoundWithReciprocal:this.replaceRoundWithReciprocal,distributions:this.distributions,additionalFunctions:this.additionalFunctions,trigAngleMultiplier:k(this.use_degrees?Math.PI/180:P.maybeRational(1,1)),initialEvaluation:k(this.initialEvaluation?1:0),globalEventCount:k(0),globalRandomSeed:L(this.globalRandomSeedString||""),width:q[this.evaluationMode].dimensionVarsEnabled()?k(P.maybeRational(this.dimensions.width,1)):m.variableUnsupported("width"),height:q[this.evaluationMode].dimensionVarsEnabled()?k(P.maybeRational(this.dimensions.height,1)):m.variableUnsupported("height")}),this.frame=Object.create(this.parent_frame),this.lastFrame=Object.create(this.parent_frame),this.regressionFrame=Object.create(this.parent_frame),this.lastClockTickTime=void 0},e.prototype.processChangeSet=function(e){var t=N(),i={cacheWrites:0,cacheReads:0,cacheHits:0,cacheMisses:0};A.setCacheStatStore(i);var a={intersections:{},graphs:{}};e.isCompleteState&&(this.invalidate(),this.statements={},this.currentLabel={});var s=!!e.isCompleteState&&!e.isUndoRedoState;s!==this.initialEvaluation&&(this.initialEvaluation=s,this.invalidate()),e.viewState&&this.setViewState(e.viewState),e.hasOwnProperty("degreeMode")&&this.setDegreeMode(e.degreeMode),e.hasOwnProperty("globalRandomSeed")&&this.setGlobalRandomSeed(e.globalRandomSeed),e.hasOwnProperty("evaluationMode")&&this.setEvaluationMode(e.evaluationMode),e.hasOwnProperty("additionalFunctions")&&this.setAdditionalFunctions(e.additionalFunctions),e.hasOwnProperty("restrictedFunctions")&&this.setRestrictedFunctions(e.restrictedFunctions),e.hasOwnProperty("forceEnableGeometryFunctions")&&this.setForceEnableGeometryFunctions(e.forceEnableGeometryFunctions),e.hasOwnProperty("distributions")&&this.setDistributions(e.distributions),e.hasOwnProperty("functionDefinition")&&this.setFunctionDefinition(e.functionDefinition),e.hasOwnProperty("replaceRoundWithReciprocal")&&this.setReplaceRoundWithReciprocal(e.replaceRoundWithReciprocal),e.hasOwnProperty("pointsOfInterest")&&this.setWorkerConfigProperty("pointsOfInterest",e.pointsOfInterest),e.hasOwnProperty("plotSingleVariableImplicitEquations")&&this.setWorkerConfigProperty("plotSingleVariableImplicitEquations",e.plotSingleVariableImplicitEquations),e.hasOwnProperty("plotImplicits")&&this.setWorkerConfigProperty("plotImplicits",e.plotImplicits),e.hasOwnProperty("plotInequalities")&&this.setWorkerConfigProperty("plotInequalities",e.plotInequalities),e.hasOwnProperty("sliders")&&this.setWorkerConfigProperty("sliders",e.sliders),e.hasOwnProperty("actions")&&this.setActions(!!e.actions),e.hasOwnProperty("intersectId")&&(this.intersectId=e.intersectId),e.hasOwnProperty("dimensions")&&this.setDimensions(e.dimensions);var r=N();this.processStatements(e,a);var n=N();i.processStatements=n-r,r=n,this.updateAnalysis(),n=N(),i.updateAnalysis=n-r,r=n,e.hasOwnProperty("intersectId")&&this._updateIntersections(e.intersectId,a),n=N(),i.updateIntersections=n-r,r=n;var o=this._publishAllStatuses();n=N(),i.publishAllStatuses=n-r,r=n,this._computeAllLabels(),n=N(),i.computeAllLabels=n-r,r=n,this._computeAriaDescriptions(),n=N(),i.computeAriaDescriptions=n-r,r=n,this._graphAllChanged(a),n=N(),i.graphAllChanges=n-r;var l=this.processEvents(e.events);return this.unpublishedIds={},i.timeInWorker=n-t,{syncId:e.syncId,isCompleteState:e.isCompleteState,intersectionChanges:a.intersections,statusChanges:o,graphChanges:a.graphs,timingData:i,eventUpdates:l}},e.prototype.processStatements=function(e,t){if(e.removes)for(var i in e.removes){var a=void 0;if(!e.isCompleteState&&this.statements.hasOwnProperty(i)&&(a=this.statements[i].getAllIds()),this.removeStatement(i,t),!e.isCompleteState&&a)for(var s=0,r=a;s<r.length;s++){var n=r[s];t.graphs[n]=void 0}}if(e.statements)for(var i in e.statements){var o=e.statements[i];null===o||this.addStatement(o,t)}},e.prototype.setViewState=function(e){if(!y.isEqual(e,this.viewState))for(var t in this.viewState=e,this.statements)this.statements.hasOwnProperty(t)&&(this.unpublishedIds[t]=!0)},e.prototype.getViewState=function(){if(this.viewState){var e=Object.create(this.viewState);return this.parent_frame&&this.parent_frame.trigAngleMultiplier?e.trigAngleMultiplier=this.parent_frame.trigAngleMultiplier.asValue():e.trigAngleMultiplier=1,e}},e.prototype.setDegreeMode=function(e){this.use_degrees=e,this.invalidate()},e.prototype.setDimensions=function(e){void 0!==e&&(this.dimensions=e,this.invalidate())},e.prototype.setGlobalRandomSeed=function(e){this.globalRandomSeedString=e,this.parent_frame.globalRandomSeed=L(e),this.dirtyExportedSymbolRoots.globalRandomSeed=!0},e.prototype.setEvaluationMode=function(e){this.evaluationMode=e,this.policy=q[e],this.invalidate()},e.prototype.setAdditionalFunctions=function(e){this.additionalFunctions=e,this.invalidate()},e.prototype.setRestrictedFunctions=function(e){this.restrictedFunctions=e,this.invalidate()},e.prototype.setForceEnableGeometryFunctions=function(e){this.forceEnableGeometryFunctions=e,this.invalidate()},e.prototype.setDistributions=function(e){this.distributions=e,this.invalidate()},e.prototype.setFunctionDefinition=function(e){this.functionDefinition=e,this.invalidate()},e.prototype.setReplaceRoundWithReciprocal=function(e){this.replaceRoundWithReciprocal=e,this.invalidate()},e.prototype.setActions=function(e){e!==this.actions&&(this.actions=e,this.invalidate())},e.prototype.setWorkerConfigProperty=function(e,t){t!==a[e]&&(a[e]=t,this.invalidate())},e.prototype._publishAllStatuses=function(){var e={},t=this.currentStatus;for(var i in this.currentStatus={},this.unpublishedIds)if(this.analysis.hasOwnProperty(i)){var a=this.analysis[i].evaluationState;y.isEqual(a,t[i])||(e[i]=a),this.currentStatus[i]=a}return e},e.prototype._computeAllLabels=function(){for(var e in this.currentLabel){var t=this.statements[e];if(t){var i=t.tryGetConcreteTree(this.policy,this.frame),a=1;i.valueType===M.ListOfPoint&&(a=i.length);for(var s=[],r=0;r<a;r++)s.push(x.interpolate(this.currentLabel[e],this.frame,r));y.isEqual(s,t.computedLabels)||(t.computedLabels=s,this.unpublishedIds[e]=!0)}}},e.prototype._computeAriaDescriptions=function(){for(var e in this.analysis){var t=this.analysis[e],i=t.evaluationState,a=t.rawTree.userData;if(a.description&&""!==a.description){i.computed_description=[];var s=1;t.concreteTree.isList?s=t.concreteTree.length:i.dimensions&&i.dimensions.x&&Array.isArray(i.dimensions.x)&&(s=i.dimensions.x.length);for(var r=0;r<s;r++)i.computed_description.push(x.interpolate(x.parse(a.description),this.frame,r))}}},e.prototype._graphAllChanged=function(e){var t=this.getViewState(),i=!1;if(g.validateViewState(t)){for(var a in this.unpublishedIds)if(this.analysis.hasOwnProperty(a)){var s=this.analysis[a],r=s.evaluationState.expression_type,n=r===b.ExpressionType.SINGLE_POINT||r===b.ExpressionType.POINT_LIST;if(s.rawTree.isTable)for(var o=s.graph(t),l=0,p=s.rawTree.getAllIds();l<p.length;l++){var d=p[l];o[d]?this._notifyGraphComputed(d,o[d],e):this._notifyGraphRemoved(d,e)}else s.evaluationState.is_graphable&&(s.rawTree.userData.shouldGraph||s.rawTree.userData.showLabel&&n)?(this._notifyGraphComputed(a,s.graph(t),e),this.intersectId===a&&(i=!0)):this._notifyGraphRemoved(a,e)}y.keys(this.unpublishedIds).length&&void 0!==this.intersectId&&(this.unpublishedIds.hasOwnProperty(this.intersectId)||(i=!0)),i&&this._updateIntersections(this.intersectId,e)}},e.prototype._notifyGraphRemoved=function(e,t){t.graphs[e]=void 0},e.prototype._notifyGraphComputed=function(e,t,i){E.dehydrateGraphData(t),i.graphs[e]=t},e.prototype._updateIntersections=function(e,t){if(this.viewState)if(this.analysis[e]&&this.analysis[e].shouldIntersect()){var i=B(this.analysis,this.viewState,e);t.intersections[e]=i}else t.intersections[e]=[]},e.prototype.getDisabledFeatures=function(){var e=this.policy.disabledFeatures();!1===this.functionDefinition&&(e=e.concat("FunctionDefinition")),!1===this.actions&&(e=e.concat("UpdateRule"));var t=this.additionalFunctions||[];return e=e.filter(function(e){return("Exponent"!==e||-1===t.indexOf("exponent"))&&("PercentOf"!==e||-1===t.indexOf("percent"))})},e.prototype.areFractionsDisallowed=function(){var e=this.evaluationMode;return("fourFunction"===e||"singleExpressionFourFunction"===e)&&(!this.additionalFunctions||-1===this.additionalFunctions.indexOf("fraction"))},e.prototype.addStatement=function(e,i){var a=this;if(e){var s=e.id;this.markExportsDirty(s),this.markAsDirtyRoot(s);var r={index:this.policy.ansEnabled()?e.index:void 0,disabledFeatures:this.getDisabledFeatures(),disallowFrac:this.areFractionsDisallowed(),seedPrefix:J(s)},n={extraDepNodes:[]};switch(e.type){case"table":var o=[];this.statements.hasOwnProperty(s)&&(o=this.statements[s].getAllIds()),e.shouldGraph=!0;for(var l=e.columns,p=[],d=0,c=0,u=l;c<u.length;c++){var m=u[c];d=Math.max(m.values.length,d)}for(var v=0;v<l.length;v++){var y,g=void 0,_=void 0;m=l[v];y=f.parse(m.latex,h.__assign(h.__assign({},r),{seedPrefix:J(s,[["tr",0],["tc",v]])})),g=[];for(var b=-1,D=0;D<l[v].values.length;D++)m.values[D].replace(/\\\\space/g,"").match(/\\S/)?(g.push(f.parse(m.values[D],h.__assign(h.__assign({},r),{seedPrefix:J(s,[["tr",D+1],["tc",v]])}))),b=D):g.push(k(NaN));if(g=g.slice(0,b+1),(_=j(y,d,g)).id=m.id,_.header){if(_.header.userData=m,_.header.metaData={extraDepNodes:[]},m.colorLatex){var P=U(m.colorLatex,h.__assign(h.__assign({},r),{seedPrefix:J(s,[["tr",0],["tc",v],["cl",v]])}));_.header.metaData.colorLatex=P,_.header.metaData.extraDepNodes.push(P)}if(m.pointSize){var O=U(m.pointSize,h.__assign(h.__assign({},r),{seedPrefix:J(s,[["tr",0],["tc",v],["ps",v]])}));_.header.metaData.pointSize=O,_.header.metaData.extraDepNodes.push(O)}if(m.pointOpacity){var E=U(m.pointOpacity,h.__assign(h.__assign({},r),{seedPrefix:J(s,[["tr",0],["tc",v],["po",v]])}));_.header.metaData.pointOpacity=E,_.header.metaData.extraDepNodes.push(E)}if(m.lineWidth){var T=U(m.lineWidth,h.__assign(h.__assign({},r),{seedPrefix:J(s,[["tr",0],["tc",v],["lw",v]])}));_.header.metaData.lineWidth=T,_.header.metaData.extraDepNodes.push(T)}if(m.lineOpacity){var F=U(m.lineOpacity,h.__assign(h.__assign({},r),{seedPrefix:J(s,[["tr",0],["tc",v],["lo",v]])}));_.header.metaData.lineOpacity=F,_.header.metaData.extraDepNodes.push(F)}}p.push(_)}this.statements[s]=W(p);var w=this.statements[s].getAllIds();o.forEach(function(e){-1===w.indexOf(e)&&a._notifyGraphRemoved(e,i)});break;case"image":var R="-\\\\trigAngleMultiplier*("+e.angle+")",M=U(e.center,h.__assign(h.__assign({},r),{seedPrefix:J(s,[["ic",s]])})),A=U(R,h.__assign(h.__assign({},r),{seedPrefix:J(s,[["ia",s]])})),C=U(e.width,h.__assign(h.__assign({},r),{seedPrefix:J(s,[["iw",s]])})),I=U(e.height,h.__assign(h.__assign({},r),{seedPrefix:J(s,[["ih",s]])})),N=U(e.opacity,h.__assign(h.__assign({},r),{seedPrefix:J(s,[["io",s]])}));this.statements[s]=V({center:M,radianAngle:A,width:C,height:I,opacity:N});break;case"ticker":this.statements[s]=t.Ticker({handler:U(e.handlerLatex,h.__assign(h.__assign({},r),{allowDt:!0})),minStep:U(e.minStepLatex||"0",r)});break;default:for(var L in e=e,this.statements[s]=f.parse(e.latex,r),ne){var G=L;if(e[G]){var B=ne[G],q=e[G];B.transform&&(q=B.transform(q));var H=$(q,h.__assign(h.__assign({},r),{seedPrefix:J(s,[[B.seed,s]])}));n[G]=H,n.extraDepNodes.push(H)}}if(e.colorLatex){H=ee(e.colorLatex,h.__assign(h.__assign({},r),{seedPrefix:J(s,[["ac",s]])}));n.colorLatex=H,n.extraDepNodes.push(H)}if(e.polarDomain&&e.polarDomain.min&&(n.polarDomainMin=$(e.polarDomain.min,h.__assign(h.__assign({},r),{seedPrefix:J(s,[["lm",s]])})),n.extraDepNodes.push(n.polarDomainMin)),e.polarDomain&&e.polarDomain.max&&(n.polarDomainMax=$(e.polarDomain.max,h.__assign(h.__assign({},r),{seedPrefix:J(s,[["lM",s]])})),n.extraDepNodes.push(n.polarDomainMax)),e.parametricDomain&&e.parametricDomain.min&&(n.parametricDomainMin=$(e.parametricDomain.min,h.__assign(h.__assign({},r),{seedPrefix:J(s,[["lm",s]])})),n.extraDepNodes.push(n.parametricDomainMin)),e.parametricDomain&&e.parametricDomain.max&&(n.parametricDomainMax=$(e.parametricDomain.max,h.__assign(h.__assign({},r),{seedPrefix:J(s,[["lM",s]])})),n.extraDepNodes.push(n.parametricDomainMax)),e.vizProps&&(e.vizProps.axisOffset&&(n.vizAxisOffset=$(e.vizProps.axisOffset,h.__assign(h.__assign({},r),{seedPrefix:J(s,[["vo",s]])})),n.extraDepNodes.push(n.vizAxisOffset)),e.vizProps.breadth&&(n.vizBreadth=$(e.vizProps.breadth,h.__assign(h.__assign({},r),{seedPrefix:J(s,[["vb",s]])})),n.extraDepNodes.push(n.vizBreadth))),e.cdf&&e.cdf.show){var X=S.parseToplevelFunction(e.latex);X&&"distribution"===X.type&&(n.distributionSpec=X,n.cdfMin=ee(e.cdf.min,h.__assign(h.__assign({},r),{seedPrefix:J(s,[["lm",s]])})),n.extraDepNodes.push(n.cdfMin),n.cdfMax=ee(e.cdf.max,h.__assign(h.__assign({},r),{seedPrefix:J(s,[["lM",s]])})),n.extraDepNodes.push(n.cdfMax))}if(this.statements[s].shouldPromoteToSlider(this.policy)){var Y=e.slider,K=!(!Y||!Y.isPlayingOnce),Q=ee(Y&&Y.softMin,r),Z=ee(Y&&Y.softMax,r),te=ee(Y&&Y.min,h.__assign(h.__assign({},r),{seedPrefix:J(s,[["lm",s]])})),ie=ee(Y&&Y.max,h.__assign(h.__assign({},r),{seedPrefix:J(s,[["lM",s]])})),ae=ee(Y&&Y.step,h.__assign(h.__assign({},r),{seedPrefix:J(s,[["ls",s]])}));this.statements[s]=z(this.statements[s],{sliderMin:te,sliderMax:ie,sliderStep:ae,sliderIsPlayingOnce:K,sliderSoftMin:Q,sliderSoftMax:Z})}}var se=e.clickableInfo;se&&se.enabled&&se.latex&&(n.clickHandler=U(se.latex,h.__assign(h.__assign({},r),{allowIndex:!0}))),this.statements[s].userData=e,this.statements[s].metaData=n;var re=e.label;if(re){var oe=this.currentLabel[s];oe&&oe.raw===re||(this.currentLabel[s]=x.parse(re))}else delete this.currentLabel[s]}},e.prototype.removeStatement=function(e,t){var i=this.statements[e];if(i){if(this.markExportsDirty(e),i.isTable){var a=this;i.getAllIds().forEach(function(e){a._notifyGraphRemoved(e,t)})}else this._notifyGraphRemoved(e,t);delete this.currentLabel[e],delete this.statements[e],delete this.analysis[e],delete this.currentStatus[e]}},e.prototype.markExportsDirty=function(e){if(this.statements[e]){this.statements[e].isRegression&&(this.markedRegressionDirty=!0);for(var t=0,i=this.statements[e].getLegalExports(this.policy);t<i.length;t++){var a=i[t];this.dirtyExportedSymbolRoots[a]=!0}}},e.prototype.markAsDirtyRoot=function(e){this.dirtyStatementRoots[e]=!0},e.prototype.getFrame=function(){return this.updateAnalysis(),this.frame},e.prototype.getAnalysis=function(){return this.updateAnalysis(),this.analysis},e.prototype.getEvaluationState=function(e){if(this.updateAnalysis(),this.analysis[e])return this.analysis[e].evaluationState},e.prototype._updateRegressions=function(e){var t=this.frame,i=this.lastFrame,a=this.regressionFrame,s=[];for(var r in e)e.hasOwnProperty(r)&&e[r].isRegression&&s.push(r);var n=this;s.sort(function(e,t){var i=n.statements[e].userData&&n.statements[e].userData.residualVariable,a=n.statements[t].userData&&n.statements[t].userData.residualVariable;return i&&!a?-1:a&&!i?1:0});var o=v.findDependencyOrder(this.policy,e,s);ie(o,a);for(var l={},p=0,d=o.resolved;p<d.length;p++){r=d[p];if(this.statements[r].isRegression)this.analysis[r]=e[r].analyze(this.policy,a,t,i,l),this.analysis[r].exportTo(this.policy,t),delete e[r];else{var c=e[r].tryGetConcreteTree(this.policy,a);e[r].exportTo(this.policy,c,a),l[r]={rawTree:e[r],concreteTree:c}}}},e.prototype.buildSymbolToExpressionDirtyMap=function(){var e={};for(var t in this.statements)if(this.statements.hasOwnProperty(t)){var i=this.statements[t],a=i.metaData;if(ae(e,t,i.getDependencies()),ae(e,t,i.getLegalExports(this.policy)),i.isRegression&&i.userData&&i.userData.residualVariable&&ae(e,t,[O.latexToIdentifier(i.userData.residualVariable)]),se(e,t,a),i.isTable&&i.columns)for(var s=0;s<i.columns.length;s++){var r=i.columns[s];r.header&&r.header.metaData&&se(e,t,r.header.metaData)}}return e},e.prototype.getDirtyIdsAndSymbols=function(e){var t={},i={},a=this.markedRegressionDirty,s=[],r=[];for(var n in this.dirtyStatementRoots)this.dirtyStatementRoots[n]&&(i[n]=!0,s.push(n));for(var o in this.dirtyExportedSymbolRoots)this.dirtyExportedSymbolRoots[o]&&(t[o]=!0,r.push(o));for(;s.length||r.length;){for(;s.length;){n=s.pop();var l=this.statements[n];if(l){l.isRegression&&(a=!0);for(var p=0,d=l.getLegalExports(this.policy);p<d.length;p++){t[o=d[p]]||(t[o]=!0,r.push(o))}}}for(;r.length;){var c=e[o=r.pop()];if(c)for(var u=0,h=c;u<h.length;u++){i[n=h[u]]||(i[n]=!0,s.push(n))}}}return{ids:i,symbols:t,hasDirtyRegression:a}},e.prototype.updateAnalysis=function(){var e=this.buildSymbolToExpressionDirtyMap(),t=this.getDirtyIdsAndSymbols(e),i={};if(t.hasDirtyRegression){for(var a in this.statements)this.statements[a]&&(i[a]=this.statements[a]);this.frame=Object.create(this.parent_frame),this.regressionFrame=Object.create(this.parent_frame)}else{var s=t.ids;for(var a in s)this.statements[a]&&(i[a]=this.statements[a]);var r=t.symbols;for(var n in r)r[n]&&(delete this.frame[n],delete this.regressionFrame[n])}for(var a in i)i[a]&&(this.unpublishedIds[a]=!0);this.markedRegressionDirty=!1,this.dirtyExportedSymbolRoots={},this.dirtyStatementRoots={};var o=this.analysis,l=this.frame;"graphing"===this.evaluationMode&&this._updateRegressions(i);var p=v.findDependencyOrder(this.policy,i);ie(p,l);for(var d=p.resolved,c=0,u=d;c<u.length;c++){a=u[c];switch(this.evaluationMode){case"fourFunction":case"singleExpressionFourFunction":o[a]=this.statements[a].analyzeFourFunction(this.policy,l,o),o[a].exportTo(this.policy,l);break;case"scientific":o[a]=this.statements[a].analyzeScientific(this.policy,l,o),o[a].exportTo(this.policy,l);break;case"singleExpressionScientific":o[a]=this.statements[a].analyzeSingleExpressionScientific(this.policy,l,o),o[a].exportTo(this.policy,l);break;case"graphing":case"graphing_3d":if(l.r){var h=Object.create(l);if(h.r=void 0,o[a]=this.statements[a].analyze(this.policy,h,o),o[a].getGraphMode()===_.POLAR){o[a].exportTo(this.policy,l);continue}}o[a]=this.statements[a].analyze(this.policy,l,o),o[a].exportTo(this.policy,l)}}if("graphing"===this.evaluationMode||"graphing_3d"===this.evaluationMode)for(var f=0,m=d;f<m.length;f++){a=m[f];var y=o[a],g=y.evaluationState.expression_type;for(var x in ne){var D=x,S=ne[D];S.shouldEvaluate&&!S.shouldEvaluate(y)||le(y,this.policy,l,D)}ce(y,this.policy,l),this.actions&&Y(y)&&ue(y,this.policy,l),g===b.ExpressionType.PARAMETRIC||g===b.ExpressionType.POLAR?he(y,this.policy,l):g===b.ExpressionType.BOXPLOT?fe(y,this.policy,l):X(y)&&re(y,this.policy,l)}for(var n in function(e){return e.globalRandomSeed||[]}(e).forEach(function(e){o[e].evaluationState.depends_on_random_seed=!0}),this.lastFrame=Object.create(this.parent_frame),l)l.hasOwnProperty(n)&&(this.lastFrame[n]=l[n])},e.prototype.processEvents=function(e){if(e&&this.actions){for(var i,a=Object.create(this.frame),s={},r=!1,n=!1,o=0,l=e;o<l.length;o++){var p=l[o];switch(this.globalEventCount+=1,a.globalEventCount=t.Constant(this.globalEventCount),p.type){case"step":if(!(d=this.statements[p.expressionId]))continue;n=!0,me(d.tryGetConcreteTree(this.policy,a),s,a);break;case"click":var d;if(!(d=this.statements[p.expressionId])||!d.metaData.clickHandler)continue;a.index=t.Constant(p.indexVar+1),n=!0,r=!0,me(d.metaData.clickHandler.tryGetConcreteTree(this.policy,a),s,a);break;case"clock-tick":(void 0===i||p.isFirstTick&&!i.isFirstTick)&&(i=p);break;default:return p}}if(i)if((d=this.statements[i.id])&&d instanceof t.Ticker){var c=d.minStep.tryGetConcreteTree(this.policy,a).asValue();if("number"==typeof c&&c>=0&&isFinite(c)){var u=this.lastClockTickTime;if(this.lastClockTickTime=Date.now(),!i.isFirstTick&&void 0!==u)a.dt=t.Constant(this.lastClockTickTime-u),me(d.handler.tryGetConcreteTree(this.policy,a),s,a)}}return{objectClicked:r,userAction:n,updates:s}}},e}();e.Context=ve});\ndefine(\'worker/workercore\',[\'require\',\'core/math/context\'],function(require){"use strict";var e=require("core/math/context").Context;return function(n){var t=new e;return{processChangeSet:function(e){var r=t.processChangeSet(e);n("processChangeSet",r)}}}});\ndefine(\'console\',[\'require\'],function(require){var o=function(){},n={};return["log","info","warn","error","assert","dir","clear","profile","profileEnd","time","timeEnd","group","groupCollapsed","groupEnd","trace"].forEach(function(e){"undefined"!=typeof window&&window.console&&window.console[e]?n[e]=function(){Function.prototype.apply.call(window.console[e],window.console,arguments)}:n[e]=o}),n});\ndefine(\'worker/worker\',[\'require\',\'worker/workercore\',\'console\'],function(require){"use strict";var e=require("worker/workercore"),a={};require("console").log=function(e){self.postMessage({log:JSON.stringify(e)})};var s=self;s.window=s,s.onmessage=function(o){var n=o.data&&o.data.connectionId;if(n)if("destroy"===o.data.originalMessage.type)delete a[n];else{var t=a[n];t||(t=e(function(e,a){s.postMessage({connectionId:n,originalMessage:{type:e,payload:a}})}),a[n]=t),t.processChangeSet(o.data.originalMessage)}},s.loadMessageQueue&&(s.loadMessageQueue.forEach(function(e){s.onmessage(e)}),delete s.loadMessageQueue)});\n!function(){"use strict";"undefined"==typeof window&&("undefined"==typeof requirejs&&(importScripts("../vendor/require.js"),importScripts("config.js")),self.loadMessageQueue=[],self.onmessage=function(e){self.loadMessageQueue.push(e)},requirejs(["worker/worker"]))}();\ndefine("toplevel/worker", function(){});\n\n'}),define("worker_src",["require","text!worker_src_underlying"],function(e){"use strict";return e("text!worker_src_underlying")}),define("worker/create_worker_url",["require","worker_src"],function(e){"use strict";var t=e("worker_src");return function(){if(!t.length)return"/assets/generated/combined/toplevel/worker.js";var e;try{e=new Blob([t],{type:"application/javascript"})}catch(n){try{var r=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);r.append(t),e=r.getBlob("application/javascript")}catch(e){return null}}return(window.URL||window.webkitURL).createObjectURL(e)}}),define("core/math/finddependencyorder",["require","exports","core/math/builtinframe","underscore"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findDependencyOrder=void 0,t.findDependencyOrder=function(e,t,o){var i=[],a={},s={},c={},l={},u={},d={},p={},h=0,f=[],g=[];if(!o)for(var m in o=[],t)t.hasOwnProperty(m)&&o.push(m);for(m in t)if(t.hasOwnProperty(m)){for(var y=t[m].exportPenalty||0;i.length<y+1;)i.push([]);i[y].push(m)}for(var v=0,b=i;v<b.length;v++){for(var x={},w=0,E=b[v];w<E.length;w++){m=E[w];for(var S=t[m],k=(y=t[m].exportPenalty||0,S.isTable),_=0,I=S.getLegalExports(e);_<I.length;_++){var M=I[_];r[M]||a[M]||(k&&(u[M]=!0),0===y&&(l[M]=!0),x[M]=x[M]||[],x[M].push(m),1<x[M].length&&(!s[M]&&k&&(c[M]=!0),s[M]=!0))}}for(M in x)c[M]||(a[M]=x[M])}for(var L=0,T=o;L<T.length;L++)M=T[L],p.hasOwnProperty(M)||function r(o){p[o]=p[o]||{};var i,s=p[o];s.id=o,s.index=h,s.lowlink=h,f.push(s),s.instack=!0,h++;for(var c=0,l=t[o].getDependencies();c<l.length;c++){var u=l[c];if(a.hasOwnProperty(u))for(var m=0,y=a[u];m<y.length;m++){var v=y[m];p.hasOwnProperty(v)?(i=p[v]).instack&&(s.lowlink=Math.min(s.lowlink,i.index)):(r(v),i=p[v],s.lowlink=Math.min(s.lowlink,i.lowlink))}}if(s.lowlink===s.index)if((i=f.pop()).instack=!1,i===s)!function(e){g.push(e.id)}(s);else{for(var b=[i];(i=f.pop()).instack=!1,b.push(i),i!==s;);!function(r){for(var o=[],i=r.length-1;0<=i;i--){var a=r[i],s=t[a.id].getLegalExports(e);Array.prototype.push.apply(o,s),o.push(s[0]),g.push(a.id)}(o=n.unique(o)).sort();for(var c=0,l=o;c<l.length;c++){var u=l[c];d[u]=o}}(b)}}(M);return{resolved:g,globallyDefined:l,tableDefined:u,multiplyDefined:s,multiplyDefinedByTables:c,cyclicallyDefined:d}}}),define("core/math/findIntersections",["require","core/types/graphmode","./plotter","parsenodes","core/math/distance"],function(e){"use strict";var t=e("core/types/graphmode"),r=e("./plotter"),n=e("parsenodes"),o=e("core/math/distance");function i(e){for(var t=[],r=0;r<e;r++)t[r]={x:[],y:[],intersects:[]};return t}function a(e,t){t instanceof n.SolvedEquation?t=t._expression:t instanceof n.OptimizedRegression&&(t=t.model);var r=[],o=[];return t instanceof n.DoubleInequality?n.List.eachArgs(t._expressions,function(e){r.push(e[0].getCompiledFunction()),o.push(e[0].isConstant&&e[1].isNaN()),r.push(e[1].getCompiledFunction()),o.push(e[1].isConstant&&e[1].isNaN())}):n.List.wrap(t).eachElement(function(e){r.push(e.getCompiledFunction()),o.push(e.isConstant&&e.isNaN())}),{functions:r,skipIntersecting:o}}function s(e,t,n){var i=(t=r.sampleXY(e,t)).poi.zeros,a=t.poi.extrema,s=[],c=0,l=0;for(c=0;c<i.x.length;c++){for(;l<a.x.length&&a.x[l]<i.x[c];l++)o.approx(a.y[l],0)&&s.push(a.x[l]);s.push(i.x[c])}for(;l<a.x.length;l++)o.approx(a.y[l],0)&&s.push(a.x[l]);return{x:s,y:s.map(n)}}return{findIntersections:function(e,n,o){var c,l,u,d=e[o],p=d.getGraphInfo(),h=d.getGraphMode();try{l=i((c=a(d.policy,d.concreteTree)).functions.length),u=function(e,t){var r,n,o,i=[];for(r in e)e.hasOwnProperty(r)&&String(r)!==String(t)&&e[r].shouldIntersect()&&(o=a((n=e[r]).policy,n.concreteTree),i.push({id:r,graphMode:n.getGraphMode(),functions:o.functions,skipIntersecting:o.skipIntersecting}));return i}(e,o)}catch(e){return i(0)}if(!u)return l;for(var f,g,m=0,y=0;y<u.length;y++)for(var v=u[y],b=0;b<c.functions.length;b++)if(!c.skipIntersecting[b])for(var x=c.functions[b].fn,w=r.computeDomain(n,p,x),E=0;E<v.functions.length;E++)if(!u[y].skipIntersecting[E]){var S,k=function(e,r,n,o){return n===t.X&&o===t.X||n===t.Y&&o===t.Y?function(t){return r(t)-e(t)}:(n===t.X&&o===t.Y||n===t.Y&&o===t.X)&&function(t){return t-r(e(t))}}(x,v.functions[E].fn,h,v.graphMode);if(k){try{S=s(k,w,x)}catch(e){return i(0)}if(100<(m+=S.x.length))return i(c.functions.length);(function(e,t){e.intersects=Array(e.x.length);for(var r=0;r<e.x.length;r++)e.intersects[r]=t})(S,v.id),f=S,(g=h)===t.X&&(g=f.y,f.y=f.x,f.x=g),f=l[b],g=S,Array.prototype.push.apply(f.x,g.x),Array.prototype.push.apply(f.y,g.y),Array.prototype.push.apply(f.intersects,g.intersects)}}return l},findIndicatorZeros:s}}),define("core/math/policyFourFunction",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PolicySingleExpressionFourFunction=t.PolicyFourFunction=void 0;var r=(n.prototype.assignmentForbidden=function(e){return"ans"!==e.slice(0,3)},n.prototype.isValidSlider=function(e){return!1},n.prototype.sliderVariables=function(){return[]},n.prototype.graphingEnabled=function(){return!1},n.prototype.ansEnabled=function(){return!this.singleExpression},n.prototype.dimensionVarsEnabled=function(){return!1},n.prototype.disabledFeatures=function(){return["Sum","Product","Integral","List","Derivative","Piecewise","Exponent","PercentOf"]},n);function n(e){this.singleExpression=e.singleExpression}t.PolicyFourFunction=new r({singleExpression:!1}),t.PolicySingleExpressionFourFunction=new r({singleExpression:!0})}),define("core/math/policyScientific",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PolicySingleExpressionScientific=t.PolicyScientific=void 0;var r=(n.prototype.assignmentForbidden=function(e){return this.singleExpression?"ans"!==e.slice(0,3):"tmp"===e.slice(0,3)},n.prototype.isValidSlider=function(e){return!1},n.prototype.sliderVariables=function(){return[]},n.prototype.graphingEnabled=function(){return!1},n.prototype.ansEnabled=function(){return!this.singleExpression},n.prototype.dimensionVarsEnabled=function(){return!1},n.prototype.disabledFeatures=function(){return this.singleExpression?["Sum","Product","Integral","Derivative","Piecewise","PercentOf"]:["Sum","Product","Integral","Derivative","Piecewise"]},n);function n(e){this.singleExpression=e.singleExpression}t.PolicyScientific=new r({singleExpression:!1}),t.PolicySingleExpressionScientific=new r({singleExpression:!0})}),define("core/math/frameFourFunction",["require","core/math/builtinframe"],function(e){"use strict";var t=e("core/math/builtinframe");return{getFrame:function(e){var r={};return e.additionalFunctions&&-1!==e.additionalFunctions.indexOf("sqrt")&&(r.sqrt=t.sqrt),e.width&&(r.width=e.width),e.height&&(r.height=e.height),r}}}),define("core/math/frameScientific",["require","core/math/builtinframe"],function(e){"use strict";var t=e("core/math/builtinframe"),r=["pi","e","trigAngleMultiplier"],n=["sqrt","nthroot","abs","ln","sin","cos","tan","log","arcsin","arccos","arctan","mean","round","stdev","stdevp","nCr","nPr","exp","factorial"];function o(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!t.hasOwnProperty(n))throw new Error("Programming Error: key '"+n+"' does not exist in table. Must be one of:\n"+Object.keys(t).join("\n"))}}return o(r,t),o(n,t),{getFrame:function(e){var o={};return r.forEach(function(e){o[e]=t[e]}),n.forEach(function(r){e.replaceRoundWithReciprocal&&"round"===r||(o[r]=t[r])}),e.trigAngleMultiplier&&(o.trigAngleMultiplier=e.trigAngleMultiplier),e.width&&(o.width=e.width),e.height&&(o.height=e.height),o}}}),define("core/math/frameSingleExpressionScientific",["require","core/math/builtinframe"],function(e){"use strict";var t=e("core/math/builtinframe"),r=["pi","e","trigAngleMultiplier"],n=["sqrt","nthroot","abs","ln","sin","cos","tan","log","arcsin","arccos","arctan","exp","factorial"];function o(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!t.hasOwnProperty(n))throw new Error("Programming Error: key '"+n+"' does not exist in table. Must be one of:\n"+Object.keys(t).join("\n"))}}return o(r,t),o(n,t),{getFrame:function(e){var o={};return r.forEach(function(e){o[e]=t[e]}),n.forEach(function(e){o[e]=t[e]}),e.trigAngleMultiplier&&(o.trigAngleMultiplier=e.trigAngleMultiplier),e.width&&(o.width=e.width),e.height&&(o.height=e.height),o}}}),define("core/math/frameGraphing",["require","core/math/builtinframe"],function(e){"use strict";var t=e("core/math/builtinframe"),r=["csc","sec","cot","arccsc","arcsec","arccot","csch","sech","coth","arccsch","arcsech","arccoth","mad","cov","distance","midpoint"],n=["erf","ttest","tscore","ittest","normaldist","tdist","poissondist","binomialdist","pdf","cdf","random","histogram","dotplot","boxplot"],o=["distance","midpoint"],i=["det","inv","transpose","rref","trace"];function a(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!t.hasOwnProperty(n))throw new Error("Programming Error: key '"+n+"' does not exist in table. Must be one of:\n"+Object.keys(t).join("\n"))}}return a(r,t),a(n,t),{getFrame:function(e){var a,s={};for(a in t)t.hasOwnProperty(a)&&(!0!==e.restrictedFunctions||-1===r.indexOf(a)||!0===e.forceEnableGeometryFunctions&&-1!==o.indexOf(a))&&(!1===e.distributions&&-1!==n.indexOf(a)||-1===i.indexOf(a)&&(s[a]=t[a]));return e.trigAngleMultiplier&&(s.trigAngleMultiplier=e.trigAngleMultiplier),e.globalRandomSeed&&(s.globalRandomSeed=e.globalRandomSeed),e.initialEvaluation&&(s.initialEvaluation=e.initialEvaluation),e.globalEventCount&&(s.globalEventCount=e.globalEventCount),e.width&&(s.width=e.width),e.height&&(s.height=e.height),s}}}),define("core/math/getCLSymbolMap",["require","exports","underscore","core/lib/label"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCLSymbolMap=void 0,t.getCLSymbolMap=function(){var e,t={},o={},i={},a=[];for(e in this.statements)if(this.statements.hasOwnProperty(e))switch((h=this.statements[e]).type){case"Error":break;case"Regression":i[e]=[],a.push(e);break;default:var s=h.getLegalExports(this.policy);if(s){for(var c=0,l=s;c<l.length;c++){var u=l[c];0<h.exportPenalty?o[u]=e:t[u]=e}i[e]=r.difference(h.getDependencies(),h.getDummyDependencies(),s)}}for(var d=0,p=a;d<p.length;d++){e=p[d];var h=this.statements[e],f=n.latexToIdentifier(h.userData.residualVariable);f&&(o[f]=e);var g,m=h.getDependencies().slice(),y={};for(u=void 0;u=m.pop();)y[u]||(y[u]=!0,(g=t[u]||o[u])?(m.push.apply(m,i[g]),i[e].push(u)):o[u]=e)}return{exportMap:t,weakExportMap:o,dependencyMap:i}}}),define("core/math/context",["require","exports","parsenodes","./finddependencyorder","./workerconfig","./findIntersections","core/vendor/d3-color","./policyFourFunction","./policyScientific","./policyGraphing","./frameFourFunction","./frameScientific","./frameSingleExpressionScientific","./frameGraphing","tslib","core/math/parser","core/math/errormsg","core/math/finddependencyorder","underscore","./plotter","core/types/graphmode","./interpolatedlabel","./expression-types","./getCLSymbolMap","./distribution-spec","./maybe-rational","core/lib/label","./functions","core/types/line-width","core/types/point-opacity","core/types/point-size","./evaluationstate","core/math/types","./cache-stats","./parsenode-from-value","./ir/features/action-to-latex"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g,m,y,v,b,x,w,E,S,k,_,I,M,L,T,C,A,O,P,D,F){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var N="undefined"!=typeof performance?function(){return performance.now()}:function(){return Date.now()},q=r.Constant,R=r.Seed,B=r.FunctionCall,j=r.Image,V=r.Slider,U=r.Table,G=r.TableColumn,z=i.findIntersections,H={fourFunction:s.PolicyFourFunction,scientific:c.PolicyScientific,singleExpressionScientific:c.PolicySingleExpressionScientific,singleExpressionFourFunction:s.PolicySingleExpressionFourFunction,graphing:l.PolicyGraphing,graphing_3d:l.PolicyGraphing3D},W={fourFunction:u,singleExpressionFourFunction:u,scientific:d,singleExpressionScientific:p,graphing:h,graphing_3d:h};function K(e,t){return(t=g.parse(e,t)).isError||t instanceof r.Expression?t:m.parseError()}function $(e,t){for(var r="id"+e,n=0,o=t||[];n<o.length;n++){var i=o[n];r+="::"+i[0]+i[1]}return r}var Y=q(_.maybeRational(0,1)),X=q(_.maybeRational(1,1)),Q=q(NaN);function J(e,t){return e?"0"===e?Y:"1"===e?X:K(e,t):Q}function Z(e,t){if(e)return K(e,t)}function ee(e){return"ans"!==e.slice(0,3)}function te(e,t){var r,n,o,i=e.multiplyDefined,a=e.multiplyDefinedByTables,s=e.cyclicallyDefined;for(r in i)i.hasOwnProperty(r)&&(t[r]=a[r]?m.multiplyDefinedByTables(r):m.multiplyDefined(r));for(r in s)s.hasOwnProperty(r)&&(n=e.tableDefined[r]&&!e.globallyDefined[r],o=s[r].filter(ee),t[r]=n?m.tableCycleWithoutGlobalDefinition(o):m.cycle(o))}function re(e,t,r){for(var n=0,o=r;n<o.length;n++){var i=o[n];e[i]||(e[i]=[]),e[i].push(t)}}function ne(e,t,r){if(r.extraDepNodes)for(var n=0,o=r.extraDepNodes;n<o.length;n++){var i=o[n];i&&re(e,t,i.getDependencies())}r.clickHandler&&re(e,t,r.clickHandler.getDependencies())}var oe={lineWidth:{parseNode:"lineWidth",valueOutputProp:"computedLineWidth",formulaOutputProp:"",validOutputProp:"line_width_valid",default:function(){return L.DEFAULT},transform:void 0,shouldEvaluate:void 0,seed:"lw"},lineOpacity:{parseNode:"lineOpacity",valueOutputProp:"computedLineOpacity",formulaOutputProp:"",validOutputProp:"line_opacity_valid",default:void 0,transform:void 0,shouldEvaluate:void 0,seed:"lo"},pointOpacity:{parseNode:"pointOpacity",valueOutputProp:"computedPointOpacity",formulaOutputProp:"",validOutputProp:"point_opacity_valid",default:function(e,t,r){return e&&t&&e.getGraphMode(r,t)===x.XYPOINT_MOVABLE?1:T.DEFAULT},transform:void 0,shouldEvaluate:void 0,seed:"po"},pointSize:{parseNode:"pointSize",valueOutputProp:"computedPointSize",formulaOutputProp:"",validOutputProp:"point_size_valid",default:function(){return C.DEFAULT},shouldEvaluate:void 0,transform:void 0,seed:"ps"},fillOpacity:{parseNode:"fillOpacity",valueOutputProp:"computedFillOpacity",formulaOutputProp:"",validOutputProp:"fill_opacity_valid",default:void 0,transform:void 0,shouldEvaluate:function(e){if(!e)return!1;e=(t=e.evaluationState).expression_type;var t=t.is_inequality;return!(e!==E.ExpressionType.POLYGON&&e!==E.ExpressionType.PARAMETRIC&&!t)},seed:"fo"},labelSize:{parseNode:"labelSize",valueOutputProp:"computedLabelSize",formulaOutputProp:"",validOutputProp:"label_size_valid",transform:void 0,default:function(){return 1},shouldEvaluate:void 0,seed:"ls"},labelAngle:{parseNode:"labelAngle",valueOutputProp:"computedLabelAngle",formulaOutputProp:"label_angle_value",validOutputProp:"label_angle_valid",default:function(){return 0},transform:function(e){return"-\\trigAngleMultiplier*("+e+")"},shouldEvaluate:void 0,seed:"la"}};function ie(e,t,r,n,o,i){i=oe[i],e&&(a=e.tryGetConcreteTree(n,o));var a=i.default&&i.default(e,a,n);a=function(e,t){var r={},i=!0,a=NaN,s=!1;if(e)for(var c=e.tryGetConcreteTree(n,o),l=0===c.getDependencies().length?c.asValue():NaN,u=(a=(s=Array.isArray(l))?l:+l,0),d=c.getDependencies();u<d.length;u++)r[d[u]]=!0;if(s)for(var p=0,h=a;p<h.length;p++){var f=h[p];if(!isFinite(+f)){i=!1,a=NaN;break}}else isFinite(+a)||(i=!1,a=NaN);return e||(i=!0,void 0!==t&&(a=t)),{value:a,valid:i,missingVarsMap:r}}(r[i.parseNode],a);r[i.valueOutputProp]=a.value,i.formulaOutputProp&&(t[i.formulaOutputProp]=a.value),t[i.validOutputProp]=a.valid,A.addSliderPrompts(t,n,a.missingVarsMap)}function ae(e){return a.rgb(e[0],e[1],e[2]).formatHex()}function se(e,t,r,n,o){var i;e?(o=0<(n=e.tryGetConcreteTree(n,o)).getDependencies().length?void 0:n.asValue(),i=n.valueType,(i=!(!o||i!==O.RGBColor&&i!==O.ListOfColor))&&(o=n&&n.valueType===O.RGBColor?ae(o):o.map(ae),t.colorLatexValue=o,r.color_latex_value=o)):i=!0,r.color_latex_valid=i}function ce(e,t,n){if(!e.isError&&!e.getDependencies().length&&e.valueType===O.Action){var o=e.asValue();if(o)for(var i in o.updateRules){t[i]=F.actionLatexForSymbol(o,i);var a=(s=o.updateRules[i]).value,s=s.valueType;n[i]=r.Assignment(i,D.parseNodeFromValue(s,a))}}}function le(){this.getCLSymbolMap=S.getCLSymbolMap,this.statements={},this.analysis={},this.currentStatus={},this.currentLabel={},this.unpublishedIds={},this.dimensions={width:0,height:0},this.intersectId=void 0,this.dirtyExportedSymbolRoots={},this.dirtyStatementRoots={},this.markedRegressionDirty=!1,this.use_degrees=!1,this.initialEvaluation=!1,this.globalEventCount=0,this.actions=!0,this.setEvaluationMode("graphing"),this.setRestrictedFunctions(!1),this.setForceEnableGeometryFunctions(!1),this.setFunctionDefinition(!0),this.setReplaceRoundWithReciprocal(!1),this.setDistributions(!0),this.invalidate()}le.prototype.invalidate=function(){for(var e in this.statements)this.statements.hasOwnProperty(e)&&this.markAsDirtyRoot(e);this.currentStatus={},this.analysis={},this.parent_frame=W[this.evaluationMode].getFrame({restrictedFunctions:this.restrictedFunctions,forceEnableGeometryFunctions:this.forceEnableGeometryFunctions,replaceRoundWithReciprocal:this.replaceRoundWithReciprocal,distributions:this.distributions,additionalFunctions:this.additionalFunctions,trigAngleMultiplier:q(this.use_degrees?Math.PI/180:_.maybeRational(1,1)),initialEvaluation:q(this.initialEvaluation?1:0),globalEventCount:q(0),globalRandomSeed:R(this.globalRandomSeedString||""),width:H[this.evaluationMode].dimensionVarsEnabled()?q(_.maybeRational(this.dimensions.width,1)):m.variableUnsupported("width"),height:H[this.evaluationMode].dimensionVarsEnabled()?q(_.maybeRational(this.dimensions.height,1)):m.variableUnsupported("height")}),this.frame=Object.create(this.parent_frame),this.lastFrame=Object.create(this.parent_frame),this.regressionFrame=Object.create(this.parent_frame),this.lastClockTickTime=void 0},le.prototype.processChangeSet=function(e){var t=N(),r={cacheWrites:0,cacheReads:0,cacheHits:0,cacheMisses:0};P.setCacheStatStore(r);var n={intersections:{},graphs:{}};e.isCompleteState&&(this.invalidate(),this.statements={},this.currentLabel={});var o=!!e.isCompleteState&&!e.isUndoRedoState;o!==this.initialEvaluation&&(this.initialEvaluation=o,this.invalidate()),e.viewState&&this.setViewState(e.viewState),e.hasOwnProperty("degreeMode")&&this.setDegreeMode(e.degreeMode),e.hasOwnProperty("globalRandomSeed")&&this.setGlobalRandomSeed(e.globalRandomSeed),e.hasOwnProperty("evaluationMode")&&this.setEvaluationMode(e.evaluationMode),e.hasOwnProperty("additionalFunctions")&&this.setAdditionalFunctions(e.additionalFunctions),e.hasOwnProperty("restrictedFunctions")&&this.setRestrictedFunctions(e.restrictedFunctions),e.hasOwnProperty("forceEnableGeometryFunctions")&&this.setForceEnableGeometryFunctions(e.forceEnableGeometryFunctions),e.hasOwnProperty("distributions")&&this.setDistributions(e.distributions),e.hasOwnProperty("functionDefinition")&&this.setFunctionDefinition(e.functionDefinition),e.hasOwnProperty("replaceRoundWithReciprocal")&&this.setReplaceRoundWithReciprocal(e.replaceRoundWithReciprocal),e.hasOwnProperty("pointsOfInterest")&&this.setWorkerConfigProperty("pointsOfInterest",e.pointsOfInterest),e.hasOwnProperty("plotSingleVariableImplicitEquations")&&this.setWorkerConfigProperty("plotSingleVariableImplicitEquations",e.plotSingleVariableImplicitEquations),e.hasOwnProperty("plotImplicits")&&this.setWorkerConfigProperty("plotImplicits",e.plotImplicits),e.hasOwnProperty("plotInequalities")&&this.setWorkerConfigProperty("plotInequalities",e.plotInequalities),e.hasOwnProperty("sliders")&&this.setWorkerConfigProperty("sliders",e.sliders),e.hasOwnProperty("actions")&&this.setActions(!!e.actions),e.hasOwnProperty("intersectId")&&(this.intersectId=e.intersectId),e.hasOwnProperty("dimensions")&&this.setDimensions(e.dimensions);var i=N();this.processStatements(e,n);var a=N();return r.processStatements=a-i,i=a,this.updateAnalysis(),a=N(),r.updateAnalysis=a-i,i=a,e.hasOwnProperty("intersectId")&&this._updateIntersections(e.intersectId,n),a=N(),r.updateIntersections=a-i,i=a,o=this._publishAllStatuses(),a=N(),r.publishAllStatuses=a-i,i=a,this._computeAllLabels(),a=N(),r.computeAllLabels=a-i,i=a,this._computeAriaDescriptions(),a=N(),r.computeAriaDescriptions=a-i,i=a,this._graphAllChanged(n),a=N(),r.graphAllChanges=a-i,i=this.processEvents(e.events),this.unpublishedIds={},r.timeInWorker=a-t,{syncId:e.syncId,isCompleteState:e.isCompleteState,intersectionChanges:n.intersections,statusChanges:o,graphChanges:n.graphs,timingData:r,eventUpdates:i}},le.prototype.processStatements=function(e,t){if(e.removes)for(var r in e.removes){var n=void 0;if(!e.isCompleteState&&this.statements.hasOwnProperty(r)&&(n=this.statements[r].getAllIds()),this.removeStatement(r,t),!e.isCompleteState&&n)for(var o=0,i=n;o<i.length;o++){var a=i[o];t.graphs[a]=void 0}}if(e.statements)for(var r in e.statements){var s=e.statements[r];null===s||this.addStatement(s,t)}},le.prototype.setViewState=function(e){if(!v.isEqual(e,this.viewState))for(var t in this.viewState=e,this.statements)this.statements.hasOwnProperty(t)&&(this.unpublishedIds[t]=!0)},le.prototype.getViewState=function(){if(this.viewState){var e=Object.create(this.viewState);return this.parent_frame&&this.parent_frame.trigAngleMultiplier?e.trigAngleMultiplier=this.parent_frame.trigAngleMultiplier.asValue():e.trigAngleMultiplier=1,e}},le.prototype.setDegreeMode=function(e){this.use_degrees=e,this.invalidate()},le.prototype.setDimensions=function(e){void 0!==e&&(this.dimensions=e,this.invalidate())},le.prototype.setGlobalRandomSeed=function(e){this.globalRandomSeedString=e,this.parent_frame.globalRandomSeed=R(e),this.dirtyExportedSymbolRoots.globalRandomSeed=!0},le.prototype.setEvaluationMode=function(e){this.evaluationMode=e,this.policy=H[e],this.invalidate()},le.prototype.setAdditionalFunctions=function(e){this.additionalFunctions=e,this.invalidate()},le.prototype.setRestrictedFunctions=function(e){this.restrictedFunctions=e,this.invalidate()},le.prototype.setForceEnableGeometryFunctions=function(e){this.forceEnableGeometryFunctions=e,this.invalidate()},le.prototype.setDistributions=function(e){this.distributions=e,this.invalidate()},le.prototype.setFunctionDefinition=function(e){this.functionDefinition=e,this.invalidate()},le.prototype.setReplaceRoundWithReciprocal=function(e){this.replaceRoundWithReciprocal=e,this.invalidate()},le.prototype.setActions=function(e){e!==this.actions&&(this.actions=e,this.invalidate())},le.prototype.setWorkerConfigProperty=function(e,t){t!==o[e]&&(o[e]=t,this.invalidate())},le.prototype._publishAllStatuses=function(){var e,t,r={},n=this.currentStatus;for(e in this.currentStatus={},this.unpublishedIds)this.analysis.hasOwnProperty(e)&&(t=this.analysis[e].evaluationState,v.isEqual(t,n[e])||(r[e]=t),this.currentStatus[e]=t);return r},le.prototype._computeAllLabels=function(){for(var e in this.currentLabel){var t=this.statements[e];if(t){var r=t.tryGetConcreteTree(this.policy,this.frame),n=1;r.valueType===O.ListOfPoint&&(n=r.length);for(var o=[],i=0;i<n;i++)o.push(w.interpolate(this.currentLabel[e],this.frame,i));v.isEqual(o,t.computedLabels)||(t.computedLabels=o,this.unpublishedIds[e]=!0)}}},le.prototype._computeAriaDescriptions=function(){for(var e in this.analysis){var t=this.analysis[e],r=t.evaluationState,n=t.rawTree.userData;if(n.description&&""!==n.description){r.computed_description=[];var o=1;t.concreteTree.isList?o=t.concreteTree.length:r.dimensions&&r.dimensions.x&&Array.isArray(r.dimensions.x)&&(o=r.dimensions.x.length);for(var i=0;i<o;i++)r.computed_description.push(w.interpolate(w.parse(n.description),this.frame,i))}}},le.prototype._graphAllChanged=function(e){var t=this.getViewState(),r=!1;if(b.validateViewState(t)){for(var n in this.unpublishedIds)if(this.analysis.hasOwnProperty(n)){var o=this.analysis[n],i=(i=o.evaluationState.expression_type)===E.ExpressionType.SINGLE_POINT||i===E.ExpressionType.POINT_LIST;if(o.rawTree.isTable)for(var a=o.graph(t),s=0,c=o.rawTree.getAllIds();s<c.length;s++){var l=c[s];a[l]?this._notifyGraphComputed(l,a[l],e):this._notifyGraphRemoved(l,e)}else o.evaluationState.is_graphable&&(o.rawTree.userData.shouldGraph||o.rawTree.userData.showLabel&&i)?(this._notifyGraphComputed(n,o.graph(t),e),this.intersectId===n&&(r=!0)):this._notifyGraphRemoved(n,e)}v.keys(this.unpublishedIds).length&&void 0!==this.intersectId&&(this.unpublishedIds.hasOwnProperty(this.intersectId)||(r=!0)),r&&this._updateIntersections(this.intersectId,e)}},le.prototype._notifyGraphRemoved=function(e,t){t.graphs[e]=void 0},le.prototype._notifyGraphComputed=function(e,t,r){M.dehydrateGraphData(t),r.graphs[e]=t},le.prototype._updateIntersections=function(e,t){var r;this.viewState&&(this.analysis[e]&&this.analysis[e].shouldIntersect()?(r=z(this.analysis,this.viewState,e),t.intersections[e]=r):t.intersections[e]=[])},le.prototype.getDisabledFeatures=function(){var e=this.policy.disabledFeatures();!1===this.functionDefinition&&(e=e.concat("FunctionDefinition")),!1===this.actions&&(e=e.concat("UpdateRule"));var t=this.additionalFunctions||[];return e.filter(function(e){return!("Exponent"===e&&-1!==t.indexOf("exponent")||"PercentOf"===e&&-1!==t.indexOf("percent"))})},le.prototype.areFractionsDisallowed=function(){var e=this.evaluationMode;return!("fourFunction"!==e&&"singleExpressionFourFunction"!==e||this.additionalFunctions&&-1!==this.additionalFunctions.indexOf("fraction"))},le.prototype.addStatement=function(e,t){var n=this;if(e){var o=e.id;this.markExportsDirty(o),this.markAsDirtyRoot(o);var i,a={index:this.policy.ansEnabled()?e.index:void 0,disabledFeatures:this.getDisabledFeatures(),disallowFrac:this.areFractionsDisallowed(),seedPrefix:$(o)},s={extraDepNodes:[]};switch(e.type){case"table":var c=[];this.statements.hasOwnProperty(o)&&(c=this.statements[o].getAllIds()),e.shouldGraph=!0;for(var l=e.columns,u=[],d=0,p=0,h=l;p<h.length;p++){var m=h[p];d=Math.max(m.values.length,d)}for(var y=0;y<l.length;y++){var v=void 0,b=void 0,x=(m=l[y],g.parse(m.latex,f.__assign(f.__assign({},a),{seedPrefix:$(o,[["tr",0],["tc",y]])})));v=[];for(var E=-1,S=0;S<l[y].values.length;S++)m.values[S].replace(/\\space/g,"").match(/\S/)?(v.push(g.parse(m.values[S],f.__assign(f.__assign({},a),{seedPrefix:$(o,[["tr",S+1],["tc",y]])}))),E=S):v.push(q(NaN));var _,I;v=v.slice(0,E+1);(b=G(x,d,v)).id=m.id,b.header&&(b.header.userData=m,b.header.metaData={extraDepNodes:[]},m.colorLatex&&(x=K(m.colorLatex,f.__assign(f.__assign({},a),{seedPrefix:$(o,[["tr",0],["tc",y],["cl",y]])})),b.header.metaData.colorLatex=x,b.header.metaData.extraDepNodes.push(x)),m.pointSize&&(_=K(m.pointSize,f.__assign(f.__assign({},a),{seedPrefix:$(o,[["tr",0],["tc",y],["ps",y]])})),b.header.metaData.pointSize=_,b.header.metaData.extraDepNodes.push(_)),m.pointOpacity&&(_=K(m.pointOpacity,f.__assign(f.__assign({},a),{seedPrefix:$(o,[["tr",0],["tc",y],["po",y]])})),b.header.metaData.pointOpacity=_,b.header.metaData.extraDepNodes.push(_)),m.lineWidth&&(I=K(m.lineWidth,f.__assign(f.__assign({},a),{seedPrefix:$(o,[["tr",0],["tc",y],["lw",y]])})),b.header.metaData.lineWidth=I,b.header.metaData.extraDepNodes.push(I)),m.lineOpacity&&(I=K(m.lineOpacity,f.__assign(f.__assign({},a),{seedPrefix:$(o,[["tr",0],["tc",y],["lo",y]])})),b.header.metaData.lineOpacity=I,b.header.metaData.extraDepNodes.push(I))),u.push(b)}this.statements[o]=U(u);var M=this.statements[o].getAllIds();c.forEach(function(e){-1===M.indexOf(e)&&n._notifyGraphRemoved(e,t)});break;case"image":var L="-\\trigAngleMultiplier*("+e.angle+")",T=K(e.center,f.__assign(f.__assign({},a),{seedPrefix:$(o,[["ic",o]])})),C=K(L,f.__assign(f.__assign({},a),{seedPrefix:$(o,[["ia",o]])})),A=K(e.width,f.__assign(f.__assign({},a),{seedPrefix:$(o,[["iw",o]])})),O=K(e.height,f.__assign(f.__assign({},a),{seedPrefix:$(o,[["ih",o]])}));L=K(e.opacity,f.__assign(f.__assign({},a),{seedPrefix:$(o,[["io",o]])}));this.statements[o]=j({center:T,radianAngle:C,width:A,height:O,opacity:L});break;case"ticker":this.statements[o]=r.Ticker({handler:K(e.handlerLatex,f.__assign(f.__assign({},a),{allowDt:!0})),minStep:K(e.minStepLatex||"0",a)});break;default:for(var P in this.statements[o]=g.parse(e.latex,a),oe){var D,F,N,R=P;e[R]&&(D=oe[R],F=e[R],D.transform&&(F=D.transform(F)),N=J(F,f.__assign(f.__assign({},a),{seedPrefix:$(o,[[D.seed,o]])})),s[R]=N,s.extraDepNodes.push(N))}e.colorLatex&&(N=Z(e.colorLatex,f.__assign(f.__assign({},a),{seedPrefix:$(o,[["ac",o]])})),s.colorLatex=N,s.extraDepNodes.push(N)),e.polarDomain&&e.polarDomain.min&&(s.polarDomainMin=J(e.polarDomain.min,f.__assign(f.__assign({},a),{seedPrefix:$(o,[["lm",o]])})),s.extraDepNodes.push(s.polarDomainMin)),e.polarDomain&&e.polarDomain.max&&(s.polarDomainMax=J(e.polarDomain.max,f.__assign(f.__assign({},a),{seedPrefix:$(o,[["lM",o]])})),s.extraDepNodes.push(s.polarDomainMax)),e.parametricDomain&&e.parametricDomain.min&&(s.parametricDomainMin=J(e.parametricDomain.min,f.__assign(f.__assign({},a),{seedPrefix:$(o,[["lm",o]])})),s.extraDepNodes.push(s.parametricDomainMin)),e.parametricDomain&&e.parametricDomain.max&&(s.parametricDomainMax=J(e.parametricDomain.max,f.__assign(f.__assign({},a),{seedPrefix:$(o,[["lM",o]])})),s.extraDepNodes.push(s.parametricDomainMax)),e.vizProps&&(e.vizProps.axisOffset&&(s.vizAxisOffset=J(e.vizProps.axisOffset,f.__assign(f.__assign({},a),{seedPrefix:$(o,[["vo",o]])})),s.extraDepNodes.push(s.vizAxisOffset)),e.vizProps.breadth&&(s.vizBreadth=J(e.vizProps.breadth,f.__assign(f.__assign({},a),{seedPrefix:$(o,[["vb",o]])})),s.extraDepNodes.push(s.vizBreadth))),e.cdf&&e.cdf.show&&(i=k.parseToplevelFunction(e.latex))&&"distribution"===i.type&&(s.distributionSpec=i,s.cdfMin=Z(e.cdf.min,f.__assign(f.__assign({},a),{seedPrefix:$(o,[["lm",o]])})),s.extraDepNodes.push(s.cdfMin),s.cdfMax=Z(e.cdf.max,f.__assign(f.__assign({},a),{seedPrefix:$(o,[["lM",o]])})),s.extraDepNodes.push(s.cdfMax)),this.statements[o].shouldPromoteToSlider(this.policy)&&(C=!(!(T=e.slider)||!T.isPlayingOnce),A=Z(T&&T.softMin,a),O=Z(T&&T.softMax,a),L=Z(T&&T.min,f.__assign(f.__assign({},a),{seedPrefix:$(o,[["lm",o]])})),i=Z(T&&T.max,f.__assign(f.__assign({},a),{seedPrefix:$(o,[["lM",o]])})),T=Z(T&&T.step,f.__assign(f.__assign({},a),{seedPrefix:$(o,[["ls",o]])})),this.statements[o]=V(this.statements[o],{sliderMin:L,sliderMax:i,sliderStep:T,sliderIsPlayingOnce:C,sliderSoftMin:A,sliderSoftMax:O}))}var B=e.clickableInfo;B&&B.enabled&&B.latex&&(s.clickHandler=K(B.latex,f.__assign(f.__assign({},a),{allowIndex:!0}))),this.statements[o].userData=e,this.statements[o].metaData=s;var z=e.label;z?(B=this.currentLabel[o])&&B.raw===z||(this.currentLabel[o]=w.parse(z)):delete this.currentLabel[o]}},le.prototype.removeStatement=function(e,t){var r,n=this.statements[e];n&&(this.markExportsDirty(e),n.isTable?(r=this,n.getAllIds().forEach(function(e){r._notifyGraphRemoved(e,t)})):this._notifyGraphRemoved(e,t),delete this.currentLabel[e],delete this.statements[e],delete this.analysis[e],delete this.currentStatus[e])},le.prototype.markExportsDirty=function(e){if(this.statements[e]){this.statements[e].isRegression&&(this.markedRegressionDirty=!0);for(var t=0,r=this.statements[e].getLegalExports(this.policy);t<r.length;t++){var n=r[t];this.dirtyExportedSymbolRoots[n]=!0}}},le.prototype.markAsDirtyRoot=function(e){this.dirtyStatementRoots[e]=!0},le.prototype.getFrame=function(){return this.updateAnalysis(),this.frame},le.prototype.getAnalysis=function(){return this.updateAnalysis(),this.analysis},le.prototype.getEvaluationState=function(e){if(this.updateAnalysis(),this.analysis[e])return this.analysis[e].evaluationState},le.prototype._updateRegressions=function(e){var t=this.frame,r=this.lastFrame,n=this.regressionFrame,o=[];for(d in e)e.hasOwnProperty(d)&&e[d].isRegression&&o.push(d);var i=this;o.sort(function(e,t){return e=i.statements[e].userData&&i.statements[e].userData.residualVariable,t=i.statements[t].userData&&i.statements[t].userData.residualVariable,e&&!t?-1:t&&!e?1:0});var a=y.findDependencyOrder(this.policy,e,o);te(a,n);for(var s={},c=0,l=a.resolved;c<l.length;c++){var u,d=l[c];this.statements[d].isRegression?(this.analysis[d]=e[d].analyze(this.policy,n,t,r,s),this.analysis[d].exportTo(this.policy,t),delete e[d]):(u=e[d].tryGetConcreteTree(this.policy,n),e[d].exportTo(this.policy,u,n),s[d]={rawTree:e[d],concreteTree:u})}},le.prototype.buildSymbolToExpressionDirtyMap=function(){var e,t={};for(e in this.statements)if(this.statements.hasOwnProperty(e)){var r=this.statements[e],n=r.metaData;if(re(t,e,r.getDependencies()),re(t,e,r.getLegalExports(this.policy)),r.isRegression&&r.userData&&r.userData.residualVariable&&re(t,e,[I.latexToIdentifier(r.userData.residualVariable)]),ne(t,e,n),r.isTable&&r.columns)for(var o=0;o<r.columns.length;o++){var i=r.columns[o];i.header&&i.header.metaData&&ne(t,e,i.header.metaData)}}return t},le.prototype.getDirtyIdsAndSymbols=function(e){var t,r,n={},o={},i=this.markedRegressionDirty,a=[],s=[];for(t in this.dirtyStatementRoots)this.dirtyStatementRoots[t]&&(o[t]=!0,a.push(t));for(r in this.dirtyExportedSymbolRoots)this.dirtyExportedSymbolRoots[r]&&(n[r]=!0,s.push(r));for(;a.length||s.length;){for(;a.length;){t=a.pop();var c=this.statements[t];if(c){c.isRegression&&(i=!0);for(var l=0,u=c.getLegalExports(this.policy);l<u.length;l++)n[r=u[l]]||(n[r]=!0,s.push(r))}}for(;s.length;){var d=e[r=s.pop()];if(d)for(var p=0,h=d;p<h.length;p++)o[t=h[p]]||(o[t]=!0,a.push(t))}}return{ids:o,symbols:n,hasDirtyRegression:i}},le.prototype.updateAnalysis=function(){var e=this.buildSymbolToExpressionDirtyMap(),t={};if((u=this.getDirtyIdsAndSymbols(e)).hasDirtyRegression){for(var r in this.statements)this.statements[r]&&(t[r]=this.statements[r]);this.frame=Object.create(this.parent_frame),this.regressionFrame=Object.create(this.parent_frame)}else{for(r in u.ids)this.statements[r]&&(t[r]=this.statements[r]);var n=u.symbols;for(l in n)n[l]&&(delete this.frame[l],delete this.regressionFrame[l])}for(r in t)t[r]&&(this.unpublishedIds[r]=!0);this.markedRegressionDirty=!1,this.dirtyExportedSymbolRoots={},this.dirtyStatementRoots={};var o=this.analysis,i=this.frame;"graphing"===this.evaluationMode&&this._updateRegressions(t),te(u=y.findDependencyOrder(this.policy,t),i);for(var a,s,c,l,u,d=0,p=u=u.resolved;d<p.length;d++)switch(r=p[d],this.evaluationMode){case"fourFunction":case"singleExpressionFourFunction":o[r]=this.statements[r].analyzeFourFunction(this.policy,i,o),o[r].exportTo(this.policy,i);break;case"scientific":o[r]=this.statements[r].analyzeScientific(this.policy,i,o),o[r].exportTo(this.policy,i);break;case"singleExpressionScientific":o[r]=this.statements[r].analyzeSingleExpressionScientific(this.policy,i,o),o[r].exportTo(this.policy,i);break;case"graphing":case"graphing_3d":if(i.r){var h=Object.create(i);if(h.r=void 0,o[r]=this.statements[r].analyze(this.policy,h,o),o[r].getGraphMode()===x.POLAR){o[r].exportTo(this.policy,i);continue}}o[r]=this.statements[r].analyze(this.policy,i,o),o[r].exportTo(this.policy,i)}if("graphing"===this.evaluationMode||"graphing_3d"===this.evaluationMode)for(var f=0,g=u;f<g.length;f++){r=g[f];var v,b=o[r],w=b.evaluationState.expression_type;for(v in oe){var S=v,k=oe[S];k.shouldEvaluate&&!k.shouldEvaluate(b)||function(e,t,r,n){var o,i;if(e.rawTree.isTable&&e.evaluationState.column_data&&e.rawTree.columns)for(var a=0;a<e.evaluationState.column_data.length;a++)o=e.evaluationState.column_data[a],ie((i=e.rawTree.columns[a].header.metaData)[n],o,i,t,r,n);else o=e.evaluationState,ie((i=e.rawTree.metaData)[n],o,i,t,r,n)}(b,this.policy,i,S)}(function(e,t,r){var n,o;if(e.rawTree.isTable&&e.evaluationState.column_data&&e.rawTree.columns)for(var i=0;i<e.evaluationState.column_data.length;i++)n=e.evaluationState.column_data[i],se((o=e.rawTree.columns[i].header.metaData).colorLatex,o,n,t,r);else n=e.evaluationState,se((o=e.rawTree.metaData).colorLatex,o,n,t,r)})(b,this.policy,i),this.actions&&(s=void 0,s=(a=b).evaluationState.expression_type,(c=a.rawTree.userData).clickableInfo&&c.clickableInfo.enabled&&(a.rawTree.isImage||a.getGraphMode()!==x.XYPOINT_MOVABLE&&E.isClickableExpressionType(s)))&&function(e,t,r){var n=e.evaluationState,o={};if(e=e.rawTree.metaData.clickHandler){(e=e.tryGetConcreteTree(t,r)).isError||e.valueType===O.Action||(e=m.eventHandlerTypeError(O.prettyPrint(e.valueType)));for(var i=0,a=e.getDependencies();i<a.length;i++){var s=a[i];t.validActionVariable(s)||(o[s]=!0)}0<(r=Object.keys(o)).length&&(e=m.tooManyVariables(r).setDependencies(e.getDependencies())),e.isError&&!A.isErrorExportableActionDefinition(t,e)?n.click_handler={status:"error",error:e.getError()}:e.isEmptyAction?n.click_handler={status:"empty"}:n.click_handler={status:"maybe-valid"},A.addSliderPrompts(n,t,o)}}(b,this.policy,i),w===E.ExpressionType.PARAMETRIC||w===E.ExpressionType.POLAR?function(e,t,r){var n=e.evaluationState,o=e.rawTree,i=n.expression_type===E.ExpressionType.POLAR?o.metaData.polarDomainMin:o.metaData.parametricDomainMin,a=n.expression_type===E.ExpressionType.POLAR?o.metaData.polarDomainMax:o.metaData.parametricDomainMax,s={},c=NaN,l=NaN;e=!1;if(i){e=!0,(i=i.tryGetConcreteTree(t,r)).isConstant&&(c=+i.asValue());for(var u=0,d=i.getDependencies();u<d.length;u++)s[d[u]]=!0}else c=0;if(a){e=!0;var p=a.tryGetConcreteTree(t,r);p.isConstant&&(l=+p.asValue());for(var h=0,f=p.getDependencies();h<f.length;h++)s[f[h]]=!0}else n.expression_type===E.ExpressionType.PARAMETRIC?l=1:n.expression_type===E.ExpressionType.POLAR&&(l=12*Math.PI/+r.trigAngleMultiplier.asValue());r=p=!0,isFinite(c)||(p=!1,c=NaN),isFinite(l)||(r=!1,l=NaN),p?r?l<c&&(r=p=!1,n.error=m.domainMaxLessThanMin().getError()):n.error=m.domainMaxInvalid().getError():n.error=m.domainMinInvalid().getError(),o.metaData.evaluatedDomainMin=c,o.metaData.evaluatedDomainMax=l,n.expression_type===E.ExpressionType.POLAR&&(o.metaData.isExplicitDomain=e),n.domain_min_number=c,n.domain_max_number=l,n.domain_min_valid=p,n.domain_max_valid=r,n.expression_type===E.ExpressionType.PARAMETRIC&&(delete s.t,A.addSliderPrompts(n,t,s))}(b,this.policy,i):w===E.ExpressionType.BOXPLOT?function(e,t,r){var n=e.evaluationState,o=e.rawTree,i=o.metaData.vizAxisOffset,a=o.metaData.vizBreadth,s={},c=NaN;e=NaN;if(i){(i=i.tryGetConcreteTree(t,r)).isConstant&&(c=+i.asValue());for(var l=0,u=i.getDependencies();l<u.length;l++)s[u[l]]=!0}else c=1;if(a){var d=a.tryGetConcreteTree(t,r);d.isConstant&&(e=+d.asValue());for(var p=0,h=d.getDependencies();p<h.length;p++)s[h[p]]=!0}else e=1;d=r=!0,isFinite(c)||(r=!1,c=NaN),isFinite(e)||(d=!1,e=NaN),r?d||(n.error=m.boxplotBreadthInvalid().getError()):n.error=m.boxplotOffsetInvalid().getError(),o.metaData.evaluatedAxisOffset=c,o.metaData.evaluatedBreadth=e,n.viz_values={axisOffset:c,breadth:e},n.viz_valids={axisOffset:r,breadth:d},A.addSliderPrompts(n,t,s)}(b,this.policy,i):(s=void 0,s=(w=b).rawTree.userData,w=w.rawTree.metaData,s.cdf&&s.cdf.show&&w.distributionSpec&&function(e,t,r){var n=e.evaluationState,o=e.rawTree,i=o.metaData.cdfMin,a=o.metaData.cdfMax,s={},c=NaN,l=NaN,u="Assignment"===o.type?o._expression:o;e=u&&u.metaData&&u.metaData.distributionSpec;if(i){(i=i.tryGetConcreteTree(t,r)).isConstant&&(c=+i.asValue());for(var d=0,p=i.getDependencies();d<p.length;d++)s[p[d]]=!0}else c=-1/0;if(a){var h=a.tryGetConcreteTree(t,r);h.isConstant&&(l=+h.asValue());for(var f=0,g=h.getDependencies();f<g.length;f++)s[g[f]]=!0}else l=1/0;h=a=!0,isNaN(c)&&(a=!1,c=NaN),isNaN(l)&&(h=!1,l=NaN),a?h?l<c&&(h=a=!1,n.error=m.cdfMaxLessThanMin().getError()):n.error=m.cdfMaxInvalid().getError():n.error=m.cdfMinInvalid().getError(),a&&h&&(y=B("cdf",[u,q(c),q(l)]),n.cdf_evaluation=+y.tryGetConcreteTree(t,r).asValue());var y=-1/0;r=1/0;e&&(e.discrete&&(y=0),"binomialdist"===e.symbol&&u.args&&u.args[0])&&(u=+u.args[0].asValue(),isFinite(u)&&(r=u)),o.metaData.evaluatedCDFMin=c,o.metaData.evaluatedCDFMax=l,n.cdf_min_valid=a,n.cdf_max_valid=h,n.cdf_min_default=y,n.cdf_max_default=r,n.is_single_identifier=!1,A.addSliderPrompts(n,t,s)}(b,this.policy,i))}for(l in(e.globalRandomSeed||[]).forEach(function(e){o[e].evaluationState.depends_on_random_seed=!0}),this.lastFrame=Object.create(this.parent_frame),i)i.hasOwnProperty(l)&&(this.lastFrame[l]=i[l])},le.prototype.processEvents=function(e){if(e&&this.actions){for(var t,n=Object.create(this.frame),o={},i=!1,a=!1,s=0,c=e;s<c.length;s++){var l,u=c[s];switch(this.globalEventCount+=1,n.globalEventCount=r.Constant(this.globalEventCount),u.type){case"step":if(!(l=this.statements[u.expressionId]))continue;a=!0,ce(l.tryGetConcreteTree(this.policy,n),o,n);break;case"click":if(!(l=this.statements[u.expressionId])||!l.metaData.clickHandler)continue;n.index=r.Constant(u.indexVar+1),i=a=!0,ce(l.metaData.clickHandler.tryGetConcreteTree(this.policy,n),o,n);break;case"clock-tick":(void 0===t||u.isFirstTick&&!t.isFirstTick)&&(t=u);break;default:return u}}return t&&(l=this.statements[t.id])&&l instanceof r.Ticker&&"number"==typeof(e=l.minStep.tryGetConcreteTree(this.policy,n).asValue())&&0<=e&&isFinite(e)&&(e=this.lastClockTickTime,this.lastClockTickTime=Date.now(),t.isFirstTick||void 0===e||(n.dt=r.Constant(this.lastClockTickTime-e),ce(l.handler.tryGetConcreteTree(this.policy,n),o,n))),{objectClicked:i,userAction:a,updates:o}}},h=le,t.Context=h}),define("worker/workercore",["require","core/math/context"],function(e){"use strict";var t=e("core/math/context").Context;return function(e){var r=new t;return{processChangeSet:function(t){t=r.processChangeSet(t),e("processChangeSet",t)}}}}),define("worker/fakeworker",["require","worker/workercore"],function(e){"use strict";var t=e("worker/workercore");return function(e){var r={},n=t(function(t,r){e({type:t,payload:r})});return r.postMessage=function(e){setTimeout(function(){n.processChangeSet(e)},0)},r}}),define("worker/workerpool",["require","console","./create_worker_url","pjs","underscore_model","./fakeworker","underscore","lib/urlparser"],function(e){"use strict";var t=e("console"),r=e("./create_worker_url"),n=e("pjs"),o=e("underscore_model").UnderscoreModel,i=e("./fakeworker"),a=e("underscore"),s=e("lib/urlparser"),c="";try{void 0===(c=s.getParameter(window.location.search,"workerThrottle"))&&(c=s.getParameter(window.top.location.search,"workerThrottle"))}catch(t){}var l=parseInt(c,10),u=0;function d(e){return l?function(t){u=Math.max(Date.now(),u)+l,setTimeout(e,u-Date.now(),t)}:e}return n(o,function(e,n){e.init=function(e){n.init.call(this),this.workers=[],this.maxWorkers=e,this.workerURL=r()},e.allowedToSpawnWorker=function(){return this.workerURL&&this.workers.length<this.maxWorkers},e.killWorker=function(e){-1!==a.indexOf(this.workers,e)&&(e.terminate(),this.workers=a.without(this.workers,e),a.shuffle(a.values(e.__connections)).forEach(function(e){e&&e.onWorkerKilled&&e.onWorkerKilled()}))},e.spawnWorker=function(){try{var e=new Worker(this.workerURL);return e.__connections={},e.__isFake=!1,e.onerror=function(e){t.log(e)},e.addEventListener("message",d(function(t){var r=t.data;r&&r.log||!r||!r.connectionId||(t=e.__connections[r.connectionId])&&t.onResponse(r.originalMessage)})),this.workers.push(e),e}catch(e){return null}},e.spawnFakeWorker=function(){var e=i(d(function(t){var r=a.values(e.__connections)[0];r&&r.onResponse(t)}));return e.__isFake=!0,e.__connections={},e},e.findLeastUsedWorker=function(){return a.sortBy(this.workers,function(e){return a.size(e.__connections)})[0]},e.allocateWorker=function(){var e=null;return this.allowedToSpawnWorker()&&(e=this.spawnWorker()),(e=e||this.findLeastUsedWorker())||this.spawnFakeWorker()}})}),define("main/evaluator",["require","exports","worker/workerpoolconnection","worker/workerpool","core/lib/deepCopy","core/math/functions","underscore"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Evaluator=void 0;var s=(c.prototype.createWorkerPoolConnection=function(){var e=this;this.workerPoolConnection&&(this.workerPoolConnection.onResponse=function(){},this.workerPoolConnection.onWorkerKilled=function(){}),this.workerPoolConnection=r(this.workerPool),this.markJobFinished(),this.workerPoolConnection.onResponse=function(t){e.shouldIgnoreWorkerMessage(t)?"processChangeSet"===t.type&&(e.markJobFinished(),e._processChangeSet()):e.listeners[t.type].call(e,t.payload)},this.workerPoolConnection.onWorkerKilled=function(){var t=e.hasJobInWorker();e.createWorkerPoolConnection(),t?(e.changeSet=o.default(e.cumulativeChangeSet),e.__state.changed=!0,e.__state.droppedMessage=!0):(e.changeSet=o.default(e.cumulativeChangeSet),e.__state.changed=!1),e.processChangeSet()}},c.prototype.destroy=function(){this.workerPoolConnection&&(this.workerPoolConnection.onResponse=function(){},this.workerPoolConnection.onWorkerKilled=function(){},this.workerPoolConnection.destroy())},c.prototype.shouldIgnoreWorkerMessage=function(e){return!(!this.__suspendUntilSyncId||e&&e.payload&&e.payload.syncId>=this.__suspendUntilSyncId)},c.prototype.suspend=function(){var e=this;this.changeSet&&this.changeSet.syncId||(this.syncId++,this.applyToChangeSets(function(t){t.syncId=e.syncId})),this.__suspendUntilSyncId=this.changeSet.syncId},c.prototype.markJobFinished=function(){this.__state.droppedMessage=!1,this.__jobStartTime=-1,this.__suspendUntilSyncId=void 0},c.prototype.startJobTimer=function(){this.__jobStartTime=(new Date).getTime()},c.prototype.hasJobInWorker=function(){return-1!==this.__jobStartTime},c.prototype.getJobElapsedTime=function(){return this.hasJobInWorker()?(new Date).getTime()-this.__jobStartTime:NaN},c.prototype.setTicksEnabled=function(e){this.__ticksEnabled=e},c.prototype.tick=function(){this.__ticksEnabled&&this._processChangeSet()},c.prototype.processChangeSet=function(){this.__processChangeSetRequested=!0},c.prototype._processChangeSet=function(){var e;this._syncEvaluatorConfig(),this.__processChangeSetRequested&&(e=4e3<=this.getJobElapsedTime(),this.__state.droppedMessage&&e?this.workerPoolConnection.killWorker():this.__state.changed&&this.changeSet&&(this.changeSet.syncId||(this.syncId++,this.changeSet.syncId=this.syncId),this.hasJobInWorker()?this.changeSet.isCompleteState&&e&&this.workerPoolConnection.killWorker():(e=this.changeSet,this.changeSet=null,this.__state.changed=!1,this.startJobTimer(),this.workerPoolConnection.sendMessage(e),this.__processChangeSetRequested=!1)))},c.prototype.notifyWhenSynced=function(e){var t=this;this._syncEvaluatorConfig(),this.hasJobInWorker()||this.changeSet?(this.syncId++,this.syncRequests.push({id:this.syncId,callback:e}),this.applyToChangeSets(function(e){e.syncId=t.syncId})):setTimeout(e,0)},c.prototype.applyToChangeSets=function(e){this.__state.changed=!0,this.changeSet||(this.changeSet={}),this.cumulativeChangeSet||(this.cumulativeChangeSet={}),e(this.changeSet),e(this.cumulativeChangeSet),this.processChangeSet()},c.prototype.clearStatementsAndStartCompleteState=function(){this.hasJobInWorker()&&this.suspend(),this.applyToChangeSets(function(e){e.isCompleteState=!0,delete e.statements})},c.prototype.markUndoRedoState=function(){this.applyToChangeSets(function(e){e.isUndoRedoState=!0})},c.prototype.addStatement=function(e){this.applyToChangeSets(function(t){t.statements||(t.statements={}),t.statements[e.id]=o.default(e)})},c.prototype.removeStatement=function(e){this.applyToChangeSets(function(t){t.statements||(t.statements={}),t.removes||(t.removes={}),delete t.statements[e],t.removes[e]=!0})},c.prototype.addActionStepEvent=function(e){this.applyToChangeSets(function(t){t.events||(t.events=[]),t.events.push({type:"step",expressionId:e})})},c.prototype.addClockTickEvent=function(e,t){this.applyToChangeSets(function(r){r.events||(r.events=[]),r.events.push({type:"clock-tick",id:e,isFirstTick:t})})},c.prototype.addClickEvent=function(e,t){this.applyToChangeSets(function(r){r.events||(r.events=[]),void 0===t&&(t=0),r.events.push({type:"click",expressionId:e,indexVar:t})})},c.prototype._syncEvaluatorConfig=function(){if(this.readEvaluatorConfig){var e,t=this.readEvaluatorConfig();for(e in t)this._applyIfChanged(t,e)}},c.prototype._applyIfChanged=function(e,t){var r=this.cumulativeChangeSet&&this.cumulativeChangeSet[t],n=e[t];a.isEqual(r,n)||this.applyToChangeSets(function(e){e[t]=n})},c);function c(e){this.__ticksEnabled=!0,this.listeners={processChangeSet:function(e){var t={},r={};for(o in e.graphChanges){var n=e.graphChanges[o];void 0===n?r[o]=!0:(i.rehydrateGraphData(n),t[o]=n)}var o,a={};for(o in e.intersectionChanges)r[o]||(a[o]=e.intersectionChanges[o]);var s=!!this.changeSet;this.onEvaluatorResults({evaluationStates:e.statusChanges,graphData:{addedGraphs:t,removedGraphs:r,intersections:a},renderSlowly:!!e.isCompleteState,timingData:e.timingData,eventUpdates:e.eventUpdates});for(var c=e.syncId;this.syncRequests.length&&void 0!==c&&this.syncRequests[0].id<=c;)this.syncRequests.shift().callback();this.markJobFinished(),s&&this._processChangeSet()}},this.__state={},this.changeSet=null,this.cumulativeChangeSet={},this.syncId=1,this.syncRequests=[],e=e||n(),this.workerPool=e,this.createWorkerPoolConnection()}t.Evaluator=s}),define("api/util",["require","exports","lib/console"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateLanguage=void 0,t.validateLanguage=function(e){return"es-ES"===e?(r.warn("{language: 'es-ES'} has been deprecated. Proceeding with {language: 'es'}"),"es"):e}}),define("loadcss!tour",function(){}),define("loadcss!calculator_embed",function(){}),define("loadcss!buttons",function(){}),define("loadcss!dcg-normalize",function(){}),define("loadcss!projector_mode",function(){}),define("loadcss!desmos-icons",function(){}),define("loadcss!popovers",function(){}),define("main/calc_embed",["require","exports","main/graph_settings","tours/tour_manager","tslib","jquery","main/controller","dcgview","main/instancehotkeys","lib/console","underscore","lib/defocus-mobile","graphing-calc/views/main","underscore_model","graphing/viewport","main/evaluator","graphing/grapher","core/lib/color-helpers","api/util","lib/parse-query-params","loadcss!tour","loadcss!calculator_embed","loadcss!buttons","loadcss!dcg-normalize","loadcss!projector_mode","loadcss!desmos-icons","loadcss!popovers"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g,m,y,v,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var x,w=0,E=(S.prototype.setOption=function(e,t){this.controller.getGraphSettings().config.setProperty(e,t)},S.prototype.setOptions=function(e){var t,r=this.controller.getGraphSettings().config,n=o.__assign({},e);function i(e){var t=e.notes,r=e.folders;e=e.images;return!1===t||!1===r||!1===e}e.hasOwnProperty("backgroundColor")&&(y.isValidHexColor(e.backgroundColor)||(l.warn("Invalid backgroundColor. Background color must be a 3- or 6-character hex color (e.g. #cde or #ffaaaa)"),delete n.backgroundColor)),e.hasOwnProperty("textColor")&&(y.isValidHexColor(e.textColor)||(l.warn("Invalid textColor. Text color must be a 3- or 6-character hex color (e.g. #000 or #001111)"),delete n.textColor)),e.hasOwnProperty("menus")&&(l.warn("Deprecated option: menus. Setting settingsMenu and expressionsTopbar instead."),e.hasOwnProperty("settingsMenu")||(n.settingsMenu=!!e.menus),e.hasOwnProperty("expressionsTopbar")||(n.expressionsTopbar=!!e.menus)),e.hasOwnProperty("solutions")&&(l.warn("Deprecated option: solutions. Setting pointsOfInterest instead."),e.hasOwnProperty("pointsOfInterest")||(n.pointsOfInterest=!!e.solutions)),e.hasOwnProperty("singleVariableSolutions")&&l.warn("Deprecated option: singleVariableSolutions has been removed."),!1===e.graphpaper&&(e.expressionsCollapsed&&(n.expressionsCollapsed=!1,l.warn("Cannot set graphpaper: false with expressionsCollapsed: true. Proceeding with expressionsCollapsed: false.")),r.expressionsCollapsed&&(n.expressionsCollapsed=!1,l.warn("Disabling the graphpaper with the expressions list collapsed is not supported.Setting expressionsCollapsed: false.")),e.zoomButtons&&(n.zoomButtons=!1,l.warn("Cannot set graphpaper: false with zoomButtons: true. Proceeding with zoomButtons: false.")),e.showResetButtonOnGraphpaper&&(n.showResetButtonOnGraphpaper=!1,l.warn("Cannot set graphpaper: false with showResetButtonOnGraphpaper: true. Proceeding with showResetButtonOnGraphpaper: false.")),r.zoomButtons&&(n.zoomButtons=!1,l.warn("Disabling the graphpaper with the zoomButtons visible is not supported. Setting zoomButtons: false.")),r.showResetButtonOnGraphpaper&&(n.showResetButtonOnGraphpaper=!1,l.warn("Disabling the graphpaper with the reset button visible is not supported. Setting showResetButtonOnGraphpaper: false."))),!1===r.graphpaper&&(e.expressionsCollapsed||e.zoomButtons||e.showResetButtonOnGraphpaper)&&(n.graphpaper=!0,l.warn("Must have visible graphpaper to proceed. Setting graphpaper: true.")),e.lockViewport&&e.zoomButtons&&(n.zoomButtons=!1,l.warn("Cannot set zoomButtons: true and lockViewport: true. Proceeding with zoomButtons: false.")),r.lockViewport&&e.zoomButtons&&(n.lockViewport=!1,l.warn("Cannot set zoomButtons: true while the viewport is locked. Setting lockViewport: false.")),r.zoomButtons&&e.lockViewport&&(n.zoomButtons=!1,l.warn("Cannot lock the viewport without hiding the zoom buttons. Setting zoomButtons: false."));var a,s=i(e),c=i(o.__assign(o.__assign({},r),e)),u=r.pasteGraphLink;r=e.pasteGraphLink;for(t in s?(r||u)&&(n.pasteGraphLink=!1,l.warn("Cannot disable creating note, folder, or image expressions without disabling graph link pasting. Setting pasteGraphLink: false.")):r&&c&&(n.notes=!0,n.folders=!0,n.images=!0,l.warn("Cannot enable graph link pasting while the creation of notes, folders, or images is disable. Setting notes: true, folders: true, images: true.")),e.language&&(n.language=v.validateLanguage(e.language)),n)if(n.hasOwnProperty(t))switch(t){case"expressionsCollapsed":this.setOption("expressionsCollapsed",!!n.expressionsCollapsed),n.expressionsCollapsed?this.controller.dispatch({type:"hide-expressions-list",focusShowIcon:!1}):this.controller.dispatch({type:"show-expressions-list",focusHideIcon:!1});break;case"qwertyKeyboard":this.setOption("qwertyKeyboard",!!n.qwertyKeyboard),this.controller.isLetterKeypadOpen()&&this.controller.dispatch({type:"keypad/abc"});break;case"degreeMode":this.setOption("degreeMode",!!n.degreeMode),this.controller.getGraphSettings().setGraphSettings({degreeMode:!!n.degreeMode});break;case"actions":if(void 0===(a=n[t])||a===this.controller.getGraphSettings().config.actions)break;this.setOption(t,a),this.setState(this.getState(),{allowUndo:!0});break;case"keypad":case"graphpaper":case"expressions":case"settingsMenu":case"zoomButtons":case"showResetButtonOnGraphpaper":case"expressionsTopbar":case"pointsOfInterest":case"trace":case"border":case"lockViewport":case"administerSecretFolders":case"advancedStyling":case"images":case"imageUploadCallback":case"folders":case"notes":case"sliders":case"links":case"restrictedFunctions":case"forceEnableGeometryFunctions":case"distributions":case"pasteGraphLink":case"pasteTableData":case"clearIntoDegreeMode":case"autosize":case"plotSingleVariableImplicitEquations":case"plotImplicits":case"plotInequalities":case"colors":case"branding":case"disableScrollFix":case"invertedColors":case"fontSize":case"projectorMode":case"language":case"redrawSlowly":case"onlyTraceSelected":case"disableMouseInteractions":case"nativeOnscreenKeypad":case"functionDefinition":case"plaidMode":case"pasteGraphLinkCallback":case"editOnWeb":case"crossOriginSaveTest":case"backgroundColor":case"textColor":case"enableTabindex":case"audioTraceReverseExpressions":case"showHamburger":case"decimalToFraction":case"capExpressionSize":case"transparentBackground":case"pauseWhenOffscreen":case"brailleMode":case"sixKeyInput":case"brailleControls":case"zoomFit":case"forceLogModeRegressions":case"audio":void 0!==(a=n[t])&&this.setOption(t,a);break;default:return t}},S.prototype.setViewport=function(e){this.grapher.viewportController.setViewport(new f.Viewport(e[0],e[1],e[2],e[3]))},S.prototype.resize=function(e){e&&this.controller.dispatch({type:"ui/container-resized",size:e})},S.prototype.interceptTouch=function(){var e=i(this.rootElt),t=e.find(".dcg-expression-top-bar");t.add(e.find(".dcg-keypad")),t.length&&(t.on("touchstart",function(e){i(e.target).is("input, textarea")||e.preventDefault()}),t.on("touchend",function(e){0<i(e.target).closest(".dcg-do-not-blur").length||d.default()}))},S.prototype.destroy=function(){i(window).off(".calculator-"+this.__id);var e=i(this.rootElt);e.off(".calculator-"+this.__id),this.unsubFunc(),this.graphSettings.unobserveAll(),this.evaluator&&this.evaluator.destroy(),this.grapher&&this.grapher.remove(),s.unmountFromNode(this.rootElt),e.remove()},S.prototype.tick=function(e,t){t||(this.controller.handleTick(e),this.controller.updateRenderShellsAfterDispatch()),this.evaluator.tick(),this.grapher&&this.grapher.tick(e)},S.prototype.getState=function(e){return this.controller.getState(e)},S.prototype.setBlank=function(e){this.controller.dispatch({type:"set-blank",opts:e||{}})},S.prototype.setState=function(e,t){this.controller.dispatch({type:"set-state",state:e,opts:t||{}})},S);function S(e,t,o,l){var d=this;e=e||document.createElement("div");var f=document.createElement("div");f.className="dcg-wrapper",f.style.width="100%",f.style.height="100%",e.appendChild(f),this.__id=w++;var y,v=new r;for(y in this.graphSettings=v,o)v.config.setProperty(y,o[y]);var b=new a.default(v);this.controller=b,l&&b.dispatch({type:"ui/container-resized",size:l}),this.rootElt=f,this.view=s.mountToNode(p.default,this.rootElt,{controller:s.const(b)}),f=new g.Evaluator(t),this.controller.setEvaluator(f),this.controller.setRootElt(this.rootElt);t=b.find$(".dcg-grapher");var x=new m.Grapher(t,v,this.controller,f);this.controller.setGrapher(x),v.registerCallbacks(x,f),this.controller.initStateStack(),v.config.redrawSlowly||(x.redrawSlowly=x.redrawAllLayers),f.readEvaluatorConfig=function(){return{evaluationMode:"graphing",globalRandomSeed:v.randomSeed,degreeMode:v.degreeMode,viewState:b.getViewState(),intersectId:b.getIntersectId(),restrictedFunctions:v.config.restrictedFunctions,forceEnableGeometryFunctions:v.config.forceEnableGeometryFunctions,distributions:v.config.distributions,pointsOfInterest:v.config.pointsOfInterest,plotSingleVariableImplicitEquations:v.config.plotSingleVariableImplicitEquations,plotImplicits:v.config.plotImplicits,plotInequalities:v.config.plotInequalities,sliders:v.config.sliders,actions:!!v.config.actions,dimensions:b.getGrapherDimensions()}},f.onEvaluatorResults=function(e){d.controller.dispatch({type:"on-evaluator-changes",changes:e.evaluationStates,timingData:e.timingData,graphData:e.graphData,eventUpdates:e.eventUpdates}),e.renderSlowly?x.redrawSlowly():x.redrawAllLayers()},this.unsubFunc=this.controller.subToChanges(function(){d.controller.doesDOMHaveSize()&&(d.view.update(),x.update());var e,t,r,n=!1;e=!1,r={left:(t=b.computeMajorLayout()).grapher.left,right:t.grapher.left+t.grapher.width,width:t.grapher.width,top:t.grapher.top,bottom:t.grapher.top+t.grapher.height,height:t.grapher.height},t={top:(t=x.getCurrentViewport()).ymax,bottom:t.ymin,left:t.xmin,right:t.xmax,width:t.xmax-t.xmin,height:t.ymax-t.ymin},u.isEqual(t,E.mathCoordinates)||(E.setProperty("mathCoordinates",t),e=!0),0<r.height&&0<r.width&&!u.isEqual(r,E.pixelCoordinates)&&(E.setProperty("pixelCoordinates",r),e=!0),e&&(n=!0),function(){var e=!1,t=x.getProjection(),r=x.viewportController.isZoomRestored();return r!==v.zoomedDefault&&(v.setProperty("zoomedDefault",r),e=!0),(t=t.viewport.isSquare(t.screen))!==v.squareAxes&&(v.setProperty("squareAxes",t),e=!0),e}()&&(n=!0),n&&d.controller.doesDOMHaveSize()&&(d.view.update(),x.update())});var E=new h.UnderscoreModel;E.setProperties({pixelCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0},mathCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0}}),this.graphpaperBounds=E,i(this.rootElt).on("keydown.calculator-"+this.__id,function(e){d.grapher&&d.grapher.audioGraph.handleKeydown(e),d.instanceHotkeys.handleKeydown(e)}),i(window).on("dcg-tapstart.calculator-"+this.__id,function(e){var t=i(e.target),r=!!t.closest(d.rootElt).length,n=e.wasHandled("create-expression-with-keyboard"),o=!!t.closest(".dcg-api-shared-keypad-root").length,a=!!t.hasClass("dcg-shell");r||o||a||n||b.dispatch({type:"set-none-selected"}),e.wasHandled("do-not-clear-poi-labels")||(x.traceLayer.clearOpenedPOI(),x.redrawAllLayers()),b.isInEditListMode()&&(t=0===t.closest(".dcg-exppanel").length&&0===t.closest(".dcg-options-menu").length&&0===t.closest(".dcg-expression-top-bar").length&&0===t.closest(".dcg-keypad").length,r&&!t||b.dispatch({type:"set-edit-list-mode",isEditListMode:!1,focusExpressionList:!1}))}),this.grapher=x,this.evaluator=f,this.tourManager=n({evaluator:f}),this.controller.dispatch({type:"set-blank"});var S={};["degreeMode"].forEach(function(e){void 0!==o[e]&&(S[e]=o[e])}),v.setGraphSettings(S),v.config.expressionsCollapsed&&this.setOptions({expressionsCollapsed:!0}),v.config.capExpressionSize&&this.setOptions({capExpressionSize:!0}),v.config.hasOwnProperty("pointsOfInterest")&&this.setOptions({pointsOfInterest:v.config.pointsOfInterest}),v.config.hasOwnProperty("backgroundColor")&&this.setOptions({backgroundColor:v.config.backgroundColor}),v.config.hasOwnProperty("textColor")&&this.setOptions({textColor:v.config.textColor}),v.config.observe("language",function(){var e=d.controller.getState();d.controller.dispatch({type:"set-state",state:e}),d.tourManager&&(d.tourManager.closingMsg=function(e,t){return"<b>"+e+"</b><br>"+d.controller.s("graphing-tours-label-self-destruct",{seconds:t})})}),v.config.observe("forceLogModeRegressions",function(){v.config.forceLogModeRegressions&&d.controller.setAllRegressionsToLogMode()}),this.instanceHotkeys=new c.default(b)}function k(){var e=i('<div style="z-index:99999; position: absolute; left: 0; top: 0;background:#FFF">waiting...</div>').appendTo("body"),t=window,r=[];t.Calc.controller.onEvaluatorChangesSpy=function(){r.push(Date.now())},setInterval(function(){for(var t=Date.now();1e3<t-r[0];)r.shift();e.text(r.length+" fps")},100)}function _(){var e,t=i('<div style="z-index:99999; position: absolute; left: 0; top: 0;background:#FFF">waiting...</div>').appendTo("body"),r=window,n=[],o=0;r.Calc.controller.onEvaluatorChangesSpy=function(e,t){t=t.timeInWorker,n[o%100]=t,o+=1},function r(){cancelAnimationFrame(e),e=requestAnimationFrame(r),function(){for(var e=0,r=0,o=n;r<o.length;r++)e+=o[r];var i=e/n.length;t.text(i.toFixed(1)+" ms")}()}()}t.default=E,b.getQueryParams().simulationFPS&&(x=setInterval(function(){window.Calc&&(clearInterval(x),setTimeout(k,1e3))},1)),b.getQueryParams().timeInWorker&&(x=setInterval(function(){window.Calc&&(clearInterval(x),setTimeout(_,1e3))},1))}),define("lib/dom-change-detector",["require","exports","tslib","jquery"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkAllWatchingDetectors=t.testFixture=void 0;var o=1,i={},a=!1;function s(){a=!0,requestAnimationFrame(c)}function c(){for(var e in t.testFixture.rafSPY&&t.testFixture.rafSPY(),a=!1,i)i[e].detectAndEnqueueEvent(),a=!0;if(a)for(var e in s(),i)i[e].dispatchQueuedEvent()}t.testFixture={},t.checkAllWatchingDetectors=c;var l=(u.prototype.stopWatching=function(){delete i[this.id]},u.prototype.startWatching=function(){this.checkForChanges(),i[this.id]=this,a||s()},u.prototype.resetAppliedScalingAndGetBoundingClientRect=function(){var e=this.elt.getBoundingClientRect(),t={x:e.width/this.elt.offsetWidth,y:e.height/this.elt.offsetHeight};if(t.x===this.appliedScale.x&&t.y===this.appliedScale.y)return e;var r=n(this.elt).children(".dcg-wrapper")[0];return r&&(this.appliedScale=t,n(r).css({transform:"scale("+1/this.appliedScale.x+","+1/this.appliedScale.y+")",width:100*this.appliedScale.x+"%",height:100*this.appliedScale.y+"%","transform-origin":"0 0"})),e},u.prototype.detectAndEnqueueEvent=function(){var e,t;this.destroyed||(t=!0,document.body&&document.body.contains(this.elt)?(t=(e=this.resetAppliedScalingAndGetBoundingClientRect()).top>window.innerHeight||e.bottom<0||e.left>window.innerWidth||e.right<0,this.lastSize?e.width===this.lastSize.width&&e.height===this.lastSize.height||(this.lastSize.width=e.width,this.lastSize.height=e.height,this.queuedEvent={type:"resized",target:this.elt,size:r.__assign({},this.lastSize),isOffscreen:t}):(this.lastSize={width:e.width,height:e.height},this.queuedEvent={type:"added",target:this.elt,size:r.__assign({},this.lastSize),isOffscreen:t})):this.lastSize&&(this.lastSize=void 0,this.queuedEvent={type:"removed",target:this.elt,isOffscreen:!0}),t!==this.lastOffscreen&&(this.lastOffscreen=t,this.queuedEvent||(this.queuedEvent={type:"offscreen-noop",target:this.elt,isOffscreen:t})))},u.prototype.dispatchQueuedEvent=function(){var e=this.queuedEvent;e&&(this.queuedEvent=void 0,this.cb(e))},u.prototype.checkForChanges=function(){this.detectAndEnqueueEvent(),this.dispatchQueuedEvent()},u.prototype.destroy=function(){for(var e in this.stopWatching(),this)this.hasOwnProperty(e)&&delete this[e];this.destroyed=!0},u);function u(e,t){this.elt=e,this.cb=t,this.destroyed=!1,this.lastOffscreen=!1,this.id=o.toString(),this.appliedScale={x:1,y:1},o++}t.default=l}),define("graphing/compute-async-screenshot-bounds",["require","exports","lib/console"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computeBoundsFromScreenshotOpts=void 0,t.computeBoundsFromScreenshotOpts=function(e){var t=e.mode,n=e.width,o=e.height,i=e.currentBounds,a=e.graphpaperAspectRatio,s=e.mathAspectRatio,c=e.mathBounds,l=n/o,u=i.left+i.width/2,d=i.bottom+i.height/2;if(void 0===c.left!=(void 0===c.right)||void 0===c.bottom!=(void 0===c.top))return r.warn('asyncScreenshot: cannot specify "left" bound without "right" or "bottom" bound without "top". Got: '+c),i;var p,h,f,g,m,y,v,b,x,w=void 0!==c.left&&void 0!==c.right,E=void 0!==c.bottom&&void 0!==c.top,S=w&&E;switch(t){case"stretch":return S?c:w?{left:c.left,right:c.right,bottom:i.bottom,top:i.top}:E?{left:i.left,right:i.right,bottom:c.bottom,top:c.top}:i;case"contain":return S?(f=c.right-c.left,g=c.top-c.bottom,m={x:c.left+f/2,y:c.bottom+g/2},f/g<l?(p=(h=g/o)*s,{left:m.x-p*n/2,right:m.x+p*n/2,bottom:c.bottom,top:c.top}):(h=(p=f/n)/s,{left:c.left,right:c.right,bottom:m.y-h*o/2,top:m.y+h*o/2})):w?(y=c.right-c.left,v=c.left+y/2,l>y/i.height?{left:v-(p=(h=i.height/o)*s)*n/2,right:v+p*n/2,bottom:i.bottom,top:i.top}:(h=(p=y/n)/s,{left:c.left,right:c.right,bottom:d-h*o/2,top:d+h*o/2})):E?(b=c.top-c.bottom,x=c.bottom+b/2,l>i.width/b?{left:u-(p=(h=b/o)*s)*n/2,right:u+p*n/2,bottom:c.bottom,top:c.top}:(h=(p=i.width/n)/s,{left:i.left,right:i.right,bottom:x-h*o/2,top:x+h*o/2})):a<l?{left:u-(p=(h=i.height/o)*s)*n/2,right:u+p*n/2,bottom:i.bottom,top:i.top}:(h=(p=i.width/n)/s,{left:i.left,right:i.right,bottom:d-h*o/2,top:d+h*o/2});case"preserveX":return S?(f=c.right-c.left,g=c.top-c.bottom,m={x:c.left+f/2,y:c.bottom+g/2},h=(p=f/n)/s,{left:c.left,right:c.right,bottom:m.y-h*o/2,top:m.y+h*o/2}):E?(b=c.top-c.bottom,x=c.bottom+b/2,i.width,h=(p=i.width/n)/s,{left:i.left,right:i.right,bottom:x-h*o/2,top:x+h*o/2}):w?(h=(p=(y=c.right-c.left)/n)/s,{left:c.left,right:c.right,bottom:d-h*o/2,top:d+h*o/2}):(h=(p=(y=i.right-i.left)/n)/s,{left:i.left,right:i.right,bottom:d-h*o/2,top:d+h*o/2});case"preserveY":return S?(f=c.right-c.left,p=(h=(g=c.top-c.bottom)/o)*s,{left:(m={x:c.left+f/2,y:c.bottom+g/2}).x-p*n/2,right:m.x+p*n/2,bottom:c.bottom,top:c.top}):w?(y=c.right-c.left,v=c.left+y/2,i.height,{left:v-(p=(h=i.height/o)*s)*n/2,right:v+p*n/2,bottom:i.bottom,top:i.top}):E?{left:u-(p=(h=(b=c.top-c.bottom)/o)*s)*n/2,right:u+p*n/2,bottom:c.bottom,top:c.top}:{left:u-(p=(h=(b=i.top-i.bottom)/o)*s)*n/2,right:u+p*n/2,bottom:i.bottom,top:i.top};default:return i}}}),define("dcgview-helpers/mathquill-proxy",["require","exports","dcgview-helpers/mathquill-view"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MathQuillProxy=void 0;var n=(o.prototype.simulateUserChangedLatex=function(){r.default.simulateUserChangedLatex(this.mq)},o.prototype.simulateKeypress=function(e){r.default.simulateKeypress(this.mq,e)},o.prototype.latex=function(e){return void 0===e?this.mq.latex():(this.mq.latex(e),this.simulateUserChangedLatex(),this)},o.prototype.reflow=function(){this.mq.reflow()},o.prototype.el=function(){return this.mq.el()},o.prototype.getAriaLabel=function(){return this.mq.getAriaLabel()},o.prototype.setAriaLabel=function(e){return this.mq.setAriaLabel(e)},o.prototype.html=function(){return this.mq.html()},o.prototype.mathspeak=function(){return this.mq.mathspeak()},o.prototype.text=function(){return this.mq.text()},o.prototype.selection=function(){return this.mq.selection()},o.prototype.select=function(){return this.mq.select(),this},o.prototype.moveToRightEnd=function(){return this.mq.moveToRightEnd(),this},o.prototype.moveToLeftEnd=function(){return this.mq.moveToLeftEnd(),this},o.prototype.cmd=function(e){return this.mq.cmd(e),this.simulateUserChangedLatex(),this},o.prototype.write=function(e){return this.mq.write(e),this.simulateUserChangedLatex(),this},o.prototype.keystroke=function(e){return this.simulateKeypress(e),this},o.prototype.typedText=function(e){return this.mq.typedText(e),this.simulateUserChangedLatex(),this},o.prototype.clearSelection=function(){return this.mq.clearSelection(),this},o.prototype.getAriaPostLabel=function(){return this.mq.getAriaPostLabel()},o.prototype.setAriaPostLabel=function(e,t){return this.mq.setAriaPostLabel(e,t),this},o.prototype.blur=function(){return this.mq.blur(),this},o.prototype.focus=function(){return this.mq.focus(),this},o.prototype.revert=function(){return this.mq.revert()},o.prototype.ignoreNextMousedown=function(e){return this.mq.ignoreNextMousedown(e),this},o.prototype.clickAt=function(e,t,r){return this.mq.clickAt(e,t,r),this},o);function o(e){this.mq=e,this.id=e.id,this.data=e.data}t.MathQuillProxy=n}),define("main/shared-worker-pool",["require","exports","worker/workerpool","lib/urlparser"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n.getParameter(location.search,"nworkers");n=4;o&&(n=parseInt(o,10)),t.default=new r(n)}),define("graphing-calc/json/config-options",["require","exports","tslib","core/lib/color-helpers","lib/console","main/font_sizes","expressions/colors","expressions/image_file_to_data_url","core/lib/deepCopy","api/util"],function(e,t,r,n,o,i,a,s,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u={keypad:!(t.validateConfigOptions=t.isConfigOption=t.publicConfigOptions=void 0),graphpaper:!0,expressions:!0,settingsMenu:!0,zoomButtons:!0,showResetButtonOnGraphpaper:!1,expressionsTopbar:!0,capExpressionSize:!1,pointsOfInterest:!0,trace:!0,border:!0,lockViewport:!1,expressionsCollapsed:!1,administerSecretFolders:!1,advancedStyling:!1,images:!0,imageUploadCallback:s.imageFileToDataURL,folders:!0,notes:!0,sliders:!0,links:!0,qwertyKeyboard:!0,restrictedFunctions:!1,forceEnableGeometryFunctions:!1,pasteGraphLink:!1,pasteTableData:!0,degreeMode:!1,clearIntoDegreeMode:!1,autosize:!0,plotSingleVariableImplicitEquations:!0,plotImplicits:!0,plotInequalities:!0,colors:{RED:a.RED,BLUE:a.BLUE,GREEN:a.GREEN,ORANGE:a.ORANGE,PURPLE:a.PURPLE,BLACK:a.BLACK},invertedColors:!1,functionDefinition:!0,projectorMode:!1,decimalToFraction:!0,fontSize:i.MEDIUM,language:"en",backgroundColor:"#fff",textColor:"#000",distributions:!0,brailleMode:"none",sixKeyInput:!1,brailleControls:!0,zoomFit:!0,forceLogModeRegressions:!1,actions:"auto",audio:!0};t.publicConfigOptions=Object.keys(u);var d={showHamburger:!1,disableScrollFix:!1,branding:!0,redrawSlowly:!1,onlyTraceSelected:!1,disableMouseInteractions:!1,nativeOnscreenKeypad:!1,plaidMode:!1,pasteGraphLinkCallback:void 0,editOnWeb:!1,crossOriginSaveTest:!1,enableTabindex:!0,audioTraceReverseExpressions:!1,transparentBackground:!1,pauseWhenOffscreen:!1},p={solutions:!0,menus:!0,singleVariableSolutions:!0,clickableObjects:!1},h=r.__assign(r.__assign({},u),d);t.isConfigOption=function(e){return!!u.hasOwnProperty(e)||!!d.hasOwnProperty(e)||!!p.hasOwnProperty(e)},t.validateConfigOptions=function(e){var t,r=c.default(h);for(t in e)r.hasOwnProperty(t)&&(r[t]=e[t]);return n.isValidHexColor(r.backgroundColor)||(r.backgroundColor=h.backgroundColor,o.warn("Invalid backgroundColor. Background color must be a 3- or 6-character hex color (e.g. #cde or #ffaaaa)")),n.isValidHexColor(r.textColor)||(r.textColor=h.textColor,o.warn("Invalid textColor. Text color must be a 3- or 6-character hex color (e.g. #000 or #001111)")),!0!==r.actions&&!1!==r.actions&&"auto"!==r.actions&&(r.actions=h.actions,o.warn("Invalid actions setting. Must be true, false, or 'auto'.")),void 0===e.zoomButtons&&(r.graphpaper&&!r.lockViewport||(r.zoomButtons=!1)),void 0===e.images&&(r.graphpaper||(r.images=!1)),e.hasOwnProperty("menus")&&(o.warn("As of API version 0.4, the 'menus' option is deprecated and has been split into 'settingsMenu' (boolean) and 'expressionsTopbar' (boolean)."),e.hasOwnProperty("settingsMenu")||(r.settingsMenu=!!e.menus),e.hasOwnProperty("expressionsTopbar")||(r.expressionsTopbar=!!e.menus)),e.hasOwnProperty("solutions")&&(o.warn("As of API v1.0, the 'solutions' option is deprecated and has been replaced with 'pointsOfInterest' (boolean)."),e.hasOwnProperty("pointsOfInterest")||(r.pointsOfInterest=!!e.solutions)),e.hasOwnProperty("singleVariableSolutions")&&o.warn("As of API v1.0, the 'singleVariableSolutions' has been removed. The calculator no longer displays solutions to single variable equations."),e.hasOwnProperty("clickableObjects")&&(o.warn("As of API v1.7, the 'clickableObjects' option is deprecated and has been replaced with 'actions'."),!0!==e.clickableObjects||e.hasOwnProperty("actions")||(r.actions=!0)),r.graphpaper||(r.expressionsCollapsed&&(r.expressionsCollapsed=!1,o.warn("Desmos API initialized with bad options. graphpaper: false and expressionsCollapsed: true are incompatible. Proceeding with expressionsCollapsed: false.")),r.zoomButtons&&(r.zoomButtons=!1,o.warn("Desmos API initialized with bad options. graphpaper: false and zoomButtons: true are incompatible. Proceeding with zoomButtons: false.")),r.showResetButtonOnGraphpaper&&(r.showResetButtonOnGraphpaper=!1,o.warn("Desmos API initialized with bad options. graphpaper: false and showResetButtonOnGraphpaper: true are incompatible. Proceeding with showResetButtonOnGraphpaper: false."))),r.lockViewport&&r.zoomButtons&&(r.zoomButtons=!1,o.warn("Desmos API initialized with bad options. lockViewport: true and zoomButtons: true are incompatible. Proceeding with zoomButtons: false.")),!1!==r.notes&&!1!==r.folders&&!1!==r.images||!0!==r.pasteGraphLink||(r.pasteGraphLink=!1,o.warn("Desmos API initialized with bad options. pasteGraphLink: true is incompatible with disabling the creation of note, folder, or image expressions. Proceeding with pasteGraphLink: false.")),r.language&&(r.language=l.validateLanguage(r.language)),r}}),define("api/graphing",["require","exports","tslib","lib/i18n","main/calc_embed","core/lib/deepCopy","underscore_model","core/math/recttransformation","lib/dom-change-detector","graphing/compute-async-screenshot-bounds","graphing-calc/api/sanitize-expression","dcgview-helpers/mathquill-view","dcgview-helpers/mathquill-proxy","lib/console","underscore","main/shared-clock-bus","main/shared-worker-pool","core/graphing-calc/json/graph-settings","graphing-calc/json/config-options","core/lib/random-seed","../lib/underscore-shim"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g,m,y,v,b,x){"use strict";function w(e,t){var r,n={},o={};for(r in e)v.isConfigOption(r)?n[r]=e[r]:y.isGraphSetting(r)?o[r]=e[r]:t||h.warn("Unrecognized setting: "+r+". Ignoring.");return{configOptions:n,settingsOptions:o}}function E(e,t){var r={};return t.hasOwnProperty("x")&&(r.x=e.mapX(t.x)),t.hasOwnProperty("y")&&(r.y=e.mapY(t.y)),r}var S;Object.defineProperty(t,"__esModule",{value:!0});var k,_=[],I=!1,M=(k=x.UnderscoreModelShim,r.__extends(L,k),L.prototype.destroy=function(){function e(e){h.warn("You've destroyed this API instance. You can no longer call ."+e+"()")}for(var t in this._calc.destroy(),this.controller.onEventsEmitted=function(){},g.unsubscribe(this._sharedClockBusToken),this.domChangeDetector.destroy(),this)"function"==typeof this[t]?this[t]=e.bind(this,t):this.hasOwnProperty(t)&&delete this[t];this.destroy=function(){},this._destroyed=!0},L.prototype._syncGraphpaperBounds=function(){var e=this;this.controller.runAfterDispatch(function(){e.setProperty("graphpaperBounds",{mathCoordinates:e._calc.graphpaperBounds.mathCoordinates,pixelCoordinates:e._calc.graphpaperBounds.pixelCoordinates})})},L.prototype._initGraphSettings=function(){var e=this,t=new a.UnderscoreModel;this.settings=this.graphSettings=t,y.publicGraphSettings.forEach(function(r){e._calc.grapher.settings.observeAndSync(r,function(){e.controller.runAfterDispatch(function(){t.setProperty(r,e._calc.grapher.settings[r])})})}),v.publicConfigOptions.forEach(function(r){e._calc.grapher.settings.config.observeAndSync(r,function(){e.controller.runAfterDispatch(function(){t.setProperty(r,e._calc.grapher.settings.config[r])})})})},L.prototype.updateSettings=function(e){e=(t=w(e,!1)).configOptions;var t=t.settingsOptions;f.isEmpty(e)||this._calc.setOptions(e),f.isEmpty(t)||this._calc.grapher.settings.setGraphSettings(t),this.notifyControllerOfAPICall()},L.prototype.setGraphSettings=function(e){h.warn("As of API v0.8 the 'setGraphSettings' method is deprecated and has been renamed 'updateSettings.'"),this.updateSettings(e),this.setGraphSettings=this.updateSettings,this.notifyControllerOfAPICall()},L.prototype.fetchLanguage=function(e){return n.fetchLanguage(e)},L.prototype.setDefaultState=function(e){this._calc.grapher.settings.setProperty("defaultState",e),this.notifyControllerOfAPICall()},L.prototype.mathToPixels=function(e){return E(s.RT.fromRects(this.graphpaperBounds.mathCoordinates,this.graphpaperBounds.pixelCoordinates),e)},L.prototype.pixelsToMath=function(e){return E(s.RT.fromRects(this.graphpaperBounds.pixelCoordinates,this.graphpaperBounds.mathCoordinates),e)},L.prototype.notifyControllerOfAPICall=function(){this.controller.dispatch({type:"render"})},L.prototype.setExpression=function(e){var t=(t=this.controller.getItemModel(e.id))&&t.type;(e=u.validateItem(e,t,this.controller))&&(t?this.controller.dispatch({type:"set-expression-properties-from-api",id:e.id,properties:e}):"image"!==e.type&&this.controller.dispatch({type:"add-item-to-end-from-api",state:e}))},L.prototype.setExpressions=function(e){e.forEach(this.setExpression.bind(this))},L.prototype.removeExpression=function(e){e=e.id.toString(),this.controller.dispatch({type:"remove-item-by-id",id:e})},L.prototype.removeExpressions=function(e){e.forEach(this.removeExpression.bind(this))},L.prototype.removeSelected=function(){var e=this.controller.getSelectedItem();if(e)return e=e.id,this.controller.dispatch({type:"remove-item-by-id",id:e}),e},L.prototype.setMathBounds=function(e){e&&e.left<e.right&&e.bottom<e.top?this._calc.setViewport([e.left,e.right,e.bottom,e.top]):h.warn("Invalid bounds argument. Expected a bounds object with bounds.bottom < bounds.top, and bounds.left < bounds.right. Got "+JSON.stringify(e)),this.notifyControllerOfAPICall()},L.prototype.setViewport=function(e){4==e.length&&e[1]>e[0]&&e[3]>e[2]?this._calc.setViewport(e):h.warn("Invalid viewport.  Expected [xmin, xmax, ymin, ymax].  Got "+e),this.notifyControllerOfAPICall()},L.prototype.resize=function(){this.domChangeDetector.checkForChanges()},L.prototype.getState=function(e){return this.controller.getState(e)},L.prototype.getExpressions=function(){return this.getState({stripDefaults:!1}).expressions.list.map(u.sanitizeItem)},L.prototype.setBlank=function(e){this.controller.dispatch({type:"set-blank",opts:e||{}})},L.prototype.setState=function(e,t){this.controller.dispatch({type:"set-state",state:e,opts:t||{}})},L.prototype.undo=function(){this.controller.dispatch({type:"undo"})},L.prototype.redo=function(){this.controller.dispatch({type:"redo"})},L.prototype.clearHistory=function(){this.controller.dispatch({type:"clear-undoredo-history"})},L.prototype.newRandomSeed=function(){this.updateSettings({randomSeed:b.default()})},L.prototype.screenshot=function(e){return e=e||{},e=this._validateBrailleScreenshotOptions(e),this._calc.grapher.screenshot(e)},L.prototype._getMathAspectRatio=function(){var e=this.graphpaperBounds.mathCoordinates,t=(r=this._calc.grapher.getProjection().pixelCoordinates).right-r.left,r=r.bottom-r.top;return e.width/t/(e.height/r)},L.prototype.isProjectionUniform=function(){return!!this._calc.grapher.getProjection().settings.squareAxes},L.prototype._validateBrailleScreenshotOptions=function(e){var t=(e=i.default(e)).braille;if(t){var r=t.embosserModel;if(!r)return h.warn("Screenshot braille options requires an embosser model to be specified. "),h.warn("Continuing with non-braille screenshot."),delete e.braille,e;if("etc"===r&&(t.embosserModel="etc11"),"vpmax"===r&&(t.embosserModel="vpmax11"),"etc8"!==t.embosserModel&&"etc11"!==t.embosserModel&&"vpmax8"!==t.embosserModel&&"vpmax11"!==t.embosserModel)return h.warn('Unknown screenshot braille embosser model. Valid models are "etc" and "vpmax".'),h.warn("Continuing with non-braille screenshot."),delete e.braille,e;"nemeth"!==t.brailleMode&&"ueb"!==t.brailleMode&&(h.warn("Screenshot options braille.brailleMode must be nemeth or ueb. Proceeding with nemeth."),t.brailleMode="nemeth"),e.width&&(h.warn("Screenshot width option is ignored when exporting Braille."),delete e.width),e.height&&(h.warn("Screenshot height option is ignored when exporting Braille."),delete e.height),e.targetPixelRatio&&(h.warn("Screenshot targetPixelRatio option is ignored when exporting Braille."),delete e.targetPixelRatio),e.preserveAxisNumbers&&(h.warn("Screenshot preserveAxisNumbers option is ignored when exporting Braille."),delete e.preserveAxisNumbers)}return e},L.prototype._validateAsyncScreenshotOpts=function(e){var t=(e=i.default(e)).mode||"contain",n=e.width||e.height||this.graphpaperBounds.pixelCoordinates.width,o=e.height||e.width||this.graphpaperBounds.pixelCoordinates.height,a=e.targetPixelRatio||1;a<1&&(a=1);var s=e.preserveAxisNumbers;e.hasOwnProperty("format")||(e.svg?(e.format="svg",delete e.svg):e.format="png");var c=e.mathBounds||{},u=this._getMathAspectRatio(),d=this.graphpaperBounds.pixelCoordinates.width/this.graphpaperBounds.pixelCoordinates.height;c=l.computeBoundsFromScreenshotOpts({mode:t,width:n,height:o,currentBounds:this.graphpaperBounds.mathCoordinates,graphpaperAspectRatio:d,mathAspectRatio:u,mathBounds:c});return{opts:r.__assign(r.__assign({},e),{width:n,height:o,targetPixelRatio:a,preserveAxisNumbers:s}),mathBounds:c}},L.prototype.asyncScreenshot=function(e,t){if(arguments.length){if(1===arguments.length){if("function"!=typeof e)return void h.warn("asyncScreenshot expects a callback");t=e,e={}}e=e||{},e=this._validateBrailleScreenshotOptions(e);e=(r=this._validateAsyncScreenshotOpts(e)).opts;var r=r.mathBounds;_.push({api:this,options:e,mathBounds:r,state:this.getState(),callback:t}),function e(){if(!I){for(var t,r,n,o,i,a,s,c,l,u,d;(t=_.shift())&&t.api._destroyed;);t&&(I=!0,n=(r=t).options,o=r.mathBounds,i=r.state,a=r.callback,(s=S=S||new M).setState(i),s.setMathBounds(o),["majorAxisOpacity","minorAxisOpacity","axisLineOffset","axisLineWidth","labelSize","graphLineWidth","pointLineWidth"].forEach(function(e){"axisLineWidth"===e?s._calc.grapher.settings.setProperty(e,r.api._calc.grapher.settings[e]):s._calc.grapher.settings[e]=r.api._calc.grapher.settings[e]}),c=s._calc.evaluator,l=function(){s._calc.grapher.asyncScreenshot(n,function(t){I=!1,e(),a(t)})},u=r.api._calc.controller,d=g.subscribe(function(){u.areAnyImagesLoading()||(g.unsubscribe(d),c.notifyWhenSynced(l))}))}}()}else h.warn("asyncScreenshot expects a callback")},L.prototype.setOptions=function(e){return e=this._calc.setOptions(e),this.notifyControllerOfAPICall(),e},L.prototype.focusFirstExpression=function(){var e=this.controller.getItemModelByIndex(0);e&&this.controller.dispatch({type:"move-focus-to-item",id:e.id,where:"end"})},L.prototype.HelperExpression=function(e){var t=e&&e.latex||"";return(e=new a.UnderscoreModel).latex=t,this.controller.dispatch({type:"add-helper-expression",state:{type:"helper-expression",id:this.controller.generateId(),latex:t,proxy:e}}),e},L);function L(e,t,r){var n=k.call(this)||this;if(n._destroyed=!1,n.isOffscreen=!1,!(n instanceof L))return new L(e,t,r);var i=w(t||{},!0);t=v.validateConfigOptions(i.configOptions),i=i.settingsOptions;return n._calc=new o.default(e,m.default,t),n._calc.interceptTouch(),n.controller=n._calc.controller,n.controller.onEventsEmitted=function(e){var t=n.controller.getSelectedItem();n.setProperty("isAnyExpressionSelected",!!t),n.setProperty("selectedExpressionId",t?t.id:void 0),n.setProperty("expressionAnalysis",n.controller.getExpressionAnalysis());var r;t=d.default.getFocusedMathquill();for(r in n.setProperty("focusedMathQuill",t?new p.MathQuillProxy(t):void 0),e)e.hasOwnProperty(r)&&e[r]&&n.triggerEvent(r,void 0)},n._calc.graphpaperBounds.observeAndSync("mathCoordinates",n._syncGraphpaperBounds.bind(n)),n._calc.graphpaperBounds.observeAndSync("pixelCoordinates",n._syncGraphpaperBounds.bind(n)),n.colors=n.controller.getColors(),n._initGraphSettings(),n.updateSettings(i),n._sharedClockBusToken=g.subscribe(function(e){var t=n._calc.grapher.settings.config.pauseWhenOffscreen&&n.isOffscreen;n._calc.tick(e,t)}),n.domChangeDetector=new c.default(e,function(e){switch(n.isOffscreen=e.isOffscreen,e.type){case"offscreen-noop":break;case"added":n._calc.resize(e.size);break;case"removed":break;case"resized":n._calc.resize(e.size)}}),t.autosize?n.domChangeDetector.startWatching():n.domChangeDetector.checkForChanges(),"function"==typeof r&&r(n),n}t.default=M}),define("main/calc_headless",["require","exports","main/graph_settings","main/evaluator","underscore_model","main/controller"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeadlessCalc=void 0;var a=(s.prototype.setBlank=function(e){this.controller.dispatch({type:"set-blank",opts:e})},s.prototype.tick=function(){this.evaluator.tick()},s.prototype.destroy=function(){this.evaluator.destroy()},s);function s(e,t){var a,s=this,c=new r;for(a in t)c.config.setProperty(a,t[a]);this.controller=new i.default(c);var l=new n.Evaluator(e);this.controller.setEvaluator(l),l.readEvaluatorConfig=function(){return{evaluationMode:"graphing",globalRandomSeed:c.randomSeed,degreeMode:c.degreeMode,restrictedFunctions:c.config.restrictedFunctions,distributions:c.config.distributions,pointsOfInterest:c.config.pointsOfInterest,plotSingleVariableImplicitEquations:c.config.plotSingleVariableImplicitEquations,plotImplicits:c.config.plotImplicits,plotInequalities:c.config.plotInequalities,sliders:c.config.sliders,actions:c.config.actions}},l.onEvaluatorResults=function(e){s.controller.dispatch({type:"on-evaluator-changes",changes:e.evaluationStates,timingData:e.timingData,eventUpdates:e.eventUpdates})},(e=new o.UnderscoreModel).setProperties({pixelCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0},mathCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0}}),this.graphpaperBounds=e,this.evaluator=l,this.setBlank()}t.HeadlessCalc=a}),define("api/headless",["require","exports","main/calc_headless","graphing-calc/json/config-options","main/shared-clock-bus","main/shared-worker-pool","graphing-calc/api/sanitize-expression","underscore_model","lib/console"],function(e,t,r,n,o,i,a,s,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=(u.prototype.destroy=function(){function e(e){c.warn("You've destroyed this API instance. You can no longer call ."+e+"()")}for(var t in this._calc.destroy(),o.unsubscribe(this._sharedClockBusToken),this)"function"==typeof this[t]?this[t]=e.bind(this,t):this.hasOwnProperty(t)&&delete this[t];this.destroy=function(){}},u.prototype.setExpression=function(e){var t=(t=this.controller.getItemModel(e.id))&&t.type;(e=a.validateItem(e,t,this.controller))&&(t?this.controller.dispatch({type:"set-expression-properties-from-api",id:e.id,properties:e}):"image"!==e.type&&this.controller.dispatch({type:"add-item-to-end-from-api",state:e}))},u.prototype.setExpressions=function(e){e.forEach(this.setExpression.bind(this))},u.prototype.removeExpression=function(e){e=e.id.toString(),this.controller.dispatch({type:"remove-item-by-id",id:e})},u.prototype.removeExpressions=function(e){e.forEach(this.removeExpression.bind(this))},u.prototype.getState=function(e){return this.controller.getState(e)},u.prototype.getExpressions=function(){return this.getState({stripDefaults:!1}).expressions.list.map(a.sanitizeItem)},u.prototype.setBlank=function(e){this.controller.dispatch({type:"set-blank",opts:e||{}})},u.prototype.setState=function(e,t){this.controller.dispatch({type:"set-state",state:e,opts:t||{}})},u.prototype.HelperExpression=function(e){var t=e&&e.latex||"";return(e=new s.UnderscoreModel).latex=t,this.controller.dispatch({type:"add-helper-expression",state:{type:"helper-expression",id:this.controller.generateId(),latex:t,proxy:e}}),e},u.prototype.resize=function(){},u);function u(){var e=this;if(!(this instanceof u))return new u;this._calc=new r.HeadlessCalc(i.default,n.validateConfigOptions({})),this.controller=this._calc.controller,this._sharedClockBusToken=o.subscribe(function(){e._calc.tick()})}t.default=l}),define("api/abstract",["require","exports","lib/console","underscore_model","ipad.scrollfix","lib/dom-change-detector"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(s.prototype.setupDomChangeDetector=function(e){var t=this;this.autoSize=e,o.limitScrollOnElement(this.rootElt),this.domChangeDetector=new i.default(this.rootElt,function(e){switch(e.type){case"added":t.view=t.onCreateView(),t.onResizeView(e.size);break;case"removed":t.onDestroyView(),t.view=void 0;break;case"resized":t.onResizeView(e.size)}}),!1!==this.autoSize?this.domChangeDetector.startWatching():this.domChangeDetector.checkForChanges()},s.prototype.detach=function(){r.warn(".detach() is deprecated. It should no longer be necessary")},s.prototype.destroy=function(){function e(e){r.warn("You've destroyed this API instance. You can no longer call ."+e+"()")}for(var t in this.view&&this.onDestroyView(),this.domChangeDetector.destroy(),this)"function"==typeof this[t]?this[t]=e.bind(this,t):this.hasOwnProperty(t)&&delete this[t];this.destroy=function(){}},s.prototype.resize=function(){this.domChangeDetector.checkForChanges()},s.prototype.updateView=function(){this.view&&document.body&&document.body.contains(this.rootElt)&&this.view.update()},s.prototype.triggerEvent=function(e,t){this.eventModel.triggerEvent(e,t)},s.prototype.observeEvent=function(e,t){this.eventModel.observeEvent(e,t)},s.prototype.unobserveEvent=function(e){this.eventModel.unobserveEvent(e)},s);function s(e){if(this.rootElt=e,this.eventModel=new n.UnderscoreModel,!e)throw new Error("must pass an HTMLElement to the API")}t.default=a}),define("immutable-store",["require","underscore","core/lib/deepCopy"],function(e){"use strict";var t=e("underscore"),r=e("core/lib/deepCopy").default;function n(e){return t.clone(e)}function o(e){this.setState(e)}return o.prototype.setState=function(e){this.state=e},o.prototype.getState=function(){return this.state},o.prototype.set=function(e,t){if(1!==arguments.length){if("string"==typeof e)return this.state=n(this.state),void(this.state[e]=t);var r=e.length-2,o=e[1+r];this.state=s=n(this.state);for(var i=0;i<=r;i++)var a=e[i],s=s[a]=n(s[a]);s[o]=t}else this.state=e},o.prototype.deepMutate=function(e,t){if(1===arguments.length)return t=e,this.state=r(this.state),void t(this.state);if("string"==typeof e)return this.state=n(this.state),this.state[e]=r(this.state[e]),void t(this.state[e]);for(var o=e.length-2,i=e[1+o],a=this.state=n(this.state),s=0;s<=o;s++){var c=e[s];a=a[c]=n(a[c])}t(a=a[i]=r(a[i]))},o.prototype.shallowMutate=function(e,t){if(1===arguments.length)return t=e,this.state=n(this.state),void t(this.state);if("string"==typeof e)return this.state=n(this.state),this.state[e]=n(this.state[e]),void t(this.state[e]);for(var r=e.length-1,o=this.state=n(this.state),i=0;i<=r;i++){var a=e[i];o=o[a]=n(o[a])}t(o)},o.areShallowEqual=function(e,t){},o.areDeepEqual=function(e,t){},{default:o}}),define("basic/model",["require","exports","immutable-store","main/shared-clock-bus","core/lib/label","main/evaluator","core/lib/label","underscore"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=(l.prototype.isSingleExpression=function(){return"singleExpressionScientific"===this.evaluationMode||"singleExpressionFourFunction"===this.evaluationMode},l.prototype.destroy=function(){n.unsubscribe(this._sharedClockBusToken)},l.prototype.generateObjectId=function(){return(this._nextObjectId++).toString()},l.prototype.updateNextObjectId=function(){for(var e=this.store.getState().order,t=/^[0-9]+$/,r=this._nextObjectId=0,n=e;r<n.length;r++){var o=n[r];!t.test(o)||(o=parseInt(o,10))>=this._nextObjectId&&(this._nextObjectId=o+1)}},l.prototype.clearShouldDebounceUndoRedo=function(){this._shouldDebounceUndoRedo=!1},l.prototype.markShouldDebounceUndoRedo=function(){this._shouldDebounceUndoRedo=!0},l.prototype.getShouldDebounceUndoRedo=function(){return this._shouldDebounceUndoRedo},l.prototype.clearCachedBrailleValues=function(){for(var e=0,t=this.getExpressionOrder();e<t.length;e++){var r=t[e];this.store.set(["expressions",r,"braille"],"")}},l.prototype.getState=function(){return this.store.getState()},l.prototype.getPersistedState=function(){var e=(r=this.getState()).expressions,t=r.order,r=r.settings;return{expressions:{list:t.map(function(t){return{id:(t=e[t]).id,latex:t.latex,displayAsFraction:t.displayAsFraction}})},settings:r}},l.prototype.setState=function(e){this.store.set(e),this._updateIndexes(),this.updateNextObjectId()},l.prototype.setStateFromAPI=function(e){var t=[],r={};e.expressions.list.forEach(function(e){t.push(e.id),r[e.id]={id:e.id,latex:e.latex,braille:"",type:"latex",displayAsFraction:!!e.displayAsFraction}}),this.setState({expressions:r,order:t,settings:e.settings,ui:{focus:void 0}})},l.prototype.canClear=function(){if(1<this.getNumberOfExpressions())return!0;var e=this.getExpressionOrder()[0];return""!==this.getExpressionLatex(e)},l.prototype.clear=function(){this.setState({expressions:{1:{id:"1",type:"latex",latex:"",braille:"",displayAsFraction:!1}},ui:{focus:void 0},order:["1"],settings:this.getState().settings})},l.prototype.getExpressionOrder=function(){return this.store.getState().order},l.prototype.getNumberOfExpressions=function(){return this.getExpressionOrder().length},l.prototype.getExpressionById=function(e){return this.getState().expressions[e]},l.prototype.getExpressionIndex=function(e){return this._indexes[e]},l.prototype._getExpressionByIndex=function(e){return e=this.getExpressionOrder()[e],this.getExpressionById(e)},l.prototype._updateIndexes=function(){this._indexes={};for(var e=0,t=0,r=this.getExpressionOrder();t<r.length;t++){var n=r[t];this._indexes[n]=e,e+=1}this._evaluate()},l.prototype._usesAnsById=function(e){return-1!==this.getExpressionById(e).latex.indexOf("\\operatorname{ans}")},l.prototype._getPreviousExpById=function(e){return e=this.getExpressionIndex(e),this._getExpressionByIndex(e-1)},l.prototype.createBlankAfterId=function(e){var t,r;!this.isSingleExpression()&&this.getExpressionById(e).latex&&(t=this.getExpressionIndex(e),r=this.generateObjectId(),this.store.shallowMutate("order",function(e){e.splice(t+1,0,r)}),this.store.shallowMutate("expressions",function(e){e[r]={id:r,latex:"",braille:"",type:"latex",displayAsFraction:!1}}),this._updateIndexes(),this.setFocusedById(r,!0))},l.prototype.conditionallyCopyPrevious=function(e){var t=this._getPreviousExpById(e),r=this.getExpressionById(e);null!=t&&""===r.latex&&this._usesAnsById(t.id)&&this.setLatexById(e,t.latex)},l.prototype.backspaceAtFrontOfId=function(e){var t;""===this.getExpressionById(e).latex&&1!==this.getNumberOfExpressions()&&(t=this.getExpressionIndex(e),this.store.shallowMutate("order",function(e){e.splice(t,1)}),this.store.shallowMutate("expressions",function(t){delete t[e]}),this._updateIndexes(),this._setFocusedByIndex(Math.max(t-1,0),!0))},l.prototype.setLatexById=function(e,t){this.store.set(["expressions",e,"latex"],t),this.store.set(["expressions",e,"braille"],""),""===t&&this.setFractionEvaluation(e,!1),this._evaluate()},l.prototype.setLatexAndBrailleById=function(e,t,r){this.store.set(["expressions",e,"latex"],t),this.store.set(["expressions",e,"braille"],r),""===t&&this.setFractionEvaluation(e,!1),this._evaluate()},l.prototype.setFractionEvaluation=function(e,t){this.store.set(["expressions",e,"displayAsFraction"],t)},l.prototype.setLatexOfFocusedExpression=function(e){var t=this.getFocusedExpressionId();t&&this.setLatexById(t,e)},l.prototype.isExpressionFocused=function(e){return this.getFocusedExpressionId()===e},l.prototype.getExpressionLatex=function(e){return this.getExpressionById(e).latex},l.prototype.getExpressionError=function(e){return(e=this._evaluations[e])?e.error:""},l.prototype.getExpressionValue=function(e){if(e=this._evaluations[e])return e.value},l.prototype.getExpressionAns=function(e){if(e=this._evaluations[e])return e.ans},l.prototype.getExpressionAnsId=function(e){if(e=this._evaluations[e])return e.ansId},l.prototype.shouldShowEvaluationForExpression=function(e){return!!(e=this._evaluations[e])&&e.showEvaluation},l.prototype.isRationalizableConstant=function(e){return!!(e=this._evaluations[e])&&e.isRationalizableConstant},l.prototype.canDisplayEvaluationAsFraction=function(e){return!!(e=this.getExpressionValue(e))&&a.canDisplayAsFraction(e)},l.prototype._setFocusedByIndex=function(e,t){var r,n=this._getExpressionByIndex(e),o=(e=this.store.getState().ui.focus,t?{type:"latex-expression",id:n.id}:void 0);s.isEqual(e,o)||(e&&(r=e.id,this.store.deepMutate("expressions",function(e){(e=e[r])&&(e.braille="")})),!t&&this.getFocusedExpressionId()!==n.id||this.store.shallowMutate("ui",function(e){e.focus=o}))},l.prototype.setFocusedById=function(e,t){e=this.getExpressionIndex(e),this._setFocusedByIndex(e,t)},l.prototype.focusPrevById=function(e){0<=(e=this.getExpressionIndex(e)-1)&&this._setFocusedByIndex(e,!0)},l.prototype.focusNextById=function(e){(e=this.getExpressionIndex(e)+1)<this.getNumberOfExpressions()?this._setFocusedByIndex(e,!0):this.createAtEnd()},l.prototype.getFocusedExpression=function(){var e=this.getFocusedExpressionId();return e?this.getExpressionById(e):void 0},l.prototype.getFocusedExpressionId=function(){var e=this.getState().ui.focus;return e&&e.id},l.prototype.clearFocusedExpression=function(){var e=this.getFocusedExpression();e&&this.setLatexById(e.id,"")},l.prototype.shouldShowClear=function(){if(1===this.getNumberOfExpressions())return!1;var e=this.getFocusedExpression();return!!e&&!!e.latex},l.prototype.getLastExpression=function(){return this._getExpressionByIndex(this.getNumberOfExpressions()-1)},l.prototype.isLastExpressionEmpty=function(){return!!this.getLastExpression().latex},l.prototype.createAtEnd=function(){this.createBlankAfterId(this.getLastExpression().id)},l.prototype.focusLastExpression=function(){this._setFocusedByIndex(this.getNumberOfExpressions()-1,!0)},l.prototype.focusFirstExpression=function(){this._setFocusedByIndex(0,!0)},l.prototype.getDegreeMode=function(){return this.getState().settings.degreeMode},l.prototype.setDegreeMode=function(e){this.store.set(["settings","degreeMode"],!!e),this._evaluate()},l.prototype._cleanupLatex=function(e){return"="===(e=o.trimLatex(e)).substr(e.length-1)&&(e=e.substr(0,e.length-1)),e},l.prototype._evaluate=function(){var e=this;this._evaluator.clearStatementsAndStartCompleteState(),this.getExpressionOrder().forEach(function(t){return e._evaluator.addStatement({id:t,index:e.getExpressionIndex(t),latex:e._cleanupLatex(e.getExpressionLatex(t)),shouldGraph:!1,type:"statement"})})},l.prototype._setupEvaluator=function(){var e=this;this._evaluator=new i.Evaluator(this.workerPool),this._evaluator.readEvaluatorConfig=function(){return{degreeMode:e.getDegreeMode(),evaluationMode:e.evaluationMode,additionalFunctions:e.additionalFunctions,functionDefinition:e.functionDefinition,replaceRoundWithReciprocal:e.replaceRoundWithReciprocal,actions:!1}},this._evaluator.onEvaluatorResults=function(t){var r,n=t.evaluationStates;for(r in e._evaluations={},n){var o,i,s,c=n[r];e.getExpressionById(r)&&(void 0===(o=c.constant_value)&&c.zero_values&&c.zero_values.length&&(o=c.zero_values[0].val),s=c.hasOwnProperty("constant_value")&&a.canDisplayAsFraction(c.constant_value),i=!c.is_evaluable&&s,s=!!c.is_evaluable||i||Array.isArray(o),e._evaluations[r]={error:c.error,ans:void 0,ansId:void 0,value:o,showEvaluation:s,isRationalizableConstant:i})}for(var l=void 0,u=void 0,d=0,p=e.getExpressionOrder();d<p.length;d++){r=p[d];var h,f=e._evaluations[r];l&&f&&("number"==typeof(h=l.value)?(f.ans=h,f.ansId=u):Array.isArray(h)&&(f.ans="[...]")),l=f,u=r}"function"==typeof e.onEvaluationUpdate&&e.onEvaluationUpdate()}},l.prototype.reloadState=function(){this.setState(this.getState())},l.prototype.getFunctionDefinition=function(){return!!this.functionDefinition},l.prototype.enableFunctionDefinition=function(){this.functionDefinition=!0,this.reloadState()},l.prototype.disableFunctionDefinition=function(){this.functionDefinition=!1,this.reloadState()},l.prototype.getReplaceRoundWithReciprocal=function(){return!!this.replaceRoundWithReciprocal},l.prototype.enableReplaceRoundWithReciprocal=function(){this.replaceRoundWithReciprocal=!0,this.reloadState()},l.prototype.disableReplaceRoundWithReciprocal=function(){this.replaceRoundWithReciprocal=!1,this.reloadState()},l);function l(e){var t=this,o=e.evaluationMode,i=e.additionalFunctions,a=e.functionDefinition,s=e.replaceRoundWithReciprocal;e=e.workerPool;this._evaluations={},this._nextObjectId=0,this.store=new r.default({expressions:{1:{id:"1",latex:"",braille:"",type:"latex",displayAsFraction:!1}},order:["1"],settings:{degreeMode:!1},ui:{focus:void 0}}),this.evaluationMode=o,this.additionalFunctions=i,this.functionDefinition=a,this.replaceRoundWithReciprocal=s,this.workerPool=e,this._setupEvaluator(),this.clear(),this._sharedClockBusToken=n.subscribe(function(){t._evaluator.tick()})}t.default=c}),define("basic/controller",["require","exports","tslib","flux","underscore","./model","lib/state-stack","keypad/mq-commands","lib/i18n","dcgview-helpers/mathquill-view","lib/console","bugsnag","core/lib/color-helpers"],function(e,t,r,n,o,i,a,s,c,l,u,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=(f.prototype.runAfterDispatch=function(e){this._queuedCallbacks.push(e)},f.prototype.enqueueEvent=function(e){var t=this;this.runAfterDispatch(function(){t.onEventEmitted&&t.onEventEmitted(e)})},f.prototype.getFunctionDefinition=function(){return this.options.functionDefinition},f.prototype.getSettingsMenu=function(){return this.settingsMenu},f.prototype.getBrailleMode=function(){return this.brailleMode},f.prototype.renderAsBraille=function(){return"none"!==this.brailleMode},f.prototype.setBrailleMode=function(e){this.brailleMode=e},f.prototype.getSixKeyInput=function(){return this.sixKeyInput},f.prototype.setSixKeyInput=function(e){this.sixKeyInput=e},f.prototype.getBrailleControls=function(){return this.brailleControls},f.prototype.setBrailleControls=function(e){this.brailleControls=e},f.prototype.getBrailleExpressionDownload=function(){return this.brailleExpressionDownload},f.prototype.setBrailleExpressionDownload=function(e){this.brailleExpressionDownload=e},f.prototype.getRestrictedEditing=function(){return this.options.restrictedEditing},f.prototype.getKeyboardMode=function(){return this.keyboardMode},f.prototype.getFontSize=function(){return this.fontSize},f.prototype.getInvertedColors=function(){return this.invertedColors},f.prototype.hasBackgroundColor=function(){return"#ffffff"!==this.getBackgroundColor()},f.prototype.getBackgroundColor=function(){var e=p.normalizeColor(this.backgroundColor||"#fff");return this.getInvertedColors()&&"#ffffff"!==e?p.invertColor(e):e},f.prototype.getTextColor=function(){var e=p.normalizeColor(this.textColor||"#000");return this.getInvertedColors()&&"#000000"!==e?p.invertColor(e):e},f.prototype.getAdditionalFunctions=function(){return this.options.additionalFunctions},f.prototype.getTypingSlashWritesDivisionSymbol=function(){return this.options.typingSlashWritesDivisionSymbol},f.prototype.setTypingAsteriskWritesTimesSymbol=function(e){this.typingAsteriskWritesTimesSymbol=e},f.prototype.getTypingAsteriskWritesTimesSymbol=function(){return this.typingAsteriskWritesTimesSymbol},f.prototype.setProjectorMode=function(e){this.projectorMode=e},f.prototype.isProjectorMode=function(){return this.projectorMode},f.prototype.getReplaceCommaWith10Exp=function(){return this.replaceCommaWith10Exp},f.prototype.setReplaceCommaWith10Exp=function(e){this.replaceCommaWith10Exp=e},f.prototype.getReplaceRoundWithReciprocal=function(){return this.model.getReplaceRoundWithReciprocal()},f.prototype.setReplaceRoundWithReciprocal=function(e){e?this.model.enableReplaceRoundWithReciprocal():this.model.disableReplaceRoundWithReciprocal()},f.prototype.setCapExpressionSize=function(e){this.capExpressionSize=e},f.prototype.getCapExpressionSize=function(){return this.capExpressionSize},f.prototype.setDecimalToFraction=function(e){this.decimalToFraction=e},f.prototype.setLanguage=function(e){"en"!==e&&-1===Desmos.supportedLanguages.indexOf(e)?u.warn("Translation for '"+e+"' isn't currently available. Using '"+this.language+"' instead."):this.language=e},f.prototype.getLanguage=function(){return this.language},f.prototype.getDecimalToFraction=function(){return this.decimalToFraction},f.prototype.isScientificCalc=function(){var e=this.options.evaluationMode;return"scientific"===e||"singleExpressionScientific"===e},f.prototype.isFourFunctionCalc=function(){return"fourFunction"===this.options.evaluationMode||"singleExpressionFourFunction"===this.options.evaluationMode},f.prototype.getAllowLinks=function(){return this.options.links},f.prototype.canUndo=function(){return this.stateStack.canUndo()},f.prototype.canRedo=function(){return this.stateStack.canRedo()},f.prototype.undo=function(e){var t;this.canUndo()&&(this.stateStack.undo(),t=this.stateStack.getState(),e.restoreFocus||(t=r.__assign(r.__assign({},t),{ui:{focus:void 0}})),this.model.setState(t),this.enqueueEvent("change"))},f.prototype.redo=function(e){var t;this.canRedo()&&(this.stateStack.redo(),t=this.stateStack.getState(),e.restoreFocus||(t=r.__assign(r.__assign({},t),{ui:{focus:void 0}})),this.model.setState(t),this.enqueueEvent("change"))},f.prototype.clearHistory=function(){this.stateStack.clear()},f.prototype.canBackspace=function(){var e=this.model.getFocusedExpression();return e&&(0<e.latex.length||1<this.model.getNumberOfExpressions())},f.prototype.focusLastExpression=function(){this.model.focusLastExpression()},f.prototype.shouldRender=function(){return 0<this.containerSize.width&&0<this.containerSize.height},f.prototype.canClear=function(){return this.model.canClear()},f.prototype.shouldShowClear=function(){return this.model.shouldShowClear()},f.prototype.enableSettingsMenu=function(){this.settingsMenu=!0},f.prototype.disableSettingsMenu=function(){this.closeSettingsMenu(),this.settingsMenu=!1},f.prototype.closeSettingsMenu=function(){this.settingsMenuOpen=!1},f.prototype.toggleSettingsMenu=function(){this.settingsMenuOpen=!this.settingsMenuOpen},f.prototype.isSettingsMenuOpen=function(){return this.settingsMenuOpen},f.prototype.isLastExpressionEmpty=function(){return this.model.isLastExpressionEmpty()},f.prototype.createAtEnd=function(){this.model.createAtEnd()},f.prototype.clearFocusedExpression=function(){this.model.clearFocusedExpression()},f.prototype.setLatexById=function(e,t){this.model.setLatexById(e,t)},f.prototype.setLatexAndBrailleById=function(e,t,r){this.model.setLatexAndBrailleById(e,t,r)},f.prototype.setLatexOfFocusedExpression=function(e){this.model.setLatexOfFocusedExpression(e)},f.prototype.toggleFractionEvaluationById=function(e){this.model.setFractionEvaluation(e,!this.model.getExpressionById(e).displayAsFraction)},f.prototype.conditionallyCopyPrevious=function(e){this.model.conditionallyCopyPrevious(e)},f.prototype.createBlankAfterId=function(e){this.model.createBlankAfterId(e)},f.prototype.backspaceAtFrontOfId=function(e){this.model.backspaceAtFrontOfId(e)},f.prototype.areStatesDifferentEnoughForUndoRedo=function(e,t){var n={focus:void 0};return o.isEqual(r.__assign(r.__assign({},e),{ui:n}),r.__assign(r.__assign({},t),{ui:n}))},f.prototype.commitUndoRedoDebounced=function(){var e=this.model.getState(),t=this.stateStack.getState();this.areStatesDifferentEnoughForUndoRedo(e,t)||((t=(new Date).getTime())-this._lastDebouncedTime<1e3?this.stateStack.replaceState(e):this.stateStack.addState(e),this._lastDebouncedTime=t,this.enqueueEvent("change"))},f.prototype.commitUndoRedoSynchronously=function(){var e=this.model.getState(),t=this.stateStack.getState();this.areStatesDifferentEnoughForUndoRedo(e,t)||(this._lastDebouncedTime=0,this.stateStack.addState(e),this.enqueueEvent("change"))},f.prototype.updateKeyboardMode=function(e){this.keyboardMode=e},f.prototype.getFocusedMathquill=function(){if(this.model.getFocusedExpressionId())return l.default.getFocusedMathquill()},f.prototype.ensureMathquillIsFocusedAndReturnFocusedMathquill=function(){return this.getFocusedMathquill()||(this.isLastExpressionEmpty()&&!this.model.isSingleExpression()?this.createAtEnd():this.focusLastExpression(),this.onEventEmitted&&this.onEventEmitted("render"),this.getFocusedMathquill())},f.prototype.typeIntoFocusedMathquill=function(e){e=e.replace(/\r|\n/g,"");var t=this.ensureMathquillIsFocusedAndReturnFocusedMathquill();t&&l.default.canAcceptText(t,this.getCapExpressionSize(),e)&&(t.typedText(e),this.setLatexOfFocusedExpression(t.latex()),this.model.markShouldDebounceUndoRedo())},f.prototype.pressKeyInFocusedMathquill=function(e,t){var r;"none"!==this.getBrailleMode()||(r=this.ensureMathquillIsFocusedAndReturnFocusedMathquill())&&("Up"===e||"Down"===e||"Left"===e||"Right"===e?l.default.applyArrowKeyAndReturnIfWasAtBounds(r,e,t)&&this.moveFocusInDirection(e):"Enter"===e?(t&&(t.preventDefault(),t.stopPropagation()),this.handleEnter()):"Backspace"===e&&this.attemptToMoveFocusWithBackspace()||(r.keystroke(e,t),this.setLatexOfFocusedExpression(r.latex())))},f.prototype.moveFocusInDirection=function(e){var t=this.model.getFocusedExpressionId();t&&("Up"===e?this.model.focusPrevById(t):"Down"===e&&this.model.focusNextById(t))},f.prototype.handleEnter=function(){var e;this.model.isSingleExpression()||(e=this.model.getFocusedExpressionId())&&(this.conditionallyCopyPrevious(e),this.createBlankAfterId(e))},f.prototype.attemptToMoveFocusWithBackspace=function(){if(!(t=this.model.getFocusedExpression()))return!1;var e=t.latex,t=t.id;return""===e&&(this.backspaceAtFrontOfId(t),!0)},f.prototype.executeCommandInFocusedMathquill=function(e){var t=this.ensureMathquillIsFocusedAndReturnFocusedMathquill();t&&(s.execute(t,e),this.setLatexOfFocusedExpression(t.latex()))},f.prototype.syncPublicSettings=function(){this.settingsProxy.setProperty("language",this.language),this.settingsProxy.setProperty("fontSize",this.fontSize),this.settingsProxy.setProperty("degreeMode",this.model.getDegreeMode()),this.settingsProxy.setProperty("invertedColors",this.invertedColors),this.settingsProxy.setProperty("backgroundColor",this.backgroundColor),this.settingsProxy.setProperty("textColor",this.textColor),this.settingsProxy.setProperty("brailleMode",this.brailleMode),this.settingsProxy.setProperty("sixKeyInput",this.sixKeyInput),this.settingsProxy.setProperty("brailleControls",this.brailleControls),this.settingsProxy.setProperty("brailleExpressionDownload",this.brailleExpressionDownload),this.settingsProxy.setProperty("projectorMode",this.projectorMode),this.settingsProxy.setProperty("capExpressionSize",this.capExpressionSize),this.settingsProxy.setProperty("decimalToFraction",this.decimalToFraction),this.settingsProxy.setProperty("qwertyKeyboard",this.options.qwertyKeyboard),this.settingsProxy.setProperty("links",this.options.links),this.settingsProxy.setProperty("settingsMenu",this.settingsMenu),this.settingsProxy.setProperty("functionDefinition",this.model.getFunctionDefinition()),this.settingsProxy.setProperty("replaceCommaWith10Exp",this.replaceCommaWith10Exp),this.settingsProxy.setProperty("replaceRoundWithReciprocal",this.model.getReplaceRoundWithReciprocal()),this.settingsProxy.setProperty("typingAsteriskWritesTimesSymbol",this.typingAsteriskWritesTimesSymbol)},f.prototype.hookUpDispatcher=function(){var e=this;this.dispatcher.register(function(t){e.enqueueEvent("render");var n=!1,o=e.getRestrictedEditing();switch(t.type){case"update-options":e.options=r.__assign(r.__assign({},e.options),t.options);break;case"keypad/shift":var i=void 0;switch(e.keyboardMode){case"qwerty":i="capitalQwerty";break;case"capitalQwerty":i="qwerty";break;case"letters":i="capitalLetters";break;case"capitalLetters":i="letters";break;default:i="qwerty"}e.updateKeyboardMode(i);break;case"undo":o||(e.undo({restoreFocus:"keyboard-shortcut"===t.source}),n=!0);break;case"redo":o||(e.redo({restoreFocus:"keyboard-shortcut"===t.source}),n=!0);break;case"clear-history":e.clearHistory();break;case"set-state-from-api":t.opts.allowUndo||e.clearHistory(),e.model.setStateFromAPI(t.state);break;case"main":e.updateKeyboardMode("main");break;case"ABC":e.options.qwertyKeyboard?e.updateKeyboardMode("qwerty"):e.updateKeyboardMode("letters");break;case"functions":e.updateKeyboardMode("functions");break;case"degrees":e.model.setDegreeMode(!e.model.getDegreeMode());break;case"update-degree-mode":e.model.setDegreeMode(!!t.mode);break;case"update-font-size":var a=t.size;if("number"!=typeof a&&(a=parseInt(a,10)),isNaN(a))return;e.fontSize=a;break;case"update-inverted-colors":e.invertedColors=!!t.mode;break;case"update-background-color":e.backgroundColor=t.color;break;case"update-text-color":e.textColor=t.color;break;case"update-projector-mode":e.setProjectorMode(!!t.mode);break;case"update-cap-expression-size":e.setCapExpressionSize(!!t.mode);break;case"update-decimal-to-fraction":e.setDecimalToFraction(!!t.mode);break;case"update-language":e.setLanguage(t.language);break;case"set-blank":t.opts.allowUndo||e.clearHistory(),e.model.clear(),e.focusLastExpression();break;case"clear":e.model.clearFocusedExpression();break;case"set-braille-mode":"nemeth"!==(a=t.mode)&&"ueb"!==a&&"none"!==a?u.warn("Valid Braille modes are 'nemeth', 'none', and 'ueb'. You passed '"+a+"'."):(e.model.clearCachedBrailleValues(),e.setBrailleMode(t.mode));break;case"set-six-key-input":e.setSixKeyInput(!!t.mode);break;case"set-braille-controls":e.setBrailleControls(!!t.value);break;case"set-braille-expression-download":e.setBrailleExpressionDownload(!!t.mode);break;case"set-replace-comma-with-10-exp":e.setReplaceCommaWith10Exp(!!t.replace);break;case"set-replace-round-with-reciprocal":e.setReplaceRoundWithReciprocal(!!t.replace);break;case"set-typing-asterisk-writes-times-symbol":e.setTypingAsteriskWritesTimesSymbol(!!t.mode);break;case"update-latex":e.model.markShouldDebounceUndoRedo(),e.setLatexById(t.id,t.latex);break;case"update-latex-from-braille":e.model.markShouldDebounceUndoRedo(),e.setLatexAndBrailleById(t.id,t.latex,t.braille);break;case"focusin":e.model.setFocusedById(t.id,!0);break;case"focusout":e.model.setFocusedById(t.id,!1);break;case"focus-first-expression":e.model.focusFirstExpression();break;case"focus-prev-expression":e.moveFocusInDirection("Up");break;case"focus-next-expression":e.moveFocusInDirection("Down");break;case"focus-last-expression":e.model.focusLastExpression();break;case"insert-blank-expression":e.handleEnter();break;case"backspace-from-braille":e.attemptToMoveFocusWithBackspace();break;case"keypad/type-text":e.typeIntoFocusedMathquill(t.text);break;case"keypad/press-key":e.pressKeyInFocusedMathquill(t.key,t.evt);break;case"keypad/custom-command":e.executeCommandInFocusedMathquill(t.command);break;case"keypad/123":case"keypad/abc":case"keypad/audio-trace":break;case"enable-settings-menu":e.enableSettingsMenu();break;case"disable-settings-menu":e.disableSettingsMenu();break;case"toggle-settings-menu":e.toggleSettingsMenu();break;case"close-settings-menu":e.closeSettingsMenu();break;case"render":break;case"ui/container-resized":e.containerSize=t.size;break;case"toggle-fraction-evaluation":e.toggleFractionEvaluationById(t.id);break;default:return t}e.runAfterDispatch(function(){return e.syncPublicSettings()}),n||(e.model.getShouldDebounceUndoRedo()?(e.commitUndoRedoDebounced(),e.model.clearShouldDebounceUndoRedo()):e.commitUndoRedoSynchronously())})},f);function f(e,t){var r=this;this.keyboardMode="main",this.fontSize=16,this.invertedColors=!1,this.backgroundColor="",this.textColor="",this.projectorMode=!1,this.capExpressionSize=!1,this.decimalToFraction=!0,this.settingsMenu=!0,this.settingsMenuOpen=!1,this.language="en",this.brailleMode="none",this.sixKeyInput=!1,this.brailleControls=!0,this.brailleExpressionDownload=!0,this.replaceCommaWith10Exp=!1,this.typingAsteriskWritesTimesSymbol=!1,this.stateStack=new a.default,this.dispatcher=new n.Dispatcher,this.s=c.createDictionaryLookupFunction(function(){return r.language}),this.dispatch=function(e){var t;for(d.leaveBreadcrumb("dispatch",{type:e.type}),r.dispatcher.dispatch(e);t=r._queuedCallbacks.shift();)t()},this._queuedCallbacks=[],this.stateStack=new a.default,this.dispatcher=new n.Dispatcher,this.options=e,this.model=new i.default({evaluationMode:this.options.evaluationMode,additionalFunctions:this.options.additionalFunctions,functionDefinition:this.options.functionDefinition,replaceRoundWithReciprocal:this.options.replaceRoundWithReciprocal,workerPool:t.workerPool}),this.model=this.model,this.model.setDegreeMode(e.degreeMode),this.setLanguage(e.language),this.setBrailleMode(e.brailleMode),this.setSixKeyInput(e.sixKeyInput),this.setBrailleControls(e.brailleControls),this.setBrailleExpressionDownload(e.brailleExpressionDownload),this.setReplaceCommaWith10Exp(e.replaceCommaWith10Exp),this.setReplaceRoundWithReciprocal(e.replaceRoundWithReciprocal),this.setTypingAsteriskWritesTimesSymbol(e.typingAsteriskWritesTimesSymbol),this.setProjectorMode(e.projectorMode),this.setCapExpressionSize(e.capExpressionSize),this.setDecimalToFraction(e.decimalToFraction),this.invertedColors=e.invertedColors,this.backgroundColor=e.backgroundColor,this.textColor=e.textColor,this.settingsMenu=e.settingsMenu,this.model.onEvaluationUpdate=function(){return r.dispatch({type:"render"})},this.settingsProxy=t.settingsProxy,this.syncPublicSettings(),this.hookUpDispatcher(),this.containerSize={width:0,height:0}}t.default=h}),define("basic/dcgview-basic",["require","exports","tslib","dcgview"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DCGViewBasic=void 0;var o;o=n.Class,r.__extends(i,o),i.prototype.init=function(){this.controller=this.props.controller(),this.model=this.controller.model,this.dispatch=this.controller.dispatch,this.s=this.controller.s},r=i;function i(){return null!==o&&o.apply(this,arguments)||this}t.DCGViewBasic=r}),define("loadcss!keypad/control-bar",function(){}),define("keypad/control-bar",["require","exports","tslib","dcgview","./dcgview-keypad","loadcss!./control-bar"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i;i=o.default,r.__extends(a,i),a.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-keypad-control-bar dcg-do-not-blur"),role:n.const("group"),"aria-label":function(){return e.controller.s("shared-calculator-narration-keypad-controlbar")}},n.createElement("div",{class:n.const("dcg-keypad-control-bar-contents")},this.children))},r=a;function a(){return null!==i&&i.apply(this,arguments)||this}t.default=r}),define("loadcss!keypad/control-btn",function(){}),define("keypad/control-btn",["require","exports","tslib","dcgview","loadcss!./control-btn"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o;o=n.Class,r.__extends(i,o),i.prototype.template=function(){var e=this;return n.createElement("div",{class:function(){return{"dcg-keypad-control-btn":!0,"dcg-disabled":e.isDisabled(),"dcg-selected":!e.isDisabled()&&e.isSelected(),"dcg-selectable-btn":!e.isDisabled()&&e.isSelectable(),"dcg-narrow-control-btn":e.props.narrowButton&&e.props.narrowButton()}},didMount:this.bindFn(this.didMount),role:n.const("button"),"aria-disabled":function(){return e.isDisabled()||void 0},"aria-label":function(){return e.getAriaLabel()},"dcg-command":this.props.command,onTap:this.bindFn(this.handleTap),"aria-pressed":function(){return e.hasPopup()||e.isDisabled()||!e.isSelectable()?void 0:e.isSelected()},"aria-expanded":function(){return e.hasPopup()&&!e.isDisabled()?e.isSelected():void 0},tabindex:this.bindFn(this.getTabIndex)},this.children)},i.prototype.getTabIndex=function(){return this.isDisabled()?void 0:this.props.ignoreInTabOrder&&this.props.ignoreInTabOrder()?-1:0},i.prototype.handleTap=function(e){this.isDisabled()||this.props.onTap(e)},i.prototype.getAriaLabel=function(){return this.props.ariaLabel?this.props.ariaLabel():this.props.command()},i.prototype.hasPopup=function(){return!!this.props.ariaPopup&&this.props.ariaPopup()},i.prototype.isDisabled=function(){return!!this.props.disabled&&this.props.disabled()},i.prototype.isSelected=function(){return!!this.props.selected&&this.props.selected()},i.prototype.isSelectable=function(){return!!this.props.selectable&&this.props.selectable()},i.prototype.didMount=function(e){this.props.didMount&&this.props.didMount(e)},r=i;function i(){return null!==o&&o.apply(this,arguments)||this}t.default=r}),define("loadcss!dcgview-helpers/download-button",function(){}),define("dcgview-helpers/download-button",["require","exports","tslib","dcgview","browser","loadcss!./download-button"],function(e,t,r,n,o){"use strict";function i(){return!o.IS_IE&&!function(){if(o.IS_SAFARI){var e=navigator.userAgent.match(/Version\/(\d+)/);return e&&e[1]&&parseFloat(e[1])<11}}()&&void 0!==document.createElement("a").download}Object.defineProperty(t,"__esModule",{value:!0}),t.canDownload=void 0,t.canDownload=function(){return i()||void 0!==navigator.msSaveBlob};var a;a=n.Class,r.__extends(s,a),s.prototype.init=function(){this.supportsDirectDownload=i()},s.prototype.template=function(){var e=this;return n.createElement("a",{role:n.const("button"),tabindex:function(){return e.props.enabled()?0:-1},"aria-disabled":function(){return!e.props.enabled()},class:function(){return{"dcg-download-button":!0,"dcg-disabled":!e.props.enabled(),"dcg-braille-equations":e.props.isBraille,"dcg-svg-button":e.props.isSvg}},didMount:this.bindFn(this.didMountDownload),didUnmount:this.bindFn(this.didUnmountDownload),didUpdate:this.bindFn(this.didUpdate),download:function(){return e.supportsDirectDownload?e.props.filename():void 0},onTap:function(t){var r;e.supportsDirectDownload||!navigator.msSaveOrOpenBlob||(r=e.props.data())&&(navigator.msSaveOrOpenBlob(r,e.props.filename()),t.preventDefault())}},n.createElement("i",{class:n.const("dcg-icon-download"),"aria-hidden":n.const("true")}),n.createElement("span",null,function(){return e.props.text()}))},s.prototype.didMountDownload=function(e){this.downloadLink=e,this.didUpdate()},s.prototype.didUnmountDownload=function(){this.revokeBlobURL()},s.prototype.didUpdate=function(){this.updateDownloadURL(),this.cachedObjectURL&&(this.downloadLink.href=this.cachedObjectURL)},s.prototype.updateDownloadURL=function(){var e;this.revokeBlobURL(),this.supportsDirectDownload&&(e=this.props.data())&&(this.cachedObjectURL=URL.createObjectURL(e))},s.prototype.revokeBlobURL=function(){this.cachedObjectURL&&URL.revokeObjectURL(this.cachedObjectURL)},r=s;function s(){return null!==a&&a.apply(this,arguments)||this}t.default=r}),define("lib/export-braille-equations",["require","exports","abraham","graphing-calc/models/expression","expressions/regression_view","core/lib/number-to-latex"],function(e,t,r,n,o,i){"use strict";function a(e,t,n){return void 0===n&&(n=!1),n&&(e=e.replace(/ /g,"\\ ")),"none"===t?e:(e="nemeth"===t?r.latexToNemeth(e):r.latexToUeb(e)).isError?"":r.UnicodeBraille.toBrailleAscii(e.value)}function s(e){var t="--------------------";return t+"\n"+e+"\n"+t}function c(e,t){return e=""+e,"nemeth"===t?a(e,t,!1)+"_4":"ueb"===t?a(e+".",t,!1):""}Object.defineProperty(t,"__esModule",{value:!0}),t.getBrailleEquationsBasic=t.getBrailleEquationsGraphing=void 0,t.getBrailleEquationsGraphing=function(e,t){if("none"===t)return"";var r=[];r.push(a("Expression List",t,!0)),r.push(""),r.push("");for(var l="",u=e.getItemCount(),d=0;d<u;d++){var p=e.getItemModelByIndex(d);if(p&&!p.secret){""!==l&&"folder"!==p.type&&l!==p.folderId&&(r.push(s(a("End Folder",t,!0))),l="");var h="";switch(p.type){case"expression":if(!p.hidden){var f=c(p.displayIndex,t),g=(h=p.latex,[]);if((x=p.formula)&&!n.isEmpty(p))if(e.shouldShowEvaluationForItem(p.id)){var m=x.zero_values&&x.zero_values.length?x.zero_values[0].val:x.constant_value;Array.isArray(m)?h+="\\ "+m.length+"\\ element\\ list":h+="="+m}else if(n.shouldShowCDFFooter(p))g.push(a("Min="+n.getCDFMin(p),t,!1)),g.push(a("Max="+n.getCDFMax(p),t,!1)),n.isCDFMaxValid(p)&&n.isCDFMinValid(p)&&g.push(a("CDF="+n.getCDFEvaluation(p),t,!1));else if(n.isTTest(p)){(b=n.getTTestResults(p))&&(g.push(a("<"+i.numberToStatsConfidenceLatex(b.lessThan,5),t,!1)),g.push(a(">"+i.numberToStatsConfidenceLatex(b.greaterThan,5),t,!1)),g.push(a("\\ne"+i.numberToStatsConfidenceLatex(b.notEqual,5),t,!1)))}else if(x.is_regression&&x.regression){var y,v=x.regression,b=v.statistics,x=v.parameters;for(y in b.hasOwnProperty("Rsquared")&&g.push(a("R^2="+o.getRoundedStat(v,"Rsquared"),t,!1)),b.hasOwnProperty("rsquared")&&g.push(a("r^2="+o.getRoundedStat(v,"rsquared"),t,!1)),b.hasOwnProperty("r")&&g.push(a("r="+o.getRoundedStat(v,"r"),t,!1)),b.hasOwnProperty("RMSE")&&g.push(a("\\operatorname{RMSE}="+o.getRoundedStat(v,"RMSE"),t,!1)),x)g.push(a(y+"="+o.getRoundedParam(v,y),t,!1))}r.push(f+"  "+a(h,t,!1)),r.push.apply(r,g)}break;case"text":r.push(a(p.text,t,!0));break;case"folder":p.collapsed?h="Collapsed Folder "+p.title:(h="Start Folder "+p.title,l=p.id),r.push(s(a(h,t,!0)));break;case"image":r.push(a("Image",t,!1));break;case"table":r.push(s(a("Start Table",t,!0)));for(var w=0,E=p.rowModels;w<E.length;w++){for(var S=[],k=0,_=E[w].cells;k<_.length;k++){var I,M,L=_[k],T="";"header"===L.type?T=L.latex||"":"cell"===L.type&&(I=L.column.index,M=L.row.index-1,T=L.column.disabled?L.column.computedValues[M]||"":p.columns[I].values[M]||""),S.push(a(T,t))}var C=S.join("\t");/^\t/.test(C)||r.push(C)}r.push(s(a("End Table",t,!0)));break;default:return p}}}return""!==l&&r.push(s(a("End Folder",t,!0))),r.join("\n")},t.getBrailleEquationsBasic=function(e,t){if("none"===t)return"";var r=[];r.push(a("Expression List",t,!0)),r.push(""),r.push("");for(var n=0,o=e.getExpressionOrder();n<o.length;n++){var i=o[n],s=c(e.getExpressionIndex(i)+1,t),l=e.getExpressionLatex(i);void 0!==(i=e.getExpressionValue(i))&&(l+="="+i),r.push(s+"  "+a(l,t,!1))}return r.join("\n")}}),define("loadcss!basic/settings-menu",function(){}),define("basic/settings-menu",["require","exports","tslib","browser","keys","dcgview","./dcgview-basic","jquery","dcgview-helpers/download-button","lib/export-braille-equations","loadcss!./settings-menu"],function(e,t,r,n,o,i,a,s,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsMenu=void 0;var u,d=i.Components.If;u=a.DCGViewBasic,r.__extends(p,u),p.prototype.template=function(){var e=this;return i.createElement("div",{class:function(){return{"dcg-settings-dropdown":!0,"dcg-popover":!0,"dcg-has-background-color":e.controller.hasBackgroundColor(),"dcg-point-left":e.controller.containerSize.height<=420}},role:i.const("complementary"),"aria-label":i.const("Settings Menu"),didMount:this.bindFn(this.didMountSettingsDropdown),didUnmount:this.bindFn(this.didUnmountSettingsDropdown)},i.createElement("div",{class:i.const("dcg-popover-interior"),style:function(){return{background:e.controller.getBackgroundColor()}}},i.createElement("div",{class:function(){return{"dcg-settings-menu-option":!0,"dcg-displaysize-container":!0}}},i.createElement("div",{class:i.const("dcg-group-title")},function(){return e.controller.s("shared-calculator-label-settings-display")}),i.createElement("div",{role:i.const("group"),"aria-label":function(){return e.controller.s("shared-calculator-narration-settings-display-size")},class:i.const("dcg-displaysize-buttons dcg-segmented-control-container")},i.createElement("span",{class:function(){return{"dcg-displaysize-option":!0,"dcg-displaysize-default":!0,"dcg-segmented-control-btn":!0,"dcg-dark-gray-segmented-control-btn":!0,"dcg-selected":!e.getProjectorMode()}},role:i.const("button"),onTap:this.bindFn(this.setDefaultDisplaySize),tabindex:i.const(0),"aria-label":function(){return e.controller.s("shared-calculator-narration-settings-display-size-default")},"aria-pressed":function(){return!e.getProjectorMode()}},i.const("A")),i.createElement("span",{class:function(){return{"dcg-displaysize-option":!0,"dcg-displaysize-large":!0,"dcg-segmented-control-btn":!0,"dcg-dark-gray-segmented-control-btn":!0,"dcg-selected":e.getProjectorMode()}},role:i.const("button"),onTap:this.bindFn(this.setLargeDisplaySize),tabindex:i.const(0),"aria-label":function(){return e.controller.s("shared-calculator-narration-settings-display-size-large")},"aria-pressed":this.bindFn(this.getProjectorMode)},i.const("A")))),i.createElement("div",{role:i.const("checkbox"),tabindex:i.const(0),onTap:this.bindFn(this.onToggleInvertedColors),"aria-checked":function(){return e.controller.getInvertedColors()},"aria-label":function(){return e.controller.s("basic-calculator-narration-reverse-contrast")},class:function(){return{"dcg-settings-menu-option":!0,"dcg-do-not-blur":!0,"dcg-checked":e.controller.getInvertedColors(),"dcg-checkbox-container":!0,"dcg-reverse-contrast":!0}},handleEvent:i.const(!0)},i.createElement("span",{class:i.const("dcg-checkbox-box")},i.createElement("i",{class:i.const("dcg-icon-check"),"aria-hidden":i.const("true")})),i.createElement("span",{class:i.const("dcg-checkbox-label")},function(){return e.controller.s("basic-calculator-label-reverse-contrast")})),i.createElement(d,{predicate:function(){return e.controller.getBrailleControls()}},function(){return i.createElement("div",null,i.createElement("div",{role:i.const("checkbox"),tabindex:i.const(0),onTap:e.bindFn(e.onToggleBrailleMode),"aria-checked":function(){return e.controller.renderAsBraille()},"aria-label":function(){return e.controller.s("basic-calculator-narration-braille-mode")},class:function(){return{"dcg-settings-menu-option":!0,"dcg-do-not-blur":!0,"dcg-checked":e.controller.renderAsBraille(),"dcg-checkbox-container":!0,"dcg-braille-mode":!0}},handleEvent:i.const(!0)},i.createElement("span",{class:i.const("dcg-checkbox-box")},i.createElement("i",{class:i.const("dcg-icon-check"),"aria-hidden":i.const("true")})),i.createElement("span",{class:i.const("dcg-checkbox-label")},function(){return e.controller.s("basic-calculator-label-braille-mode")})),i.createElement(d,{predicate:function(){return e.controller.renderAsBraille()}},function(){return i.createElement("div",{class:function(){return{"dcg-settings-menu-option":!0,"dcg-braille-container":!0}}},i.createElement("div",{role:i.const("group"),"aria-label":function(){return e.controller.s("basic-calculator-label-braille-mode")},class:i.const("dcg-braille-options-buttons dcg-segmented-control-container")},i.createElement("span",{class:function(){return{"dcg-braille-option":!0,"dcg-segmented-control-btn":!0,"dcg-dark-gray-segmented-control-btn":!0,"dcg-selected":e.isNemeth()}},role:i.const("button"),onTap:function(){return e.setBrailleMode("nemeth")},tabindex:i.const(0),"aria-label":function(){return e.controller.s("basic-calculator-narration-nemeth")},"aria-pressed":function(){return e.isNemeth()}},function(){return e.controller.s("basic-calculator-button-nemeth")}),i.createElement("span",{class:function(){return{"dcg-braille-option":!0,"dcg-segmented-control-btn":!0,"dcg-dark-gray-segmented-control-btn":!0,"dcg-selected":e.isUEB()}},role:i.const("button"),onTap:function(){return e.setBrailleMode("ueb")},tabindex:i.const(0),"aria-label":function(){return e.controller.s("basic-calculator-narration-ueb")},"aria-pressed":function(){return e.isUEB()}},function(){return e.controller.s("basic-calculator-button-ueb")})),i.createElement("div",{class:i.const("dcg-braille-options-container")},i.createElement("div",{role:i.const("checkbox"),tabindex:i.const(0),onTap:function(){return e.onToggleSixKeyInput()},"aria-checked":function(){return e.controller.getSixKeyInput()},"aria-label":function(){return e.controller.s("basic-calculator-narration-six-key-input")},class:function(){return{"dcg-settings-menu-option":!0,"dcg-do-not-blur":!0,"dcg-six-key-checkbox":!0,"dcg-checked":e.controller.getSixKeyInput(),"dcg-checkbox-container":!0}},handleEvent:i.const(!0)},i.createElement("span",{class:i.const("dcg-checkbox-box")},i.createElement("i",{class:i.const("dcg-icon-check"),"aria-hidden":i.const("true")})),i.createElement("span",{class:i.const("dcg-checkbox-label")},function(){return e.controller.s("basic-calculator-label-six-key-input")})),i.createElement("a",{href:i.const("https://www.desmos.com/accessibility#braille"),class:i.const("dcg-six-key-info"),target:i.const("_blank")},i.createElement("i",{class:i.const("dcg-icon-question-sign"),"aria-hidden":i.const("true")})),i.createElement(d,{predicate:function(){return!n.IS_MOBILE&&c.canDownload()&&e.controller.getBrailleExpressionDownload()}},function(){return i.createElement(c.default,{data:function(){var t=l.getBrailleEquationsBasic(e.model,e.controller.getBrailleMode());return new Blob([t],{type:"text/plain"})},enabled:e.const(!0),filename:e.const("desmos-equations.brl"),text:function(){return e.controller.s("basic-calculator-link-download-braille-equations")},isBraille:e.const(!0)})})))}))}),i.createElement(d,{predicate:function(){return!!e.getVersionNumber()}},function(){return i.createElement("div",{class:i.const("dcg-version-number")},i.const("Version: "),function(){return e.getVersionNumber()})})))},p.prototype.getVersionNumber=function(){var e=window;if(e&&e.AppBridge)return e.AppBridge.versionNumber},p.prototype.didUnmountSettingsDropdown=function(){s(document).off(".dcg-settings-view")},p.prototype.didMountSettingsDropdown=function(e){var t=this;this.settingsGroupNode=e,s(document).on("dcg-tapstart.dcg-settings-view",function(e){0===s(e.target).closest(".dcg-basic-settings-container").length&&t.controller.dispatch({type:"close-settings-menu"})}),s(document).on("keydown.dcg-settings-view",function(e){var r,n,i;"Esc"===o.lookup(e)&&(t.controller.dispatch({type:"close-settings-menu"}),t.controller.dispatch({type:"focus-last-expression"})),"Tab"!==o.lookup(e)||e.altKey||e.metaKey||e.ctrlKey||(r=document.activeElement,n=s(t.props.settingsButtonNode()),i=s(t.settingsGroupNode).find(".dcg-settings-menu-option:last"),e.shiftKey||r!==i[0]?e.shiftKey&&r===n[0]&&(i.trigger("focus"),e.preventDefault(),e.stopPropagation()):(n.trigger("focus"),e.preventDefault(),e.stopPropagation()))})},p.prototype.setBrailleMode=function(e){this.controller.dispatch({type:"set-braille-mode",mode:e})},p.prototype.onToggleBrailleMode=function(){this.controller.dispatch({type:"set-braille-mode",mode:this.controller.renderAsBraille()?"none":"nemeth"})},p.prototype.isNemeth=function(){return"nemeth"===this.controller.getBrailleMode()},p.prototype.isUEB=function(){return"ueb"===this.controller.getBrailleMode()},p.prototype.isLatex=function(){return"none"===this.controller.getBrailleMode()},p.prototype.onToggleSixKeyInput=function(){var e=!this.controller.getSixKeyInput();this.controller.dispatch({type:"set-six-key-input",mode:e})},p.prototype.onToggleInvertedColors=function(){var e=!this.controller.getInvertedColors();this.controller.dispatch({type:"update-inverted-colors",mode:e})},p.prototype.getProjectorMode=function(){return this.controller.isProjectorMode()},p.prototype.setDefaultDisplaySize=function(){this.controller.dispatch({type:"update-projector-mode",mode:!1})},p.prototype.setLargeDisplaySize=function(){this.controller.dispatch({type:"update-projector-mode",mode:!0})},r=p;function p(){return null!==u&&u.apply(this,arguments)||this}t.SettingsMenu=r}),define("loadcss!basic/keypad/settings-control-button",function(){}),define("basic/keypad/settings-control-button",["require","exports","tslib","dcgview","keypad/control-btn","basic/dcgview-basic","basic/settings-menu","loadcss!./settings-control-button"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,c=n.Components.If;s=i.DCGViewBasic,r.__extends(l,s),l.prototype.template=function(){var e=this,t=this.props.controller();return n.createElement("div",{class:n.const("dcg-basic-settings-container")},n.createElement(o.default,{didMount:function(t){return e.settingsButtonNode=t},command:this.const("settings"),ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-settings")},onTap:this.bindFn(this.onToggleSettingsMenu),selected:function(){return e.controller.isSettingsMenuOpen()},ariaPopup:this.const(!0)},n.createElement("i",{class:n.const("dcg-icon-wrench"),"aria-hidden":n.const("true")})),n.createElement(c,{predicate:function(){return e.controller.isSettingsMenuOpen()}},function(){return n.createElement(a.SettingsMenu,{controller:e.props.controller,settingsButtonNode:function(){return e.settingsButtonNode}})}))},l.prototype.onToggleSettingsMenu=function(){this.controller.dispatch({type:"toggle-settings-menu"})},r=l;function l(){return null!==s&&s.apply(this,arguments)||this}t.default=r}),define("basic/keypad/fourfunction-control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","./settings-control-button","basic/dcgview-basic"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c,l=n.Components,u=l.If,d=l.IfElse;c=s.DCGViewBasic,r.__extends(p,c),p.prototype.template=function(){var e=this,t=this.props.controller();return n.createElement(o.default,{controller:this.props.controller},n.createElement(u,{predicate:function(){return!e.controller.getRestrictedEditing()}},function(){return n.createElement(i.default,{command:e.const("undo"),disabled:function(){return!t.canUndo()},ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-undo")},onTap:function(e){return t.dispatch({type:"undo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},n.createElement("i",{class:n.const("dcg-icon-undo"),"aria-hidden":n.const("true")}))}),n.createElement(u,{predicate:function(){return!e.controller.getRestrictedEditing()}},function(){return n.createElement(i.default,{command:e.const("redo"),disabled:function(){return!t.canRedo()},ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-redo")},onTap:function(e){return t.dispatch({type:"redo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},n.createElement("i",{class:n.const("dcg-icon-redo"),"aria-hidden":n.const("true")}))}),d(function(){return t.shouldShowClear()},{true:function(){return n.createElement(i.default,{command:e.const("clear"),ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-clear")},onTap:function(){return t.dispatch({type:"clear"})}},function(){return t.s("basic-calculator-button-controlbar-clear")})},false:function(){return n.createElement(i.default,{command:e.const("clearall"),disabled:function(){return!t.canClear()},ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-clear-all")},onTap:function(){return t.dispatch({type:"set-blank",opts:{allowUndo:!0}})}},function(){return t.s("basic-calculator-button-controlbar-clear-all")})}}),n.createElement(u,{predicate:function(){return e.controller.getRestrictedEditing()}},function(){return n.createElement("div",{class:n.const("dcg-spacer-2")})}),n.createElement(u,{predicate:function(){return"none"===t.getBrailleMode()}},function(){return n.createElement(i.default,{command:e.const("backspace"),ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-backspace")},disabled:function(){return!t.canBackspace()},onTap:function(){return t.dispatch({type:"keypad/press-key",key:"Backspace"})}},n.createElement("i",{class:n.const("dcg-icon-delete"),"aria-hidden":n.const("true")}))}),n.createElement(u,{predicate:function(){return e.props.controller().getSettingsMenu()}},function(){return n.createElement(a.default,{controller:e.props.controller})}))},p.prototype.onToggleSettingsMenu=function(){this.controller.dispatch({type:"toggle-settings-menu"})},r=p;function p(){return null!==c&&c.apply(this,arguments)||this}t.default=r}),define("basic/keypad/single-expression-fourfunction-control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","basic/dcgview-basic"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,c=n.Components.If;s=a.DCGViewBasic,r.__extends(l,s),l.prototype.template=function(){var e=this,t=this.props.controller();return n.createElement(o.default,{controller:this.props.controller},n.createElement(c,{predicate:function(){return!e.controller.getRestrictedEditing()}},function(){return n.createElement(i.default,{command:e.const("undo"),disabled:function(){return!t.canUndo()},ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-undo")},onTap:function(e){return t.dispatch({type:"undo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},n.createElement("i",{class:n.const("dcg-icon-undo"),"aria-hidden":n.const("true")}))}),n.createElement(c,{predicate:function(){return!e.controller.getRestrictedEditing()}},function(){return n.createElement(i.default,{command:e.const("redo"),disabled:function(){return!t.canRedo()},ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-redo")},onTap:function(e){return t.dispatch({type:"redo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},n.createElement("i",{class:n.const("dcg-icon-redo"),"aria-hidden":n.const("true")}))}),n.createElement(i.default,{command:this.const("clear"),ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-clear")},onTap:function(){return t.dispatch({type:"clear"})}},function(){return t.s("basic-calculator-button-controlbar-clear")}),n.createElement(c,{predicate:function(){return e.controller.getRestrictedEditing()}},function(){return n.createElement("div",{class:n.const("dcg-spacer-2")})}),n.createElement(c,{predicate:function(){return"none"===t.getBrailleMode()}},function(){return n.createElement(i.default,{command:e.const("backspace"),ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-backspace")},disabled:function(){return!t.canBackspace()},onTap:function(){return t.dispatch({type:"keypad/press-key",key:"Backspace"})}},n.createElement("i",{class:n.const("dcg-icon-delete"),"aria-hidden":n.const("true")}))}))},r=l;function l(){return null!==s&&s.apply(this,arguments)||this}t.default=r}),define("loadcss!keypad/control-toggle",function(){}),define("keypad/control-toggle",["require","exports","tslib","lib/aria","core/lib/color-helpers","dcgview","./dcgview-keypad","loadcss!./control-toggle"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s;s=a.default,r.__extends(c,s),c.prototype.template=function(){var e=this;return i.createElement("div",{class:function(){return{"dcg-keypad-control-toggle":!0,"dcg-toggled":e.props.toggled()}},role:i.const("button"),tabindex:i.const("0"),"aria-label":this.bindFn(this.getAriaLabel),onTap:this.bindFn(this.handleTap)},i.createElement("div",{class:i.const("dcg-ctrl-toggle-option")},this.props.defaultOption),i.createElement("div",{class:i.const("dcg-ctrl-toggle-option")},this.props.toggledOption),i.createElement("div",{class:i.const("dcg-ctrl-toggle-cover"),style:function(){return{background:o.shadeColor(e.controller.getBackgroundColor(),-.1)}}}))},c.prototype.getAriaLabel=function(){var e={toggled:this.props.toggledAriaLabel(),default:this.props.defaultAriaLabel()};return this.props.toggled()?this.controller.s("shared-calculator-narration-control-toggle-switch-to-default",e):this.controller.s("shared-calculator-narration-control-toggle-switch-to-toggled",e)},c.prototype.handleTap=function(){this.props.toggled()?n.alert(this.props.defaultAriaLabel()):n.alert(this.props.toggledAriaLabel()),this.props.onTap(this.props.command())},r=c;function c(){return null!==s&&s.apply(this,arguments)||this}t.default=r}),define("basic/keypad/scientific-control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","basic/dcgview-basic","keypad/control-toggle","./settings-control-button"],function(e,t,r,n,o,i,a,s,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,u=n.Components,d=u.If,p=u.IfElse;l=a.DCGViewBasic,r.__extends(h,l),h.prototype.template=function(){var e=this,t=this.props.controller();return n.createElement(o.default,{controller:this.props.controller},n.createElement(i.default,{command:this.const("main"),selected:function(){return"main"===t.getKeyboardMode()},disabled:function(){return e.controller.renderAsBraille()},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:function(){return t.dispatch({type:"main"})},ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-main")}},function(){return t.s("basic-calculator-button-controlbar-main")}),n.createElement(i.default,{command:this.const("ABC"),selected:function(){return-1!==["qwerty","capitalQwerty","letters"].indexOf(t.getKeyboardMode())},disabled:function(){return e.controller.renderAsBraille()},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-abc")},onTap:function(){return t.dispatch({type:"ABC"})}},function(){return t.s("basic-calculator-button-controlbar-abc")}),n.createElement(i.default,{command:this.const("functions"),selected:function(){return-1!==["functions","restrictedFunctions"].indexOf(t.getKeyboardMode())},ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-functions")},disabled:function(){return e.controller.renderAsBraille()},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:function(){return t.dispatch({type:"functions"})}},function(){return t.s("basic-calculator-button-controlbar-func")}),n.createElement(s.default,{command:this.const("degrees"),toggled:function(){return e.model.getDegreeMode()},defaultOption:function(){return t.s("basic-calculator-label-controlbar-rad")},toggledOption:function(){return t.s("basic-calculator-label-controlbar-deg")},defaultAriaLabel:function(){return t.s("basic-calculator-narration-controlbar-radians")},toggledAriaLabel:function(){return t.s("basic-calculator-narration-controlbar-degrees")},onTap:function(){return t.dispatch({type:"degrees"})},controller:this.props.controller}),n.createElement(d,{predicate:function(){return!e.controller.getRestrictedEditing()}},function(){return n.createElement(i.default,{command:e.const("undo"),disabled:function(){return!t.canUndo()},ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-undo")},onTap:function(e){return t.dispatch({type:"undo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},n.createElement("i",{class:n.const("dcg-icon-undo"),"aria-hidden":n.const("true")}))}),n.createElement(d,{predicate:function(){return!e.controller.getRestrictedEditing()}},function(){return n.createElement(i.default,{command:e.const("redo"),disabled:function(){return!t.canRedo()},ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-redo")},onTap:function(e){return t.dispatch({type:"redo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},n.createElement("i",{class:n.const("dcg-icon-redo"),"aria-hidden":n.const("true")}))}),p(function(){return t.shouldShowClear()},{true:function(){return n.createElement(i.default,{command:e.const("clear"),ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-clear")},onTap:function(){return t.dispatch({type:"clear"})}},function(){return t.s("basic-calculator-button-controlbar-clear")})},false:function(){return n.createElement(i.default,{command:e.const("clearall"),disabled:function(){return!t.canClear()},ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-clear-all")},onTap:function(){return t.dispatch({type:"set-blank",opts:{allowUndo:!0}})}},function(){return t.s("basic-calculator-button-controlbar-clear-all")})}}),n.createElement(d,{predicate:function(){return e.props.controller().getSettingsMenu()}},function(){return n.createElement(c.default,{controller:e.props.controller})}))},r=h;function h(){return null!==l&&l.apply(this,arguments)||this}t.default=r}),define("basic/keypad/single-expression-scientific-control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","basic/dcgview-basic","keypad/control-toggle"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c,l=n.Components.If;c=a.DCGViewBasic,r.__extends(u,c),u.prototype.template=function(){var e=this,t=this.props.controller();return n.createElement(o.default,{controller:this.props.controller},n.createElement(s.default,{command:this.const("degrees"),toggled:function(){return e.model.getDegreeMode()},defaultOption:function(){return t.s("basic-calculator-label-controlbar-rad")},toggledOption:function(){return t.s("basic-calculator-label-controlbar-deg")},defaultAriaLabel:function(){return t.s("basic-calculator-narration-controlbar-radians")},toggledAriaLabel:function(){return t.s("basic-calculator-narration-controlbar-degrees")},onTap:function(){return t.dispatch({type:"degrees"})},controller:this.props.controller}),n.createElement("div",{class:n.const("dcg-spacer")}),n.createElement(l,{predicate:function(){return!e.controller.getRestrictedEditing()}},function(){return n.createElement(i.default,{command:e.const("undo"),disabled:function(){return!t.canUndo()},ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-undo")},onTap:function(e){return t.dispatch({type:"undo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},n.createElement("i",{class:n.const("dcg-icon-undo"),"aria-hidden":n.const("true")}))}),n.createElement(l,{predicate:function(){return!e.controller.getRestrictedEditing()}},function(){return n.createElement(i.default,{command:e.const("redo"),disabled:function(){return!t.canRedo()},ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-redo")},onTap:function(e){return t.dispatch({type:"redo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},n.createElement("i",{class:n.const("dcg-icon-redo"),"aria-hidden":n.const("true")}))}),n.createElement("div",{class:n.const("dcg-spacer")}),n.createElement(i.default,{narrowButton:this.const(!0),command:this.const("clear"),ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-clear")},onTap:function(){return t.dispatch({type:"clear"})}},function(){return t.s("basic-calculator-button-controlbar-clear")}),n.createElement(i.default,{narrowButton:this.const(!0),command:this.const("backspace"),ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-backspace")},onTap:function(){return t.dispatch({type:"keypad/press-key",key:"Backspace"})}},n.createElement("i",{class:n.const("dcg-icon-delete"),"aria-hidden":n.const("true")})))},r=u;function u(){return null!==c&&c.apply(this,arguments)||this}t.default=r}),define("basic/keypad/fourfunction-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c;c=o.DCGViewBasic,r.__extends(l,c),l.prototype.template=function(){var e=this;return n.createElement("div",{role:n.const("group"),"aria-label":function(){return e.s("basic-calculator-narration-keypad")}},n.createElement(a.default,{controller:this.props.controller},n.createElement(s.default,null,i.view(this,"(",{colspan:this.parenColspan()}),i.view(this,")",{colspan:this.parenColspan()}),this.makeAdditionalFunctionKey(0),this.makeAdditionalFunctionKey(1),i.view(this,"division")),n.createElement(s.default,null,i.view(this,"7",{style:"highlight"}),i.view(this,"8",{style:"highlight"}),i.view(this,"9",{style:"highlight"}),i.view(this,"multiplication")),n.createElement(s.default,null,i.view(this,"4",{style:"highlight"}),i.view(this,"5",{style:"highlight"}),i.view(this,"6",{style:"highlight"}),i.view(this,"-")),n.createElement(s.default,null,i.view(this,"1",{style:"highlight"}),i.view(this,"2",{style:"highlight"}),i.view(this,"3",{style:"highlight"}),i.view(this,"+")),n.createElement(s.default,null,i.view(this,"0",{style:"highlight"}),i.view(this,".",{style:"highlight"}),i.view(this,"ans"),i.view(this,"enter",{style:"blue"}))))},l.prototype.parenColspan=function(){return 1<this.controller.getAdditionalFunctions().length?.5:1},l.prototype.makeAdditionalFunctionKey=function(e){return"exponent"===(e=this.controller.getAdditionalFunctions()[e])?i.view(this,"a^b"):"percent"===e?i.view(this,"%"):"sqrt"===e?i.view(this,"sqrt"):"fraction"===e?i.view(this,"a/b"):void 0},r=l;function l(){return null!==c&&c.apply(this,arguments)||this}t.default=r}),define("basic/keypad/single-expression-fourfunction-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c;c=o.DCGViewBasic,r.__extends(l,c),l.prototype.template=function(){var e=this;return n.createElement("div",{role:n.const("group"),"aria-label":function(){return e.s("basic-calculator-narration-keypad")}},n.createElement(a.default,{controller:this.props.controller},n.createElement(s.default,null,i.view(this,"(",{colspan:this.parenColspan()}),i.view(this,")",{colspan:this.parenColspan()}),this.makeAdditionalFunctionKey(1)),n.createElement(s.default,null,i.view(this,"7",{style:"highlight"}),i.view(this,"8",{style:"highlight"}),i.view(this,"9",{style:"highlight"}),i.view(this,"division")),n.createElement(s.default,null,i.view(this,"4",{style:"highlight"}),i.view(this,"5",{style:"highlight"}),i.view(this,"6",{style:"highlight"}),i.view(this,"multiplication")),n.createElement(s.default,null,i.view(this,"1",{style:"highlight"}),i.view(this,"2",{style:"highlight"}),i.view(this,"3",{style:"highlight"}),i.view(this,"-")),n.createElement(s.default,null,i.view(this,"0",{style:"highlight"}),i.view(this,".",{style:"highlight",colspan:this.dotColspan()}),this.makeAdditionalFunctionKey(0),i.view(this,"+"))))},l.prototype.parenColspan=function(){return 2===this.controller.getAdditionalFunctions().length?1.5:2},l.prototype.dotColspan=function(){return this.controller.getAdditionalFunctions().length?1:2},l.prototype.makeAdditionalFunctionKey=function(e){return"exponent"===(e=this.controller.getAdditionalFunctions()[e])?i.view(this,"a^b"):"percent"===e?i.view(this,"%"):"sqrt"===e?i.view(this,"sqrt"):void 0},r=l;function l(){return null!==c&&c.apply(this,arguments)||this}t.default=r}),define("basic/keypad/single-expression-scientific-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c;c=o.DCGViewBasic,r.__extends(l,c),l.prototype.template=function(){return n.createElement(a.default,{controller:this.props.controller},n.createElement(s.default,null,i.view(this,"("),i.view(this,")"),i.view(this,"x^2"),i.view(this,"sqrt"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),i.view(this,"x^3"),i.view(this,"x^y"),i.view(this,"ythroot")),n.createElement(s.default,null,i.view(this,"7",{style:"highlight"}),i.view(this,"8",{style:"highlight"}),i.view(this,"9",{style:"highlight"}),i.view(this,"division"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),i.view(this,"pi"),i.view(this,"e^x"),i.view(this,"!")),n.createElement(s.default,null,i.view(this,"4",{style:"highlight"}),i.view(this,"5",{style:"highlight"}),i.view(this,"6",{style:"highlight"}),i.view(this,"multiplication"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),i.view(this,"log"),i.view(this,"ln"),i.view(this,"|x|")),n.createElement(s.default,null,i.view(this,"1",{style:"highlight"}),i.view(this,"2",{style:"highlight"}),i.view(this,"3",{style:"highlight"}),i.view(this,"-"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),i.view(this,"sin"),i.view(this,"cos"),i.view(this,"tan")),n.createElement(s.default,null,i.view(this,"0",{style:"highlight"}),i.view(this,".",{style:"highlight"}),i.view(this,"x/y"),i.view(this,"+"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),i.view(this,"arcsin"),i.view(this,"arccos"),i.view(this,"arctan")))},r=l;function l(){return null!==c&&c.apply(this,arguments)||this}t.default=r}),define("basic/keypad/sci-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c,l=n.Components.IfElse;c=o.DCGViewBasic,r.__extends(u,c),u.prototype.template=function(){var e=this;return n.createElement(a.default,{controller:this.props.controller},n.createElement(s.default,null,i.view(this,"a^2"),i.view(this,"a^b"),i.view(this,"|a|"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),i.view(this,"7",{style:"highlight"}),i.view(this,"8",{style:"highlight"}),i.view(this,"9",{style:"highlight"}),i.view(this,"division"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),i.view(this,"%"),i.view(this,"a/b")),n.createElement(s.default,null,i.view(this,"sqrt"),i.view(this,"nthroot"),i.view(this,"pi"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),i.view(this,"4",{style:"highlight"}),i.view(this,"5",{style:"highlight"}),i.view(this,"6",{style:"highlight"}),i.view(this,"multiplication"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),i.view(this,"left",{style:"highlight"}),i.view(this,"right",{style:"highlight"})),n.createElement(s.default,null,i.view(this,"sin"),i.view(this,"cos"),i.view(this,"tan"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),i.view(this,"1",{style:"highlight"}),i.view(this,"2",{style:"highlight"}),i.view(this,"3",{style:"highlight"}),i.view(this,"-"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),i.spacer(.5),i.view(this,"backspace",{style:"highlight",colspan:1.5})),n.createElement(s.default,null,i.view(this,"("),i.view(this,")"),l(function(){return e.controller.getReplaceCommaWith10Exp()},{true:function(){return i.view(e,"10^n")},false:function(){return i.view(e,",")}}),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),i.view(this,"0",{style:"highlight"}),i.view(this,".",{style:"highlight"}),i.view(this,"ans"),i.view(this,"+"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),i.view(this,"enter",{style:"blue",colspan:2})))},r=u;function u(){return null!==c&&c.apply(this,arguments)||this}t.default=r}),define("basic/keypad/sci-qwerty-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c;c=o.DCGViewBasic,r.__extends(l,c),l.prototype.template=function(){return n.createElement(a.default,{controller:this.props.controller},n.createElement(s.default,null,i.view(this,"q"),i.view(this,"w"),i.view(this,"e"),i.view(this,"r"),i.view(this,"t"),i.view(this,"y"),i.view(this,"u"),i.view(this,"i"),i.view(this,"o"),i.view(this,"p")),n.createElement(s.default,null,n.createElement("div",{class:n.const("dcg-half-width-placeholder")}),i.view(this,"a"),i.view(this,"s"),i.view(this,"d"),i.view(this,"f"),i.view(this,"g"),i.view(this,"h"),i.view(this,"j"),i.view(this,"k"),i.view(this,"l"),n.createElement("div",{class:n.const("dcg-half-width-placeholder")})),n.createElement(s.default,null,i.view(this,"=",{style:"highlight"}),i.view(this,"z"),i.view(this,"x"),i.view(this,"c"),i.view(this,"v"),i.view(this,"b"),i.view(this,"n"),i.view(this,"m"),i.view(this,","),i.view(this,"backspace",{style:"highlight"})),n.createElement(s.default,null,i.view(this,"shift",{style:"highlight",colspan:1.5}),i.view(this,"("),i.view(this,")"),i.view(this,"["),i.view(this,"]"),i.view(this,"!"),i.view(this,"'"),i.view(this,"pi"),i.view(this,"enter",{style:"blue",colspan:1.5})))},r=l;function l(){return null!==c&&c.apply(this,arguments)||this}t.default=r}),define("basic/keypad/sci-letters-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c;c=o.DCGViewBasic,r.__extends(l,c),l.prototype.template=function(){return n.createElement(a.default,{controller:this.props.controller},n.createElement(s.default,null,i.view(this,"a"),i.view(this,"b"),i.view(this,"c"),i.view(this,"d"),i.view(this,"e"),i.view(this,"f"),i.view(this,"g"),i.view(this,"h"),i.view(this,"i"),i.view(this,"j")),n.createElement(s.default,null,i.view(this,"k"),i.view(this,"l"),i.view(this,"m"),i.view(this,"n"),i.view(this,"o"),i.view(this,"p"),i.view(this,"q"),i.view(this,"r"),i.view(this,"s"),i.view(this,"t")),n.createElement(s.default,null,i.view(this,"=",{style:"highlight"}),i.view(this,","),i.view(this,"u"),i.view(this,"v"),i.view(this,"w"),i.view(this,"x"),i.view(this,"y"),i.view(this,"z"),i.view(this,"pi"),i.view(this,"backspace",{style:"highlight"})),n.createElement(s.default,null,i.view(this,"shift",{style:"highlight",colspan:2}),i.view(this,"("),i.view(this,")"),i.view(this,"["),i.view(this,"]"),i.view(this,"!"),i.view(this,"'"),i.view(this,"enter",{style:"blue",colspan:2})))},r=l;function l(){return null!==c&&c.apply(this,arguments)||this}t.default=r}),define("basic/keypad/sci-capital-qwerty-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c;c=o.DCGViewBasic,r.__extends(l,c),l.prototype.template=function(){return n.createElement(a.default,{controller:this.props.controller},n.createElement(s.default,null,i.view(this,"Q"),i.view(this,"W"),i.view(this,"E"),i.view(this,"R"),i.view(this,"T"),i.view(this,"Y"),i.view(this,"U"),i.view(this,"I"),i.view(this,"O"),i.view(this,"P")),n.createElement(s.default,null,n.createElement("div",{class:n.const("dcg-half-width-placeholder")}),i.view(this,"A"),i.view(this,"S"),i.view(this,"D"),i.view(this,"F"),i.view(this,"G"),i.view(this,"H"),i.view(this,"J"),i.view(this,"K"),i.view(this,"L"),n.createElement("div",{class:n.const("dcg-half-width-placeholder")})),n.createElement(s.default,null,i.view(this,"=",{style:"highlight"}),i.view(this,"Z"),i.view(this,"X"),i.view(this,"C"),i.view(this,"V"),i.view(this,"B"),i.view(this,"N"),i.view(this,"M"),i.view(this,","),i.view(this,"backspace",{style:"highlight"})),n.createElement(s.default,null,i.view(this,"shift",{style:"highlight",colspan:1.5}),i.view(this,"("),i.view(this,")"),i.view(this,"["),i.view(this,"]"),i.view(this,"!"),i.view(this,"'"),i.view(this,"pi"),i.view(this,"enter",{style:"blue",colspan:1.5})))},r=l;function l(){return null!==c&&c.apply(this,arguments)||this}t.default=r}),define("basic/keypad/sci-capital-letters-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c;c=o.DCGViewBasic,r.__extends(l,c),l.prototype.template=function(){return n.createElement(a.default,{controller:this.props.controller},n.createElement(s.default,null,i.view(this,"A"),i.view(this,"B"),i.view(this,"C"),i.view(this,"D"),i.view(this,"E"),i.view(this,"F"),i.view(this,"G"),i.view(this,"H"),i.view(this,"I"),i.view(this,"J")),n.createElement(s.default,null,i.view(this,"K"),i.view(this,"L"),i.view(this,"M"),i.view(this,"N"),i.view(this,"O"),i.view(this,"P"),i.view(this,"Q"),i.view(this,"R"),i.view(this,"S"),i.view(this,"T")),n.createElement(s.default,null,i.view(this,"=",{style:"highlight"}),i.view(this,","),i.view(this,"U"),i.view(this,"V"),i.view(this,"W"),i.view(this,"X"),i.view(this,"Y"),i.view(this,"Z"),i.view(this,"pi"),i.view(this,"backspace",{style:"highlight"})),n.createElement(s.default,null,i.view(this,"shift",{style:"highlight",colspan:2}),i.view(this,"("),i.view(this,")"),i.view(this,"["),i.view(this,"]"),i.view(this,"!"),i.view(this,"'"),i.view(this,"enter",{style:"blue",colspan:2})))},r=l;function l(){return null!==c&&c.apply(this,arguments)||this}t.default=r}),define("basic/keypad/sci-functions-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c,l=n.Components.IfElse;c=o.DCGViewBasic,r.__extends(u,c),u.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-sci-func-keypad")},n.createElement(a.default,{controller:this.props.controller},n.createElement(s.default,null,i.view(this,"sin"),i.view(this,"cos"),i.view(this,"tan"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),i.view(this,"a^b"),i.view(this,"sqrt"),i.view(this,"nthroot")),n.createElement(s.default,null,i.view(this,"arcsin"),i.view(this,"arccos"),i.view(this,"arctan"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),i.view(this,"e^x"),i.view(this,"abs"),l(function(){return e.controller.getReplaceRoundWithReciprocal()},{true:function(){return i.view(e,"a^{-1}")},false:function(){return i.view(e,"round")}})),n.createElement(s.default,null,i.view(this,"mean"),i.view(this,"stdev"),i.view(this,"stdevp"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),i.view(this,"ln"),i.view(this,"log"),i.view(this,"backspace",{style:"highlight"})),n.createElement(s.default,null,i.view(this,"nPr"),i.view(this,"nCr"),i.view(this,"!"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),i.view(this,"e"),i.view(this,"pi"),i.view(this,"enter",{style:"blue"}))))},r=u;function u(){return null!==c&&c.apply(this,arguments)||this}t.default=r}),define("basic/keypad/scientific-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","./sci-keypad","./sci-qwerty-keypad","./sci-letters-keypad","./sci-capital-qwerty-keypad","./sci-capital-letters-keypad","./sci-functions-keypad"],function(e,t,r,n,o,i,a,s,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d,p=n.Components.SwitchUnion;d=o.DCGViewBasic,r.__extends(h,d),h.prototype.template=function(){var e=this;return n.createElement("div",{role:n.const("group"),"aria-label":function(){return e.s("basic-calculator-narration-keypad")}},p(function(){return e.controller.getKeyboardMode()},{qwerty:function(){return n.createElement(a.default,{controller:e.props.controller})},letters:function(){return n.createElement(s.default,{controller:e.props.controller})},capitalQwerty:function(){return n.createElement(c.default,{controller:e.props.controller})},capitalLetters:function(){return n.createElement(l.default,{controller:e.props.controller})},functions:function(){return n.createElement(u.default,{controller:e.props.controller})},main:function(){return n.createElement(i.default,{controller:e.props.controller})}}))},r=h;function h(){return null!==d&&d.apply(this,arguments)||this}t.default=r}),define("loadcss!basic/keypad/braille-example-row",function(){}),define("basic/keypad/braille-example-row",["require","exports","tslib","dcgview","dcgview-helpers/static-mathquill-view","abraham","loadcss!./braille-example-row"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrailleExampleRow=void 0;var a,s=n.Components.For;a=n.Class,r.__extends(c,a),c.prototype.template=function(){var e=this;return n.createElement("tr",null,n.createElement(s,{each:function(){return e.getBrailleAscii(e.props.latex())},key:function(e){return e.key}},n.createElement("td",null,function(e){return n.createElement("span",{class:n.const("dcg-key-press")},function(){return e.char})})),n.createElement("td",{class:n.const("dcg-braille-font")},function(){return e.getBrailleUnicode(e.props.latex())}),n.createElement("td",null,n.createElement(o.default,{config:this.const({}),latex:function(){return e.props.latex()}})))},c.prototype.getBrailleAscii=function(e){for(var t=i.UnicodeBraille.toExpandedBrailleAscii(this.getBrailleUnicode(e)),r=[],n=0;n<t.length;n++)r.push({char:t[n],key:n+")"+t[n]});return r},c.prototype.getBrailleUnicode=function(e){var t;return"nemeth"===this.props.brailleMode()?t=i.latexToNemeth(e):"ueb"===this.props.brailleMode()&&(t=i.latexToUeb(e)),t&&t.value?t.value:""},r=c;function c(){return null!==a&&a.apply(this,arguments)||this}t.BrailleExampleRow=r}),define("loadcss!basic/keypad/braille-keypad",function(){}),define("basic/keypad/braille-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","./braille-example-row","loadcss!./braille-keypad"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a;a=o.DCGViewBasic,r.__extends(s,a),s.prototype.template=function(){var e=this;return n.createElement("div",{class:function(){return{"dcg-braille-io-keypad-container":!0,"dcg-has-background-color":e.controller.hasBackgroundColor()}}},n.createElement("div",{class:n.const("dcg-braille-io-keypad")},n.createElement("div",{class:n.const("dcg-braille-description")},n.createElement("div",{class:n.const("dcg-braille-title")},function(){return e.controller.s("basic-calculator-text-braille-mode-is-on",{mode:e.brailleType()})}),n.createElement("div",{class:n.const("dcg-braille-info-text")},function(){return e.controller.s("basic-calculator-text-how-to-type-braille")}),n.createElement("div",{class:n.const("dcg-btn-primary"),role:n.const("button"),tabindex:n.const(0),onTap:function(){return e.controller.dispatch({type:"set-braille-mode",mode:"none"})}},function(){return e.controller.s("basic-calculator-button-turn-braille-mode-off",{mode:e.brailleType()})})),n.createElement("div",{class:n.const("dcg-braille-examples-table-container")},n.createElement("table",{class:n.const("dcg-braille-examples-table")},n.createElement("tr",null,n.createElement("th",null,function(){return e.controller.s("basic-calculator-heading-braille-table-type-this")}),n.createElement("th",null,function(){return e.brailleType()}),n.createElement("th",null,function(){return e.controller.s("basic-calculator-heading-braille-table-typeset")})),n.createElement(i.BrailleExampleRow,{brailleMode:function(){return e.controller.getBrailleMode()},latex:this.const("2+2")}),n.createElement(i.BrailleExampleRow,{brailleMode:function(){return e.controller.getBrailleMode()},latex:this.const("\\frac{1}{2}")}),n.createElement(i.BrailleExampleRow,{brailleMode:function(){return e.controller.getBrailleMode()},latex:this.const("\\sqrt{4}")})),n.createElement("div",{class:n.const("dcg-more-examples-link")},n.createElement("a",{href:function(){return"https://www.desmos.com/braille-examples?"+e.controller.getBrailleMode()},target:n.const("_blank")},function(){return e.controller.s("basic-calculator-link-view-braille-examples")})))))},s.prototype.brailleType=function(){return"nemeth"===this.controller.getBrailleMode()?"Nemeth":"ueb"===this.controller.getBrailleMode()?"UEB":""},r=s;function s(){return null!==a&&a.apply(this,arguments)||this}t.default=r}),define("lib/abraham-helpers",["require","exports","abraham"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.brailleToLatex=t.latexToBraille=void 0,t.latexToBraille=function(e,t){return"nemeth"===t?r.latexToNemeth(e):"ueb"===t?r.latexToUeb(e):{isError:!0,error:"Braille mode should be 'nemeth' or 'ueb'"}},t.brailleToLatex=function(e,t){return"nemeth"===t?r.nemethToLatex(e):"ueb"===t?r.uebToLatex(e):{isError:!0,error:"Braille mode should be 'nemeth' or 'ueb'"}}}),define("loadcss!Abraham",function(){}),define("loadcss!basic/expression-view",function(){}),define("basic/expression-view",["require","exports","tslib","keys","core/lib/label","lib/mathspeak","dcgview","lib/i18n","jquery","dcgview-helpers/static-mathquill-view","dcgview-helpers/mathquill-view","./dcgview-basic","abraham","../shared-components/tooltip","../lib/abraham-helpers","main/mathquill-operators","../shared-components/braille-input","../core/lib/count-latex-tokens","loadcss!Abraham","loadcss!./expression-view"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g,m,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v,b=a.Components,x=b.If,w=b.Input,E=b.Textarea;v=d.DCGViewBasic,r.__extends(S,v),S.prototype.getAriaLabel=function(){var e=this.getIndex()+1+"";return this.s("shared-calculator-narration-expression-index",{index:e})},S.prototype.didUpdate=function(){this.renderAnsValue()},S.prototype.didMountMQ=function(e){this.$mq=c(e)},S.prototype.getExp=function(){return this.model.getExpressionById(this.props.id())},S.prototype.getAns=function(){return this.model.getExpressionAns(this.props.id())},S.prototype.getAnsId=function(){return this.model.getExpressionAnsId(this.props.id())},S.prototype.getLatex=function(){return this.getExp().latex},S.prototype.getValue=function(){return this.model.getExpressionValue(this.props.id())},S.prototype.getBraille=function(){var e=this.getExp().braille;return""!==e?e:(e=f.latexToBraille(this.getLatex(),this.controller.getBrailleMode())).isError?"":p.UnicodeBraille.toExpandedBrailleAscii(e.value)},S.prototype.getIndex=function(){return this.model.getExpressionIndex(this.props.id())},S.prototype.getShowEvaluation=function(){return this.model.shouldShowEvaluationForExpression(this.props.id())},S.prototype.isFractionEvaluation=function(){return this.getExp().displayAsFraction},S.prototype.canDisplayEvaluationAsFraction=function(){return this.controller.getDecimalToFraction()&&this.model.canDisplayEvaluationAsFraction(this.props.id())},S.prototype.shouldDisplayEvaluationAsFraction=function(){return this.canDisplayEvaluationAsFraction()&&this.getExp().displayAsFraction},S.prototype.toggleFractionEvaluation=function(){this.dispatch({type:"toggle-fraction-evaluation",id:this.props.id()})},S.prototype.getFractionDisplayAriaLabel=function(){return this.shouldDisplayEvaluationAsFraction()?this.controller.s("basic-calculator-narration-convert-to-decimal"):this.controller.s("basic-calculator-narration-convert-to-fraction")},S.prototype.getError=function(){var e=this.model.getExpressionError(this.props.id());return e&&0<this.getLatex().length?s.unpack(e,this.controller.getLanguage()):""},S.prototype.showError=function(){return!!this.getError()},S.prototype.getFractionMessage=function(){return this.shouldDisplayEvaluationAsFraction()?this.s("basic-calculator-label-convert-to-decimal"):this.s("basic-calculator-label-convert-to-fraction")},S.prototype.getIsFocused=function(){return!this.controller.isSettingsMenuOpen()&&this.model.isExpressionFocused(this.props.id())},S.prototype.onFocusedChanged=function(e){this.getExp()&&(e?this.dispatch({type:"focusin",id:this.props.id()}):this.dispatch({type:"focusout",id:this.props.id()}))},S.prototype.onMQReflow=function(){this.renderedAnsData=void 0,this.renderAnsValue()},S.prototype.renderAnsValue=function(){var e,t,r,n=this;this.$mq&&(e=this.getAns(),r=!1,(t=this.getAnsId())&&(t=this.model.getExpressionById(t),r=t&&t.displayAsFraction),this.renderedAnsData&&this.renderedAnsData.value==e&&this.renderedAnsData.displayAsFraction===r||(this.renderedAnsData={value:e,displayAsFraction:r},this.$mq.find(".dcg-mq-ans").each(function(t,i){var a;i=c(i);"number"==typeof e?a=o.truncatedHTMLLabel(e,{digits:n.getEvaluationDigits(),bigCutoff:1e9,displayAsFraction:r}):"string"==typeof e&&(a=e),a?i.removeClass("dcg-invalid").html(a):i.addClass("dcg-invalid").html('<i class="dcg-icon-error" aria-hidden="true"></i>')})))},S.prototype.getEvaluationLatex=function(){var e=this.getValue();return void 0===e&&(e=NaN),this.model.isRationalizableConstant(this.props.id())&&!this.shouldDisplayEvaluationAsFraction()?"":Array.isArray(e)?"\\mathrm{"+e.length+"\\ element\\ list}":"undefined"===(e=o.truncatedLatexLabel(e,{digits:this.getEvaluationDigits(),bigCutoff:1e9,displayAsFraction:this.shouldDisplayEvaluationAsFraction()}))?"=\\mathrm{undefined}":"="+e},S.prototype.getEvaluationBraille=function(){var e=this.getEvaluationLatex();return(e=f.latexToBraille(e,this.controller.getBrailleMode())).isError?"":p.UnicodeBraille.toExpandedBrailleAscii(e.value)},S.prototype.didMountBrailleInput=function(e){this.brailleInputNode=e},S.prototype.didUnmountBrailleInput=function(){this.brailleInputNode=void 0},S.prototype.handleBrailleFocus=function(e){var t=e.target;t&&setTimeout(function(){t.setSelectionRange(0,0)})},S.prototype.handleBrailleKeydown=function(e){e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||(n.lookup(e)===n.UP?(this.forceModelFocus(),this.dispatch({type:"focus-prev-expression"}),e.preventDefault()):n.lookup(e)===n.DOWN?(this.forceModelFocus(),this.dispatch({type:"focus-next-expression"}),e.preventDefault()):n.lookup(e)===n.ENTER?(this.forceModelFocus(),this.dispatch({type:"insert-blank-expression"}),e.preventDefault()):n.lookup(e)===n.BACKSPACE&&document.activeElement===this.brailleInputNode&&""===this.getBraille()&&(this.dispatch({type:"backspace-from-braille"}),e.preventDefault()))},S.prototype.forceModelFocus=function(){document.activeElement!==this.brailleInputNode&&this.onFocusedChanged(!0)},S.prototype.focusBrailleInput=function(){this.brailleInputNode&&document.activeElement!==this.brailleInputNode&&this.brailleInputNode.focus()},S.prototype.getPostLabel=function(){if(this.showError())return this.getError();if(this.getShowEvaluation()){var e=this.getValue();return void 0===e&&(e=NaN),Array.isArray(e)?e.length+" element list":"equals "+i.getMathspeakFromLatex(o.truncatedLatexLabel(e,{digits:this.getEvaluationDigits(),bigCutoff:1e9,displayAsFraction:this.shouldDisplayEvaluationAsFraction()}))}return""},S.prototype.onBrailleInput=function(e){this.controller.isSettingsMenuOpen()&&this.controller.dispatch({type:"close-settings-menu"});var t=(t=f.brailleToLatex(p.UnicodeBraille.coerceToSixDotCells(e),this.controller.getBrailleMode())).isError?"":t.value;(!this.controller.getCapExpressionSize()||y.countLatexTokens(t)<=u.EXPRESSION_TOKEN_LIMIT)&&this.controller.dispatch({type:"update-latex-from-braille",latex:t,braille:e,id:this.props.id()})},S.prototype.getIndexSubscript=function(){return"_{"+(this.getIndex()+1)+"}"},S.prototype.getEvaluationDigits=function(){return this.controller.isScientificCalc()?10:7},S.prototype.onMountContainer=function(e){this.containerNode=e},S.prototype.onTapContainer=function(e){e.target!==this.containerNode||this.getShowEvaluation()||this.showError()||this.forceModelFocus()},S.prototype.template=function(){var e=this;return a.createElement("div",{class:function(){return{"dcg-basic-expression":!0,"dcg-focused":e.getIsFocused(),"dcg-braille-io":e.controller.renderAsBraille()}},onTap:this.bindFn(this.onTapContainer),onMount:this.bindFn(this.onMountContainer)},a.createElement(x,{predicate:function(){return e.controller.renderAsBraille()}},function(){return a.createElement("div",{class:a.const("dcg-braille-input")},a.createElement(m.default,{ariaLabel:function(){var t=f.latexToBraille("eq"+e.getIndexSubscript(),e.controller.getBrailleMode());return t.isError?"":p.UnicodeBraille.toExpandedBrailleAscii(t.value)},didMount:e.bindFn(e.didMountBrailleInput),didUnmount:e.bindFn(e.didUnmountBrailleInput),onFocusedChanged:e.bindFn(e.onFocusedChanged),shouldFocus:e.bindFn(e.getIsFocused),onKeydown:e.bindFn(e.handleBrailleKeydown),onInput:e.bindFn(e.onBrailleInput),sixKeyInput:function(){return e.controller.getSixKeyInput()},value:function(){return e.getBraille()},isStatic:e.const(!1)}))}),a.createElement(x,{predicate:function(){return e.controller.renderAsBraille()}},function(){return a.createElement("div",{class:a.const("dcg-braille-evaluation-container")},a.createElement(x,{predicate:function(){return e.getShowEvaluation()}},function(){return a.createElement("div",{class:a.const("dcg-braille-evaluation")},a.createElement(w,{readonly:e.const("true"),class:e.const("dcg-braille-evaluation-inner"),value:function(){return e.getEvaluationBraille()},onFocus:e.bindFn(e.handleBrailleFocus),onKeydown:e.bindFn(e.handleBrailleKeydown),onInput:function(){}}))}),a.createElement(x,{predicate:function(){return e.showError()}},function(){return a.createElement("div",{class:a.const("dcg-braille-error")},a.createElement("div",{class:a.const("dcg-basic-expression-error")},a.createElement("i",{class:a.const("dcg-icon-error"),"aria-hidden":a.const("true")})),a.createElement(E,{readonly:e.const("true"),class:e.const("dcg-braille-error-inner"),value:function(){return e.getError()},onFocus:e.bindFn(e.handleBrailleFocus),onKeydown:e.bindFn(e.handleBrailleKeydown),onInput:function(){}}))}))}),a.createElement(x,{predicate:function(){return e.controller.renderAsBraille()}},function(){return a.createElement("div",{class:a.const("dcg-exp-mathquill-container"),didMount:e.bindFn(e.didMountMQ),onTap:e.bindFn(e.forceModelFocus)},a.createElement(l.default,{latex:function(){return e.getLatex()},config:e.const({}),onReflow:e.bindFn(e.onMQReflow)}))}),a.createElement(x,{predicate:function(){return!e.controller.renderAsBraille()}},function(){return a.createElement("div",{class:a.const("dcg-exp-mathquill-container"),didMount:e.bindFn(e.didMountMQ)},a.createElement(u.default,{latex:function(){return e.getLatex()},onReflow:e.bindFn(e.onMQReflow),isFocused:e.bindFn(e.getIsFocused),capExpressionSize:function(){return e.controller.getCapExpressionSize()},config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.getAriaLabel()},getAriaPostLabel:function(){return e.getPostLabel()},hasError:function(){return!1},onUserPressedKey:function(t,r){e.controller.isSettingsMenuOpen()&&e.controller.dispatch({type:"close-settings-menu"}),e.dispatch({type:"keypad/press-key",key:t,evt:r})},onUserTypedText:function(t){return e.dispatch({type:"keypad/type-text",text:t})},onUserChangedLatex:function(t){e.dispatch({type:"update-latex",id:e.props.id(),latex:t})},onFocusedChanged:e.bindFn(e.onFocusedChanged),disableSpace:function(){return e.controller.getRestrictedEditing()}}))}),a.createElement("div",{class:a.const("dcg-exp-output-container")},a.createElement(x,{predicate:function(){return e.showError()&&!e.controller.renderAsBraille()}},function(){return a.createElement(h.Tooltip,{tooltip:e.bindFn(e.getError),gravity:e.const("w"),sticky:e.const(!0)},a.createElement("div",{class:a.const("dcg-basic-expression-error")},a.createElement("i",{class:a.const("dcg-icon-error"),"aria-hidden":a.const("true")})))}),a.createElement(x,{predicate:function(){return e.getShowEvaluation()}},function(){return a.createElement("div",{class:function(){return{"dcg-basic-expression-value":!0,"dcg-basic-evaluation-gray":Array.isArray(e.getValue())}}},a.createElement(l.default,{config:e.const({}),latex:function(){return e.getEvaluationLatex()}}),a.createElement(x,{predicate:e.bindFn(e.canDisplayEvaluationAsFraction)},function(){return a.createElement(h.Tooltip,{tooltip:e.bindFn(e.getFractionMessage),gravity:e.const("sw")},a.createElement("span",{role:a.const("button"),tabindex:a.const("0"),"aria-label":e.bindFn(e.getFractionDisplayAriaLabel),class:function(){return{"dcg-basic-fraction-toggle":!0,"dcg-selected":e.isFractionEvaluation()}},onTap:e.bindFn(e.toggleFractionEvaluation)},a.createElement("i",{class:a.const("dcg-icon-fraction"),"aria-hidden":a.const("true")})))}))})))},S.prototype.getMQConfig=function(){var e=this.controller,t=e.getAdditionalFunctions();t=e.isFourFunctionCalc()&&(!t||-1===t.indexOf("fraction"));return{typingAsteriskWritesTimesSymbol:e.getTypingAsteriskWritesTimesSymbol(),typingSlashWritesDivisionSymbol:e.getTypingSlashWritesDivisionSymbol(),disableCopyPaste:e.getRestrictedEditing(),autoCommands:g.getAutoCommands({disallowFrac:t})}},r=S;function S(){return null!==v&&v.apply(this,arguments)||this}t.default=r}),define("loadcss!basic/basic-list-view",function(){}),define("basic/basic-list-view",["require","exports","tslib","scroll_helpers","dcgview","./dcgview-basic","./expression-view","jquery","lib/conditional_blur","loadcss!./basic-list-view"],function(e,t,r,n,o,i,a,s,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,u=o.Components,d=u.For,p=u.If;l=i.DCGViewBasic,r.__extends(h,l),h.prototype.template=function(){var e=this;return o.createElement("div",{class:o.const("dcg-basic-list-container"),role:o.const("complementary"),"aria-label":function(){return e.controller.s("basic-calculator-narration-expression-list")},didMount:this.bindFn(this.didMountContainer)},o.createElement("div",{class:o.const("dcg-basic-list-placeholder"),didMount:this.bindFn(this.didMountPlaceholder)},o.createElement(p,{predicate:this.bindFn(this.showAnswerHint)},function(){return o.createElement("div",{class:o.const("dcg-answer-hint")},function(){return e.controller.s("basic-calculator-label-answer-hint")})})),o.createElement(d,{each:function(){return e.model.getExpressionOrder()}},o.createElement("div",{class:function(){return{"dcg-basic-list":!0,"dcg-projector-mode":e.controller.isProjectorMode()}}},function(t){return o.createElement(a.default,{controller:e.props.controller,id:e.const(t)})})))},h.prototype.didMountPlaceholder=function(e){s(e).on("dcg-tap",c.default)},h.prototype.showAnswerHint=function(){if(this.didHideAnswerHint)return!1;var e=this.model.getExpressionOrder()[0];return!(!this.model.shouldShowEvaluationForExpression(e)&&!this.didShowAnswerHint||(this.didShowAnswerHint=!0,(1<this.model.getNumberOfExpressions()||""===this.model.getExpressionLatex(e))&&(this.didHideAnswerHint=!0)))},h.prototype.didUpdate=function(){var e;!this.$container||0<(e=this.$container.find(".dcg-focused")).length&&n.scrollVisible(e,this.$container,50)},h.prototype.didMountContainer=function(e){this.$container=s(e)},r=h;function h(){var e=null!==l&&l.apply(this,arguments)||this;return e.didShowAnswerHint=!1,e.didHideAnswerHint=!1,e}t.default=r}),define("loadcss!basic/main",function(){}),define("basic/main",["require","exports","tslib","browser","keys","dcgview","./dcgview-basic","jquery","./keypad/fourfunction-control-bar","./keypad/single-expression-fourfunction-control-bar","./keypad/scientific-control-bar","./keypad/single-expression-scientific-control-bar","./keypad/fourfunction-keypad","./keypad/single-expression-fourfunction-keypad","./keypad/single-expression-scientific-keypad","./keypad/scientific-keypad","./keypad/braille-keypad","./basic-list-view","lib/aria","touchtracking","loadcss!desmos-icons","loadcss!./main","loadcss!dcg-normalize"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g,m,y,v,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var x,w=i.Components,E=w.If,S=w.IfElse;x=a.DCGViewBasic,r.__extends(k,x),k.prototype.template=function(){var e=this;return i.createElement(E,{predicate:function(){return e.controller.shouldRender()}},function(){return i.createElement("div",{class:i.const("dcg-calculator-api-container"),style:i.const("width: 100%; height: 100%; position: relative;")},i.createElement("div",{class:function(){return{"dcg-calc-basic-main-wrapper":!0,"dcg-narrow":e.controller.containerSize.width<570,"dcg-short":e.controller.containerSize.height<=540,"dcg-scientific-calculator":e.controller.isScientificCalc(),"dcg-four-function-calculator":e.controller.isFourFunctionCalc(),"dcg-container":!0}},onKeydown:e.bindFn(e.handleRootKeydown),didMount:e.bindFn(e.didMountRoot),"x-ms-format-detection":i.const("none")},i.createElement("div",{role:i.const("application"),"aria-label":function(){return e.controller.isScientificCalc()?e.controller.s("basic-calculator-narration-calc-description-scientific"):e.controller.isFourFunctionCalc()?e.controller.s("basic-calculator-narration-calc-description-fourfunction"):""},class:function(){return{"dcg-calc-basic-main":!0,"dcg-inverted-colors":e.controller.getInvertedColors(),"dcg-projector-mode":e.controller.isProjectorMode(),"dcg-ipad":n.IS_IPAD,"dcg-has-background-color":e.controller.hasBackgroundColor(),"dcg-no-hyperlinks":!e.controller.getAllowLinks()}},style:function(){return{"font-size":e.controller.getFontSize()+"px",background:e.controller.getBackgroundColor(),color:e.controller.getTextColor(),filter:e.controller.getInvertedColors()?"invert(100%)":"none"}}},i.createElement(y.default,{controller:e.props.controller}),i.createElement(E,{predicate:function(){return e.controller.isScientificCalc()&&e.model.isSingleExpression()}},function(){return i.createElement("div",null,i.createElement(d.default,{controller:e.props.controller}),i.createElement("div",{class:i.const("dcg-basic-keypad-container")},S(function(){return e.controller.renderAsBraille()},{true:function(){return i.createElement(m.default,{controller:e.props.controller})},false:function(){return i.createElement(f.default,{controller:e.props.controller})}})))}),i.createElement(E,{predicate:function(){return e.controller.isScientificCalc()&&!e.model.isSingleExpression()}},function(){return i.createElement("div",null,i.createElement(u.default,{controller:e.props.controller}),i.createElement("div",{class:i.const("dcg-basic-keypad-container")},S(function(){return e.controller.renderAsBraille()},{true:function(){return i.createElement(m.default,{controller:e.props.controller})},false:function(){return i.createElement(g.default,{controller:e.props.controller})}})))}),i.createElement(E,{predicate:function(){return e.controller.isFourFunctionCalc()&&e.model.isSingleExpression()}},function(){return i.createElement("div",null,i.createElement(l.default,{controller:e.props.controller}),i.createElement("div",{class:i.const("dcg-basic-keypad-container")},S(function(){return e.controller.renderAsBraille()},{true:function(){return i.createElement(m.default,{controller:e.props.controller})},false:function(){return i.createElement(h.default,{controller:e.props.controller})}})))}),i.createElement(E,{predicate:function(){return e.controller.isFourFunctionCalc()&&!e.model.isSingleExpression()}},function(){return i.createElement("div",null,i.createElement(c.default,{controller:e.props.controller}),i.createElement("div",{class:i.const("dcg-basic-keypad-container")},S(function(){return e.controller.renderAsBraille()},{true:function(){return i.createElement(m.default,{controller:e.props.controller})},false:function(){return i.createElement(p.default,{controller:e.props.controller})}})))}))))})},k.prototype.didMountRoot=function(e){b.monitor(e)},k.prototype.handleRootKeydown=function(e){if(o.isUndo(e))return this.dispatch({type:"undo",source:"keyboard-shortcut"}),!1;if(o.isRedo(e))return this.dispatch({type:"redo",source:"keyboard-shortcut"}),!1;if(!e.metaKey&&!e.shiftKey)if(e.ctrlKey||e.altKey||o.lookup(e)!==o.BACKSPACE){if(e.ctrlKey===n.IS_APPLE&&e.altKey===!n.IS_APPLE){if("N"===(e=o.lookupChar(e)))return this.controller.getBrailleControls()?(this.dispatch({type:"set-braille-mode",mode:"nemeth"}),v.alert(this.controller.s("basic-calculator-narration-hotkey-nemeth")),!1):void 0;if("U"===e)return this.controller.getBrailleControls()?(this.dispatch({type:"set-braille-mode",mode:"ueb"}),v.alert(this.controller.s("basic-calculator-narration-hotkey-ueb")),!1):void 0;if("Q"===e||"X"===e)return this.controller.getBrailleControls()?(this.dispatch({type:"set-braille-mode",mode:"none"}),v.alert(this.controller.s("basic-calculator-narration-hotkey-braille-off")),!1):void 0;if("6"===e){if(!this.controller.getBrailleControls())return;return e=!this.controller.getSixKeyInput(),this.dispatch({type:"set-six-key-input",mode:e}),v.alert(e?this.controller.s("basic-calculator-narration-hotkey-six-key-input-on"):this.controller.s("basic-calculator-narration-hotkey-six-key-input-off")),!1}}}else if(!document.activeElement||b.elIsFocusable(s(document.activeElement)))return!1;return!0},r=k;function k(){return null!==x&&x.apply(this,arguments)||this}t.default=r}),define("api/basic",["require","exports","tslib","dcgview","./abstract","main/shared-worker-pool","basic/controller","basic/main","core/lib/color-helpers","underscore_model","./util","core/lib/deepCopy","lib/console"],function(e,t,r,n,o,i,a,s,c,l,u,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasicCalculator=void 0;var h;h=o.default,r.__extends(f,h),f.prototype.init=function(e){var t=this;(e=d.default(e)).backgroundColor&&!c.isValidHexColor(e.backgroundColor)&&(p.warn("Invalid backgroundColor. Background color must be a 3- or 6-character hex color (e.g. #cde or #ffaaaa)"),delete e.backgroundColor),e.textColor&&!c.isValidHexColor(e.textColor)&&(p.warn("Invalid textColor. Text color must be a 3- or 6-character hex color (e.g. #000 or #001111)"),delete e.textColor);var n=r.__assign({language:"en",qwertyKeyboard:!0,links:!0,degreeMode:!1,settingsMenu:!0,invertedColors:!1,backgroundColor:"#fff",textColor:"#000",brailleMode:"none",sixKeyInput:!1,brailleControls:!0,brailleExpressionDownload:!0,projectorMode:!1,capExpressionSize:!1,functionDefinition:!0,autosize:!0,evaluationMode:"scientific",restrictedEditing:!1,additionalFunctions:["sqrt"],typingSlashWritesDivisionSymbol:!1,typingAsteriskWritesTimesSymbol:!1,decimalToFraction:!0,replaceCommaWith10Exp:!1,replaceRoundWithReciprocal:!1},e);this.settings=new l.UnderscoreModel,e={workerPool:i.default,settingsProxy:this.settings},this.controller=new a.default(n,e),this.controller.onEventEmitted=function(e){"render"===e&&t.updateView(),t.triggerEvent(e,void 0)},this.setupDomChangeDetector(n.autosize)},f.prototype.onCreateView=function(){return n.mountToNode(s.default,this.rootElt,{controller:n.const(this.controller)})},f.prototype.setState=function(e,t){t=t||{},this.controller.dispatch({type:"set-state-from-api",state:e,opts:{allowUndo:!!t.allowUndo}})},f.prototype.getState=function(){return d.default(this.controller.model.getPersistedState())},f.prototype.undo=function(){this.controller.dispatch({type:"undo",source:"api"})},f.prototype.redo=function(){this.controller.dispatch({type:"redo",source:"api"})},f.prototype.clearHistory=function(){this.controller.dispatch({type:"clear-history"})},f.prototype.setBlank=function(e){e=e||{},this.controller.dispatch({type:"set-blank",opts:{allowUndo:!!e.allowUndo}})},f.prototype.updateSettings=function(e){if(null!=e)for(var t in e)switch(t){case"fontSize":var r=e[t];if(void 0===r)continue;this.controller.dispatch({type:"update-font-size",size:r});break;case"invertedColors":var n=e[t];if(void 0===n)continue;this.controller.dispatch({type:"update-inverted-colors",mode:n});break;case"backgroundColor":if(void 0===(n=e[t])||!c.isValidHexColor(n)){p.warn("Invalid backgroundColor. Background color must be a 3- or 6-character hex color (e.g. #cde or #ffaaaa)");continue}this.controller.dispatch({type:"update-background-color",color:n});break;case"textColor":var o=e[t];if(void 0===o||!c.isValidHexColor(o)){p.warn("Invalid textColor. Text color must be a 3- or 6-character hex color (e.g. #000 or #001111)");continue}this.controller.dispatch({type:"update-text-color",color:o});break;case"degreeMode":if(void 0===(o=e[t]))continue;this.controller.dispatch({type:"update-degree-mode",mode:o});break;case"brailleMode":var i=e[t];this.controller.dispatch({type:"set-braille-mode",mode:i});break;case"sixKeyInput":if(void 0===(i=e[t]))continue;this.controller.dispatch({type:"set-six-key-input",mode:i});break;case"brailleControls":var a=e[t];if(void 0===a)continue;this.controller.dispatch({type:"set-braille-controls",value:a});break;case"brailleExpressionDownload":if(void 0===(a=e[t]))continue;this.controller.dispatch({type:"set-braille-expression-download",mode:a});break;case"projectorMode":var s=e[t];if(void 0===s)continue;this.controller.dispatch({type:"update-projector-mode",mode:s});break;case"capExpressionSize":if(void 0===(s=e[t]))continue;this.controller.dispatch({type:"update-cap-expression-size",mode:s});break;case"language":var l=e[t];if(void 0===l)continue;this.controller.dispatch({type:"update-language",language:u.validateLanguage(l)});break;case"settingsMenu":e.settingsMenu?this.controller.dispatch({type:"enable-settings-menu"}):this.controller.dispatch({type:"disable-settings-menu"});break;case"qwertyKeyboard":this.controller.dispatch({type:"update-options",options:{qwertyKeyboard:!!e.qwertyKeyboard}}),"qwerty"!==(l=this.controller.getKeyboardMode())&&"letters"!==l||this.controller.dispatch({type:"ABC"});break;case"functionDefinition":e.functionDefinition?this.controller.model.enableFunctionDefinition():this.controller.model.disableFunctionDefinition();break;case"links":this.controller.dispatch({type:"update-options",options:{links:!!e.links}});break;case"decimalToFraction":var d=e[t];if(void 0===d)continue;this.controller.dispatch({type:"update-decimal-to-fraction",mode:d});break;case"replaceCommaWith10Exp":if(void 0===(d=e[t]))continue;this.controller.dispatch({type:"set-replace-comma-with-10-exp",replace:d});break;case"replaceRoundWithReciprocal":var h=e[t];if(void 0===h)continue;this.controller.dispatch({type:"set-replace-round-with-reciprocal",replace:h});break;case"restrictedEditing":this.controller.dispatch({type:"update-options",options:{restrictedEditing:!!e.restrictedEditing}});break;case"typingAsteriskWritesTimesSymbol":if(void 0===(h=e[t]))continue;this.controller.dispatch({type:"set-typing-asterisk-writes-times-symbol",mode:h})}},f.prototype.focusFirstExpression=function(){this.controller.dispatch({type:"focus-first-expression"})},f.prototype.onResizeView=function(e){this.controller.dispatch({type:"ui/container-resized",size:e})},f.prototype.onDestroyView=function(){n.unmountFromNode(this.rootElt)},f.prototype.destroy=function(){this.controller.model.destroy(),h.prototype.destroy.call(this)},o=f;function f(e){return h.call(this,e)||this}t.BasicCalculator=o}),define("api/fourfunction",["require","exports","tslib","./basic","core/lib/deepCopy","lib/console","./util"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s;s=n.BasicCalculator,r.__extends(c,s),r=c;function c(e,t){var r=s.call(this,e)||this;return r instanceof c?(r.init(function(e){if((e=o.default(e)).hasOwnProperty("typingSlashWritesDivisionSymbol")||(e.typingSlashWritesDivisionSymbol=!0),e.hasOwnProperty("typingAsteriskWritesTimesSymbol")||(e.typingAsteriskWritesTimesSymbol=!0),e.exponentButtonForSquareRoot&&(i.warn("As of API version 1.0, the 'exponentButtonForSquareRoot' option is deprecated.Use 'additionalFunctions: \"exponent\"' instead."),e.additionalFunctions=["exponent"]),e.additionalFunctions){var t=e.additionalFunctions;"string"==typeof t&&(t=[t]),2<t.length&&(i.warn("additionalFunctions can only take up to 2 new functions. Using the first two."),t=t.slice(0,2));for(var r=!0,n=0;n<t.length;n++)-1===["sqrt","exponent","percent","fraction"].indexOf(t[n])&&(i.warn("Unrecognized value: '"+t[n]+"' for 'additionalFunction'. Valid values are 'sqrt', 'percent', 'exponent', or 'fraction'. Using default (\"sqrt\")"),r=!1);e.additionalFunctions=r?t:["sqrt"]}return e.additionalFunctions&&e.additionalFunctions.length||(e.additionalFunctions=["sqrt"]),e.singleExpression?e.evaluationMode="singleExpressionFourFunction":e.evaluationMode="fourFunction",delete e.singleExpression,e.hasOwnProperty("decimalToFraction")||(e.decimalToFraction=!1),e.language&&(e.language=a.validateLanguage(e.language)),e}(t||{})),r):new c(e,t)}t.default=r}),define("api/scientific",["require","exports","tslib","./basic","core/lib/deepCopy","./util"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a;a=n.BasicCalculator,r.__extends(s,a),r=s;function s(e,t){var r,n=a.call(this,e)||this;return n instanceof s?(n.init((r=t||{},(r=o.default(r)).singleExpression?r.evaluationMode="singleExpressionScientific":r.evaluationMode="scientific",delete r.singleExpression,r.language&&(r.language=i.validateLanguage(r.language)),r)),n):new s(e,t)}t.default=r}),define("pillow-keypad/controller",["require","exports","flux","keypad/mq-commands","lib/i18n","dcgview-helpers/mathquill-view"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(s.prototype.getBackgroundColor=function(){return"does-not-matter"},s.prototype.runAfterDispatch=function(e){this._queuedCallbacks.push(e)},s.prototype.enqueueEvent=function(e){var t=this;this.runAfterDispatch(function(){t.onEventEmitted&&t.onEventEmitted(e)})},s.prototype.getKeypadType=function(){return this.keypadType},s.prototype.getScientificKeyboardMode=function(){return this.scientificKeyboardMode},s.prototype.updateKeyboardMode=function(e){this.scientificKeyboardMode=e},s.prototype.typeIntoFocusedMathquill=function(e){e=e.replace(/\r|\n/g,"");var t=this.activeMQ;t&&(t.typedText(e),i.default.simulateUserChangedLatex(t))},s.prototype.pressKeyInFocusedMathquill=function(e,t){var r=this.activeMQ;if(r)return"Enter"===e?(t&&(t.preventDefault(),t.stopPropagation()),void this.enqueueEvent("enter")):void r.keystroke(e,t)},s.prototype.executeCommandInFocusedMathquill=function(e){var t=this.activeMQ;t&&n.execute(t,e)},s.prototype.hookUpDispatcher=function(){var e=this;this.dispatcher.register(function(t){switch(e.enqueueEvent("render"),t.type){case"hide-keypad":e.enqueueEvent("hide-keypad");break;case"set-active-mq":e.activeMQ=t.mq;break;case"set-keypad-type":e.keypadType=t.keypadType;break;case"keypad/shift":e.updateKeyboardMode("capitalQwerty"===e.scientificKeyboardMode?"qwerty":"capitalQwerty");break;case"main":e.updateKeyboardMode("main");break;case"ABC":e.updateKeyboardMode("qwerty");break;case"functions":e.updateKeyboardMode("functions");break;case"keypad/type-text":e.typeIntoFocusedMathquill(t.text);break;case"keypad/press-key":e.pressKeyInFocusedMathquill(t.key,t.evt);break;case"keypad/custom-command":e.executeCommandInFocusedMathquill(t.command);break;case"keypad/123":case"keypad/abc":case"keypad/audio-trace":break;default:return t}})},s);function s(e){var t=this;this.keypadType="scientific",this.scientificKeyboardMode="main",this.dispatcher=new r.Dispatcher,this.s=o.createDictionaryLookupFunction(function(){return"en"}),this.dispatch=function(e){var r;for(t.dispatcher.dispatch(e);r=t._queuedCallbacks.shift();)r()},this._queuedCallbacks=[],this.keypadType=null!=e?e:"scientific",this.dispatcher=new r.Dispatcher,this.hookUpDispatcher()}t.default=a}),define("pillow-keypad/dcgview-pillow-keypad",["require","exports","tslib","dcgview"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DCGViewPillowKeypad=void 0;var o;o=n.Class,r.__extends(i,o),i.prototype.init=function(){this.controller=this.props.controller(),this.dispatch=this.controller.dispatch,this.s=this.controller.s},r=i;function i(){return null!==o&&o.apply(this,arguments)||this}t.DCGViewPillowKeypad=r}),define("pillow-keypad/main-keypad",["require","exports","tslib","dcgview","keypad/keys","keypad/keypad","keypad/row","./dcgview-pillow-keypad"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c;c=s.DCGViewPillowKeypad,r.__extends(l,c),l.prototype.template=function(){return n.createElement(i.default,{controller:this.props.controller},n.createElement(a.default,null,o.view(this,"a^2"),o.view(this,"a^b"),o.view(this,"|a|"),o.view(this,"a/b"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),o.view(this,"7",{style:"highlight"}),o.view(this,"8",{style:"highlight"}),o.view(this,"9",{style:"highlight"}),o.view(this,"/"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),o.view(this,"x"),o.view(this,"y")),n.createElement(a.default,null,o.view(this,"("),o.view(this,")"),o.view(this,"<"),o.view(this,">"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),o.view(this,"4",{style:"highlight"}),o.view(this,"5",{style:"highlight"}),o.view(this,"6",{style:"highlight"}),o.view(this,"*"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),o.view(this,"left",{style:"highlight"}),o.view(this,"right",{style:"highlight"})),n.createElement(a.default,null,o.view(this,"sqrt"),o.view(this,","),o.view(this,"<="),o.view(this,">="),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),o.view(this,"1",{style:"highlight"}),o.view(this,"2",{style:"highlight"}),o.view(this,"3",{style:"highlight"}),o.view(this,"-"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),o.spacer(.5),o.view(this,"backspace",{style:"highlight",colspan:1.5})),n.createElement(a.default,null,o.view(this,"nthroot"),o.view(this,"pi"),o.view(this,"%"),o.view(this,"a_b"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),o.view(this,"0",{style:"highlight"}),o.view(this,".",{style:"highlight"}),o.view(this,"="),o.view(this,"+"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),o.view(this,"enter",{colspan:2,style:"blue"})))},r=l;function l(){return null!==c&&c.apply(this,arguments)||this}t.default=r}),define("pillow-keypad/qwerty-keypad",["require","exports","tslib","dcgview","keypad/keys","keypad/keypad","keypad/row","./dcgview-pillow-keypad"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c;c=s.DCGViewPillowKeypad,r.__extends(l,c),l.prototype.template=function(){return n.createElement(i.default,{controller:this.props.controller},n.createElement(a.default,null,o.view(this,"q"),o.view(this,"w"),o.view(this,"e"),o.view(this,"r"),o.view(this,"t"),o.view(this,"y"),o.view(this,"u"),o.view(this,"i"),o.view(this,"o"),o.view(this,"p")),n.createElement(a.default,null,n.createElement("div",{class:n.const("dcg-half-width-placeholder")}),o.view(this,"a"),o.view(this,"s"),o.view(this,"d"),o.view(this,"f"),o.view(this,"g"),o.view(this,"h"),o.view(this,"j"),o.view(this,"k"),o.view(this,"l"),n.createElement("div",{class:n.const("dcg-half-width-placeholder")})),n.createElement(a.default,null,o.view(this,"shift",{style:"highlight"}),o.view(this,"z"),o.view(this,"x"),o.view(this,"c"),o.view(this,"v"),o.view(this,"b"),o.view(this,"n"),o.view(this,"m"),o.view(this,":"),o.view(this,"backspace",{style:"highlight"})),n.createElement(a.default,null,o.view(this,"~"),o.view(this,"{"),o.view(this,"}"),o.view(this,"["),o.view(this,"]"),o.view(this,"!"),o.view(this,"'"),o.view(this,"obelus"),o.view(this,"enter",{style:"blue"})))},r=l;function l(){return null!==c&&c.apply(this,arguments)||this}t.default=r}),define("pillow-keypad/capital-qwerty-keypad",["require","exports","tslib","dcgview","./dcgview-pillow-keypad","keypad/keys","keypad/keypad","keypad/row"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c;c=o.DCGViewPillowKeypad,r.__extends(l,c),l.prototype.template=function(){return n.createElement(a.default,{controller:this.props.controller},n.createElement(s.default,null,i.view(this,"Q"),i.view(this,"W"),i.view(this,"E"),i.view(this,"R"),i.view(this,"T"),i.view(this,"Y"),i.view(this,"U"),i.view(this,"I"),i.view(this,"O"),i.view(this,"P")),n.createElement(s.default,null,n.createElement("div",{class:n.const("dcg-half-width-placeholder")}),i.view(this,"A"),i.view(this,"S"),i.view(this,"D"),i.view(this,"F"),i.view(this,"G"),i.view(this,"H"),i.view(this,"J"),i.view(this,"K"),i.view(this,"L"),n.createElement("div",{class:n.const("dcg-half-width-placeholder")})),n.createElement(s.default,null,i.view(this,"shift",{style:"highlight"}),i.view(this,"Z"),i.view(this,"X"),i.view(this,"C"),i.view(this,"V"),i.view(this,"B"),i.view(this,"N"),i.view(this,"M"),i.view(this,","),i.view(this,"backspace",{style:"highlight"})),n.createElement(s.default,null,i.view(this,"="),i.view(this,"("),i.view(this,")"),i.view(this,"["),i.view(this,"]"),i.view(this,"!"),i.view(this,"'"),i.view(this,"obelus"),i.view(this,"enter",{style:"blue"})))},r=l;function l(){return null!==c&&c.apply(this,arguments)||this}t.default=r}),define("pillow-keypad/functions-keypad",["require","exports","tslib","dcgview","keypad/keys","keypad/keypad","keypad/row","./dcgview-pillow-keypad"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c;c=s.DCGViewPillowKeypad,r.__extends(l,c),l.prototype.template=function(){return n.createElement(i.default,{controller:this.props.controller},n.createElement(a.default,null,o.view(this,"sin"),o.view(this,"cos"),o.view(this,"tan"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),o.view(this,"ln"),o.view(this,"log"),o.view(this,"backspace",{style:"highlight"})),n.createElement(a.default,null,o.view(this,"arcsin"),o.view(this,"arccos"),o.view(this,"arctan"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),o.view(this,"e^x"),o.view(this,"abs"),o.view(this,"round")),n.createElement(a.default,null,o.view(this,"mean"),o.view(this,"stdev"),o.view(this,"stdevp"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),o.view(this,"a^b"),o.view(this,"sqrt"),o.view(this,"nthroot")),n.createElement(a.default,null,o.view(this,"nPr"),o.view(this,"nCr"),o.view(this,"!"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),o.view(this,"e"),o.view(this,"%"),o.view(this,"enter",{style:"blue"})))},r=l;function l(){return null!==c&&c.apply(this,arguments)||this}t.default=r}),define("pillow-keypad/fourfunction-keypad",["require","exports","tslib","dcgview","keypad/keys","keypad/keypad","keypad/row","./dcgview-pillow-keypad"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c;c=s.DCGViewPillowKeypad,r.__extends(l,c),l.prototype.template=function(){var e=this;return n.createElement(i.default,{controller:this.props.controller},n.createElement(a.default,null,o.view(this,"1",{style:"highlight"}),o.view(this,"2",{style:"highlight"}),o.view(this,"3",{style:"highlight"}),o.view(this,"4",{style:"highlight"}),o.view(this,"5",{style:"highlight"}),o.view(this,"6",{style:"highlight"}),o.view(this,"7",{style:"highlight"}),o.view(this,"8",{style:"highlight"}),o.view(this,"9",{style:"highlight"}),o.view(this,"0",{style:"highlight"}),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),o.view(this,"left",{style:"highlight"}),o.view(this,"right",{style:"highlight"}),n.createElement("div",{class:n.const("dcg-inline-hide-keypad-button"),"dcg-command":n.const("hide-keypad"),onTap:function(){return e.props.controller().dispatch({type:"hide-keypad"})}},n.createElement("div",{class:n.const("dcg-inline-hide-keypad-button-inner")},n.createElement("i",{class:n.const("dcg-icon-hide"),"aria-hidden":n.const("true")})))),n.createElement(a.default,null,o.spacer(2),o.view(this,"."),o.view(this,"="),o.view(this,"+"),o.view(this,"-"),o.view(this,"multiplication"),o.view(this,"obelus"),o.spacer(3),o.view(this,"backspace",{style:"highlight",colspan:1.5}),o.spacer(1)),n.createElement(a.default,null,o.spacer(2),o.view(this,"a/b"),o.view(this,","),o.view(this,"("),o.view(this,")"),o.view(this,"<"),o.view(this,">"),o.spacer(2.5),o.view(this,"enter",{colspan:2,style:"blue"}),o.spacer(1)))},r=l;function l(){return null!==c&&c.apply(this,arguments)||this}t.default=r}),define("pillow-keypad/control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","./dcgview-pillow-keypad"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s;s=a.DCGViewPillowKeypad,r.__extends(c,s),c.prototype.template=function(){var e=this.props.controller();return n.createElement(o.default,{controller:this.props.controller},n.createElement(i.default,{command:this.const("main"),selected:function(){return"main"===e.getScientificKeyboardMode()},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:function(){return e.dispatch({type:"main"})}},function(){return e.s("basic-calculator-button-controlbar-main")}),n.createElement(i.default,{command:this.const("ABC"),selected:function(){return-1!==["qwerty","capitalQwerty"].indexOf(e.getScientificKeyboardMode())},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),ariaLabel:function(){return e.s("basic-calculator-narration-controlbar-abc")},onTap:function(){return e.dispatch({type:"ABC"})}},function(){return e.s("basic-calculator-button-controlbar-abc")}),n.createElement(i.default,{command:this.const("functions"),selected:function(){return-1!==["functions","restrictedFunctions"].indexOf(e.getScientificKeyboardMode())},ariaLabel:function(){return e.s("basic-calculator-narration-controlbar-functions")},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:function(){return e.dispatch({type:"functions"})}},function(){return e.s("shared-calculator-button-controlbar-functions")}),n.createElement("div",{class:n.const("dcg-hide-keypad-button"),"dcg-command":n.const("hide-keypad"),onTap:function(){return e.dispatch({type:"hide-keypad"})}},n.createElement("i",{class:n.const("dcg-icon-hide"),"aria-hidden":n.const("true")})))},r=c;function c(){return null!==s&&s.apply(this,arguments)||this}t.default=r}),define("loadcss!pillow-keypad/main",function(){}),define("pillow-keypad/main",["require","exports","tslib","dcgview","./dcgview-pillow-keypad","./main-keypad","./qwerty-keypad","./capital-qwerty-keypad","./functions-keypad","./fourfunction-keypad","./control-bar","touchtracking","loadcss!./main"],function(e,t,r,n,o,i,a,s,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p,h,f,g,m=n.Components,y=m.Switch,v=m.SwitchUnion,b=(g=o.DCGViewPillowKeypad,r.__extends(_,g),_.prototype.template=function(){return n.createElement("div",{class:n.const("dcg-calculator-api-container"),style:n.const("width: 100%; height: 100%; position: relative;")},n.createElement("div",{class:n.const("dcg-do-not-blur dcg-container dcg-api-shared-keypad-root"),didMount:this.bindFn(this.didMountRoot)},this.children))},_.prototype.didMountRoot=function(e){d.monitor(e)},_),x=(f=o.DCGViewPillowKeypad,r.__extends(k,f),k.prototype.template=function(){var e=this;return n.createElement(b,r.__assign({},this.props),n.createElement("div",{class:n.const("dcg-fourfunction-keypad-container"),role:n.const("group"),"aria-label":function(){return e.s("shared-calculator-narration-keypad")}},n.createElement(l.default,{controller:this.props.controller})))},k),w=(h=o.DCGViewPillowKeypad,r.__extends(S,h),S.prototype.template=function(){var e=this;return n.createElement(b,r.__assign({},this.props),n.createElement(u.default,{controller:this.props.controller}),n.createElement("div",{role:n.const("group"),"aria-label":function(){return e.s("shared-calculator-narration-keypad")}},n.createElement(y,{key:function(){return e.controller.getScientificKeyboardMode()}},function(t){switch(t){case"qwerty":return n.createElement(a.default,{controller:e.props.controller});case"capitalQwerty":return n.createElement(s.default,{controller:e.props.controller});case"functions":return n.createElement(c.default,{controller:e.props.controller});default:return n.createElement(i.default,{controller:e.props.controller})}})))},S);p=o.DCGViewPillowKeypad,r.__extends(E,p),E.prototype.template=function(){var e=this;return v(function(){return e.controller.getKeypadType()},{fourfunction:function(){return n.createElement(x,r.__assign({},e.props))},scientific:function(){return n.createElement(w,r.__assign({},e.props))}})},o=E;function E(){return null!==p&&p.apply(this,arguments)||this}function S(){return null!==h&&h.apply(this,arguments)||this}function k(){return null!==f&&f.apply(this,arguments)||this}function _(){return null!==g&&g.apply(this,arguments)||this}t.default=o}),define("api/pillow-keypad",["require","exports","tslib","dcgview","./abstract","pillow-keypad/controller","pillow-keypad/main"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s;s=o.default,r.__extends(c,s),c.prototype.init=function(e){var t=this;this.controller=new i.default(e),this.controller.onEventEmitted=function(e){"render"===e&&t.updateView(),t.triggerEvent(e,void 0)},this.setupDomChangeDetector(!0)},c.prototype.setActiveMathquill=function(e){this.controller.dispatch({type:"set-active-mq",mq:e})},c.prototype.setKeypadType=function(e){this.controller.dispatch({type:"set-keypad-type",keypadType:e})},c.prototype.onCreateView=function(){return n.mountToNode(a.default,this.rootElt,{controller:n.const(this.controller)})},c.prototype.onResizeView=function(e){},c.prototype.onDestroyView=function(){n.unmountFromNode(this.rootElt)},c.prototype.destroy=function(){s.prototype.destroy.call(this)},r=c;function c(e,t){var r=s.call(this,e)||this;return r instanceof c?(r.init(t),r):new c(e,t)}t.default=r}),define("core/cl-calculator",["require","exports","core/graphing-calc/migrate-state","core/graphing-calc/json/expression","core/graphing-calc/json/table"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CLCalculator=void 0,t.CLCalculator=function(e){e=r.migrateToLatest(e);var t={},i=e.graph.degreeMode,a=e.randomSeed;function s(e){switch(e.type){case void 0:case"expression":var r=n.computeParsableState(n.inflateDefaults(e));t[r.id]=r;break;case"table":r=o.computeParsableState(o.inflateDefaults(e)),t[r.id]=r;break;case"folder":case"text":case"image":break;default:return e}}for(var c=0,l=e.expressions.list;c<l.length;c++)s(l[c]);return{setExpression:function(e){s(e)},getChangeSet:function(){return{statements:t,isCompleteState:!0,degreeMode:i,globalRandomSeed:a}}}}}),define("core/math/tree-queries/count-numbers",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.countNumbers=void 0,t.countNumbers=function e(t,r){switch(t.type){case"Mul":case"Div":case"Prime":case"Call":case"ImplicitCall":case"Dot":case"Pipes":case"Sqrt":case"Nthroot":case"Frac":case"Derivative":case"Integral":case"EmptyIntegral":case"Sum":case"Product":case"Piecewise":case"Paren":case"Juxt":case"Superscript":case"Bang":case"Index":case"Equals":case"Inequality":case"Tilde":case"Pos":case"Neg":case"Add":case"Sub":case"List":case"Seq":case"Colon":case"Ellipsis":case"PercentOf":case"RightArrow":case"For":for(var n=0,o=0,i=t.args;o<i.length;o++)n+=e(i[o],r);return n;case"Decimal":return void 0===r||parseFloat(t.val)===r?1:0;case"MixedNumber":return void 0===r?3:(n=0,parseFloat(t.whole)===r&&(n+=1),parseFloat(t.num)===r&&(n+=1),parseFloat(t.den)===r&&(n+=1),n);case"Letter":case"EmptyPiecewise":case"Cmd":case"EmptyRangeEnd":return 0;case"Subscript":return e(t.args[0],r);case"InequalityChain":n=0,n+=e(t.first,r);for(var a=0,s=t.chain;a<s.length;a++)n+=e(s[a].args[0],r);return n;default:throw"Unexpected surface node "+t.type+"."}}}),define("core/graphing-calc/diffs/longest-subsequence",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findLongestSubsequence=void 0,t.findLongestSubsequence=function(e){for(var t=e.length,r=new Array(t),n=new Array(t+1),o=0,i=0;i<t;i++){var a=void 0;if(e[n[o]]<e[i])a=o+1;else{for(var s=1,c=o-1;s<=c;){var l=Math.ceil((s+c)/2);e[n[l]]<e[i]?s=l+1:c=l-1}a=s}r[i]=n[a-1],n[a]=i,o<a&&(o=a)}var u=new Array(o),d=n[o];for(i=o-1;0<=i;i--)u[i]=e[d],d=r[d];return u}}),define("core/graphing-calc/diffs/calculate-diff",["require","exports","underscore","./longest-subsequence"],function(e,t,r,n){"use strict";var o,i;function a(e,t,i){var c,l,u={};for(l in e)e.hasOwnProperty(l)&&(t.hasOwnProperty(l)?(c=function(e,t,i,c){if(r.isArray(e)&&r.isArray(t))return i===o.EXPRESSIONS&&"list"===c||i===o.TABLE_EXPRESSION&&"columns"===c?function(e,t){for(var i={},c={},l=0;l<e.length;l++){if(void 0!==c[e[l].id])return{s:t};c[e[l].id]=l}var u={};for(l=0;l<t.length;l++){if(void 0!==u[t[l].id])return{s:t};u[t[l].id]=l}for(var d=function(e,r){for(var o={},i=t.filter(function(e){return void 0!==r[e.id]}).map(function(e){return r[e.id]}),a=0,s=n.findLongestSubsequence(i);a<s.length;a++)o[e[s[a]].id]=!0;return o}(e,c),p=0,h=0;h<e.length;h++){var f,g,m,y,v=e[h];d[v.id]?(g=t[f=u[v.id]],m={},p!==f&&(m.a=t.slice(p,f).map(function(t){return s(e,c,t)})),r.isEqual(v,g)||(y="table"===v.type&&"table"===g.type,m.e=a(v,g,y?o.TABLE_EXPRESSION:o.OTHER)),r.isEmpty(m)||(i[h]=m),p=f+1):i[h]={d:1}}if(p<t.length&&(i[e.length]={a:t.slice(p,t.length).map(function(t){return s(e,c,t)})}),!r.isEmpty(i))return{l:i}}(e,t):r.isEqual(e,t)?void 0:{s:t};if(r.isObject(e)&&r.isObject(t)){if(c=a(e,t,i===o.ROOT&&"expressions"===c?o.EXPRESSIONS:o.OTHER),!r.isEmpty(c))return{e:c}}else if(!r.isEqual(e,t))return{s:t}}(e[l],t[l],i,l))&&(u[l]=c):u[l]={d:1});for(l in t)t.hasOwnProperty(l)&&!e.hasOwnProperty(l)&&(u[l]={s:t[l]});return u}function s(e,t,n){return t[n.id]?(e=e[t[n.id]],t={f:t[n.id]},r.isEqual(e,n)||(t.e=a(e,n,o.OTHER)),{m:t}):{s:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.calculateDiff=void 0,(i=o=o||{})[i.ROOT=0]="ROOT",i[i.EXPRESSIONS=1]="EXPRESSIONS",i[i.TABLE_EXPRESSION=2]="TABLE_EXPRESSION",i[i.OTHER=3]="OTHER",t.calculateDiff=function(e,t){return a(e,t,o.ROOT)}}),define("core/graphing-calc/diffs/apply-diff",["require","exports","underscore","../../lib/deepCopy"],function(e,t,r,n){"use strict";function o(e,t){for(var n=0,a=r.keys(t);n<a.length;n++){var s=a[n],c=t[s];c.hasOwnProperty("s")?e[s]=c.s:c.hasOwnProperty("d")?delete e[s]:c.hasOwnProperty("l")?e[s]=function(e,t){for(var r=[],n=0;n<e.length;n++){var a=t[n];a&&a.a&&r.push.apply(r,i(e,a.a)),a&&a.e?r.push(o(e[n],a.e)):a&&a.d||r.push(e[n])}var s=t[e.length];return s&&s.a&&r.push.apply(r,i(e,s.a)),r}(e[s],c.l):c.hasOwnProperty("e")&&(e[s]=o(e[s],c.e))}return e}function i(e,t){for(var r=[],n=0,i=t;n<i.length;n++){var a,s=i[n];s.hasOwnProperty("s")?r.push(s.s):s.hasOwnProperty("m")&&(a=e[s.m.f],s.m.e?r.push(o(a,s.m.e)):r.push(a))}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.applyDiff=void 0,t.applyDiff=function(e,t){return o(n.default(e),t)}}),define("core/graphing-calc/translation/common",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mutateString=t.deserializeTranslationKey=t.serializeTranslationKey=void 0,t.serializeTranslationKey=function(e){return"expression"===e.location||"object"===e.location?e.location+":"+e.id+":"+e.path:e.location+":"+e.path},t.deserializeTranslationKey=function(e){function t(){return new Error("Invalid key: "+e)}var r=e.split(":"),n=r[0];if(!n)throw t();if("expression"!=n&&"settings"!=n&&"object"!=n)throw t();if("settings"==n){if(2!=r.length)throw t();return{location:n,path:r[1]}}if(3!=r.length)throw t();return{location:n,id:r[1],path:r[2]}},t.mutateString=function(e,t,r){if(e)for(var n=t.split("."),o=e,i=0;i<n.length;i++){var a=n[i];if(!o[a])break;i==n.length-1&&"string"==typeof o[a]?o[a]=r:o=o[a]}}}),define("core/graphing-calc/translation/translator",["require","exports","tslib","../../lib/deepCopy","./common"],function(e,t,r,n,o){"use strict";function i(e,t){return function(n,i,a,s){n&&(i=o.serializeTranslationKey(r.__assign(r.__assign({},t),{path:i})),e[i]={value:n,type:a,context:s})}}Object.defineProperty(t,"__esModule",{value:!0}),t.applyLocalizationMap=t.extractLocalizationMap=void 0,t.extractLocalizationMap=function(e){var t,r,n,o,a,s,c={};if("graph"==e.type){for(var l=0,u=e.graphState.expressions.list;l<u.length;l++){var d=function(e){var t,r={},n=i(r,{location:"expression",id:e.id});switch(e.type){case"expression":n(e.label,"label","interpolated-string","expression-list-expression-label"),n(e.description,"description","string","expression-list-expression-clickable-description");break;case"image":n(e.image_url,"image_url","image","expression-list-image-url"),n(e.description,"description","string","expression-list-image-clickable-description"),n(null===(t=e.clickableInfo)||void 0===t?void 0:t.hoveredImage,"clickableInfo.hoveredImage","image","expression-list-image-clickable-hovered"),n(null===(t=e.clickableInfo)||void 0===t?void 0:t.depressedImage,"clickableInfo.depressedImage","image","expression-list-image-clickable-depressed");break;case"text":n(e.text,"text","string","expression-list-note-text");break;case"folder":n(e.title,"title","string","expression-list-folder-title")}return r}(u[l]);for(g in d)c[g]=d[g]}var p=(o=e.graphState,(s=i(a={},{location:"settings"}))(o.graph.xAxisLabel,"xAxisLabel","string","settings-xaxis-label"),s(o.graph.yAxisLabel,"yAxisLabel","string","settings-yaxis-label"),a);for(g in p)c[g]=p[g]}else{var h,f=e.geometryState.objects;for(h in f){var g,m=(n=void 0,(n=i(r={},{location:"object",id:(t=f[h]).id}))(t.label,"label","string","geometry-object-label"),"image"===t.type&&n(t.url,"url","image","geometry-object-image-url"),r);for(g in m)c[g]=m[g]}}return c},t.applyLocalizationMap=function(e,t,r){var i,a=n.default(e);if("graph"===r){for(var s={},c=0,l=null!==(r=null===(r=a.expressions)||void 0===r?void 0:r.list)&&void 0!==r?r:[];c<l.length;c++){var u=l[c];s[u.id]=u}for(d in t)"expression"==(i=o.deserializeTranslationKey(d)).location?o.mutateString(s[i.id],i.path,t[d].value):o.mutateString(a.graph,i.path,t[d].value)}else if(a.objects)for(var d in t)"object"==(i=o.deserializeTranslationKey(d)).location&&o.mutateString(a.objects[i.id],i.path,t[d].value);return a}}),define("core/math/render-latex",["require","exports"],function(e,t){"use strict";function r(e){switch(e.type){case"Equals":return i(e.args,"=");case"Inequality":return i(e.args,e.symbol);case"InequalityChain":return r(e.first)+e.chain.map(r).join("");case"TrailingInequalityPiece":return e.symbol+r(e.args[0]);case"Tilde":return i(e.args,"~");case"Pos":return"+"+r(e.args[0]);case"Neg":return"-"+r(e.args[0]);case"Add":return i(e.args,"+");case"Sub":return i(e.args,"-");case"Mul":return i(e.args,"*");case"Div":return i(e.args,"/");case"Bang":return r(e.args[0])+"!";case"Call":var t=l(e.args);return t?t.script+"\\left("+t.arg+"\\right)":r(e.args[0])+"\\left("+r(e.args[1])+"\\right)";case"Paren":return"\\left("+r(e.args[0])+"\\right)";case"List":return"\\left["+e.args.map(r).join(",")+"\\right]";case"Pipes":return"\\left|"+r(e.args[0])+"\\right|";case"Index":return r(e.args[0])+"\\left["+r(e.args[1])+"\\right]";case"Subscript":return i(e.args,"_",!0);case"Superscript":return i(e.args,"^",!0);case"Prime":if("Call"!==e.args[0].type)return r(e.args[0])+s(e.nprimes);var c=l(e.args[0].args);return c?c.script+s(e.nprimes)+"\\left("+c.arg+"\\right)":r(e.args[0].args[0])+s(e.nprimes)+"\\left("+r(e.args[0].args[1])+"\\right)";case"Seq":return e.args.map(r).join(",");case"Sqrt":return"\\sqrt"+n(r(e.args[0]));case"Nthroot":return"\\sqrt\\left["+r(e.args[0])+"\\right]"+n(r(e.args[1]));case"Frac":return"\\frac{"+r(e.args[0])+"}{"+r(e.args[1])+"}";case"Derivative":return"\\frac{d}{d"+r(e.args[0])+"}"+r(e.args[1]);case"Integral":case"EmptyIntegral":if("Cmd"!==e.args[0].type)throw new Error("Expected first argument of an integral to be the variable");var u="d"+e.args[0].val;return 3===e.args.length?o("int",e.args[1],e.args[2])+u:(c=r(e.args[3]),o("int",e.args[1],e.args[2])+c+u);case"Sum":return a(e.args,"sum");case"Product":return a(e.args,"prod");case"Piecewise":return"\\{"+r(e.args[0])+"\\}";case"EmptyPiecewise":return"\\{\\}";case"Colon":return i(e.args,":");case"Ellipsis":return i(e.args,"...");case"For":return i(e.args,"\\for ");case"Dot":return i(e.args,".");case"PercentOf":return i(e.args,"\\% \\of ");case"RightArrow":return i(e.args,"->");case"Juxt":case"ImplicitCall":return(u=l(e.args))?u.script+u.arg:i(e.args,"");case"MixedNumber":return e.whole+"\\frac{"+e.num+"}{"+e.den+"}";case"Letter":case"Decimal":case"Alphanumeric":return e.val;case"Cmd":return"\\"+e.val;case"EmptyRangeEnd":return"EmptyRangeEnd";case"Err":throw e.error;default:return e}}function n(e){return 1<e.length?"{"+e+"}":e}function o(e,t,o){return t=n(r(t)),o?"\\"+e+"_"+t+"^"+n(r(o)):"\\"+e+"_"+t}function i(e,t,o){return void 0===o&&(o=!1),r(e[0])+t+(o?n(r(e[1])):r(e[1]))}function a(e,t){var n=r(e[0]);return o(t,e[1],e[2])+n}function s(e){for(var t="",r=0;r<e;r++)t+="'";return t}function c(e){return"Cmd"===e.type&&"logbase"===e.val}function l(e){var t,n=e[1];return"Seq"===e[1].type&&2===e[1].args.length&&(n=e[1].args[1],t=e[1].args[0]),"Superscript"===e[0].type&&c(e[0].args[0])?{script:o("log",n,e[0].args[1]),arg:t?r(t):""}:c(e[0])?{script:o("log",n),arg:t?r(t):""}:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.renderLatex=void 0,t.renderLatex=r}),define("core/math/format-latex",["require","exports","tslib","../mathtools","./parser/surface-node","./render-latex"],function(e,t,r,n,o,i){"use strict";function a(e){switch(e.type){case"Letter":case"Decimal":case"Cmd":return"0"===e.val;default:return}}function s(e){switch(e.type){case"Letter":case"Decimal":case"Cmd":return"1"===e.val;default:return!1}}function c(e){return{isPseudoSurfaceNode:!0,type:"Decimal",span:e,val:"0"}}function l(e,t){return{isPseudoSurfaceNode:!0,type:"Neg",span:t,args:[e]}}function u(e,t){return{isPseudoSurfaceNode:!0,type:"Paren",span:t,args:[e]}}function d(e,t){return r.__assign(r.__assign({},e),{span:t})}Object.defineProperty(t,"__esModule",{value:!0}),t.formatLatex=void 0,t.formatLatex=function(e){var t=n.expressionParser.parse(e.latex);if("Err"!=t.type){for(var p=function e(t){var n;switch(t.type){case"Add":var i=e(t.args[0]),p=e(t.args[1]);if(a(i))return d(p,t.span);if(a(p))return d(i,t.span);var h=void 0;if("Neg"===p.type?h=e(p.args[0]):"Paren"===p.type&&"Neg"===p.args[0].type&&(h=e(p.args[0].args[0])),void 0!==h)return{isPseudoSurfaceNode:!0,type:"Sub",span:t.span,args:[i,h]};n=[i,p];break;case"Sub":if(i=e(t.args[0]),p=e(t.args[1]),a(i))return l(p,t.span);if(a(p))return d(i,t.span);if(h=void 0,"Neg"===p.type?h=p.args[0]:"Paren"===p.type&&"Neg"===p.args[0].type&&(h=p.args[0].args[0]),h)return{isPseudoSurfaceNode:!0,type:"Add",span:t.span,args:[i,h]};n=[i,p];break;case"Mul":var f=e(t.args[0]),g=e(t.args[1]);if(s(f))return d(g,t.span);if(s(g))return d(f,t.span);if(a(f))return c(t.span);if(a(g))return c(t.span);n=[f,g];break;case"Juxt":if(f=e(t.args[0]),g=e(t.args[1]),s(f))return d(g,t.span);if(s(g))return d(f,t.span);if("Neg"===f.type&&s(f.args[0]))return l(g,t.span);if(a(f))return c(t.span);if(a(g))return c(t.span);if("Paren"===t.args[0].type&&"Paren"!==f.type&&(f=u(f,t.span)),"Juxt"===t.type&&"Paren"===t.args[1].type&&"Paren"!==g.type&&(g=u(g,t.span)),"Neg"===f.type)return l(r.__assign(r.__assign({},t),{type:"Juxt",isPseudoSurfaceNode:!0,args:[f.args[0],g]}),t.span);n=[f,g];break;case"Frac":case"Div":var m=e(t.args[0]),y=e(t.args[1]);if(s(y))return d(m,t.span);n=[m,y];break;case"Superscript":if(m=e(t.args[0]),s(y=e(t.args[1])))return d(m,t.span);n=[m,y];break;case"Paren":var v=e(t.args[0]);if(o.isIdentifier(v))return d(v,t.span);var b="args"in v?v.args:void 0;if((!b||b.length<=1)&&"Neg"!==v.type)return d(v,t.span);n=[v];break;case"Pos":return d(v=e(t.args[0]),t.span);case"Neg":if(b="args"in(v=e(t.args[0]))?v.args[0]:void 0,"Paren"===v.type&&b&&"Neg"===b.type&&b.args[0])return d(e(b.args[0]),t.span);if("Neg"===v.type&&b)return d(b,t.span);n=[v];break;case"Cmd":case"Letter":case"Decimal":case"MixedNumber":case"EmptyRangeEnd":case"EmptyPiecewise":case"InequalityChain":return r.__assign(r.__assign({},t),{isPseudoSurfaceNode:!0});default:n=t.args.map(function(t){return t.isPseudoSurfaceNode?t:"Alphanumeric"===t.type?r.__assign(r.__assign({},t),{isPseudoSurfaceNode:!0}):e(t)})}return r.__assign(r.__assign({},t),{isPseudoSurfaceNode:!0,args:n})}(t);"Paren"===p.type;)p=p.args[0];return a(p)?{latex:e.latex}:{latex:i.renderLatex(p)}}}}),define("core/mathtools",["require","exports","core/math/builtinframe","parsenodes","tslib","core/math/parser","core/math/context","core/cl-calculator","core/math/parser/latex-parser","core/math/parser/expression-parser","core/math/tree-queries/count-numbers","core/lib/color-helpers","core/math/policyGraphing","core/math/policyScientific","core/math/policyFourFunction","./math/parser/surface-node-error","core/lib/label","core/graphing-calc/diffs/calculate-diff","core/graphing-calc/diffs/apply-diff","core/graphing-calc/migrate-state","core/math/types","core/graphing-calc/translation/translator","./math/parser/input-span","core/lib/number-to-latex","core/lib/number-to-latex","./lib/latex-search-helpers","./math/format-latex"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g,m,y,v,b,x,w,E,S,k,_,I){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatLatex=t.replaceIdentifierWithLatex=t.numberToLatex=t.numberToDecimalString=t.applyLocalizationMap=t.extractLocalizationMap=t.migrateToLatest=t.applyDiff=t.calculateDiff=t.CLCalculator=t.colorHelpers=t.policies=t.parseNodes=t.types=t.builtInFrame=t.context=t.treeQueries=t.expressionParser=t.parser=t.Label=void 0,Object.defineProperty(t,"CLCalculator",{enumerable:!0,get:function(){return s.CLCalculator}}),t.colorHelpers=d,t.Label=m,Object.defineProperty(t,"calculateDiff",{enumerable:!0,get:function(){return y.calculateDiff}}),Object.defineProperty(t,"applyDiff",{enumerable:!0,get:function(){return v.applyDiff}}),Object.defineProperty(t,"migrateToLatest",{enumerable:!0,get:function(){return b.migrateToLatest}}),Object.defineProperty(t,"extractLocalizationMap",{enumerable:!0,get:function(){return w.extractLocalizationMap}}),Object.defineProperty(t,"applyLocalizationMap",{enumerable:!0,get:function(){return w.applyLocalizationMap}}),Object.defineProperty(t,"numberToDecimalString",{enumerable:!0,get:function(){return S.numberToDecimalString}}),t.numberToLatex=k.default,Object.defineProperty(t,"replaceIdentifierWithLatex",{enumerable:!0,get:function(){return _.replaceIdentifierWithLatex}}),Object.defineProperty(t,"formatLatex",{enumerable:!0,get:function(){return I.formatLatex}}),t.parser={parse:function(e,t){return null==e&&(e=""),i.parse(e,t)}},t.expressionParser={parse:function(e){if(null!=e)try{var r=c.parse(e);return l.parse(r)}catch(r){var n=r instanceof t.parseNodes.Base?r.getInputSpan():E.Span(e,0,e.length),i=o.__assign(o.__assign({},g.UnexpectedParseError()),{originalError:r});return g.Err(n,i)}}},t.treeQueries={countNumbers:u.countNumbers},t.context=a.Context,t.builtInFrame=r,t.types=x,t.parseNodes=n,t.policies={graphing:p.PolicyGraphing,scientific:h.PolicyScientific,fourFunction:f.PolicyFourFunction}}),define("loadcss!mygraphs/load-graph-view",function(){}),define("mygraphs/load-graph-view",["require","exports","tslib","dcgview","loadcss!./load-graph-view"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadGraphView=void 0;var o,i=n.Components.If;o=n.Class,r.__extends(a,o),a.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-loading-container")},n.createElement(i,{predicate:function(){return!e.props.didDataLoadFail()}},function(){return n.createElement("div",{class:n.const("dcg-graph-loading")},n.createElement("div",{class:n.const("pulsing-message")},function(){return e.props.s("account-shell-text-mygraphs-loading")}),n.createElement("div",{role:n.const("link"),tabindex:n.const("0"),class:n.const("dcg-cancel-while-loading"),onTap:e.props.onCancel},function(){return e.props.s("account-shell-button-mygraphs-cancel")}))}),n.createElement(i,{predicate:function(){return e.props.didDataLoadFail()}},function(){return n.createElement("div",{class:n.const("dcg-graph-loading-error"),"aria-live":n.const("assertive"),"aria-atomic":n.const("true")},n.createElement("div",{class:n.const("dcg-graph-loading-error-title")},function(){return e.props.s("account-shell-error-mygraphs-error-loading")}),n.createElement("div",{class:n.const("dcg-graph-loading-error-subtitle")},function(){return e.props.s("account-shell-error-mygraphs-check-connection")}),n.createElement("div",{class:n.const("dcg-graph-loading-error-options")},n.createElement("span",{role:n.const("button"),tabindex:n.const("0"),class:n.const("dcg-action-try-again dcg-btn-blue dcg-btn-medium"),onTap:e.props.requestLoadGraphData},function(){return e.props.s("account-shell-button-mygraphs-try-again")}),n.createElement(i,{predicate:function(){return!!e.props.onCancel}},function(){return n.createElement("span",null,function(){return e.props.s("account-shell-text-mygraphs-or")})}),n.createElement(i,{predicate:function(){return!!e.props.onCancel}},function(){return n.createElement("span",{role:n.const("button"),tabindex:n.const("0"),class:n.const("dcg-action-cancel dcg-btn-light-gray dcg-btn-medium"),onTap:e.props.onCancel},function(){return e.props.s("account-shell-button-mygraphs-cancel")})})))}))},r=a;function a(){return null!==o&&o.apply(this,arguments)||this}t.LoadGraphView=r}),define("main/async_load_state",["require","exports","dcgview","mygraphs/load-graph-view","jquery"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asyncLoadStateAtStartup=void 0,t.asyncLoadStateAtStartup=function(e,t){var i,a,s=o.Deferred();return e&&e.state?s.resolve(e):e&&"string"==typeof e.stateUrl?(i=!1,(a=function(){i||(i=!0,o.getJSON(e.stateUrl).done(function(t){e.state=t,s.resolve(e)}).fail(function(){var e,o,i;e=a,o=t,(i=document.createElement("div")).style.zIndex="999999",i.style.position="fixed",i.style.bottom="50px",i.style.left="0",i.style.right="0",document.body.append(i),r.mountToNode(n.LoadGraphView,i,{s:o,didDataLoadFail:function(){return!0},requestLoadGraphData:function(){i.remove(),e()}})}).always(function(){i=!1}))})()):s.resolve(),s}}),define("api/calculator",["require","exports","mathquill","tslib","main/mathquill-operators","graphing/clipping","graphing/canvas-labels","core/constants","main/shared-clock-bus","core/math/parser","lib/i18n","expressions/colors","graphing-calc/api/sanitize-expression","core/graphing-calc/json/graph-settings","main/font_sizes","expressions/image_file_to_data_url","./graphing","./headless","./fourfunction","./scientific","./pillow-keypad","core/mathtools","abraham","../core/graphing-calc/extract-slider-value-from-latex","main/async_load_state"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g,m,y,v,b,x,w,E,S){"use strict";var k,_;function I(e){var t=k.enabledFeatures;return!t||t[e]}function M(e){t.DesmosAPI[e]=function(){throw new Error("The Desmos "+e+" is not enabled for this API key.")}}for(_ in Object.defineProperty(t,"__esModule",{value:!0}),t.Calculator=t.HeadlessGraphingCalculator=t.PillowKeypad=t.FourFunctionCalculator=t.ScientificCalculator=t.GraphingCalculator=t.DesmosAPI=void 0,"undefined"!=typeof Desmos?k=Desmos:(k={},window.Desmos=k),t.GraphingCalculator=m.default,t.HeadlessGraphingCalculator=y.default,t.FourFunctionCalculator=v.default,t.ScientificCalculator=b.default,t.PillowKeypad=x.default,t.DesmosAPI={version:s.CURRENT_API_VERSION,Colors:{RED:d.RED,BLUE:d.BLUE,GREEN:d.GREEN,ORANGE:d.ORANGE,PURPLE:d.PURPLE,BLACK:d.BLACK},imageFileToDataURL:g.imageFileToDataURL,supportedLanguages:["en"].concat(k.localeData?Object.keys(k.localeData):k.locales?Object.keys(k.locales):[]),Styles:n.__assign(n.__assign({},p.SanitizedLineStyle),p.SanitizedPointStyle),ColumnModes:p.SanitizedColumnMode,DragModes:p.SanitizedDragMode,AxisArrowModes:h.AxisArrowModes,FontSizes:f,LabelSizes:p.SanitizedLabelSize,LabelOrientations:p.SanitizedLabelOrientation,GraphingCalculator:m.default,Calculator:m.default,FourFunctionCalculator:v.default,ScientificCalculator:b.default,Private:{Abraham:E,Mathtools:w,Graphtools:{getClippingGraphType:i.getClippingGraphType,mapSegmentToCanvas:i.mapSegmentToCanvas,computeDrawingCommandsForDOMLabel:a.computeDrawingCommandsForDOMLabel,drawCommandsToCtx:a.drawCommandsToCtx},MathquillConfig:{getAutoCommands:o.getAutoCommands,getAutoOperators:o.getAutoOperators},SharedClockBus:c,Parser:l,extractSliderValueFromLatex:S.extractSliderValueFromLatex,i18n:u},MathQuill:r,PillowKeypad:x.default,HeadlessGraphingCalculator:y.default},I("GraphingCalculator")||(M("GraphingCalculator"),M("Calculator")),I("FourFunctionCalculator")||M("FourFunctionCalculator"),I("ScientificCalculator")||M("ScientificCalculator"),t.DesmosAPI)t.DesmosAPI.hasOwnProperty(_)&&(k[_]=t.DesmosAPI[_]);t.Calculator=m.default}),define("main/external-login-popup",["require","exports","./backend"],function(e,t,r){"use strict";function n(e){var t=window.open(e.url,"login_window","width=650,height=530,resizable,scrollbars");t?function e(t,r){t.closed?r.askServerIfLoggedIn():setTimeout(function(){e(t,r)},1e3)}(t,e.userController):alert(e.blockedMessage)}Object.defineProperty(t,"__esModule",{value:!0}),t.listenForLoginRequests=void 0,t.listenForLoginRequests=function(e,t){(window.userController=e).observeEvent("googleLogin",function(o,i){n({url:r.getGoogleLoginURL(i),userController:e,blockedMessage:t("account-shell-text-login-window-blocked-google")})}),e.observeEvent("appleLogin",function(o,i){n({url:r.getAppleLoginURL(i),userController:e,blockedMessage:t("account-shell-text-login-window-blocked-apple")})})}}),define("analytics/uuid",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uuid=void 0,t.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}}),define("analytics/batch-log-sender",["require","exports","tslib","underscore","jquery"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BatchLogSender=void 0;var i=(a.prototype.log=function(e){this.batchedLogs.push(r.__assign(r.__assign({},this.staticData),e)),this.throttledFlushBatchedLogs()},a);function a(e,t){var r=this;this.apiUrl=e,this.staticData=t,this.throttledFlushBatchedLogs=n.throttle(function(){var e;r.requestInFlight||0==r.batchedLogs.length||(e=r.batchedLogs.splice(0,50),r.requestInFlight=!0,o.ajax({url:r.apiUrl,type:"POST",contentType:"application/json",data:JSON.stringify({events:e})}).always(function(){r.requestInFlight=!1,r.throttledFlushBatchedLogs()}))},1e3,{leading:!1}),this.batchedLogs=[],this.requestInFlight=!1}t.BatchLogSender=i}),define("analytics/looker",["require","exports","tslib","./uuid","./batch-log-sender"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logPageLoad=t.logJSON=t.logNumber=t.log=t.getPageLoadId=void 0;var i={eventType:"eventType",pageLoadId:window.pageLoadId||n.uuid(),source:"browser",app:"knox",userAgent:navigator.userAgent};t.getPageLoadId=function(){return i.pageLoadId};var a,s=new o.BatchLogSender("/data-events",i);function c(e){s.log(r.__assign({url:document.location.href},e))}function l(e,t){c({eventType:e,payloadJSON:JSON.stringify(t)})}t.log=c,t.logNumber=function(e,t){c({eventType:e,payloadNumber:t})},t.logJSON=l;var u=!0;t.logPageLoad=function(e){var t=document.location.href,n=navigator.userLanguage||navigator.language,o=document.referrer;e=r.__assign({browserLang:n,referrer:o},e);a!==t&&(a=t,u?(l("page-load",e),u=!1):(delete e.referrer,l("page-spa-load",e)))}}),define("analytics/usage-client",["require","exports","./uuid","./batch-log-sender"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logUsageData=void 0;r={eventType:"eventType",pageLoadId:window.pageLoadId||r.uuid(),source:"browser",app:"knox",userAgent:navigator.userAgent};var o=new n.BatchLogSender("/usage-stats",r);t.logUsageData=function(e,t){o.log({eventType:e,url:document.location.href,payloadJSON:JSON.stringify(t)})}}),define("analytics/queries/basic-controller",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDegreeMode=t.isProjectorMode=void 0,t.isProjectorMode=function(e){return e.isProjectorMode()},t.isDegreeMode=function(e){return e.model.getDegreeMode()}}),define("analytics/queries/frontend-controller",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLoggedIn=void 0,t.isLoggedIn=function(e){return e.userController.isLoggedIn()}}),define("analytics/queries/graph-feature",["require","exports","graphing-calc/models/expression","../../core/lib/dragmode"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expressionErrors=t.textCount=t.tableCount=t.imageCount=t.folderCount=t.expressionCount=t.hasCustomColors=t.hasMovablePoints=t.hasAction=t.hasRegression=t.hasSlider=void 0,t.hasSlider=function(e){return 0<e.getAllModelsWithSliders().length},t.hasRegression=function(e){for(var t=0,n=e.getAllItemModels();t<n.length;t++){var o=n[t];if("expression"===o.type&&r.isRegression(o))return!0}return!1},t.hasAction=function(e){if(e.getListModel().ticker.open)return!0;for(var t=0,r=e.getAllItemModels();t<r.length;t++){var n=r[t];if(n&&"formula"in n&&n.formula&&("expression"===n.type||"image"===n.type)&&((n=n.formula).hasOwnProperty("action_value")||n.hasOwnProperty("click_handler")))return!0}return!1},t.hasMovablePoints=function(e){return e.getAllItemModels().some(function(e){return"expression"===e.type&&e.reconciledDragMode!==n.DragMode.NONE})},t.hasCustomColors=function(e){for(var t=0,n=e.getAllItemModels();t<n.length;t++){var o=n[t];if("expression"===o.type&&r.getAssignment(o)&&("string"==typeof(o=e.getEvaluationValueForItem(o.id))||Array.isArray(o)&&"string"==typeof o[0]))return!0}return!1},t.expressionCount=function(e){return e.getAllItemModels().filter(function(e){return"expression"===e.type}).length},t.folderCount=function(e){return e.getAllItemModels().filter(function(e){return"folder"===e.type}).length},t.imageCount=function(e){return e.getAllItemModels().filter(function(e){return"image"===e.type}).length},t.tableCount=function(e){return e.getAllItemModels().filter(function(e){return"table"===e.type}).length},t.textCount=function(e){return e.getAllItemModels().filter(function(e){return"text"===e.type}).length},t.expressionErrors=function(e){for(var t=[],r=0,n=e.getAllItemModels();r<n.length;r++){var o=n[r];"expression"!==o.type||!o.error||"shared-calculator-error-blank-expression"!==(o=o.error.key)&&t.push(o)}return t}}),define("analytics/usage-monitor",["require","exports","tslib","./usage-client","./queries/basic-controller","./queries/frontend-controller","./queries/graph-feature"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=(c.prototype.getUsageData=function(){return r.__assign(r.__assign(r.__assign(r.__assign({},this.getBasicUsageData()),this.getBasicControllerUsageData()),this.getFrontendControllerUsageData()),this.getGraphFeatureUsageData())},c.prototype.getBasicUsageData=function(){var e={timeSincePageload:this.getTimeSincePageload(),totalTimeFocused:this.getTotalTimeFocused(),totalTimeVisible:this.getTotalTimeVisible(),samplingInterval:6e4,samplingProbability:1/60};return this.graphsController&&(e.timeSinceGraphLoaded=Date.now()-this.graphLoadTime),e},c.prototype.getDataFromController=function(e,t,r){for(var n={},o=0,i=this.featureQueryMap[e];o<i.length;o++){var a=i[o],s=t[a];if(!s)throw new Error("'"+a+"' is not a valid feature name.");s=s(r),(Array.isArray(s)&&0<s.length||"boolean"==typeof s&&s||"number"==typeof s)&&(n[a]=s)}return n},c.prototype.getBasicControllerUsageData=function(){return this.getDataFromController("basic-controller-feature",o,this.basicController)},c.prototype.getFrontendControllerUsageData=function(){return this.getDataFromController("frontend-controller-feature",i,this.frontendController)},c.prototype.getGraphFeatureUsageData=function(){return this.getDataFromController("graph-feature",a,this.calcController)},c.prototype.callLogger=function(){var e=Date.now();e-this.lastConsideredTime>this.samplingInterval&&(this.lastConsideredTime=e,Math.random()<this.samplingProbability&&n.logUsageData("usage-ping",this.getUsageData()))},c.prototype.addTimeFocused=function(){var e=Date.now()-this.focusIntervalStart;this.totalTimeFocused+=e},c.prototype.addTimeVisible=function(){var e=Date.now()-this.visibleIntervalStart;this.totalTimeVisible+=e},c.prototype.getTotalTimeFocused=function(){return this.focused&&(this.addTimeFocused(),this.focusIntervalStart=Date.now()),this.totalTimeFocused},c.prototype.getTotalTimeVisible=function(){return document.hidden||(this.addTimeVisible(),this.visibleIntervalStart=Date.now()),this.totalTimeVisible},c.prototype.start=function(){setInterval(this.callLogger.bind(this))},c.prototype.trackFeatureUsage=function(e,t){if(!this.calcController)throw new Error("Monitoring graph feature usage requires a calculator controller.");this.featureQueryMap[e].push(t)},c.prototype.getTimeSincePageload=function(){return Date.now()-this.pageLoadTime},c);function c(e){var t=this;void 0===e&&(e={}),this.samplingInterval=6e4,this.samplingProbability=1/60,this.lastConsideredTime=Date.now(),this.pageLoadTime=Date.now(),this.graphLoadTime=Date.now(),this.basicController=e.basicController,this.frontendController=e.frontendController,this.calcController=e.calcController,this.graphsController=e.graphsController,this.featureQueryMap={"basic-controller-feature":[],"frontend-controller-feature":[],"graph-feature":[]},this.focused=!0,this.focusIntervalStart=Date.now(),this.totalTimeFocused=0,window.addEventListener("focus",function(){t.focused=!0,t.focusIntervalStart=Date.now()}),window.addEventListener("blur",function(){t.focused=!1,t.addTimeFocused()}),this.visibleIntervalStart=Date.now(),this.totalTimeVisible=0,document.addEventListener("visibilitychange",function(){document.hidden?t.addTimeVisible():t.visibleIntervalStart=Date.now()}),this.graphsController&&this.graphsController.observeEvent("onLoadGraph",function(){t.graphLoadTime=Date.now()})}t.default=s}),define("shared-header/hamburger",["require","exports","tslib","browser","dcgview","../shared-components/tooltip"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hamburger=void 0;var a;a=o.Class,r.__extends(s,a),s.prototype.template=function(){var e=this;return o.createElement("span",{role:o.const("button"),tabindex:o.const(0),"aria-label":function(){return e.openGraphText()},class:o.const("dcg-header-btn dcg-action-opendrawer dcg-tooltip"),tooltip:function(){return e.openGraphText()},onTap:function(t){return e.props.controller().dispatch({type:"open-mygraphs",device:t.device})}},o.createElement(i.Tooltip,{tooltip:function(){return e.openGraphText()},disabled:function(){return!e.props.tooltip()},gravity:this.const("se"),offset:function(){return{top:12}}},o.createElement("i",{class:o.const("dcg-icon-hamburger"),"aria-hidden":o.const("true")})))},s.prototype.openGraphText=function(){var e=this.props.controller().getOpenText();return n.IS_APPLE?this.props.controller().s("account-shell-label-open-graph-mac",{open_graph:e}):this.props.controller().s("account-shell-label-open-graph-pc",{open_graph:e})},r=s;function s(){return null!==a&&a.apply(this,arguments)||this}t.Hamburger=r}),define("shared-header/accounts",["require","exports","tslib","dcgview","jquery"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Accounts=void 0;var i,a=n.Components.If;i=n.Class,r.__extends(s,i),s.prototype.template=function(){var e=this,t=this.props.controller().userController;return n.createElement("span",null,n.createElement(a,{predicate:function(){return t.isLoggedIn()&&!e.props.disableAccounts()}},function(){return n.createElement("span",null,n.createElement(a,{predicate:function(){return t.isLoggingOut()}},function(){return n.createElement("span",{class:n.const("logout-progress-notice")},n.createElement("span",{class:n.const("dcg-spinner-dark")}))}),n.createElement(a,{predicate:function(){return!t.isLoggingOut()&&!e.props.disableAccounts()}},function(){return n.createElement("span",{class:n.const("dcg-account-link"),"dcg-menu-button":n.const("account"),role:n.const("button"),tabindex:n.const(0),"aria-haspopup":n.const("true"),"aria-expanded":n.const("false"),"aria-label":n.const("Account Information"),onTap:function(t){e.props.controller().dispatch({type:"toggle-menu",payload:"account"}),"keyboard"==t.device&&(t="account"===e.props.controller().getOpenMenu(),o(t?".dcg-action-accountsettings":".dcg-account-link").trigger("focus"))}},n.createElement("span",{class:n.const("email")},n.createElement("div",{class:n.const("header-account-name dcg-variable-name")},function(){return t.getFirstName()}),n.createElement("i",{class:n.const("dcg-icon-caret-down"),"aria-hidden":n.const("true")})))}))}),n.createElement(a,{predicate:function(){return!t.isLoggedIn()&&!e.props.disableAccounts()}},function(){return n.createElement("span",{class:n.const("dcg-login")},n.createElement("a",{role:n.const("link"),tabindex:n.const(0),class:n.const("dcg-sign-in dcg-action-login dcg-btn-white-outline"),onTap:function(t){e.props.controller().dispatch({type:"show-modal",modal:"login",device:t.device})}},function(){return e.props.controller().s("account-shell-button-log-in")}),function(){return e.props.controller().s("account-shell-text-or")},n.createElement("a",{role:n.const("link"),tabindex:n.const(0),class:n.const("dcg-create-account dcg-btn dcg-btn-primary dcg-action-createaccount"),onTap:function(t){e.props.controller().dispatch({type:"show-modal",modal:"signup",device:t.device})}},function(){return e.props.controller().s("account-shell-button-sign-up")}))}))},r=s;function s(){return null!==i&&i.apply(this,arguments)||this}t.Accounts=r}),define("shared-header/header-toast",["require","exports","tslib","dcgview","main/toast-view"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderToast=void 0;var i;i=n.Class,r.__extends(a,i),a.prototype.template=function(){var e=this;return n.createElement(o.ToastView,{message:this.bindFn(this.getMessage),s:this.bindFn(this.s),onClose:function(){return e.graphsController().dismissSaveError()},showUndo:this.const(!1),showLearnMore:this.const(!1),toastStyle:this.bindFn(this.getStyle),noAria:this.const(!1),showClose:this.bindFn(this.showClose)})},a.prototype.s=function(e,t){return this.props.controller().s(e,t)},a.prototype.graphsController=function(){return this.props.controller().graphsController},a.prototype.getStyle=function(){return this.graphsController().didSaveFail()?"error":void 0},a.prototype.showClose=function(){return this.graphsController().didSaveFail()},a.prototype.getMessage=function(){return this.graphsController().isSaving()?this.props.controller().s("shared-calculator-label-saving"):this.graphsController().didSaveSucceed()?this.props.controller().s("shared-calculator-label-saved"):this.graphsController().didSaveFail()?this.props.controller().raw(this.graphsController().getSaveFailureMessage()):""},r=a;function a(){return null!==i&&i.apply(this,arguments)||this}t.HeaderToast=r}),define("calculator-shell/header-icon",["require","exports","tslib","dcgview","../shared-components/tooltip"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderIcon=void 0;var i;i=n.Class,r.__extends(a,i),a.prototype.init=function(){this.controller=this.props.controller()},a.prototype.template=function(){var e=this;return this.controller=this.props.controller(),n.createElement(o.Tooltip,{tooltip:this.props.tooltip,gravity:this.bindFn(this.getGravity),offset:function(){return{top:12}}},n.createElement("span",{role:n.const("button"),tabindex:n.const("0"),"aria-haspopup":n.const("true"),"aria-label":function(){return e.props.label()},"aria-expanded":function(){return e.isMenuOpen()},class:function(){var t;return(t={"dcg-header-btn":!0})["dcg-action-"+e.props.name()]=!0,t["dcg-tooltip"]=!0,t["dcg-active"]=e.isMenuOpen(),t},"dcg-menu-button":this.props.name,onTap:this.props.onTap},n.createElement("i",{class:this.props.icon,"aria-hidden":n.const("true")})))},a.prototype.getGravity=function(){return this.props.gravity?this.props.gravity():"s"},a.prototype.isMenuOpen=function(){return this.controller.getOpenMenu()===this.props.label().toLowerCase()},r=a;function a(){return null!==i&&i.apply(this,arguments)||this}t.HeaderIcon=r}),define("calculator-shell/save-button",["require","exports","tslib","dcgview","browser","../shared-components/tooltip"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SaveButton=void 0;var a,s=n.Components.IfElse;a=n.Class,r.__extends(c,a),c.prototype.init=function(){this.controller=this.props.controller(),this.graphsController=this.controller.graphsController},c.prototype.template=function(){var e=this;return s(function(){return e.graphsController.isSaving()},{true:function(){return n.createElement("span",{class:n.const("dcg-if-user save-btn-container")},n.createElement("span",{class:n.const("saving-notice")},n.createElement("span",{class:n.const("dcg-spinner-dark")})))},false:function(){return n.createElement("span",{class:function(){return{"dcg-if-user save-btn-container":!0}}},n.createElement(i.Tooltip,{tooltip:function(){return e.controller.isSaveEnabled()?e.saveChangesText():e.controller.s("account-shell-label-no-unsaved-changes")},offset:function(){return{top:7}}},n.createElement("span",{role:n.const("button"),class:function(){return{"dcg-action-save":!0,"tooltip-offset":!0,"dcg-btn-primary":e.controller.isSaveEnabled(),"dcg-disabled":!e.controller.isSaveEnabled()}},onTap:function(t){e.controller.isSaveEnabled()&&e.controller.simpleSave(t.device)}},function(){return e.controller.s("account-shell-button-save")})))}})},c.prototype.saveChangesText=function(){return o.IS_APPLE?this.controller.s("account-shell-label-save-changes-mac"):this.controller.s("account-shell-label-save-changes-pc")},r=c;function c(){return null!==a&&a.apply(this,arguments)||this}t.SaveButton=r}),define("calculator-shell/graph-title",["require","exports","tslib","dcgview","jquery","./save-button"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphTitle=void 0;var a,s=n.Components.If;a=n.Class,r.__extends(c,a),c.prototype.init=function(){this.controller=this.props.controller(),this.userController=this.controller.userController,this.graphsController=this.controller.graphsController},c.prototype.template=function(){var e=this;return n.createElement("span",{class:n.const("title-div")},n.createElement("span",{role:n.const("button"),class:n.const("dcg-variable-title-container"),"dcg-menu-button":function(){return e.shouldShowDropdown()?"graph-actions":void 0},tabindex:n.const(0),onTap:function(t){e.shouldShowDropdown()?e.openGraphActionsDropdown(t):e.shouldOpenSaveDialog()&&e.controller.dispatch({type:"edit-title"})},"aria-haspopup":function(){return e.shouldShowDropdown()},"aria-expanded":function(){return"graph-actions"==e.props.controller().getOpenMenu()},"aria-label":function(){return e.shouldShowDropdown()?e.controller.s("account-shell-label-graph-actions"):void 0}},n.createElement("span",{class:function(){return{"dcg-variable-title dcg-tooltip":!0,"dcg-action-savedialog":e.shouldOpenSaveDialog()}}},function(){return e.graphsController.getCurrentGraphTitle()||e.graphsController.getUntitledString()}),n.createElement(s,{predicate:this.bindFn(this.shouldShowDropdown)},function(){return n.createElement("span",{class:n.const("dcg-graph-actions-dropdown-anchor")},n.createElement("i",{class:n.const("dcg-icon-caret-down"),"aria-hidden":n.const("true")}))})),n.createElement(s,{predicate:function(){return e.userController.isLoggedIn()&&!e.controller.getPreviewParams()&&!e.controller.isInMaintenanceMode()}},function(){return n.createElement(i.SaveButton,{controller:e.props.controller})}))},c.prototype.shouldOpenSaveDialog=function(){return"geometry"===this.controller.product},c.prototype.shouldShowDropdown=function(){return"geometry"!==this.controller.product&&this.graphsController.wasCurrentGraphEverSaved()},c.prototype.openGraphActionsDropdown=function(e){this.props.controller().dispatch({type:"toggle-menu",payload:"graph-actions"}),e&&"keyboard"===e.device&&"share"!==this.controller.getOpenMenu()&&o(".dcg-graph-actions-container .dropdown-choice:not(.dropdown-choice-disabled):eq(0)").trigger("focus")},r=c;function c(){return null!==a&&a.apply(this,arguments)||this}t.GraphTitle=r}),define("frontpage/desmos-svg-logo",["require","exports","tslib","dcgview","lib/i18n"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DesmosSVGLogo=void 0;var i;i=n.Class,r.__extends(a,i),a.prototype.template=function(){return n.createElement("span",{onMount:this.bindFn(this.addSVGLogo)})},a.prototype.addSVGLogo=function(e){e.innerHTML='\n    <svg version="1.1" class="dcg-desmos-svg-logo" id="svg-desmos" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n    viewBox="0 0 909.3 188.4" style="enable-background:new 0 0 909.3 188.4;" xml:space="preserve">\n    <title>'+o.s("frontpage-narration-shared-desmos-logo")+'</title>\n    <g>\n      <path d="M129.6,0c-6.8,0-12.4,5.5-12.4,12.4v48c-27.7-25.4-70.6-24-96.7,3.1c-27.4,28.4-27.4,73.4,0,101.8\n        c26.1,27.1,69.1,28.4,96.8,3v8.8c2,6.5,9,10.2,15.5,8.2c3.9-1.2,7-4.3,8.2-8.2V12.4C141.1,5.9,136.1,0.5,129.6,0z M103.9,148.7\n        c-17.3,18.2-46.1,18.9-64.3,1.6c-0.6-0.5-1.1-1.1-1.6-1.6c-18.4-19.2-18.4-49.5,0-68.7c17.3-18.2,46.1-18.9,64.3-1.6\n        c0.6,0.5,1.1,1.1,1.6,1.6C122.3,99.3,122.3,129.6,103.9,148.7z"/>\n      <path d="M298.3,124c2.2-2.3,3.4-5.3,3.5-8.4c-0.1-19-7.6-37.2-20.9-50.7c-26.6-27.6-70.6-28.4-98.2-1.8c-0.6,0.6-1.2,1.2-1.8,1.8\n        c-27.4,28.4-27.4,73.4,0,101.8c21.8,22.6,56.2,27.7,83.7,12.4c10-5.6,18.5-13.5,24.8-23.1c3.4-5.5,1.9-12.7-3.3-16.5\n        c-5.5-3.3-12.6-1.7-16.4,3.5c-4.2,6.4-9.9,11.6-16.6,15.4c-6.8,3.8-14.4,5.8-22.2,5.8c-12.5,0-24.4-5.1-33.1-14.1\n        c-6-6.3-10.3-14-12.4-22.4h104C292.7,127.6,296,126.3,298.3,124z M231.3,67.2c12.4,0.1,24.3,5.2,33,14.1\n        c6.1,6.3,10.4,14.1,12.4,22.6h-90.7c2.1-8.5,6.3-16.3,12.4-22.6C207,72.4,218.8,67.3,231.3,67.2z"/>\n      <path d="M763.5,63c-26.7-28.1-71.1-29.2-99.2-2.5c-0.8,0.8-1.7,1.6-2.5,2.5c-13.7,13.9-21.3,32.7-20.9,52.2\n        c-0.2,19.3,7.2,37.8,20.7,51.6c27.7,28.2,73.1,28.7,101.3,0.9c0.3-0.3,0.6-0.6,0.9-0.9c13.4-13.8,20.9-32.4,20.7-51.7\n        c0.2-19.4-7.3-38.2-21.1-51.9 M712.8,66.7c12.4,0,24.2,5.2,32.5,14.4c8.9,9.2,13.8,21.5,13.6,34.3c0.2,12.7-4.6,25-13.5,34.1\n        c-8.5,9.2-20.5,14.2-33,13.9c-12.3,0.3-24.2-4.7-32.5-13.8c-8.8-9.1-13.6-21.4-13.3-34.1c-0.3-12.9,4.7-25.4,13.8-34.6\n        c8.2-9.3,20-14.6,32.4-14.4"/>\n      <path d="M623.8,92.6v81.9c0.3,6.8-4.9,12.7-11.8,13c-6.8,0.3-12.7-4.9-13-11.8V93.1c0-7.5-3-14.6-8.3-19.8\n        c-4.3-4.7-10.2-7.6-16.5-8.1h-1.9c-7-0.1-13.6,2.9-18.2,8.2c-4.8,4.9-7.5,11.5-7.7,18.3v2l0,0v81.1c0,6.8-5.5,12.4-12.4,12.4\n        c-6.5,0-11.9-4.9-12.4-11.4V91.5c-0.6-4.3-1.8-8.4-3.5-12.4c-1.2-2.3-2.6-4.5-4.3-6.4c-4.7-5.2-11.3-8.3-18.3-8.3\n        c-7,0-13.6,3-18.1,8.3c-5.1,5.2-8,12.3-7.9,19.6V176c-0.8,6.3-6.1,11-12.4,10.9c-6.8,0-12.4-5.5-12.4-12.4V52.9\n        c-0.7-6.8,4.2-12.9,11-13.6c5.9-0.6,11.4,3,13.1,8.7l2.9-1.9c7.4-3.9,15.6-6,23.9-5.9c12.3-0.1,24.1,4.3,33.3,12.4\n        c1.1,0.9,2.1,2,3,3.1c0.9,0.7,1.7,1.5,2.5,2.4l2.2-2.4c0.9-1.1,1.9-2.2,3-3.1c9.2-8.1,21-12.5,33.2-12.4h4.3\n        c10.8,0.8,21,5.1,29,12.4c0.9,1,2,1.9,3,2.9C618.9,65.3,624,78.7,623.8,92.6"/>\n      <path d="M427.2,145.4c0.1,23.4-18.6,42.5-42,43h-50.8c-6.8,0-12.4-5.5-12.4-12.4s5.5-12.4,12.4-12.4H384c10-0.2,17.9-8.4,17.8-18.3\n        c0.1-9.9-7.9-18-17.8-18.1c0,0-0.1,0-0.1,0h-24.8c-23.8-1.3-42-21.6-40.8-45.4c1.2-22,18.8-39.6,40.8-40.8h50.2\n        c6.8,0,12.4,5.5,12.4,12.4s-5.5,12.4-12.4,12.4h-49.1c-10,0.8-17.5,9.6-16.7,19.7c0.7,8.9,7.8,15.9,16.7,16.7H385\n        c5.9,0,11.8,1.2,17.2,3.7C417.7,112.8,427.2,128.4,427.2,145.4"/>\n      <path d="M908.9,145.2c0,23.4-18.3,42.7-41.6,43.3h-50.8c-6.8,0-12.4-5.5-12.4-12.4s5.5-12.4,12.4-12.4h50.2\n        c10-0.2,17.9-8.4,17.8-18.3c0.1-9.9-7.9-18-17.8-18.1c0,0-0.1,0-0.1,0h-24.8c-23.8-1.3-42-21.6-40.8-45.4\n        c1.2-22,18.8-39.6,40.8-40.8h49.6c6.8,0,12.4,5.5,12.4,12.4s-5.5,12.4-12.4,12.4h-49.6c-10.1,0-18.2,8.2-18.2,18.2c0,0,0,0,0,0\n        c0,9.9,8,18,17.8,18.1h24.8c5.9,0,11.8,1.3,17.2,3.7C898.9,112.8,908.9,128.2,908.9,145.2"/>\n    </g>\n    </svg>\n    '},r=a;function a(){return null!==i&&i.apply(this,arguments)||this}t.DesmosSVGLogo=r}),define("loadcss!shared-header/header-bar",function(){}),define("loadcss!calculator-shell/calculator-shell",function(){}),define("loadcss!spinner",function(){}),define("calculator-shell/view",["require","exports","tslib","dcgview","jquery","lib/i18n","shared-header/hamburger","shared-header/accounts","shared-header/header-toast","./header-icon","./graph-title","../shared-components/tooltip","frontpage/desmos-svg-logo","loadcss!shared-header/header-bar","loadcss!./calculator-shell","loadcss!spinner"],function(e,t,r,n,o,i,a,s,c,l,u,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderBar=void 0;var h,f=n.Components.If;h=n.Class,r.__extends(g,h),g.prototype.init=function(){this.controller=this.props.controller(),this.userController=this.controller.userController},g.prototype.template=function(){var e=this,t=this.controller.isInMaintenanceMode(),r=this.controller.getPreviewParams();return n.createElement("div",{class:n.const("dcg-header")},n.createElement("div",{class:n.const("dcg-header-desktop")},n.createElement("div",{class:n.const("align-left-container")},n.createElement(a.Hamburger,{controller:this.props.controller,tooltip:n.const(!0)}),n.createElement(u.GraphTitle,{controller:this.props.controller})),n.createElement("div",{class:n.const("align-center-container")},n.createElement("a",{href:n.const("/"),target:n.const("_blank"),class:n.const("dcg-home-link")},n.createElement(p.DesmosSVGLogo,null))),n.createElement(c.HeaderToast,{controller:this.props.controller}),n.createElement(f,{predicate:function(){return e.userController.didLogoutFail()}},function(){return n.createElement("div",{class:n.const("dcg-toast-container")},n.createElement("div",{class:n.const("dcg-toast")},function(){return e.controller.s("account-shell-error-logging-out")}))}),n.createElement("div",{class:n.const("align-right-container")},n.createElement(s.Accounts,{controller:this.props.controller,disableAccounts:function(){return null!=r||t}}),n.createElement(f,{predicate:function(){return e.controller.isArtContestEnabled()}},function(){return n.createElement(d.Tooltip,{tooltip:function(){return i.s("account-shell-label-math-art-contest")},gravity:e.const("s"),offset:function(){return{top:12}}},n.createElement("span",{role:n.const("button"),tabindex:n.const(0),"aria-haspopup":n.const("true"),"aria-label":function(){return i.s("account-shell-label-math-art-contest")},class:n.const("dcg-header-btn dcg-action-contest dcg-tooltip"),onTap:function(t){return e.controller.dispatch({type:"show-modal",modal:"contest-submission",device:t.device})}},n.const("")))}),n.createElement(l.HeaderIcon,{controller:this.props.controller,label:function(){return i.s("account-shell-label-share")},tooltip:function(){return e.controller.s("account-shell-label-share-graph")},icon:n.const("dcg-icon-share"),name:function(){return"share"},onTap:function(t){if(e.controller.dispatch({type:"toggle-menu",payload:"share"}),t&&"keyboard"===t.device&&"share"!==e.controller.getOpenMenu())return e.focusElement(".dcg-action-share")}}),n.createElement(l.HeaderIcon,{controller:this.props.controller,label:function(){return i.s("account-shell-label-help")},tooltip:function(){return e.controller.s("account-shell-label-help")},icon:n.const("dcg-icon-question-sign"),name:n.const("help"),onTap:function(t){if(e.controller.dispatch({type:"toggle-menu",payload:"help"}),"keyboard"===t.device)return t="help"===e.controller.getOpenMenu()?'.dcg-feature[href="/calculator?tour=sliders"]':".dcg-action-help",e.focusElement(t)}}),n.createElement(l.HeaderIcon,{controller:this.props.controller,gravity:this.const("sw"),label:function(){return i.s("account-shell-label-language")},tooltip:function(){return e.controller.s("account-shell-label-language")},icon:n.const("dcg-icon-world"),name:n.const("language"),onTap:function(t){if(e.controller.dispatch({type:"toggle-menu",payload:"language"}),"keyboard"===t.device)return t="language"===e.controller.getOpenMenu()?".dcg-language-option.dcg-selected":".dcg-action-language",e.focusElement(t)}}))),n.createElement(f,{predicate:function(){return null!=r||t}},function(){return n.createElement("div",{class:n.const("dcg-toast-container")},n.createElement("span",{class:n.const("dcg-toast dcg-maintenance-toast")},n.createElement("span",{class:n.const("dcg-msg")},n.createElement(f,{predicate:function(){return t}},function(){return n.createElement("span",null,function(){return e.controller.s("account-shell-text-maintenance-mode")})}),n.createElement(f,{predicate:function(){return null!=r}},function(){return n.createElement("span",null,function(){return null!=r?r.message:void 0})})),n.createElement(f,{predicate:function(){return t}},function(){return n.createElement("a",{class:n.const("undo"),target:n.const("_blank"),href:n.const("http://desmos.zendesk.com/entries/25429616-What-is-Maintenance-Mode-/")},function(){return e.controller.s("account-shell-link-learn-more")})}),n.createElement(f,{predicate:function(){return null!=r}},function(){return n.createElement("a",{class:n.const("undo"),target:n.const("_blank"),href:function(){return null!=r?r.url:void 0}},function(){return e.controller.s("account-shell-link-share-thoughts")})})))}))},g.prototype.focusElement=function(e){o(e).trigger("focus")},r=g;function g(){return null!==h&&h.apply(this,arguments)||this}t.HeaderBar=r}),define("calculator-shell/menu",["require","exports","tslib","dcgview","jquery"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Menu=void 0;var i,a=n.Components.If;i=n.Class,r.__extends(s,i),s.prototype.init=function(){this.controller=this.props.controller()},s.prototype.template=function(){var e=this;return n.createElement("div",{class:function(){var t;return(t={"dcg-popover":!0,"dcg-bottom":!0,"dcg-constrained-height-popover":!0})["dcg-"+e.props.type()+"-container"]=!0,t["dcg-product-"+e.props.controller().getProduct()]=!0,t},style:function(){return e.props.left?{display:"block",left:e.props.left(),right:"auto"}:{display:"block"}},role:n.const("complementary"),label:function(){return e.props.label()}},n.createElement("div",{class:n.const("dcg-popover-interior")},n.createElement(a,{predicate:function(){return!("function"!=typeof e.props.title||!e.props.title())}},function(){return n.createElement("div",{class:n.const("dcg-popover-title")},function(){return e.props.title()})}),this.children),n.createElement("div",{class:n.const("dcg-arrow"),style:function(){return e.props.arrowLeft?{left:e.props.arrowLeft(),right:"auto"}:{}}}))},s.prototype.didMount=function(){var e=this,t=this.props.type();this.guid="menu-"+t,o("body").on("dcg-tapstart."+this.guid,function(r){r=!!(n=o(r.target)).closest(".dcg-popover").length;var n=!!n.closest("[dcg-menu-button="+t+"]").length;r||n||e.controller.dispatch({type:"toggle-menu",payload:"none"})})},s.prototype.didUnmount=function(){o("body").off("dcg-tapstart."+this.guid)},r=s;function s(){return null!==i&&i.apply(this,arguments)||this}t.Menu=r}),define("loadcss!shared-components/language-picker",function(){}),define("loadcss!shared-components/btn-styles",function(){}),define("shared-components/language-picker",["require","exports","tslib","dcgview","loadcss!./language-picker","loadcss!./btn-styles"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LanguagePicker=void 0;var o,i=n.Components,a=i.For,s=i.If;o=n.Class,r.__extends(c,o),c.prototype.init=function(){this.i18n=this.props.i18n()},c.prototype.template=function(){var e=this;return n.createElement("div",{class:function(){return{"dcg-language-picker":!0,"dcg-two-columns":7<e.getLanguages().length}}},n.createElement("div",{class:n.const("dcg-language-header"),role:n.const("heading"),"aria-level":n.const("2")},function(){return e.i18n.s("shared-title-language-menu")}),n.createElement(a,{each:function(){return e.getLanguages()}},n.createElement("div",{class:n.const("dcg-languages-list"),role:n.const("list")},function(t){return n.createElement("div",{class:n.const("dcg-listitem"),role:n.const("listitem")},n.createElement("div",{class:function(){return{"dcg-language-option":!0,"dcg-selected":e.isLanguageSelected(t)}},lang:e.const(e.getLangCode(t)),role:n.const("link"),tabindex:n.const("0"),"aria-current":function(){return e.isLanguageSelected(t)},onTap:function(){return e.updateLang(t)}},function(){return e.i18n.raw(e.getLanguageDisplayName(t))}))})),n.createElement(s,{predicate:function(){return e.shouldShowFooterLink()}},function(){return n.createElement("a",{class:n.const("dcg-language-footer-link dcg-shared-blue-link"),href:function(){return e.getFooterLinkURL()}},function(){return e.getFooterLinkText()})}))},c.prototype.shouldShowFooterLink=function(){return!(!this.props.footerLink||!this.props.footerLink())},c.prototype.getFooterLinkURL=function(){var e=this.props.footerLink&&this.props.footerLink();if(e)return e.url},c.prototype.getFooterLinkText=function(){var e=this.props.footerLink&&this.props.footerLink();return e?e.text:this.i18n.raw("")},c.prototype.getCurrentLang=function(){return this.props.currentLang()},c.prototype.getLanguages=function(){return Object.keys(this.props.getAllLangs())},c.prototype.getLanguageDisplayName=function(e){return this.props.getAllLangs()[e].display_name},c.prototype.updateLang=function(e){return e=this.props.getAllLangs()[e].code,this.props.onLangChosen(e)},c.prototype.getLangCode=function(e){return this.props.getAllLangs()[e].code},c.prototype.isLanguageSelected=function(e){return this.getLangCode(e)===this.getCurrentLang()},r=c;function c(){return null!==o&&o.apply(this,arguments)||this}t.LanguagePicker=r}),define("loadcss!calculator-shell/language",function(){}),define("calculator-shell/language-menu",["require","exports","tslib","dcgview","./menu","shared-components/language-picker","../lib/enabled-languages","loadcss!./language"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageMenu=void 0;var s,c=a.buildSupportedLanguagesMap();s=n.Class,r.__extends(l,s),l.prototype.init=function(){this.controller=this.props.controller(),this.languageController=this.controller.languageController},l.prototype.template=function(){var e=this;return n.createElement(o.Menu,{type:function(){return"language"},label:function(){return e.controller.s("account-shell-narration-language-menu")},controller:this.props.controller},n.createElement("div",{class:n.const("dcg-popover-content")},n.createElement(i.LanguagePicker,{getAllLangs:function(){return c},currentLang:function(){return e.languageController.getLanguage()},onLangChosen:function(t){e.languageController.fetchAndSetLanguage(t),e.controller.dispatch({type:"toggle-menu",payload:"none"})},i18n:this.props.controller})))},r=l;function l(){return null!==s&&s.apply(this,arguments)||this}t.LanguageMenu=r}),define("core/math/conics",["require","numeric","core/math/distance","core/math/qr"],function(e){"use strict";var t=e("numeric"),r=e("core/math/distance"),n=e("core/math/qr");function o(e,t){return r.approx(1/n.conditionNumber(n.qr(e)),0,t)}var i={isLine:function(e,t,r,n,i,a){return o([[e,t,1],[r,n,1],[i,a,1]])},isCircle:function(e,t,r,n,i,a,s,c){return o([[e*e+t*t,e,t,1],[r*r+n*n,r,n,1],[i*i+a*a,i,a,1],[s*s+c*c,s,c,1]])},isConic:function(e,t,r,n,i,a,s,c,l,u,d,p){return o([[e*e,t*t,2*e*t,e,t,1],[r*r,n*n,2*r*n,r,n,1],[i*i,a*a,2*i*a,i,a,1],[s*s,c*c,2*s*c,s,c,1],[l*l,u*u,2*l*u,l,u,1],[d*d,p*p,2*d*p,d,p,1]])},conicQuadraticParameters:function(e,r,n,o,i,a,s,c,l,u){return{a:t.det([[r*r,2*e*r,e,r,1],[o*o,2*n*o,n,o,1],[a*a,2*i*a,i,a,1],[c*c,2*s*c,s,c,1],[u*u,2*l*u,l,u,1]]),b:t.det([[e*e,r*r,e,r,1],[n*n,o*o,n,o,1],[i*i,a*a,i,a,1],[s*s,c*c,s,c,1],[l*l,u*u,l,u,1]]),c:-t.det([[e*e,2*e*r,e,r,1],[n*n,2*n*o,n,o,1],[i*i,2*i*a,i,a,1],[s*s,2*s*c,s,c,1],[l*l,2*l*u,l,u,1]])}},classifyConic:function(e,t,r,n,a,s,c,l,u,d,p,h){return i.isLine(e,t,a,s,p,h)?"line":i.isCircle(e,t,r,n,u,d,p,h)?"circle":i.isConic(e,t,r,n,a,s,c,l,u,d,p,h)?o([[(d=i.conicQuadraticParameters(e,t,r,n,a,s,c,l,u,d)).a,d.b],[d.b,d.c]],20)?"parabola":d.b*d.b>d.a*d.c?"hyperbola":"ellipse":"none"},classifyBranchConic:function(e){var t;if(1===e.length&&4===e[0].length)return"line";for(var r=0;r<e.length;r++){var n=e[r],o=n.length;if(o<12)return"unknown";if("none"===(o=i.classifyConic(n[0],n[1],n[2*Math.floor(+o/12)],n[2*Math.floor(+o/12)+1],n[2*Math.floor(2*o/12)],n[2*Math.floor(2*o/12)+1],n[2*Math.floor(3*o/12)],n[2*Math.floor(3*o/12)+1],n[2*Math.floor(4*o/12)],n[2*Math.floor(4*o/12)+1],n[o-2],n[o-1])))return"none";if(t&&o!==t)return"none";t=o}return t}};return i}),define("predicates/common",["require","core/math/parser","core/math/conics","graphing-calc/models/expression","graphing-calc/models/list"],function(e){"use strict";var t=e("core/math/parser"),r=e("core/math/conics"),n=e("graphing-calc/models/expression"),o=e("graphing-calc/models/list");return{FOCUSED_EXP:function(e,t){return o.isItemSelected(e)&&"expression"===e.type},FOCUSED_OR_EMPTY_EXP:function(e,t){return!(!o.isItemSelected(e)||"expression"!==e.type)||"expression"===e.type&&n.isEmpty(e)},COMPLEX_EXP:function(e,t){return"expression"===e.type&&n.isGraphable(e)&&t&&t.branches[0]&&"line"!==r.classifyBranchConic(t.branches[0].segments)},TABLEABLE_EXP:function(e,t){return n.isGraphable(e)&&e.formula.is_tableable},EXP:function(e,t){return"expression"===e.type},GRAPHABLE_EXP:function(e,t){return n.isGraphable(e)},HAS_ERROR:function(e,t){return e.error&&("expression"!==e.type||!n.isEmpty(e))},DEPENDS_ON:function(e){return function(r,n){return!!r.latex&&0<=t.parse(r.latex).getDependencies().indexOf(e)}},DEFINES:function(e){return function(r,n){return!!r.latex&&0<=t.parse(r.latex).getExports().indexOf(e)}},HAS_N_DEPENDENCIES:function(e){return function(t,r){return"expression"===t.type&&t.formula&&t.formula.variables&&t.formula.variables.length>=e}},NONCONSTANT_LINE:function(e,t){return t&&"line"===r.classifyBranchConic(t.branches[0].segments)&&!isFinite(e.formula.constant_value)},RESTRICTED_LINE:function(e,t){return this.NONCONSTANT_LINE(e,t)&&this.RESTRICTED(e,t)},EXP_NOT_RESTRICTED_LINE:function(e,t){return this.EXP(e,t)&&!this.RESTRICTED_LINE(e,t)},PARABOLA:function(e,t){return t&&t.branches&&t.branches.some(function(e){return"parabola"===r.classifyBranchConic(e.segments)})},RESTRICTED:function(e,t){return!(!e||!e.latex||!e.latex.match(/\\left\\{(.+)\\right\\}/))},SHIFTED_PARABOLA:function(e,t){return!!this.PARABOLA(e,t)&&(0!==(t=t.branches[0].compiled.fn)(0)||1!==t(1))},EVALUATION:function(e,t){return e.formula&&e.formula.is_evaluable&&isFinite(e.formula.constant_value)},HAS_DEPENDENT_Y:function(e,t){return"y"===e.formula.assignment},SLIDER:function(e,t){return!!e.sliderExists&&!n.isGraphable(e)},ANIMATING_SLIDER:function(e,t){return e.sliderExists&&e.slider.isPlaying},SLID_SLIDER:function(e,t){return e.sliderExists&&!n.isGraphable(e)&&1!==n.getSliderValue(e)},TABLE:function(e,t){return"table"===e.type},REGRESSION:function(e,t){return e.formula&&e.formula.regression},HAS_DATA_COLUMN:function(e,t){if(!this.TABLE(e,t))return!1;for(var r=1;r<e.columnModels.length;r++)if(e.columnModels[r].discrete)return!0;return!1},HAS_FUNCTION_COLUMN:function(e,t){if(!this.TABLE(e,t))return!1;for(var r=1;r<e.columnModels.length;r++)if(!1===e.columnModels[r].discrete)return!0;return!1}}}),define("tours/base_tour",["require","pjs","jquery","../predicates/common","graphing-calc/models/abstract-item"],function(e){"use strict";var t=e("pjs"),r=e("jquery"),n=e("../predicates/common"),o=e("graphing-calc/models/abstract-item");return t(function(e){e.init=function(e){this.Calc=e,this.controller=this.Calc.controller},e.expressionsVisible=function(){return this.controller.isListVisible()},e.s=function(e,t){return this.controller.s(e,t)},e.requireExpressionsVisible=function(){return{position:"e",content:this.s("graphing-tours-label-require-expressions-visible"),sel:r(".dcg-show-expressions-tab"),delayBeforeEnter:400,delayBeforeExit:400}},e.resourcesOpen=function(){return r("body").hasClass("resources-open")},e.requireResourcesNotOpen=function(){return{position:"e",content:this.s("graphing-tours-label-require-resources-not-open"),sel:r(".dcg-action-opendrawer"),delayBeforeEnter:400,delayBeforeExit:400}},e.editListMode=function(){return this.controller.isInEditListMode()},e.requireNotEditListMode=function(){return{position:"s",content:this.s("graphing-tours-label-require-not-edit-list-mode"),sel:r(".dcg-action-toggle-edit")}},e.expressionCount=function(){return this.controller.getItemCount()},e.getExpSketch=function(e){return this.Calc.grapher.graphSketches[e.id]},e.getAvailableExp=function(e){return this.getMatchingExpSelector(n.FOCUSED_OR_EMPTY_EXP,e)||".dcg-new-math-div"},e.expList=function(){return r(this.Calc.rootElt).find(".dcg-exppanel")},e.getSelectorById=function(e){return this.controller.getItemSelectorById(e)},e.getModelById=function(e){return this.controller.getItemModel(e)},e.expMatches=function(e,t){if(!e)return!1;if("function"==typeof t)return t.call(n,e,this.getExpSketch(e));for(var r=0;r<t.length;r++)if(!t[r].call(n,e,this.getExpSketch(e)))return!1;return!0},e.getMatchingExpId=function(e,t){for(var r,n,i={},a=this.controller.getAllItemModels(),s=0;s<a.length;s++)r=a[s],"render"===o.getDisplayState(r)&&(i[r.id]=!0);for(n in t)delete i[n];if((t=this.controller.getSelectedItem())&&i[t.id]&&this.expMatches(t,e))return t.id;for(s=0;s<a.length;s++)if(i[(r=a[s]).id]&&this.expMatches(r,e))return r.id;return null},e.getMatchingExpSelector=function(e,t){return(t=this.getMatchingExpId(e,t))&&this.getSelectorById(t)},e.getMatchingExpModel=function(e,t){return(t=this.getMatchingExpId(e,t))&&this.getModelById(t)}})}),define("tours/sliders",["require","pjs","./base_tour","predicates/common"],function(e){"use strict";var t=e("pjs"),r=e("./base_tour"),n=e("predicates/common");return t(r,function(e,t){e.sliderHasSlid=!1,e.shouldPopup=function(){return!!this.getMatchingExpSelector(n.SLIDER)},e.update=function(){if(this.resourcesOpen())return this.requireResourcesNotOpen();if(!this.expressionsVisible())return this.requireExpressionsVisible();if(this.editListMode())return this.requireNotEditListMode();var e=this.getMatchingExpSelector(n.GRAPHABLE_EXP),t=this.getMatchingExpSelector(n.SLIDER),r=this.getMatchingExpSelector(n.ANIMATING_SLIDER),o=this.getMatchingExpSelector(n.SLID_SLIDER);return e&&r?{final:!0,position:"s",endingMsg:this.s("graphing-tours-label-sliders-pro"),sel:r.find(".dcg-circular-icon")}:e&&o?o.find(".dcg-depressed").length?{doNotUpdate:!0}:{position:"s",content:"<b>"+this.s("graphing-tours-label-sliders-hands-free")+"</b><br>"+this.s("graphing-tours-label-sliders-press-play"),sel:o.find(".dcg-circular-icon")}:e&&t?1===(e=t.find(".dcg-thumb .dcg-graphic")).length?{position:"s",content:this.s("graphing-tours-label-sliders-drag-handle"),sel:e}:{position:"e",content:this.s("graphing-tours-label-sliders-change-value"),sel:t}:(t=1<this.expressionCount()?this.getMatchingExpSelector(n.HAS_N_DEPENDENCIES(1)):this.getMatchingExpSelector(n.HAS_N_DEPENDENCIES(2)))?{position:"s",content:"<b>"+this.s("graphing-tours-label-awesome")+"</b> "+this.s("graphing-tours-label-sliders-add"),sel:t.find(".dcg-slider-btn-container:last .dcg-btn-blue")}:(t=this.getMatchingExpSelector(n.FOCUSED_OR_EMPTY_EXP))?{position:"e",content:"<b>"+this.s("graphing-tours-label-sliders-make-sliders")+"</b><br>"+this.s("graphing-tours-label-sliders-try-typing",{sample_expression:'<span class="trip-math">y=mx+b</span>'}),sel:t,delayBeforeExit:600}:{position:"e",content:this.s("graphing-tours-label-sliders-blank-expression"),sel:".dcg-action-newmath"}}})}),define("tours/scatter_plot",["require","pjs","jquery","./base_tour","predicates/common","graphing-calc/models/table"],function(e){"use strict";var t=e("pjs"),r=e("jquery"),n=e("./base_tour"),o=e("predicates/common"),i=e("graphing-calc/models/table");return t(n,function(e,t){e.shouldPopup=function(){return!!this.getMatchingExpSelector(o.TABLE)},e.update=function(){if(this.resourcesOpen())return this.requireResourcesNotOpen();if(!this.expressionsVisible())return this.requireExpressionsVisible();if(this.editListMode())return this.requireNotEditListMode();var e=this.getMatchingExpId(o.HAS_DATA_COLUMN),t=this.getSelectorById(e),n=this.getModelById(e);if(!t)return 0===(l=r(".dcg-action-newtable:visible")).length?{position:"e",content:"<b>"+this.s("graphing-tours-label-tables-start")+"</b><br>"+this.s("graphing-tours-label-new-item"),sel:r(".dcg-add-expression-btn")}:{position:"e",content:this.s("graphing-tours-label-tables-select-table"),sel:l,delayBeforeExit:300};e=n;for(var a,s,c,l=i.getSelectedCell(e),u=e.columnModels[0].cells.length,d=0,p=0;p<u&&p<3;p++){var h=t.find(".dcg-row:nth-of-type("+(p+2)+") .dcg-cell:nth-of-type(1)"),f=t.find(".dcg-row:nth-of-type("+(p+2)+") .dcg-cell:nth-of-type(2)");h.is(":not(.dcg-empty, .dcg-error)")&&f.is(":not(.dcg-empty, .dcg-error)")&&d++}if(3===d)return n=e.columnModels[1].points&&e.columnModels[1].lines,e=0<r(".dcg-table-column-menu").length,n&&!e?{final:!0,position:"e",endingMsg:this.s("graphing-tours-label-tables-whiz"),sel:t}:n?{position:"e",content:this.s("graphing-tours-label-tables-close-options"),sel:t}:e?{content:this.s("graphing-tours-label-tables-dots"),position:"e",sel:".dcg-toggle-switch:eq(1)"}:{content:["<b>"+this.s("graphing-tours-label-tables-last-trick")+"</b><br>",this.s("graphing-tours-label-tables-open-options")].join(""),position:"e",sel:t.find(".dcg-row:nth-of-type(1) .dcg-cell:nth-of-type(2) .dcg-circular-icon")};for(a=0;a<u;a++)for(s=0;s<2;s++)if((c=t.find(".dcg-row:nth-of-type("+(a+2)+") .dcg-cell:nth-of-type("+(s+1)+")")).is(".dcg-error"))return{position:"e",content:this.s("graphing-tours-label-tables-valid-number"),sel:c};if(!l)return{position:"e",content:this.s("graphing-tours-label-tables-back"),sel:t.find(".dcg-row:nth-of-type("+a+") .dcg-cell:nth-of-type(2)")};if(2===u&&1===d&&l&&1===l.row)return{position:"e",content:this.s("graphing-tours-label-tables-next-row"),sel:t.find(".dcg-row:nth-of-type("+(l.row+1)+") .dcg-cell:nth-of-type(2)")};if(3===u&&2===d&&l&&3!==l.row)return{position:"e",content:"<b>"+this.s("graphing-tours-label-awesome")+"</b><br>"+this.s("graphing-tours-label-tables-enter"),sel:t.find(".dcg-row:nth-of-type("+(l.row+1)+") .dcg-cell:nth-of-type(2)")};for(a=0;a<u;a++)for(s=0;s<2;s++)if((c=t.find(".dcg-row:nth-of-type("+(a+2)+") .dcg-cell:nth-of-type("+(s+1)+")")).is(".dcg-empty")){var g=this.s("graphing-tours-label-tables-fill-row");return 2===a&&1===s&&(g=this.s("graphing-tours-label-tables-fill-another")),0===a&&1===s&&(g="<b>"+this.s("graphing-tours-label-tables-fill-cell")+"</b><br>"+this.s("graphing-tours-label-tables-type-number")),{position:"e",content:g,sel:t.find(".dcg-row:nth-of-type("+(a+2)+") .dcg-cell:nth-of-type(2)")}}}})}),define("tours/function_table",["require","pjs","./base_tour","jquery","predicates/common","graphing-calc/models/table"],function(e){"use strict";var t=e("pjs"),r=e("./base_tour"),n=e("jquery"),o=e("predicates/common"),i=e("graphing-calc/models/table");return t(r,function(e,t){e.shouldPopup=function(){return!!this.getMatchingExpSelector(o.TABLE)},e.update=function(){if(this.resourcesOpen())return this.requireResourcesNotOpen();if(!this.expressionsVisible())return this.requireExpressionsVisible();var e=this.getMatchingExpId(o.HAS_FUNCTION_COLUMN),t=this.getSelectorById(e),r=this.getModelById(e),a=this.getMatchingExpSelector(o.FOCUSED_OR_EMPTY_EXP),s=this.getMatchingExpSelector([o.COMPLEX_EXP,o.TABLEABLE_EXP]);if(t){var c="POINTS"===(l=r).columnModels[1].columnMode,l=(e=0<n(".dcg-table-column-menu").length,r=3<l.columnModels.length&&!1===l.columnModels[2].discrete,i.getSelectedCell(l));return r?{final:!0,position:"e",endingMsg:this.s("graphing-tours-label-advanced-tables-wizard"),sel:t}:l&&0===l.row&&2===l.column?{position:"e",content:this.s("graphing-tours-label-advanced-tables-type-function",{sample_expression:'<span class="trip-math">cos\\left(x\\right)</span>'}),sel:t.find("tr:nth-of-type(1) .dcg-cell:nth-of-type(3)")}:!l||0===l.row&&2===l.column?c&&!l?{position:"e",content:this.s("graphing-tours-label-advanced-tables-continue"),sel:t.find("tr:nth-of-type(1) .dcg-cell:nth-of-type(2)")}:e?{content:this.s("graphing-tours-label-advanced-tables-dots"),position:"e",sel:".dcg-table-points"}:{content:this.s("graphing-tours-label-advanced-tables-options"),position:"e",sel:t.find("tr:nth-of-type(1) .dcg-cell:nth-of-type(2) .dcg-circular-icon")}:{position:"e",content:this.s("graphing-tours-label-advanced-tables-new-column"),sel:t.find("tr:nth-of-type(1) .dcg-cell:nth-of-type(3)")}}return s?this.editListMode()?{position:"e",content:this.s("graphing-tours-label-advanced-tables-create"),sel:".dcg-action-createtable",delayBeforeExit:400}:{position:"s",content:"<b>"+this.s("graphing-tours-label-advanced-tables-convert")+"</b><br>"+this.s("graphing-tours-label-advanced-tables-edit-list"),sel:".dcg-action-toggle-edit"}:a?{position:"e",content:["<b>"+this.s("graphing-tours-label-advanced-tables-graph")+"</b><br>",this.s("graphing-tours-label-advanced-tables-type-function",{sample_expression:'<span class="trip-math">y=sin\\left(x\\right)</span>'})].join(""),sel:a}:{position:"e",content:this.s("graphing-tours-label-advanced-tables-start"),sel:".dcg-new-math-div"}}})}),define("tours/restrictions",["require","pjs","./base_tour","predicates/common"],function(e){"use strict";var t=e("pjs"),r=e("./base_tour"),n=e("predicates/common");return t(r,function(e){e.shouldPopup=function(){return!!this.getMatchingExpSelector(n.RESTRICTED)},e.restrictedLineTour=function(){if(this.resourcesOpen())return this.requireResourcesNotOpen();if(!this.expressionsVisible())return this.requireExpressionsVisible();var e=this.getMatchingExpSelector(n.RESTRICTED_LINE),t=this.getMatchingExpSelector(n.EXP_NOT_RESTRICTED_LINE);if(e)return t?(this.phaseOn++,this.update()):{position:"e",content:"<b>"+this.s("graphing-tours-label-brilliant")+"</b><br>"+this.s("graphing-tours-label-restrictions-new-expression"),sel:".dcg-new-math-div"};var r=this.getMatchingExpId(n.FOCUSED_OR_EMPTY_EXP);e=this.getSelectorById(r),t=this.getModelById(r);return e?(r=this.expMatches(t,n.NONCONSTANT_LINE),this.expMatches(t,n.HAS_ERROR)?{doNotUpdate:!0}:r?{position:"e",content:["<b>"+this.s("graphing-tours-label-awesome")+"</b><br>",this.s("graphing-tours-label-restrictions-domain",{sample_expression:'<span class="trip-math">\\left\\{x<0\\right\\}</span>'}),"<br><i>"+this.s("graphing-tours-label-restrictions-abc",{buttons:"{ }"})+"</i>"].join(""),sel:e}:{position:"e",content:["<b>"+this.s("graphing-tours-label-restrictions-start")+"</b><br>",this.s("graphing-tours-label-restrictions-straight-line",{sample_expression:'<span class="trip-math">y=2x</span>'})].join(""),sel:e}):{position:"e",content:this.s("graphing-tours-label-restrictions-blank-expression"),sel:".dcg-new-math-div"}},e.restrictedParabolaTour=function(){if(this.resourcesOpen())return this.requireResourcesNotOpen();if(!this.expressionsVisible())return this.requireExpressionsVisible();if(this.getMatchingExpSelector([n.RESTRICTED,n.PARABOLA]))return{final:!0,position:"e",endingMsg:this.s("graphing-tours-label-restrictions-star"),sel:".dcg-exppanel-container"};var e=this.getMatchingExpId([n.EXP_NOT_RESTRICTED_LINE,n.FOCUSED_EXP]),t=this.getSelectorById(e),r=this.getModelById(e);if(t){var o=this.expMatches(r,[n.PARABOLA,n.HAS_DEPENDENT_Y]),i=this.expMatches(r,n.SHIFTED_PARABOLA);e=this.expMatches(r,n.PARABOLA);return this.expMatches(r,n.HAS_ERROR)?{doNotUpdate:!0}:e?o?i?{position:"e",content:["<b>"+this.s("graphing-tours-label-nice")+"</b><br>"+this.s("graphing-tours-label-restrictions-range",{sample_expression:'<span class="trip-math">\\left\\{y<4\\right\\}</span>'})].join(""),sel:t}:{position:"e",content:["<b>"+this.s("graphing-tours-label-restrictions-move-parabola")+"</b><br>",this.s("graphing-tours-label-restrictions-change-equation",{sample_expression:'<span class="trip-math">y=x^2-2</span>'})].join(""),sel:t}:{position:"e",content:["<b>"+this.s("graphing-tours-label-restrictions-dont-forget")+"</b><br>",this.s("graphing-tours-label-restrictions-type-all",{sample_expression:'<span class="trip-math">y=x^2</span>'})].join(""),sel:t}:{position:"e",content:[this.s("graphing-tours-label-restrictions-graph-parabola",{sample_expression:'<span class="trip-math">y=x^2</span>'})+"<br><i>"+this.s("graphing-tours-label-restrictions-typing-hint",{suggestion1:"y=x^2",suggestion2:'<span class="trip-math">a^2</span>'})+"</i>"].join(""),sel:t}}return{position:"e",content:this.s("graphing-tours-label-restrictions-blank-expression"),sel:".dcg-new-math-div"}},e.phaseOn=0,e.phases=[e.restrictedLineTour,e.restrictedParabolaTour],e.update=function(){return this.phases[this.phaseOn].call(this)}})}),define("loadcss!regression-tour",function(){}),define("tours/regressions",["require","pjs","jquery","./base_tour","loadcss!regression-tour","browser","predicates/common"],function(e){"use strict";var t=e("pjs"),r=e("jquery"),n=e("./base_tour");e("loadcss!regression-tour");var o=e("browser"),i=e("predicates/common");return t(n,function(e,t){e.shouldPopup=function(){return!!this.getMatchingExpSelector(i.TABLE)},e.hasCreatedLinearRegression=!1,e.hasInitiallyRenderedSampleDataLink=!1,e.update=function(){if(this.resourcesOpen())return this.requireResourcesNotOpen();if(!this.expressionsVisible())return this.requireExpressionsVisible();if(this.editListMode())return this.requireNotEditListMode();var e=this.getMatchingExpId(i.REGRESSION)||this.getMatchingExpId(i.EXP),t=this.getSelectorById(e),n=this.getModelById(e),a=this.getMatchingExpId(i.HAS_DATA_COLUMN),s=this.getSelectorById(a);e=this.getModelById(a);if(!s||!e.columnModels[1])return a=r(".dcg-action-newtable:visible"),e=!o.IS_IPAD&&!o.IS_MOBILE,0===a.length&&e?this.hasInitiallyRenderedSampleDataLink?{doNotUpdate:!0}:(this.hasInitiallyRenderedSampleDataLink=!0,{position:"e",content:'<div class="trip-title">'+this.s("graphing-tours-label-regressions-data")+"</div>"+this.s("graphing-tours-label-regressions-docs",{sample_data_link:'<a class="trip-link" target="_blank" href="https://docs.google.com/spreadsheets/d/1h4kYwWka_1PvI5G-hPYz_QBe1FrYLo9Gb1XvxJz-QYE/edit#gid=0">'+this.s("graphing-tours-label-regressions-sample-data")+"</a>"})+' <div class="trip-hint"><br>'+this.s("graphing-tours-label-regressions-own-data",{plus_icon:'<i class="dcg-icon-plus" aria-hidden="true"></i>'})+"</div>",sel:t||r(".dcg-exppanel")}):0===a.length?{position:"e",content:'<div class="trip-title">'+this.s("graphing-tours-label-regressions-data-2")+"</div>"+this.s("graphing-tours-label-new-item"),sel:r(".dcg-add-expression-btn"),delayBeforeExit:150}:{position:"e",content:this.s("graphing-tours-label-regressions-new-table"),sel:a,delayBeforeExit:250};if(s.find(".dcg-row .dcg-cell:nth-of-type(2):not(.dcg-table-header):not(.dcg-empty)").length<5)return{position:"e",content:'<div class="trip-title">'+this.s("graphing-tours-label-regressions-fill-sample-data")+"</div><table class='dcg-regression-tour-table'><tr><td><span class='trip-math'>x_1</span></td><td><span class='trip-math'>y_1</span></td></tr><tr><td>1</td><td>0.8</td></tr><tr><td>2</td><td>2.7</td></tr><tr><td>3</td><td>3.9</td></tr><tr><td>4</td><td>4.6</td></tr><tr><td>5</td><td>5</td></tr></table>",sel:s.find(".dcg-row:nth-of-type(2) .dcg-cell:nth-of-type(2)")};if("expression"!==(this.getMatchingExpModel(i.REGRESSION)||this.getMatchingExpModel(i.FOCUSED_EXP)||this.controller.getItemModelByIndex(0)).type){var c=r(".dcg-action-newexpression:visible");return 0===c.length?{position:"e",content:'<div class="trip-title">'+this.s("graphing-tours-label-awesome")+"</div>"+this.s("graphing-tours-label-new-item"),sel:r(".dcg-add-expression-btn"),delayBeforeExit:150}:{position:"e",content:this.s("graphing-tours-label-regressions-expression-option"),sel:c,delayBeforeExit:150}}return n=(c=(s=n.formula)?s.regression:void 0)?c.statistics:void 0,s=c?c.parameters:void 0,n&&n.r&&(this.hasCreatedLinearRegression=!0),this.hasCreatedLinearRegression?(c=r(".dcg-residual-suggestion")).length?{position:"e",content:"<div class='trip-title'>"+this.s("graphing-tours-label-regressions-check-model")+"</div>"+this.s("graphing-tours-label-regressions-residuals"),sel:c,delayBeforeExit:250}:n&&(.99<=n.Rsquared||.99<=n.r||s&&s.a&&s.k&&s.h)?{final:!0,position:"e",endingMsg:"<div class='trip-title'>"+this.s("graphing-tours-label-regressions-keep-exploring")+"</div>",sel:r(".dcg-exppanel")}:{position:"e",content:"<div class='trip-title'>"+this.s("graphing-tours-label-regressions-new-model")+"</div>"+this.s("graphing-tours-label-regressions-better-fit",{equation:"<span class='trip-math'>y_1~a(x_1-h)^2+b</span>"}),sel:t,delayBeforeExit:300}:{position:"e",content:this.s("graphing-tours-label-regressions-equation",{equation:"<span class='trip-math'>y_1\\sim mx_1+b</span>"})+"<div class='trip-hint'>"+this.s("graphing-tours-label-regressions-hint-1",{y_1:"<span class='trip-math'>y_1</span>",y1:"<span class='trip-math'>y1</span>"})+"</div><div class='trip-hint'>"+this.s("graphing-tours-label-regressions-hint-2",{twiddle:"<span class='trip-math'>~</span>"})+"</div>",sel:t,delayBeforeExit:150}}})}),define("tours/list_predicates",["require","predicates/common","core/math/parser","graphing-calc/models/expression"],function(e){"use strict";var t=e("predicates/common"),r=e("core/math/parser"),n=e("graphing-calc/models/expression");return{ANY_LIST:(e=function(e){return function(t,o){if(!t.latex)return!1;var i=r.parse(t.latex);return!!i._expression&&(("List"===i._expression.type||"Range"===i._expression.type)&&((!e.dependent||e.dependent===n.getAssignment(t))&&(i=i.getConcreteTree(),!e.minLength||!(void 0===i.length||i.length<e.minLength))))}})({}),A_LIST:e({dependent:"a",minLength:3}),B_LIST:e({dependent:"b",minLength:5}),C_LIST:e({dependent:"c",minLength:10}),A_DEP:function(e,r){return t.GRAPHABLE_EXP(e,r)&&t.DEPENDS_ON("a")(e,r)},B_DEP:function(e,r){return t.GRAPHABLE_EXP(e,r)&&t.DEPENDS_ON("b")(e,r)},C_DEP:function(e,r){return t.DEPENDS_ON("c")(e,r)&&t.EVALUATION(e,r)}}}),define("tours/lists",["require","pjs","./base_tour","./list_predicates"],function(e){"use strict";var t=e("pjs"),r=e("./base_tour"),n=e("./list_predicates");return t(r,function(e,t){e.shouldPopup=function(){return!!this.getMatchingExpSelector(n.ANY_LIST)},e.update=function(){if(this.resourcesOpen())return this.requireResourcesNotOpen();if(!this.expressionsVisible())return this.requireExpressionsVisible();if(this.editListMode())return this.requireNotEditListMode();var e=this.getMatchingExpId(n.A_LIST),t=this.getMatchingExpId(n.B_LIST),r=this.getMatchingExpId(n.C_LIST),o=this.getMatchingExpId(n.A_DEP),i=this.getMatchingExpId(n.B_DEP),a=this.getMatchingExpSelector(n.C_DEP);return e?o?t?r?i?a?{final:!0,position:"e",endingMsg:this.s("graphing-tours-label-great-job"),sel:a.find(".dcg-evaluation"),scrollContainer:this.expList()}:{position:"e",content:"<b>"+this.s("graphing-tours-label-last-thing")+"</b> "+this.s("graphing-tours-label-list-computation",{equation:"<span class='trip-math'>total\\left(c\\right)</span>"})+"<div class='trip-hint'>",sel:this.getAvailableExp([e,t,o,r,i]),scrollContainer:this.expList(),delayBeforeExit:600}:{position:"e",content:"<b>"+this.s("graphing-tours-label-lists-graph-points")+"</b> "+this.s("graphing-tours-label-lists-point-equation",{equation:"<span class='trip-math'>\\left(b, sin\\left(b\\right)\\right)</span>"})+"<div class='trip-hint'>"+this.s("graphing-tours-label-lists-hint-plot-points")+"</div>",sel:this.getAvailableExp([e,t,o,r]),scrollContainer:this.expList()}:{position:"e",content:this.s("graphing-tours-label-lists-count-by",{equation:"<span class='trip-math'>c=\\left[10, 15, ..., 95\\right]</span>"}),sel:this.getAvailableExp([e,t,o]),scrollContainer:this.expList(),delayBeforeExit:600}:{position:"e",content:"<b>"+this.s("graphing-tours-label-awesome")+"</b> "+this.s("graphing-tours-label-lists-create-range",{equation:"<span class='trip-math'>b=\\left[0...8\\right]</span>"}),sel:this.getAvailableExp([e,o]),scrollContainer:this.expList(),delayBeforeExit:600}:{position:"e",content:"<b>"+this.s("graphing-tours-label-lists-put-to-work")+"</b> "+this.s("graphing-tours-label-lists-graph-equation",{equation:"<span class='trip-math'>y=x^2+a</span>"})+"<div class='trip-hint'>"+this.s("graphing-tours-label-lists-hint-superscript",{suggestion1:"y=x^2+a",suggestion2:"a<sup>2</sup>"})+"</div>",sel:this.getAvailableExp([e]),scrollContainer:this.expList()}:{position:"e",content:"<b>"+this.s("graphing-tours-label-lists-are-powerful")+"</b><br>"+this.s("graphing-tours-label-lists-begin-equation",{equation:"<span class='trip-math'>a=\\left[1,2,3\\right]</span>"})+"<div class='trip-hint'>"+this.s("graphing-tours-label-lists-hint-abc"),sel:this.getAvailableExp(),scrollContainer:this.expList(),delayBeforeExit:600}}})}),define("tours/folders",["require","pjs","./base_tour","jquery","graphing-calc/models/expression"],function(e){"use strict";function t(e,t){return"folder"==e.type}function r(e,t){return a.isGraphable(e)&&!e.folderId}var n=e("pjs"),o=e("./base_tour"),i=e("jquery"),a=e("graphing-calc/models/expression");return n(o,function(e,n){e.shouldPopup=function(){return!!this.getMatchingExpSelector(t)},e.update=function(){if(this.resourcesOpen())return this.requireResourcesNotOpen();if(!this.expressionsVisible())return this.requireExpressionsVisible();if(this.editListMode())return this.requireNotEditListMode();var e=this.getMatchingExpId(t),n=this.getSelectorById(e),o=this.getModelById(e);e=this.getMatchingExpSelector(r);return o?(this.cachedTitle!=o.title&&(this.cachedTitle=o.title,this.lastChange=new Date),!this.cachedTitle||new Date-this.lastChange<1e3?{position:"e",content:this.s("graphing-tours-label-folders-name"),sel:n}:0===o.controller.getNumberOfItemsInFolder(o.id)?e?{position:"e",content:this.s("graphing-tours-label-folders-grab")+"<div class='trip-hint'>"+this.s("graphing-tours-label-folders-indicator")+"</div>",scrollContainer:this.expList(),sel:e}:{position:"e",content:"<b>"+this.s("graphing-tours-label-awesome")+"</b> "+this.s("graphing-tours-label-folders-new-equation",{equation:"<span class='trip-math'>x+y=3</span>"}),scrollContainer:this.expList(),sel:this.getAvailableExp(),delayBeforeExit:500}:o.collapsed?o.hidden?{final:!0,position:"e",endingMsg:this.s("graphing-tours-label-great-job"),sel:".dcg-exppanel-container",scrollContainer:this.expList()}:{position:"s",content:"<b>"+this.s("graphing-tours-label-folders-did-you-know")+"</b>"+this.s("graphing-tours-label-folders-hide"),scrollContainer:this.expList(),sel:n.find(".dcg-circular-icon")}:{position:"e",content:"<b>"+this.s("graphing-tours-label-folders-great-start")+"</b> "+this.s("graphing-tours-label-folders-collapse"),scrollContainer:this.expList(),sel:n.find(".dcg-caret-container")}):0===(n=i(".dcg-action-newfolder:visible")).length?{position:"e",content:"<b>"+this.s("graphing-tours-label-folders-start")+"</b><br>"+this.s("graphing-tours-label-new-item"),sel:i(".dcg-add-expression-btn")}:{position:"e",content:this.s("graphing-tours-label-folders-option"),sel:n}}})}),define("tours/derivatives_predicates",["require","predicates/common"],function(e){"use strict";function t(e,t){return 0<=e.latex.indexOf("\\frac{d}{dx}")}var r=e("predicates/common");return{DEFINE_F:function(e,t){return!!r.DEFINES("f")(e,t)&&!!r.COMPLEX_EXP(e,t)},DEFINE_G:function(e,n){return!!r.DEFINES("g")(e,n)&&!!r.DEPENDS_ON("f")(e,n)&&!!r.GRAPHABLE_EXP(e,n)&&t(e)},INLINE_DERIVATIVE:function(e,n){return!!r.COMPLEX_EXP(e,n)&&!r.DEPENDS_ON("f")(e,n)&&t(e)}}}),define("tours/derivatives",["require","pjs","./base_tour","./derivatives_predicates"],function(e){"use strict";var t=e("pjs"),r=e("./base_tour"),n=e("./derivatives_predicates");return t(r,function(e,t){e.shouldPopup=function(){return!1},e.update=function(){if(this.resourcesOpen())return this.requireResourcesNotOpen();if(!this.expressionsVisible())return this.requireExpressionsVisible();if(this.editListMode())return this.requireNotEditListMode();var e=this.getMatchingExpId(n.DEFINE_F),t=this.getMatchingExpId(n.DEFINE_G),r=this.getMatchingExpSelector(n.INLINE_DERIVATIVE);return e?t?r?{final:!0,position:"e",endingMsg:this.s("graphing-tours-label-great-job"),sel:r,scrollContainer:this.expList()}:{position:"e",content:this.s("graphing-tours-label-derivative-one-more",{equation:"<span class='trip-math'>\\frac{d}{dx}\\ln \\left(x\\right)</span>"}),sel:this.getAvailableExp([e,t]),scrollContainer:this.expList()}:{position:"e",content:this.s("graphing-tours-label-derivative-graph-derivative",{equation:"<span class='trip-math'>g\\left(x\\right)=\\frac{d}{dx}f\\left(x\\right)</span>"})+"<div class='trip-hint'>"+this.s("graphing-tours-label-derivative-hint-type-derivative")+"</div>",sel:this.getAvailableExp([e]),scrollContainer:this.expList()}:{position:"e",content:"<b>"+this.s("graphing-tours-label-derivative-start-graph")+"</b><br>"+this.s("graphing-tours-label-derivative-start-function",{equation:"<span class='trip-math'>f\\left(x\\right)=x\\sin \\left(x\\right)</span>"}),sel:this.getAvailableExp(),scrollContainer:this.expList()}}})}),define("tours/all_tours",["require","tours/sliders","tours/scatter_plot","tours/function_table","tours/restrictions","tours/regressions","tours/lists","tours/folders","tours/derivatives","underscore"],function(e){"use strict";var t=e("tours/sliders"),r=e("tours/scatter_plot"),n=e("tours/function_table");n={sliders:{tour:t,titleKey:"graphing-tours-heading-sliders"},tables:{tour:r,titleKey:"graphing-tours-heading-tables"},restrictions:{tour:e("tours/restrictions"),titleKey:"graphing-tours-heading-restrictions"},functiontable:{tour:n,hideInHelp:!0,titleKey:"graphing-tours-heading-advanced-tables"},regressions:{tour:e("tours/regressions"),titleKey:"graphing-tours-heading-regressions"},lists:{tour:e("tours/lists"),titleKey:"graphing-tours-heading-lists",hideInHelp:!0},folders:{tour:e("tours/folders"),titleKey:"graphing-tours-heading-folders",hideInHelp:!0},derivatives:{tour:e("tours/derivatives"),titleKey:"graphing-tours-heading-derivatives",hideInHelp:!0}};return e("underscore").each(n,function(e,t){e.name=t}),n}),define("calculator-shell/tour-links",["require","exports","tours/all_tours","tslib","dcgview","underscore"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TourLinks=void 0;var a,s,c=o.Components,l=c.For,u=c.If,d=(s=o.Class,n.__extends(h,s),h.prototype.init=function(){this.controller=this.props.controller(),this.tourController=this.controller.tourController},h.prototype.template=function(){var e=this;return o.createElement("a",{class:o.const("dcg-feature"),href:function(){return"/calculator?tour="+e.props.name()},target:o.const("_blank"),ignoreRealClick:function(){return!e.tourController.shouldPopupTour(e.props.name())},onTap:function(t){if(!e.tourController.shouldPopupTour(e.props.name()))return t.originalEvent.preventDefault(),e.controller.dispatch({type:"toggle-menu",payload:"none"}),e.controller.tourController.startTour(e.props.name(),"help")}},o.createElement("span",{class:function(){return"dcg-thumb dcg-"+e.props.name()}}),function(){return e.controller.s(e.props.titleKey())})},h);a=o.Class,n.__extends(p,a),p.prototype.template=function(){var e=this;return o.createElement(l,{each:function(){return i.keys(r)}},o.createElement("div",{class:o.const("dcg-popover-content dcg-tours-content"),role:o.const("group"),"aria-label":o.const("Tours")},function(t){return o.createElement(u,{predicate:function(){return!r[t].hideInHelp}},function(){return o.createElement(d,{name:function(){return null!=r[t]?r[t].name:void 0},titleKey:function(){return null!=r[t]?r[t].titleKey:void 0},controller:e.props.controller})})}))},n=p;function p(){return null!==a&&a.apply(this,arguments)||this}function h(){return null!==s&&s.apply(this,arguments)||this}t.TourLinks=n}),define("calculator-shell/resource-links",["require","exports","tslib","dcgview","../lib/enabled-languages"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceLinks=void 0;var i,a,s=(a=n.Class,r.__extends(l,a),l.prototype.template=function(){var e=this;return n.createElement("a",{href:function(){return e.props.href()},target:n.const("_blank"),class:n.const("dcg-resource-link")},n.createElement("i",{class:function(){return e.props.icon()},"aria-hidden":n.const("true")}),n.createElement("span",null,function(){return e.props.title()},n.const(" ")))},l);i=n.Class,r.__extends(c,i),c.prototype.init=function(){this.controller=this.props.controller()},c.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-popover-content dcg-resources-content"),role:n.const("group"),"aria-label":n.const("Resources")},n.createElement(s,{href:n.const("https://help.desmos.com/hc/en-us/articles/4406040715149-Getting-Started-Desmos-Graphing-Calculator"),icon:n.const("dcg-icon-rocket"),title:function(){return e.controller.s("account-shell-link-getting-started")}}),n.createElement(s,{href:n.const("https://www.youtube.com/playlist?list=PLfM6zMGnbgOGLZc-_Yj3QVK3Vz_L4Cw59"),icon:n.const("dcg-icon-film"),title:function(){return e.controller.s("account-shell-link-video-tutorials")}}),n.createElement(s,{href:function(){var t=e.controller.languageController.getLanguage();return(o.ENABLED_LANGUAGES[t]||o.ENABLED_LANGUAGES.en).userGuideURL},icon:n.const("dcg-icon-book"),title:function(){return e.controller.s("account-shell-link-user-guide")}}),n.createElement(s,{href:n.const("https://help.desmos.com/"),icon:n.const("dcg-icon-comments"),title:function(){return e.controller.s("account-shell-link-help-center")}}),n.createElement("div",{class:n.const("dcg-resource-link dcg-action-show-hotkeys"),role:n.const("link"),tabindex:n.const(0),onTap:function(t){return e.controller.dispatch({type:"show-modal",modal:"hotkeys",device:t.device})}},n.createElement("i",{class:n.const("dcg-icon-keyboard"),"aria-hidden":n.const("true")}),n.createElement("span",null,function(){return e.controller.s("account-shell-link-keyboard-shortcuts")})))},r=c;function c(){return null!==i&&i.apply(this,arguments)||this}function l(){return null!==a&&a.apply(this,arguments)||this}t.ResourceLinks=r}),define("main/calculator_backend",["require","exports","main/graph","./backend"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearRecoveryGraphsForTests=t.removeGraph=t.getRecoveryGraphs=t.getGraphs=t.emailFeedback=t.saveGraph=void 0,t.saveGraph=function(e,t){if(!t.hasOwnProperty("myGraphs"))throw new Error("Argument Error: saveGraph options must specify myGraphs");if(!t.hasOwnProperty("isUpdate"))throw new Error("Argument Error: saveGraph options must specify isUpdate");return t={parent_hash:e.parentHash,recovery_parent_hash:e.recoveryParentHash,thumb_data:e.thumbURL,graph_hash:e.hash,my_graphs:t.myGraphs,is_update:t.isUpdate,recovery:t.recovery,title:e.title||void 0,calc_state:e.graphData,lang:t.lang},n.post("/api/v1/calculator/save",t).then(function(t){return r.updateFromSync(e,t),e})},t.emailFeedback=function(e){return n.post("/api/v1/calculator/email_feedback",e)},t.getGraphs=function(e){return n.getJSON("/api/v1/calculator/my_graphs",e)},t.getRecoveryGraphs=function(e){return n.getJSON("/api/v1/calculator/recovery_graphs",e)},t.removeGraph=function(e){return n.post("/api/v1/calculator/my_graphs/remove",e)},t.clearRecoveryGraphsForTests=function(){return n.post("/api/v1/calculator/recovery_graphs/clear")}}),define("lib/parse-json-errors",["require","exports"],function(e,t){"use strict";function r(e){if(0===e.status)return[{message:"Connection failed. Check your internet connection?"}];try{return JSON.parse(e.responseText).errors}catch(e){return[{message:"Unexpected server error. Try again, or e-mail calculator@desmos.com."}]}}Object.defineProperty(t,"__esModule",{value:!0}),t.parseJSONErrors=t.rawParseJSONErrors=void 0,t.rawParseJSONErrors=r,t.parseJSONErrors=function(e){return r(e).map(function(e){return e.message})}}),define("calculator-shell/contact-form",["require","exports","main/calculator_backend","tslib","dcgview","jquery","lib/parse-json-errors"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContactForm=void 0;var s,c=o.Components,l=c.If,u=c.For,d=c.Input,p=c.Textarea;s=o.Class,n.__extends(h,s),h.prototype.init=function(){this.controller=this.props.controller(),this.userController=this.controller.userController,this.formErrors=[],this.feedbackInProgress=!1,this.feedbackFromName=this.userController.getEmail(),this.didSendFeedbackEmail=!1},h.prototype.template=function(){var e=this;return o.createElement("div",{class:o.const("dcg-suggestions")},o.createElement("div",{class:o.const("template-errors")},o.createElement(l,{predicate:function(){return!!e.formErrors.length}},function(){return o.createElement(u,{each:function(){return e.formErrors}},o.createElement("span",null,function(e){return o.createElement("div",{class:o.const("errors")},o.createElement("span",null,function(){return e}))}))})),o.createElement("form",{didMount:this.bindFn(this.didMountContactForm),class:o.const("dcg-action-submit")},o.createElement("div",{class:o.const("dcg-feedback-message-label")},function(){return e.controller.s("account-shell-label-feedback-message")}),o.createElement(p,{placeholder:function(){return e.controller.s("account-shell-label-feedback-placeholder")},didMount:this.bindFn(this.didMountTextArea),disabled:function(){return!e.shouldAllowSubmission()},class:o.const("dcg-shared-input-blue-outline"),name:o.const("message"),value:function(){return e.controller.getFeedbackMessage()},onInput:function(t){if(e.controller.setFeedbackMessage(t),!e.unmounted)return e.update()}}),o.createElement("div",{class:o.const("dcg-suggestions-expansion")},o.createElement("div",{class:o.const("dcg-feedback-email-label")},function(){return e.controller.s("account-shell-label-feedback-email")}),o.createElement(d,{name:o.const("anonymous-email"),class:o.const("dcg-anonymous-email dcg-shared-input-blue-outline"),placeholder:function(){return e.controller.s("account-shell-label-email-placeholder")},disabled:function(){return!e.shouldAllowSubmission()},type:o.const("email"),value:function(){return e.feedbackFromName},onInput:function(t){if(e.feedbackFromName=t,!e.unmounted)return e.update()}}),o.createElement("div",{class:o.const("dcg-feedback-action-container")},o.createElement(l,{predicate:function(){return e.feedbackInProgress}},function(){return o.createElement("div",{class:o.const("dcg-template-processing")},o.createElement("span",{class:o.const("dcg-spinner")}),function(){return e.controller.s("account-shell-label-feedback-sending")})}),o.createElement(l,{predicate:function(){return e.didSendFeedbackEmail}},function(){return o.createElement("div",{class:o.const("dcg-template-sent")},o.createElement("i",{class:o.const("dcg-icon-check"),"aria-hidden":o.const("true")}),function(){return e.controller.s("account-shell-text-feedback-sent")})}),o.createElement(l,{predicate:this.bindFn(this.shouldAllowSubmission)},function(){return o.createElement("span",{class:o.const("dcg-feedback-btns")},o.createElement("a",{role:o.const("link"),tabindex:o.const("0"),class:o.const("dcg-action-closesuggestion"),onTap:e.bindFn(e.onCancel)},function(){return e.controller.s("account-shell-button-cancel")}),o.createElement("button",{class:o.const("dcg-shared-btn-blue"),name:o.const("submit"),type:o.const("submit")},function(){return e.controller.s("account-shell-button-contact-us")}))})))))},h.prototype.didMountContactForm=function(e){var t=this;return i(e).on("submit",function(e){return e.preventDefault(),t.submitForm()})},h.prototype.didMountTextArea=function(e){this.unmounted||e.focus()},h.prototype.didUnmount=function(){this.unmounted=!0},h.prototype.shouldAllowSubmission=function(){return!this.feedbackInProgress&&!this.didSendFeedbackEmail},h.prototype.onCancel=function(){this.controller.setFeedbackMessage(""),this.controller.dispatch({type:"show-contact-form",showForm:!1})},h.prototype.submitForm=function(){var e=this;this.didSendFeedbackEmail=!1,this.feedbackInProgress=!0,this.formErrors=[];var t=i.trim(i('textarea[name="message"]').val());if(t.length||(this.formErrors=[this.controller.s("account-shell-error-feedback-empty")]),this.formErrors.length)return this.feedbackInProgress=!1,void(this.unmounted||this.update());t={message:t,state:JSON.stringify(this.controller.api.getState()),userAgent:navigator.userAgent,"anonymous-email":i('input[name="anonymous-email"]').val()},r.emailFeedback(t).done(function(){e.didSendFeedbackEmail=!0,e.controller.setFeedbackMessage(""),e.feedbackFromName=e.userController.getEmail(),setTimeout(function(){e.didSendFeedbackEmail=!1,e.unmounted||e.update()},2e3)}).fail(function(t){e.formErrors=a.parseJSONErrors(t).map(function(t){return e.controller.raw(t)})}).always(function(){e.feedbackInProgress=!1,e.unmounted||e.update()}),this.unmounted||this.update()},n=h;function h(){return null!==s&&s.apply(this,arguments)||this}t.ContactForm=n}),define("calculator-shell/contact-us",["require","exports","tslib","dcgview","./contact-form"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContactUs=void 0;var i,a=n.Components.IfElse;i=n.Class,r.__extends(s,i),s.prototype.handleClick=function(){this.props.controller().dispatch({type:"show-contact-form",showForm:!0})},s.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-popover-content dcg-hide-on-mobile"),role:n.const("group"),"aria-label":n.const("Feedback")},a(function(){return e.props.controller().requestedContactForm()},{true:function(){return n.createElement("div",{class:n.const("dcg-resources-content dcg-feedback-content")},n.createElement(o.ContactForm,{controller:e.props.controller}))},false:function(){return n.createElement("div",{class:n.const("dcg-contact-us")},n.createElement("a",{class:n.const("dcg-contact-link"),onTap:e.bindFn(e.handleClick)},n.createElement("i",{class:n.const("dcg-icon-mail"),"aria-hidden":n.const("true")}),n.createElement("span",null,function(){return e.props.controller().s("account-shell-link-email-support")})))}}))},r=s;function s(){return null!==i&&i.apply(this,arguments)||this}t.ContactUs=r}),define("loadcss!calculator-shell/help",function(){}),define("calculator-shell/help-menu",["require","exports","tslib","dcgview","./menu","./tour-links","./resource-links","./contact-us","loadcss!./help"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HelpMenu=void 0;var c;c=n.Class,r.__extends(l,c),l.prototype.init=function(){this.controller=this.props.controller()},l.prototype.template=function(){var e=this;return n.createElement(o.Menu,{title:function(){return e.controller.s("account-shell-heading-tours")},type:function(){return"help"},label:function(){return e.controller.s("account-shell-label-help-menu")},controller:this.props.controller},n.createElement(i.TourLinks,{controller:this.props.controller}),n.createElement("div",{class:n.const("dcg-popover-title"),"aria-hidden":n.const("true")},function(){return e.controller.s("account-shell-heading-resources")}),n.createElement(a.ResourceLinks,{controller:this.props.controller}),n.createElement("div",{class:n.const("dcg-popover-title dcg-interior-title dcg-hide-on-mobile"),"aria-hidden":n.const("true")},function(){return e.controller.s("account-shell-heading-contact-us")}),n.createElement(s.ContactUs,{controller:this.props.controller}))},r=l;function l(){return null!==c&&c.apply(this,arguments)||this}t.HelpMenu=r}),define("loadcss!lib/selectable-input",function(){}),define("lib/selectable-input",["require","exports","tslib","dcgview","browser","jquery","loadcss!./selectable-input"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectableInput=void 0;var a,s=n.Components,c=s.Input,l=s.Switch;a=n.Class,r.__extends(u,a),u.prototype.didUnmount=function(){this.unmounted=!0},u.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-selectable-input-container")},n.createElement(c,{class:this.const("dcg-permalink select-all dcg-variable-permalink"),"aria-label":function(){return e.props.controller().s("graphing-calculator-narration-share-graph-link")},name:function(){return e.props.controller().s("graphing-calculator-text-share-graph-link")},value:this.props.link,didMount:function(t){e.inputEl=t,o.IS_MOBILE||e.inputEl.focus()},onTap:function(){return e.inputEl.select()},onInput:function(){}}),n.createElement("div",{role:n.const("button"),tabindex:n.const(0),class:n.const("dcg-copy-button"),onTap:this.bindFn(this.copyLink)},n.createElement(l,{key:function(){return e.copyStatus}},function(t){return"success"==t?n.createElement("span",{"aria-label":function(){return e.props.controller().s("graphing-calculator-narration-share-graph-link-copied")}},n.createElement("i",{class:n.const("dcg-icon-check"),"aria-hidden":n.const("true")})):"error"==t?n.createElement("span",{"aria-label":function(){return e.props.controller().s("graphing-calculator-narration-share-graph-link-unable-to-copy")}},n.createElement("i",{class:n.const("dcg-icon-error"),"aria-hidden":n.const("true")})):n.createElement("span",{class:n.const("dcg-copy-text")},function(){return e.props.controller().s("graphing-calculator-button-share-graph-link-copy")})})))},u.prototype.copyLink=function(){var e=this;if(this.inputEl){i(this.inputEl).trigger("focus").trigger("select"),this.copyStatus="success";try{document.execCommand("copy")}catch(e){this.copyStatus="error"}this.unmounted||(this.update(),clearTimeout(this.copyStatusTimeout),this.copyStatusTimeout=setTimeout(function(){e.copyStatus=null,e.unmounted||e.update()},2500))}},r=u;function u(){var e=null!==a&&a.apply(this,arguments)||this;return e.unmounted=!1,e}t.SelectableInput=r}),define("loadcss!calculator-shell/share-menu",function(){}),define("calculator-shell/share-menu",["require","exports","main/calculator_backend","tslib","dcgview","jquery","lib/selectable-input","./menu","analytics/looker","shared/dcgviews/localize","loadcss!./share-menu"],function(e,t,r,n,o,i,a,s,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShareMenu=void 0;var u,d=o.Components,p=d.If,h=d.Textarea;u=o.Class,n.__extends(f,u),f.prototype.init=function(){this.controller=this.props.controller(),this.graphsController=this.controller.graphsController,this.graph=null,this.shareInProgress=!0,this.didSharingFail=!1,c.logJSON("user-action::open-share-dropdown",{})},f.prototype.template=function(){var e=this;return o.createElement(s.Menu,{title:function(){return e.controller.s("account-shell-heading-share-graph")},type:o.const("share"),label:function(){return e.controller.s("account-shell-narration-share-options")},controller:this.props.controller},o.createElement("div",{class:o.const("dcg-popover-content")},o.createElement(p,{predicate:function(){return e.shareInProgress}},function(){return o.createElement("div",{class:o.const("dcg-loading")},o.createElement("span",{class:o.const("dcg-spinner")}),function(){return e.controller.s("account-shell-label-loading")})}),o.createElement(p,{predicate:function(){return e.didSharingFail}},function(){return o.createElement("div",{class:o.const("dcg-failed")},o.createElement("span",{"aria-live":o.const("assertive"),"aria-atomic":o.const(!0)},function(){return e.controller.s("account-shell-error-sharing-link")+" "}),o.createElement("span",{role:o.const("button"),tabindex:o.const("0"),class:o.const("dcg-action-retry"),onTap:function(){return e.controller.dispatch({type:"toggle-menu",payload:"none"}),e.controller.dispatch({type:"toggle-menu",payload:"share"})}},function(){return e.controller.s("account-shell-button-retry-now")}),function(){return" "+e.controller.s("account-shell-text-or")+" "},o.createElement("span",{role:o.const("button"),tabindex:o.const("0"),class:o.const("dcg-action-close"),onTap:function(){return e.controller.dispatch({type:"toggle-menu",payload:"share"})}},function(){return e.controller.s("account-shell-button-cancel")}),o.const("."))}),o.createElement(p,{predicate:function(){return!e.shareInProgress&&!e.didSharingFail}},function(){return o.createElement("div",{class:o.const("dcg-loaded"),didMount:e.bindFn(e.didMountLoaded)},function(){return e.controller.s("account-shell-label-share-link")},o.createElement(a.SelectableInput,{controller:e.props.controller,link:function(){return e.getGraphPath()}}),o.createElement(p,{predicate:function(){return!e.controller.shouldDisablePrintAndExport()}},function(){return o.createElement("div",{class:o.const("dcg-share-actions")},o.createElement("span",{class:o.const("dcg-print-link"),onTap:e.bindFn(e.print),tabindex:o.const("0"),role:o.const("link")},o.createElement("i",{class:o.const("dcg-icon-print"),"aria-hidden":o.const("true")}),o.createElement("span",null,function(){return e.controller.s("account-shell-button-print")})),o.createElement("span",{class:o.const("dcg-export-image-link"),onTap:e.bindFn(e.exportImage),tabindex:o.const("0"),role:o.const("link")},o.createElement("i",{class:o.const("dcg-icon-export"),"aria-hidden":o.const("true")}),o.createElement("span",null,function(){return e.controller.s("account-shell-button-export-image")})),o.createElement("span",{class:function(){return{"dcg-embed-link":!0,"dcg-selected":e.embedVisible}},onTap:e.bindFn(e.toggleEmbedVisible),tabindex:o.const("0"),role:o.const("button"),"aria-pressed":function(){return e.embedVisible}},o.createElement("i",{class:o.const("dcg-icon-embed"),"aria-hidden":o.const("true")}),o.createElement("span",null,function(){return e.controller.s("account-shell-button-embed")})))}),o.createElement(p,{predicate:function(){return e.embedVisible}},function(){return o.createElement("div",{class:o.const("dcg-embed-div share-div"),didMount:e.bindFn(e.didMountTextarea)},o.createElement(h,{rows:o.const("6"),class:o.const("select-all first-input dcg-variable-htmlembedcode"),value:function(){return e.getGraphEmbedCode()},onInput:function(){}}))}),o.createElement(p,{predicate:function(){return e.controller.shouldShowArtContestNudge()}},function(){return o.createElement("div",{class:o.const("dcg-art-contest-container")},o.createElement("span",{class:o.const("dcg-trophy-icon")},o.const("")),o.createElement(l.Localize,{i18n:e.const(e.controller),key:e.const("account-shell-text-share-submit-to-contest")},o.createElement("span",{class:o.const("dcg-contest-submit-message")},o.const("Submit this graph to the"),o.const(" "),o.createElement("span",{class:o.const("dcg-bold-text")},o.const("Global Math Art Contest!")))),o.createElement("div",{class:o.const("dcg-enter-btn"),role:o.const("button"),tabindex:o.const("0"),onTap:function(t){return e.controller.state.artContestURLFromShareMenu=e.getGraphPath(),e.controller.dispatch({type:"show-modal",modal:"contest-submission",device:t.device})}},function(){return e.controller.s("account-shell-button-submit")}))}))})))},f.prototype.didMountTextarea=function(e){i(e).find("textarea").trigger("focus").trigger("select")},f.prototype.toggleEmbedVisible=function(){this.embedVisible=!this.embedVisible,this.unmounted||this.update()},f.prototype.didMountLoaded=function(){this.embedVisible=!1},f.prototype.print=function(){window.print()},f.prototype.exportImage=function(e){this.controller.dispatch({type:"show-modal",modal:"export-image",device:e.device})},f.prototype.getGraphPath=function(){return null!=this.graph?this.graph.getURL():void 0},f.prototype.getGraphEmbedCode=function(){return this.graph?'<iframe src="'+this.getGraphPath()+'?embed" width="500" height="500" style="border: 1px solid #ccc" frameborder=0></iframe>':""},f.prototype.didUnmount=function(){this.unmounted=!0},f.prototype.didMount=function(){var e=this;return this.graphsController.shareGraph().done(function(t){e.graph=t}).fail(function(){e.didSharingFail=!0}).always(function(){e.shareInProgress=!1,e.unmounted||e.update()})},n=f;function f(){return null!==u&&u.apply(this,arguments)||this}t.ShareMenu=n}),define("loadcss!calculator-shell/account-menu",function(){}),define("calculator-shell/account-menu",["require","exports","tslib","dcgview","./menu","loadcss!./account-menu"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccountMenu=void 0;var i,a=n.Components.If;i=n.Class,r.__extends(s,i),s.prototype.init=function(){this.controller=this.props.controller(),this.userController=this.controller.userController},s.prototype.template=function(){var e=this;return n.createElement(a,{predicate:function(){return e.userController.isLoggedIn()}},function(){return n.createElement(o.Menu,{type:function(){return"account"},label:function(){return e.controller.s("account-shell-label-account-information")},left:e.props.left,arrowLeft:e.props.arrowLeft,controller:e.props.controller},n.createElement("div",{class:n.const("user-info")},n.createElement("span",{class:n.const("account-name")},function(){return e.userController.getFullName()}),n.createElement("span",{class:n.const("account-email")},function(){return e.userController.getEmail()}),n.createElement("a",{class:n.const("dcg-action-accountsettings"),role:n.const("link"),tabindex:n.const(0),onTap:function(t){return e.controller.dispatch({type:"show-modal",modal:"account-settings",device:t.device})}},function(){return e.controller.s("account-shell-link-account-settings")})),n.createElement("a",{class:n.const("dcg-action-logout"),role:n.const("link"),tabindex:n.const(0),onTap:function(){return e.logout()}},function(){return e.controller.s("account-shell-link-sign-out")}))})},s.prototype.logout=function(){this.controller.dispatch({type:"toggle-menu",payload:"none"}),this.userController.logout()},r=s;function s(){return null!==i&&i.apply(this,arguments)||this}t.AccountMenu=r}),define("loadcss!shared-components/shared-dropdown-popover",function(){}),define("shared-components/shared-dropdown-popover",["require","exports","tslib","dcgview","jquery","lib/i18n","underscore","loadcss!./shared-dropdown-popover"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DropdownPopover=void 0;var s,c=n.Components.If;s=n.Class,r.__extends(l,s),l.prototype.init=function(){if(this.showDropdown=!1,!this.children||1!==this.children.length||"function"!=typeof this.children[0])throw new Error("<DropdownPopover> expects a single child that is a function")},l.prototype.template=function(){var e=this;return n.createElement("div",{class:function(){var t;return(t={"dcg-shared-dropdown-popover-container":!0})[void 0===e.props.class?"":e.props.class()]=void 0!==e.props.class,t},didMount:this.bindFn(this.didMountDropdown),didUnmount:this.bindFn(this.didUnmountDropdown)},n.createElement("div",{role:n.const("link"),tabindex:n.const(0),"aria-label":this.bindFn(this.getTitle),"aria-expanded":this.bindFn(this.isDropdownOpen),class:function(){return{"anchor-container":!0,isOpen:e.isDropdownOpen()}},onTap:function(t){e.openedFromKeyboard="keyboard"===t.device,e.setDropdownOpen(!e.isDropdownOpen())}},this.props.anchor()),n.createElement(c,{predicate:this.bindFn(this.isDropdownOpen)},function(){return n.createElement("div",{class:function(){return{"dropdown-container":!0,"dropdown-pops-up":e.props.popUp&&e.props.popUp(),"dropdown-pops-right":e.props.popRight&&e.props.popRight()}},style:function(){var t=e.props.rightPosition&&e.props.rightPosition();return t?{right:t+"px"}:{}},didMount:function(t){e.props.dropdownDidMount&&e.props.dropdownDidMount(t)}},e.children[0]())}))},l.prototype.didMountDropdown=function(e){var t=this;this.listenerId=a.uniqueId("dropdown-container"),o(document.body).on("dcg-tap."+this.listenerId,function(r){var n;r.target===e||o.contains(e,r.target)||t.isDropdownOpen()&&(n=o(e).find(".dropdown-container")[0],o.contains(n,r.target)||(n=n.getBoundingClientRect(),void 0!==r.clientX&&void 0!==r.clientY&&r.clientX>n.left&&r.clientX<n.right&&r.clientY>n.top&&r.clientY<n.bottom||t.setDropdownOpen(!1)))}),o(document).on("scroll."+this.listenerId,function(){!t.openedFromKeyboard&&t.isDropdownOpen()&&t.setDropdownOpen(!1)})},l.prototype.didUnmountDropdown=function(){this.showDropdown=!1,o(document.body).off("."+this.listenerId),o(document).off("."+this.listenerId)},l.prototype.getTitle=function(){return this.props.title?this.props.title():i.s("shared-button-more-options-menu")},l.prototype.isDropdownOpen=function(){return this.props.controlled?this.props.controlled().isOpen:this.showDropdown},l.prototype.setDropdownOpen=function(e){this.props.disabled&&this.props.disabled()||(this.props.controlled?this.props.controlled().setDropdownOpen(e):(this.showDropdown=e,this.update()))},r=l;function l(){return null!==s&&s.apply(this,arguments)||this}t.DropdownPopover=r}),define("loadcss!shared-components/shared-options-dropdown",function(){}),define("shared-components/shared-options-dropdown",["require","exports","tslib","lib/i18n","dcgview","./shared-dropdown-popover","loadcss!./shared-options-dropdown"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OptionsDropdown=t.OptionsDropdownList=void 0;var a,s=(f=o.Components).For,c=f.If,l=f.IfDefined,u=f.Switch,d=(a=o.Class,r.__extends(p,a),p.prototype.template=function(){var e=this;return o.createElement(s,{each:this.props.options,key:function(e){return(e.key||e.title())+(e.disabled?"-disabled":"")}},o.createElement("div",{role:o.const("list"),class:function(){var t;return(t={"dcg-shared-options-dropdown":!0})[void 0===e.props.class?"":e.props.class()]=void 0!==e.props.class,t}},function(t){return o.createElement("div",{role:o.const("listitem"),class:o.const("dropdown-option-container")},o.createElement(u,{key:function(){return t}},function(t){return"href"in t?o.createElement("a",{"aria-disabled":function(){return t.disabled},class:function(){var e;return(e={})[t.class||""]=!!t.class,e["dropdown-choice"]=!0,e["dropdown-choice-disabled"]=t.disabled,e},onTap:function(){return!t.disabled&&e.props.onTap(t)},href:function(){return t.href},target:function(){return void 0!==t.target?t.target:""},rel:function(){return t.noreferrer?"noreferrer noopener":""}},o.createElement(c,{predicate:function(){return null!=t.icon}},function(){return o.createElement("div",{class:o.const("option-icon-container")},o.createElement("i",{"aria-hidden":o.const("true"),class:function(){return t.icon+" option-icon"}}))}),t.title):o.createElement("div",{role:o.const("link"),tabindex:o.const(0),"aria-disabled":function(){return t.disabled},class:function(){var e;return(e={})[t.class||""]=!!t.class,e["dropdown-choice"]=!0,e["dropdown-choice-disabled"]=t.disabled,e},onTap:function(){return!t.disabled&&e.props.onTap(t)}},o.createElement(c,{predicate:function(){return null!=t.icon}},function(){return o.createElement("div",{class:o.const("option-icon-container")},o.createElement("i",{"aria-hidden":o.const("true"),class:function(){return t.icon+" option-icon"}}))}),o.createElement("span",{class:o.const("option-title")},t.title),l(function(){return t.subtitle&&t.subtitle()},function(e){return o.createElement("span",{class:o.const("option-subtitle")},e)}))}),o.createElement(c,{predicate:function(){return!!t.explanations}},function(){return o.createElement(s,{each:function(){return t.explanations||[]},key:function(e){return e.flag}},o.createElement("div",{class:o.const("dropdown-explanations")},function(e){return o.createElement("div",{class:o.const("explanation")},function(){return e.explanation},o.const(" "),o.createElement(c,{predicate:function(){return!!e.link}},function(){return o.createElement("a",{class:o.const("learn-more"),href:function(){return void 0!==e.link?e.link:""},target:o.const("_blank")},function(){return e.linkText||n.s("shared-button-learn-more-capitalized")})}))}))}))}))},p);function p(){return null!==a&&a.apply(this,arguments)||this}t.OptionsDropdownList=d;var h,f=(h=o.Class,r.__extends(g,h),g.prototype.init=function(){this.showDropdown=!1},g.prototype.template=function(){var e=this;return o.createElement(i.DropdownPopover,{dropdownDidMount:this.props.dropdownDidMount,anchor:this.props.anchor,class:this.props.class,controlled:this.props.controlled||function(){return{isOpen:e.showDropdown,setDropdownOpen:e.bindFn(e.setDropdownOpen)}},title:this.props.title,disabled:this.props.disabled},function(){return o.createElement(d,r.__assign({},e.props,{onTap:e.bindFn(e.tapOption)}))})},g.prototype.tapOption=function(e){var t=this;void 0!==e.action&&e.action(),e.preventClose||("href"in e?e.isDeepLink&&setTimeout(function(){return t.setDropdownOpen(!1)},0):this.setDropdownOpen(!1))},g.prototype.setDropdownOpen=function(e){this.props.controlled?this.props.controlled().setDropdownOpen(e):(this.showDropdown=e,this.update())},g);function g(){return null!==h&&h.apply(this,arguments)||this}t.OptionsDropdown=f}),define("loadcss!calculator-shell/graph-actions-menu",function(){}),define("calculator-shell/graph-actions-menu",["require","exports","tslib","dcgview","./menu","../shared-components/shared-options-dropdown","jquery","loadcss!./graph-actions-menu"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphActionsMenu=void 0;var s;s=n.Class,r.__extends(c,s),c.prototype.template=function(){var e=this;return n.createElement(o.Menu,{type:this.const("graph-actions"),label:function(){return e.props.controller().s("account-shell-label-graph-actions")},controller:this.props.controller,left:function(){return e.left},arrowLeft:function(){return e.arrowLeft}},n.createElement(i.OptionsDropdownList,{class:this.const("dcg-graph-actions-list"),options:this.bindFn(this.getOptions),onTap:this.bindFn(this.tapOption)}))},c.prototype.didMount=function(){var e=(null!==(t=null===(t=(e=a(".dcg-graph-actions-dropdown-anchor")).offset())||void 0===t?void 0:t.left)&&void 0!==t?t:0)+(null!==(t=e.width())&&void 0!==t?t:0)/2,t=(null!==(t=a(".dcg-graph-actions-container").width())&&void 0!==t?t:0)-14-10;e<=4+t?(this.left="4px",this.arrowLeft=e-4+"px"):(this.left=e-t+"px",this.arrowLeft=t+"px"),this.update()},c.prototype.getOptions=function(){var e=this,t=[];return t.push({title:function(){return e.props.controller().s("account-shell-button-rename")},icon:"dcg-icon-pencil",class:"blue-link",action:function(){e.props.controller().dispatch({type:"show-modal",modal:"rename",device:"mouse"})}}),this.props.controller().graphsController.wasCurrentGraphEverSaved()&&t.push({title:function(){return e.props.controller().s("account-shell-button-duplicate")},icon:"dcg-icon-duplicate",action:function(){return e.props.controller().dispatch({type:"show-modal",modal:"duplicate",device:"mouse"})}},{title:function(){return e.props.controller().s("account-shell-button-delete")},icon:"dcg-icon-remove",class:"red-link",action:function(){e.props.controller().dispatch({type:"show-modal",modal:"delete",device:"mouse"})}}),t},c.prototype.tapOption=function(e){var t=this;void 0!==e.action&&e.action(),e.preventClose||("href"in e?e.isDeepLink&&setTimeout(function(){return t.closeMenu()}):this.closeMenu())},c.prototype.closeMenu=function(){this.props.controller().dispatch({type:"toggle-menu",payload:"graph-actions"})},r=c;function c(){return null!==s&&s.apply(this,arguments)||this}t.GraphActionsMenu=r}),define("calculator-shell/wrapper",["require","exports","tslib","dcgview","./view","./language-menu","./help-menu","./share-menu","./account-menu","./graph-actions-menu"],function(e,t,r,n,o,i,a,s,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewWrapper=void 0;var u,d=n.Components.SwitchUnion;u=n.Class,r.__extends(p,u),p.prototype.init=function(){this.controller=this.props.controller()},p.prototype.template=function(){var e=this;return n.createElement("div",null,n.createElement(o.HeaderBar,{controller:this.props.controller}),d(function(){return e.getMenu()},{language:function(){return n.createElement(i.LanguageMenu,{controller:e.props.controller})},help:function(){return n.createElement(a.HelpMenu,{controller:e.props.controller})},share:function(){return n.createElement(s.ShareMenu,{controller:e.props.controller})},account:function(){return n.createElement(c.AccountMenu,{controller:e.props.controller})},"graph-actions":function(){return n.createElement(l.GraphActionsMenu,{controller:e.props.controller})},none:function(){return n.createElement("span",null)}}))},p.prototype.getMenu=function(){return this.controller.mygraphsController.isMygraphsOpen()?"none":this.controller.getOpenMenu()},r=p;function p(){return null!==u&&u.apply(this,arguments)||this}t.ViewWrapper=r}),define("calculator-shell/modal",["require","exports","tslib","dcgview"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;var o;o=n.Class,r.__extends(i,o),i.prototype.template=function(){var e=this;return n.createElement("div",{class:function(){return{modal_section:!0,"dcg-hotkeys-dialog":"hotkeys"===e.props.controller().getOpenModal()}}},this.children)},r=i;function i(){return null!==o&&o.apply(this,arguments)||this}t.Modal=r}),define("calculator-shell/save-dialog",["require","exports","tslib","dcgview","./modal","jquery"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SaveDialog=void 0;var a,s=n.Components,c=s.Input,l=s.Checkbox,u=s.If;a=n.Class,r.__extends(d,a),d.prototype.init=function(){this.controller=this.props.controller(),this.graphsController=this.controller.graphsController,this.lastSavedTitle=this.graphsController.getCurrentGraphTitle(),"duplicate"===this.controller.getOpenModal()?this.newSaveTitle=this.controller.s("account-shell-text-copy-of-title",{originalTitle:this.lastSavedTitle}):this.newSaveTitle=this.lastSavedTitle||this.graphsController.getUntitledString(),null==this.controller.state.saveDialog&&(this.controller.state.saveDialog={copyOnSave:!0})},d.prototype.template=function(){var e=this;return n.createElement(o.Modal,{controller:this.props.controller},n.createElement("div",{id:n.const("save-dialog")},n.createElement("h1",null,function(){return e.getTitle()}),n.createElement("div",{class:n.const("dcg-clear")}),n.createElement("form",{didMount:this.bindFn(this.didMountForm)},n.createElement("label",{class:n.const("input-label")},n.createElement("div",{class:n.const("graph-title-title")},function(){return e.controller.s("account-shell-label-graph-title")},n.const(" ")),n.createElement(c,{class:n.const("title-input dcg-input-blue-outline"),name:n.const("title"),placeholder:function(){return e.graphsController.getUntitledString()},value:function(){return e.newSaveTitle},maxlength:n.const("140"),onInput:function(t){return e.newSaveTitle=t},didMount:function(e){return i(e).trigger("focus").trigger("select")}})),n.createElement("div",null,n.createElement("button",{type:n.const("submit"),class:n.const("dcg-btn dcg-btn-primary pull-right dcg-action-save")},function(){return e.controller.s("account-shell-button-save")}),n.createElement(u,{predicate:function(){return e.shouldShowDuplicateOption()&&e.graphsController.wasCurrentGraphEverSaved()}},function(){return n.createElement("label",{class:n.const("dcg-new-copy pull-right")},n.createElement(l,{checked:function(){return e.controller.state.saveDialog.copyOnSave},onChange:function(t){if(e.controller.state.saveDialog.copyOnSave=t,!e.unmounted)return e.update()}}),n.createElement("span",{class:n.const("duplicate-label")},function(){return e.getDuplicateLabel()}))})))))},d.prototype.didUnmount=function(){this.unmounted=!0},d.prototype.didMountForm=function(e){var t=this;i(e).on("submit",function(e){e.preventDefault(),""===t.newSaveTitle&&(t.newSaveTitle="Untitled Graph"),e=t.shouldShowDuplicateOption()?t.controller.state.saveDialog.copyOnSave:"rename"!==t.controller.getOpenModal(),t.controller.dispatch({type:"save-graph",payload:{title:t.newSaveTitle,saveAs:e},device:"mouse"})})},d.prototype.getTitle=function(){if("geometry"===this.controller.product)return this.controller.s("account-shell-heading-save-construction");switch(this.controller.getOpenModal()){case"rename":return this.controller.s("account-shell-heading-rename-graph");case"save":return this.controller.s("account-shell-heading-save-graph");case"duplicate":return this.controller.s("account-shell-heading-duplicate-graph");default:return""}},d.prototype.getDuplicateLabel=function(){return"geometry"===this.controller.product?this.controller.s("account-shell-heading-duplicate-construction"):this.controller.s("account-shell-heading-duplicate-graph")},d.prototype.shouldShowDuplicateOption=function(){if("geometry"===this.controller.product)return!0;var e=this.controller.getModalState();return!("save"!==e.modal||!e.fromSaveInProgress)},r=d;function d(){return null!==a&&a.apply(this,arguments)||this}t.SaveDialog=r}),define("lib/evt-delegator",["require","exports","jquery","underscore"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Delegator=void 0;var o=(i.prototype.push=function(e){var t=this,r=n.uniqueId("delegator_");return this.handlers.push({token:r,handler:e}),function(){return t.handlers=n.filter(t.handlers,function(e){return e.token!=r})}},i.prototype.handleEvent=function(e){if(!e.isDefaultPrevented()&&this.handlers.length)for(var t=!1,r=function(){return t=!0},n=0,o=this.handlers.slice().reverse();n<o.length;n++)if((0,o[n].handler)(e,r),t)return},i);function i(){var e=this;this.handlers=[],r(document).on("keydown.delegator",function(t){return e.handleEvent(t)})}t.Delegator=new o}),define("lib/restrict-focus",["require","exports","keys","jquery"],function(e,t,r,n){"use strict";function o(e){return e.find(':input:enabled, [tabindex="0"], a[href]').filter(":visible:not([aria-hidden=true]):not([aria-disabled=true])")}Object.defineProperty(t,"__esModule",{value:!0}),t.createRestrictFocusHandler=t.getFocusableElements=void 0,t.getFocusableElements=o,t.createRestrictFocusHandler=function(e){return function(t){var i,a,s;r.lookup(t)!=r.TAB||0!==(i=o(n(e))).length&&(a=i.first(),s=i.last(),t.shiftKey&&a.is(":focus")?(t.preventDefault(),s.trigger("focus")):(!t.shiftKey&&s.is(":focus")||document.activeElement&&!i.is(":focus"))&&(t.preventDefault(),a.trigger("focus")))}}}),define("loadcss!shared-components/modal",function(){}),define("loadcss!shared-components/dcg-shared-icons",function(){}),define("shared-components/modal",["require","exports","tslib","dcgview","jquery","keys","lib/evt-delegator","lib/restrict-focus","./tooltip","loadcss!./modal","loadcss!./dcg-shared-icons"],function(e,t,r,n,o,i,a,s,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;var l,u=n.Components.If;l=n.Class,r.__extends(d,l),d.prototype.init=function(){this.i18n=this.props.i18n(),this.isMounted=!1},d.prototype.template=function(){var e=this;return n.createElement("div",{class:function(){var t;return(t={"dcg-shared-modal-container":!0})[e.props.class?e.props.class():""]=!!e.props.class,t},didMount:this.bindFn(this.didMount),didUnmount:this.bindFn(this.didUnmount)},n.createElement("div",{class:function(){return{"dcg-shared-modal-cover":!0,"dcg-shared-has-close-button":e.showX(),"dcg-shared-modal-fullscreen":"fullscreen"===e.props.size(),"dcg-shared-modal-wide":"wide"===e.props.size(),"dcg-shared-modal-medium":"medium"===e.props.size(),"dcg-shared-modal-narrow":"narrow"===e.props.size()}}},n.createElement("div",{class:n.const("dcg-shared-modal-background"),onTap:this.props.onClose}),n.createElement("div",{class:n.const("dcg-shared-modal-transition-container")},n.createElement("div",{class:n.const("dcg-shared-modal"),role:n.const("dialog"),"aria-label":function(){var t="";return e.props.ariaLabel?t=e.props.ariaLabel():e.props.title&&(t=e.props.title()),t}},n.createElement(u,{predicate:function(){return e.showX()}},function(){return n.createElement("div",{class:n.const("dcg-shared-close-cross-container")},n.createElement(c.Tooltip,{tooltip:function(){return e.i18n.s("shared-button-close-dialog")}},n.createElement("div",{role:n.const("link"),tabindex:n.const("0"),"aria-label":function(){return e.i18n.s("shared-button-close-dialog")},class:n.const("dcg-shared-close-cross"),onTap:e.props.onClose},n.createElement("i",{class:n.const("dcg-shared-icon-remove"),"aria-hidden":n.const("true")}))))}),n.createElement("div",{class:n.const("dcg-shared-modal-contents-wrapper")},n.createElement(u,{predicate:function(){return!!e.props.title&&!!e.props.title()}},function(){return n.createElement("h1",{class:function(){return{"dcg-shared-modal-title":!0,"dcg-shared-left-align-title":e.leftAlignTitle()}}},function(){return e.props.title()})}),n.createElement("div",{class:n.const("dcg-shared-modal-scrollable-content")},this.children))))))},d.prototype.showX=function(){return!!this.props.showX&&this.props.showX()},d.prototype.leftAlignTitle=function(){return!!this.props.leftAlignTitle&&this.props.leftAlignTitle()},d.prototype.didMount=function(){var e,t=this;this.isMounted||(this.isMounted=!0,e=s.createRestrictFocusHandler(".dcg-shared-modal-container:visible"),this.unsub=a.Delegator.push(function(r,n){i.lookup(r)==i.ESCAPE&&(t.onClose(),n()),e(r)}))},d.prototype.didUpdate=function(){!this.handledCloseFocus&&this.showX()&&this.props.focusCloseLink&&this.props.focusCloseLink()&&o(".dcg-shared-modal-container:visible").find(".dcg-shared-close-cross").trigger("focus"),this.handledCloseFocus=!0},d.prototype.onClose=function(){this.props.onClose&&this.props.onClose()},d.prototype.didUnmount=function(){this.isMounted&&(this.isMounted=!1,this.unsub())},r=d;function d(){return null!==l&&l.apply(this,arguments)||this}t.Modal=r}),define("shared-components/shared-cookie-notice",["require","exports","tslib","dcgview","shared/dcgviews/localize"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i;i=n.Class,r.__extends(a,i),a.prototype.template=function(){return n.createElement("div",{class:n.const("dcg-shared-cookie-notice")},n.createElement(o.Localize,{key:this.const("shared-message-cookie-notice"),i18n:this.props.i18n},n.createElement("b",null,n.const("Note:")),n.const(" "),n.const("Desmos uses cookies to enable persistence when you are signed"),n.const(" "),n.const("in. If you do not wish to use cookies, please use Desmos without"),n.const(" "),n.const("logging in."),n.const(" "),n.createElement("a",{class:n.const("dcg-shared-cookie-notice-learn-more dcg-shared-dark-gray-link"),href:n.const("/privacy"),target:n.const("_blank")},n.const("Learn More."))))},r=a;function a(){return null!==i&&i.apply(this,arguments)||this}t.default=r}),define("loadcss!shared-components/shared-checkbox",function(){}),define("shared-components/shared-checkbox",["require","exports","tslib","dcgview","jquery","loadcss!./shared-checkbox","loadcss!./dcg-shared-icons"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedCheckbox=void 0;var i;i=n.Class,r.__extends(a,i),a.prototype.template=function(){var e=this;return n.createElement("div",{class:function(){return{"dcg-shared-component-checkbox":!0,"dcg-shared-checked":e.props.checked(),"dcg-shared-disabled":e.props.disabled&&e.props.disabled(),"dcg-shared-small":e.props.small&&e.props.small()}},onTap:this.bindFn(this.onChange)},n.createElement("span",{tabindex:n.const(0),class:n.const("dcg-shared-checkbox"),role:n.const("checkbox"),"aria-label":this.props.ariaLabel,"aria-disabled":function(){return e.props.disabled&&e.props.disabled()},"aria-checked":this.props.checked},n.createElement("i",{class:n.const("dcg-shared-icon-check"),"aria-hidden":n.const("true")})),n.createElement("span",{class:n.const("dcg-shared-checkbox-children")},this.children))},a.prototype.onChange=function(e){e.target&&o(e.target).attr("href")||this.props.disabled&&this.props.disabled()||this.props.onChange(!this.props.checked())},r=a;function a(){return null!==i&&i.apply(this,arguments)||this}t.SharedCheckbox=r}),define("loadcss!shared-components/shared-account-modal-errors",function(){}),define("shared-components/shared-account-modal-errors",["require","exports","tslib","dcgview","loadcss!./shared-account-modal-errors"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedAccountModalErrors=void 0;var o,i=n.Components,a=i.If,s=i.For;o=n.Class,r.__extends(c,o),c.prototype.init=function(){this.controller=this.props.controller(),this.i18n=this.controller},c.prototype.template=function(){var e=this;return n.createElement(a,{predicate:function(){return!!e.props.errors().length}},function(){return n.createElement(s,{each:e.props.errors},n.createElement("span",null,function(t){return n.createElement("div",{class:n.const("dcg-shared-account-modal-errors"),role:n.const("alert")},n.createElement("span",null,function(){return e.i18n.raw(t)}))}))})},r=c;function c(){return null!==o&&o.apply(this,arguments)||this}t.SharedAccountModalErrors=r}),define("loadcss!shared-components/shared-account-modal",function(){}),define("loadcss!shared-components/shared-signup-modal",function(){}),define("shared-components/shared-signup-modal",["require","exports","tslib","dcgview","shared-components/modal","jquery","underscore","shared/dcgviews/localize","./shared-cookie-notice","./shared-checkbox","./shared-account-modal-errors","loadcss!./shared-account-modal","loadcss!./shared-signup-modal"],function(e,t,r,n,o,i,a,s,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedSignupModal=void 0;var d,p,h,f=n.Components,g=f.If,m=f.Input,y=f.Switch,v=(h=n.Class,r.__extends(E,h),E.prototype.init=function(){this.controller=this.props.controller(),this.i18n=this.controller},E.prototype.template=function(){var e=this;return n.createElement(g,{predicate:this.bindFn(this.canChangeRole)},function(){return n.createElement("span",{class:n.const("dcg-shared-dark-gray-link"),role:n.const("link"),tabindex:n.const("0"),onTap:function(t){return e.controller.dispatch({type:"show-modal",modal:e.props.teacher()?"signup":"teacher-signup",device:t.device})}},function(){return e.props.teacher()?e.i18n.s("shared-button-i-am-not-a-teacher"):e.i18n.s("shared-button-sign-up-as-a-teacher")})})},E.prototype.canChangeRole=function(){return!this.controller.getLimitedSignupRole()},E),b=(p=n.Class,r.__extends(w,p),w.prototype.template=function(){return n.createElement("span",{class:n.const("dcg-shared-terms-notice")},n.createElement(s.Localize,{key:this.const("shared-message-privacy-notice"),i18n:this.props.i18n},n.const("I have read, understand, and accept the"),n.const(" "),n.createElement("a",{href:n.const("/terms"),target:n.const("_blank"),class:n.const("dcg-shared-blue-link")},n.const("Terms of Service")),n.const(" "),n.const("and"),n.const(" "),n.createElement("a",{href:n.const("/privacy"),target:n.const("_blank"),class:n.const("dcg-shared-blue-link")},n.const("Privacy Policy")),n.const(".")))},w);d=n.Class,r.__extends(x,d),x.prototype.init=function(){this.controller=this.props.controller(),this.i18n=this.controller,this.selectedView=0,this.givenName="",this.familyName="",this.email="",this.password="",this.consentChecked=!1,this.isSubmittingForm=!1,this.formErrors=[],this.breakPoint=660,this.measureWindow(),this.controller.getModalStartingError()&&this.formErrors.push(this.controller.getModalStartingError())},x.prototype.template=function(){var e=this;return n.createElement(o.Modal,{title:this.bindFn(this.getModalTitle),size:this.const("narrow"),showX:this.const(!0),onClose:function(){return e.controller.dispatch({type:"close-modal"})},i18n:this.props.controller},n.createElement("div",{class:function(){return{"dcg-shared-signup-dialog":!0,"dcg-shared-account-dialog":!0,"dcg-shared-teacher-signup-dialog":e.props.teacher()}}},n.createElement("div",{class:n.const("dcg-shared-switch-account-message")},function(){return e.i18n.s("shared-prompt-already-have-account")},this.const(this.i18n.raw(" ")),n.createElement("a",{role:n.const("link"),tabindex:n.const("0"),class:n.const("dcg-shared-dark-gray-link"),onTap:function(t){return e.controller.dispatch({type:"show-modal",modal:"login",device:t.device})}},function(){return e.i18n.s("shared-button-login")}),n.const(".")),n.createElement("div",{class:n.const("dcg-shared-navigation-tabs"),role:n.const("tablist")},n.createElement("div",{role:n.const("tab"),tabindex:n.const("0"),"aria-selected":this.bindFn(this.isGoogleSelected),class:function(){return{"dcg-shared-tab-gray-underline":!0,"dcg-shared-tab-always-underline":!0,"dcg-shared-profile-view-button":!0,"dcg-selected":e.isGoogleSelected()}},onTap:function(){return e.updateView(0)}},this.bindFn(this.externalTitle)),n.createElement("div",{role:n.const("tab"),tabindex:n.const("0"),"aria-selected":this.bindFn(this.isDesmosSelected),class:function(){return{"dcg-shared-tab-gray-underline":!0,"dcg-shared-tab-always-underline":!0,"dcg-shared-password-view-button":!0,"dcg-selected":e.isDesmosSelected()}},onTap:function(){return e.updateView(1)}},this.bindFn(this.desmosTitle))),n.createElement("div",{class:n.const("dcg-shared-account-content-container")},n.createElement(y,{key:function(){return e.selectedView}},function(t){return 0===t?n.createElement("div",{class:n.const("dcg-shared-notice-checkbox-google")},n.createElement(l.SharedCheckbox,{ariaLabel:e.bindFn(e.consentText),checked:function(){return e.consentChecked},disabled:e.const(!1),onChange:function(){if(e.consentChecked=!e.consentChecked,!e.unmounted)return e.update()}},e.bindFn(e.consentText)),n.createElement(l.SharedCheckbox,{ariaLabel:function(){return e.i18n.s("shared-narration-privacy-policy-agreement")},checked:function(){return e.privacyChecked},disabled:e.const(!1),onChange:function(){if(e.privacyChecked=!e.privacyChecked,!e.unmounted)return e.update()}},n.createElement(b,{i18n:e.const(e.i18n)})),n.createElement(g,{predicate:function(){return window.googleAuthConnectionFailed}},function(){return n.createElement("div",{class:n.const("dcg-shared-google-auth-unavailable")},function(){return e.i18n.s("shared-message-google-login-not-available")})}),n.createElement(g,{predicate:function(){return!window.googleAuthConnectionFailed}},function(){return n.createElement("div",{class:function(){return{"dcg-shared-btn-gray-outline":!0,"dcg-shared-google-login":!0,"dcg-disabled":e.hasNotConsented()}},role:n.const("button"),tabindex:function(){return e.hasNotConsented()?"-1":"0"},"aria-disabled":e.bindFn(e.hasNotConsented),onTap:function(){return e.googleLogin()}},n.createElement("div",{class:n.const("dcg-shared-google-icon dcg-shared-external-login-logo")}),n.createElement("span",null,e.bindFn(e.getGoogleLoginText)))}),n.createElement(g,{predicate:function(){return e.controller.allowSignInWithApple()}},function(){return n.createElement("div",{class:function(){return{"dcg-shared-btn-gray-outline":!0,"dcg-shared-apple-login":!0,"dcg-disabled":e.hasNotConsented()}},role:n.const("button"),tabindex:function(){return e.hasNotConsented()?"-1":"0"},"aria-disabled":e.bindFn(e.hasNotConsented),onTap:function(){return e.appleLogin()}},n.createElement("div",{class:n.const("dcg-shared-apple-icon dcg-shared-external-login-logo")}),n.createElement("span",null,e.bindFn(e.getAppleLoginText)))}),n.createElement("div",{class:n.const("dcg-shared-switch-account-type")},n.createElement(v,{controller:e.props.controller,teacher:e.props.teacher}))):1===t?n.createElement("div",null,n.createElement(u.SharedAccountModalErrors,{controller:e.props.controller,errors:function(){return e.formErrors}}),n.createElement("form",{class:n.const("dcg-shared-action-submit"),onSubmit:e.bindFn(e.onSubmit),didMount:e.bindFn(e.didMountForm)},n.createElement("div",{class:n.const("dcg-shared-email-form-container")},n.createElement("label",null,n.createElement("span",{class:n.const("dcg-shared-input-title")},function(){return e.i18n.s("shared-label-email")}),n.createElement(m,{type:n.const("email"),name:n.const("email"),class:n.const("dcg-shared-input-blue-outline"),required:n.const("required"),"aria-describedby":n.const("email-description"),didMount:function(t){e.controller.wasModalOpenedWithKeyboard()&&t.focus()},value:function(){return e.email},onInput:function(t){if(e.email=t,!e.unmounted)return e.update()}})),n.createElement("div",{class:n.const("dcg-shared-name-container")},n.createElement("div",{class:n.const("dcg-shared-name-input")},n.createElement("label",null,n.createElement("span",{class:n.const("dcg-shared-input-title")},function(){return e.i18n.s("shared-label-given-name-or-nickname")}),n.createElement(m,{type:n.const("text"),name:n.const("given-name"),class:n.const("dcg-shared-input-blue-outline"),required:n.const("required"),"aria-describedby":n.const("given-name-description"),didMount:function(t){if(e.controller.wasModalOpenedWithKeyboard())return t.focus()},value:function(){return e.givenName},onInput:function(t){if(e.givenName=t,!e.unmounted)return e.update()}}))),n.createElement("div",{class:n.const("dcg-shared-name-input")},n.createElement("label",null,n.createElement("span",{class:n.const("dcg-shared-input-title")},function(){return e.i18n.s("shared-label-family-name")}),n.createElement(m,{type:n.const("text"),name:n.const("family-name"),class:n.const("dcg-shared-input-blue-outline"),"aria-describedby":n.const("family-name-description"),value:function(){return e.familyName},onInput:function(t){if(e.familyName=t,!e.unmounted)return e.update()}})))),n.createElement("label",null,n.createElement("span",null,function(){return e.i18n.s("shared-label-password")}),n.createElement(m,{type:n.const("password"),class:n.const("dcg-shared-input-blue-outline"),name:n.const("password"),required:n.const("required"),value:function(){return e.password},onInput:function(t){if(e.password=t,!e.unmounted)return e.update()}})),n.createElement("div",{class:n.const("dcg-shared-notice-checkbox-email")},n.createElement(l.SharedCheckbox,{ariaLabel:e.bindFn(e.consentText),checked:function(){return e.consentChecked},disabled:e.const(!1),onChange:function(){if(e.consentChecked=!e.consentChecked,!e.unmounted)return e.update()}},e.bindFn(e.consentText))),n.createElement(l.SharedCheckbox,{ariaLabel:function(){return e.i18n.s("shared-narration-privacy-policy-agreement")},checked:function(){return e.privacyChecked},disabled:e.const(!1),onChange:function(){if(e.privacyChecked=!e.privacyChecked,!e.unmounted)return e.update()}},n.createElement(b,{i18n:e.const(e.i18n)})),n.createElement("div",{class:n.const("dcg-shared-sign-in-options")},n.createElement(g,{predicate:function(){return e.isSubmittingForm}},function(){return n.createElement("div",{class:n.const("dcg-shared-progress-indicator dcg-shared-create-account-progress")},n.createElement("div",{class:n.const("dcg-shared-spinner")}))}),n.createElement(g,{predicate:function(){return!e.isSubmittingForm}},function(){return n.createElement("div",{class:n.const("dcg-shared-submit-container")},n.createElement(v,{controller:e.props.controller,teacher:e.props.teacher}),n.createElement("button",{type:n.const("submit"),class:function(){return{"dcg-shared-btn-blue":!0,"dcg-disabled":!e.submitEnabled()}},"aria-disabled":function(){return!e.submitEnabled()},tabindex:function(){return e.submitEnabled()?"0":"-1"}},function(){return e.i18n.s("shared-button-create-account")}))}))))):n.createElement("span",null)}),n.createElement(c.default,{i18n:this.const(this.i18n)}))))},x.prototype.canSwitchRoles=function(){return!this.controller.getLimitedSignupRole()},x.prototype.getModalTitle=function(){return this.props.teacher()?this.i18n.s("shared-title-teacher-signup"):this.i18n.s("shared-title-signup")},x.prototype.didMountForm=function(e){this.$form=i(e)},x.prototype.submitEnabled=function(){if(!this.consentChecked||!this.privacyChecked)return!1;if(!this.$form)return!1;var e=this.$form.find('[name="password"]').val(),t=this.$form.find('[name="email"]').val(),r=this.$form.find('[name="given-name"]').val();return!!(e&&t&&r)},x.prototype.onSubmit=function(e){e.preventDefault(),this.submitEnabled()&&this.submitForm()},x.prototype.googleLogin=function(){this.controller.dispatch({type:"close-modal"}),this.controller.userController.googleLogin({fromUI:"create",teacher:this.props.teacher()})},x.prototype.appleLogin=function(){this.controller.dispatch({type:"close-modal"}),this.controller.userController.appleLogin({fromUI:"create",teacher:this.props.teacher()})},x.prototype.getGoogleLoginText=function(){return this.consentChecked&&this.privacyChecked?this.i18n.s("shared-prompt-sign-up-with-google"):this.i18n.s("shared-prompt-please-consent-to-sign-up-with-google")},x.prototype.getAppleLoginText=function(){return this.consentChecked&&this.privacyChecked?this.i18n.s("shared-prompt-sign-up-with-apple"):this.i18n.s("shared-prompt-please-consent-to-sign-up-with-apple")},x.prototype.submitForm=function(){var e=this;this.formErrors=[],this.isSubmittingForm=!0,this.unmounted||this.update(),this.controller.userController.createAccount({userProvidedName:{given:this.givenName,family:this.familyName.length?this.familyName:void 0},email:this.email,password:this.password,teacher:this.props.teacher(),lang:this.controller.getLanguage()}).done(function(){if(!e.unmounted)return e.controller.dispatch({type:"close-modal"})}).fail(function(t){e.formErrors=e.controller.parseJSONErrors(t)}).always(function(){e.isSubmittingForm=!1,e.unmounted||e.update()})},x.prototype.updateView=function(e){this.selectedView=e,this.unmounted||this.update()},x.prototype.externalTitle=function(){return this.controller.allowSignInWithApple()?this.windowWidth>this.breakPoint?this.i18n.s("shared-button-external-account-wide"):this.i18n.s("shared-button-external-account-narrow"):this.windowWidth>this.breakPoint?this.i18n.s("shared-button-google-account-wide"):this.i18n.s("shared-button-google-account-narrow")},x.prototype.desmosTitle=function(){return this.windowWidth>this.breakPoint?this.i18n.s("shared-button-email-address-wide"):this.i18n.s("shared-button-email-address-narrow")},x.prototype.measureWindow=function(){return this.windowWidth=i(window).width()},x.prototype.didMount=function(){var e=this;i(window).on("resize.create-account",a.throttle(function(){e.measureWindow(),e.update()},200))},x.prototype.didUnmount=function(){i(window).off("resize.create-account"),this.unmounted=!0},x.prototype.consentText=function(){return this.i18n.s("shared-message-consent-text")},x.prototype.isGoogleSelected=function(){return 0===this.selectedView},x.prototype.isDesmosSelected=function(){return 1===this.selectedView},x.prototype.hasNotConsented=function(){return!this.consentChecked||!this.privacyChecked},r=x;function x(){return null!==d&&d.apply(this,arguments)||this}function w(){return null!==p&&p.apply(this,arguments)||this}function E(){return null!==h&&h.apply(this,arguments)||this}t.SharedSignupModal=r}),define("loadcss!shared-components/shared-login-modal",function(){}),define("shared-components/shared-login-modal",["require","exports","tslib","dcgview","shared-components/modal","./shared-cookie-notice","shared/dcgviews/localize","./shared-account-modal-errors","loadcss!./shared-account-modal","loadcss!./shared-login-modal"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedLoginModal=void 0;var c,l=n.Components,u=l.If,d=l.Input,p=l.IfElse;c=n.Class,r.__extends(h,c),h.prototype.init=function(){this.controller=this.props.controller(),this.i18n=this.controller,this.email="",this.password="",this.isSubmittingForm=!1,this.formErrors=[],this.controller.getModalStartingError()&&this.formErrors.push(this.controller.getModalStartingError())},h.prototype.template=function(){var e=this;return n.createElement(o.Modal,{title:function(){return e.i18n.s("shared-title-login")},size:this.const("narrow"),showX:this.const(!0),onClose:function(){return e.controller.dispatch({type:"close-modal"})},i18n:this.props.controller},n.createElement("div",{class:n.const("dcg-shared-login-dialog dcg-shared-account-dialog")},p(function(){return e.canChooseRole()},{true:function(){return n.createElement("div",{class:n.const("dcg-shared-switch-account-message")},n.createElement(a.Localize,{key:e.const("shared-prompt-new-to-desmos-teacher-or-student"),i18n:e.props.controller},n.const("New to Desmos? Sign up as a"),n.const(" "),n.createElement("a",{role:n.const("link"),tabindex:n.const("0"),class:n.const("dcg-shared-dark-gray-link"),onTap:function(t){return e.controller.dispatch({type:"show-modal",modal:"teacher-signup",device:t.device})}},n.const("teacher")),n.const(" "),n.const("or"),n.const(" "),n.createElement("a",{role:n.const("link"),tabindex:n.const("0"),class:n.const("dcg-shared-dark-gray-link"),onTap:function(t){return e.controller.dispatch({type:"show-modal",modal:"signup",device:t.device})}},n.const("student."))))},false:function(){return n.createElement("div",{class:n.const("dcg-shared-switch-account-message")},n.createElement(a.Localize,{key:e.const("shared-prompt-new-to-desmos-sign-up-here"),i18n:e.props.controller},n.const("New to Desmos?"),n.const(" "),n.createElement("a",{role:n.const("link"),tabindex:n.const("0"),class:n.const("dcg-shared-dark-gray-link"),onTap:function(t){return e.controller.dispatch({type:"show-modal",modal:"teacher"===e.controller.getLimitedSignupRole()?"teacher-signup":"signup",device:t.device})}},n.const("Sign up")),n.const(".")))}}),n.createElement("div",{class:n.const("dcg-shared-account-content-container")},n.createElement(u,{predicate:function(){return window.googleAuthConnectionFailed}},function(){return n.createElement("div",{class:n.const("dcg-shared-google-auth-unavailable")},function(){return e.i18n.s("shared-message-google-login-not-available")})}),n.createElement(u,{predicate:function(){return!window.googleAuthConnectionFailed}},function(){return n.createElement("div",{class:n.const("dcg-shared-btn-gray-outline dcg-shared-google-login"),role:n.const("button"),tabindex:n.const("0"),onTap:function(){return e.googleLogin()}},n.createElement("div",{class:n.const("dcg-shared-google-icon dcg-shared-external-login-logo")}),n.createElement("span",null,function(){return e.i18n.s("shared-button-login-with-google")}))}),n.createElement(u,{predicate:function(){return e.controller.allowSignInWithApple()}},function(){return n.createElement("div",{class:n.const("dcg-shared-btn-gray-outline dcg-shared-apple-login"),role:n.const("button"),tabindex:n.const("0"),onTap:function(){return e.appleLogin()}},n.createElement("div",{class:n.const("dcg-shared-apple-icon dcg-shared-external-login-logo")}),n.createElement("span",null,function(){return e.i18n.s("shared-button-login-with-apple")}))})),n.createElement("div",{class:n.const("dcg-shared-bg-line")},n.createElement("span",null,function(){return e.i18n.s("shared-message-or-login-with-desmos")})),n.createElement(s.SharedAccountModalErrors,{controller:this.props.controller,errors:function(){return e.formErrors}}),n.createElement("form",{class:n.const("dcg-shared-action-submit"),onSubmit:this.bindFn(this.onSubmit)},n.createElement("div",{class:n.const("dcg-shared-email-form-container")},n.createElement("label",null,n.createElement("span",{class:n.const("dcg-shared-input-title")},function(){return e.i18n.s("shared-label-email")}),n.createElement(d,{type:n.const("email"),name:n.const("email"),class:n.const("dcg-shared-input-blue-outline"),"aria-label":function(){return e.i18n.s("shared-label-email")},"aria-required":n.const("true"),required:n.const("required"),didMount:function(t){e.controller.wasModalOpenedWithKeyboard()&&t.focus()},value:function(){return e.email},onInput:function(t){e.email=t,e.unmounted||e.update()}})),n.createElement("div",{class:n.const("dcg-shared-password-container")},n.createElement("label",{for:n.const("password")},n.createElement("span",null,function(){return e.i18n.s("shared-label-password")}),n.createElement(d,{type:n.const("password"),class:n.const("dcg-shared-input-blue-outline"),"aria-label":function(){return e.i18n.s("shared-label-password")},"aria-required":n.const("true"),required:n.const("required"),value:function(){return e.password},name:this.const("password"),onInput:function(t){if(e.password=t,!e.unmounted)return e.update()}}),n.createElement("span",{class:n.const("dcg-shared-password-recovery-link")},n.createElement("a",{role:n.const("link"),tabindex:n.const(0),class:n.const("dcg-shared-action-password"),onTap:function(t){return e.controller.dispatch({type:"show-modal",modal:"recover-password",device:t.device})}},function(){return e.i18n.s("shared-prompt-forgot-your-password")})))),n.createElement("div",{class:n.const("dcg-shared-sign-in-options")},n.createElement(u,{predicate:function(){return e.isSubmittingForm}},function(){return n.createElement("div",{class:n.const("dcg-shared-progress-indicator dcg-shared-create-account-progress")},n.createElement("div",{class:n.const("dcg-shared-spinner")}))}),n.createElement(u,{predicate:function(){return!e.isSubmittingForm}},function(){return n.createElement("div",{class:n.const("dcg-shared-submit-container")},n.createElement("button",{type:n.const("submit"),class:function(){return{"dcg-shared-btn-blue":!0,"dcg-disabled":!e.submitEnabled()}},"aria-disabled":function(){return!e.submitEnabled()},tabindex:function(){return e.submitEnabled()?"0":"-1"}},function(){return e.i18n.s("shared-button-login-capitalized")}))})),n.createElement(i.default,{i18n:this.const(this.i18n)})))))},h.prototype.canChooseRole=function(){return!this.controller.getLimitedSignupRole()},h.prototype.didUnmount=function(){this.unmounted=!0},h.prototype.onSubmit=function(e){e.preventDefault(),this.submitForm()},h.prototype.googleLogin=function(){this.controller.dispatch({type:"close-modal"}),this.controller.userController.googleLogin({fromUI:"login"})},h.prototype.appleLogin=function(){this.controller.dispatch({type:"close-modal"}),this.controller.userController.appleLogin({fromUI:"login"})},h.prototype.submitEnabled=function(){return!(!this.email||!this.password)},h.prototype.submitForm=function(){var e=this;this.submitEnabled()&&(this.isSubmittingForm=!0,this.formErrors=[],this.controller.userController.checkPendingDeletion({email:this.email,lang:this.controller.getLanguage()}).done(function(t){e._pendingDeletion=t.pendingDeletion}).fail(function(){e._pendingDeletion=!1}).always(function(){e.unmounted||(e.unmounted||e.update(),e.controller.userController.desmosLogin({email:e.email,password:e.password,lang:e.controller.getLanguage()}).done(function(){e.unmounted||(e._pendingDeletion?e.controller.dispatch({type:"show-modal",modal:"account-reenabled",device:"mouse"}):e.controller.dispatch({type:"close-modal"}))}).fail(function(t){e.formErrors=e.controller.parseJSONErrors(t)}).always(function(){e.unmounted||(e.isSubmittingForm=!1,e.controller.dispatch({type:"render"}))}))}))},r=h;function h(){return null!==c&&c.apply(this,arguments)||this}t.SharedLoginModal=r}),define("shared-components/shared-recover-password-modal",["require","exports","tslib","dcgview","shared-components/modal","./shared-account-modal-errors","loadcss!./shared-account-modal"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedRecoverPasswordModal=void 0;var a,s=n.Components,c=s.If,l=s.Input;a=n.Class,r.__extends(u,a),u.prototype.init=function(){this.controller=this.props.controller(),this.i18n=this.controller,this.email=this.controller.userController.getEmail(),this.formErrors=[],this.isSubmittingForm=!1,this.didSendRecoveryEmail=!1},u.prototype.template=function(){var e=this;return n.createElement(o.Modal,{title:function(){return e.i18n.s("shared-title-recover-password")},size:this.const("narrow"),showX:this.const(!0),onClose:function(){return e.controller.dispatch({type:"close-modal"})},i18n:this.props.controller},n.createElement("div",{class:n.const("dcg-shared-recover-password-dialog dcg-shared-account-dialog")},n.createElement(i.SharedAccountModalErrors,{controller:this.props.controller,errors:function(){return e.formErrors}}),n.createElement(c,{predicate:function(){return e.didSendRecoveryEmail}},function(){return n.createElement("div",{role:n.const("alert"),class:n.const("dcg-shared-account-paragraph")},function(){return e.i18n.s("shared-message-check-email-for-password-recovery-link")},n.const(" "),n.createElement("a",{href:n.const("#"),class:n.const("dcg-shared-blue-link"),onTap:function(t){return e.didSendRecoveryEmail=!1,e.controller.dispatch({type:"show-modal",modal:"recover-password",device:t.device})}},function(){return e.i18n.s("shared-button-try-again")}))}),n.createElement(c,{predicate:function(){return!e.didSendRecoveryEmail}},function(){return n.createElement("form",{class:n.const("dcg-shared-email-form-container"),onSubmit:e.bindFn(e.onSubmit)},n.createElement("div",{class:n.const("dcg-shared-account-paragraph")},function(){return e.i18n.s("shared-prompt-enter-email-for-password-recovery-link")}),n.createElement("label",null,n.createElement("span",{class:n.const("dcg-shared-input-title")},function(){return e.i18n.s("shared-label-email")}),n.createElement(l,{type:n.const("email"),name:n.const("email"),class:n.const("dcg-shared-input-blue-outline"),"aria-label":function(){return e.i18n.s("shared-label-email")},"aria-required":n.const("true"),required:n.const("required"),didMount:function(t){e.controller.wasModalOpenedWithKeyboard()&&t.focus()},value:function(){return e.email},onInput:function(t){e.email=t,e.unmounted||e.update()}})),n.createElement("div",{class:n.const("dcg-shared-sign-in-options")},n.createElement(c,{predicate:function(){return e.isSubmittingForm}},function(){return n.createElement("div",{class:n.const("dcg-shared-progress-indicator dcg-shared-create-account-progress")},n.createElement("div",{class:n.const("dcg-shared-spinner")}))}),n.createElement(c,{predicate:function(){return!e.isSubmittingForm}},function(){return n.createElement("button",{class:function(){return{"dcg-shared-btn-blue":!0}},type:n.const("submit")},function(){return e.i18n.s("shared-button-recover-password")})})))})))},u.prototype.didUnmount=function(){this.unmounted=!0},u.prototype.onSubmit=function(e){e.preventDefault(),this.submitForm()},u.prototype.submitForm=function(){var e=this;this.formErrors=[],this.isSubmittingForm=!0,this.controller.userController.recoverPassword({email:this.email,lang:this.controller.getLanguage()}).done(function(){e.didSendRecoveryEmail=!0}).fail(function(t){e.formErrors=e.controller.parseJSONErrors(t)}).always(function(){e.isSubmittingForm=!1,e.unmounted||e.update()})},r=u;function u(){return null!==a&&a.apply(this,arguments)||this}t.SharedRecoverPasswordModal=r}),define("loadcss!calculator-shell/hotkeys-dialog",function(){}),define("calculator-shell/hotkeys-dialog",["require","exports","tslib","dcgview","./modal","browser","dcgview-helpers/static-mathquill-view","jquery","loadcss!./hotkeys-dialog"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HotkeysDialog=void 0;var c,l=n.Components.If;c=n.Class,r.__extends(u,c),u.prototype.init=function(){this.controller=this.props.controller(),null==this.controller.state.hotkeysDialog&&(this.controller.state.hotkeysDialog={shortcutOS:i.IS_APPLE?"mac":"windows"})},u.prototype.template=function(){var e=this;return n.createElement(o.Modal,{controller:this.props.controller},n.createElement("div",{id:n.const("dcg-hotkeys-dialog")},n.createElement("h1",null,function(){return e.controller.s("shared-calculator-heading-keyboard-shortcuts")}),n.createElement("div",{class:n.const("dcg-toggle-container")},n.createElement("span",{class:function(){return{"dcg-action-toggleos":!0,"dcg-windows-option":!0,"dcg-selected":"windows"===e.getShortcutOS()}},role:n.const("button"),tabindex:n.const(0),"aria-pressed":function(){return"windows"===e.getShortcutOS()},onTap:function(){return e.setShortcutOS("windows")}},function(){return e.controller.s("shared-calculator-button-windows-chrome")}),n.createElement("span",{class:function(){return{"dcg-action-toggleos":!0,"dcg-mac-option":!0,"dcg-selected":"mac"===e.getShortcutOS()}},role:n.const("button"),tabindex:n.const(0),"aria-pressed":function(){return"mac"===e.getShortcutOS()},onTap:function(){return e.setShortcutOS("mac")}},function(){return e.controller.s("shared-calculator-button-mac")})),n.createElement("div",{class:n.const("dcg-hotkey-container")},n.createElement("div",{class:n.const("dcg-hotkey-section")},n.createElement("h2",{class:n.const("dcg-hotkey-section-header")},function(){return e.controller.s("shared-calculator-heading-keyboard-shortcuts-common-actions")}),n.createElement("table",null,n.createElement("tr",null,n.createElement("th",null,function(){return e.controller.s("shared-calculator-heading-function-table-column-header")}),n.createElement("th",{class:n.const("dcg-os-windows")},function(){return e.controller.s("shared-calculator-heading-windows-chrome-table-column-header")}),n.createElement("th",{class:n.const("dcg-os-mac")},function(){return e.controller.s("shared-calculator-heading-mac-table-column-header")})),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-close-a-dialog")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Esc"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Esc")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-open-a-graph")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("O"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("COMMAND")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("O")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-save-a-graph")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("S"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("COMMAND")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("S")))),n.createElement("tr",{class:n.const("hotkey-table-row")},n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-print-a-graph")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("P"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("COMMAND")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("P")))),n.createElement("tr",{class:n.const("hotkey-table-row")},n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-show-or-hide-expression-list")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("E"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("COMMAND")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("E")))),n.createElement("tr",{class:n.const("hotkey-table-row")},n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-focus-expression-list")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("E"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("COMMAND")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("E")))),n.createElement("tr",{class:n.const("hotkey-table-row")},n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-open-expression-options")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("O"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("O")))),n.createElement("tr",{class:n.const("hotkey-table-row")},n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-delete-expression")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("D"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("D")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-add-expression")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("X"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("COMMAND")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("X")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-add-note")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("O"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("COMMAND")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("O")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-collapse-folder")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("COMMAND")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-expand-folder")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("COMMAND")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-collapse-all-folders")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("COMMAND")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-expand-all-folders")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("COMMAND")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-add-folder")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("F"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("COMMAND")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("F")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-add-image")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("I"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("COMMAND")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("I")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-add-table")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("T"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("COMMAND")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("T")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-undo")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Z"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("COMMAND")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Z")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-redo")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Z"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("COMMAND")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Z")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-toggle-edit-list-mode")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("D"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("OPTION")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("D")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-toggle-graph-settings-menu")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("G"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("COMMAND")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("G")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-toggle-account-menu")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("A"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("COMMAND")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("A")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-toggle-help-menu")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("H"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("COMMAND")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("H")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-toggle-language-menu")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("L"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("COMMAND")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("L")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-toggle-share-menu")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("S"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("COMMAND")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("S"))))),n.createElement("h2",{class:n.const("dcg-hotkey-section-header")},function(){return e.controller.s("shared-calculator-heading-keyboard-shortcuts-expression-entry-and-navigation")}),n.createElement("table",null,n.createElement("tr",null,n.createElement("th",null,function(){return e.controller.s("shared-calculator-heading-function-table-column-header")}),n.createElement("th",{class:n.const("dcg-os-windows")},function(){return e.controller.s("shared-calculator-heading-windows-chrome-table-column-header")}),n.createElement("th",{class:n.const("dcg-os-mac")},n.const("Mac Shortcut"))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-previous-expression")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow")),n.const("or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Tab"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow")),n.const("or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Tab")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-next-expression")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow")),n.const("or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Tab"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow")),n.const("or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Tab")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-remove-empty-expression")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Backspace"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Delete")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-previous-character")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Left Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Left Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-next-character")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-move-to-numerator")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-move-to-denominator")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-exit-block")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Tab"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Tab")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-beginning-of-block")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Home"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Fn")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Left Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-end-of-block")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("End"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Fn")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-beginning-of-expression")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Home"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Fn")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Left Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-end-of-expression")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("End"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Fn")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-increase-selection-left")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Left Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Left Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-increase-selection-right")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-delete-selection")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Backspace"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Delete")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-select-all")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("A"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("COMMAND")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("A")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-speak-parent-block")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Option")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-speak-focused-block")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Option")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-speak-left-adjacent-block")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Left Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Option")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Left Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-speak-right-adjacent-block")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Option")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-speak-selection")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Option")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-speak-answer")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("="))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Option")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow")))),n.createElement(l,{predicate:function(){return e.controller.isDecimalToFractionEnabled()}},function(){return n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-show-answer-as-decimal-or-fraction")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("F"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("COMMAND")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("F"))))})),n.createElement("h2",{class:n.const("dcg-hotkey-section-header")},function(){return e.controller.s("shared-calculator-heading-keyboard-shortcuts-graphs-with-interactive-points")}),n.createElement("table",null,n.createElement("tr",null,n.createElement("th",null,function(){return e.controller.s("shared-calculator-heading-function-table-column-header")}),n.createElement("th",{class:n.const("dcg-os-windows")},function(){return e.controller.s("shared-calculator-heading-windows-chrome-table-column-header")}),n.createElement("th",{class:n.const("dcg-os-mac")},n.const("Mac Shortcut"))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-focus-first-interactive-point")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("P"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("COMMAND")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("P")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-next-interactive-point")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Tab"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Tab")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-previous-interactive-point")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Tab"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Tab")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-increase-x")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-decrease-x")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Left Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Left Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-increase-y")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-decrease-y")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-increase-x-larger")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-decrease-x-larger")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Left Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Left Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-increase-y-larger")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-decrease-y-larger")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-speak-x")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("X"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("X")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-speak-y")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Y"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Y")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-speak-label")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("L"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("L")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-speak-color")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("C"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("C"))))),n.createElement("h2",{class:n.const("dcg-hotkey-section-header")},function(){return e.controller.s("shared-calculator-heading-keyboard-shortcuts-braille")}),n.createElement("table",null,n.createElement("tr",null,n.createElement("th",null,function(){return e.controller.s("shared-calculator-heading-function-table-column-header")}),n.createElement("th",{class:n.const("dcg-os-windows")},function(){return e.controller.s("shared-calculator-heading-windows-chrome-table-column-header")}),n.createElement("th",{class:n.const("dcg-os-mac")},function(){return e.controller.s("shared-calculator-heading-mac-table-column-header")})),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-nemeth-mode")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("N"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("N")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-ueb-mode")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("U"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("U")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-print-mode")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Q"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Q")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-toggle-braille-typing")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("6"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("6")))))),n.createElement("div",{class:n.const("dcg-hotkey-section")},n.createElement("h2",{class:n.const("dcg-hotkey-section-header")},function(){return e.controller.s("shared-calculator-heading-keyboard-shortcuts-symbols")}),n.createElement("table",null,n.createElement("tr",null,n.createElement("th",null,function(){return e.controller.s("shared-calculator-heading-function-table-column-header")}),n.createElement("th",{class:n.const("dcg-os-windows")},function(){return e.controller.s("shared-calculator-heading-windows-chrome-table-column-header")}),n.createElement("th",{class:n.const("dcg-os-mac")},n.const("Mac Shortcut"))),n.createElement("tr",null,n.createElement("td",null,n.createElement(a.default,{config:this.const({}),latex:this.const("a^b")})),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("^")),function(){return"("+e.controller.s("shared-calculator-text-keyboard-shortcut-usually")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("6")),n.const(")")),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("^")),function(){return"("+e.controller.s("shared-calculator-text-keyboard-shortcut-usually")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("6")),n.const(")"))),n.createElement("tr",null,n.createElement("td",null,n.createElement(a.default,{config:this.const({}),latex:this.const("a_b")})),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("_")),function(){return"("+e.controller.s("shared-calculator-text-keyboard-shortcut-usually")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("-")),n.const(")")),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("_")),function(){return"("+e.controller.s("shared-calculator-text-keyboard-shortcut-usually")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("-")),n.const(")"))),n.createElement("tr",null,n.createElement("td",null,n.createElement(a.default,{config:this.const({}),latex:this.const("\\le")})),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("<")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("="))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("<")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("=")))),n.createElement("tr",null,n.createElement("td",null,n.createElement(a.default,{config:this.const({}),latex:this.const("\\ge")})),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const(">")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("="))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const(">")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("=")))),n.createElement("tr",null,n.createElement("td",null,n.createElement(a.default,{config:this.const({}),latex:this.const("a'")})),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("'"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("'")))),n.createElement("tr",null,n.createElement("td",null,n.createElement(a.default,{config:this.const({}),latex:this.const("\\frac{a}{b}")})),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("f")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("r")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("a")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("c"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("f")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("r")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("a")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("c")))),n.createElement("tr",null,n.createElement("td",null,n.createElement(a.default,{config:this.const({}),latex:this.const("\\sqrt{a}")})),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("s")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("q")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("r")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("t"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("s")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("q")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("r")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("t")))),n.createElement("tr",null,n.createElement("td",null,n.createElement(a.default,{config:this.const({}),latex:this.const("\\sqrt[3]{a}")})),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("c")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("b")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("r")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("t"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("c")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("b")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("r")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("t")))),n.createElement("tr",null,n.createElement("td",null,n.createElement(a.default,{config:this.const({}),latex:this.const("\\sqrt[n]{a}")})),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("n")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("t")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("h")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("r")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("o")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("o")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("t"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("n")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("t")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("h")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("r")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("o")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("o")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("t")))),n.createElement("tr",null,n.createElement("td",null,n.createElement(a.default,{config:this.const({}),latex:this.const("\\sum_{n=a}^b")})),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("s")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("u")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("m"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("s")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("u")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("m")))),n.createElement("tr",null,n.createElement("td",null,n.createElement(a.default,{config:this.const({}),latex:this.const("\\int_a^b")})),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("i")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("n")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("t"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("i")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("n")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("t")))),n.createElement("tr",null,n.createElement("td",null,n.createElement(a.default,{config:this.const({}),latex:this.const("\\prod_{n=a}^b")})),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("p")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("r")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("o")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("d"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("p")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("r")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("o")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("d")))),n.createElement("tr",null,n.createElement("td",null,n.createElement(a.default,{config:this.const({}),latex:this.const("\\pi")})),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("p")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("i"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("p")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("i")))),n.createElement("tr",null,n.createElement("td",null,n.createElement(a.default,{config:this.const({}),latex:this.const("\\theta")})),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("t")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("h")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("e")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("t")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("a"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("t")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("h")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("e")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("t")),n.createElement("span",{class:n.const("dcg-key-command")},n.const("a")))),n.createElement("tr",null,n.createElement("td",null,this.const("")),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("-")),n.createElement("span",{class:n.const("dcg-key-command")},n.const(">"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("-")),n.createElement("span",{class:n.const("dcg-key-command")},n.const(">"))))),n.createElement("h2",{class:n.const("dcg-hotkey-section-header")},function(){return e.controller.s("shared-calculator-heading-keyboard-shortcuts-audio-tracing")}),n.createElement("table",null,n.createElement("tr",null,n.createElement("th",null,function(){return e.controller.s("shared-calculator-heading-function-table-column-header")}),n.createElement("th",{class:n.const("dcg-os-windows")},function(){return e.controller.s("shared-calculator-heading-windows-chrome-table-column-header")}),n.createElement("th",{class:n.const("dcg-os-mac")},n.const("Mac Shortcut"))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-toggle-audio-trace")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("T"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Option")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("T")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-summarize-graph")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("S"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Option")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("S")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-describe-axes")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("G"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Option")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("G")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-previous-point")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Left Arrow")),n.const(","),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow")),n.const(", or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("J"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Left Arrow")),n.const(","),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow")),n.const(", or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("J")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-next-point")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow")),n.const(","),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow")),n.const(", or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("L"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow")),n.const(","),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow")),n.const(", or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("L")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-previous-poi")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Page Up")),n.const(","),n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Tab")),n.const(", or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("K"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Fn")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow")),n.const(","),n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Tab")),n.const(", or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("K")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-next-poi")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Page Down")),n.const(","),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Tab")),n.const(", or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("I"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Fn")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow")),n.const(","),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Tab")),n.const(", or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("I")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-first-point")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Home")),n.const("or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("U"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Fn")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Left Arrow")),n.const("or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("U")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-last-point")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("End")),n.const("or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("N"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Fn")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow")),n.const("or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("N")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-speak-poi-count")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("P"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("P")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-speak-x")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("X"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("X")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-speak-y")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Y"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Y")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-speak-color")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("C"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("C")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-speak-branch")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("B"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("B")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-speak-point-type")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("T"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("T")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-move-to-origin")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("O"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("O")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-previous-curve")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("OPTION")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-next-curve")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("OPTION")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-hear-graph")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("H"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("H")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-hear-specific-branch")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("1")),n.const("-"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("0"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("1")),n.const("-"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("0")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-adjust-playback-speed")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("ALT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("1")),n.const("-"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("5"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Option")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("1")),n.const("-"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("5")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-increase-volume")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("V"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("V")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-decrease-volume")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("V"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("V")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-announce-slider-animations")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("A"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("A")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-toggle-slider-trace")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("S"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("S")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-slider-trace-decrease")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Left Arrow")),n.const("or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("J"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Left Arrow")),n.const("or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("J")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-slider-trace-decrease-larger")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Page Down"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Fn")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-slider-trace-increase")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow")),n.const("or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("L"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow")),n.const("or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("L")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-slider-trace-increase-larger")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Page Up"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Fn")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-slider-trace-minimum")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Home")),n.const("or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("U"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Fn")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Left Arrow")),n.const("or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("U")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-slider-trace-maximum")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("End")),n.const("or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("N"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Fn")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow")),n.const("or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("N")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-slider-trace-next-slider")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow")),n.const(","),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Tab")),n.const(", or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("K"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow")),n.const(","),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Tab")),n.const(", or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("K")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-slider-trace-previous-slider")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow")),n.const(","),n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Tab")),n.const(", or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("I"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow")),n.const(","),n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Tab")),n.const(", or"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("I"))))),n.createElement("h2",{class:n.const("dcg-hotkey-section-header")},function(){return e.controller.s("shared-calculator-heading-keyboard-shortcuts-sliders")}),n.createElement("table",null,n.createElement("tr",null,n.createElement("th",null,function(){return e.controller.s("shared-calculator-heading-function-table-column-header")}),n.createElement("th",{class:n.const("dcg-os-windows")},function(){return e.controller.s("shared-calculator-heading-windows-chrome-table-column-header")}),n.createElement("th",{class:n.const("dcg-os-mac")},n.const("Mac Shortcut"))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-slider-decrease")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Left Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Left Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-slider-decrease-larger")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Page Down"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Fn")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-slider-increase")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-slider-increase-larger")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Page Up"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Fn")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-slider-minimum")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Home"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Fn")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Left Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-slider-maximum")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("End"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Fn")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow"))))),n.createElement("h2",{class:n.const("dcg-hotkey-section-header tables-section")},function(){return e.controller.s("shared-calculator-heading-keyboard-shortcuts-tables")}),n.createElement("table",null,n.createElement("tr",null,n.createElement("th",null,function(){return e.controller.s("shared-calculator-heading-function-table-column-header")}),n.createElement("th",{class:n.const("dcg-os-windows")},function(){return e.controller.s("shared-calculator-heading-windows-chrome-table-column-header")}),n.createElement("th",{class:n.const("dcg-os-mac")},n.const("Mac Shortcut"))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-table-previous-cell")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Tab"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("SHIFT")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Tab")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-table-next-cell")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Tab"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Tab")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-table-previous-row")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-table-next-row")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-table-previous-column")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Left Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Left Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-table-next-column")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-table-first-row")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Up Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-table-last-row")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Down Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-table-first-column")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Left Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Left Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-table-last-column")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("Right Arrow")))),n.createElement("tr",null,n.createElement("td",null,function(){return e.controller.s("shared-calculator-text-keyboard-shortcut-table-speak-column-header")}),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-windows")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("H"))),n.createElement("td",{class:n.const("dcg-keyboard-shortcut dcg-os-mac")},n.createElement("span",{class:n.const("dcg-key-command")},n.const("CTRL")),n.const("+"),n.createElement("span",{class:n.const("dcg-key-command")},n.const("H")))))))))},u.prototype.getShortcutOS=function(){return this.controller.state.hotkeysDialog.shortcutOS},u.prototype.setShortcutOS=function(e){this.controller.state.hotkeysDialog.shortcutOS=e,this.unmounted||this.update()},u.prototype.didMount=function(){this.updateVisibleShortcuts()},u.prototype.didUnmount=function(){this.unmounted=!0},u.prototype.didUpdate=function(){this.updateVisibleShortcuts()},u.prototype.updateVisibleShortcuts=function(){var e=this.getShortcutOS(),t=s(".dcg-os-mac"),r=s(".dcg-os-windows");"mac"===e?(t.show(),r.hide()):"windows"===e&&(t.hide(),r.show())},r=u;function u(){return null!==c&&c.apply(this,arguments)||this}t.HotkeysDialog=r}),define("calculator-shell/unsupported-browser",["require","exports","tslib","dcgview","./modal"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnsupportedBrowserDialog=void 0;var i;i=n.Class,r.__extends(a,i),a.prototype.init=function(){this.controller=this.props.controller()},a.prototype.template=function(){var e=this;return n.createElement(o.Modal,{controller:this.props.controller},n.createElement("div",{id:n.const("unsupported-browser")},n.createElement("div",{id:n.const("unsupported-browser-title"),style:n.const("color:black; font-size:150%;")},function(){return e.controller.s("account-shell-heading-unsupported-browser")}),n.createElement("div",{style:n.const("padding:20px 0px; color:#666")},function(){return e.controller.s("account-shell-text-unsupported-browser-android")},n.createElement("br",null),n.createElement("br",null),n.createElement("a",{href:n.const("https://play.google.com/store/apps/details?id=com.android.chrome")},function(){return e.controller.s("account-shell-link-download-chrome")},n.createElement("br",null),n.createElement("br",null)),n.createElement("div",{style:n.const("text-align: center; margin-top: 25px; margin-bottom:-16px")},n.createElement("a",{role:n.const("link"),tabindex:n.const("0"),class:n.const("dcg-btn dcg-action-hide dcg-do-not-blur"),onTap:function(){return e.controller.dispatch({type:"close-modal"})}},function(){return e.controller.s("account-shell-button-hide-browser-warning")})))))},r=a;function a(){return null!==i&&i.apply(this,arguments)||this}t.UnsupportedBrowserDialog=r}),define("loadcss!shared-components/shared-account-settings-modal",function(){}),define("shared-components/shared-delete-account",["require","exports","tslib","dcgview","shared/dcgviews/localize","./shared-account-modal-errors","loadcss!./shared-account-settings-modal","loadcss!shared-components/btn-styles"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedDeleteAccount=void 0;var a;a=n.Class,r.__extends(s,a),s.prototype.init=function(){this.controller=this.props.controller(),this.i18n=this.controller,this.formErrors=[]},s.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-shared-delete-account dcg-shared-account-settings-section")},n.createElement("h1",{class:n.const("dcg-shared-left-align-title")},function(){return e.i18n.s("shared-title-delete-account")}),n.createElement("div",{class:n.const("dcg-shared-account-paragraph")},n.createElement(o.Localize,{key:this.const("shared-message-delete-account-notice"),i18n:this.props.controller},n.const("When you delete your account,"),n.const(" "),n.createElement("b",null,n.const("we will retain your data for 30 days.")),n.const(" "),n.const("You can reactivate your account at any time during those 30 days by logging back in."),n.const(" "),n.const("If there's something about Desmos we can improve, please"),n.const(" "),n.createElement("a",{href:n.const("mailto:support@desmos.com"),class:n.const("dcg-shared-blue-link")},n.const("let us know.")))),n.createElement("div",{class:n.const("dcg-shared-account-paragraph")},function(){return e.i18n.s("shared-message-delete-account-will-send-email",{email:e.i18n.raw(e.controller.userController.getEmail())})}),n.createElement("form",{onSubmit:this.bindFn(this.onSubmit)},n.createElement(i.SharedAccountModalErrors,{controller:this.props.controller,errors:function(){return e.formErrors}}),n.createElement("div",{class:n.const("dcg-shared-modal-actions-container")},n.createElement("div",{role:n.const("link"),tabindex:n.const(0),class:n.const("dcg-shared-dark-gray-link"),didMount:function(t){e.controller.wasModalOpenedWithKeyboard()&&t.focus()},onTap:function(){return e.controller.logJSON("shared-delete-account",{action:"cancel-delete-account"}),e.props.hideForm()}},function(){return e.i18n.s("shared-button-cancel")}),n.createElement("button",{class:function(){return{"dcg-shared-btn-red":!0,"dcg-disabled":e.disabled}},"aria-disabled":function(){return e.disabled},tabindex:function(){return e.disabled?"-1":"0"},type:n.const("submit")},function(){return e.i18n.s("shared-button-send-delete-account-email")}))))},s.prototype.onAccountDeleted=function(){return this.props.submitForm()},s.prototype.onAccountDeletionFailed=function(){if(this.formErrors=[this.controller.getSomethingWentWrongText()],!this.unmounted)return this.update()},s.prototype.doDeleteAccount=function(){this.disabled||(this.controller.logJSON("shared-delete-account",{action:"send-delete-account-email"}),this.controller.userController.initiateAccountDeletion({lang:this.controller.getLanguage()}).done(this.bindFn(this.onAccountDeleted)).fail(this.bindFn(this.onAccountDeletionFailed)))},s.prototype.didUnmount=function(){return this.unmounted=!0},s.prototype.onSubmit=function(e){e.preventDefault(),this.doDeleteAccount()},r=s;function s(){return null!==a&&a.apply(this,arguments)||this}t.SharedDeleteAccount=r}),define("shared-components/shared-email-settings",["require","exports","tslib","dcgview","./shared-account-modal-errors","loadcss!./shared-account-settings-modal","loadcss!shared-components/btn-styles"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedEmailSettings=void 0;var i,a=n.Components.If;i=n.Class,r.__extends(s,i),s.prototype.init=function(){this.controller=this.props.controller(),this.i18n=this.controller,this.formStatus=0,this.emailDisabled=null},s.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-shared-email-field-container")},n.createElement(a,{predicate:function(){return 0===e.formStatus}},function(){return n.createElement("div",{class:n.const("dcg-shared-email-field")},n.createElement("div",{class:n.const("dcg-shared-profile-info-container")},n.createElement("span",{class:n.const("dcg-shared-profile-info-title"),role:n.const("heading"),"aria-level":n.const("1")},function(){return e.i18n.s("shared-title-email-settings")}),n.createElement("div",{class:n.const("dcg-shared-profile-info-content")},function(){return e.i18n.raw(e.controller.userController.getEmail())},n.createElement("div",{class:n.const("dcg-shared-message-container")},n.createElement("div",{role:n.const("link"),tabindex:n.const(0),class:n.const("dcg-shared-blue-link"),didMount:function(t){e.controller.wasModalOpenedWithKeyboard()&&t.focus()},onTap:function(){return e.setFormStatus(1)}},function(){return e.i18n.s("shared-button-change-email-address")})))))}),n.createElement(a,{predicate:function(){return 1===e.formStatus}},function(){return n.createElement("div",{class:n.const("dcg-shared-change-email-container")},n.createElement("div",{class:n.const("dcg-shared-change-email-description")},function(){return e.i18n.s("shared-message-email-settings-will-send-email",{emailAddress:e.i18n.raw(e.controller.userController.getEmail())})}),n.createElement(o.SharedAccountModalErrors,{controller:e.props.controller,errors:function(){return e.formErrors}}),n.createElement("div",{class:n.const("dcg-shared-modal-actions-container")},n.createElement("span",{role:n.const("link"),tabindex:n.const(0),class:n.const("dcg-shared-dark-gray-link"),didMount:function(t){e.controller.wasModalOpenedWithKeyboard()&&t.focus()},onTap:function(){return e.setFormStatus(0)}},function(){return e.i18n.s("shared-button-cancel")}),n.createElement("button",{class:function(){return{"dcg-shared-btn-blue":!0,"dcg-disabled":e.emailDisabled}},"aria-disabled":function(){return e.disabled},tabindex:function(){return e.disabled?"-1":"0"},type:n.const("submit"),onTap:function(){return e.emailDisabled||e.sendChangeEmail()}},function(){return e.i18n.s("shared-button-send-email")})))}),n.createElement(a,{predicate:function(){return 3===e.formStatus}},function(){return n.createElement("div",{"aria-live":n.const("assertive"),"aria-atomic":n.const("true"),class:n.const("dcg-shared-confirmation-message-container")},n.createElement("div",{class:n.const("dcg-shared-confirmation-message")},n.createElement("i",{class:function(){return{"dcg-shared-icon-check":!0,"dcg-success-marker":!0}},"aria-hidden":n.const("true")}),function(){return e.i18n.s("shared-message-email-sent")}),n.createElement("div",null,function(){return e.i18n.s("shared-message-check-email-for-link",{emailAddress:e.i18n.raw(e.controller.userController.getEmail())})}))}))},s.prototype.didUnmount=function(){this.unmounted=!0},s.prototype.setToast=function(e){var t=this;this.toastMessage||(this.toastMessage=e,this.unmounted||this.update(),setTimeout(function(){t.toastMessage=null,t.unmounted||t.update()},5e3),2===this.formStatus&&setTimeout(function(){t.setFormStatus(0),t.unmounted||t.update()},5200))},s.prototype.setFormStatus=function(e){this.formStatus=e,this.toastMessage=null,this.formErrors=[],this.update()},s.prototype.onEmailSent=function(){var e=this;this.formStatus=3,this.emailDisabled=null,this.unmounted||this.update(),setTimeout(function(){e.formStatus=0,e.unmounted||e.update()},5e3),setTimeout(function(){e.formStatus=0,e.unmounted||e.update()},5200)},s.prototype.onEmailSendingFailed=function(){this.formErrors=[this.controller.getSomethingWentWrongText()],this.emailDisabled=null,this.unmounted||this.update()},s.prototype.sendChangeEmail=function(){this.emailDisabled=!0,this.unmounted||this.update(),this.controller.userController.initiateEmailChange({lang:this.controller.getLanguage()}).done(this.bindFn(this.onEmailSent)).fail(this.bindFn(this.onEmailSendingFailed))},r=s;function s(){return null!==i&&i.apply(this,arguments)||this}t.SharedEmailSettings=r}),define("loadcss!shared-components/shared-profile-info",function(){}),define("shared-components/shared-profile-info",["require","exports","tslib","dcgview","./shared-delete-account","./shared-email-settings","loadcss!./shared-profile-info"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedProfileInfo=void 0;var a,s=(d=n.Components).If,c=d.Input,l=d.Switch,u=d.SwitchUnion,d=(a=n.Class,r.__extends(p,a),p.prototype.init=function(){this.controller=this.props.controller(),this.i18n=this.controller,this.deleteAccount=0},p.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-shared-profile-info dcg-shared-account-settings-section")},n.createElement(l,{key:function(){return e.deleteAccount}},function(t){switch(t){case 0:return n.createElement("div",null,n.createElement("div",{class:n.const("dcg-shared-email-form-container")},n.createElement(y,{controller:e.props.controller})),n.createElement(i.SharedEmailSettings,{controller:e.props.controller}),n.createElement("div",{role:n.const("link"),tabindex:n.const(0),class:n.const("dcg-shared-dark-gray-link dcg-shared-delete-link"),onTap:function(){return e.confirmDeletion()}},function(){return e.i18n.s("shared-button-delete-account-question")}));case 1:return n.createElement(o.SharedDeleteAccount,{hideForm:function(){return e.setDeleteAccount(0)},submitForm:function(){return e.setDeleteAccount(2)},controller:e.props.controller});case 2:return n.createElement("div",{"aria-live":n.const("assertive"),"aria-atomic":n.const("true"),class:n.const("dcg-shared-confirmation-message-container")},n.createElement("div",{class:n.const("dcg-shared-confirmation-message")},n.createElement("i",{class:function(){return{"dcg-shared-icon-check":!0,"dcg-success-marker":!0}},"aria-hidden":n.const("true")}),function(){return e.i18n.s("shared-message-email-sent")}),n.createElement("div",null,function(){return e.i18n.s("shared-message-check-email-for-delete-link",{emailAddress:e.i18n.raw(e.controller.userController.getEmail())})}))}}))},p.prototype.didUnmount=function(){this.unmounted=!0},p.prototype.setDeleteAccount=function(e){var t=this;2===(this.deleteAccount=e)&&setTimeout(function(){t.controller.userController.logout().done(function(){return t.controller.dispatch({type:"close-modal"})})},5e3),this.unmounted||this.update()},p.prototype.confirmDeletion=function(){this.controller.logJSON("shared-profile-info",{action:"delete-account"}),this.setDeleteAccount(1),this.unmounted||this.update()},p);function p(){return null!==a&&a.apply(this,arguments)||this}t.SharedProfileInfo=d;var h,f,g,m,y=(m=n.Class,r.__extends(k,m),k.prototype.init=function(){this.controller=this.props.controller();var e=this.controller.userController.getNameDetail();"legacy"==e.source?this.state={state:"legacy",name:e.given,previousName:e.given}:"parsed"==e.source?this.state={state:"name-detail",confirm:!0,given:e.given,family:e.family||"",previousGiven:"",previousFamily:""}:this.state={state:"name-detail",confirm:!1,given:e.given,family:e.family||"",previousGiven:e.given,previousFamily:e.family||""}},k.prototype.template=function(){var e=this;return u("state",function(){return e.state})({legacy:function(t){return n.createElement(v,{state:t,controller:e.props.controller,wasModalOpenedWithKeyboard:function(){return e.controller.wasModalOpenedWithKeyboard()},onSaveName:e.bindFn(e.onSaveName),showSavedNotice:function(){return e.showSavedNotice},updateState:function(t){"legacy"==e.state.state&&(e.state=r.__assign(r.__assign({},e.state),t),e.unmounted||e.update())}})},"name-detail":function(t){return n.createElement(b,{state:t,controller:e.props.controller,wasModalOpenedWithKeyboard:function(){return e.controller.wasModalOpenedWithKeyboard()},showSavedNotice:function(){return e.showSavedNotice},onSaveName:e.bindFn(e.onSaveName),updateState:function(t){"name-detail"==e.state.state&&(e.state=r.__assign(r.__assign({},e.state),t),e.unmounted||e.update())}})}})},k.prototype.onSaveName=function(){switch(this.state.state){case"legacy":this.controller.userController.setNameLegacy({name:this.state.name,lang:this.controller.getLanguage()}).done(this.bindFn(this.onSaved));break;case"name-detail":this.controller.userController.setNameDetail({given:this.state.given,family:this.state.family,lang:this.controller.getLanguage()}).done(this.bindFn(this.onSaved))}},k.prototype.maybeUpdate=function(){this.unmounted||this.update()},k.prototype.onSaved=function(){var e=this;switch(this.state.state){case"legacy":this.state.previousName=this.state.name;break;case"name-detail":this.state.previousGiven=this.state.given,this.state.previousFamily=this.state.family,this.state.confirm=!1}this.showSavedNotice=!0,this.maybeUpdate(),setTimeout(function(){e.showSavedNotice=!1,e.maybeUpdate()},3e3)},k.prototype.willUnmount=function(){this.unmounted=!0},k.prototype.didMount=function(){this.unmounted=!1},k),v=(g=n.Class,r.__extends(S,g),S.prototype.init=function(){this.controller=this.props.controller(),this.i18n=this.controller},S.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-shared-name-field")},n.createElement("div",{class:n.const("dcg-shared-profile-info-container")},n.createElement("span",{class:n.const("dcg-shared-profile-info-title"),role:n.const("heading"),"aria-level":n.const("1")},function(){return e.i18n.s("shared-label-name")}),n.createElement(c,{type:n.const("text"),name:n.const("name"),class:n.const("dcg-shared-input-blue-outline dcg-shared-profile-info-content"),didMount:this.bindFn(this.didMountName),onInput:this.bindFn(this.onNameInput),"aria-label":function(){return e.i18n.s("shared-label-name")},value:function(){return e.props.state().name},autocomplete:n.const("off")})),n.createElement("div",{class:n.const("dcg-shared-modal-actions-container")},n.createElement(x,{showSavedNotice:this.props.showSavedNotice,i18n:this.props.controller}),n.createElement("div",{role:n.const("button"),"aria-disabled":this.bindFn(this.nameFieldDisabled),tabindex:function(){return e.nameFieldDisabled()?"-1":"0"},class:function(){return{"dcg-shared-btn-blue":!0,"dcg-disabled":e.nameFieldDisabled()}},onTap:this.bindFn(this.onSaveName)},function(){return e.i18n.s("shared-button-save")})))},S.prototype.onNameInput=function(e){this.props.updateState({name:e})},S.prototype.didMountName=function(e){this.props.wasModalOpenedWithKeyboard()&&e.focus()},S.prototype.onSaveName=function(){this.nameFieldDisabled()||this.props.onSaveName()},S.prototype.nameFieldDisabled=function(){var e=this.props.state();return!e.name||e.name===e.previousName},S),b=(f=n.Class,r.__extends(E,f),E.prototype.init=function(){this.controller=this.props.controller(),this.i18n=this.controller},E.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-shared-name-field")},n.createElement("div",{class:function(){return{"dcg-shared-confirm-name":e.props.state().confirm}}},n.createElement(s,{predicate:function(){return e.props.state().confirm}},function(){return n.createElement("span",null,function(){return e.i18n.s("shared-message-please-review-name")})}),n.createElement("div",{class:n.const("dcg-shared-profile-info-container")},n.createElement("div",{class:n.const("dcg-shared-name-input")},n.createElement("span",{class:n.const("dcg-shared-profile-info-title"),role:n.const("heading"),"aria-level":n.const("1")},function(){return e.i18n.s("shared-label-given-name-or-nickname")}),n.createElement(c,{type:n.const("text"),name:n.const("given-name"),class:n.const("dcg-shared-input-blue-outline dcg-shared-profile-info-content"),didMount:this.bindFn(this.didMountName),onInput:function(t){return e.props.updateState({given:t})},"aria-label":function(){return e.i18n.s("shared-label-given-name-or-nickname")},value:function(){return e.props.state().given},autocomplete:n.const("off")})),n.createElement("div",{class:n.const("dcg-shared-name-input")},n.createElement("span",{class:n.const("dcg-shared-profile-info-title"),role:n.const("heading"),"aria-level":n.const("1")},function(){return e.i18n.s("shared-label-family-name")}),n.createElement(c,{type:n.const("text"),name:n.const("family-name"),class:n.const("dcg-shared-input-blue-outline dcg-shared-profile-info-content"),onInput:function(t){return e.props.updateState({family:t})},"aria-label":function(){return e.i18n.s("shared-label-family-name")},value:function(){return e.props.state().family},autocomplete:n.const("off")}))),n.createElement("div",{class:n.const("dcg-shared-modal-actions-container")},n.createElement(x,{i18n:this.props.controller,showSavedNotice:this.props.showSavedNotice}),n.createElement("div",{role:n.const("button"),"aria-disabled":function(){return!e.canSubmit()},tabindex:function(){return e.canSubmit()?"0":"-1"},class:function(){return{"dcg-shared-btn-blue":!0,"dcg-disabled":!e.canSubmit()}},onTap:this.bindFn(this.onSaveName)},function(){return e.props.state().confirm?e.i18n.s("shared-button-confirm-name"):e.i18n.s("shared-button-save")}))))},E.prototype.didMountName=function(e){this.props.wasModalOpenedWithKeyboard()&&e.focus()},E.prototype.onSaveName=function(){this.canSubmit()&&this.props.onSaveName()},E.prototype.canSubmit=function(){var e=this.props.state();return!(!e.given||!e.confirm&&e.given===e.previousGiven&&e.family===e.previousFamily)},E),x=(h=n.Class,r.__extends(w,h),w.prototype.template=function(){var e=this;return n.createElement(s,{predicate:function(){return e.props.showSavedNotice()}},function(){return n.createElement("span",{"aria-live":n.const("assertive"),"aria-atomic":n.const("true"),class:n.const("dcg-shared-confirmation-message")},n.createElement("i",{class:function(){return{"dcg-shared-icon-check":!0,"dcg-success-marker":!0}},"aria-hidden":n.const("true")}),function(){return e.props.i18n().s("shared-message-information-saved")})})},w);function w(){return null!==h&&h.apply(this,arguments)||this}function E(){return null!==f&&f.apply(this,arguments)||this}function S(){return null!==g&&g.apply(this,arguments)||this}function k(){return null!==m&&m.apply(this,arguments)||this}}),define("shared-components/shared-change-password",["require","exports","tslib","dcgview","./shared-account-modal-errors","loadcss!./shared-account-settings-modal","loadcss!shared-components/btn-styles"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedChangePassword=void 0;var i,a=n.Components.If;i=n.Class,r.__extends(s,i),s.prototype.init=function(){this.controller=this.props.controller(),this.i18n=this.controller,this.mode=1,this.formErrors=[]},s.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-shared-change-password dcg-shared-account-settings-section")},n.createElement(a,{predicate:function(){return 1===e.mode}},function(){return n.createElement("div",{class:n.const("dcg-shared-reset-by-email")},n.createElement("div",{class:n.const("dcg-shared-account-paragraph")},function(){return e.i18n.s("shared-message-change-password-email-sent",{emailAddress:e.i18n.raw(e.controller.userController.getEmail())})}),n.createElement(o.SharedAccountModalErrors,{controller:e.props.controller,errors:function(){return e.formErrors}}),n.createElement("div",{class:n.const("dcg-shared-modal-actions-container")},n.createElement("div",{role:n.const("button"),"aria-disabled":function(){return e.emailDisabled},tabindex:function(){return e.emailDisabled?"-1":"0"},class:function(){return{"dcg-shared-btn-blue":!0,"dcg-disabled":e.emailDisabled}},didMount:function(t){e.controller.wasModalOpenedWithKeyboard()&&t.focus()},onTap:function(){return e.sendResetPasswordEmail()}},function(){return e.i18n.s("shared-button-send-email")})))}),n.createElement(a,{predicate:function(){return 2===e.mode}},function(){return n.createElement("div",{"aria-live":n.const("assertive"),"aria-atomic":n.const("true"),class:n.const("dcg-shared-confirmation-message-container")},n.createElement("div",{class:n.const("dcg-shared-confirmation-message")},n.createElement("i",{class:function(){return{"dcg-shared-icon-check":!0,"dcg-success-marker":!0}},"aria-hidden":n.const("true")}),function(){return e.i18n.s("shared-message-email-sent")}),n.createElement("div",null,function(){return e.i18n.s("shared-message-check-email-for-password-link",{emailAddress:e.i18n.raw(e.controller.userController.getEmail())})}))}))},s.prototype.didUnmount=function(){this.unmounted=!0},s.prototype.onEmailSent=function(){var e=this;this.mode=2,this.unmounted||this.update(),setTimeout(function(){e.mode=0,e.unmounted||e.update()},5e3),setTimeout(function(){e.mode=1,e.unmounted||e.update()},5200)},s.prototype.onEmailSendingFailed=function(){this.formErrors=[this.controller.getSomethingWentWrongText()],this.unmounted||this.update()},s.prototype.sendResetPasswordEmail=function(){this.controller.userController.recoverPassword({email:this.controller.userController.getEmail(),lang:this.controller.getLanguage()}).done(this.bindFn(this.onEmailSent)).fail(this.bindFn(this.onEmailSendingFailed))},r=s;function s(){return null!==i&&i.apply(this,arguments)||this}t.SharedChangePassword=r}),define("shared-components/shared-account-settings-modal",["require","exports","tslib","dcgview","shared-components/modal","./shared-profile-info","./shared-change-password","jquery","underscore","loadcss!./shared-account-settings-modal","loadcss!shared-components/btn-styles"],function(e,t,r,n,o,i,a,s,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedAccountSettingsModal=t.CHANGE_PASS=t.PROFILE_INFO=void 0;var l=(p=n.Components).For,u=p.Switch;t.PROFILE_INFO="profile-info",t.CHANGE_PASS="change-password";var d,p=(d=n.Class,r.__extends(h,d),h.prototype.init=function(){this.controller=this.props.controller(),this.i18n=this.controller,this.settingsView=this.props.initialTab&&this.props.initialTab()||t.PROFILE_INFO,this.breakPoint=660,this.measureWindow()},h.prototype.template=function(){var e=this;return n.createElement(o.Modal,{title:function(){return e.i18n.s("shared-title-account-settings")},size:this.const("wide"),showX:this.const(!0),leftAlignTitle:this.const(!0),onClose:function(){return e.controller.dispatch({type:"close-modal"})},i18n:this.props.controller},n.createElement("div",{class:n.const("dcg-shared-account-settings-dialog dcg-shared-account-dialog")},n.createElement(l,{each:function(){return e.getTabs()},key:function(e){return""+e.key}},n.createElement("div",{class:n.const("dcg-shared-navigation-tabs"),role:n.const("tablist")},function(t){return n.createElement("div",{role:n.const("tab"),tabindex:n.const("0"),"aria-selected":function(){return e.settingsView===t.key},didMount:function(r){e.controller.wasModalOpenedWithKeyboard()&&e.settingsView===t.key&&r.focus()},class:function(){var r;return(r={"dcg-shared-tab-gray-underline":!0})[t.class]=!0,r["dcg-selected"]=e.settingsView===t.key,r},onTap:function(){return e.updateSettingsView(t.key)}},t.label)})),n.createElement("div",{class:n.const("dcg-shared-content-container")},n.createElement(u,{key:function(){return e.settingsView}},function(r){return r===t.PROFILE_INFO?n.createElement(i.SharedProfileInfo,{controller:e.props.controller}):r===t.CHANGE_PASS?n.createElement(a.SharedChangePassword,{controller:e.props.controller}):e.props.extraTabs?n.createElement("div",{class:n.const("dcg-shared-profile-info dcg-shared-account-settings-section")},e.props.extraTabs().createView(r)):n.createElement("span",null)}))))},h.prototype.getTabs=function(){var e=this,n=[{key:t.PROFILE_INFO,label:this.bindFn(this.profileTitle),class:"profile-view-button"},{key:t.CHANGE_PASS,label:this.bindFn(this.passwordTitle),class:"change-password-view-button"}];return this.props.extraTabs?r.__spreadArray(r.__spreadArray([],n),this.props.extraTabs().tabs.map(function(t){var r=t.key,n=t.narrowLabel,o=t.wideLabel;return{key:r,label:function(){return(e.windowWidth>e.breakPoint?n:o)()},class:t.class+"-button"}})):n},h.prototype.updateSettingsView=function(e){this.settingsView=e,this.unmounted||this.update()},h.prototype.profileTitle=function(){return this.windowWidth>this.breakPoint?this.i18n.s("shared-title-profile-information-wide"):this.i18n.s("shared-title-profile-information-narrow")},h.prototype.passwordTitle=function(){return this.windowWidth>this.breakPoint?this.i18n.s("shared-title-change-password-wide"):this.i18n.s("shared-title-change-password-narrow")},h.prototype.measureWindow=function(){return this.windowWidth=s(window).width()},h.prototype.didMount=function(){var e=this;s(window).on("resize.account-dialog",c.throttle(function(){e.measureWindow(),e.unmounted||e.update()},200))},h.prototype.didUnmount=function(){s(window).off("resize.account-dialog"),this.unmounted=!0},h.prototype.isProfileSelected=function(){return this.settingsView===t.PROFILE_INFO},h.prototype.isChangePasswordSelected=function(){return this.settingsView===t.CHANGE_PASS},h);function h(){return null!==d&&d.apply(this,arguments)||this}t.SharedAccountSettingsModal=p}),define("shared-components/shared-change-email-modal",["require","exports","tslib","dcgview","shared-components/modal","./shared-account-modal-errors","loadcss!./shared-account-modal"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedChangeEmailModal=void 0;var a,s=n.Components.Input;a=n.Class,r.__extends(c,a),c.prototype.init=function(){this.controller=this.props.controller(),this.i18n=this.controller,this.formErrors=[]},c.prototype.template=function(){var e=this;return n.createElement(o.Modal,{title:function(){return e.i18n.s("shared-title-change-email-address")},size:this.const("narrow"),showX:this.const(!0),onClose:function(){return e.controller.dispatch({type:"close-modal"})},i18n:this.props.controller},n.createElement("div",{class:n.const("dcg-shared-change-email dcg-shared-account-dialog")},n.createElement("div",{class:n.const("dcg-shared-account-paragraph")},function(){return e.i18n.s("shared-message-set-new-email-address")}),n.createElement("form",{onSubmit:this.bindFn(this.onSubmit),method:n.const("post"),class:n.const("dcg-shared-email-form-container")},n.createElement("label",null,n.createElement("span",{class:n.const("dcg-shared-input-title")},function(){return e.i18n.s("shared-label-new-email-address")}),n.createElement(s,{type:n.const("email"),name:n.const("newEmail"),class:n.const("dcg-shared-input-blue-outline"),"aria-label":function(){return e.i18n.s("shared-label-new-email-address")},"aria-required":n.const("true"),required:n.const("required"),didMount:function(t){e.controller.wasModalOpenedWithKeyboard()&&t.focus()},value:function(){return e.newEmail},onInput:function(t){e.newEmail=t,e.unmounted||e.update()}})),n.createElement("label",{for:n.const("password")},n.createElement("span",null,function(){return e.i18n.s("shared-label-password")}),n.createElement(s,{type:n.const("password"),class:n.const("dcg-shared-input-blue-outline"),"aria-label":function(){return e.i18n.s("shared-label-password")},"aria-required":n.const("true"),required:n.const("required"),value:function(){return e.password},name:this.const("password"),onInput:function(t){if(e.password=t,!e.unmounted)return e.update()}})),n.createElement(i.SharedAccountModalErrors,{controller:this.props.controller,errors:function(){return e.formErrors}}),n.createElement("div",{class:n.const("dcg-shared-sign-in-options")},n.createElement("button",{class:function(){return{"dcg-shared-btn-blue":!0,"dcg-disabled":!e.submitEnabled()}},"aria-disabled":function(){return!e.submitEnabled()},tabindex:function(){return e.submitEnabled()?"0":"-1"},type:n.const("submit")},function(){return e.i18n.s("shared-button-change-email-and-password")})))))},c.prototype.submitEnabled=function(){return!(!this.password||!this.newEmail)},c.prototype.didUnmount=function(){this.unmounted=!0},c.prototype.onSubmit=function(e){var t=this;e.preventDefault(),this.submitEnabled()&&this.controller.userController.setEmail({changeToken:this.getChangeToken(),password:this.password,newEmail:this.newEmail,lang:this.controller.getLanguage()}).done(function(){t.controller.dispatch({type:"close-modal"}),history.replaceState(null,null,document.location.pathname)}).fail(function(e){409===e.status?t.formErrors=["Sorry, someone has already registered with this email address."]:t.formErrors=[t.controller.getSomethingWentWrongText()],t.unmounted||t.update()})},c.prototype.getChangeToken=function(){return this.controller.userController.getEmailChangeToken()||""},r=c;function c(){return null!==a&&a.apply(this,arguments)||this}t.SharedChangeEmailModal=r}),define("lib/data-uri-to-blob",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.split(","),r=(e=null!==(e=t[0].match(/:(.*?);/))?e[1]:"",null!==t[1]?atob(t[1]):""),n=r.length,o=new Uint8Array(n);n--;)o[n]=r.charCodeAt(n);return new Blob([o],{type:e})}}),define("lib/svg-string-to-blob",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(-1===e.indexOf("xmlns="))throw new Error('Programming error: <svg> elements require the "xmlns" attribute to render properly');return new Blob([e],{type:"image/xml+svg;charset=utf-8"})}}),define("loadcss!calculator-shell/export-image-size-options",function(){}),define("calculator-shell/export-image-size-options",["require","exports","tslib","dcgview","jquery","./export-image-dialog","loadcss!./export-image-size-options"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,s,c=n.Components.If,l=(s=n.Class,r.__extends(d,s),d.prototype.template=function(){var e=this;return n.createElement("div",{role:n.const("button"),tabindex:n.const("0"),"aria-pressed":function(){return e.isSelected()},class:function(){return{"dcg-option":!0,"dcg-selected":e.isSelected()}},onTap:function(){return e.selectSize()}},function(){return i.sizes[e.props.size()].name(e.props.controller())})},d.prototype.isSelected=function(){this.props.selectedSize(),this.props.size()},d.prototype.selectSize=function(){this.props.onSelectSize(this.props.size())},d);a=n.Class,r.__extends(u,a),u.prototype.init=function(){this.menuOpen=!1,this.unmounted=!1},u.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-export-image-size-options")},n.createElement("div",{role:n.const("button"),tabindex:n.const("0"),"aria-haspopup":n.const("true"),"aria-expanded":function(){return e.menuOpen},class:n.const("dcg-selected-option"),didMount:function(t){e.menuElement=t,"keyboard"===e.props.controller().getModalDevice()&&setTimeout(function(){e.menuElement.focus()},0)},onTap:this.bindFn(this.toggleMenu)},function(){return e.selected().name(e.props.controller())},n.createElement("i",{class:n.const("dcg-icon-caret-down"),"aria-hidden":n.const("true")})),n.createElement(c,{predicate:function(){return e.menuOpen}},function(){return n.createElement("div",{class:n.const("dcg-options-positioning-container")},n.createElement("div",{class:n.const("dcg-options-container"),role:n.const("group"),"aria-label":function(){return e.props.controller().s("account-shell-narration-size-options")}},n.createElement(l,{controller:e.props.controller,size:e.const("small_square"),selectedSize:e.props.selectedSize,onSelectSize:e.bindFn(e.selectSize)}),n.createElement(l,{controller:e.props.controller,size:e.const("medium_square"),selectedSize:e.props.selectedSize,onSelectSize:e.bindFn(e.selectSize)}),n.createElement(l,{controller:e.props.controller,size:e.const("large_square"),selectedSize:e.props.selectedSize,onSelectSize:e.bindFn(e.selectSize)}),n.createElement(l,{controller:e.props.controller,size:e.const("medium_rectangle"),selectedSize:e.props.selectedSize,onSelectSize:e.bindFn(e.selectSize)}),n.createElement(l,{controller:e.props.controller,size:e.const("large_rectangle"),selectedSize:e.props.selectedSize,onSelectSize:e.bindFn(e.selectSize)}),n.createElement("h3",{class:n.const("dcg-embosser-title")},function(){return e.props.controller().s("account-shell-heading-embossers")}),n.createElement(l,{controller:e.props.controller,size:e.const("vpmax8"),selectedSize:e.props.selectedSize,onSelectSize:e.bindFn(e.selectSize)}),n.createElement(l,{controller:e.props.controller,size:e.const("vpmax11"),selectedSize:e.props.selectedSize,onSelectSize:e.bindFn(e.selectSize)}),n.createElement(l,{controller:e.props.controller,size:e.const("etc8"),selectedSize:e.props.selectedSize,onSelectSize:e.bindFn(e.selectSize)}),n.createElement(l,{controller:e.props.controller,size:e.const("etc11"),selectedSize:e.props.selectedSize,onSelectSize:e.bindFn(e.selectSize)})))}))},u.prototype.closeMenu=function(){o(document).off(".export-image-size-options"),this.menuOpen=!1,this.unmounted||this.update()},u.prototype.didUnmount=function(){o(document).off(".export-image-size-options"),this.unmounted=!0},u.prototype.toggleMenu=function(){var e=this;this.menuOpen?this.closeMenu():(this.menuOpen=!0,o(document).on("dcg-tap.export-image-size-options",function(t){o(t.target).closest(".dcg-export-image-size-options").length||e.closeMenu()}),this.unmounted||this.update())},u.prototype.selectSize=function(e){this.menuOpen=!1,this.props.selectSize(e),void 0!==this.menuElement&&"keyboard"===this.props.controller().getModalDevice()&&this.menuElement.focus()},u.prototype.selected=function(){return i.sizes[this.props.selectedSize()]},r=u;function u(){return null!==a&&a.apply(this,arguments)||this}function d(){return null!==s&&s.apply(this,arguments)||this}t.default=r}),define("loadcss!calculator-shell/export-image-dialog",function(){}),define("calculator-shell/export-image-dialog",["require","exports","api/calculator","config","tslib","dcgview","jquery","lib/data-uri-to-blob","lib/svg-string-to-blob","dcgview-helpers/download-button","./export-image-size-options","lib/export-braille-equations","graphing/braille-size-options","./modal","shared/dcgviews/localize","browser","loadcss!./export-image-dialog"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sizes=void 0;var m=i.Components,y=m.If,v=m.IfElse;t.sizes={},m={left:0,top:0,right:0,bottom:0},t.sizes.small_square={width:160,height:160,margins:m,name:function(e){return e.s("account-shell-label-export-size-small-square")}},t.sizes.medium_square={width:400,height:400,margins:m,name:function(e){return e.s("account-shell-label-export-size-medium-square")}},t.sizes.large_square={width:1e3,height:1e3,margins:m,name:function(e){return e.s("account-shell-label-export-size-large-square")}},t.sizes.medium_rectangle={width:600,height:400,margins:m,name:function(e){return e.s("account-shell-label-export-size-medium-rectangle")}},t.sizes.large_rectangle={width:1200,height:800,margins:m,name:function(e){return e.s("account-shell-label-export-size-large-rectangle")}},t.sizes=o.__assign(o.__assign({},t.sizes),p.brailleSizes);var b;b=i.Class,o.__extends(x,b),x.prototype.init=function(){this.controller=this.props.controller(),this.thickness="thin",this.size="medium_square";var e=this.controller.api.controller.getBrailleMode();this.brailleMode="none"!==e?e:"nemeth",this.showDownloadButton=l.canDownload(),this.unmounted=!1,this.svgDropdownOpen=!1,this.markImagesDirty(),this.loaded=!1},x.prototype.template=function(){var e=this;return i.createElement(h.Modal,{controller:this.props.controller},i.createElement("div",{id:i.const("export-image-dialog")},i.createElement("h1",null,function(){return e.controller.s("account-shell-heading-export-graph")}),i.createElement("div",{class:i.const("dcg-offscreen-calculator"),didMount:this.bindFn(this.didMountOffscreenCalc),willUnmount:this.bindFn(this.willUnmountOffscreenCalc),"aria-hidden":i.const("true")}),i.createElement("div",{class:i.const("dcg-columns")},i.createElement("div",{class:i.const("dcg-left-column")},i.createElement("div",{class:function(){return{"dcg-graph-preview":!0,"dcg-preview-loading":e.pngDirty}}},i.createElement(y,{predicate:function(){return e.loaded}},function(){return i.createElement("img",{class:i.const("dcg-graph-image"),didMount:e.bindFn(e.didMountGraphPreview),src:function(){return e.previewDataURL},alt:function(){return e.controller.s("account-shell-narration-graph-preview")}})}),i.createElement(y,{predicate:function(){return e.pngDirty}},function(){return i.createElement("span",{class:i.const("dcg-loading-message")},i.createElement("span",{class:i.const("dcg-spinner")}),function(){return e.controller.s("account-shell-label-loading")})}),i.createElement(y,{predicate:function(){return!e.pngDirty&&!e.isExportingBraille()}},function(){return i.createElement("span",{class:i.const("dcg-zoom-percentage")},e.bindFn(e.getZoom))}))),i.createElement("div",{class:i.const("dcg-right-column")},i.createElement("div",{role:i.const("heading"),"aria-level":i.const("2"),class:i.const("dcg-section-title")},function(){return e.controller.s("account-shell-heading-export-size")}),i.createElement(u.default,{controller:this.props.controller,selectedSize:function(){return e.size},selectSize:this.bindFn(this.selectSize)}),i.createElement(y,{predicate:function(){return!e.isExportingBraille()}},function(){return i.createElement("div",null,i.createElement("div",{role:i.const("heading"),"aria-level":i.const("2"),class:i.const("dcg-section-title")},function(){return e.controller.s("account-shell-heading-line-thickness")}),i.createElement("div",{role:i.const("group"),"aria-label":function(){return e.controller.s("account-shell-heading-line-thickness")},class:i.const("dcg-button-group")},i.createElement("div",{role:i.const("button"),tabindex:i.const("0"),class:function(){return{"dcg-button":!0,"dcg-selected":"thin"===e.thickness}},"aria-pressed":function(){return"thin"===e.thickness},onTap:function(){return e.selectThickness("thin")}},function(){return e.controller.s("account-shell-button-line-thin")}),i.createElement("div",{role:i.const("button"),tabindex:i.const("0"),class:function(){return{"dcg-button":!0,"dcg-selected":"medium"===e.thickness}},"aria-pressed":function(){return"medium"===e.thickness},onTap:function(){return e.selectThickness("medium")}},function(){return e.controller.s("account-shell-button-line-medium")}),i.createElement("div",{role:i.const("button"),tabindex:i.const("0"),class:function(){return{"dcg-button":!0,"dcg-selected":"thick"===e.thickness}},"aria-pressed":function(){return"thick"===e.thickness},onTap:function(){return e.selectThickness("thick")}},function(){return e.controller.s("account-shell-button-line-thick")})))}),i.createElement(y,{predicate:function(){return e.isExportingBraille()}},function(){return i.createElement("div",{class:i.const("braille-container")},i.createElement("div",{role:i.const("heading"),"aria-level":i.const("2"),class:i.const("dcg-section-title")},function(){return e.controller.s("account-shell-heading-braille-mode")}),i.createElement("div",{role:i.const("group"),"aria-label":function(){return e.controller.s("account-shell-heading-braille-mode")},class:i.const("dcg-button-group")},i.createElement("div",{role:i.const("button"),tabindex:i.const("0"),class:function(){return{"dcg-button":!0,"dcg-selected":"nemeth"===e.brailleMode}},"aria-pressed":function(){return"nemeth"===e.brailleMode},onTap:function(){return e.selectBrailleMode("nemeth")}},function(){return e.controller.s("account-shell-button-braille-nemeth")}),i.createElement("div",{role:i.const("button"),tabindex:i.const("0"),class:function(){return{"dcg-button":!0,"dcg-selected":"ueb"===e.brailleMode}},"aria-pressed":function(){return"ueb"===e.brailleMode},onTap:function(){return e.selectBrailleMode("ueb")}},function(){return e.controller.s("account-shell-button-braille-ueb")})),i.createElement("div",{class:i.const("braille-instructions")},i.createElement("div",{role:i.const("heading"),"aria-level":i.const("2"),class:i.const("dcg-section-title")},function(){return e.controller.s("account-shell-heading-embossing-instructions")}),i.createElement(y,{predicate:function(){return"vpmax8"===e.size||"vpmax11"===e.size}},function(){return i.createElement("ul",null,i.createElement("li",null,function(){return e.controller.s("account-shell-text-embossing-vpmax-save")}),i.createElement("li",null,function(){return e.controller.s("account-shell-text-embossing-vpmax-print",{size:w(e.size)})}))}),i.createElement(y,{predicate:function(){return"etc8"===e.size||"etc11"===e.size}},function(){return i.createElement("ul",null,i.createElement("li",null,function(){return e.controller.s("account-shell-text-embossing-etc-save")}),i.createElement("li",null,function(){return e.controller.s("account-shell-text-embossing-etc-print",{size:w(e.size)})}))}),i.createElement("div",{class:i.const("dcg-feedback-link")},i.createElement(f.Localize,{i18n:e.const(e.controller),key:e.const("graphing-calculator-text-export-braille-email-accessibility")},i.const("Feedback? Email"),i.const(" "),i.createElement("a",{class:i.const("blue-link"),href:i.const("mailto:accessibility@desmos.com")},i.const("accessibility@desmos.com")),i.const(".")))))}),v(this.const(this.showDownloadButton),{true:function(){return i.createElement("div",null,i.createElement("div",{role:i.const("group"),"aria-label":function(){return e.controller.s("account-shell-narration-image-download")},class:function(){return{"dcg-download-button-group":!0,"dcg-download-button-group-singleton":e.isExportingBraille()}}},i.createElement(l.default,{data:function(){return e.previewBlob},enabled:function(){return!e.pngDirty},filename:e.const("desmos-graph.png"),text:function(){return e.controller.s("account-shell-button-download-png")}}),i.createElement(y,{predicate:function(){return!e.isExportingBraille()}},function(){return i.createElement("div",{role:i.const("button"),tabindex:function(){return e.svgDirty?-1:0},"aria-disabled":function(){return e.svgDirty},"aria-expanded":function(){return e.svgDropdownOpen},"aria-label":function(){return e.controller.s("account-shell-button-svg-options")},class:function(){return{"dcg-svg-dropdown":!0,"dcg-button":!0,"dcg-disabled":e.svgDirty}},onTap:e.bindFn(e.toggleSvgDropdown)},i.createElement("i",{class:i.const("dcg-icon-caret-down"),"aria-hidden":i.const("true")}))})),i.createElement(y,{predicate:function(){return e.isExportingBraille()&&!g.IS_MOBILE}},function(){return i.createElement(l.default,{data:function(){return e.brailleBlob},enabled:function(){return!e.pngDirty},filename:e.const("desmos-equations.brl"),text:function(){return e.controller.s("account-shell-button-download-braille")},isBraille:e.const(!0)})}),i.createElement(y,{predicate:function(){return e.svgDropdownOpen}},function(){return i.createElement("div",{class:i.const("dcg-svg-popover dcg-popover dcg-top"),didMount:e.bindFn(e.didMountSvgDropdown),willUnmount:e.bindFn(e.willUnmountSvgDropdown)},i.createElement("div",{class:i.const("dcg-popover-interior")},i.createElement(l.default,{data:function(){return e.svgBlob},enabled:function(){return!e.svgDirty},filename:e.const("desmos-graph.svg"),text:function(){return e.controller.s("account-shell-button-download-svg")},isSvg:e.const(!0)}),i.createElement("div",{class:i.const("dcg-beta-tag")},function(){return e.controller.s("account-shell-label-beta")})),i.createElement("div",{class:i.const("dcg-arrow")}))}))},false:function(){return i.createElement(y,{predicate:function(){return!e.isExportingBraille()}},function(){return i.createElement("div",{class:i.const("dcg-download-not-enabled-notice")},i.createElement("div",{role:i.const("heading"),"aria-level":i.const("2"),class:i.const("dcg-title")},function(){return e.controller.s("account-shell-heading-download-instructions")}),function(){return e.controller.s("account-shell-text-download-instructions")})})}})))))},x.prototype.didMountSvgDropdown=function(e){var t=this;a(document).on("dcg-tap.svg-dropdown",function(r){var n=r.target;r=a(".dcg-svg-dropdown")[0];e&&r&&(r.contains(n)||e.contains(n)||t.closeSvgDropdown())})},x.prototype.willUnmountSvgDropdown=function(){a(document).off(".svg-dropdown")},x.prototype.didMountOffscreenCalc=function(e){var t=this;this.calculator=new r.Calculator(e,{expressions:!1,keypad:!1,branding:!1,border:!1,enableTabindex:!1}),this.calculator._calc.evaluator.notifyWhenSynced(function(){t.markImagesDirty(),t.updateIfMounted()}),this.calculator.setState(this.controller.api.getState())},x.prototype.willUnmountOffscreenCalc=function(){this.calculator&&this.calculator.destroy()},x.prototype.markImagesDirty=function(){this.pngDirty=!0,this.svgDirty=!0},x.prototype.selectSize=function(e){this.size=e,this.markImagesDirty(),this.updateIfMounted()},x.prototype.selectBrailleMode=function(e){this.brailleMode=e,this.markImagesDirty(),this.updateIfMounted()},x.prototype.getZoom=function(){return this.controller.s("account-shell-label-zoom",{value:Math.min(100,Math.round(4e4/this.getWidth()))})},x.prototype.selectThickness=function(e){this.thickness=e,this.markImagesDirty(),this.updateIfMounted()},x.prototype.didMountGraphPreview=function(e){this.previewImg=e},x.prototype.getGridOpacity=function(){switch(this.thickness){case"thick":return 1;case"medium":return.6;case"thin":return.4;default:return this.thickness}},x.prototype.getAxisWeight=function(){switch(this.thickness){case"thick":case"medium":return 2;case"thin":return 1.5;default:return this.thickness}},x.prototype.getGraphThickness=function(){switch(this.thickness){case"thick":return 5;case"medium":return 3.5;case"thin":return 2.5;default:return this.thickness}},x.prototype.getLabelSize=function(){if("small_square"===this.size)switch(this.thickness){case"thick":return 14;case"medium":return 12;case"thin":return 10;default:return this.thickness}else switch(this.thickness){case"thick":return 20;case"medium":return 17;case"thin":return 14;default:return this.thickness}},x.prototype.updateViewSettings=function(){var e;void 0!==this.calculator&&void 0!==this.calculator._calc&&void 0!==this.calculator._calc.grapher&&void 0!==this.calculator._calc.grapher.settings&&(e=this.calculator._calc.grapher.settings,this.isExportingBraille()||(e.majorAxisOpacity=this.getGridOpacity(),e.minorAxisOpacity=this.getGridOpacity()/2,e.axisLineOffset=0,e.setProperty("axisLineWidth",this.getAxisWeight()),e.labelSize=this.getLabelSize(),e.graphLineWidth=this.getGraphThickness(),e.pointLineWidth=3*this.getGraphThickness()))},x.prototype.getBackgroundSize=function(){switch(this.size){case"medium_rectangle":case"large_rectangle":return"contain";case"small_square":return t.sizes.small_square.width+"px "+t.sizes.small_square.height+"px";default:return"cover"}},x.prototype.getHeight=function(){return t.sizes[this.size].height},x.prototype.getWidth=function(){return t.sizes[this.size].width},x.prototype.didUnmount=function(){this.unmounted=!0},x.prototype.updateIfMounted=function(){this.unmounted||this.update()},x.prototype.updateGraphPreview=function(){var e,t,r,i=this;(this.pngDirty||this.svgDirty)&&void 0!==this.calculator&&void 0!==this.calculator._calc&&void 0!==this.calculator._calc.grapher&&void 0!==this.calculator._calc.grapher.settings&&(this.updateViewSettings(),t={width:this.getWidth(),height:this.getHeight(),preserveAxisNumbers:!0,showLabels:!0,targetPixelRatio:2},e={braille:{embosserModel:this.size,brailleMode:this.brailleMode}},this.pngDirty&&(e=this.isExportingBraille()?e:t,this.calculator.asyncScreenshot(e,function(e){i.previewDataURL=e,i.previewBlob=s.default(i.previewDataURL),i.pngDirty=!1,i.loaded=!0,i.updateIfMounted(),i.resizePreviewImg()})),this.svgDirty&&(t=o.__assign(o.__assign({},t),{svg:!0}),(r=n.get("worksheetSVG"))&&(t.targetPixelRatio=1),this.calculator.asyncScreenshot(t,function(e){function t(e,t){o.querySelectorAll(e).forEach(t)}var n,o;r&&(n=e,o=(new DOMParser).parseFromString(n,"text/xml"),t(".dcg-svg-region",function(e){e.setAttribute("fill","black")}),t(".dcg-svg-label *",function(e){e.setAttribute("stroke","none"),e.setAttribute("fill","black")}),t(".dcg-svg-axis-value text",function(e){"none"!==e.getAttribute("stroke")?e.parentElement&&e.parentElement.removeChild(e):(e.setAttribute("font-family","Helvetica Neue"),e.setAttribute("font-weight","bold"))}),t(".dcg-svg-offcenter-axis-value",function(e){e.parentElement&&e.parentElement.removeChild(e)}),t(".dcg-svg-curve",function(e){e.setAttribute("stroke","black"),e.setAttribute("stroke-width","5"),e.setAttribute("stroke-opacity","1")}),t(".dcg-svg-point",function(e){e.setAttribute("stroke","black"),e.setAttribute("stroke-width","10"),e.setAttribute("stroke-opacity","1")}),t(".dcg-svg-background",function(e){var t=parseFloat(e.getAttribute("width")),r=parseFloat(e.getAttribute("height")),n=o.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("d","M"+(t-3)+",3v"+(r-6)+"H3V3H"+(t-3)+" M"+t+",0H0v"+r+"h"+t+"V0L"+t+",0z"),e.parentElement.appendChild(n)}),t(".dcg-svg-axis-line",function(e){e.setAttribute("stroke","black"),e.setAttribute("stroke-width","4"),e.setAttribute("stroke-opacity","1")}),t(".dcg-svg-minor-gridline, .dcg-svg-major-gridline",function(e){e.setAttribute("stroke","black"),e.setAttribute("stroke-width","1"),e.setAttribute("stroke-opacity","1")}),e=o.firstChild.outerHTML),i.svgBlob=c.default(e),i.svgDirty=!1,i.updateIfMounted(),i.resizePreviewImg()})))},x.prototype.updateBrailleEquations=function(){var e;this.isExportingBraille()&&(e=d.getBrailleEquationsGraphing(this.controller.api.controller,this.brailleMode),this.brailleBlob=new Blob([e],{type:"text/plain"}))},x.prototype.resizePreviewImg=function(){var e,t,r;this.previewImg&&(e=1,"etc8"!==this.size&&"etc11"!==this.size||(e=2),"vpmax8"!==this.size&&"vpmax11"!==this.size||(e=1.5),t=Math.min(this.getWidth(),400),r=this.getHeight()/this.getWidth()*t,this.previewImg.width=t*e,this.previewImg.height=r*e)},x.prototype.willUpdate=function(){this.updateGraphPreview(),this.updateBrailleEquations()},x.prototype.isExportingBraille=function(){return"vpmax8"===(e=this.size)||"vpmax11"===e||"etc8"===e||"etc11"===e;var e},x.prototype.closeSvgDropdown=function(){this.svgDropdownOpen=!1,this.updateIfMounted()},x.prototype.toggleSvgDropdown=function(){this.svgDropdownOpen=!this.svgDropdownOpen,this.updateIfMounted()},p=x;function x(){return null!==b&&b.apply(this,arguments)||this}function w(e){switch(e){case"etc8":return"8.5 x 11.0";case"etc11":return"11.5 x 11.0";case"vpmax8":return"8.5 x 11";case"vpmax11":return"11.5 x 11";default:return e}}t.default=p}),define("loadcss!shared-components/shared-consent-modal",function(){}),define("shared-components/shared-consent-modal",["require","exports","tslib","dcgview","shared-components/modal","./shared-account-modal-errors","loadcss!./shared-consent-modal","loadcss!./shared-account-modal","loadcss!shared-components/btn-styles"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedConsentModal=void 0;var a;a=n.Class,r.__extends(s,a),s.prototype.init=function(){this.controller=this.props.controller(),this.i18n=this.controller,this.openTime=Date.now(),this.formErrors=[],this.controller.logJSON("shared-consent-modal",{action:"show-consent-modal"})},s.prototype.template=function(){var e=this;return n.createElement(o.Modal,{title:function(){return e.i18n.s("shared-title-consent")},size:this.const("narrow"),onClose:function(){return e.controller.dispatch({type:"close-modal"})},i18n:this.props.controller},n.createElement("div",{class:n.const("dcg-shared-consent-modal-container dcg-shared-account-dialog")},n.createElement("div",{class:n.const("dcg-shared-consent-contents")},function(){return e.i18n.s("shared-message-consent-information")}),n.createElement("div",{class:n.const("dcg-shared-consent-contents")},function(){return e.i18n.s("shared-message-consent-delete-information")}),n.createElement("div",{class:n.const("dcg-shared-modal-actions-container")},n.createElement("span",{role:n.const("button"),tabindex:n.const("0"),class:n.const("dcg-shared-dark-gray-link"),didMount:function(t){e.controller.wasModalOpenedWithKeyboard()&&t.focus()},onTap:function(t){return e.openAccountSettings(t.device)}},function(){return e.i18n.s("shared-button-go-to-account-settings")}),n.createElement("div",{role:n.const("button"),tabindex:function(){return e.isConsentingToCollection()?-1:0},"aria-disabled":function(){return e.isConsentingToCollection()},class:function(){return{"dcg-shared-btn-blue":!0,"dcg-disabled":e.isConsentingToCollection()}},onTap:this.bindFn(this.consentToCollection)},function(){return e.i18n.s("shared-button-accept")}),n.createElement(i.SharedAccountModalErrors,{controller:this.props.controller,errors:function(){return e.formErrors}}))))},s.prototype.willUpdate=function(){this.formErrors=[],this.controller.userController.didPrivacyConsentFail()&&(this.formErrors=[this.controller.getSomethingWentWrongText()])},s.prototype.isConsentingToCollection=function(){return this.controller.userController.isConsentingToPrivacy()},s.prototype.didPrivacyConsentFail=function(){return this.controller.userController.didPrivacyConsentFail()},s.prototype.openAccountSettings=function(e){this.controller.logJSON("shared-consent-modal",{action:"edit-account",ts:Date.now()-this.openTime}),this.controller.dispatch({type:"show-modal",modal:"account-settings",device:e})},s.prototype.consentToCollection=function(){this.controller.logJSON("shared-consent-modal",{action:"consent",ts:Date.now()-this.openTime}),this.controller.userController.setPrivacyConsent({lang:this.controller.getLanguage()}),this.controller.dispatch({type:"close-modal"})},r=s;function s(){return null!==a&&a.apply(this,arguments)||this}t.SharedConsentModal=r}),define("text!data/list-of-countries.json",[],function(){return'[\n  "Afganistan",\n  "Albania",\n  "Algeria",\n  "American Samoa",\n  "Andorra",\n  "Angola",\n  "Anguilla",\n  "Antigua & Barbuda",\n  "Argentina",\n  "Armenia",\n  "Aruba",\n  "Australia",\n  "Austria",\n  "Azerbaijan",\n  "Bahamas",\n  "Bahrain",\n  "Bangladesh",\n  "Barbados",\n  "Belarus",\n  "Belgium",\n  "Belize",\n  "Benin",\n  "Bermuda",\n  "Bhutan",\n  "Bolivia",\n  "Bonaire",\n  "Bosnia & Herzegovina",\n  "Botswana",\n  "Brazil",\n  "British Indian Ocean Ter",\n  "Brunei",\n  "Bulgaria",\n  "Burkina Faso",\n  "Burundi",\n  "Cambodia",\n  "Cameroon",\n  "Canada",\n  "Canary Islands",\n  "Cape Verde",\n  "Cayman Islands",\n  "Central African Republic",\n  "Chad",\n  "Channel Islands",\n  "Chile",\n  "China",\n  "Christmas Island",\n  "Cocos Island",\n  "Colombia",\n  "Comoros",\n  "Congo",\n  "Cook Islands",\n  "Costa Rica",\n  "Cote DIvoire",\n  "Croatia",\n  "Cuba",\n  "Curaco",\n  "Cyprus",\n  "Czech Republic",\n  "Denmark",\n  "Djibouti",\n  "Dominica",\n  "Dominican Republic",\n  "East Timor",\n  "Ecuador",\n  "Egypt",\n  "El Salvador",\n  "Equatorial Guinea",\n  "Eritrea",\n  "Estonia",\n  "Ethiopia",\n  "Falkland Islands",\n  "Faroe Islands",\n  "Fiji",\n  "Finland",\n  "France",\n  "French Guiana",\n  "French Polynesia",\n  "French Southern Ter",\n  "Gabon",\n  "Gambia",\n  "Georgia",\n  "Germany",\n  "Ghana",\n  "Gibraltar",\n  "Great Britain",\n  "Greece",\n  "Greenland",\n  "Grenada",\n  "Guadeloupe",\n  "Guam",\n  "Guatemala",\n  "Guinea",\n  "Guyana",\n  "Haiti",\n  "Hawaii",\n  "Honduras",\n  "Hong Kong",\n  "Hungary",\n  "Iceland",\n  "Indonesia",\n  "India",\n  "Iran",\n  "Iraq",\n  "Ireland",\n  "Isle of Man",\n  "Israel",\n  "Italy",\n  "Jamaica",\n  "Japan",\n  "Jordan",\n  "Kazakhstan",\n  "Kenya",\n  "Kiribati",\n  "Korea North",\n  "Korea Sout",\n  "Kuwait",\n  "Kyrgyzstan",\n  "Laos",\n  "Latvia",\n  "Lebanon",\n  "Lesotho",\n  "Liberia",\n  "Libya",\n  "Liechtenstein",\n  "Lithuania",\n  "Luxembourg",\n  "Macau",\n  "Macedonia",\n  "Madagascar",\n  "Malaysia",\n  "Malawi",\n  "Maldives",\n  "Mali",\n  "Malta",\n  "Marshall Islands",\n  "Martinique",\n  "Mauritania",\n  "Mauritius",\n  "Mayotte",\n  "Mexico",\n  "Midway Islands",\n  "Moldova",\n  "Monaco",\n  "Mongolia",\n  "Montserrat",\n  "Morocco",\n  "Mozambique",\n  "Myanmar",\n  "Nambia",\n  "Nauru",\n  "Nepal",\n  "Netherland Antilles",\n  "Netherlands",\n  "Nevis",\n  "New Caledonia",\n  "New Zealand",\n  "Nicaragua",\n  "Niger",\n  "Nigeria",\n  "Niue",\n  "Norfolk Island",\n  "Norway",\n  "Oman",\n  "Pakistan",\n  "Palau Island",\n  "Palestine",\n  "Panama",\n  "Papua New Guinea",\n  "Paraguay",\n  "Peru",\n  "Phillipines",\n  "Pitcairn Island",\n  "Poland",\n  "Portugal",\n  "Puerto Rico",\n  "Qatar",\n  "Republic of Montenegro",\n  "Republic of Serbia",\n  "Reunion",\n  "Romania",\n  "Russia",\n  "Rwanda",\n  "St Barthelemy",\n  "St Eustatius",\n  "St Helena",\n  "St Kitts-Nevis",\n  "St Lucia",\n  "St Maarten",\n  "St Pierre & Miquelon",\n  "St Vincent & Grenadines",\n  "Saipan",\n  "Samoa",\n  "Samoa American",\n  "San Marino",\n  "Sao Tome & Principe",\n  "Saudi Arabia",\n  "Senegal",\n  "Seychelles",\n  "Sierra Leone",\n  "Singapore",\n  "Slovakia",\n  "Slovenia",\n  "Solomon Islands",\n  "Somalia",\n  "South Africa",\n  "Spain",\n  "Sri Lanka",\n  "Sudan",\n  "Suriname",\n  "Swaziland",\n  "Sweden",\n  "Switzerland",\n  "Syria",\n  "Tahiti",\n  "Taiwan",\n  "Tajikistan",\n  "Tanzania",\n  "Thailand",\n  "Togo",\n  "Tokelau",\n  "Tonga",\n  "Trinidad & Tobago",\n  "Tunisia",\n  "Turkey",\n  "Turkmenistan",\n  "Turks & Caicos Is",\n  "Tuvalu",\n  "Uganda",\n  "United Kingdom",\n  "Ukraine",\n  "United Arab Erimates",\n  "United States",\n  "Uraguay",\n  "Uzbekistan",\n  "Vanuatu",\n  "Vatican City State",\n  "Venezuela",\n  "Vietnam",\n  "Virgin Islands (Brit)",\n  "Virgin Islands (USA)",\n  "Wake Island",\n  "Wallis & Futana Is",\n  "Yemen",\n  "Zaire",\n  "Zambia",\n  "Zimbabwe"\n]\n'}),define("loadcss!dcgview-helpers/searchable-dropdown",function(){}),define("dcgview-helpers/searchable-dropdown",["require","exports","tslib","dcgview","keys","lib/aria","loadcss!./searchable-dropdown"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,s=n.Components,c=s.If,l=s.For,u=s.Input;a=n.Class,r.__extends(d,a),d.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-search-container"),onKeydown:this.bindFn(this.onKeydown)},n.createElement(c,{predicate:this.props.renderWithInput},function(){return n.createElement("div",{role:n.const("search"),class:n.const("dcg-searchable-dropdown")},n.createElement(u,{didMount:e.bindFn(e.didMountInput),onInput:e.bindFn(e.onInputChange),value:e.bindFn(e.getFilterString),placeholder:function(){return e.props.placeholder()},manageFocus:e.const({shouldBeFocused:e.bindFn(e.shouldFilterBeFocused),onFocusedChanged:e.bindFn(e.onFilterFocusChange)})}),n.createElement(c,{predicate:function(){return e.shouldShowDeleteX()}},function(){return n.createElement("div",{class:n.const("dcg-remove-x dcg-do-not-blur")},n.createElement("span",{class:n.const("dcg-icon-remove"),onTap:e.bindFn(e.onDeleteXTapped)}))}))}),n.createElement(c,{predicate:function(){return 0<e.getFilteredOptions().length}},function(){return n.createElement("div",{class:n.const("dcg-searchable-dropdown-list-container")},n.createElement(l,{each:function(){return e.getFilteredOptions()},key:function(e){return e.id+"-"+e.label}},n.createElement("div",{class:function(){return{"dcg-searchable-dropdown-list":!0,"dcg-do-not-blur":!0,"dcg-no-input":!e.props.renderWithInput()}},role:n.const("listbox"),"aria-label":n.const("Results")},function(t){return n.createElement("div",{class:n.const("dcg-searchable-dropdown-option"),role:n.const("option"),onTap:function(r){return e.selectOption(t,"keyboard"===r.device)},manageFocus:e.const({shouldBeFocused:function(){return e.shouldOptionBeFocused(t)},onFocusedChanged:function(r){return e.onOptionFocusChange(t,r)}}),tabindex:n.const(0)},e.const(t.label))})))}),n.createElement(c,{predicate:function(){return 0===e.getFilteredOptions().length}},function(){return n.createElement("div",{class:n.const("dcg-searchable-dropdown-list dcg-no-search-results")},n.const("No results."))}))},d.prototype.didMountInput=function(){this.focusFilter()},d.prototype.shouldShowDeleteX=function(){return!!this.getFilterString()},d.prototype.onDeleteXTapped=function(){this.filter=void 0,this.focusFilter(),this.update()},d.prototype.shouldFilterBeFocused=function(){return this.focusLocation&&"filter"===this.focusLocation.type},d.prototype.onFilterFocusChange=function(e){e?this.focusFilter():(this.filter=void 0,this.focusLocation=void 0,this.update())},d.prototype.shouldOptionBeFocused=function(e){return this.focusLocation&&"option"===this.focusLocation.type&&this.focusLocation.id===e.id},d.prototype.focusFilter=function(){this.focusLocation={type:"filter"},this.update()},d.prototype.focusOption=function(e){this.focusLocation={type:"option",id:e.id},this.update()},d.prototype.getFocusedOptionIndex=function(){if(!this.focusLocation)return-1;if("option"!==this.focusLocation.type)return-1;for(var e=this.focusLocation.id,t=this.getFilteredOptions(),r=0;r<t.length;r++)if(t[r].id===e)return r;return-1},d.prototype.onOptionFocusChange=function(e,t){t?this.focusOption(e):(this.focusLocation=void 0,this.update())},d.prototype.onKeydown=function(e){switch(o.lookup(e)){case o.ENTER:var t;!this.shouldFilterBeFocused()||1===(t=this.getFilteredOptions()).length&&this.selectOption(t[0],!0);break;case o.UP:this.moveFocusInDirection(-1)&&e.preventDefault();break;case o.DOWN:this.moveFocusInDirection(1)&&e.preventDefault();break;case o.HOME:e.preventDefault(),this.focusFirstOption();break;case o.END:e.preventDefault(),this.focusLastOption();break;case o.ESCAPE:this.props.onCancel();break;case o.TAB:e.shiftKey?this.moveFocusInDirection(-1)&&e.preventDefault():this.moveFocusInDirection(1)&&e.preventDefault()}},d.prototype.moveFocusInDirection=function(e){var t=this.getFilteredOptions();return-1==(e=this.getFocusedOptionIndex()+e)&&this.props.renderWithInput()?(this.focusFilter(),!0):!!(e=t[e])&&(this.focusOption(e),!0)},d.prototype.focusFirstOption=function(){var e=this.getFilteredOptions();0!==e.length&&this.focusOption(e[0])},d.prototype.focusLastOption=function(){var e=this.getFilteredOptions();0!==e.length&&this.focusOption(e[e.length-1])},d.prototype.onInputChange=function(e){this.filter=e,this.update()},d.prototype.getFilterString=function(){return this.filter||""},d.prototype.selectOption=function(e,t){this.filter=void 0,this.focusLocation=void 0,this.update(),this.props.onChange({value:e.id,fromKeyboard:t})},d.prototype.getFilteredOptions=function(){var e=this.props.options(),t=(this.filter||"").toLowerCase().trim();return t&&(e=e.filter(function(e){return-1!==e.label.toLowerCase().indexOf(t)})),e},d.prototype.onUpdate=function(){var e=this.getFilteredOptions().length;if(this.focusLocation&&"filter"===this.focusLocation.type&&e!==this.lastResultCount)switch(e){case 0:i.alert("No results");break;case 1:i.alert("1 result");break;default:i.alert(e+" results")}this.lastResultCount=e},r=d;function d(){var e=null!==a&&a.apply(this,arguments)||this;return e.filter=void 0,e.focusLocation=void 0,e.lastResultCount=0,e}t.default=r}),define("main/account_backend",["require","exports","jquery","./backend"],function(e,t,r,n){"use strict";function o(){return n.post("/account/logout_xhr")}function i(e){return n.getJSON("/account/user_info",e)}Object.defineProperty(t,"__esModule",{value:!0}),t.submitArtContestEntry=t.setPrivacyConsent=t.updateFeatureFlags=t.setEmail=t.initiateEmailChange=t.initiateAccountDeletion=t.recoverPassword=t.setNameDetail=t.setName=t.registerUser=t.checkPendingDeletion=t.askServerIfLoggedIn=t.getUserInfo=t.fetchUser=t.logout=void 0,t.logout=o,t.fetchUser=function(e){function t(){return n.post("/account/login_xhr",e)}return o().then(t,t).then(function(){return i({lang:e.lang})})},t.getUserInfo=i,t.askServerIfLoggedIn=function(){var e=r.Deferred();return n.getJSON("/account/user_info?no401").then(function(t){t&&!1===t.loggedIn?e.reject(t):e.resolve(t)},function(t){e.reject(t)}),e.promise()},t.checkPendingDeletion=function(e){return n.post("/account/check_account_status",e)},t.registerUser=function(e){return n.post("/account/register_xhr",e).then(function(){return i({lang:e.lang})})},t.setName=function(e){return n.post("/account/change_name",e).then(function(){return i({lang:e.lang})})},t.setNameDetail=function(e){return n.post("/account/change_name_detail",{lang:e.lang,userProvidedName:{given:e.given,family:e.family}}).then(function(){return i({lang:e.lang})})},t.recoverPassword=function(e){return n.post("/account/recover_xhr",e)},t.initiateAccountDeletion=function(e){return n.getJSON("/account/initiate_delete_account",e)},t.initiateEmailChange=function(e){return n.getJSON("/account/initiate_email_change",e)},t.setEmail=function(e){return n.post("/account/set_email",e).then(function(){return i({lang:e.lang})})},t.updateFeatureFlags=function(e){return n.postJSON("/account/update_feature_flags",e).then(function(){return i({lang:e.lang})})},t.setPrivacyConsent=function(e){return n.post("/account/set_privacy_consent",e).then(function(){return i({lang:e.lang})})},t.submitArtContestEntry=function(e){return n.post("/account/submit_art_contest_entry",e)}}),define("loadcss!calculator-shell/contest-submission-dialog",function(){}),define("calculator-shell/contest-submission-dialog",["require","exports","text!data/list-of-countries.json","tslib","dcgview","analytics/looker","../dcgview-helpers/searchable-dropdown","dcgview-helpers/checkbox","lib/aria","./modal","main/account_backend","shared/dcgviews/localize","loadcss!spinner","loadcss!./contest-submission-dialog"],function(e,t,r,n,o,i,a,s,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var p=o.Components,h=p.If,f=p.IfElse,g=p.Input,m=p.SwitchUnion,y=p.Textarea,v=JSON.parse(r).map(function(e){return{id:e,label:e}}),b=[],x=2020;1900<=x;x--)b.push({id:x+"",label:x+""});var w,E={China:14,"Hong Kong":18,India:18,Indonesia:18,Phillipines:18,Russia:18,Austria:14,Belgium:13,Bulgaria:14,Croatia:16,Cyprus:14,"Czech Republic":15,Denmark:13,Estonia:13,Finland:13,France:15,Germany:16,Greece:15,Hungary:16,Ireland:16,Italy:14,Latvia:13,Lithuania:14,Luxembourg:16,Malta:13,Netherlands:16,Norway:13,Poland:16,Portugal:13,Romania:16,Slovakia:16,Slovenia:15,Spain:14,Sweden:13,Switzerland:16,"United Kingdom":13,Canada:13,"United States":13};w=o.Class,n.__extends(S,w),S.prototype.didUnmount=function(){this.unmounted=!0},S.prototype.init=function(){this.controller=this.props.controller(),this.selectedData={},this.userOwnsGraph=!1,this.isSubmittingEntry=!1,this.isVerifyingEligility=!1,this.controller.state.artContestURLFromShareMenu&&(this.overwriteGraphURL=this.controller.state.artContestURLFromShareMenu,this.controller.state.artContestURLFromShareMenu=void 0),i.logJSON("art-contest::open-modal",{from:this.overwriteGraphURL?"share":"top-bar"})},S.prototype.getScreen=function(){return this.shouldShowSaveAnimation()?"saving":this.shouldShowSaveFailed()?"save-failed":this.didSubmissionFail?"submit-failed":this.isSubmittingEntry?"submitting":this.didSubmissionSucceed?"submitted":this.isVerifyingEligility||this.userOwnsGraph&&this.isLoggedIn()?"form":"ask-intention"},S.prototype.template=function(){var e=this;return o.createElement(l.Modal,{controller:this.props.controller},o.createElement("div",{class:o.const("dcg-contest-submission-dialog")},m(function(){return e.getScreen()},{saving:function(){return o.createElement("div",{class:o.const("dcg-save-animation-container")},o.createElement("div",{class:o.const("dcg-saving")},o.createElement("div",{class:o.const("dcg-save-animation"),"aria-live":o.const("polite"),"aria-atomic":o.const("true")},o.createElement("span",{class:o.const("dcg-spinner")}),function(){return e.controller.s("account-shell-label-saving-graph")})))},"save-failed":function(){return o.createElement("div",{class:o.const("dcg-save-animation-container")},o.createElement("div",{class:o.const("dcg-saving")},o.createElement("div",{class:o.const("dcg-save-animation"),"aria-live":o.const("polite"),"aria-atomic":o.const("true")},function(){return e.controller.s("account-shell-error-save-art-contest")})))},submitting:function(){return o.createElement("div",{class:o.const("dcg-save-animation-container")},o.createElement("div",{class:o.const("dcg-saving")},o.createElement("div",{class:o.const("dcg-save-animation"),"aria-live":o.const("polite"),"aria-atomic":o.const("true")},o.createElement("span",{class:o.const("dcg-spinner")}),function(){return e.controller.s("account-shell-label-submitting")})))},"submit-failed":function(){return o.createElement("div",{class:o.const("dcg-save-animation-container")},o.createElement("div",{class:o.const("dcg-saving")},o.createElement("div",{class:o.const("dcg-save-animation"),"aria-live":o.const("polite"),"aria-atomic":o.const("true")},function(){return e.controller.s("account-shell-error-submitting")})))},submitted:function(){return o.createElement("div",{class:o.const("dcg-save-animation-container")},o.createElement("div",{class:o.const("dcg-art-contest-success-image")},o.createElement("img",{src:o.const("/assets/img/contest/submitted.jpg"),alt:function(){return e.controller.s("account-shell-text-alt-text-success")}})),o.createElement("div",{class:o.const("dcg-save-success"),"aria-live":o.const("polite"),"aria-atomic":o.const("true")},function(){return e.controller.s("account-shell-label-submission-received")},o.createElement("div",{class:o.const("dcg-save-animation-content")},o.createElement("div",null,o.createElement("div",{class:o.const("dcg-congrats-message")},o.createElement(d.Localize,{i18n:e.const(e.controller),key:e.const("account-shell-text-art-contest-success-paragraph")},o.const("If you'd like to revise your submission, feel free to resubmit anytime before"),o.createElement("span",{class:o.const("bold-text")},o.const(" January 15th")),o.const(". We'll only look at the most recent submission."))),o.createElement("div",{class:o.const("dcg-congrats-message")},function(){return e.controller.s("account-shell-text-art-contest-congratulations")})))))},"ask-intention":function(){return o.createElement("div",{class:o.const("dcg-art-contest-info-container")},o.createElement("div",{class:o.const("dcg-art-contest-world-image")},o.createElement("img",{src:o.const("/assets/img/contest/world.jpg"),alt:function(){return e.controller.s("account-shell-text-alt-text-art-contest")}})),o.createElement("div",{class:o.const("dcg-contest-about")},o.createElement("div",{role:o.const("heading"),"aria-level":o.const("1"),class:o.const("dcg-contest-submission-title")},function(){return e.controller.s("account-shell-heading-math-art-contest")}),o.createElement("div",{class:o.const("dcg-contest-text")},o.createElement(d.Localize,{i18n:e.const(e.controller),key:e.const("account-shell-text-art-contest-about-paragraph")},o.const("Want to share your awesome graph with the world? Students ages 13+ can enter the Desmos Global Math Art Contest before"),o.createElement("span",{class:o.const("bold-text")},o.const(" January 15th ")),o.const("for a chance to be featured on our website and win other prizes!"),o.const(" "),o.createElement("a",{class:o.const("dcg-shared-blue-link dcg-learn-more-link"),href:function(){return e.getBlogPostURL()},target:o.const("_blank"),didMount:function(e){return e.focus()}},o.const("Learn more")))),o.createElement("div",null,o.createElement("div",{class:function(){return{"dcg-btn-blue":!0,"dcg-submit-this-graph-btn":!0,"dcg-disabled":e.shouldDisableSubmitThisGraph()}},onTap:e.bindFn(e.chooseSubmitThisGraph),tabindex:o.const(0),role:o.const("button")},function(){return e.controller.s("account-shell-button-submit-graph")}),o.createElement(h,{predicate:function(){return!!e.getCannotSubmitReason()}},function(){return o.createElement("div",{class:o.const("dcg-login-notice")},function(){return e.getCannotSubmitReason()})}),o.createElement("div",{class:o.const("age-check-container")},function(){return e.controller.s("account-shell-text-contest-under-16")},o.const(" "),o.createElement("a",{class:o.const("dcg-shared-blue-link"),onTap:e.bindFn(e.chooseVerifyEligibility)},function(){return e.controller.s("account-shell-text-contest-verify-eligibility")})),o.createElement("div",{class:o.const("dcg-submit-for-others")},function(){return e.controller.s("account-shell-text-contest-submit-by-teacher")},o.const(" "),o.createElement("a",{class:o.const("dcg-shared-blue-link"),href:function(){return e.getABActivityURL()},target:o.const("_blank")},function(){return e.controller.s("account-shell-button-create-own-activity")})))))},form:function(){return o.createElement("div",null,o.createElement("div",{role:o.const("heading"),"aria-level":o.const("1"),class:o.const("dcg-contest-submission-title")},function(){return e.controller.s("account-shell-heading-submit-graph")}),o.createElement("div",{class:o.const("dcg-submission-form")},o.createElement("div",{class:o.const("dcg-country-and-year")},o.createElement("div",{class:o.const("dcg-form-section")},o.createElement("div",{class:o.const("dcg-section-title")},function(){return e.controller.s("account-shell-heading-country")}),o.createElement(h,{predicate:function(){return!!e.getSelectedCountry()}},function(){return o.createElement("span",{class:o.const("dcg-shared-blue-link dcg-clear-country"),onTap:function(){return e.setSelectedCountry(void 0)},tabindex:o.const(0),role:o.const("button"),"aria-label":function(){return e.controller.s("account-shell-narration-clear-selected-country")}},function(){return e.controller.s("account-shell-button-clear")})}),f(function(){return!!e.getSelectedCountry()},{true:function(){return o.createElement("div",{class:o.const("dcg-your-country-name")},function(){return e.getSelectedCountry()})},false:function(){return o.createElement(a.default,{options:function(){return e.getListOfCountries()},onChange:function(t){return e.setSelectedCountry(t.value)},onCancel:function(){return e.setSelectedCountry(void 0)},renderWithInput:function(){return!0},placeholder:function(){return e.controller.s("account-shell-label-country-placeholder")}})}})),o.createElement(h,{predicate:function(){return e.shouldShowAgeOptions()}},function(){return o.createElement("div",{class:o.const("dcg-form-section")},o.createElement("div",{class:o.const("dcg-section-title")},function(){return e.controller.s("account-shell-heading-birth-year")}),f(function(){return!!e.getSelectedYear()},{true:function(){return o.createElement("div",{class:o.const("dcg-your-birth-year")},function(){return e.getSelectedYear()})},false:function(){return o.createElement(a.default,{options:function(){return e.getListOfYears()},onChange:function(t){return e.setSelectedYear(t.value)},onCancel:function(){return e.setSelectedYear(void 0)},renderWithInput:function(){return!0},placeholder:function(){return e.controller.s("account-shell-label-birth-year-placeholder")}})}}))})),o.createElement(h,{predicate:function(){return e.shouldShowEligible()&&!e.getCannotSubmitReason()}},function(){return o.createElement("div",{class:o.const("dcg-eligible-message dcg-teal-notice")},o.const(" "),function(){return e.controller.s("account-shell-label-you-are-eligible")})}),o.createElement(h,{predicate:function(){return e.shouldShowConsentOptions()}},function(){return o.createElement("div",null,o.createElement("div",{class:o.const("dcg-form-section")},o.createElement("div",{class:o.const("dcg-section-title")},function(){return e.controller.s("account-shell-heading-name-email")}),o.createElement(g,{class:e.const("dcg-shared-input-blue-outline"),onInput:function(t){return e.setUserName(t)},value:e.bindFn(e.getUserName),placeholder:function(){return e.controller.s("account-shell-label-full-name")},disabled:function(){return!1}}),o.createElement(g,{class:e.const("dcg-shared-input-blue-outline"),onInput:function(t){return e.setUserEmail(t)},value:e.bindFn(e.getUserEmail),placeholder:function(){return e.controller.s("account-shell-label-email-address")},disabled:function(){return!1}})),o.createElement("div",{class:o.const("dcg-form-section")},o.createElement("div",{class:o.const("dcg-section-title")},function(){return e.controller.s("account-shell-heading-artist-statement")}),o.createElement("div",{class:o.const("dcg-section-subtitle")},function(){return e.controller.s("account-shell-label-artiist-statement-description")}),o.createElement(y,{class:e.const("dcg-shared-input-blue-outline dcg-artist-statement-input"),onInput:function(t){return e.setArtistStatement(t)},value:e.bindFn(e.getArtistStatement),maxlength:e.const(900),placeholder:function(){return e.controller.s("account-shell-label-artist-statement-placeholder")}})),o.createElement(s.Checkbox,{checked:e.bindFn(e.getConsentTicked),onChange:e.bindFn(e.toggleConsent),ariaLabel:function(){return e.controller.s("account-shell-text-art-contest-copyright-agreement")}},function(){return e.controller.s("account-shell-text-art-contest-copyright-agreement")}),o.createElement("div",{class:function(){return{"dcg-btn-blue":!0,"dcg-disabled":e.isSubmitButtonDisabled(),"dcg-submit-this-graph-btn":!0}},onTap:e.bindFn(e.submitEntry),tabindex:o.const(0)},function(){return e.controller.s("account-shell-button-submit-graph")}))}),o.createElement(h,{predicate:function(){return e.shouldShowEligible()&&!!e.getCannotSubmitReason()}},function(){return o.createElement("div",{class:o.const("dcg-login-notice dcg-teal-notice")},o.const(" "),function(){return e.controller.s("account-shell-label-you-are-eligible")},o.const(" "),function(){return e.getCannotSubmitReason()})}),o.createElement(h,{predicate:function(){return e.shouldShowIneligible()}},function(){return o.createElement("div",{class:o.const("dcg-ineligible-container")},o.createElement("i",{class:o.const("dcg-icon-error"),"aria-hidden":o.const("true")}),o.createElement(d.Localize,{i18n:e.const(e.controller),key:e.const("account-shell-text-artcontest-ineligible")},o.createElement("div",{class:o.const("dcg-ineligible-text-container")},o.createElement("div",{class:o.const("dcg-ineligible-text")},o.const("Based on your age and location, we arent able to accept a graph submission from you this year. Save it for another year, or ask your teacher to assign the art contest activity.")),o.createElement("div",{class:o.const("dcg-ineligible-text")},o.const("Keep up the awesome graphing!")))))})))}})))},S.prototype.getABActivityURL=function(){return"https://teacher.desmos.com/activitybuilder/custom/618be410b284c40a2c7b9111"},S.prototype.getBlogPostURL=function(){return"https://help.desmos.com/hc/en-us/articles/4413417019533"},S.prototype.returnToOpeningScreen=function(){this.isVerifyingEligility=!1,this.userOwnsGraph=!1,this.selectedData={email:this.selectedData.email,name:this.selectedData.name},this.update()},S.prototype.getGraphURL=function(){if(this.overwriteGraphURL)return this.overwriteGraphURL;var e=this.controller.graphsController.currentGraph;return"https://www.desmos.com/calculator/"+(e&&e.hash||"")},S.prototype.overwriteEntry=function(){this.selectedData.overwrite=!0,this.submitEntry()},S.prototype.submitEntry=function(){var e,t=this;this.isSubmitButtonDisabled()||(this.didSubmissionFail=!1,this.isSubmittingEntry=!0,e={name:this.getUserName(),email:this.getUserEmail(),url:this.getGraphURL(),year:this.getSelectedYear(),ageGroup:this.getSelectedAgeGroup(),country:this.getSelectedCountry(),artistStatement:this.getArtistStatement(),overwrite:!0,lang:this.controller.getLanguage()},this.update(),i.logJSON("art-contest::submit-sending",e),u.submitArtContestEntry(e).done(function(e){e.previousSubmissionURL||(e.success?(t.didSubmissionSucceed=!0,i.logJSON("art-contest::submit-success",{})):(t.didSubmissionFail=!0,i.logJSON("art-contest::submit-failed",{}),c.alert(t.controller.s("account-shell-error-submitting"))))}).fail(function(){c.alert(t.controller.s("account-shell-error-submitting")),t.didSubmissionFail=!0,i.logJSON("art-contest::submit-failed",{})}).always(function(){t.isSubmittingEntry=!1,t.unmounted||t.update()}))},S.prototype.shouldShowSaveAnimation=function(){return!!this.saveInProgress},S.prototype.shouldShowSaveFailed=function(){return!!this.didSaveFail},S.prototype.chooseVerifyEligibility=function(){this.isVerifyingEligility=!0,this.update()},S.prototype.chooseSubmitThisGraph=function(){var e=this;if(!this.shouldDisableSubmitThisGraph()){if(this.isVerifyingEligility=!1,this.overwriteGraphURL||!this.controller.graphsController.hasUnsavedChanges())return this.userOwnsGraph=!0,this.update(),void i.logJSON("art-contest::choose-form",{});this.saveInProgress=!0,i.logJSON("art-contest::save-sending",{}),this.update(),this.controller.graphsController.shareGraph().done(function(t){e.didSaveFail=!1,e.saveInProgress=!1,e.userOwnsGraph=!0,e.overwriteGraphURL="https://www.desmos.com/calculator/"+t.hash,i.logJSON("art-contest::save-success",{url:e.overwriteGraphURL})}).fail(function(){e.didSaveFail=!0,i.logJSON("art-contest::save-failed",{})}).always(function(){e.saveInProgress=!1,e.unmounted||e.update()})}},S.prototype.isLoggedIn=function(){return this.controller.isLoggedIn()},S.prototype.getCannotSubmitReason=function(){return this.isLoggedIn()?this.controller.isGraphComplexEnoughForContest()?"":this.controller.s("account-shell-text-art-contest-notice-default"):this.controller.s("account-shell-text-art-contest-notice-login")},S.prototype.shouldDisableSubmitThisGraph=function(){return!!this.getCannotSubmitReason()},S.prototype.shouldShowSubmissionOptions=function(){return!(this.isVerifyingEligility||this.userOwnsGraph&&this.isLoggedIn())},S.prototype.shouldShowCountryOptions=function(){return!this.shouldShowSubmissionOptions()},S.prototype.shouldShowAgeOptions=function(){return!!this.shouldShowCountryOptions()&&!!this.getSelectedCountry()},S.prototype.shouldShowIneligible=function(){return!!this.getSelectedCountry()&&!!this.getSelectedYear()&&!this.isSubmissionEligible()},S.prototype.shouldShowEligible=function(){return!!this.isVerifyingEligility&&this.isSubmissionEligible()},S.prototype.setArtistStatement=function(e){this.selectedData.artistStatement=e,this.update()},S.prototype.setSelectedYear=function(e){this.selectedData.year!==e&&(this.selectedData.year=e,this.update(),i.logJSON("art-contest::select-year",{year:e}))},S.prototype.setSelectedCountry=function(e){this.selectedData={country:e,name:this.controller.userController.name,email:this.controller.userController.email},this.update(),i.logJSON("art-contest::select-country",{country:e})},S.prototype.getArtistStatement=function(){return this.selectedData.artistStatement||""},S.prototype.getSelectedCountry=function(){return this.selectedData.country},S.prototype.getSelectedYear=function(){return this.selectedData.year},S.prototype.getUserAgeInYears=function(){return 2021-parseFloat(this.selectedData.year||"")},S.prototype.getSelectedAgeGroup=function(){var e=this.getUserAgeInYears();return 19<=e?"19+":17<=e?"17-18":15<=e?"15-16":13<=e?"13-14":""},S.prototype.getUserName=function(){return this.selectedData.name||""},S.prototype.setUserName=function(e){this.selectedData.name=e,this.update()},S.prototype.getUserEmail=function(){return this.selectedData.email||""},S.prototype.setUserEmail=function(e){this.selectedData.email=e,this.update()},S.prototype.getConsentTicked=function(){return!!this.selectedData.consent},S.prototype.getOverwriteTicked=function(){return!!this.selectedData.overwrite},S.prototype.toggleConsent=function(){this.selectedData.consent=!this.selectedData.consent,this.update(),i.logJSON("art-contest::toggle-consent",{consent:this.selectedData.consent})},S.prototype.isSubmitButtonDisabled=function(){return!(!this.isSubmittingEntry&&this.selectedData.country&&this.selectedData.year&&this.selectedData.email&&this.selectedData.artistStatement&&this.selectedData.name&&this.selectedData.consent)},S.prototype.isSubmissionEligible=function(){if(!this.selectedData.country)return!1;if(!this.selectedData.year)return!1;var e=E[this.selectedData.country]||16;return this.getUserAgeInYears()>=e},S.prototype.shouldShowConsentOptions=function(){return(!this.isVerifyingEligility||!this.getCannotSubmitReason())&&this.isSubmissionEligible()},S.prototype.getListOfCountries=function(){return v},S.prototype.getListOfYears=function(){return b},n=S;function S(){return null!==w&&w.apply(this,arguments)||this}t.default=n}),define("shared-components/shared-account-reenabled-modal",["require","exports","tslib","dcgview","shared-components/modal","loadcss!./shared-account-modal"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedAccountReenabledModal=void 0;var i;i=n.Class,r.__extends(a,i),a.prototype.init=function(){this.controller=this.props.controller(),this.i18n=this.controller},a.prototype.template=function(){var e=this;return n.createElement(o.Modal,{title:function(){return e.i18n.s("shared-title-account-reactivated")},size:this.const("narrow"),showX:this.const(!0),onClose:function(){return e.controller.dispatch({type:"close-modal"})},i18n:this.props.controller},n.createElement("div",{class:n.const("dcg-shared-recover-password-dialog dcg-shared-account-dialog")},n.createElement("div",{class:n.const("dcg-shared-account-paragraph")},function(){return e.i18n.s("shared-message-account-reactivated")}),n.createElement("div",{class:n.const("dcg-shared-modal-actions-container")},n.createElement("button",{class:function(){return{"dcg-shared-btn-blue":!0}},onTap:function(){return e.controller.dispatch({type:"close-modal"})},didMount:function(t){e.controller.wasModalOpenedWithKeyboard()&&t.focus()}},function(){return e.i18n.s("shared-button-continue-to-desmos")}))))},r=a;function a(){return null!==i&&i.apply(this,arguments)||this}t.SharedAccountReenabledModal=r}),define("loadcss!calculator-shell/advanced-settings",function(){}),define("calculator-shell/advanced-settings",["require","exports","tslib","dcgview","../shared-components/shared-checkbox","../shared-components/shared-account-modal-errors","bugsnag","underscore","loadcss!./advanced-settings"],function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdvancedSettings=void 0;var c,l=n.Components,u=l.IfDefined,d=l.For,p={"dcg-actions":{label:"account-shell-label-feature-flag-actions",description:"account-shell-text-feature-flag-actions-description",learnMoreLink:"https://help.desmos.com/hc/en-us/articles/4407725009165"}};c=n.Class,r.__extends(h,c),h.prototype.init=function(){this.formErrors=[]},h.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-advanced-settings")},n.createElement("div",{class:n.const("dcg-shared-account-paragraph")},function(){return e.props.controller().s("account-shell-text-advanced-preferences-instructions")}),n.createElement(d,{each:function(){return s.keys(p)}},n.createElement("div",{class:n.const("dcg-feature-flag-list")},function(t){return n.createElement("div",null,n.createElement(o.SharedCheckbox,{ariaLabel:function(){return e.label(t)},checked:function(){return e.isFeatureFlagEnabled(t)},disabled:function(){return!!e.updateInFlight},onChange:function(r){return e.toggleFeatureFlag(t,r)}},n.createElement("span",{class:n.const("dcg-feature-flag-label")},function(){return e.label(t)})),n.createElement("div",{class:n.const("dcg-feature-flag-description")},function(){return e.description(t)},n.const(" "),n.createElement("a",{href:function(){return e.learnMoreLink(t)},class:n.const("dcg-shared-blue-link"),target:n.const("_blank")},function(){return e.props.controller().s("graphing-calculator-link-learn-more")})))})),n.createElement(i.SharedAccountModalErrors,{controller:this.props.controller,errors:function(){return e.formErrors}}),u(this.bindFn(this.getSaveProgress),function(t){return n.createElement("span",{"aria-live":n.const("assertive"),"aria-atomic":n.const("true"),class:n.const("dcg-shared-confirmation-message")},n.createElement("i",{class:function(){return{"dcg-shared-icon-check":!0,"dcg-success-marker":!0,"dcg-saving":"saving"===t()}},"aria-hidden":n.const("true")}),function(){return"saving"===t()?e.props.controller().s("shared-calculator-label-saving"):e.props.controller().s("shared-message-information-saved")})}))},h.prototype.getSaveProgress=function(){return this.updateInFlight?"saving":this.showSuccessConfirmation?"saved":void 0},h.prototype.isFeatureFlagEnabled=function(e){return this.updateInFlight&&e in this.updateInFlight?this.updateInFlight[e]:-1!==this.props.controller().userController.getFeatureFlags().indexOf(e)},h.prototype.toggleFeatureFlag=function(e,t){var r,n=this;this.updateInFlight=((r={})[e]=t,r),this.props.controller().dispatch({type:"render"}),this.props.controller().userController.updateFeatureFlags({featureFlagsUpdate:this.updateInFlight,lang:this.props.controller().getLanguage()}).then(function(){n.showSuccessConfirmation=!0,setTimeout(function(){n.showSuccessConfirmation=!1,n.props.controller().dispatch({type:"render"})},3e3)}).fail(function(e){a.notify(e),n.formErrors=[n.props.controller().s("account-shell-error-unknown")]}).always(function(){n.updateInFlight=void 0,n.props.controller().dispatch({type:"render"})})},h.prototype.learnMoreLink=function(e){return p[e].learnMoreLink},h.prototype.label=function(e){return this.props.controller().s(p[e].label)},h.prototype.description=function(e){return this.props.controller().s(p[e].description)},r=h;function h(){return null!==c&&c.apply(this,arguments)||this}t.AdvancedSettings=r}),define("loadcss!calculator-shell/delete-modal",function(){}),define("calculator-shell/delete-modal",["require","exports","tslib","dcgview","../lib/fluent-bundle-sequence","../shared-components/modal","loadcss!./delete-modal"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteModal=void 0;var a,s=n.Components.IfDefined;a=n.Class,r.__extends(c,a),c.prototype.init=function(){this.controller=this.props.controller(),this.graphsController=this.controller.graphsController},c.prototype.template=function(){var e=this;return n.createElement(i.Modal,{size:this.const("narrow"),onClose:function(){e.controller.dispatch({type:"close-modal"})},i18n:this.const(this.controller),title:function(){return e.controller.s("account-shell-label-delete-graph-modal-title")},class:this.const("dcg-delete-modal")},n.createElement("div",{class:n.const("dcg-delete-modal-contents")},n.createElement("div",{class:n.const("dcg-delete-confirmation-message")},this.bindFn(this.getConfirmationMessage)),s(function(){return e.errorMessage},function(e){return n.createElement("div",{class:n.const("dcg-error-message")},e)}),n.createElement("div",{class:n.const("dcg-action-buttons")},n.createElement("span",{class:n.const("dcg-shared-dark-gray-link"),role:n.const("button"),tabindex:n.const("0"),"aria-label":function(){return e.controller.s("account-shell-button-cancel")},onTap:function(){return e.controller.dispatch({type:"close-modal"})}},function(){return e.controller.s("account-shell-button-cancel")}),n.createElement("div",{class:function(){return{"dcg-shared-btn-red dcg-action-delete":!0,"dcg-disabled":!!e.deleteInProgress}},role:n.const("button"),tabindex:function(){return e.deleteInProgress?-1:0},"aria-label":this.bindFn(this.getButtonText),"aria-disabled":function(){return!!e.deleteInProgress},onTap:this.bindFn(this.deleteGraph)},this.bindFn(this.getButtonText)))))},c.prototype.deleteGraph=function(){var e=this;this.deleteInProgress=!0,this.graphsController._deleteGraph(this.graphsController.currentGraph).done(function(){e.graphsController.clearGraphByUserAction(),e.controller.dispatch({type:"close-modal"})}).fail(function(){e.deleteInProgress=!1,e.errorMessage=e.controller.s("account-shell-error-deletion-error"),e.controller.dispatch({type:"render"})})},c.prototype.getConfirmationMessage=function(){return this.controller.s("account-shell-text-delete-graphs-confirmation",{count:this.getGraphCount(),title:this.getTitle()})},c.prototype.getButtonText=function(){return this.controller.s("account-shell-button-confirm-delete",{count:this.getGraphCount()})},c.prototype.getGraphCount=function(){return new o.LocalizableNumericValue(1)},c.prototype.getTitle=function(){return this.graphsController.getCurrentGraphTitle()||this.graphsController.getUntitledString()},r=c;function c(){return null!==a&&a.apply(this,arguments)||this}t.DeleteModal=r}),define("loadcss!modals",function(){}),define("calculator-shell/modals",["require","exports","tslib","dcgview","./save-dialog","shared-components/shared-signup-modal","shared-components/shared-login-modal","shared-components/shared-recover-password-modal","./hotkeys-dialog","./unsupported-browser","shared-components/shared-account-settings-modal","shared-components/shared-change-email-modal","./export-image-dialog","shared-components/shared-consent-modal","./contest-submission-dialog","shared-components/modal","shared-components/shared-account-reenabled-modal","./advanced-settings","./delete-modal","loadcss!modals"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g,m,y,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Modals=void 0;var b,x=(E=n.Components).If,w=E.SwitchUnion,E=(b=n.Class,r.__extends(S,b),S.prototype.init=function(){this.controller=this.props.controller()},S.prototype.template=function(){var e=this;return w("modal",function(){return e.controller.getModalState()})({save:function(){return n.createElement(_,{controller:e.props.controller},n.createElement(o.SaveDialog,{controller:e.props.controller}))},rename:function(){return n.createElement(_,{controller:e.props.controller},n.createElement(o.SaveDialog,{controller:e.props.controller}))},duplicate:function(){return n.createElement(_,{controller:e.props.controller},n.createElement(o.SaveDialog,{controller:e.props.controller}))},"export-image":function(){return n.createElement(_,{controller:e.props.controller},n.createElement(p.default,{controller:e.props.controller}))},login:function(){return n.createElement(a.SharedLoginModal,{controller:e.props.controller})},signup:function(){return n.createElement(i.SharedSignupModal,{controller:e.props.controller,teacher:e.const(!1)})},"recover-password":function(){return n.createElement(s.SharedRecoverPasswordModal,{controller:e.props.controller})},hotkeys:function(){return n.createElement(_,{controller:e.props.controller},n.createElement(c.HotkeysDialog,{controller:e.props.controller}),n.const(";"))},"unsupported-browser":function(){return n.createElement(_,{controller:e.props.controller},n.createElement(l.UnsupportedBrowserDialog,{controller:e.props.controller}))},"account-settings":function(t){return n.createElement(u.SharedAccountSettingsModal,{controller:e.props.controller,extraTabs:e.bindFn(e.getAccountSettingsExtraTabs),initialTab:function(){return t().initialTab}})},"change-email":function(){return n.createElement(d.SharedChangeEmailModal,{controller:e.props.controller})},"account-reenabled":function(){return n.createElement(m.SharedAccountReenabledModal,{controller:e.props.controller})},consent:function(){return n.createElement(h.SharedConsentModal,{controller:e.props.controller})},"contest-submission":function(){return n.createElement(g.Modal,{title:function(){return""},size:e.const("wide"),showX:e.const(!0),onClose:function(){return e.controller.dispatch({type:"close-modal"})},i18n:e.props.controller},n.createElement(f.default,{controller:e.props.controller}))},delete:function(){return n.createElement(v.DeleteModal,{controller:e.props.controller})},"teacher-signup":function(){return n.createElement("div",null)},none:function(){return n.createElement("div",null)}})},S.prototype.getAccountSettingsExtraTabs=function(){var e=this;return{tabs:[{key:"advanced",wideLabel:function(){return e.props.controller().s("account-shell-label-advanced-preferences")},narrowLabel:function(){return e.props.controller().s("account-shell-label-advanced-preferences")},class:"advanced"}],createView:function(t){return t?"advanced"==t?n.createElement(y.AdvancedSettings,{controller:e.props.controller}):t:n.createElement("span",null)}}},S);function S(){return null!==b&&b.apply(this,arguments)||this}t.Modals=E;var k,_=(k=n.Class,r.__extends(I,k),I.prototype.init=function(){this.controller=this.props.controller()},I.prototype.template=function(){var e=this;return n.createElement("div",{role:n.const("dialog"),class:function(){return{"dcg-modal-container":!0,"dcg-wide-modal":"hotkeys"===e.controller.getOpenModal(),"dcg-fixed-width-height":e.shouldBeFixedWidthHeight(),"dcg-export-modal":"export-image"===e.controller.getOpenModal()}}},n.createElement("div",{class:n.const("dcg-modal-background"),onTap:function(){return e.controller.dispatch({type:"close-modal"})}}),n.createElement("div",{class:n.const("modal dcg-state-modals")},n.createElement(x,{predicate:function(){return"consent"!==e.controller.getOpenModal()}},function(){return n.createElement("span",{role:n.const("link"),tabindex:n.const(0),"aria-label":n.const("Close Dialog"),class:n.const("action-close-modal close-modal internal-close"),onTap:function(){return e.controller.dispatch({type:"close-modal"})},didMount:function(t){if("hotkeys"===e.controller.getOpenModal())return t.focus()}},n.createElement("i",{class:n.const("dcg-icon-remove"),"aria-hidden":n.const("true")}))}),this.children),n.createElement("span",{role:n.const("link"),tabindex:n.const(0),onTap:function(){return e.controller.dispatch({type:"close-modal"})},"aria-label":n.const("Close Dialog"),class:n.const("action-close-modal close-modal external-close")},n.createElement("i",{class:n.const("dcg-icon-remove"),"aria-hidden":n.const("true")})))},I.prototype.shouldBeFixedWidthHeight=function(){var e=this.controller.getOpenModal();return"export-image"===e||"contest-submission"===e},I);function I(){return null!==k&&k.apply(this,arguments)||this}}),define("vendor/fake-xml-http-request",[],function(){function e(e,t,r,n){this.type=e,this.bubbles=t,this.cancelable=r,this.target=n}e.prototype={stopPropagation:function(){},preventDefault:function(){this.defaultPrevented=!0}};var t={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choice",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"},r={"Accept-Charset":!0,"Accept-Encoding":!0,Connection:!0,"Content-Length":!0,Cookie:!0,Cookie2:!0,"Content-Transfer-Encoding":!0,Date:!0,Expect:!0,Host:!0,"Keep-Alive":!0,Referer:!0,TE:!0,Trailer:!0,"Transfer-Encoding":!0,Upgrade:!0,"User-Agent":!0,Via:!0};function n(){this._eventListeners={};for(var e=["loadstart","progress","load","error","abort","loadend"],t=e.length-1;0<=t;t--)!function(e,t){t.addEventListener(e,function(r){var n=t["on"+e];n&&"function"==typeof n&&n.call(r.target,r)})}(e[t],this)}function o(){n.call(this),this.readyState=o.UNSENT,this.requestHeaders={},this.requestBody=null,this.status=0,this.statusText="",this.upload=new n}n.prototype={addEventListener:function(e,t){this._eventListeners[e]=this._eventListeners[e]||[],this._eventListeners[e].push(t)},removeEventListener:function(e,t){for(var r=this._eventListeners[e]||[],n=0,o=r.length;n<o;++n)if(r[n]==t)return r.splice(n,1)},dispatchEvent:function(e){for(var t=e.type,r=this._eventListeners[t]||[],n=0;n<r.length;n++)"function"==typeof r[n]?r[n].call(this,e):r[n].handleEvent(e);return!!e.defaultPrevented},_progress:function(t,r,n){var o=new e("progress");o.target=this,o.lengthComputable=t,o.loaded=r,o.total=n,this.dispatchEvent(o)}},o.prototype=new n;var i,a={UNSENT:o.UNSENT=0,OPENED:o.OPENED=1,HEADERS_RECEIVED:o.HEADERS_RECEIVED=2,LOADING:o.LOADING=3,DONE:o.DONE=4,async:!0,withCredentials:!1,open:function(e,t,r,n,i){this.method=e,this.url=t,this.async="boolean"!=typeof r||r,this.username=n,this.password=i,this.responseText=null,this.responseXML=null,this.requestHeaders={},this.sendFlag=!1,this._readyStateChange(o.OPENED)},setRequestHeader:function(e,t){if(s(this),r[e]||/^(Sec-|Proxy-)/.test(e))throw new Error('Refused to set unsafe header "'+e+'"');this.requestHeaders[e]?this.requestHeaders[e]+=","+t:this.requestHeaders[e]=t},send:function(t){var r;s(this),/^(get|head)$/i.test(this.method)||(r=!1,Object.keys(this.requestHeaders).forEach(function(e){"content-type"===e.toLowerCase()&&(r=!0)}),r||(t||"").toString().match("FormData")||(this.requestHeaders["Content-Type"]="text/plain;charset=UTF-8"),this.requestBody=t),this.errorFlag=!1,this.sendFlag=this.async,this._readyStateChange(o.OPENED),"function"==typeof this.onSend&&this.onSend(this),this.dispatchEvent(new e("loadstart",!1,!1,this)),o.onSend&&o.onSend(this)},abort:function(){this.aborted=!0,this.responseText=null,this.errorFlag=!0,this.requestHeaders={},this.readyState>o.UNSENT&&this.sendFlag&&(this._readyStateChange(o.DONE),this.sendFlag=!1),this.readyState=o.UNSENT,this.dispatchEvent(new e("abort",!1,!1,this)),"function"==typeof this.onerror&&this.onerror()},error:function(){this.responseText=null,this.errorFlag=!0,this.requestHeaders={},this.readyState>o.UNSENT&&this.sendFlag&&(this.sendFlag=!1),this.readyState=o.DONE,this.dispatchEvent(new e("error",!1,!1,this)),"function"==typeof this.onerror&&this.onerror()},getResponseHeader:function(e){if(this.readyState<o.HEADERS_RECEIVED)return null;if(/^Set-Cookie2?$/i.test(e))return null;for(var t in e=e.toLowerCase(),this.responseHeaders)if(t.toLowerCase()==e)return this.responseHeaders[t];return null},getAllResponseHeaders:function(){if(this.readyState<o.HEADERS_RECEIVED)return"";var e,t="";for(e in this.responseHeaders)this.responseHeaders.hasOwnProperty(e)&&!/^Set-Cookie2?$/i.test(e)&&(t+=e+": "+this.responseHeaders[e]+"\r\n");return t},overrideMimeType:function(e){"string"==typeof e&&(this.forceMimeType=e.toLowerCase())},_readyStateChange:function(t){this.readyState=t,"function"==typeof this.onreadystatechange&&this.onreadystatechange(new e("readystatechange")),this.dispatchEvent(new e("readystatechange")),this.readyState==o.DONE&&(this.dispatchEvent(new e("load",!1,!1,this)),this.dispatchEvent(new e("loadend",!1,!1,this)))},_setResponseHeaders:function(e){for(var t in this.responseHeaders={},e)e.hasOwnProperty(t)&&(this.responseHeaders[t]=e[t]);this.forceMimeType&&(this.responseHeaders["Content-Type"]=this.forceMimeType),this.async?this._readyStateChange(o.HEADERS_RECEIVED):this.readyState=o.HEADERS_RECEIVED},_setResponseBody:function(e){!function(e){if(e.readyState==o.DONE)throw new Error("Request done")}(this),function(e){if(e.async&&e.readyState!=o.HEADERS_RECEIVED)throw new Error("No headers received")}(this),function(){if("string"!=typeof e){var t=new Error("Attempted to respond to fake XMLHttpRequest with "+e+", which is not a string.");throw t.name="InvalidBodyException",t}}();var t=this.chunkSize||10,r=0;for(this.responseText="";this.async&&this._readyStateChange(o.LOADING),this.responseText+=e.substring(r,r+t),(r+=t)<e.length;);var n,i,a=this.getResponseHeader("Content-Type");if(this.responseText&&(!a||/(text\/xml)|(application\/xml)|(\+xml)/.test(a)))try{this.responseXML=(n=this.responseText,"undefined"!=typeof DOMParser?i=(new DOMParser).parseFromString(n,"text/xml"):((i=new ActiveXObject("Microsoft.XMLDOM")).async="false",i.loadXML(n)),i)}catch(e){}this.async?this._readyStateChange(o.DONE):this.readyState=o.DONE},respond:function(e,r,n){this._setResponseHeaders(r||{}),this.status="number"==typeof e?e:200,this.statusText=t[this.status],this._setResponseBody(n||"")}};for(i in a)o.prototype[i]=a[i];function s(e){if(e.readyState!==o.OPENED)throw new Error("INVALID_STATE_ERR");if(e.sendFlag)throw new Error("INVALID_STATE_ERR")}return o}),define("lib/app-bridge",["require","jquery","underscore_model","browser","lib/conditional_blur","vendor/fake-xml-http-request","pjs","console","main/backend"],function(e){"use strict";var t,r,n=e("jquery"),o=e("underscore_model").UnderscoreModel,i=e("browser"),a=e("lib/conditional_blur").default,s=e("vendor/fake-xml-http-request"),c=null,l=null,u=e("pjs"),d=e("console"),p=!1,h=e("main/backend"),f={},g=0;i.IS_IOS?(t=[],c={loaded:!(r=[]),methods:{},queuedMethodCalls:[]},n(function(){var e=[];window.ObjC_callback=function(n){c.loaded=!0,n.split(" ").forEach(function(n){c.methods[n]=function(i,a){var s=a?(a=a,s=r.length?r.pop():t.length,t[s]=a,s):-1;e.push("desmos:"+n+"/"+s+"/"+encodeURIComponent(i)),1===e.length&&o.attr("src",e[0])}}),this.ObjC_callback=function(n,i){try{-1!==n&&(s=t[a=n],t[a]=null,r.push(a),s(i))}finally{e.shift(),0<e.length&&o.attr("src",e[0])}var a,s},c.methods.proxyXHR&&((window.XMLHttpRequest=s).onSend=function(e){var t=g+"";g+=1,f[t]=e,c.methods.proxyXHR(JSON.stringify({id:t,url:e.url,method:e.method,headers:e.requestHeaders,body:e.requestBody}))}),c.queuedMethodCalls.forEach(function(e){m[e.methodName].apply(m,e.args)})};var o=n('<iframe id="objc-bridge" style="position:absolute; left: -1000px; z-index: -1" src="desmos:loaded"/>').appendTo(document.body)})):i.IS_ANDROID?l=window.Android:p=!0;var m=new(u(o,function(e,t){e.init=function(){t.init.call(this),this.heartbeatTimeout=null,this.observeEvent("started resumed",function(e){this.gaEvent(e+":"+this.versionNumber),this.incrementHeartbeat(0)}.bind(this)),-1!==document.location.search.indexOf("simulateVersionNumber")&&(this.versionNumber="?.?.?")},e.heartbeat=function(e){clearTimeout(this.heartbeatTimeout),this.gaEvent("heartbeat-"+10*e),this.incrementHeartbeat(e)},e.incrementHeartbeat=function(e){clearTimeout(this.heartbeatTimeout),this.heartbeatTimeout=setTimeout(function(){this.heartbeat(e+1)}.bind(this),6e5)},e._started=function(e,t){this.appId=e,this.versionNumber=t,this.triggerEvent("started")},e._resumed=function(){this.triggerEvent("resumed")},e.handleAndroidBackButtonAndReturnIfShouldMoveToBackground=function(){var e=window.Calc&&window.Calc.controller;return e&&e.isKeypadOpen()?(a(),"false"):(e=window.MainController)&&e.handleAndroidBackButton()?"false":"true"},e.isInApp=function(){return window.platform&&"www"!==window.platform},e.onGoogleAuthResult=function(e){this.triggerEvent("onGoogleAuthResult",e)},e.onAppleAuthResult=function(e){this.triggerEvent("onAppleAuthResult",e)},e.onObjCXHRProxyResult=function(e){var t=e.id,r=f[t];delete f[t],0===e.status?r.error():r.respond(e.status,e.headers,e.body)},e.sendAnalyticsEvent=function(e,t){this.sendSerializedAnalyticsEvent(JSON.stringify({type:e,payload:t}))}}));return["hideLoadingScreen","gaEvent","openGoogleLogin","openAppleLogin","logout","saveCookies","deleteCookies","startSingleAppMode","endSingleAppMode","setWWWSubdomain","sendSerializedAnalyticsEvent","sendStoredLogsToDesmos"].forEach(function(e){m[e]=function(){p||(l?l[e]?l[e].apply(l,arguments):d.log("call to missing Android method",e,arguments):c&&(c.loaded?c.methods[e]?c.methods[e].apply(c,arguments):d.log("call to missing ObjC method",e,arguments):c.queuedMethodCalls.push({methodName:e,args:arguments})))}}),p||(window.AppBridge=m,document.addEventListener("click",function(e){var t=n(e.target).closest("a[href]")[0];t&&"file:"===t.protocol&&("/"!==(e=t.getAttribute("href"))[0]&&(e="/"+e),t.setAttribute("href",h.baseURL+e))},!0)),window.__dcgAppBridgeDefined=!0,m}),define("loadcss!mygraphs/item",function(){}),define("mygraphs/item",["require","exports","tslib","dcgview","jquery","../shared-components/tooltip","loadcss!./item"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Item=void 0;var a,s=n.Components.If;a=n.Class,r.__extends(c,a),c.prototype.template=function(){var e=this;return n.createElement("div",{role:n.const("listitem"),class:function(){return{"saved-graph":!0,"graph-link-container":!0,"dcg-selected":e.props.isSelected()}},onTap:function(t){t.wasHandled()||e.props.onTap(t)}},n.createElement(s,{predicate:function(){return!e.props.isDeletingGraph()&&!e.props.didDeleteGraphFail()}},function(){return n.createElement("div",{role:n.const("link"),tabindex:n.const(0),class:function(){return{"graph-link":!0,"dcg-action-preview-graph":!0,"example-graph":e.props.isExample()}},didMount:e.bindFn(e.didMount)},n.createElement("span",{class:n.const("dcg-thumb"),style:e.const({"background-image":"url("+e.props.getThumbURL()+")"})}),n.createElement("div",{class:n.const("dcg-graph-details")},n.createElement("div",{class:n.const("dcg-title")},e.props.getTitle),n.createElement("div",{class:n.const("dcg-subtitle dcg-graph-date")},function(){return e.props.isExample()?e.props.s("account-shell-label-mygraphs-example"):e.props.getDisplayDate()})))}),n.createElement(s,{predicate:this.props.isDeletingGraph},function(){return n.createElement("div",{"aria-live":n.const("assertive"),"aria-atomic":n.const("true"),class:n.const("deleting"),handleEvent:n.const("true"),onTap:function(){e.props.canCancelDelete()&&e.props.cancelDeleteGraph()}},function(){return e.props.s("account-shell-text-mygraphs-deleting")},n.createElement(s,{predicate:e.props.canCancelDelete},function(){return n.createElement("div",{role:n.const("button"),tabindex:n.const(0),class:n.const("cancel-delete")},function(){return e.props.s("account-shell-button-mygraphs-cancel")})}))}),n.createElement(s,{predicate:this.props.didDeleteGraphFail},function(){return n.createElement("div",{"aria-live":n.const("assertive"),"aria-atomic":n.const("true"),class:n.const("retry-delete"),handleEvent:n.const("true")},function(){return e.props.s("account-shell-error-mygraphs-error-deleting")},n.createElement("a",{role:n.const("button"),tabindex:n.const(0),class:n.const("dcg-action-removegraph"),onTap:e.props.requestDeleteGraph},function(){return e.props.s("account-shell-button-mygraphs-try-again")}),function(){return e.props.s("account-shell-text-mygraphs-or")},n.createElement("a",{role:n.const("button"),tabindex:n.const(0),class:n.const("dcg-action-cancelremovegraph"),onTap:e.props.cancelDeleteGraph},function(){return e.props.s("account-shell-button-mygraphs-cancel")}))}),n.createElement(s,{predicate:function(){return!e.props.isExample()&&!e.props.isDeletingGraph()&&!e.props.didDeleteGraphFail()}},function(){return n.createElement("span",{class:n.const("actions"),handleEvent:n.const("true")},n.createElement("span",{role:n.const("button"),tabindex:n.const(0),"aria-label":function(){return e.props.s("account-shell-button-mygraphs-delete-title",{graphTitle:e.props.getTitle()})},class:n.const("dcg-action-removegraph"),onTap:e.props.requestDeleteGraph},n.createElement(i.Tooltip,{tooltip:function(){return e.props.s("account-shell-button-mygraphs-delete-graph")},gravity:e.const("e")},n.createElement("i",{class:n.const("dcg-icon-remove"),"aria-hidden":n.const("true")}))))}))},c.prototype.didUpdate=function(){this.props.isSelected()&&this.$node.trigger("focus")},c.prototype.didMount=function(e){var t=this;this.$node=o(e),this.$node.on("focus",function(){t.props.isSelected()||t.props.onFocus()})},r=c;function c(){return null!==a&&a.apply(this,arguments)||this}t.Item=r}),define("loadcss!mygraphs/save-btn",function(){}),define("mygraphs/save-btn",["require","exports","tslib","dcgview","loadcss!./save-btn"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SaveBtn=void 0;var o,i=n.Components.If;o=n.Class,r.__extends(a,o),a.prototype.shouldShowSaveButton=function(){return!this.props.isSaving()&&!this.props.didSaveRecentlySucceed()&&!this.props.didSaveRecentlyFail()},a.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("save-btn-container")},n.createElement(i,{predicate:function(){return e.shouldShowSaveButton()}},function(){return n.createElement("div",{role:n.const("button"),onTap:e.props.onTap,class:function(){return{"dcg-action-save":!0,"dcg-btn-primary":e.props.enabled(),"dcg-disabled":!e.props.enabled()}},"aria-disabled":function(){return!e.props.enabled()},tabindex:function(){return e.props.enabled()?0:-1}},function(){return e.props.s("account-shell-button-mygraphs-save")})}),n.createElement(i,{predicate:this.props.isSaving},function(){return n.createElement("div",{class:n.const("save-saving")},n.createElement("span",{class:n.const("dcg-spinner-dark")}))}),n.createElement(i,{predicate:this.props.didSaveRecentlyFail},function(){return n.createElement("div",{class:n.const("save-error"),"aria-live":n.const("assertive"),"aria-atomic":n.const("true")},n.createElement("i",{class:n.const("dcg-icon-remove"),"aria-hidden":n.const("true")}),n.const(" "),function(){return e.props.s("account-shell-text-error")})}),n.createElement(i,{predicate:this.props.didSaveRecentlySucceed},function(){return n.createElement("div",{class:n.const("save-success")},n.createElement("i",{class:n.const("dcg-icon-check"),"aria-hidden":n.const("true")}),n.const(" "),function(){return e.props.s("account-shell-text-saved")})}))},r=a;function a(){return null!==o&&o.apply(this,arguments)||this}t.SaveBtn=r}),define("mygraphs/graph-in-progress",["require","exports","tslib","dcgview","./save-btn","loadcss!./item"],function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphInProgress=void 0;var i;i=n.Class,r.__extends(a,i),a.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("graph-link-container graph-in-progress")},n.createElement("div",{role:n.const("link"),"aria-label":function(){return e.props.s("account-shell-button-mygraphs-save")},class:n.const("graph-link dcg-action-preview-graph"),onTap:this.props.openSaveDialog},n.createElement("span",{class:n.const("dcg-thumb"),style:function(){return{"background-image":"url("+e.props.getThumbnail()+")"}}}),n.createElement("div",{class:n.const("dcg-graph-details")},n.createElement("div",{class:n.const("dcg-title")},this.props.getTitle),n.createElement("div",{class:n.const("dcg-subtitle dcg-save-status")},function(){return e.props.isSaveEnabled()?e.props.wasCurrentGraphEverSaved()?e.props.s("account-shell-label-mygraphs-last-saved",{date:e.props.getDisplayDate()}):e.props.s("account-shell-label-mygraphs-unsaved-graph"):e.props.s("account-shell-label-mygraphs-no-unsaved-changes")})),n.createElement(o.SaveBtn,{enabled:this.props.isSaveEnabled,isSaving:this.props.isSaving,didSaveRecentlySucceed:this.props.didSaveRecentlySucceed,didSaveRecentlyFail:this.props.didSaveRecentlyFail,onTap:function(){},s:this.props.s})))},a.prototype.shouldUpdate=function(){return this.props.isOpen()},r=a;function a(){return null!==i&&i.apply(this,arguments)||this}t.GraphInProgress=r}),define("loadcss!mygraphs/user-bar",function(){}),define("mygraphs/user-bar",["require","exports","tslib","dcgview","jquery","../calculator-shell/account-menu","loadcss!./user-bar"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserBar=void 0;var a,s=n.Components,c=s.Input,l=s.If;a=n.Class,r.__extends(u,a),u.prototype.willUpdate=function(){this.props.isSearching()||this.setSearchValue("")},u.prototype.setSearchValue=function(e){this.searchValue!==e&&(this.searchValue=e,this.props.updateFilter(e))},u.prototype.init=function(){this.controller=this.props.controller(),this.searchValue=""},u.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-user-bar")},n.createElement(l,{predicate:function(){return!e.props.isSearching()}},function(){return n.createElement("div",{class:n.const("dcg-account-link-container")},n.createElement("div",{class:n.const("dcg-account-link"),"dcg-menu-button":n.const("account"),role:n.const("button"),tabindex:n.const(0),"aria-haspopup":n.const("true"),"aria-expanded":function(){return"account"===e.controller.getOpenMenu()},"aria-label":n.const("Account Information"),onTap:function(t){e.measureAccountDropdownArrowOffset(),e.props.controller().dispatch({type:"toggle-menu",payload:"account"}),"keyboard"==t.device&&(t="account"===e.props.controller().getOpenMenu(),o(t?".dcg-action-accountsettings":".dcg-account-link").trigger("focus"))}},n.createElement("span",{class:n.const("dcg-variable-name")},function(){return e.controller.userController.getFirstName()}),n.createElement("i",{class:n.const("dcg-icon-caret-down"),"aria-hidden":n.const("true")})),n.createElement(l,{predicate:function(){return"account"===e.controller.getOpenMenu()&&e.controller.mygraphsController.isMygraphsOpen()}},function(){return n.createElement(i.AccountMenu,{controller:e.const(e.controller),left:function(){return"4px"},arrowLeft:function(){return e.accountDropdownArrowOffset-4+"px"}})}))}),n.createElement(l,{predicate:function(){return!e.props.isSearching()}},function(){return n.createElement("div",{role:n.const("link"),tabindex:n.const("0"),class:n.const("dcg-search-btn"),onTap:function(t){t.preventDefault(),e.props.openSearch(),o(".search-container").find("input").trigger("focus")}},n.createElement("i",{class:n.const("dcg-icon-search search-icon"),"aria-hidden":n.const("true")}),n.createElement("span",{class:n.const("dcg-menu-title")},function(){return e.props.s("account-shell-heading-title-mygraphs-search")}))}),n.createElement(l,{predicate:function(){return e.props.isSearching()}},function(){return n.createElement("div",{role:n.const("search"),class:n.const("search-container search-open")},n.createElement("i",{class:n.const("dcg-icon-search search-icon"),"aria-hidden":n.const("true")}),n.createElement(c,{placeholder:function(){return e.props.s("account-shell-text-mygraphs-search-by-title")},onInput:e.bindFn(e.setSearchValue),onFocus:e.props.openSearch,value:function(){return e.searchValue},didMount:e.bindFn(e.didMountSearch)}),n.createElement("span",{role:n.const("button"),tabindex:n.const(0),"aria-label":function(){return e.props.s("account-shell-heading-title-mygraphs-search")},class:n.const("dcg-icon-remove dcg-action-close-search"),onTap:function(t){t.preventDefault(),e.props.closeSearch()}}))}))},u.prototype.didMountDropdown=function(e){o(e).on("touchstart",function(e){return e.preventDefault()})},u.prototype.didMountSearch=function(e){var t=this;o(e).on("blur",function(){o(e).val()||t.props.closeSearch()})},u.prototype.measureAccountDropdownArrowOffset=function(){var e,t=(null!==(e=null===(e=(t=o(".dcg-user-bar .dcg-account-link i")).offset())||void 0===e?void 0:e.left)&&void 0!==e?e:0)+(null!==(t=t.width())&&void 0!==t?t:0)/2;this.accountDropdownArrowOffset=t},r=u;function u(){return null!==a&&a.apply(this,arguments)||this}t.UserBar=r}),define("loadcss!mygraphs/graph-preview",function(){}),define("mygraphs/graph-preview",["require","exports","tslib","dcgview","jquery","mygraphs/load-graph-view","loadcss!./graph-preview"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphPreview=void 0;var a,s=n.Components.If;a=n.Class,r.__extends(c,a),c.prototype.didMountGraphPreview=function(e){return this.$graphPreview=o(e),this.updateGraphPreviewTop()},c.prototype.didMountArrow=function(e){return this.$arrow=o(e),this.updateArrowTop()},c.prototype.didMountCalc=function(e){return this.previewCalc=this.props.makeAPI(e),this.updatePreviewCalc()},c.prototype.willUnmountCalc=function(){this.previewCalc&&this.previewCalc.destroy&&this.previewCalc.destroy()},c.prototype.didUpdate=function(){return this.updateGraphPreviewTop(),this.updateArrowTop(),this.updatePreviewCalc()},c.prototype.updateGraphPreviewTop=function(){return this.$graphPreview.css("top",this.getTopOffset()+"px")},c.prototype.updateArrowTop=function(){this.$arrow.css("top",this.getArrowOffset()+"px")},c.prototype.updatePreviewCalc=function(){var e=this.props.getGraphData();e!==this.cachedGraphData&&(this.cachedGraphData=e,this.previewCalc.setState(e),this.previewCalc.resize())},c.prototype.getMaxTop=function(){return o(window).height()-this.$graphPreview.outerHeight()-10},c.prototype.getIdealTop=function(){var e=this.props.alignToNode();return null==e?null:o(e).offset().top+.5*o(e).outerHeight()-60},c.prototype.getTopOffset=function(){var e=this.getIdealTop();if(null==e)return 0;var t=this.getMaxTop();return Math.min(e,t)},c.prototype.getArrowOffset=function(){var e=this.getIdealTop();return null==e?60:60+e-this.getTopOffset()},c.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("graph-preview"),didMount:this.bindFn(this.didMountGraphPreview)},n.createElement("div",{class:n.const("dcg-graph-preview-info")},n.createElement("h4",{class:n.const("dcg-title")},this.props.getTitle),n.createElement("span",{role:n.const("button"),tabindex:n.const("0"),class:n.const("dcg-action-cancel"),onTap:this.props.onCancel},n.createElement("i",{class:n.const("dcg-icon-remove"),"aria-hidden":n.const("true")}))),n.createElement("div",{class:n.const("preview-graph-area")},n.createElement(s,{predicate:function(){return!e.props.getGraphData()}},function(){return n.createElement(i.LoadGraphView,{didDataLoadFail:e.props.didDataLoadFail,onCancel:e.props.onCancel,requestLoadGraphData:e.props.requestLoadGraphData,s:e.props.s.bind(e.props)})}),n.createElement("div",{didMount:this.bindFn(this.didMountCalc),willUnmount:this.bindFn(this.willUnmountCalc),class:function(){return{"dcg-preview-calculator":!0,"dcg-visible":e.props.getGraphData()}}}),n.createElement("div",{class:function(){return{"screenshot-clickjack":!0,"dcg-action-open-graph":!0,"dcg-visible":e.props.getGraphData()}}},n.createElement("span",{role:n.const("button"),tabindex:n.const("0"),class:n.const("dcg-action-open-graph dcg-open-graph-btn dcg-btn-primary"),onTap:this.props.onOpenGraph},this.props.getOpenText))),n.createElement("div",{class:n.const("active-arrow"),didMount:this.bindFn(this.didMountArrow)},n.createElement("div",{class:n.const("dcg-graphic")})))},r=c;function c(){return null!==a&&a.apply(this,arguments)||this}t.GraphPreview=r}),define("loadcss!mygraphs/syncing-status-bar",function(){}),define("mygraphs/syncing-status-bar",["require","exports","tslib","dcgview","loadcss!./syncing-status-bar"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncingStatusBar=void 0;var o,i=n.Components.If;o=n.Class,r.__extends(a,o),a.prototype.template=function(){var e=this;return n.createElement("div",{class:function(){return{"syncing-status-bar":!0,visible:e.props.isSyncingGraphs()||e.props.didSyncFail()}}},n.createElement(i,{predicate:this.props.isSyncingGraphs},function(){return n.createElement("div",{class:n.const("syncing-status-text")},n.createElement("span",{class:n.const("dcg-pulse")},function(){return e.props.s("account-shell-text-mygraphs-updating-graphs")}))}),n.createElement(i,{predicate:function(){return!e.props.isSyncingGraphs()&&!e.props.didSyncFail()}},function(){return n.createElement("div",{class:n.const("success-status-text")},n.createElement("i",{class:n.const("dcg-icon-check"),"aria-hidden":n.const("true")}),n.const(" "),function(){return e.props.s("account-shell-text-mygraphs-synced")})}),n.createElement(i,{predicate:this.props.didSyncFail},function(){return n.createElement("div",{class:n.const("error-status-text"),onTap:e.props.requestSyncGraphs},function(){return e.props.s("account-shell-button-mygraphs-offline-try-again")})}))},r=a;function a(){return null!==o&&o.apply(this,arguments)||this}t.SyncingStatusBar=r}),define("loadcss!mygraphs/account-reminder",function(){}),define("mygraphs/account-reminder",["require","exports","tslib","dcgview","loadcss!./account-reminder"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccountReminder=void 0;var o;o=n.Class,r.__extends(i,o),i.prototype.init=function(){this.controller=this.props.controller()},i.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-account-reminder")},n.createElement("span",{class:n.const("dcg-login")},n.createElement("a",{role:n.const("link"),tabindex:n.const(0),class:n.const("dcg-sign-in dcg-action-login dcg-btn-white-outline"),onTap:this.props.onSignIn},function(){return e.props.controller().s("account-shell-button-log-in")}),function(){return e.props.controller().s("account-shell-text-or")},n.createElement("a",{role:n.const("link"),tabindex:n.const(0),class:n.const("dcg-create-account dcg-btn dcg-btn-primary dcg-tool-color dcg-action-createaccount"),onTap:this.props.onCreateAccount},function(){return e.props.controller().s("account-shell-button-sign-up")})),n.createElement("div",null,function(){return e.getToSaveYourText()}))},i.prototype.getToSaveYourText=function(){return"graphing"===this.controller.product?this.controller.s("account-shell-text-mygraphs-to-save-graphs"):"geometry"===this.controller.product?this.controller.s("account-shell-text-mygraphs-to-save-constructions"):""},r=i;function i(){return null!==o&&o.apply(this,arguments)||this}t.AccountReminder=r}),define("mygraphs/heading",["require","exports","tslib","dcgview"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o;o=n.Class,r.__extends(i,o),i.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-mygraphs-section-title-container")},n.createElement("span",{role:n.const("heading"),"aria-level":n.const("1"),class:n.const("dcg-mygraphs-section-title")},function(){return e.props.title()}))},r=i;function i(){return null!==o&&o.apply(this,arguments)||this}t.default=r}),define("loadcss!mygraphs/mygraphs",function(){}),define("mygraphs/mygraphs",["require","exports","tslib","dcgview","jquery","underscore","mygraphs/item","mygraphs/graph-in-progress","mygraphs/user-bar","mygraphs/graph-preview","mygraphs/syncing-status-bar","mygraphs/account-reminder","mygraphs/load-graph-view","scroll_helpers","mygraphs/heading","keys","analytics/looker","shared/dcgviews/localize","loadcss!./mygraphs"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h,f,g,m,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mygraphs=void 0;var v,b=n.Components,x=b.If,w=b.For,E=b.IfElse,S="default",k="search";v=n.Class,r.__extends(_,v),_.prototype.didUpdate=function(){this.previewGraph&&h.scrollVisible(o(this.getSelectedNode()),this.$scrollableNode,60)&&this.update()},_.prototype.didMountScrollable=function(e){var t=this;this.$scrollableNode=o(e),this.$scrollableNode.on("focusin",function(e){if(null!=t.previewGraph&&!o(e.target).hasClass("graph-link"))return t.previewItem(null)}),o(window).on("keydown",function(e){if(!t.props.isOpen())return!0;switch(g.lookup(e)){case g.UP:return t.selectUp(e);case g.DOWN:return t.selectDown(e)}}),e=i.throttle(this.hidePreviewIfTooScrolled.bind(this),200),this.$scrollableNode.on("scroll",e),this.debouncedFetchSelectedGraph=i.debounce(this.fetchSelectedGraph.bind(this),200)},_.prototype.fetchSelectedGraph=function(){return this.props.graphsController().loadDataForGraph(this.previewGraph)},_.prototype.hidePreviewIfTooScrolled=function(){var e,t,r;null!=this.previewGraph&&(t=o(this.getSelectedNode()),r=o(this.findRootNode()).find(".active-arrow"),e=t.offset(),t=t.height(),r=r.offset(),void 0!==e&&void 0!==t&&void 0!==r&&(t=e.top+.5*t,r=r.top,10<Math.abs(t-r)&&this.previewItem(null)))},_.prototype.openSearch=function(){this.state=k,this.previewItem(null)},_.prototype.closeSearch=function(){this.state=S,this.previewItem(null)},_.prototype.updateFilter=function(e){this.filter=e,this.update()},_.prototype.getMaxGraphs=function(){return this.maxGraphs||50},_.prototype.getCountRemaining=function(){return this.getSavedGraphs().length-this.getMaxGraphs()},_.prototype.showMoreGraphs=function(e){var t,r=this.getMaxGraphs();this.getCountRemaining()<2*r?this.maxGraphs=1/0:this.maxGraphs=2*r,this.update(),"keyboard"===(null!=e?e.device:void 0)&&(t=null!=(t=this.getSavedAndExampleGraphs())?t[r]:void 0)&&this.previewItem(t)},_.prototype.getSelectedNode=function(){return o(".dcg-mygraphs .graph-link-container.dcg-selected")[0]},_.prototype.selectUp=function(e){var t;null!=this.previewGraph&&(e.preventDefault(),(t=this.getSavedAndExampleGraphs()).length&&(e=null!=this.previewGraph?this.previewGraph.hash:void 0,e=i.indexOf(i.pluck(t,"hash"),e),(e=null!=t?t[e-1]:void 0)?e&&this.previewItem(e):null!=this.$newGraph&&this.$newGraph.trigger("focus")))},_.prototype.selectDown=function(e){var t;null==this.previewGraph||(t=this.getSavedAndExampleGraphs()).length&&(e.preventDefault(),e=null!=this.previewGraph?this.previewGraph.hash:void 0,e=i.indexOf(i.pluck(t,"hash"),e),(t=null!=t?t[e+1]:void 0)&&(!t.example&&e+1>=this.getMaxGraphs()&&this.showMoreGraphs(),this.previewItem(t)))},_.prototype.getFilter=function(){return this.state===k&&null!=this.filter?this.filter:""},_.prototype.getRecoveryGraphs=function(){return this.props.graphsController().getRecoveryGraphs()},_.prototype.attemptRecovery=function(){this.logRecoveryClientEvent("ask"),this.controller.mygraphsController.recoveryAttempted=!0,this.controller.graphsController.fetchRecoveryGraphs(),this.update()},_.prototype.hasAttemptedRecovery=function(){return this.controller.mygraphsController.hasAttemptedRecovery()&&!this.isAttemptingRecovery()},_.prototype.isAttemptingRecovery=function(){return this.controller.graphsController.isLoadingRecoveryGraphs},_.prototype.shouldShowAttemptRecoveryText=function(){return!!this.graphsController.isRecoveryUIEnabledForProduct()&&!this.hasAttemptedRecovery()},_.prototype.getSavedGraphs=function(){return this.props.graphsController().getSavedGraphs()},_.prototype.getExampleGraphs=function(){return this.props.graphsController().getExampleGraphs()},_.prototype.getSavedAndExampleGraphs=function(){return this.props.graphsController().getSavedAndExampleGraphs()},_.prototype.filterGraphs=function(e){var t=this,r=this.getFilter().toLowerCase();return r?e.filter(function(e){return 0<=t.sanitizeTitle(e).toLowerCase().indexOf(r)}):e},_.prototype.sliceGraphs=function(e){return e.slice(0,this.getMaxGraphs())},_.prototype.canShowMore=function(e){return e.length>this.getMaxGraphs()},_.prototype.onFocusGraph=function(e){this.skipPreview()||this.previewItem(e)},_.prototype.onTapGraph=function(e,t){this.skipPreview()||"keyboard"===t.device?this.openGraphWithCover(e):this.previewGraph!==e&&this.previewItem(e)},_.prototype.previewItem=function(e){this.previewGraph&&(this.previewGraph=null),e&&(this.previewGraph=e,this.debouncedFetchSelectedGraph()),this.update()},_.prototype.skipPreview=function(){var e=window.platform;return o("body").width()<650||"ios"===e||"android"===e},_.prototype.onOpenPreviewGraph=function(){var e;null!=this.previewGraph&&(e=this.previewGraph,this.previewItem(null),this.props.onOpenGraph(e))},_.prototype.openGraphWithCover=function(e){var t=this;if(this.graphWithCover=e,this.previewItem(null),null!=e)return setTimeout(function(){t.props.graphsController().loadGraphImmediately(e).done(function(){t.graphWithCover&&t.props.openGraphBehindCover(e).then(function(){t.graphWithCover=null,t.update()})}).always(function(){t.update()})},250)},_.prototype.cancelLoadGraphWithCover=function(){this.graphWithCover=null,this.update()},_.prototype.didDataLoadFail=function(e){return this.props.graphsController().didDataLoadFail(e)},_.prototype.willUpdate=function(){this.props.isOpen()&&this.controller.userController.isLoggedIn()||(this.state=S)},_.prototype.didMountNewGraph=function(e){var t=this;return this.$newGraph=o(e),this.$newGraph.on("keydown",function(e){if(g.lookup(e)===g.DOWN){var r=t.getSavedAndExampleGraphs();return t.previewItem(r[0]),e.preventDefault(),e.stopPropagation()}})},_.prototype.sanitizeTitle=function(e){return e.example?this.controller.s(e.title):e.title||this.graphsController.getUntitledString()},_.prototype.init=function(){this.state=S,this.controller=this.props.controller(),this.graphsController=this.controller.graphsController},_.prototype.template=function(){var e=this;return n.createElement("div",{class:function(){return{"dcg-mygraphs":!0,"logged-in":e.controller.userController.isLoggedIn(),"preview-mode":!!e.props.previewMode(),"maintenance-mode":!!e.props.maintenanceMode()}}},n.createElement("div",{class:n.const("dcg-resources-container")},n.createElement(x,{predicate:function(){return e.props.accountsEnabled()&&!e.controller.userController.isLoggedIn()&&!e.props.previewMode()&&!e.props.maintenanceMode()}},function(){return n.createElement(d.AccountReminder,{onCreateAccount:e.props.onCreateAccount,onSignIn:e.props.onSignIn,controller:e.props.controller})}),n.createElement(x,{predicate:function(){return e.controller.userController.isLoggedIn()}},function(){return n.createElement("div",null,n.createElement(x,{predicate:function(){return e.controller.userController.isLoggedIn()&&e.state===S}},function(){return n.createElement(u.SyncingStatusBar,{isSyncingGraphs:function(){return e.props.graphsController().isSyncing()},didSyncFail:function(){return e.props.graphsController().didSyncFail()},requestSyncGraphs:e.props.refreshGraphs,s:e.controller.s})}),n.createElement(c.UserBar,{controller:e.props.controller,openSearch:e.bindFn(e.openSearch),closeSearch:e.bindFn(e.closeSearch),updateFilter:e.bindFn(e.updateFilter),isSearching:function(){return e.state===k},s:e.controller.s}))}),n.createElement("div",{class:n.const("dcg-scrollable"),didMount:this.bindFn(this.didMountScrollable)},n.createElement("div",{class:n.const("dcg-scrollable-interior")},n.createElement(x,{predicate:this.props.maintenanceMode},function(){return n.createElement("div",{class:n.const("maintenance-mode")},function(){return e.controller.s("account-shell-text-mygraphs-maintenance-mode")})}),n.createElement(x,{predicate:this.props.previewMode},function(){return n.createElement("div",{class:n.const("maintenance-mode")},function(){var t;return null===(t=e.props.previewMode())||void 0===t?void 0:t.message},n.createElement("br",null),n.createElement("a",{tabindex:n.const("0"),class:n.const("dcg-btn-primary"),href:function(){var t;return null===(t=e.props.previewMode())||void 0===t?void 0:t.url},target:n.const("_blank")},function(){return e.controller.s("account-shell-text-mygraphs-share-thoughts")}))}),n.createElement(x,{predicate:function(){return e.state!==k&&e.controller.shouldShowArtContestNudge()}},function(){return n.createElement("div",{onTap:function(t){e.controller.dispatch({type:"show-modal",modal:"contest-submission",device:t.device})},class:n.const("dcg-sidebar-contest-submit")},n.createElement("span",{class:n.const("dcg-trophy-icon")},n.const("")),n.createElement(y.Localize,{i18n:e.const(e.controller),key:e.const("account-shell-text-mygraphs-submit-to-contest")},n.createElement("span",{class:n.const("dcg-contest-submit-message")},n.const("Submit this graph to the"),n.const(" "),n.createElement("span",{class:n.const("dcg-bold-text")},n.const("Global Math Art Contest!")))))}),n.createElement(x,{predicate:function(){return e.state!==k}},function(){return n.createElement("div",{role:n.const("link"),tabindex:n.const("0"),class:n.const("new-blank-graph dcg-action-newblankgraph"),onTap:function(){return e.previewItem(null),e.props.openBlankGraph()},didMount:e.bindFn(e.didMountNewGraph)},n.createElement("div",{class:n.const("new-blank-graph-inner")},n.createElement("span",{class:n.const("dcg-add-blank")},n.createElement("i",{class:n.const("dcg-icon-plus"),"aria-hidden":n.const("true")})),n.createElement("span",{class:n.const("dcg-new-graph-title")},function(){return"geometry"===e.props.controller().getProduct()?e.controller.s("account-shell-text-mygraphs-new-construction"):e.controller.s("account-shell-text-mygraphs-new-blank-graph")})))}),n.createElement(x,{predicate:function(){return!e.props.maintenanceMode()&&!e.props.previewMode()&&e.controller.userController.isLoggedIn()&&e.state!==k}},function(){return n.createElement("div",null,n.createElement(f.default,{title:function(){return"geometry"===e.props.controller().getProduct()?e.controller.s("account-shell-text-mygraphs-current-construction"):e.controller.s("account-shell-text-mygraphs-current-graph")}}),n.createElement(s.GraphInProgress,{getTitle:function(){return e.getPreviewTitle()},getDisplayDate:function(){return e.controller.unpack(e.props.graphsController().getCurrentDisplayDate())},isOpen:e.props.isOpen,getThumbnail:e.props.getThumbnail,isSaveEnabled:e.props.isSaveEnabled,simpleSave:function(){return e.props.simpleSave(),e.previewItem(null)},openSaveDialog:function(){return e.props.openSaveDialog(),e.previewItem(null)},wasCurrentGraphEverSaved:function(){return e.props.graphsController().wasCurrentGraphEverSaved()},isSaving:function(){return e.props.graphsController().isSaving()},didSaveRecentlySucceed:function(){return e.props.graphsController().didSaveSucceed()},didSaveRecentlyFail:function(){return e.props.graphsController().didSaveFail()},s:e.controller.s}),n.createElement(x,{predicate:e.bindFn(e.shouldShowAttemptRecoveryText)},function(){return n.createElement("div",{class:n.const("dcg-lost-work-link")},E(function(){return e.isAttemptingRecovery()},{true:function(){return n.createElement("span",null,n.createElement("span",null,function(){return e.controller.s("account-shell-text-mygraphs-attempting-recovery")}),n.createElement("span",{class:n.const("dcg-spinner-dark")}))},false:function(){return n.createElement("span",null,n.createElement("span",null,function(){return e.controller.s("account-shell-text-mygraphs-lost-work")+" "}),n.createElement("span",{tabIndex:n.const("0"),role:n.const("link"),class:n.const("dcg-attempt-recovery"),onTap:e.bindFn(e.attemptRecovery)},function(){return e.controller.s("account-shell-button-mygraphs-attempt-recovery")}))}}))}))}),n.createElement(x,{predicate:function(){return!e.props.maintenanceMode()&&!e.props.previewMode()&&e.controller.userController.isLoggedIn()&&e.hasAttemptedRecovery()&&e.state!==k}},function(){return n.createElement("div",null,E(function(){return e.getRecoveryGraphs().length},{true:function(){return n.createElement("div",{class:n.const("dcg-recovery-graphs-list")},n.createElement(f.default,{title:function(){return e.controller.s("account-shell-heading-mygraphs-recovered-work")}}),n.createElement(w,{each:function(){return e.getRecoveryGraphs()},key:function(e){return e.getCollectionKey()}},n.createElement("div",{role:n.const("list")},function(t){return n.createElement(a.Item,{onTap:function(r){return e.onTapGraph(t,r)},onFocus:function(){return e.onFocusGraph(t)},cancelDeleteGraph:function(){return e.props.graphsController().cancelDeleteGraph(t)},requestDeleteGraph:function(){return e.logRecoveryClientEvent("delete"),e.previewItem(null),e.props.graphsController().requestDeleteGraph(t)},isDeletingGraph:function(){return e.props.graphsController().isDeletingGraph(t)},canCancelDelete:function(){return e.props.graphsController().canCancelDelete(t)},didDeleteGraphFail:function(){return e.props.graphsController().didDeleteGraphFail(t)},isSelected:function(){return t===e.previewGraph},isExample:n.const(!1),getDisplayDate:function(){return e.controller.unpack(t.displayDate())},getTitle:function(){return e.sanitizeTitle(t)},getThumbURL:function(){return t.thumbURL},s:e.controller.s})})))},false:function(){return n.createElement("div",{class:n.const("dcg-no-recovery-graphs")},function(){return e.controller.s("account-shell-text-mygraphs-no-unsaved-graphs")})}}))}),n.createElement(x,{predicate:function(){return e.controller.userController.isLoggedIn()}},function(){return n.createElement(f.default,{title:function(){return"geometry"===e.props.controller().getProduct()?e.controller.s("account-shell-heading-mygraphs-saved-constructions"):e.controller.s("account-shell-heading-mygraphs-saved-graphs")}})}),n.createElement(w,{each:function(){return e.sliceGraphs(e.filterGraphs(e.getSavedGraphs()))},key:function(e){return e.getCollectionKey()}},n.createElement("div",{class:n.const("dcg-saved-graphs-list"),role:n.const("list")},function(t){return n.createElement(a.Item,{onTap:function(r){return e.onTapGraph(t,r)},onFocus:function(){return e.onFocusGraph(t)},cancelDeleteGraph:function(){return e.props.graphsController().cancelDeleteGraph(t)},requestDeleteGraph:function(){return e.previewItem(null),e.props.graphsController().requestDeleteGraph(t)},isDeletingGraph:function(){return e.props.graphsController().isDeletingGraph(t)},canCancelDelete:function(){return e.props.graphsController().canCancelDelete(t)},didDeleteGraphFail:function(){return e.props.graphsController().didDeleteGraphFail(t)},isSelected:function(){return t===e.previewGraph},isExample:n.const(!1),getDisplayDate:function(){return e.controller.unpack(t.displayDate())},getTitle:function(){return e.sanitizeTitle(t)},getThumbURL:function(){return t.thumbURL},s:e.controller.s})})),n.createElement(x,{predicate:function(){return e.controller.userController.isLoggedIn()&&0===e.filterGraphs(e.getSavedGraphs()).length}},function(){return n.createElement("div",{"aria-live":n.const("assertive"),"aria-atomic":n.const("true"),class:n.const("no-matches")},function(){return e.state===k?e.controller.s("account-shell-text-mygraphs-no-search-results"):e.controller.s("account-shell-text-mygraphs-no-saved-graphs")})}),n.createElement(x,{predicate:function(){return e.canShowMore(e.filterGraphs(e.getSavedGraphs()))}},function(){return n.createElement("div",{class:n.const("dcg-show-more-graphs"),onTap:e.bindFn(e.showMoreGraphs),role:n.const("button"),tabindex:n.const("0")},function(){return e.controller.s("account-shell-text-mygraphs-count-more",{count:e.getCountRemaining()})})}),n.createElement(f.default,{title:function(){return e.controller.s("account-shell-heading-mygraphs-examples")}}),n.createElement(w,{each:function(){return e.filterGraphs(e.getExampleGraphs())},key:function(e){return e.getCollectionKey()}},n.createElement("div",{role:n.const("list")},function(t){return n.createElement(a.Item,{onTap:function(r){return e.onTapGraph(t,r)},onFocus:function(){return e.onFocusGraph(t)},cancelDeleteGraph:function(){},requestDeleteGraph:function(){},isDeletingGraph:n.const(!1),didDeleteGraphFail:n.const(!1),canCancelDelete:n.const(!1),isSelected:function(){return t===e.previewGraph},isExample:n.const(!0),getDisplayDate:function(){return e.controller.unpack(t.displayDate())},getTitle:function(){return e.sanitizeTitle(t)},getThumbURL:function(){return t.thumbURL},s:e.controller.s})})),n.createElement(x,{predicate:function(){return!!e.getFilter()&&0===e.filterGraphs(e.getExampleGraphs()).length}},function(){return n.createElement("div",{"aria-live":n.const("assertive"),"aria-atomic":n.const("true"),class:n.const("no-matches")},function(){return e.controller.s("account-shell-text-mygraphs-no-examples-match-search")})}),n.createElement("div",{class:n.const("dcg-mygraphs-legal")},n.createElement("a",{href:n.const("/terms"),target:n.const("_blank")},function(){return e.controller.s("account-shell-link-terms")}),n.const("|"),n.createElement("a",{href:n.const("/privacy"),target:n.const("_blank")},function(){return e.controller.s("account-shell-link-privacy")}),n.createElement(x,{predicate:function(){return!!e.props.versionNumber()}},function(){return n.createElement("div",{class:n.const("dcg-version")},function(){return e.controller.s("account-shell-text-mygraphs-version")},n.const(" "),e.props.versionNumber)})))),n.createElement(x,{predicate:function(){return e.previewGraph}},function(){return n.createElement(l.GraphPreview,{alignToNode:function(){return e.getSelectedNode()},getTitle:function(){if(null!=e.previewGraph)return e.sanitizeTitle(e.previewGraph)},getGraphData:function(){return null!=e.previewGraph?e.previewGraph.graphData:void 0},onCancel:function(){return e.previewItem(null)},didDataLoadFail:function(){return e.didDataLoadFail(e.previewGraph)},requestLoadGraphData:e.bindFn(e.fetchSelectedGraph),onOpenGraph:e.bindFn(e.onOpenPreviewGraph),s:e.controller.s,makeAPI:e.props.makeAPI,getOpenText:function(){return e.controller.getOpenText()}})})),n.createElement(x,{predicate:this.props.isOpen},function(){return n.createElement("div",{role:n.const("link"),tabindex:n.const("0"),class:n.const("dcg-resources-cover dcg-action-close-resources"),style:function(){return{opacity:null!=e.previewGraph?.6:0}},onTap:function(){return null!=e.previewGraph?e.previewItem(null):e.props.closeDrawer()},"aria-label":function(){return null!=e.previewGraph?e.controller.s("account-shell-button-mygraphs-close-graph-preview"):e.controller.s("account-shell-button-mygraphs-close-graph-list")}})}),n.createElement(x,{predicate:function(){return null!=e.graphWithCover}},function(){return n.createElement("div",{class:n.const("dcg-fullscreen-loading-container")},n.createElement(x,{predicate:function(){return null!=(null!=e.graphWithCover?e.graphWithCover.graphData:void 0)}},function(){return n.createElement("div",{"aria-live":n.const("assertive"),"aria-atomic":n.const("true"),class:n.const("dcg-graph-loading")},n.createElement("div",{class:n.const("pulsing-message")},function(){return e.controller.s("account-shell-text-mygraphs-opening")}),n.createElement("div",{class:n.const("slow-loading")},function(){return e.getSlowLoadingText()}))}),n.createElement(x,{predicate:function(){return null==(null!=e.graphWithCover?e.graphWithCover.graphData:void 0)}},function(){return n.createElement(p.LoadGraphView,{didDataLoadFail:function(){return e.didDataLoadFail(e.graphWithCover)},onCancel:e.bindFn(e.cancelLoadGraphWithCover),requestLoadGraphData:function(){return e.openGraphWithCover(e.graphWithCover)},s:e.controller.s})}))}))},_.prototype.getPreviewTitle=function(){return this.graphsController.getCurrentGraphTitle()||this.graphsController.getUntitledString()},_.prototype.getSlowLoadingText=function(){return"graphing"===this.graphsController.product?this.controller.s("account-shell-text-mygraphs-slow-big-graphs"):"geometry"===this.graphsController.product?this.controller.s("account-shell-text-mygraphs-slow-big-constructions"):""},_.prototype.logRecoveryClientEvent=function(e){m.logJSON("recovered-graph",{product:this.controller.graphsController.product,timeSincePageload:Date.now()-this.controller.mygraphsController.pageLoadTime,payloadJSON:{action:e}})},r=_;function _(){var e=null!==v&&v.apply(this,arguments)||this;return e.state="default",e}t.Mygraphs=r}),define("mygraphs/wrapper",["require","exports","lib/app-bridge","tslib","dcgview","./mygraphs"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MygraphsWrapper=void 0;var a;a=o.Class,n.__extends(s,a),s.prototype.init=function(){this.controller=this.props.controller(),this.graphsController=this.controller.graphsController,this.mygraphsController=this.controller.mygraphsController},s.prototype.template=function(){var e=this;return o.createElement(i.Mygraphs,{isOpen:function(){return e.mygraphsController.isMygraphsOpen()},graphsController:function(){return e.graphsController},maintenanceMode:function(){return e.controller.isInMaintenanceMode()},previewMode:function(){return e.controller.getPreviewParams()},accountsEnabled:this.const(!0),controller:function(){return e.controller},closeDrawer:function(){return e.controller.dispatch({type:"close-mygraphs"})},openBlankGraph:function(){return e.mygraphsController.openBlankGraph()},onOpenGraph:function(t){return e.mygraphsController.onOpenGraph(t)},openGraphBehindCover:function(t){return e.mygraphsController.openGraphBehindCover(t)},onLogout:function(){return e.controller.userController.logout()},onEditAccount:function(){return e.controller.dispatch({type:"show-modal",modal:"account-settings",device:"mouse"})},onCreateAccount:function(){return e.controller.dispatch({type:"show-modal",modal:"signup",device:"mouse"})},onSignIn:function(){return e.controller.dispatch({type:"show-modal",modal:"login",device:"mouse"})},refreshGraphs:function(){return e.graphsController.refreshGraphs()},getThumbnail:function(){return e.mygraphsController.getThumbnail()},simpleSave:function(){return e.controller.simpleSave()},openSaveDialog:function(){return e.controller.openSaveDialog({fromSaveInProgress:!0})},versionNumber:function(){return r.versionNumber},isSaveEnabled:function(){return e.controller.isSaveEnabled()},makeAPI:this.props.makeAPI})},n=s;function s(){return null!==a&&a.apply(this,arguments)||this}t.MygraphsWrapper=n}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("vendor/bugsnag",[],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).bugsnag=e()}(function(){function e(e,t,r){for(var n=r,o=0,i=e.length;o<i;o++)n=t(n,e[o],o,e);return n}function t(e){return e<10?"0"+e:e}function r(t,r){return e(t,function(e,t,n,o){return e.concat(r(t,n,o))},[])}function n(t,r){return e(t,function(e,t,n,o){return!0===e||t===r},!1)}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(){var e=new Date;return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}function a(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);if(!s)return r;for(var n=0,o=c.length;n<o;n++)Object.prototype.hasOwnProperty.call(e,c[n])&&r.push(c[n]);return r}var s=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=e,u={intRange:function(e,t){return void 0===e&&(e=1),void 0===t&&(t=1/0),function(r){return"number"==typeof r&&parseInt(""+r,10)===r&&e<=r&&r<=t}},stringWithLength:function(e){return"string"==typeof e&&!!e.length}},d={},p=Ue=function(t,r){return e(t,function(e,t,n,o){return r(t,n,o)?e.concat(t):e},[])},h=l,f=o,g=n,m=u.intRange,y=u.stringWithLength;function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e){return(e.app&&"string"==typeof e.app.releaseStage?e.app:e.config).releaseStage}d.schema={apiKey:{defaultValue:function(){return null},message:"is required",validate:y},appVersion:{defaultValue:function(){return null},message:"should be a string",validate:function(e){return null===e||y(e)}},appType:{defaultValue:function(){return null},message:"should be a string",validate:function(e){return null===e||y(e)}},autoNotify:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return!0===e||!1===e}},beforeSend:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:function(e){return"function"==typeof e||f(e)&&p(e,function(e){return"function"==typeof e}).length===e.length}},endpoints:{defaultValue:function(){return{notify:"https://notify.bugsnag.com",sessions:"https://sessions.bugsnag.com"}},message:"should be an object containing endpoint URLs { notify, sessions }. sessions is optional if autoCaptureSessions=false",validate:function(e,t){return e&&"object"==typeof e&&y(e.notify)&&(!1===t.autoCaptureSessions||y(e.sessions))&&0===p(a(e),function(e){return!g(["notify","sessions"],e)}).length}},autoCaptureSessions:{defaultValue:function(e,t){return void 0===t.endpoints||!!t.endpoints&&!!t.endpoints.sessions},message:"should be true|false",validate:function(e){return!0===e||!1===e}},notifyReleaseStages:{defaultValue:function(){return null},message:"should be an array of strings",validate:function(e){return null===e||f(e)&&p(e,function(e){return"string"==typeof e}).length===e.length}},releaseStage:{defaultValue:function(){return"production"},message:"should be a string",validate:function(e){return"string"==typeof e&&e.length}},maxBreadcrumbs:{defaultValue:function(){return 20},message:"should be a number 40",validate:function(e){return m(0,40)(e)}},autoBreadcrumbs:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return"boolean"==typeof e}},user:{defaultValue:function(){return null},message:"(object) user should be an object",validate:function(e){return"object"==typeof e}},metaData:{defaultValue:function(){return null},message:"should be an object",validate:function(e){return"object"==typeof e}},logger:{defaultValue:function(){},message:"should be null or an object with methods { debug, info, warn, error }",validate:function(e){return!e||e&&h(["debug","info","warn","error"],function(t,r){return t&&"function"==typeof e[r]},!0)}},filters:{defaultValue:function(){return["password"]},message:"should be an array of strings|regexes",validate:function(e){return f(e)&&e.length===p(e,function(e){return"string"==typeof e||e&&"function"==typeof e.test}).length}}},d.mergeDefaults=function(e,t){if(!e||!t)throw new Error("opts and schema objects are required");return h(a(t),function(r,n){return r[n]=void 0!==e[n]?e[n]:t[n].defaultValue(e[n],e),r},{})},d.validate=function(e,t){if(!e||!t)throw new Error("opts and schema objects are required");var r=h(a(t),function(r,n){return t[n].validate(e[n],e)?r:r.concat({key:n,message:t[n].message,value:e[n]})},[]);return{valid:!r.length,errors:r}};var x=d.schema,w=r,E={releaseStage:{defaultValue:function(){return/^localhost(:\d+)?$/.test(window.location.host)?"development":"production"},message:"should be set",validate:u.stringWithLength},logger:v({},x.logger,{defaultValue:function(){return"undefined"!=typeof console&&"function"==typeof console.debug?S():void 0}})},S=function(){var e={},t=console.log;return w(["debug","info","warn","error"],function(r){var n=console[r];e[r]=("function"==typeof n?n:t).bind(console,"[bugsnag]")}),e},k=i,_=(I.prototype.toJSON=function(){return{type:this.type,name:this.name,timestamp:this.timestamp,metaData:this.metaData}},I);function I(e,t,r,n){void 0===e&&(e="[anonymous]"),void 0===t&&(t={}),void 0===r&&(r="manual"),void 0===n&&(n=k()),this.type=r,this.name=e,this.metaData=t,this.timestamp=n}function M(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return 1;default:return e instanceof Error}}function L(e,t){return e.isIgnored()||!1===t}var T={};!function(e,t){"use strict";"object"==typeof T?T=t():e.StackFrame=t()}(this,function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e.charAt(0).toUpperCase()+e.substring(1)}function r(e){return function(){return this[e]}}var n=["isConstructor","isEval","isNative","isToplevel"],o=["columnNumber","lineNumber"],i=["fileName","functionName","source"],a=n.concat(o,i,["args"]);function s(e){if(e instanceof Object)for(var r=0;r<a.length;r++)e.hasOwnProperty(a[r])&&void 0!==e[a[r]]&&this["set"+t(a[r])](e[a[r]])}s.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof s)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new s(e)}},toString:function(){return(this.getFunctionName()||"{anonymous}")+"("+(this.getArgs()||[]).join(",")+")"+(this.getFileName()?"@"+this.getFileName():"")+(e(this.getLineNumber())?":"+this.getLineNumber():"")+(e(this.getColumnNumber())?":"+this.getColumnNumber():"")}};for(var c=0;c<n.length;c++)s.prototype["get"+t(n[c])]=r(n[c]),s.prototype["set"+t(n[c])]=function(e){return function(t){this[e]=Boolean(t)}}(n[c]);for(var l=0;l<o.length;l++)s.prototype["get"+t(o[l])]=r(o[l]),s.prototype["set"+t(o[l])]=function(t){return function(r){if(!e(r))throw new TypeError(t+" must be a Number");this[t]=Number(r)}}(o[l]);for(var u=0;u<i.length;u++)s.prototype["get"+t(i[u])]=r(i[u]),s.prototype["set"+t(i[u])]=function(e){return function(t){this[e]=String(t)}}(i[u]);return s});var C={};function A(e){return!(!e||!e.stack&&!e.stacktrace&&!e["opera#sourceloc"]||"string"!=typeof(e.stack||e.stacktrace||e["opera#sourceloc"])||e.stack===e.name+": "+e.message)}!function(e,t){"use strict";"object"==typeof C?C=t(T):e.ErrorStackParser=t(e.StackFrame)}(this,function(e){"use strict";var t=/(^|@)\S+\:\d+/,r=/^\s*at .*(\S+\:\d+|\(native\))/m,n=/^(eval@)?(\[native code\])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(r))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){return-1===e.indexOf(":")?[e]:[(e=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(e.replace(/[\(\)]/g,"")))[1],e[2]||void 0,e[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter(function(e){return!!e.match(r)},this).map(function(t){-1<t.indexOf("(eval ")&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var r=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),n=this.extractLocation(r.pop()),o=r.join(" ")||void 0;r=-1<["eval","<anonymous>"].indexOf(n[0])?void 0:n[0];return new e({functionName:o,fileName:r,lineNumber:n[1],columnNumber:n[2],source:t})},this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter(function(e){return!e.match(n)},this).map(function(t){if(-1<t.indexOf(" > eval")&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var r=/((.*".+"[^@]*)?[^@]*)(?:@)/,n=(n=t.match(r))&&n[1]?n[1]:void 0;r=this.extractLocation(t.replace(r,""));return new e({functionName:n,fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:t})},this)},parseOpera:function(e){return!e.stacktrace||-1<e.message.indexOf("\n")&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)/i,n=t.message.split("\n"),o=[],i=2,a=n.length;i<a;i+=2){var s=r.exec(n[i]);s&&o.push(new e({fileName:s[2],lineNumber:s[1],source:n[i]}))}return o},parseOpera10:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=t.stacktrace.split("\n"),o=[],i=0,a=n.length;i<a;i+=2){var s=r.exec(n[i]);s&&o.push(new e({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:n[i]}))}return o},parseOpera11:function(r){return r.stack.split("\n").filter(function(e){return!!e.match(t)&&!e.match(/^Error created at/)},this).map(function(t){var r=t.split("@"),n=this.extractLocation(r.pop()),o=r.shift()||"";r=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;o.match(/\(([^\)]*)\)/)&&(i=o.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var i=void 0===i||"[arguments not available]"===i?void 0:i.split(",");return new e({functionName:r,args:i,fileName:n[0],lineNumber:n[1],columnNumber:n[2],source:t})},this)}}});var O=C,P={};function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}!function(e,t){"use strict";"object"==typeof P?P=t(T):e.StackGenerator=t(e.StackFrame)}(this,function(e){return{backtrace:function(t){var r=[],n=10;"object"==typeof t&&"number"==typeof t.maxStackSize&&(n=t.maxStackSize);for(var o=arguments.callee;o&&r.length<n&&o.arguments;){for(var i=new Array(o.arguments.length),a=0;a<i.length;++a)i[a]=o.arguments[a];/function(?:\s+([\w$]+))+\s*\(/.test(o.toString())?r.push(new e({functionName:RegExp.$1||void 0,args:i})):r.push(new e({args:i}));try{o=o.caller}catch(t){break}}return r}}});var F=l,N=Ue,q=((x=U.prototype).ignore=function(){this._ignored=!0},x.isIgnored=function(){return this._ignored},x.updateMetaData=function(e){var t,r;return e?null===(arguments.length<=1?void 0:arguments[1])?this.removeMetaData(e):null===(arguments.length<=2?void 0:arguments[2])?this.removeMetaData(e,arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]):("object"==typeof(arguments.length<=1?void 0:arguments[1])&&(r=arguments.length<=1?void 0:arguments[1]),"string"==typeof(arguments.length<=1?void 0:arguments[1])&&((t={})[arguments.length<=1?void 0:arguments[1]]=arguments.length<=2?void 0:arguments[2],r=t),r&&(this.metaData[e]||(this.metaData[e]={}),this.metaData[e]=D({},this.metaData[e],r)),this):this},x.removeMetaData=function(e,t){return"string"!=typeof e||(t?this.metaData[e]&&delete this.metaData[e][t]:delete this.metaData[e]),this},x.toJSON=function(){return{payloadVersion:"4",exceptions:[{errorClass:this.errorClass,message:this.errorMessage,stacktrace:this.stacktrace,type:"browserjs"}],severity:this.severity,unhandled:this._handledState.unhandled,severityReason:this._handledState.severityReason,app:this.app,device:this.device,breadcrumbs:this.breadcrumbs,context:this.context,user:this.user,metaData:this.metaData,groupingHash:this.groupingHash,request:this.request,session:this.session}},U),R=function(e){return-1<(e={file:e.fileName,method:B(e.functionName),lineNumber:e.lineNumber,columnNumber:e.columnNumber,code:void 0,inProject:void 0}).lineNumber&&!e.file&&!e.method&&(e.file="global code"),e},B=function(e){return/^global code$/i.test(e)?"global code":e},j=function(){return{unhandled:!1,severity:"warning",severityReason:{type:"handledException"}}},V=function(e,t){return"string"==typeof e&&e?e:t};function U(e,t,r,n,o){void 0===r&&(r=[]),void 0===n&&(n=j()),this.__isBugsnagReport=!0,this._ignored=!1,this._handledState=n,this.app=void 0,this.apiKey=void 0,this.breadcrumbs=[],this.context=void 0,this.device=void 0,this.errorClass=V(e,"[no error class]"),this.errorMessage=V(t,"[no error message]"),this.groupingHash=void 0,this.metaData={},this.request=void 0,this.severity=this._handledState.severity,this.stacktrace=F(r,function(e,t){var r=R(t);try{return"{}"===JSON.stringify(r)?e:e.concat(r)}catch(t){return e}},[]),this.user=void 0,this.session=void 0,this.originalError=o}q.getStacktrace=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=0),A(e)?O.parse(e).slice(t):N(P.backtrace(),function(e){return-1===(e.functionName||"").indexOf("StackGenerator$$")}).slice(1+r)},q.ensureReport=function(e,t,r){if(void 0===t&&(t=0),void 0===r&&(r=0),e.__isBugsnagReport)return e;try{var n=q.getStacktrace(e,t,1+r);return new q(e.name,e.message,n,void 0,e)}catch(t){return new q(e.name,e.message,[],void 0,e)}};var G,z=q,H=function(e,t){return(e="000000000"+e).substr(e.length-t)},W="object"==typeof window?window:self,K=0;for(G in W)Object.hasOwnProperty.call(W,G)&&K++;x=navigator.mimeTypes?navigator.mimeTypes.length:0;var $=H((x+navigator.userAgent.length).toString(36)+K.toString(36),4),Y=function(){return $},X=0,Q=Math.pow(36,4);function J(){return H((Math.random()*Q<<0).toString(36),4)}function Z(){return"c"+(new Date).getTime().toString(36)+H((X=X<Q?X:0,(++X-1).toString(36)),4)+Y()+(J()+J())}Z.fingerprint=Y;var ee=Z,te=i,re=((x=ne.prototype).toJSON=function(){return{id:this.id,startedAt:this.startedAt,events:{handled:this._handled,unhandled:this._unhandled}}},x.trackError=function(e){this[e._handledState.unhandled?"_unhandled":"_handled"]+=1},ne);function ne(){this.id=ee(),this.startedAt=te(),this._handled=0,this._unhandled=0}function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ie(e,t,r,n){var o,i,a,s,c=n&&n.filterKeys?n.filterKeys:[];n=n&&n.filterPaths?n.filterPaths:[];return JSON.stringify((o=c,i=n,a=[],s=0,function e(t,r){function n(){return 8<r.length&&25e3<s}if(s++,20<r.length)return ge;if(n())return ge;if(null===t||"object"!=typeof t)return t;if(function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return 1}(a,t))return"[Circular]";if(a.push(t),"function"==typeof t.toJSON)try{s--;var c=e(t.toJSON(),r);return a.pop(),c}catch(t){return ye(t)}if(t instanceof Error||/^\[object (Error|(Dom)?Exception)\]$/.test(Object.prototype.toString.call(t))){s--;var l=e({name:t.name,message:t.message},r);return a.pop(),l}if("[object Array]"===Object.prototype.toString.call(t)){for(var u=[],d=0,p=t.length;d<p;d++){if(n()){u.push(ge);break}u.push(e(t[d],r.concat("[]")))}return a.pop(),u}var h={};try{for(var f in t)if(Object.prototype.hasOwnProperty.call(t,f))if(function(e,t){for(var r=0,n=e.length;r<n;r++)if(0===t.indexOf(e[r]))return 1}(i,r.join("."))&&function(e,t){for(var r=0,n=e.length;r<n;r++){if("string"==typeof e[r]&&e[r]===t)return 1;if(e[r]&&"function"==typeof e[r].test&&e[r].test(t))return 1}}(o,f))h[f]="[Filtered]";else{if(n()){h[f]=ge;break}h[f]=e(function(e,t){try{return e[t]}catch(e){return ye(e)}}(t,f),r.concat(f))}}catch(t){}return a.pop(),h}(e,[])),t,r)}var ae=r,se=n,ce=o,le=(x=((x=me.prototype).setOptions=function(e){this._opts=oe({},this._opts,e)},x.configure=function(e){void 0===e&&(e=d.schema);var t=d.mergeDefaults(this._opts,e);if(1==!(e=d.validate(t,e)).valid)throw new Error(de(e.errors));return"function"==typeof t.beforeSend&&(t.beforeSend=[t.beforeSend]),t.appVersion&&(this.app.version=t.appVersion),t.appType&&(this.app.type=t.appType),t.metaData&&(this.metaData=t.metaData),t.user&&(this.user=t.user),t.logger&&this.logger(t.logger),this.config=oe({},this.config,t),this._configured=!0,this},x.use=function(e){if(!this._configured)throw new Error("client not configured");e.configSchema&&this.configure(e.configSchema);for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=e.init.apply(e,[this].concat(r));return e.name&&(this._plugins["~"+e.name+"~"]=o),this},x.getPlugin=function(e){return this._plugins["~"+e+"~"]},x.delivery=function(e){return this._delivery=e,this},x.logger=function(e,t){return this._logger=e,this},x.sessionDelegate=function(e){return this._sessionDelegate=e,this},x.startSession=function(){return this._sessionDelegate?this._sessionDelegate.startSession(this):(this._logger.warn("No session implementation is installed"),this)},x.leaveBreadcrumb=function(e,t,r,n){if(!this._configured)throw new Error("client not configured");if(r="string"==typeof r?r:void 0,n="string"==typeof n?n:void 0,t="object"==typeof t&&null!==t?t:void 0,"string"==typeof(e=e||void 0)||t)return n=new _(e,t,r,n),this.breadcrumbs.push(n),this.breadcrumbs.length>this.config.maxBreadcrumbs&&(this.breadcrumbs=this.breadcrumbs.slice(this.breadcrumbs.length-this.config.maxBreadcrumbs)),this},x.notify=function(e,t,r){var n=this;if(void 0===t&&(t={}),void 0===r&&(r=function(){}),!this._configured)throw new Error("client not configured");var o,i=b(this),a=(o=le(e,t,this._logger)).err;e=o.errorFramesToSkip;(o=o._opts)&&(t=o),"object"==typeof t&&null!==t||(t={});var s=z.ensureReport(a,e,2);if(s.app=oe({},{releaseStage:i},s.app,this.app),s.context=s.context||t.context||this.context||void 0,s.device=oe({},s.device,this.device,t.device),s.request=oe({},s.request,this.request,t.request),s.user=oe({},s.user,this.user,t.user),s.metaData=oe({},s.metaData,this.metaData,t.metaData),s.breadcrumbs=this.breadcrumbs.slice(0),this._session&&(this._session.trackError(s),s.session=this._session),void 0!==t.severity&&(s.severity=t.severity,s._handledState.severityReason={type:"userSpecifiedSeverity"}),ce(this.config.notifyReleaseStages)&&!se(this.config.notifyReleaseStages,i))return this._logger.warn("Report not sent due to releaseStage/notifyReleaseStages configuration"),r(null,s);function c(e){n._logger.error("Error occurred in beforeSend callback, continuing anyway"),n._logger.error(e)}var l,u,d,p,h,f,g,m,y=s.severity;t=[].concat(t.beforeSend).concat(this.config.beforeSend);g=s,m=c,u=function(e,t){if("function"!=typeof e)return t(null,!1);try{if(2!==e.length){var r=e(g);return r&&"function"==typeof r.then?r.then(function(e){return setTimeout(function(){return t(null,L(g,e))},0)},function(e){setTimeout(function(){return m(e),t(null,!1)})}):t(null,L(g,r))}e(g,function(e,r){return e?(m(e),t(null,!1)):void t(null,L(g,r))})}catch(e){m(e),t(null,!1)}},d=function(e,t){return e&&c(e),t?(n._logger.debug("Report not sent due to beforeSend callback"),r(null,s)):(n.config.autoBreadcrumbs&&n.leaveBreadcrumb(s.errorClass,{errorClass:s.errorClass,errorMessage:s.errorMessage,severity:s.severity},"error"),y!==s.severity&&(s._handledState.severityReason={type:"userCallbackSetSeverity"}),void n._delivery.sendReport(n._logger,n.config,{apiKey:s.apiKey||n.config.apiKey,notifier:n.notifier,events:[s]},function(e){return r(e,s)}))},p=(l=t).length,h=0,(f=function(){if(p<=h)return d(null,!1);u(l[h],function(e,t){return e?d(e,!1):!0===t?d(null,!0):(h++,void f())})})()},me),function(e,t,r){function n(e){return e=pe(e),r.warn("Usage error. "+e),new Error("Bugsnag usage error. "+e)}var o,i,a=0;switch(typeof e){case"string":"string"==typeof t?(o=n("string/string"),i={metaData:{notifier:{notifyArgs:[e,t]}}}):(o=new Error(String(e)),a=3);break;case"number":case"boolean":o=new Error(String(e));break;case"function":o=n("function");break;case"object":null!==e&&(M(e)||e.__isBugsnagReport)?o=e:null!==e&&ue(e)?((o=new Error(e.message||e.errorMessage)).name=e.name||e.errorClass,a=3):o=n(null===e?"null":"unsupported object");break;default:o=n("nothing")}return{err:o,errorFramesToSkip:a,_opts:i}}),ue=function(e){return!("string"!=typeof e.name&&"string"!=typeof e.errorClass||"string"!=typeof e.message&&"string"!=typeof e.errorMessage)},de=function(e){return"Bugsnag configuration error\n"+ae(e,function(e){return'"'+e.key+'" '+e.message+" \n    got "+he(e.value)}).join("\n\n")},pe=function(e){return"notify() expected error/opts parameters, got "+e},he=function(e){return"object"==typeof e?JSON.stringify(e):String(e)},fe=x,ge="...";function me(e){if(!(e&&e.name&&e.version&&e.url))throw new Error("`notifier` argument is required");this.notifier=e,this._configured=!1,this._opts={},this.config={},this._delivery={sendSession:function(){},sendReport:function(){}},this._logger={debug:function(){},info:function(){},warn:function(){},error:function(){}},this._plugins={},this._session=null,this.breadcrumbs=[],this.app={},this.context=void 0,this.device=void 0,this.metaData=void 0,this.request=void 0,this.user={},this.BugsnagClient=me,this.BugsnagReport=z,this.BugsnagBreadcrumb=_,this.BugsnagSession=re;var t=this,r=this.notify;this.notify=function(){return r.apply(t,arguments)}}function ye(e){return"[Throws: "+(e?e.message:"?")+"]"}var ve={},be=["events.[].app","events.[].metaData","events.[].user","events.[].breadcrumbs","events.[].request","events.[].device"],xe=["device","app","user"];ve.report=function(e,t){var r=ie(e,null,null,{filterPaths:be,filterKeys:t});if(1e6<r.length&&(delete e.events[0].metaData,e.events[0].metaData={notifier:"WARNING!\nSerialized payload was "+r.length/1e6+"MB (limit = 1MB)\nmetaData was removed"},1e6<(r=ie(e,null,null,{filterPaths:be,filterKeys:t})).length))throw new Error("payload exceeded 1MB limit");return r},ve.session=function(e,t){if(1e6<(t=ie(e,null,null,{filterPaths:xe,filterKeys:t})).length)throw new Error("payload exceeded 1MB limit");return t};var we=i,Ee=function(e){return void 0===e&&(e=window),{sendReport:function(t,r,n,o){void 0===o&&(o=function(){});var i=Se(r,"notify","4",e),a=new e.XDomainRequest;a.onload=function(){o(null)},a.open("POST",i),setTimeout(function(){try{a.send(ve.report(n,r.filters))}catch(e){t.error(e),o(e)}},0)},sendSession:function(t,r,n,o){void 0===o&&(o=function(){});var i=Se(r,"sessions","1",e),a=new e.XDomainRequest;a.onload=function(){o(null)},a.open("POST",i),setTimeout(function(){try{a.send(ve.session(n,r.filters))}catch(e){t.error(e),o(e)}},0)}}},Se=function(e,t,r,n){return ke(e.endpoints[t],n.location.protocol)+"?apiKey="+encodeURIComponent(e.apiKey)+"&payloadVersion="+r+"&sentAt="+encodeURIComponent(we())},ke=Ee._matchPageProtocol=function(e,t){return"http:"===t?e.replace(/^https:/,"http:"):e},_e=i,Ie={init:function(e,t){void 0===t&&(t=window),e.config.beforeSend.unshift(function(e){e.context||(e.context=t.location.pathname)})}};function Me(){return(Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Le=i,Te={init:function(e,t){void 0===t&&(t=navigator),t={locale:t.browserLanguage||t.systemLanguage||t.userLanguage||t.language,userAgent:t.userAgent},e.device=Me({},t,e.device),e.config.beforeSend.unshift(function(e){e.device=Me({},e.device,{time:Le()})})}};function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ae={init:function(e,t){void 0===t&&(t=window),e.config.beforeSend.unshift(function(e){e.request&&e.request.url||(e.request=Ce({},e.request,{url:t.location.href}))})}};function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Pe=o,De=n,Fe={init:function(e){return e.sessionDelegate(Ne)}},Ne={startSession:function(e){var t=e;return t._session=new e.BugsnagSession,e=b(t),Pe(t.config.notifyReleaseStages)&&!De(t.config.notifyReleaseStages,e)?t._logger.warn("Session not sent due to releaseStage/notifyReleaseStages configuration"):t.config.endpoints.sessions?t._delivery.sendSession(t._logger,t.config,{notifier:t.notifier,device:t.device,app:Oe({},{releaseStage:e},t.app),sessions:[{id:t._session.id,startedAt:t._session.startedAt,user:t.user}]}):t._logger.warn("Session not sent due to missing endpoints.sessions configuration"),t}};function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Re={init:function(e){e.config.collectUserIp||e.config.beforeSend.push(function(e){e.user&&void 0===e.user.id&&delete e.user.id,e.user=qe({id:"[NOT COLLECTED]"},e.user),e.request=qe({clientIp:"[NOT COLLECTED]"},e.request)})},configSchema:{collectUserIp:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return!0===e||!1===e}}}},Be={},je=r,Ve=l,Ue=Ue;Be.init=function(e){var t=/^dev(elopment)?$/.test(e.config.releaseStage),r=!1===e.config.consoleBreadcrumbsEnabled;t=(!1===e.config.autoBreadcrumbs||t)&&!0!==e.config.consoleBreadcrumbsEnabled;r||t||je(We,function(t){var r=console[t];console[t]=function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];e.leaveBreadcrumb("Console output",Ve(o,function(e,t,r){var n="[Unknown value]";try{n=String(t)}catch(e){}if("[object Object]"===n)try{n=JSON.stringify(t)}catch(e){}return e["["+r+"]"]=n,e},{severity:0===t.indexOf("group")?"log":t}),"log"),r.apply(console,o)},console[t]._restore=function(){console[t]=r}})},Be.configSchema={consoleBreadcrumbsEnabled:{defaultValue:function(){},validate:function(e){return!0===e||!1===e||void 0===e},message:"should be true|false"}};var Ge,ze,He,We=Ue(["log","debug","info","warn","error"],function(e){return"undefined"!=typeof console&&"function"==typeof console[e]}),Ke=l,$e=/^.*<script.*?>/,Ye=/<\/script>.*$/,Xe=(Ge={init:function(e,t,r){function n(){return t.documentElement.outerHTML}void 0===t&&(t=document),void 0===r&&(r=window);var o="",i=!1,a=r.location.href,s=(o=n(),t.onreadystatechange);t.onreadystatechange=function(){"interactive"===t.readyState&&(o=n(),i=!0),"function"==typeof s&&s.apply(this,arguments)},e.config.beforeSend.unshift(function(e){var t=e.stacktrace[0];if(!t||!t.file||!t.lineNumber)return t;if(t.file.replace(/#.*$/,"")!==a.replace(/#.*$/,""))return t;i&&o||(o=n());var r=["\x3c!-- DOC START --\x3e"].concat(o.split("\n")),s=(r=(c=Xe(r,t.lineNumber-1)).script,c.start),c=Ke(r,function(e,r,n){return 10<Math.abs(s+n+1-t.lineNumber)||(e[""+(s+n+1)]=r),e},{});t.code=c,e.updateMetaData("script",{content:r.join("\n")})})}}).extractScriptContent=function(e,t){for(var r=t;r<e.length&&!Ye.test(e[r]);)r++;for(var n=r;0<r&&!$e.test(e[r]);)r--;return t=r,(n=e.slice(t,n+1))[0]=n[0].replace($e,""),n[n.length-1]=n[n.length-1].replace(Ye,""),{script:n,start:t}},Qe={init:function(e,t){var r,n;void 0===t&&(t=window),"addEventListener"in t&&(r=!1===e.config.interactionBreadcrumbsEnabled,n=!1===e.config.autoBreadcrumbs&&!0!==e.config.interactionBreadcrumbsEnabled,r||n||t.addEventListener("click",function(r){var n,o;try{n=Je(r.target),o=function e(t,r){var n,o=[t.tagName];if(t.id&&o.push("#"+t.id),t.className&&t.className.length&&o.push("."+t.className.split(" ").join(".")),!r.document.querySelectorAll||!Array.prototype.indexOf)return o.join("");try{if(1===r.document.querySelectorAll(o.join("")).length)return o.join("")}catch(t){return o.join("")}return 1<t.parentNode.childNodes.length&&(n=Array.prototype.indexOf.call(t.parentNode.childNodes,t)+1,o.push(":nth-child("+n+")")),1!==r.document.querySelectorAll(o.join("")).length&&t.parentNode?e(t.parentNode,r)+" > "+o.join(""):o.join("")}(r.target,t)}catch(r){o=n="[hidden]",e._logger.error("Cross domain error when tracking click event. See docs: https://tinyurl.com/y94fq5zm")}e.leaveBreadcrumb("UI click",{targetText:n,targetSelector:o},"user")},!0))},configSchema:{interactionBreadcrumbsEnabled:{defaultValue:function(){},validate:function(e){return!0===e||!1===e||void 0===e},message:"should be true|false"}}},Je=function(e){var t=e.textContent||e.innerText||"";return t||"submit"!==e.type&&"button"!==e.type||(t=e.value),(t=t.replace(/^\s+|\s+$/g,""))&&t.length<=140?t:t.slice(0,140-"(...)".length)+"(...)"},Ze={init:function(e,t){var r,n,o;void 0===t&&(t=window),"addEventListener"in t&&(r=!1===e.config.navigationBreadcrumbsEnabled,n=!1===e.config.autoBreadcrumbs&&!0!==e.config.navigationBreadcrumbsEnabled,r||n||(o=function(t){return function(){return e.leaveBreadcrumb(t,{},"navigation")}},t.addEventListener("pagehide",o("Page hidden"),!0),t.addEventListener("pageshow",o("Page shown"),!0),t.addEventListener("load",o("Page loaded"),!0),t.document.addEventListener("DOMContentLoaded",o("DOMContentLoaded"),!0),t.addEventListener("load",function(){return t.addEventListener("popstate",o("Navigated back"),!0)}),t.addEventListener("hashchange",function(r){r=r.oldURL?{from:et(r.oldURL,t),to:et(r.newURL,t),state:rt(t)}:{to:et(t.location.href,t)},e.leaveBreadcrumb("Hash changed",r,"navigation")},!0),t.history.replaceState&&tt(e,t.history,"replaceState",t),t.history.pushState&&tt(e,t.history,"pushState",t),e.leaveBreadcrumb("Bugsnag loaded",{},"navigation")))},configSchema:{navigationBreadcrumbsEnabled:{defaultValue:function(){},validate:function(e){return!0===e||!1===e||void 0===e},message:"should be true|false"}}},et=function(e,t){return(t=t.document.createElement("A")).href=e,""+t.pathname+t.search+t.hash},tt=function(e,t,r,n){var o=t[r];t[r]=function(i,a,s){var c,l,u,d,p;e.leaveBreadcrumb("History "+r,(l=i,u=a,d=s,p=et((c=n).location.href,c),{title:u,state:l,prevState:rt(c),to:d||p,from:p}),"navigation"),"function"==typeof e.refresh&&e.refresh(),e.config.autoCaptureSessions&&e.startSession(),o.apply(t,[i,a].concat(void 0!==s?s:[]))},t[r]._restore=function(){t[r]=o}},rt=function(e){try{return e.history.state}catch(e){}},nt={},ot="request",it=n,at=function(){return[ze.config.endpoints.notify,ze.config.endpoints.sessions]};nt.init=function(e,t){void 0===t&&(t=window);var r=!1===e.config.networkBreadcrumbsEnabled,n=!1===e.config.autoBreadcrumbs&&!0!==e.config.networkBreadcrumbsEnabled;r||n||(ze=e,He=t,st(),dt())},nt.configSchema={networkBreadcrumbsEnabled:{defaultValue:function(){},validate:function(e){return!0===e||!1===e||void 0===e},message:"should be true|false"}};var st=function(){var e;"addEventListener"in He.XMLHttpRequest.prototype&&(e=He.XMLHttpRequest.prototype.open,He.XMLHttpRequest.prototype.open=function(t,r){this["BS~~U"]=r,this["BS~~M"]=t,this["BS~~S"]&&(this.removeEventListener("load",ct),this.removeEventListener("error",lt)),this.addEventListener("load",ct),this.addEventListener("error",lt),this["BS~~S"]=!0,e.apply(this,arguments)})};function ct(){var e;it(at(),this["BS~~U"])||(e={status:this.status,request:this["BS~~M"]+" "+this["BS~~U"]},400<=this.status?ze.leaveBreadcrumb("XMLHttpRequest failed",e,ot):ze.leaveBreadcrumb("XMLHttpRequest succeeded",e,ot))}function lt(){it(at(),this["BS~~U"])||ze.leaveBreadcrumb("XMLHttpRequest error",{request:this["BS~~M"]+" "+this["BS~~U"]},ot)}var ut,dt=function(){var e;"fetch"in He&&(e=He.fetch,He.fetch=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=r[0],i=r[1],a="GET";return i&&i.method&&(a=i.method),new Promise(function(t,n){e.apply(void 0,r).then(function(e){pt(e,a,o),t(e)}).catch(function(e){ht(a,o),n(e)})})})},pt=function(e,t,r){r={status:e.status,request:t+" "+r},400<=e.status?ze.leaveBreadcrumb("fetch() failed",r,ot):ze.leaveBreadcrumb("fetch() succeeded",r,ot)},ht=function(e,t){ze.leaveBreadcrumb("fetch() error",{request:e+" "+t},ot)},ft=u.intRange,gt={init:function(e){var t=0;e.config.beforeSend.push(function(r){return t>=e.config.maxEvents?r.ignore():void t++}),e.refresh=function(){t=0}},configSchema:{maxEvents:{defaultValue:function(){return 10},message:"should be a positive integer 100",validate:function(e){return ft(1,100)(e)}}}};function mt(){return(mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var yt=r,vt=(ut={init:function(e){e.config.beforeSend.push(function(e){e.stacktrace=yt(e.stacktrace,function(e){return mt({},e,{file:vt(e.file)})})})}})._strip=function(e){return"string"==typeof e?e.replace(/\?.*$/,"").replace(/#.*$/,""):e},bt={init:function(e,t){void 0===t&&(t=window);var r=t.onerror;t.onerror=function(t,n,o,i,a){var s,c,l,u;0===o&&/Script error\.?/.test(t)?e._logger.warn("Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/y94fq5zm"):(c={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}},a?a.name&&a.message?s=new e.BugsnagReport(a.name,a.message,xt(e.BugsnagReport.getStacktrace(a),n,o,i),c,a):(s=new e.BugsnagReport("window.onerror",String(a),xt(e.BugsnagReport.getStacktrace(a,1),n,o,i),c,a)).updateMetaData("window onerror",{error:a}):"object"!=typeof t||null===t||n&&"string"==typeof n||o||i||a?(s=new e.BugsnagReport("window.onerror",String(t),xt(e.BugsnagReport.getStacktrace(a,1),n,o,i),c,t)).updateMetaData("window onerror",{event:t}):(l=t.type?"Event: "+t.type:"window.onerror",u=t.message||t.detail||"",(s=new e.BugsnagReport(l,u,e.BugsnagReport.getStacktrace(new Error,1).slice(1),c,t)).updateMetaData("window onerror",{event:t,extraParameters:n})),e.notify(s)),"function"==typeof r&&r.apply(this,arguments)}}},xt=function(e,t,r,n){var o=e[0];return o&&(o.fileName||"string"!=typeof t||o.setFileName(t),!o.lineNumber&&wt(r)&&o.setLineNumber(r),o.columnNumber||(wt(n)?o.setColumnNumber(n):window.event&&wt(window.event.errorCharacter)&&o.setColumnNumber(window.event.errorCharacter))),e},wt=function(e){return"number"==typeof e&&"NaN"!==String.call(e)},Et={},St=l;Et.init=function(e,t){function r(t){var r=t.reason,n=!1;try{t.detail&&t.detail.reason&&(r=t.detail.reason,n=!0)}catch(t){}var o,i={severity:"error",unhandled:!0,severityReason:{type:"unhandledPromiseRejection"}};r&&A(r)?(o=new e.BugsnagReport(r.name,r.message,O.parse(r),i,r),n&&(o.stacktrace=St(o.stacktrace,_t(r),[]))):(o=new e.BugsnagReport(r&&r.name?r.name:"UnhandledRejection",r&&r.message?r.message:'Rejection reason was not an Error. See "Promise" tab for more detail.',[],i,r)).updateMetaData("promise","rejection reason",kt(r)),e.notify(o)}void 0===t&&(t=window),"addEventListener"in t?t.addEventListener("unhandledrejection",r):t.onunhandledrejection=function(e,t){r({detail:{reason:e,promise:t}})}};var kt=function(e){return null==e?"undefined (or null)":M(e)?((t={})[Object.prototype.toString.call(e)]={name:e.name,message:e.message,code:e.code,stack:e.stack},t):e;var t},_t=function(e){return function(t,r){return r.file===e.toString()?t:(r.method&&(r.method=r.method.replace(/^\s+/,"")),t.concat(r))}};function It(){return(It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Mt=r,Lt=It({},d.schema,E);return(E=function(e){"string"==typeof e&&(e={apiKey:e});var t=[];e.sessionTrackingEnabled&&(t.push("deprecated option sessionTrackingEnabled is now called autoCaptureSessions"),e.autoCaptureSessions=e.sessionTrackingEnabled),!e.endpoint&&!e.sessionEndpoint||e.endpoints||(t.push("deprecated options endpoint/sessionEndpoint are now configured in the endpoints object"),e.endpoints={notify:e.endpoint,sessions:e.sessionEndpoint}),e.endpoints&&e.endpoints.notify&&!e.endpoints.sessions&&t.push("notify endpoint is set but sessions endpoint is not. No sessions will be sent.");var r,n=new fe({name:"Bugsnag JavaScript",version:"6.1.0",url:"https://github.com/bugsnag/bugsnag-js"});return n.setOptions(e),n.delivery(window.XDomainRequest?Ee():(void 0===r&&(r=window),{sendReport:function(e,t,n,o){void 0===o&&(o=function(){});try{var i=t.endpoints.notify,a=new r.XMLHttpRequest;a.onreadystatechange=function(){a.readyState===r.XMLHttpRequest.DONE&&o(null)},a.open("POST",i),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Bugsnag-Api-Key",n.apiKey||t.apiKey),a.setRequestHeader("Bugsnag-Payload-Version","4"),a.setRequestHeader("Bugsnag-Sent-At",_e()),a.send(ve.report(n,t.filters))}catch(t){e.error(t)}},sendSession:function(e,t,n,o){void 0===o&&(o=function(){});try{var i=t.endpoints.sessions,a=new r.XMLHttpRequest;a.onreadystatechange=function(){a.readyState===r.XMLHttpRequest.DONE&&o(null)},a.open("POST",i),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Bugsnag-Api-Key",t.apiKey),a.setRequestHeader("Bugsnag-Payload-Version","1"),a.setRequestHeader("Bugsnag-Sent-At",_e()),a.send(ve.session(n,t.filters))}catch(t){e.error(t)}}})),n.configure(Lt),Mt(t,function(e){return n._logger.warn(e)}),n.use(Te),n.use(Ie),n.use(Ae),n.use(Ge),n.use(gt),n.use(Fe),n.use(Re),n.use(ut),!1!==n.config.autoNotify&&(n.use(bt),n.use(Et)),n.use(Ze),n.use(Qe),n.use(nt),n.use(Be),n._logger.debug("Loaded!"),n.config.autoCaptureSessions?n.startSession():n}).Bugsnag={Client:fe,Report:z,Session:re,Breadcrumb:_},E.default=E}),define("main/user_controller",["require","exports","tslib","jquery","lib/urlparser","./account_backend","lib/underscore-shim"],function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computeFirstName=t.UserController=void 0;var s;s=a.UnderscoreModelShim,r.__extends(c,s),c.prototype.desmosLogin=function(e){return i.fetchUser(e).done(this.completeLogin.bind(this))},c.prototype.googleLogin=function(e){this.triggerEvent("googleLogin",e)},c.prototype.appleLogin=function(e){this.triggerEvent("appleLogin",e)},c.prototype.askServerIfLoggedIn=function(){return i.askServerIfLoggedIn().then(this.completeLogin.bind(this),this.logout.bind(this))},c.prototype.driveCallback=function(){return this.askServerIfLoggedIn()},c.prototype.createAccount=function(e){return!1===(e=r.__assign(r.__assign({},e),{name:e.userProvidedName.given})).teacher&&delete e.teacher,i.registerUser(e).done(this.completeLogin.bind(this))},c.prototype.checkPendingDeletion=function(e){return i.checkPendingDeletion(e)},c.prototype.isTeacher=function(){return!!this.teacher},c.prototype.setNameLegacy=function(e){var t=this;return i.setName(e).done(function(e){t.name=e.name||"",t.triggerEvent("userUpdated",void 0),t.triggerEvent("triggerRender",void 0)})},c.prototype.setNameDetail=function(e){var t=this;return i.setNameDetail(e).done(function(e){t.name=e.name||"",t.nameDetail=e.nameDetail,t.triggerEvent("userUpdated",void 0),t.triggerEvent("triggerRender",void 0)})},c.prototype.recoverPassword=function(e){return i.recoverPassword(e)},c.prototype.completeLogin=function(e){this.loggedIn=!0,this.userId=e.userId||"",this.name=e.name||"",this.nameDetail=e.nameDetail,this.email=e.email||"",this.featureFlags=e.featureFlags||[],this.subscriptions=e.subscriptions||[],this.verificationStatus=e.verificationStatus||"",this.privacyConsent=e.privacyConsent,this.teacher=!!e.isTeacher,this.triggerEvent("loginChanged",void 0),this.triggerEvent("userUpdated",void 0),this.triggerEvent("triggerRender",void 0)},c.prototype.logout=function(){var e=this;return this.loggingOut=!0,this.triggerEvent("logout",void 0),this.triggerEvent("triggerRender",void 0),i.logout().done(this.completeLogout.bind(this)).fail(this._onLogoutFailure.bind(this)).always(function(){e.loggingOut=!1,e.triggerEvent("triggerRender",void 0)})},c.prototype.completeLogout=function(){this.loggedIn=!1,this.logoutFailed=!1,this.userId="",this.email="",this.name="",this.subscriptions=[],this.featureFlags=[],this.verificationStatus="",this.privacyConsent=null,this.teacher=!1,this.triggerEvent("loginChanged",void 0),this.triggerEvent("userUpdated",void 0),this.triggerEvent("triggerRender",void 0)},c.prototype._onLogoutFailure=function(){var e=this;this.logoutFailed=!0,this.triggerEvent("triggerRender",void 0),setTimeout(function(){e.logoutFailed=!1,e.triggerEvent("triggerRender",void 0)},2e3)},c.prototype.initiateAccountDeletion=function(e){return i.initiateAccountDeletion(e)},c.prototype.getEmailChangeToken=function(){return o.getParameter(location.search,"changeToken")},c.prototype.initiateEmailChange=function(e){return i.initiateEmailChange(e)},c.prototype.setEmail=function(e){var t=this;return i.setEmail(e).done(function(){t.email=e.newEmail||"",t.verificationStatus="VERIFYING",t.triggerEvent("userUpdated",void 0),t.triggerEvent("triggerRender",void 0)})},c.prototype.setPrivacyConsent=function(e){var t=this;return this.consentingToPrivacy=!0,this.triggerEvent("triggerRender",void 0),i.setPrivacyConsent(e).done(this.completePrivacyConsent.bind(this)).fail(this.onPrivacyConsentFailure.bind(this)).always(function(){t.consentingToPrivacy=!1,t.triggerEvent("triggerRender",void 0)})},c.prototype.completePrivacyConsent=function(e){this.privacyConsent=e.privacyConsent,this.triggerEvent("userUpdated",void 0),this.triggerEvent("triggerRender",void 0)},c.prototype.onPrivacyConsentFailure=function(){var e=this;this.privacyConsentFailed=!0,this.triggerEvent("triggerRender",void 0),setTimeout(function(){e.privacyConsentFailed=!1,e.triggerEvent("triggerRender",void 0)},2e3)},c.prototype.updateFeatureFlags=function(e){var t=this;return i.updateFeatureFlags(e).then(function(e){t.featureFlags=e.featureFlags,t.triggerEvent("userUpdated",void 0)})},c.prototype.getFeatureFlags=function(){return this.featureFlags},c.prototype.hasFeatureFlag=function(e){return this.featureFlags.some(function(t){return t===e})},c.prototype.didPrivacyConsentFail=function(){return!!this.privacyConsentFailed},c.prototype.isConsentingToPrivacy=function(){return!!this.consentingToPrivacy},c.prototype.isLoggedIn=function(){return!!this.loggedIn},c.prototype.isLoggingOut=function(){return!!this.loggingOut},c.prototype.didLogoutFail=function(){return!!this.logoutFailed},c.prototype.getEmail=function(){return this.email},c.prototype.getFirstName=function(){return l(this.name)},c.prototype.getFullName=function(){return this.name},c.prototype.getNameDetail=function(){return this.nameDetail||{given:this.name,source:"legacy"}},c.prototype.getUserId=function(){return this.userId},c.prototype.getSubscriptions=function(){return this.subscriptions},c.prototype.getVerificationStatus=function(){return this.verificationStatus},c.prototype.hasConsentedToCollection=function(){return!!this.privacyConsent},c.prototype.getUserAsJSON=function(){return this.isLoggedIn()?{email:this.email,name:this.name,verificationStatus:this.verificationStatus,subscriptions:this.subscriptions,privacyConsent:this.privacyConsent}:void 0},a=c;function c(){var e=s.call(this)||this;return e.loggedIn=!1,e.logoutFailed=!1,e.loggingOut=!1,e.consentingToPrivacy=!1,e.privacyConsentFailed=!1,e.userId="",e.name="",e.email="",e.teacher=!1,e.featureFlags=[],e.verificationStatus="",e.subscriptions=[],e.privacyConsent=null,n.ajaxSetup({statusCode:{401:function(){return e.logout()}}}),e}function l(e){if(!e)return"";if(e.match(/[\d@_&\.\']/))return e;var t=e.split(" ");return 3<=t[0].length?t[0]:e}t.UserController=a,t.computeFirstName=l}),define("main/calculator_3d_backend",["require","main/graph","./backend"],function(e){"use strict";var t=e("main/graph"),r=e("./backend");return{saveGraph:function(e,n){if(!n.hasOwnProperty("myGraphs"))throw new Error("Argument Error: saveGraph options must specify myGraphs");if(!n.hasOwnProperty("isUpdate"))throw new Error("Argument Error: saveGraph options must specify isUpdate");return(n={parent_hash:e.parentHash,thumb_data:e.thumbURL,graph_hash:e.hash,my_graphs:n.myGraphs,is_update:n.isUpdate,title:e.title||void 0}).state=e.graphData,r.post("/api/v1/calculator_3d/save",n).then(function(r){return t.updateFromSync(e,r),e})},getGraphs:function(){return r.getJSON("/api/v1/calculator_3d/my_graphs")},removeGraph:function(e){return r.post("/api/v1/calculator_3d/my_graphs/remove",{hash:e.hash})}}}),define("main/geometry_backend",["require","main/graph","./backend"],function(e){"use strict";var t=e("main/graph"),r=e("./backend");return{saveConstruction:function(e,n){if(!n.hasOwnProperty("myConstructions"))throw new Error("Argument Error: saveConstruction options must specify myConstructions");if(!n.hasOwnProperty("isUpdate"))throw new Error("Argument Error: saveConstruction options must specify isUpdate");return n={state:e.graphData,parent_hash:e.parentHash,thumb_data:e.thumbURL,hash:e.hash,my_constructions:n.myConstructions,is_update:n.isUpdate,title:e.title||void 0},r.post("/api/v1/geometry/save",n).then(function(r){return t.updateFromSync(e,r),e})},getConstructions:function(){return r.getJSON("/api/v1/geometry/my_constructions")},removeConstruction:function(e){return r.post("/api/v1/geometry/my_constructions/remove",{hash:e.hash})}}}),define("lib/random_hash",["require","exports","module"],function(e,t){"use strict";function r(e){this.bauArc4=new function(e){var t,r,o=this,i=e.length,a=0,s=o.i=o.j=o.m=0;for(o.S=[],o.c=[],i||(e=[i++]);a<n;)o.S[a]=a++;for(a=0;a<n;a++)s=255&s+(t=o.S[a])+e[a%i],r=o.S[s],o.S[a]=r,o.S[s]=t;o.g=function(e){var t=o.S,r=255&o.i+1,i=t[r],a=255&o.j+i,s=t[a];t[r]=s,t[a]=i;for(var c=t[255&i+s];--e;)s=t[a=255&a+(i=t[r=255&r+1])],t[r]=s,t[a]=i,c=c*n+t[255&i+s];return o.i=r,o.j=a,c},o.g(n)}(function(){for(var t=e+"",r=[],n=0,o=0;o<t.length;o++)r[255&o]=255&(n^=19*r[255&o])+t.charCodeAt(o);return r}())}r.prototype.g=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=this.bauArc4.g(1);return t};var n=256;var o,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".toLowerCase();return t.next=function(){if(!o)throw"Random Hash Factory not initialized";return o.next()},t.nextSeed=function(){if(!o)throw"Random Hash Factory not initialized";return o.nextSeed()},t.init=function(e){o=new function(e){if(!e||!e.length||e.length<32)throw new Error("You must supply a seed to RandomHashFactory. It should have at least 128 bits of entropy, but was "+e);var t=new r(e);this.next=function(){for(var e,r=Array(10),n=0;n<10;)(e=t.g(1)[0]>>2)<62&&(r[n]=i[e],n++);return r.join("")},this.nextSeed=function(){for(var e=t.g(16),r=Array(16),n=0;n<16;n++)r[n]=e[n].toString(16),1===r[n].length&&(r[n]="0"+r[n]);return r.join("")}}(e)},t}),define("main/graphs_controller",["require","exports","main/graph","main/calculator_3d_backend","main/geometry_backend","lib/random_hash","tslib","jquery","underscore","main/calculator_backend","lib/parse-json-errors","lib/underscore-shim","bugsnag","analytics/looker"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphsController=void 0;var f;f=d.UnderscoreModelShim,a.__extends(g,f),g.prototype._seedRandom=function(e){e?(e=""+e+(e=new Date).getTime()+e.getMilliseconds(),this.randomHash.init(e)):alert(this.s("account-shell-error-something-went-wrong",{error_num:"77361"}))},g.prototype.requestDeleteGraph=function(e){var t=this._getCachedGraphInfo(e);t.canCancelDelete=!0,t.deleteTimeout=setTimeout(this._deleteGraph.bind(this,e),3e3),t.isDeletingGraph=!0,t.didDeleteGraphFail=!1,this.triggerEvent("listChanged",void 0),this.triggerEvent("triggerRender",void 0)},g.prototype._removeSavedGraphByHash=function(e){this.__savedGraphs=c.filter(this.__savedGraphs,function(t){return t.hash!==e})},g.prototype._removeRecoveryGraphByHash=function(e){this.__recoveryGraphs=c.filter(this.__recoveryGraphs,function(t){return t.hash!==e})},g.prototype._deleteGraph=function(e){var t,r=this,i=e.hash,a=this._getCachedGraphInfo(e);switch(a.canCancelDelete=!1,this.triggerEvent("listChanged",void 0),this.triggerEvent("triggerRender",void 0),this.product){case"graphing":t=l.removeGraph({hash:i,lang:this.getLanguage()});break;case"graphing3d":t=n.removeGraph(e);break;case"geometry":t=o.removeConstruction(e)}return t.done(function(){r._removeSavedGraphByHash(i),r._removeRecoveryGraphByHash(i)}).fail(function(){a.didDeleteGraphFail=!0}).always(function(){a.isDeletingGraph=!1,r.triggerEvent("listChanged",void 0),r.triggerEvent("triggerRender",void 0)})},g.prototype.cancelDeleteGraph=function(e){e=this._getCachedGraphInfo(e),clearTimeout(e.deleteTimeout),e.isDeletingGraph=!1,e.didDeleteGraphFail=!1,e.canCancelDelete=!1,this.triggerEvent("listChanged",void 0),this.triggerEvent("triggerRender",void 0)},g.prototype.millisecondsSinceSync=function(){return this.lastSync?Date.now()-this.lastSync:1/0},g.prototype.clear=function(){this.lastSync=void 0,this.setSavedGraphsFromJSON([]),this.setRecoveryGraphsFromJSON([])},g.prototype.dismissSaveError=function(){this.recentSaveFailure=!1,this.triggerEvent("triggerRender",void 0)},g.prototype._triggerSaveSuccess=function(){var e=this;this.saving=!1,this.recentSaveSuccess=!0,this.lastSaveFailureMessage=void 0,this.triggerEvent("triggerRender",void 0),this.recentSaveTimeout=setTimeout(function(){e.recentSaveSuccess=!1,e.triggerEvent("triggerRender",void 0)},3e3)},g.prototype._triggerSaveError=function(e){e=e.length&&e[0].message?e[0].message:this.s("account-shell-error-unexpected-error"),this.saving=!1,this.recentSaveFailure=!0,this.lastSaveFailureMessage=e,this.triggerEvent("triggerRender",void 0),this.recentSaveTimeout=setTimeout(this.dismissSaveError.bind(this),6e4)},g.prototype._updateGraphData=function(e){var t=JSON.stringify(this.api.getState());e.setProperty("graphData",t),e.setProperty("parentHash",e.hash),e.setProperty("recoveryParentHash",this.recoveryParentHash),t=this.randomHash.next(),e.setProperty("hash",t),this.recoveryParentHash=t,t=this.api.screenshot({width:200,height:200,targetPixelRatio:2}),e.setProperty("thumbURL",t)},g.prototype._clearSaveTimeout=function(){this.recentSaveFailure=!1,this.recentSaveSuccess=!1,this.lastSaveFailureMessage=void 0,this.triggerEvent("triggerRender",void 0),clearTimeout(this.recentSaveTimeout)},g.prototype.save=function(e){var t=this,r=e&&e.newTitle;e=!(!e||!e.saveCopy);r&&(this.currentGraph.title=r),this._clearSaveTimeout(),this.saving=!0,this.triggerEvent("triggerRender",void 0);var i=this.currentGraph.copy();i.recovery&&(i.recovery=!1,h.logJSON("recovered-graph",{product:this.product,timeSincePageload:Date.now()-this.pageLoadTime,payloadJSON:{action:"save"}})),this._updateGraphData(i);var a,s=!e&&this.wasCurrentGraphEverSaved();switch(this.product){case"graphing":a=l.saveGraph(i,{myGraphs:!0,isUpdate:s,lang:this.getLanguage()});break;case"graphing3d":a=n.saveGraph(i,{myGraphs:!0,isUpdate:s});break;case"geometry":a=o.saveConstruction(i,{myConstructions:!0,isUpdate:s})}a.done(function(e){t.currentGraph=e.copy(),t._onCurrentGraphChanged(),t.triggerEvent("clearUnsavedChanges",void 0),t.triggerEvent("triggerRender",void 0),s&&t._removeSavedGraphByHash(e.parentHash),e.draft&&t._removeRecoveryGraphByHash(e.parentHash),t.__savedGraphs.unshift(e),t._addGraphToCache(e),t.triggerEvent("listChanged",void 0),t.triggerEvent("triggerRender",void 0),t._triggerSaveSuccess()}).fail(function(e){e=413===e.status?[{message:t.s("account-shell-error-graph-too-large")}]:u.rawParseJSONErrors(e),t._triggerSaveError(e)})},g.prototype.shareGraph=function(){var e,t=this.currentGraph.copy();switch(this._updateGraphData(t),this.product){case"graphing":e=l.saveGraph(t,{myGraphs:!1,isUpdate:!1,lang:this.getLanguage()});break;case"graphing3d":e=n.saveGraph(t,{myGraphs:!1,isUpdate:!1});break;case"geometry":e=o.saveConstruction(t,{myConstructions:!1,isUpdate:!1})}return e},g.prototype.saveRecoveryGraph=function(){var e=this.currentGraph.copy(),t=JSON.stringify(this.api.getState());return e.setProperty("graphData",t),e.setProperty("parentHash",e.hash),e.setProperty("recoveryParentHash",this.recoveryParentHash),t=this.randomHash.next()+this.randomHash.next(),e.setProperty("hash",t),this.recoveryParentHash=t,t=this.api.screenshot({width:200,height:200,targetPixelRatio:2}),e.setProperty("thumbURL",t),l.saveGraph(e,{myGraphs:!1,isUpdate:!1,recovery:!0,lang:this.getLanguage()})},g.prototype.isCurrentGraphTitled=function(){return!!this.currentGraph.title},g.prototype.isCurrentGraphARecoveryGraph=function(){var e=this.currentGraph;if(!e||!e.hash)return!1;var t=e.hash;return c.any(this.__recoveryGraphs,function(e){return e.hash===t})},g.prototype.wasCurrentGraphEverSaved=function(){var e=this.currentGraph;if(!e||!e.hash)return!1;var t=e.hash;return c.any(this.__savedGraphs,function(e){return e.hash===t})},g.prototype.isSaveEnabled=function(){var e;return!!this.hasUnsavedChanges()||!(null===(e=this.currentGraph)||void 0===e||!e.hash)&&!this.wasCurrentGraphEverSaved()},g.prototype.isRecoveryUIEnabledForProduct=function(){return"graphing"===this.product},g.prototype.fetchRecoveryGraphs=function(){var e,t=this,r=Date.now();switch(this.isLoadingRecoveryGraphs=!0,clearTimeout(this.fetchDurationTimeout),this.triggerEvent("triggerRender",void 0),this.product){case"graphing":e=l.getRecoveryGraphs({lang:this.getLanguage()});break;case"graphing3d":throw new Error("code error: should not fetchRecoveryGraphs for 3d");case"geometry":throw new Error("code error: should not fetchRecoveryGraphs for geometry")}e.done(function(e){t.setRecoveryGraphsFromJSON(e.recoveryGraphs||e.recoveryConstructions)}).fail(function(){t.triggerEvent("onRecoveryGraphsError",void 0)}).always(function(){var e=2e3-(Date.now()-r);t.isLoadingRecoveryGraphs=!1,0<e?t.fetchDurationTimeout=setTimeout(function(){t.triggerEvent("triggerRender",void 0)},e):t.triggerEvent("triggerRender",void 0)})},g.prototype.clearRecoveryGraphsForTests=function(){return l.clearRecoveryGraphsForTests()},g.prototype.refreshGraphs=function(){var e,t=this;switch(this.isLoadingGraphs=!0,this.syncError=!1,this.triggerEvent("triggerRender",void 0),this.product){case"graphing":e=l.getGraphs({lang:this.getLanguage()});break;case"graphing3d":e=n.getGraphs();break;case"geometry":e=o.getConstructions()}e.done(function(e){t.lastSync=Date.now(),t.setSavedGraphsFromJSON(e.myGraphs||e.myConstructions)}).fail(function(){t.syncError=!0,t.triggerEvent("onSyncError",void 0)}).always(function(){t.isLoadingGraphs=!1,t.triggerEvent("triggerRender",void 0)})},g.prototype.getRecoveryGraphs=function(){return this.__recoveryGraphs.slice(0)},g.prototype.getSavedGraphs=function(){return this.__savedGraphs.slice(0)},g.prototype.getExampleGraphs=function(){return this.__exampleGraphs.slice(0)},g.prototype.getEasterEggGraphs=function(e){return c.filter(this.__easterEggGraphs,function(t){return t.easterEgg===e})},g.prototype.getSavedAndExampleGraphs=function(){return this.__savedGraphs.concat(this.__exampleGraphs)},g.prototype.setSavedGraphsFromJSON=function(e){var t=this;e=e||[],this.__savedGraphs=e.map(function(e){var n=r.fromAjax(e);return(e=t._getCachedGraphInfo(n))?e.graph:(t._addGraphToCache(n),n)}),this._lazyLoadGraphStates(),this.triggerEvent("listChanged",void 0),this.triggerEvent("triggerRender",void 0)},g.prototype.setRecoveryGraphsFromJSON=function(e){var t=this;e=e||[],this.__recoveryGraphs=e.map(function(e){var n=r.fromAjax(e);return n.draft=!0,n.recovery=!0,(e=t._getCachedGraphInfo(n))?e.graph:(t._addGraphToCache(n),n)}),this._lazyLoadGraphStates(),this.triggerEvent("listChanged",void 0),this.triggerEvent("triggerRender",void 0)},g.prototype.getSavedGraphsAsJSON=function(){return this.__savedGraphs.map(r.toAjax)},g.prototype._enableLoadingGraphStates=function(){var e=this;clearTimeout(this.__loadNextGraphStateTimeout);var t=function(){e._loadNextGraphState(),e.__loadNextGraphStateTimeout=setTimeout(t,50)};t()},g.prototype._disableLoadingGraphStates=function(){clearTimeout(this.__loadNextGraphStateTimeout)},g.prototype._loadNextGraphState=function(){var e,t=this;this.__currentAjaxRequest||(e=this._dequeueGraphInfo())&&(this.__currentAjaxRequest=this.loadGraphImmediately(e.graph),this.__currentAjaxRequest.always(function(){t.__currentAjaxRequest=void 0}))},g.prototype.loadGraphImmediately=function(e){var t=this,r=s.Deferred();if(e.graphData)return requestAnimationFrame(function(){r.resolve()}),r;var n=e.stateURL,o=this._getCachedGraphInfo(e);return o.isDataLoading=!0,s.getJSON(n).done(function(t){e.graphData=t,o.didDataLoadFail=!1,r.resolve(t)}).fail(function(e){o.didDataLoadFail=!0,r.reject(e)}).always(function(e){o.isDataLoading=!1,t.triggerEvent("listChanged",void 0),t.triggerEvent("triggerRender",void 0)})},g.prototype._getCachedGraphInfo=function(e){return e&&this.__graphInfoCache[e.getCollectionKey()]},g.prototype._addGraphToCache=function(e){this.__graphInfoCache[e.getCollectionKey()]={graph:e}},g.prototype._enqueueGraphInfo=function(e){this.__nextAjaxRequestPriority||(this.__nextAjaxRequestPriority=0),e.ajaxPriority=++this.__nextAjaxRequestPriority},g.prototype._dequeueGraphInfo=function(){var e,t,r=-1/0;for(t in this.__graphInfoCache){var n=this.__graphInfoCache[t],o=n.ajaxPriority;void 0!==o&&r<o&&(r=o,e=n)}return c.isObject(e)&&void 0!==e?(delete e.ajaxPriority,e):null},g.prototype.loadDataForGraph=function(e){if(e){var t=this._getCachedGraphInfo(e);if(!t)throw new Error('graphsController does not have a reference to graph with hash "'+e.hash+'"');t.graph.graphData||(t.isDataLoading=!0,t.didDataLoadFail=!1,this._enqueueGraphInfo(t),this.triggerEvent("triggerRender",void 0))}},g.prototype._lazyLoadGraphStates=function(){for(var e=this.getSavedAndExampleGraphs(),t=Math.min(20,e.length)-1;0<=t;t--)this.loadDataForGraph(e[t])},g.prototype.didDataLoadFail=function(e){return!(!(e=this._getCachedGraphInfo(e))||!e.didDataLoadFail)},g.prototype.didDeleteGraphFail=function(e){return!(!(e=this._getCachedGraphInfo(e))||!e.didDeleteGraphFail)},g.prototype.isDeletingGraph=function(e){return!(!(e=this._getCachedGraphInfo(e))||!e.isDeletingGraph)},g.prototype.canCancelDelete=function(e){return!(!(e=this._getCachedGraphInfo(e))||!e.canCancelDelete)},g.prototype.loadGraph=function(e,t){this.previousGraph=this.currentGraph?this.currentGraph.copy():r(),this.previousGraph.graphData=JSON.stringify(this.api.getState()),delete(e=e.copy()).example,this.api.setState(e.graphData,{forceExpressionsOpen:!0,forceUnsavedChanges:!!e.recovery,allowUndo:t&&t.allowUndo}),this.currentGraph=e,this._onCurrentGraphChanged(),this.recoveryParentHash=this.currentGraph.hash,t&&t.allowUndo||this.triggerEvent("clearUndoRedo",void 0),e.recovery||this.triggerEvent("clearUnsavedChanges",void 0),this.triggerEvent("triggerRender",void 0),this.triggerEvent("onLoadGraph",void 0)},g.prototype.restorePreviousGraph=function(){this.loadGraph(this.previousGraph||r())},g.prototype.clearGraph=function(e){this.loadGraph(r(),e),this.triggerEvent("onClearGraph",void 0)},g.prototype._onCurrentGraphChanged=function(){var e=this.currentGraph;e.title?document.title=e.title:"graphing"===this.product?document.title=this.s("account-shell-heading-graphingcalc-page-title"):"graphing3d"===this.product?document.title=this.s("account-shell-heading-3dcalc-page-title"):document.title=this.s("account-shell-heading-geometry-page-title"),this._replaceState(e)},g.prototype._replaceState=function(e){var t;window.history&&history.replaceState&&(t=e.getURL())&&(window.location.search&&(t+=window.location.search),t!==window.location.href&&history.replaceState(e.hash,e.title,t))},g.prototype.toast=function(e,t){this.triggerEvent("toast",{message:e,opts:t})},g.prototype.clearGraphByUserAction=function(){var e,t=this;if(this.currentGraph.hash)return this.clearGraph(),e="geometry"===this.product?this.s("account-shell-text-new-construction-created"):this.s("account-shell-text-new-graph-created"),void this.toast(e,{undoCallback:function(){t.restorePreviousGraph(),t._replaceState(t.currentGraph)}});var r=this.api.getState();this.clearGraph({allowUndo:!0}),e="geometry"===this.product?this.s("account-shell-text-construction-cleared"):this.s("account-shell-text-graph-cleared"),this.toast(e,{undoCallback:function(){t.api.setState(r,{forceExpressionsOpen:!0,allowUndo:!0})}})},g.prototype.getSaveFailureMessage=function(){return this.lastSaveFailureMessage||""},g.prototype.isSaving=function(){return!!this.saving},g.prototype.didSaveFail=function(){return!!this.recentSaveFailure},g.prototype.didSaveSucceed=function(){return!!this.recentSaveSuccess},g.prototype.isSyncing=function(){return!!this.isLoadingGraphs},g.prototype.didSyncFail=function(){return!!this.syncError},g.prototype.getCurrentDisplayDate=function(){return this.currentGraph.displayDate()},g.prototype.getCurrentGraphTitle=function(){return this.currentGraph.title},g.prototype.getUntitledString=function(){return"geometry"===this.product?this.s("account-shell-text-untitled"):"graphing"===this.product||"graphing3d"===this.product?this.s("account-shell-text-untitled-graph"):(p.notify("Unknown product: "+this.product),"Untitled")},g.prototype.hasUnsavedChanges=function(){return this.api.hasUnsavedChanges()},a=g;function g(e){var t=e.api,n=e.s,o=e.getLanguage,a=e.examplesJSON,s=e.randomSeed,l=(e=e.product,f.call(this)||this);return l.product=e,l.api=t,l.s=n,l.getLanguage=o,l.previousGraph=void 0,l.recoveryParentHash=void 0,l.randomHash=i,l._seedRandom(s),l.__savedGraphs=[],l.__recoveryGraphs=[],a=a.map(r.fromAjax),l.__exampleGraphs=c.filter(a,function(e){return!e.easterEgg}),l.__easterEggGraphs=c.filter(a,function(e){return!!e.easterEgg}),l.__graphInfoCache={},l.__exampleGraphs.forEach(function(e){l._addGraphToCache(e)}),l.__easterEggGraphs.forEach(function(e){l._addGraphToCache(e)}),l.lastSync=void 0,l.lastSaveFailureMessage="",l.recentSaveFailure=!1,l.recentSaveSuccess=!1,l.saving=!1,l.syncError=!1,l.isLoadingGraphs=!1,l.currentGraph=r(),l._enableLoadingGraphStates(),l.pageLoadTime=Date.now(),l}t.GraphsController=a}),define("main/language_controller",["require","exports","lib/i18n","lib/urlparser"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(i.prototype.raw=function(e,t){return r.raw(e,t)},i.prototype.unpack=function(e){return r.unpack(e,this._language)},i.prototype.getLanguage=function(){return this._language},i.prototype.updateUrl=function(e){var t,r,o,i;window.history&&history.replaceState&&(t=location.origin,r=location.pathname,o=location.search,i=location.hash,i=""+t+r+n.setParameter(o,"lang",e)+i,history.replaceState(null,"",i))},i.prototype.setHeaderController=function(e){this.headerController=e},i.prototype.fetchAndSetLanguage=function(e){var t=this;r.fetchLanguage(e).then(function(){t._language=e,t.Calc.updateSettings({language:e}),t.updateUrl(e),t.headerController&&t.headerController.triggerRender()})},i);function i(e){var t=this;this.s=r.createDictionaryLookupFunction(function(){return t._language}),this._language=r.detectLanguage(),this.Calc=e}t.default=o}),define("main/mygraphs_controller",["require","pjs","jquery","underscore_model","lib/aria","lib/conditional_blur","analytics/looker"],function(e){"use strict";var t=e("pjs"),r=e("jquery"),n=e("underscore_model").UnderscoreModel,o=e("lib/aria"),i=e("lib/conditional_blur").default,a=e("analytics/looker").logJSON;return t(n,function(e,t){e.init=function(e,r,n){t.init.call(this),this.graphsController=e,this.api=r,this.s=n,this.recoveryAttempted=!1,this.isOpen=!1,this.pageLoadTime=Date.now()},e.isMygraphsOpen=function(){return this.isOpen},e.hasAttemptedRecovery=function(){return this.recoveryAttempted},e.openMygraphs=function(e){this.recoveryAttempted=!1,this.isOpen=!0,r("body").addClass("resources-open"),a("user-action::open-my-graphs",{product:this.graphsController.product}),o.alert(this.s("account-shell-narration-mygraphs-open-graph")),i(),e&&"keyboard"===e.device&&r(".dcg-action-newblankgraph").focus(),this.triggerEvent("onOpenMygraphs")},e.closeMygraphs=function(){this.isOpen=!1,r("body").removeClass("resources-open")},e.openBlankGraph=function(){this.closeMygraphs(),this.graphsController.clearGraphByUserAction(),this.triggerEvent("triggerRender")},e.onOpenGraph=function(e){e.example||(e.recovery?a("recovered-graph",{product:this.graphsController.product,timeSincePageload:Date.now()-this.pageLoadTime,payloadJSON:{action:"open"}}):a("user-action::open-saved",{product:this.graphsController.product,timeSincePageload:Date.now()-this.pageLoadTime})),e=this.copyGraphWithTranslation(e),this.graphsController.loadGraph(e),this._concludeOpenGraph(e)},e.toast=function(e,t){this.triggerEvent("toast",{message:e,opts:t})},e._concludeOpenGraph=function(e){e=e.title||this.graphsController.getUntitledString(),e=this.s("account-shell-text-mygraphs-opened-graph",{graphTitle:e}),this.toast(e,{undoCallback:function(){this.graphsController.restorePreviousGraph()}.bind(this)}),this.closeMygraphs(),this.triggerEvent("triggerRender")},e.copyGraphWithTranslation=function(e){var t=e.copy();return e.example&&(t.title=this.s(e.title)),t},e.openGraphBehindCover=function(e){var t=this.copyGraphWithTranslation(e);this.graphsController.loadGraph(t);var n=r.Deferred();return"graphing"===this.graphsController.product||"graphing3d"===this.graphsController.product?(this.api._calc.evaluator.notifyWhenSynced(function(){n.resolve()}),setTimeout(function(){n.resolve()},6e3)):"geometry"===this.graphsController.product&&n.resolve(),n.then(function(){this._concludeOpenGraph(t)}.bind(this)),n.promise()},e.getThumbnail=function(){return this.api.screenshot({width:200,height:200,targetPixelRatio:2})}})}),define("tours/tour_controller",["require","pjs","tours/all_tours","lib/urlparser","jquery"],function(e){"use strict";var t=e("pjs"),r=e("tours/all_tours"),n=e("lib/urlparser"),o=e("jquery");return t(function(e,t){e.init=function(e){this.tourManager=e._calc.tourManager,this.Calc=e._calc,this.tourManager.closingMsg=function(e,t){return"<b>"+e+"</b><br>"+this.Calc.controller.s("graphing-tours-label-self-destruct",{seconds:t})}.bind(this)},e.shouldPopupTour=function(e){return 3<this.Calc.controller.getItemCount()||!!(e=r[e].tour(this.Calc)).shouldPopup&&e.shouldPopup()},e.startTour=function(e,t){e&&r[e]&&(e=r[e].tour(this.Calc),this.tourManager.currentTour&&this.tourManager.stopTour(),this.tourManager.startTour(e))},e.startTourFromUrl=function(){var e;o(".dcg-expressionitem").length<2?setTimeout(this.startTourFromUrl.bind(this),100):(e=n.getParameter(location.search,"tour"),this.startTour(e,"url"))},e.setCalc=function(e){this.Calc=e}})}),define("calculator-shell/controller",["require","exports","config","jquery","underscore","flux","browser","keys","bugsnag","lib/i18n","../analytics/looker","../lib/parse-json-errors","../lib/parse-query-params","../api/graphing"],function(e,t,r,n,o,i,a,s,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Controller=void 0;var f=3e5;function g(e){var t=this;this.defaultModalDevice="mouse",this.userControllerState="uninitialized",this.lastIsShowingActionsUI=!1,this.userController=e.userController,this.graphsController=e.graphsController,this.tourController=e.tourController,this.languageController=e.languageController,this.mygraphsController=e.mygraphsController,this.api=e.api,this.raw=e.raw,this.s=e.s,this.getLanguage=e.getLanguage,this.unpack=e.unpack,this.product=e.product,this.SOMETHING_WENT_WRONG=this.s("account-shell-error-unknown"),this._openMenu="none",this._requestedContactForm=!1,this._feedbackMessage="",this.state={},this.countryCode=n("body").attr("data-country"),this.languageController&&this.languageController.setHeaderController(this),this.hookupControllers(),this.hookupHotkeys(),this.dispatcher=new i.Dispatcher,this.dispatch=function(e){return c.leaveBreadcrumb("dispatch::header-controller",{type:e.type}),t.dispatcher.dispatch(e)},this.dispatcher.register(function(e){switch(e.type){case"save-graph":t.saveGraph(e.device,e.payload);break;case"edit-title":t.launchEditTitle();break;case"close-modal":t.closeModal();break;case"toggle-menu":t.setOpenMenu(e.payload);break;case"open-mygraphs":t.mygraphsController.openMygraphs(e);break;case"close-mygraphs":t.mygraphsController.closeMygraphs();break;case"render":break;case"show-modal":t.showModal(e);break;case"show-contact-form":t._requestedContactForm=e.showForm;break;default:return e}return t.triggerRender()}),this.lastRecoveryState={},this.checkRecoveryState()}p.getQueryParams().fastAutoSave&&(f=5e3),g.prototype.triggerRender=function(){},g.prototype.hookupControllers=function(){var e=this;this.mygraphsController.observeEvent("onOpenMygraphs",function(){if(e.isLoggedIn()&&12e4<e.graphsController.millisecondsSinceSync())return e.graphsController.refreshGraphs()}),this.mygraphsController.observeEvent("triggerRender",function(){e.triggerRender()}),this.userController.observeEvent("loginChanged",function(){e.userControllerState="initialized",e.mygraphsController.recoveryAttempted=!1,e.isLoggedIn()?e.graphsController.refreshGraphs():e.graphsController.clear(),e.mustConsentToCollection()&&e.showModal({modal:"consent",device:e.defaultModalDevice})}),this.userController.observeEvent("userUpdated",function(){"consent"===e.getOpenModal()&&e.closeModal(),void 0===r.get("actions")&&e.api instanceof h.default&&e.api._calc.setOption("actions",!!e.isActionsFlagEnabled()||"auto")}),this.userController.observeEvent("triggerRender",function(){e.triggerRender()}),this.graphsController.observeEvent("triggerRender",function(){e.triggerRender()}),this.api instanceof h.default&&this.api._calc.controller.subToChanges(function(){return e.maybeShowAdvancedFeaturesToast()})},g.prototype.hookupHotkeys=function(){var e=this;n(document).on("keydown",function(t){var r=t.altKey,n=t.ctrlKey,o=t.metaKey,i=t.shiftKey;if(a.IS_APPLE?!n&&o&&!r&&!i:n&&!o&&!r&&!i)switch(s.lookupChar(t)){case"S":return e.simpleSave("keyboard"),!1;case"O":return e.dispatch({type:"open-mygraphs",device:"keyboard"}),!1}})},g.prototype.disablePrintAndExport=function(){this._disablePrintAndExport=!0},g.prototype.shouldDisablePrintAndExport=function(){return!!this._disablePrintAndExport},g.prototype.getOpenMenu=function(){return this._openMenu},g.prototype.getModalState=function(){return this._openModal||{modal:"none"}},g.prototype.getOpenModal=function(){var e;return null!==(e=null===(e=this._openModal)||void 0===e?void 0:e.modal)&&void 0!==e?e:"none"},g.prototype.hasOpenModal=function(){return!!this._openModal},g.prototype.getModalDevice=function(){var e;return null===(e=this._openModal)||void 0===e?void 0:e.device},g.prototype.getModalStartingError=function(){var e;return(null===(e=this._openModal)||void 0===e?void 0:e.error)||""},g.prototype.closeModal=function(){this._openModal=this.mustConsentToCollection()?{modal:"consent",device:this.defaultModalDevice}:void 0,this.triggerRender()},g.prototype.closeMenu=function(){this._openMenu="none",this.maybeResetContactForm()},g.prototype.showModal=function(e){this.closeMenu(),this._openModal=e,this.defaultModalDevice=e.device},g.prototype.setOpenMenu=function(e){var t=this.getOpenMenu();this._openMenu=e===t?"none":e,this.maybeResetContactForm()},g.prototype.getFeedbackMessage=function(){return this._feedbackMessage},g.prototype.setFeedbackMessage=function(e){this._feedbackMessage=e},g.prototype.maybeResetContactForm=function(){"help"!==this.getOpenMenu()&&(this.getFeedbackMessage().trim().length||(this.setFeedbackMessage(""),this._requestedContactForm=!1))},g.prototype.getProduct=function(){return this.product},g.prototype.saveRecoveryState=function(){var e=n.Deferred();e.reject();var t=e.promise();return this.userController.isLoggedIn()&&this.graphsController.hasUnsavedChanges()?(e=this.graphsController.api.getState(),o.isEqual(e,this.lastRecoveryState)?t:(t=this.graphsController.saveRecoveryGraph(),this.lastRecoveryState=e,t)):t},g.prototype.checkRecoveryState=function(){var e=this;"graphing"===this.product&&setTimeout(function(){e.checkRecoveryState(),e.saveRecoveryState()},f)},g.prototype.isLoggedIn=function(){return this.userController.isLoggedIn()},g.prototype.hasConsentedToCollection=function(){return this.userController.hasConsentedToCollection()},g.prototype.isInMaintenanceMode=function(){return r.get("maintenance")},g.prototype.getPreviewParams=function(){return r.get("previewMode")?{url:r.get("previewFeedbackUrl"),message:r.get("previewMessage")}:null},g.prototype.isDecimalToFractionEnabled=function(){return!!r.get("decimalToFraction")},g.prototype.isSaveEnabled=function(){return this.graphsController.isSaveEnabled()},g.prototype.saveGraph=function(e,t){this.isLoggedIn()?(this.graphsController.save({newTitle:null==t?void 0:t.title,saveCopy:!(null==t||!t.saveAs)}),this.closeModal(),this.closeMenu()):this.showModal({modal:"signup",device:e})},g.prototype.simpleSave=function(e){void 0===e&&(e=this.defaultModalDevice),this.graphsController.isCurrentGraphTitled()?(this.saveGraph(e||"mouse"),this.dispatch({type:"render"})):this.openSaveDialog({device:e})},g.prototype.openSaveDialog=function(e){void 0===e&&(e={}),this.showModal({modal:"save",device:e.device||this.defaultModalDevice,fromSaveInProgress:e.fromSaveInProgress}),this.dispatch({type:"render"})},g.prototype.launchEditTitle=function(){this.closeMenu(),null!=this.getPreviewParams()||this.isInMaintenanceMode()||(this.isLoggedIn()?"geometry"===this.product?this.showModal({modal:"save",device:this.defaultModalDevice}):this.showModal({modal:"rename",device:this.defaultModalDevice}):this.showModal({modal:"signup",device:this.defaultModalDevice}))},g.prototype.getOpenText=function(){return"graphing"===this.product||"graphing3d"===this.product?this.s("account-shell-button-open-graph"):"geometry"===this.product?this.s("account-shell-button-open-construction"):""},g.prototype.isConsentingToCollection=function(){return this.userController.isConsentingToPrivacy()},g.prototype.privacyConsentFailed=function(){return this.userController.didPrivacyConsentFail()},g.prototype.mustConsentToCollection=function(){return this.isLoggedIn()&&!this.hasConsentedToCollection()},g.prototype.isArtContestEnabled=function(){return!1},g.prototype.isGraphComplexEnoughForContest=function(){if(!(this.api instanceof h.default))return!1;var e=this.api.getState().expressions.list;return 1!==e.length||"expression"!==e[0].type||!!e[0].latex},g.prototype.shouldShowArtContestNudge=function(){return!!this.isArtContestEnabled()&&this.isGraphComplexEnoughForContest()&&this.isLoggedIn()},g.prototype.getLimitedSignupRole=function(){return"student"},g.prototype.wasModalOpenedWithKeyboard=function(){var e;return"keyboard"===(null===(e=this._openModal)||void 0===e?void 0:e.device)},g.prototype.allowSignInWithApple=function(){return!0},g.prototype.getSomethingWentWrongText=function(){return this.s("account-shell-error-unknown")},g.prototype.logJSON=function(e,t){u.logJSON(e,t)},g.prototype.parseJSONErrors=function(e){return d.parseJSONErrors(e)},g.prototype.requestedContactForm=function(){return this._requestedContactForm},g.prototype.isActionsFlagEnabled=function(){return this.userController.hasFeatureFlag("dcg-actions")},g.prototype.maybeShowAdvancedFeaturesToast=function(){var e=this,t=this.api;if(t instanceof h.default){var r=t._calc.controller.areActionsEnabled();if(r&&"uninitialized"===this.userControllerState)return this.userControllerState="loading",void this.userController.askServerIfLoggedIn().then(function(){e.userControllerState="initialized",e.maybeShowAdvancedFeaturesToast()});"loading"!==this.userControllerState&&(this.isActionsFlagEnabled()||(r&&!this.lastIsShowingActionsUI&&this.userController.isLoggedIn()&&t._calc.controller.runAfterDispatch(function(){t._calc.controller.dispatch({type:"toast/show",toast:{message:l.s("account-shell-text-graph-uses-advanced-features"),hideAfter:0,learnMoreCallback:function(){e.dispatch({type:"show-modal",modal:"account-settings",initialTab:"advanced",device:e.defaultModalDevice})}}})}),this.lastIsShowingActionsUI=r))}},p=g,t.Controller=p}),define("main/globalhotkeys",["require","exports","browser","keys","jquery","lib/aria"],function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=0,s=(c.prototype.remove=function(){this.stopListening()},c.prototype.startListening=function(){var e=this;this.isListening||(o(document).on("keydown.dcg-global-keyboard-listener-"+this.__id,function(t){return e.handleGlobalKeydown(t)}),this.isListening=!0)},c.prototype.stopListening=function(){this.isListening&&(o(document).off("keydown.dcg-global-keyboard-listener-"+this.__id),this.isListening=!1)},c.prototype.handleGlobalKeydown=function(e){var t,r=!1;n.isUndo(e)||n.isRedo(e)?(t=this.controller.getRootElt())&&(!document.activeElement||document.activeElement==document.body||o(document.activeElement).closest(t).length)||(r=!0):e.ctrlKey||e.altKey||e.metaKey||e.shiftKey||n.lookup(e)!==n.ESCAPE?n.isHelp(e)?(e.preventDefault(),e.stopPropagation(),r=!0,this.headerController.dispatch({type:"show-modal",modal:"hotkeys",device:"keyboard"})):e.ctrlKey&&(e.altKey||e.metaKey)&&!e.shiftKey&&("A"===n.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),r=!0,this.userController.isLoggedIn()?this.focusElement(o(document).find(".dcg-header .dcg-account-link"),this.controller.s("graphing-calculator-narration-unable-to-activate-account-menu")):(t=o(document).find(".dcg-sign-in"),this.triggerKeyboardTapEvent(t))):"L"===n.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),r=!0,this.focusElement(o(document).find(".dcg-action-language"),this.controller.s("graphing-calculator-narration-unable-to-activate-language-menu"))):"H"===n.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),r=!0,this.focusElement(o(document).find(".dcg-action-help"),this.controller.s("graphing-calculator-narration-unable-to-activate-help-menu"))):"S"===n.lookupChar(e)&&(e.preventDefault(),e.stopPropagation(),r=!0,this.focusElement(o(document).find(".dcg-action-share"),this.controller.s("graphing-calculator-narration-unable-to-activate-share-menu")))):r=this.handleEscape(e),r||this.instanceHotkeys.handleKeydown(e)},c.prototype.handleEscape=function(e){var t=!1,n="none"!==this.headerController.getModalState().modal,i="none"!==this.headerController.getOpenMenu(),a=!!o(".graph-preview").length,s=this.mygraphsController.isMygraphsOpen(),c=!1;return n?(this.headerController.dispatch({type:"close-modal"}),c=!0):i?(this.headerController.dispatch({type:"toggle-menu",payload:"none"}),c=!0):a?(this.triggerKeyboardTapEvent(o(".dcg-action-close-resources:visible")),c=!0):s&&(this.headerController.dispatch({type:"close-mygraphs"}),c=!0),c&&(r.IS_MOBILE||(a||n&&s?n&&s&&o(".new-blank-graph").trigger("focus"):(s=this.controller.getSelectedItem())?this.controller.dispatch({type:"move-focus-to-item",id:s.id}):(s=this.controller.getItemModelByIndex(0))&&this.controller.dispatch({type:"move-focus-to-item",id:s.id})),e.preventDefault(),e.stopPropagation(),t=!0),t},c.prototype.triggerKeyboardTapEvent=function(e){var t=o.Event("dcg-tap");t.device="keyboard",e.trigger(t)},c.prototype.focusElement=function(e,t){e.length?this.triggerKeyboardTapEvent(e):t&&i.alert(t)},c);function c(e,t,r){this.__id=a++,this.controller=e,this.headerController=t,this.userController=t.userController,this.mygraphsController=t.mygraphsController,this.instanceHotkeys=r,this.startListening()}t.default=s}),define("loadcss!main",function(){}),define("main/instantiate-top-level-components",["require","config","underscore","main/user_controller","main/graphs_controller","main/language_controller","main/mygraphs_controller","tours/tour_controller","calculator-shell/controller","main/globalhotkeys","browser","ipad.scrollfix","loadcss!main","api/calculator"],function(e){"use strict";var t=e("config"),r=e("underscore"),n=e("main/user_controller").UserController,o=e("main/graphs_controller").GraphsController,i=e("main/language_controller").default,a=e("main/mygraphs_controller"),s=e("tours/tour_controller"),c=e("calculator-shell/controller").Controller,l=e("main/globalhotkeys").default,u=e("browser"),d=e("ipad.scrollfix");e("loadcss!main");var p=e("api/calculator");return function(e){var h=t.all(),f=JSON.parse(e.exampleGraphsRaw);h.disableScrollFix||d.limitScrollOnDocument(),h.redrawSlowly=!u.IS_MOBILE,h.border=!1,h.disableScrollFix=!0,h.showHamburger=!0,e.calcOptions&&(h=r.extend(h,e.calcOptions));var g=document.getElementById("graph-container"),m=p.Calculator(g,h,e.onCalcReady),y=s(m);window.tourController=y;var v=new i(m),b=new n,x=v.s.bind(v),w=(g=v.raw.bind(v),h=v.unpack.bind(v),new o({api:m,s:x,getLanguage:v.getLanguage.bind(v),examplesJSON:f,randomSeed:e.seed,product:"graphing"}));w.observeEvent("driveAccessError",function(e,t){m._calc.controller.dispatch({type:"toast/show",toast:{message:'Error saving. <a href="'+t.authorizeUrl+'" target="_blank" class="dcg-action-hide">Click here</a> to re-authorize Desmos to save graphs to Google Drive.',toastStyle:"error",hideAfter:0}})});var E=a(w,m,x);w.observeEvent("onClearGraph",function(){m.focusFirstExpression()}),E.observeEvent("toast",function(e,t){var r,n={message:t.message};for(r in t.opts)t.opts.hasOwnProperty(r)&&(n[r]=t.opts[r]);m._calc.controller.dispatch({type:"toast/show",toast:n})}),w.observeEvent("toast",function(e,t){var r,n={message:t.message};for(r in t.opts)t.opts.hasOwnProperty(r)&&(n[r]=t.opts[r]);m._calc.controller.dispatch({type:"toast/show",toast:n})}),w.observeEvent("clearUnsavedChanges",function(){m._calc.controller.dispatch({type:"clear-unsaved-changes"})}),w.observeEvent("clearUndoRedo",function(){m._calc.controller.dispatch({type:"clear-undoredo-history"})});var S,k=!1;m._calc.controller.subToChanges(function(){var e=m._calc.controller.hasUnsavedChanges();e!==k&&_.triggerRender(),k=e}),m.hasUnsavedChanges=function(){return m._calc.controller.hasUnsavedChanges()},!(m.controller.triggerEasterEgg=function(e){var t="betchacant"===e?m.controller.s("account-shell-label-betchacant-loading"):m.controller.s("account-shell-label-loading"),r=w.getEasterEggGraphs(e);0!==r.length&&(S=Math.floor(Math.random()*r.length),m.controller.dispatch({type:"toast/show",toast:{message:t,hideAfter:0,toastStyle:"cover"}}),w.loadGraphImmediately(r[S]).done(function(){E.openGraphBehindCover(r[S])}))})!==t.get("expressions")&&(m.controller.triggerClearGraph=function(){w.clearGraphByUserAction()},m.observeEvent("openDrawer",function(){_.dispatch({type:"open-mygraphs"})}));var _=new c({userController:b,graphsController:w,tourController:y,languageController:v,mygraphsController:E,api:m,s:x,raw:g,unpack:h,getLanguage:v.getLanguage.bind(v),product:"graphing"});return m._calc.globalHotkeys=new l(m._calc.controller,_,m._calc.instanceHotkeys),m._calc.controller.setCanShowKeyboardShortcuts(!0),m.observeEvent("showHotkeysModal",function(){_.dispatch({type:"show-modal",modal:"hotkeys",device:"keyboard"})}),window.userController=b,window.headerController=_,{Calc:m,userController:b,graphsController:w,tourController:y,headerController:_}}}),define("main/calc_desktop",["require","jquery","browser","main/load_data","config","loadcss!print","lib/i18n","main/graph","text!example_graphs","api/calculator","main/external-login-popup","analytics/looker","analytics/usage-monitor","dcgview","calculator-shell/wrapper","calculator-shell/modals","mygraphs/wrapper","main/async_load_state","main/disable-dragdrop-events","vendor/bugsnag","bugsnag","./instantiate-top-level-components"],function(e){"use strict";var t=e("jquery"),r=e("browser"),n=e("main/load_data"),o=e("config");e("loadcss!print");var i=e("lib/i18n"),a=e("main/graph"),s=e("text!example_graphs"),c=e("api/calculator"),l=e("main/external-login-popup"),u=e("analytics/looker").logPageLoad,d=e("analytics/usage-monitor").default,p=e("dcgview"),h=e("calculator-shell/wrapper").ViewWrapper,f=e("calculator-shell/modals").Modals,g=e("mygraphs/wrapper").MygraphsWrapper,m=e("main/async_load_state").asyncLoadStateAtStartup,y=e("main/disable-dragdrop-events").default,v=e("vendor/bugsnag"),b=e("bugsnag");function x(v){var x=e("./instantiate-top-level-components")({seed:n.seed,modalContainer:"body",exampleGraphsRaw:s,calcOptions:{pasteGraphLink:!0}}),w=x.Calc,E=w._calc.controller;E.setBugsnagContext("main-controller"),w.updateSettings({language:v});var S=x.userController,k=x.graphsController,_=x.tourController,I=x.headerController;function M(e,t){return E.s(e,t)}return b.setBeforeSendCB(function(e){var t=E.stateStack;t&&t.serializeForBugsnag&&(e.metaData.states=t.serializeForBugsnag())}),(x=new d({calcController:E,graphsController:k})).trackFeatureUsage("graph-feature","hasSlider"),x.trackFeatureUsage("graph-feature","hasRegression"),x.trackFeatureUsage("graph-feature","hasAction"),x.trackFeatureUsage("graph-feature","expressionErrors"),x.trackFeatureUsage("graph-feature","expressionCount"),x.trackFeatureUsage("graph-feature","folderCount"),x.trackFeatureUsage("graph-feature","imageCount"),x.trackFeatureUsage("graph-feature","tableCount"),x.trackFeatureUsage("graph-feature","textCount"),x.start(),l.listenForLoginRequests(S,M),o.get("no_navigation_warning")||t(window).on("beforeunload",function(){if(w.hasUnsavedChanges())return M("account-shell-text-confirm-leave")}),n.user&&S.completeLogin(n.user,"load"),n.graph||(k.clearGraph(),n.latex&&w.setExpression({latex:n.latex})),u({userId:S.getUserId(),desmosLang:v}),_.startTourFromUrl(),S.getEmailChangeToken()&&I.dispatch({type:"show-modal",modal:"change-email",device:"mouse"}),I.triggerRender=function(){w.viewWrapper&&w.viewWrapper.update(),w.modalsView&&w.modalsView.update(),w.myGraphsWrapper&&w.myGraphsWrapper.update(),S.getEmailChangeToken()&&"change-email"!==I.getOpenModal()&&history.replaceState(null,null,document.location.pathname)},w.viewWrapper=p.mountToNode(h,document.getElementById("dcg-header-container"),{controller:function(){return I}}),w.modalsView=p.mountToNode(f,document.getElementById("dcg-modal-container"),{controller:function(){return I}}),w.myGraphsWrapper=p.mountToNode(g,document.getElementById("mygraphs-container"),{controller:p.const(I),makeAPI:function(e){return new c.Calculator(e,{settingsMenu:!1,keypad:!1,zoomButtons:!1,branding:!1,border:!1,disableScrollFix:!0,expressions:!1})}}),!r.IS_ANDROID||r.IS_CHROME||r.IS_FIREFOX||I.dispatch({type:"show-modal",modal:"unsupported-browser"}),document.location.search.match(/(\?|\&)create_account/)?(history.replaceState(null,null,document.location.pathname),S.isLoggedIn()?E.dispatch({type:"toast/show",toast:{message:M("account-shell-text-logged-in")}}):I.dispatch({type:"show-modal",modal:"signup",device:"mouse"})):document.location.search.match(/(\?|\&)login/)?(history.replaceState(null,null,document.location.pathname),S.isLoggedIn()?E.dispatch({type:"toast/show",toast:{message:M("account-shell-text-logged-in")}}):I.dispatch({type:"show-modal",modal:"login"})):document.location.search.match(/(\?|\&)reset_password/)&&(history.replaceState(null,null,document.location.pathname),I.dispatch({type:"show-modal",modal:"recover-password"})),window.matchMedia&&window.matchMedia("print").addListener(function(e){e.matches?E.dispatch({type:"enter-printmode"}):E.dispatch({type:"exit-printmode"})}),y(t(document)),m(n.graph,i.s).then(function(e){return e&&e.state&&k.loadGraph(a.fromAjax(e)),w})}o.get("testing")||b.init(v);var w=i.detectLanguage();return i.fetchLanguage(w).then(function(){return x(w)},function(){return x("en")})}),define("main/noconflict",["require","jquery","underscore"],function(e){"use strict";var t=e("jquery"),r=e("underscore");return"undefined"==typeof Desmos&&(Desmos={}),function(){Desmos.$=t,Desmos._=r,Desmos.$.noConflict(!0)}}),define("toplevel/calculator_desktop",["require","testbridge","touchtracking","main/calc_desktop","main/noconflict"],function(e){"use strict";e("testbridge"),e("touchtracking").monitor(document.body);var t=e("main/calc_desktop");return e("main/noconflict")(),t});
    </script>
    <script>
      require([
        "toplevel/calculator_desktop",
        "testbridge",
        "jquery",
      ], function (calcPromise, TestBridge, $) {
        calcPromise.then(function (calc) {
          $(".dcg-loading-div-container").hide();
          window.Calc = calc;
          TestBridge.ready();
        });
      });
    </script>
  

<p aria-live="assertive" aria-atomic="true" class="dcg-aria-alert"></p></body></html>